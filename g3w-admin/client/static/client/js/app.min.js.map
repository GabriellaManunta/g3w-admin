{"version":3,"sources":["build.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","noop","inserted","cache","insert","css","elem","document","createElement","setAttribute","textContent","styleSheet","cssText","getElementsByTagName","appendChild","removeChild","2","_interopRequireDefault","obj","__esModule","default","_constant","_constant2","_applicationState","_applicationState2","_application","_application2","_InputG3W","_InputG3W2","_InputG3WFormInputs","_InputG3WFormInputs2","_inputservice","_inputservice2","_FormBody","_FormBody2","_FormFooter","_FormFooter2","_C3XYLine","_C3XYLine2","_catalogLayers","_catalogLayers2","_data","_data2","_editing","_editing2","_sessions","_sessions2","_iframePlugin","_iframePlugin2","_mapLayers","_mapLayers2","_plugins","_plugins2","_projects","_projects2","_relations","_relations2","_tasks","_tasks2","_workflows","_workflows2","_api","_api2","_router","_router2","_gui","_gui2","_mixins","_mixins2","G3WObject","utils","geoutils","i18n","Server","Session","Editor","Geom","_require","Geometry","Project","LayersStoreRegistry","LayersStore","Layer","LayerFactory","TableLayer","VectorLayer","ImageLayer","WmsLayer","XYZLayer","MapLayer","Feature","FeaturesStore","OlFeaturesStore","Filter","Expression","Plugin","PluginService","Task","Step","Flow","Workflow","Panel","ControlFactory","ComponentsFactory","FieldsService","Component","MetadataComponent","SearchComponent","SearchPanel","PrintComponent","CatalogComponent","MapComponent","ToolsComponent","QueryResultsComponent","FormComponent","FormService","InputsComponents","ChartsFactory","Fields","SearchPanelService","PickFeatureInteraction","PickCoordinatesInteraction","DeleteFeatureInteraction","AreaInteraction","LengthInteraction","g3wolutils","constant","core","ApplicationService","ApplicationState","ApiService","Router","task","TaskService","data","DataRouterService","iframe","IFrameRouterService","errors","parsers","editing","SessionsRegistry","ChangesManager","geometry","project","ProjectsRegistry","map","MapLayersStoreRegistry","catalog","CatalogLayersStoresRegistry","layer","geom","features","filter","relations","RelationsService","interaction","plugin","PluginsRegistry","workflow","WorkflowsStack","input","inputService","gui","GUI","vue","FormComponents","Body","Footer","Inputs","G3wFormInputs","G3WInput","Charts","c3","lineXY","Mixins","services","ol","interactions","measure","controls","info","$script","window","console","initConfig","version","APP_VERSION","platform","name","os","toString","trim","components/C3XYLine.vue","components/FormBody.vue","components/FormFooter.vue","components/InputG3W.vue","components/InputG3WFormInputs.vue","core/editing/editor","core/editing/session","core/errors/parser/servererrorparser","core/expression/inputservice","core/g3wobject","core/i18n/i18n.service","core/layers/features/feature","core/layers/features/featuresstore","core/layers/features/olfeaturesstore","core/layers/filter/expression","core/layers/filter/filter","core/layers/imagelayer","core/layers/layer","core/layers/layerfactory","core/layers/layersstore","core/layers/layersstoresregistry","core/layers/map/maplayer","core/layers/map/wmslayer","core/layers/map/xyzlayer","core/layers/tablelayer","core/layers/vectorlayer","core/plugin/plugin","core/plugin/pluginservice","core/project/project","core/utils/geo","core/utils/ol","core/utils/utils","core/workflow/flow","core/workflow/step","core/workflow/task","core/workflow/workflow","g3w-ol/interactions/areainteraction","g3w-ol/interactions/deletefeatureinteraction","g3w-ol/interactions/lengthinteraction","g3w-ol/interactions/pickcoordinatesinteraction","g3w-ol/interactions/pickfeatureinteraction","gui/catalog/vue/catalog","gui/charts/chartsfactory","gui/component/component","gui/component/componentsfactory","gui/fields/fields","gui/fields/fieldsservice","gui/form/formservice","gui/form/vue/form","gui/inputs/inputs","gui/map/control/factory","gui/map/vue/map","gui/metadata/vue/metadata","gui/panel","gui/print/vue/print","gui/queryresults/vue/queryresults","gui/search/vue/panel/searchpanel","gui/search/vue/panel/searchservice","gui/search/vue/search","gui/tools/vue/tools","mixins","services/api","services/application","services/data","services/editing","services/gui","services/iframe-plugin","services/relations","services/router","services/tasks","services/workflows","store/application-state","store/catalog-layers","store/map-layers","store/plugins","store/projects","store/sessions","3","Object","defineProperty","value","server","client","_i18n","tools","plugins","undefined","_locales","_locales2","apptitle","supportedLanguages","resources","debug","local","urls","baseurl","ows","api","initconfig","config","merge","type","../locales","4","LOCAL_ITEM_IDS","FONT_AWESOME_ICONS","API_BASE_URLS","ZINDEXES","VIEWPORT","TOC_THEMES_INIT_STATUS","TOC_LAYERS_INIT_STATUS","TIMEOUT","SEARCH_RETURN_TYPES","SEARCH_ALLVALUE","QUERY_POINT_TOLERANCE","PRINT_SCALES","PRINT_RESOLUTIONS","PRINT_FORMATS","MAP_SETTINGS","LOCALSTORAGE_EXTERNALWMS_ITEM","LIST_OF_RELATIONS_ID","LIST_OF_RELATIONS_TITLE","GEOMETRY_TYPES","GEOMETRY_FIELDS","FILTER_EXPRESSION_OPERATORS","FILTER_OPERATORS","G3W_FID","EPSG","DOWNLOAD_FORMATS","DEFAULT_EDITING_CAPABILITIES","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","_version","_version2","download","format","url","download_gpkg","download_gpx","download_csv","download_xls","download_raster","gte","lte","NOT","eq","gt","lt","IN","NOT IN","LIKE","ILIKE","AND","OR","ltgt","ilike","like","POINT","POINTZ","POINTM","POINTZM","POINT25D","MULTIPOINT","MULTIPOINTZ","MULTIPOINTM","MULTIPOINTZM","MULTIPOINT25D","LINESTRING","LINESTRINGZ","LINESTRINGM","LINESTRINGZM","LINESTRING25D","LINE","LINEZ","LINEM","LINEZM","LINE25D","MULTILINESTRING","MULTILINESTRINGZ","MULTILINESTRINGM","MULTILINESTRINGZM","MULTILINESTRING25D","MULTILINE","MULTILINEZ","MULTILINEM","MULTILINEZM","MULTILINE25D","POLYGON","POLYGONZ","POLYGONM","POLYGONZM","POLYGON25D","MULTIPOLYGON","MULTIPOLYGONZ","MULTIPOLYGONM","MULTIPOLYGONZM","MULTIPOLYGON25D","GEOMETRYCOLLECTION","GEOMETRYCOLLECTIONZ","GEOMETRYCOLLECTIONM","GEOMETRYCOLLECTIONZM","GEOMETRYCOLLECTION25D","ZOOM","maxScale","ANIMATION","duration","LAYER_POSITIONS","getPositions","label","unit","resize","min","content","usermessage","tool","CRS","change-map","file","marker","relation","search","print","info-circle","globe","mail","mobile","fax","user","bars","uncheck","check","filluncheck","table","trash","trash-o","pencil","ellips-h","ellips-v","arrow-up","arrow-down","arrow-left","arrow-right","resize-h","resize-v","resize-default","caret-up","caret-down","caret-left","caret-right","empty-circle","cloud-upload","spinner","minus","minus-square","plus","plus-circle","plus-square","grid","home","folder","sign-out","close","time","calendar","list","link","unlink","eye","eye-close","save","pdf","image","video","unknow","zip","text","excel","xls","gpx","gpkg","shapefile","csv","geotiff","ppt","circle","calculator","picture","keyboard","file-download","copy","draw","chart","chart-line","chart-area","chart-pie","run","warning","alert","crosshairs","success","back","file-upload","wifi","mouse","copy-paste","vector-square","credits","invert","clear","palette","layers","sign-in","language","pin","square","move","moon","sun","refresh","pause","step-backward","fast-backward","step-forward","fast-forward","crop","exit","slider","bookmark","SPATIALBOOKMARKS","id","../version","5","_asyncToGenerator","fn","gen","apply","this","Promise","resolve","reject","step","arg","error","done","then","err","BaseService","_this","onbefore","getCurrentProject","proto","handleRequest","request","handleResponse","_ref","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","stop","_x","getSelectedExternalLayers","_ref2","_ref2$type","getService","getExternalSelectedLayers","getEmptyRequest","hasExternalLayerSelected","_ref3","_ref3$type","6","_defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","Array","isArray","arr2","from","options","setters","_save","addFeature","feature","_addFeature","updateFeature","_updateFeature","deleteFeature","_deleteFeature","setFeatures","_setFeatures","getFeatures","_getFeatures","base","_filter","bbox","_allfeatures","_layer","_featuresstore","getType","LayerTypes","TABLE","_started","_noteditablefileds","getEditingNotEditableFields","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","push","TypeError","inherit","_canDoGetFeaturesRequest","doRequest","VECTOR","extent","containsExtent","extend","getEditingSource","getSource","_applyChanges","items","reverse","execute","setChanges","getLayer","setLayer","removeNotEditablePropriertiesFromFeature","forEach","field","unset","_cloneFeatures","clone","_addFeaturesFromServer","addFeatures","_doGetFeaturesRequest","online","d","$","Deferred","promise","fail","revert","readFeatures","rollback","changes","applyChangesToNewRelationsAfterCommit","relationsResponse","relationLayerId","getLayerById","editingLayerSource","getEditingLayer","clearState","applyCommitResponse","result","setFieldValueToRelationField","relationId","ids","_ref2$values","values","getSession","getEditor","getFeatureById","fieldvalue","get","set","_this2","lockids","new_lockids","idobj","clientid","setId","setProperties","properties","entries","_ref4","fatherField","childField","addLockIds","getLockIds","commit","commitItems","_this3","add","keys","layerRelation","getRelations","getRelationByFatherChildren","getId","updates","update","concat","getFatherField","getChildField","start","_this4","readEditingFeatures","_this5","unlock","isStarted","getFeaturesStore","resetEditingSource","getFeaturesCollection","7","History","_maxSteps","_states","state","undo","redo","_current","uniqueId","getLastState","_setState","getRelationStates","layerId","relationStates","relationItems","item","_layerId","insertState","stateId","index","_i2","_state","splice","removeState","removeStates","stateIds","_i3","insertStates","states","_i4","canCommit","canUndo","canRedo","_checkItems","action","newItems","own","dependencies","getFirstState","find","idx","setItemsFeatureIds","unsetnewids","unsetnewid","_this6","indexOf","_clearAll","getState","getCurrentState","_this7","currentState","getCurrentStateIndex","_this8","currentStateIndex","checkCommitItems","commitItem","steps","_","isNull","_getStatesToCommit","_this9","statesToCommit","getUid","isNew","isDeleted","isUpdated","_item","isAdded","8","_start","_stop","saveChangesOnServer","started","getfeatures","_editor","editor","_history","_temporarychanges","register","_typeof","constructor","is3DGeometry","getLastHistoryState","getLastStateId","deleteState","unregister","setEditor","Date","now","updateTemporaryChanges","change","getProperties","pushAdd","removeNotEditableProperties","newFeature","pushDelete","pushUpdate","oldFeature","temporarynewfeatureIndex","findIndex","removeChangesFromHistory","changeIds","moveRelationStatesOwnSession","statesIds","_getCommitItems","getCommitItems","relationSession","New","Old","_filterChanges","temporarychange","unshift","_changes","rollbackDependecies","_serializeCommit","itemsToCommit","commitObj","delete","isRelation","sessionRelation","GeoJSONFormat","GeoJSON","writeFeatureObject","childs_properties","_key","set3DGeometryType","_ref$layerId","editingLayer","geometryType","getGeometryType","_ref2$ids","_ref2$relations","_data$new_relations","new_relations","session","_canStop","clearHistory","getHistory","core/editing/history","9","serverErrorParser","_error","parse","traverseErrorMessage","errorObject","entry","_entry","_entries$find","_ref5","_entries$find2","error_message","_ref6","_ref7","replace","_entries$","_value","_ref$type","responseJSON","message","10","convertFeatureToGEOJSON","handleFilterExpressionFormInput","form_data","_options$layer_id","layer_id","filter_expression","loading","qgs_layer_id","parentData","getData","inputs","parent","formatter","expression","outputs","sent","t0","sort","aKey","bKey","toLowerCase","abrupt","t1","finish","handleDefaultExpressionFormInput","_callee2","_options$layer_id2","default_expression","_context2","11","getFormDataExpressionRequestFromFeature","getVisibility","_ref$feature","contenttype","12","debounce","throttle","_setupListenersChain","debounces","_setupDebounces","throttles","_setupThrottles","EventEmitter","onafter","setter","listener","priority","_onsetter","onceafter","oncebefore","onbeforeasync","un","settersListeners","setterListener","when","async","once","listenerKey","Math","floor","random","fnc","sortBy","after","before","_loop","setterOption","setterFnc","setterFallback","isFunction","fallback","_len","args","_key2","deferred","returnVal","counter","callSetter","onceListenerKeys","afterListeners","abort","beforeListeners","bool","cont","isBoolean","completed","emitEvent","listenerObj","currentCounter","_bool","delay","Function","13","init","appLanguages","plugins18nConfig","i18next","use","i18nextXHRBackend","lng","ns","fallbackLng","jqueryI18next","tName","i18nName","handleName","selectorAttr","targetAttr","optionsAttr","useOptionsAttr","parseDefaultValueFromContent","addI18n","getAppLanguage","getConfig","tPlugin","tPrefix","addI18nPlugin","pluginLanguage","i18nObject","languageObj","addResource","changeLanguage","14","15","BaseIframeService","ready","createFilterFormField","mapService","getComponent","getQgsLayerId","_ref$noValue","noValue","searchFeature","search_endpoint","_ref4$data","getSearchEndPoint","_x2","findFeaturesWithGeometry","layersCount","_ref6$qgs_layer_id","_ref6$zoom","zoom","_ref6$highlight","highlight","found","getGeometry","zoomToFeatures","zoomToProjectInitExtent","setLayers","getLayers","setReady","getReady","_callee3","_context3","16","_iframeApp","_iframeApp2","_iframeEditing","_iframeEditing2","app","services/iframe-app","services/iframe-editing","17","BasePluginService","pluginName","dependencyApi","_ref2$layers","isPluginInConfiguration","getPlugin","setDependencyApi","getApi","isReady","getName","getDependecyApi","core/iframe/services/baseservice","18","ARCGISMAPSERVERLayer","BaseLayer","BasesLayers","_makeOlLayer","_config","attributions","crs","projection","getProjectionFromCrs","olLayer","TMS","source_type","core/layers/baselayers/baselayer","g3w-ol/layers/bases","19","isWMS","getWmsUrl","tiled","_mapLayer","WMSLayer","addLayer","Projections","epsg","_registerLoadingEvent","_olLayer","on","emit","getOLLayer","mapState","extraParams","_updateLayer","setAttributions","setVisible","visible","getMapLayer","g3w-ol/projection/projections","20","BaseLayers","OSM","Bing","ARCGISMAPSERVER","WMTS","WMS","./arcgislayer","./binglayer","./osmlayer","./tmslayer","./wmslayer","./wmtslayer","21","BingLayer","vendorkeys","bing","subtype","BING","imagerySet","22","OSMLayer","title","23","TMSLayer","minZoom","maxZoom","24","singleTile","opacity","25","WMTSLayer","matrixSet","style","requestEncoding","26","geometryFields","_uid","_newPrefix","_geometry","property","setGeometryName","getGeometryName","setGeometry","getStyle","setStyle","new","inherits","_setUid","uid","isGeometry","cloneNew","setTemporaryId","setState","setNew","newValue","setFullState","getFullState","getAlphanumericProperties","alphanumericproperties","isVisible","app/constant","27","_features","_provider","provider","_loadedIds","_lockIds","hasFeatureLockByOtherUser","removeFeature","_removeFeature","_clearFeatures","featurestore","_commit","featuresLockedByOtherUser","cloneDeep","setProvider","getProvider","_filterFeaturesResponse","_readFeatures","_options$features","_options$featurelocks","featurelocks","count","featuresToAdd","featureId","added","_filterLockIds","lockid","featureid","toAddLockId","featurelock","addLoadedIds","lockIds","union","lockId","getFeatureByUid","feat","getDataProvider","28","Collection","getLength","getArray","dispatchEvent","featuresArray","_feature","removeAt","insertAt","29","_layerName","layerName","_expression","and","or","_build","not","operator","join","createSingleExpressionElement","attribute","logicop","filterElement","valueExtra","filterOp","filterLogicOperator","filterValue","Number","isNaN","singolequote","split","_filterElements","_value2","_filterOp","_filterValue","_filterElement","createExpressionFromFilterObject","filterElements","rootFilter","_operator","_value3","_field","_value4","fieldElement","createExpressionFromField","_ref2$operator","createExpressionFromFilterArray","inputsLength","substring","createExpressionFromFilter","filterParam","30","_type","setConfig","mergeConfig","getAll","TYPES","all","setExpression","setBBOX","setFids","fids","serialize","JSON","stringify","31","GeojsonLayer","setup","GeojsonMapLayer","getProjection","getCode","core/layers/map/geojson","32","GeoLayerMixin","getScaleFromResolution","_require2","createFeatureFromFeatureObject","_require3","XHR","sanitizeUrl","RESERVERDPARAMETRS","wms","map_crs","multilayerid","multilayer","legendCategories","olSelectionFeatures","geolayer","geometrytype","legend","show","external","checked","hidden","scalebasedvisibility","minscale","maxscale","ows_method","exclude_from_legend","categories","expanded","_sanitizeSourceUrl","getLegendGraphic","_ref$all","legendParams","layout","legendurl","getLegendUrl","setCategories","getCurrentStyle","category","ruleKey","getCategories","clearCategories","clearOlSelectionFeatures","getOlSelectionFeature","updateOlSelectionFeature","featureObject","_mapService","setSelectionFeatures","deleteOlSelectionFeature","getOlSelectionFeatures","addOlSelectionFeature","showAllOlSelectionFeatures","setInversionOlSelectionFeatures","setOlSelectionFeatureByFid","fid","setOlSelectionFeatures","__layerId","sanitizedUrl","reserverParameters","isLayerCheckedAndAllParents","isChecked","parentGroup","setChecked","oldVisibile","changed","isDisabled","disabled","isPrintable","scale","getStyles","styles","current","getOpacity","setCurrentStyle","currentStyleName","setDisabled","resolution","mapUnits","mapScale","isFilterable","setTocHighlightable","getMultiLayerId","getOwsMethod","setProjection","getEpsg","getCrs","getMapCrs","isCached","cache_url","getCacheUrl","hasAxisInverted","axisOrientation","getAxisOrientation","substr","setMapProjection","mapProjection","_mapProjection","getMapProjection","33","baselayer","IMAGE","legendUrl","customParams","mixin","WMSTLayer","LegendService","getLayerForEditing","_project","editableLayer","_ref2$force","force","vectorurl","project_type","isEditable","layerForEditing","setEditingLayer","isBaseLayer","WMSServerTypes","servertype","isLayerProjectionASMapProjection","isExternalWMS","isArcgisMapserver","SourceTypes","_getBaseLayerName","isWmsUseLayerIds","getWMSLayerName","legendMapBoolean","_ref4$type","wmsUrl","getWFSLayerName","getQueryLayerName","useProxy","getInfoFormats","getWMSInfoLayerName","getPrintLayerName","getStringBBox","minx","miny","maxx","maxy","isWfsActive","ows_type","getFullWmsUrl","metadata_wms_url","metadata","wms_url","getCatalogWmsUrl","getMetadata","catalogWmsUrl","getCatalogWfsUrl","getWfsUrl","getQueryUrl","getServerType","ServerTypes","QGIS","getIconUrlFromLegend","layertitle","params","setMapParamstoLegendUrl","getWfsCapabilities","wfscapabilities","capabilities","iframe_internal","isIframe","mapLayer","method","WMST","Mapserver","Geoserver","OGC","core/layers/geolayermixin","core/layers/legend/legendservice","core/layers/map/arcgismapserverlayer","core/layers/map/wmstlayer","34","fields","query","infourl","_options$project","projectRelations","_createRelations","projectType","projectId","suffixUrl","vectorUrl","getVectorUrl","rasterUrl","getRasterUrl","filtertoken","shp","widget","unique","searchParams","I","J","defaultstyle","selected","metadata_querable","isQueryable","onMap","openattributetable","canShowTable","removable","downloadable","isDownloadable","inediting","infoformat","getInfoFormat","infoformats","projectLayer","selection","active","attributetable","pageLength","tochighlightable","featurecount","selectionFids","Set","_layersstore","layersstore","serverType","sourceType","providers","ProviderFactory","build","proxyData","parseAttributes","Relations","getProxyData","setProxyData","clearProxyData","getDataProxyFromServer","proxyParams","changeProxyDataAndReloadFromServer","changeParam","param","isInEditing","setInEditing","getSearchParams","referencedLayer","referencingLayer","getRelationById","getRelationAttributes","relationName","getRelationsAttributes","isChild","isFather","getChildren","getFathers","hasChildren","hasRelations","hasFathers","setAttributeTablePageLength","getAttributeTablePageLength","setFilter","getFilterActive","toggleFilterToken","activeFilterToken","createFilterToken","deleteFilterToken","_x10","_callee4","_context4","setFilterToken","_callee5","_context5","size","has","SELECTION_STATE","ALL","EXCLUDE","fidsout","fidsin","getFilterToken","setSelectionFidsAll","isGeoLayer","setSelection","getSelectionFids","invertSelectionFids","hasSelectionFid","includeSelectionFid","_callee6","createToken","_context6","isSelectionActive","_x12","includeSelectionFids","excludeSelectionFid","_ref8","_callee7","isLastFeatureSelected","_context7","setselectionFidsAll","_x14","excludeSelectionFids","clearSelectionFids","wms_use_layer_ids","getDownloadFilefromDownloadDataType","_ref9","_ref9$data","getShp","getXls","getCsv","getGpx","getGpkg","getGeoTIFF","_ref10","_ref10$data","getUrl","fileDownload","httpMethod","_ref11","_ref11$data","_ref12","_ref12$data","_ref13","_ref13$data","_ref14","_ref14$data","_ref15","_ref15$data","getSourceType","getDataTable","_ref16","_ref16$page","page","_ref16$page_size","page_size","_ref16$ordering","ordering","_ref16$search","_ref16$suggest","suggest","_ref16$formatter","in_bbox","_ref16$custom_params","custom_params","tokens","getTitle","headers","getAttributes","dataTableObject","getFeatureByFids","_callee8","_ref18","_ref18$fids","_ref18$formatter","_context8","vector","searchFeatures","_options$search_endpo","_ref19","_callee9","_options$raw","raw","_options$suggest","queryUrl","_context9","results","getFilterData","_x26","_x27","_callee10","_ref21","_ref21$raw","_ref21$suggest","_ref21$formatter","_context10","feature_count","getFields","getFieldByName","fieldName","getEditingFields","getTableFields","getTableHeaders","getProject","getLayerEditingFormStructure","editor_form_structure","getEditorFormStructure","getFieldsOutOfFormStructure","structure","field_name","hasFormStructure","getCustomStyle","customstyle","isShpDownlodable","isXlsDownlodable","isGpxDownlodable","isGpkgDownlodable","isCsvDownlodable","getDownloadableFormats","download_format","getDownloadUrl","isGeoTIFFDownlodable","_editingLayer","isHidden","setHidden","isModified","modified","getOrigName","origname","isType","setType","isSelected","setSelected","_callee11","_context11","getSelection","getFilter","_ref23","queryEnabled","queryableForCababilities","CAPABILITIES","QUERYABLE","infowhennotvisible","getOws","getTocHighlightable","conditions","isFiltrable","FILTERABLE","conditionalFiltrable","reduce","layer_config_value","condition_attribute_values","isQtimeseries","qtimeseries","EDITABLE","setUrl","_ref24","getUrls","setEditingUrl","setQueryUrl","infolayer","getQueryLayerOrigName","ogcService","getInfoUrl","setInfoFormat","infoFormat","changeAttribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getAttributeLabel","getProviders","getLayersStore","setLayersStore","layerstore","not_show_attributes_table","POSTGIS","ORACLE","WFS","OGR","MSSQL","SPATIALITE","G3WSUITE","changeFieldType","_ref25","_ref25$options","_ref25$reset","reset","changeConfigFieldType","_ref26","_ref26$options","_ref26$reset","resetConfigField","_ref27","isVector","isTable","getFeatureCount","LOCAL","VIRTUAL","CSV","GDAL","WCS","MDAL","VECTOR-TILE","VECTORTILE","GEOJSON","EDITOPS","INSERT","UPDATE","DELETE","core/layers/providers/providersfactory","core/relations/relations","35","layerClass","LayerClass","sourcetype","core/layers/baselayers/baselayers","core/layers/geojson","36","initextent","layerstree","_isQueryable","queryable","_layers","setLayerSelection","setLayerSelected","addLayers","_addLayer","removeLayer","_removeLayer","setQueryable","showOnCatalog","setOptions","removeLayers","getLayersDict","PRINTABLE","VISIBLE","SELECTED","CACHED","SELECTED_OR_ALL","SERVERTYPE","BASELAYER","GEOLAYER","VECTORLAYER","HIDDEN","DISABLED","IDS","isUndefined","filtrable","getBaseLayers","getLayerByName","getLayerAttributes","getLayerAttributeLabel","getGeoLayers","_getAllSiblingsChildrenLayersId","nodeIds","traverse","nodes","node","_getAllParentLayersId","_node","selectLayer","getExtent","getInitExtent","setLayersTree","rootGroup","root","createLayersTree","groupName","full","tocLayersId","lightlayer","groupId","mutually_exclusive","removeLayersTree","getLayersTree","37","LayersStoresRegistry","stores","storesArray","addLayersStore","layersStore","_addLayersStore","removeLayersStore","layerStore","_removeLayersStore","removeLayersStores","_removeLayersStores","storeId","getQuerableLayersStores","getLayersStores","isNil","_storeId","38","ARGISMAPSERVERLegend","_layer$getConfig$sour","layername","serviceUrl","39","arcgismapserver","Legendservice","_ref$options","./arcgismapserverlegend","./wmslegend","40","WMSLegend","width","height","_params$color","color","_params$fontsize","fontsize","_params$transparent","transparent","boxspace","layerspace","_params$layertitle","layertitlespace","symbolspace","iconlabelspace","symbolwidth","symbolheight","itemfontfamily","layerfontfamily","layerfontbold","itemfontbold","layerfontitalic","itemfontitalic","rulelabel","_params$sld_version","sld_version","_options$categories","_options$all","_options$format","LAYER","FORMAT","STYLES","LEGEND_ON","LEGEND_OFF","encodeURIComponent","getContextBaseLegend","_get_LEGEND_ON_LEGEND","get_LEGEND_ON_LEGEND_OFF_Params","41","WMSLAYER","RasterLayers","TiledArgisMapServer","g3w-ol/layers/rasters","42","core/layers/map/vectorlayer","43","allLayers","showSpinnerWhenLoading","_updateLayers","checkLayerDisabled","checkLayersDisabled","setupCustomMapParamsToLegendUrl","44","createOlLayer","createLayerStyle","resetSource","Vector","setSource","_style","_makeStyle","styleConfig","icon","Icon","src","imageSize","stroke","Stroke","fill","Fill","Style","setOLLayer","getVisible","addToMap","45","_objectWithoutProperties","LAYERTYPE","MULTILAYER","_method","withLayers","getGetFeatureInfoUrl","coordinate","getLayerConfigs","_getVisibleLayers","getQueryableLayers","_extraParams$force","visibleLayers","CATEGORIES_LAYERS","OPACITIES","parseInt","prefix","LAYERS","updateParams","46","wmsConfig","representativeLayer","TiledWMSLayer","47","layerOptions","48","GEOJSONDataProvider","_name","Provider","parseFeatures","parser","featureProjection","dataProjection","digestFeaturesForTable","core/layers/providers/provider","49","KMLDataProvider","DataProvider","50","_isReady","_hasFieldsStartWithNotPermittedKey","getTimeoutPromise","handleQueryResponse","responseParser","isValid","handleQueryResponseFromServer","projections","getQueryResponseTimeoutKey","_ref$layers","getTimeoutData","core/utils/parsers","51","providerType","providerClass","ProvidersForServerTypes","Providers","geojson","kml","xml","qgis","wfs","virtual","postgres","oracle","mssql","spatialite","ogr","delimitedtext","wmst","wcs","gdal","vector-tile","vectortile","mdal","./geojsonprovider","./kmlprovider","./qgisprovider","./wfsprovider","./wmsprovider","./xmlprovider","52","QGISProvider","_projections","_queryUrl","_filtertokenUrl","_infoFormat","Parsers","mode","_ref3$data","dataUrl","_ref5$raw","_ref5$suggest","_ref5$formatter","setProjections","_options$filter","layerNames","SERVICE","VERSION","REQUEST","QUERY_LAYERS","INFO_FORMAT","FEATURE_COUNT","FILTER","WITH_GEOMETRY","featuresForLayers","getWidgetData","widgetUrls","unlockUrl","post","jsonCommits","contentType","layerType","urlParams","jsonFilter","_options","_jsonFilter","nofeatures","_jsonFilter2","nofeatures_field","parser_options","featureLock","_urlParams","_loadLayerData","customUrlParameters","_arguments","Obkect","layerCode","noVectorlayerCodes","vectorLayersSetup","_setupVectorLayer","vectorLayersCodes","slice","loadAllVectorsData","_vectorLayersCodes","setVectorLayersCodes","getVectorLayersCodes","reloadVectorData","_createVectorLayerFromConfig","vectorLayer","_getVectorLayerData","vectorDataResponse","setVectorLayerData","_editingApiField","setData","layerCodes","loadedExtent","_loadedExtent","resolvedValue","vectorDataRequests","_loadVectorData","_setCustomUrlParameters","_customUrlParameters","_checkVectorGeometryTypeFromConfig","vectorConfig","layerConfig","_getVectorLayerConfig","vectorConfigResponse","crsLayer","_createVectorLayer","self","_editingMode","setFields","setCrs","lazyRelations","setRelations","setVectorFeaturesLock","getVectorLayerData","_vectorLayersData","getVectorLayersData","vectorLayerData","featureslock","newFeaturesLockIds","differenceBy","getFeatureLocks","newLockId","addLockId","cleanVectorFeaturesLock","cleanFeatureLocks","lockFeatures","_baseUrl","layerApiField","lock","getMode","apiUrl","cleanUpLayers","53","WFSDataProvider","toRawType","_options$reproject","reproject","_options$feature_coun","MAXFEATURES","_options$layers","timeoutKey","_doRequest","featuresForLayer","_featuresForLayer$fea","always","clearTimeout","_post","match","_get","SRSNAME","TYPENAME","OUTPUTFORMAT","filterType","filterConfig","featureRequest","writeGetFeature","featureTypes","_filterConfig$spatial","spatialMethod","children","innerHTML","repeat","queryPromise","status","responseText","54","WMSDataProvider","appendParams","GETFEATUREINFO_IMAGE_SIZE","DPI","getDPI","_getRequestParameters","coordinates","_ref$query_point_tole","query_point_tolerance","getExtentForViewAndSize","x","y","PARAMS_TOLERANCE","bufferGeometry","Polygon","fromCircle","Circle","wkGeometry","WKT","FILTER_GEOM","writeGeometry","FI_POINT_TOLERANCE","FI_LINE_TOLERANCE","FI_POLYGON_TOLERANCE","G3W_TOLERANCE","LEGEND_PARAMS","WIDTH","HEIGHT","layerProjection","_options$size","_options$coordinates","METHOD","test","Content-Type","GET","sourceParam","POST","55","XMLDataProvider","56","clearFeatures","syncSelectionFilterFeatures","setColor","_setColor","_color","_editatbleLayer","getEditingConfig","_ref$constraints","constraints","_ref$capabilities","form","perc","_setOtherConfigParameters","updateItem","setFormPercentage","getFormPercentage","cloneFeatures","setVectorUrl","setProjectType","getColor","isEditingLayer","getEditingStyle","setEditingStyle","getEditingConstrains","getEditingCapabilities","isFieldRequired","required","validate","editable","isPkField","find_field","pk","isEditingFieldEditable","getEditingMediaFields","getFieldsLabel","labels","getDataFormat","getEditingFormat","addEditingConfigFieldOption","getCommitUrl","setCommitUrl","getEditingUrl","getUnlockUrl","setUnlockUrl","getWidgetUrl","setDataUrl","getDataUrl","getConfigUrl","setConfigUrl","setFeaturesStore","featuresstore","setFieldsWithValues","createAttributesFromFields","attributes","getFieldsWithValues","_options$exclude","exclude","_options$get_default_","get_default_value","_configField","forceNull","valid","_valid","value_from_default_value","exclude_values","mutually_valid","empty","createNewFeature","57","VectorMapLayer","getEditingGeometryType","58","_ref$name","_ref$config","getPluginConfig","_ref$service","service","_ref$dependencies","_ref$i18n","_ref$fontClasses","fontClasses","_ref$api","setName","setLocale","setService","setDependencies","addFontClasses","setApi","setHookService","_ready","hookservices","_timeout","setTimeout","removeLoadingPlugin","removeLayout","setPlugin","hook","_hook","getHookService","setLayout","cloneLayout","setCurrentLayout","isCurrentProjectCompatible","getGid","registerPlugin","iscompatible","getDependencyPlugins","pluginsName","getDependencyPlugin","getDependencyPluginsObject","pluginsApiObject","promises","_x6","isTherePlugin","setHookLoading","_ref3$hook","_ref3$loading","setLoading","addToolGroup","_ref4$hook","order","position","group","removeToolGroup","addTools","_ref6$hook","html","_ref6$offline","offline","_ref6$options","_ref6$loading","_ref6$disabled","_ref6$state","groupTools","configs","bind","setToolState","_ref7$state","removeTools","createSideBarComponent","vueComponentObject","_ref8$open","_ref8$collapsible","_ref8$mobile","_ref8$isolate","_ref8$closewhenshowvi","_ref8$iconConfig","_ref8$events","_ref8$sidebarOptions","open","collapsible","isolate","closewhenshowviewportcontent","iconConfig","events","sidebarOptions","componentsFactoryOpts","iconColor","getFontClass","PluginSiderbarComponent","addComponent","removeComponent","unload","clearAllEvents","load","addDependency","dependency","addFontClass","className","Vue","g3wtemplate","fonClasses","fontClass","59","_pluginEvents","_appEvents","currentLayout","getCurrentLayoutName","vm","unwatch","$watch","__current","currentLayoutName","resetCurrentLayout","gid","initEvents","registerWindowEvent","evt","cb","unregisterWindowEvent","subscribeEvent","_ref5$once","owner","triggerEvent","_ref6$params","unsubscribeEvent","removeEvent","unsubscribeAllEvents","loadPlugin","60","PrintService","_currentLayerStore","convertObjectToUrlParams","OUTPUT_FORMATS","jpg","COMMON_REQUEST_PARAMETERS","getAtlasParamsFromOptions","template","_options$download","multiValues","EXPRESSION","EXP_FILTER","TEMPLATE","DOWNLOAD","getParamsFromOptions","rotation","dpi","_options$maps","maps","_options$labels","is_maps_preset_theme","preset_theme","mime_type","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","URL","webkitURL","_url","createObjectURL","onerror","send","_getAtlasParamsFromOptions","_getParamsFromOptions","printAtlas","61","catalog_tab","toc_tab_default","_catalog_tab","toc_layers_init_status","toc_themes_init_status","map_themes","expression_eval","vector_data","_processLayers","crsToCrsObject","_projection","_layersStore","_buildLayersStore","setBaseLayer","baselayers","baseLayer","setSearchEndPoint","_state$search","getAliasUrl","aliasUrl","getActiveCatalogTab","setActiveCatalogTab","tab","context_base_legend","getQueryPointTolerance","getQueryFeatureCount","isQueryMultiLayers","mapcontrol","querymultilayers","getRelationsByLayerId","layer_name_originale","baseLayerId","getBaseLayerId","baseLayerConfig","baseLayerVisibleId","initbaselayer","fixed","overviewprojectgid","WMSUrl","getConfigLayers","setLegendPosition","legend_position","getLegendPosition","getThumbnail","thumbnail","getPrint","getSearches","rasterurl","getOverviewProjectGid","getQgisVersion","qgis_version","setLayersTreePropertiesFromMapTheme","mapThemeConfig","mapThemeLayersTree","groups","map_theme","_ref4$layerstree","getMapThemeFromThemeName","visibility","setCurrentStyleAndResolvePromise","allSettled","_ref6$node","_x8","_layerstree","map_theme_config","theme","getMapThemeConfiguration","_x9","getSpatialBookmarks","bookmarks","62","Relation","uniqueSuffix","father","child","fieldRef","referencedField","referencingField","setTitle","getChild","getFather","isLoading","63","_length","_relationsInfo","fathers","father_child","relationConfig","_createRelationsInfo","relationKey","_clearRelationsInfo","father_children","_reloadRelationsInfo","addRelation","removeRelation","childId","fatherId","core/relations/relation","64","GeometryTypes","removeZValueToOLFeatureGeometry","originalFeatureCoordinates","getCoordinates","setCoordinates","singleLine","singlePolygon","addZValueToOLFeatureGeometry","MULTIPOLYGOZM","getOLGeometry","isMultiGeometry","getAllPointGeometryTypes","isPointGeometryType","getAllLineGeometryTypes","isLineGeometryType","getAllPolygonGeometryTypes","isPolygonGeometryType","type3D","coordinatesToGeometry","geometryClass","MultiPolygon","LineString","MultiLineString","Point","MultiPoint","getDefaultLayerStyle","defaultStyle","radius","styleObj","createFeatureFromCoordinates","createFeatureFromBBOX","fromExtent","createFeatureFromGeometry","_ref6$feature","_feature2","olSource","setOpacity","createWMSLayer","_ref7$layers","wmslayer","createVectorLayerFromGeometry","createVectorLayerFromFeatures","createVectorLayerFromFile","createVectorLayer","separator","errorrows","promiseKmz","mapCrs","KML","vectorSource","_fields","GPX","WMSGetFeatureInfo","extractStyles","row","rowvalues","transform","showUserMessage","hooks","footer","autoclose","buffer","kmlFile","JSZip","arrayBuffer","asText","_x11","t2","createStyleFunctionToVectorLayer","styleFunction","rgba","g","b","setText","Text","font","offsetY","_g3w_options","createSelectedStyle","_ref12$color","_ref12$fill","zIndex","Infinity","fillColor","asArray","asString","getAlphanumericPropertiesFromFeature","getQueryLayersPromisesByBBOX","_ref13$filterConfig","_ref13$feature_count","_ref13$multilayers","multilayers","queriesPromise","getMap","getView","getQueryLayersPromisesByGeometry","queryResponses","queryErrors","layersLenght","layerCrs","_ref14$multilayers","_ref14$filterConfig","_ref14$feature_count","filterGeometry","multiLayers","groupBy","numberRequestd","layersLength","_multilayer","getQueryLayersPromisesByCoordinates","_ref15$feature_count","_ref15$query_point_to","_ref15$multilayers","_ref15$reproject","getSize","getResolution","numberOfRequests","_layers2","rejectedResponses","transformBBOX","sourceCrs","destinationCrs","point1","point2","parseQueryLayersPromiseResponses","responses","getMapLayerById","getMapLayersByFilter","areCoordinatesEqual","coordinates1","coordinates2","getFeaturesFromResponseVectorApi","_ref17","_ref17$type","covertVectorFeaturesToResultFeatures","splitGeometryLine","splitGeometry","lineGeometry","isZType","splitted","splittedSegments","jstsFromWkt","jsts","io","WKTReader","wktFromOl","olFromJsts","OL3Parser","splitLine","read","wktLineString","targetLine","targetCoordinates","targetCoordinatesLength","geometryFactory","GeometryFactory","pointsNotSplitted","endPoint","startPoint","z","segment","createLineString","intersectCoordinates","intersection","splitPoint","lineNewSegment","write","_lineNewSegment","_coordinates","restOfLine","zCoordinates","pointNotSplitted","splitFeatures","_ref18$features","splitfeature","splitterdGeometries","geometries","splitFeature","splitType","featureGeometryType","splittedFeatureGeometries","isMulti","polygonFeature","getPolygons","polygonFeatureGeometry","externalPolygonFeatureGeometry","getLinearRing","holePolygons","getLinearRingCount","holeFeaturesGeometry","holeRing","operation","polygonize","Polygonizer","holyPolygonUnion","toArray","polygon","polygonizer","polygons","difference","intersects","getInteriorPoint","polygonCoordinates","_isMulti","lineFeatureGeometry","getLineStrings","getPointFeaturesfromGeometryVertex","pointFeatures","pop","getVertexLength","vertexLength","isSameBaseGeometryType","geometryType1","geometryType2","isSingleGeometry","singleGeometriesToMultiGeometry","multiGeometryToSingleGeometries","getPoints","convertSingleMultiGeometry","toGeometryType","fromGeometryType","isFromGeometryMulti","isToGeometryMulti","dissolve","_ref20","_ref20$features","_ref20$index","_ref20$clone","featuresLength","dissolvedFeature","jstsdissolvedFeatureGeometry","baseFeature","baseFeatureGeometry","baseFeatureGeometryType","lineMerger","linemerge","LineMerger","addLineString","mergedLineString","getMergedLineStrings","_feature3","dissolvedFeatureGeometry","dissolvedFeatureGeometryType","dissolvedFeatuteGeometryCoordinates","within","geometryToCheck","jstsGeometry","jstsGeometryToCheck","findSelfIntersects","jstsPolygon","validator","IsSimpleOp","isSimpleLinearGeometry","graph","geomgraph","GeometryGraph","cat","ConsistentAreaTester","isNodeConsistentArea","normalizeEpsg","proj4","axisinverted","geographic","ConvertDMToDEG","dms","_ref21$type","dms_Array","degrees","minutes","deg","toFixed","ConvertDEGToDM","_ref22","_ref22$output","output","absolute","abs","ConvertDMSToDEG","_ref23$type","seconds","direction","ConvertDEGToDMS","lat","lon","_ref24$output","minutesNotTruncated","getGeoTIFFfromServer","_options$params","csrfmiddlewaretoken","_options$method","body","geoTIFF","FormData","append","fetch","blob","createOlFeatureFromApiResponseFeature","_feature$properties","sanitizeFidFeature","layerAttributes","featureAttributes","featureAttributesNames","featureAttributesName","_featureAttributesNames","_ref26$wms","distance","c1","c2","sqrt","squaredDistance","x1","y1","x2","y2","dx","dy","closestOnSegment","x0","y0","end","along","_checked","65","INCHES_PER_UNIT","m","DOTS_PER_INCH","obj1","obj2","obj3","center","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","x3","y3","max","createPolygonLayerFromBBox","polygonLayer","reverseGeometry","reverseCoordinates","units","round","getResolutionFromScale","normScale","getMetersFromDegrees","proj","Units","METERS_PER_UNIT","needUseSphereMethods","getUnits","getLengthMessageText","useSphereMethods","sphere","totalLength","transformMeterLength","getAreaMessageText","_ref2$segments","segments","area","getArea","segments_info_meausure","segmentLength","transformMeterArea","formatMeasure","getCurrentMapUnit","createMeasureTooltip","element","tooltip","Overlay","offset","positioning","addOverlay","unbyKey","tooltipCoord","getInteriorPoints","getLastCoordinate","setPosition","tounit","removeMeasureTooltip","removeOverlay","Observable","unByKey","setMeasureTooltipStatic","getElement","setOffset","66","olutils","WORD_NUMERIC_FIELD_ESCAPE","getHandledResponsesFromResponse","_ref$id","x2js","X2JS","jsonresponse","xml_str2json","FeatureCollection","handledResponses","featureMember","originalFeatureMember","featureMemberArrayAndPrefix","__prefix","g3w_fid","__text","_fid","groupFeatures","groupFeaturesByFields","handleWMSMultiLayersResponseFromQGISSERVER","_jsonresponse$Feature","handledResponse","parseLayerFeatureCollection","transformFeatures","mainProjection","invertedAxis","reverseFeaturesCoordinates","_require3$Geometry","layerFeatureCollectionXML","json2xml_str","hasFieldsStartWithNotPermittedKey","numericFields","ori_field","handleXMLStringResponseBeforeConvertToJSON","String","XMLSerializer","serializeToString","originalName","sanitizeLayerName","reg","RegExp","arrayQGS","matchAll","originalField","regex","strangeChar","fromCharCode","sub_index","_jsonresponse$Feature2","contenttypes","application/json","_ref5$layers","_ref5$wms","_require4","layersFeatures","layersId","parseData","defaultDataProjection","geometryName","application/geojson","parserGEOJson","text/html","rawdata","text/plain","text/gml","parserGML","application/vnd.ogc.gml","_ref10$wms","not_supported_format","_ref11$layers","VectorParser","_parseLayerGeoJSON","_parseLayermsGMLOutput","gml","gmlTag1","gmlTag2","boundary","parts","part","isGmlPart","TableParser","_parserJSON","_data$features","67","decimalAdjust","exp","NaN","round10","floor10","ceil10","hashCode","hash","chr","len","charCodeAt","Base64","_keyStr","encode","s","_utf8_encode","charAt","decode","_utf8_decode","getUniqueDomId","basemixin","destination","sourceInstance","hasOwn","object","childCtor","parentCtor","tempCtor","superClass_","me","opt_methodName","var_args","caller","callee","foundCaller","ctor","truefnc","falsefnc","getValueFromG3WObjectEvent","getAjaxResponses","listRequests","requestsLenght","DoneRespones","FailedResponses","trimValue","isURL","_ref$reserverParamete","checkUrl","_params","toUpperCase","_param","uri","keyParams","k","qs","imageToDataURL","_ref2$callback","callback","Image","canvas","context","getContext","naturalHeight","naturalWidth","drawImage","dataURL","toDataURL","capitalize_first_letter","string","_toString","isEmptyObject","lastCall","previousCall","func","timeout","getRandomColor","copyUrl","tempinput","select","execCommand","downloadFile","filename","_ref3$mime_type","temapAncor","dataset","downloadurl","href","click","Blob","json","_x7","downloadCSVLayerFeatures","_ref6$alias","alias","downloadCSV","convertToCSV","str","line","_ref7$filename","_ref7$items","exportedFilenmae","navigator","msSaveBlob","_ref8$timeout","_ref9$params","_ref10$formdata","formdata","getResponseStatusHeaders","_formdata","ajax","processData","htmlescape","_ref11$httpMethod","timeoutId","downloadPromise","createSingleFieldParameter","_ref12$operator","_ref12$logicop","_ref12$search_endpoin","valueLenght","_valueLenght","createFilterFromString","_ref13$search_endpoin","_ref13$filter","stringFilter","regexoperator","regexsinglequote","re","replaceValue","createFilterFormInputs","_ref16$search_endpoin","_ref16$inputs","isLayerArray","filters","_ref17$search_endpoin","_ref17$operator","splitContextAndMethod","_string$split","_string$split2","colorHEXToRGB","convertQGISDateTimeFormatToMoment","datetimeformat","matchDayInDate","sortAlphabeticallyArray","localeCompare","sensitivity","sortNumericArray","ascending","68","InputValidators","validators","float","integer","isSafeInteger","checkbox","datetimepicker","fielddatetimeformat","moment","radio","range","Validator","69","_workflow","queques","Queque","micro","getInputs","getSteps","runStep","setMessages","help","runMicroTasks","onDone","onError","clearQueques","isRunning","core/workflow/queque","70","tasks","addTask","shift","flush","71","_options$inputs","_options$context","_options$task","_options$outputs","escKeyPressEventHandler","_inputs","_task","_outputs","running","registerEscKeyEvent","escKeyUpHandler","_evt$data","unbindEscKeyUp","unbind","bindEscKeyUp","getTask","setInputs","setContext","panic","getHelp","getError","getMessage","setTask","setOutputs","getOutputs","MESSAGES","72","usermessagesteps","setRoot","getUserMessageSteps","setUserMessageSteps","setUserMessageStepDone","73","_options$flow","flow","_options$steps","_options$runOnce","runOnce","_promise","_flow","_steps","_child","_stackIndex","_messages","_userMessageSteps","messagesSteps","createUserMessageStepsFactory","getContextService","setContextService","getStackIndex","addChild","setInput","_setInputs","getFlow","setFlow","addStep","setSteps","getStep","messages","getMessages","clearMessages","_isThereUserMessaggeSteps","clearUserMessagesSteps","getLastStep","getRunningStep","_stopChild","getCurrent","stepsComponent","closable","_resetUserMessaggeStepsDone","closeUserMessage","userMessageSteps","buttonnext","gui/workflow/createUserMessageStepsFactory","74","SPATIALMETHODS","VM","75","AddLayersControl","tipLabel","Control","_layerstore","setMap","getLayersSore","g3w-ol/controls/control","76","AreaIteraction","MeasureControl","AreaControl","clickmap","interactionClass","g3w-ol/controls/measurecontrol","77","_constants","InteractionControl","VALIDGEOMETRIES","BaseQueryPolygonControl","_options$spatialMetho","onSelectlayer","default_options","toggledTool","how","onhover","geometryTypes","g3w-ol/constants","g3w-ol/controls/interactioncontrol","78","_options$name","_options$visible","_options$enabled","enabled","_enabled","eventKeys","positionCode","customClass","mapControlButtonVue","functional","render","h","_class","class","attrs","directives","mapControlButtonDOMElement","$mount","$el","buttonClickHandler","_handleClick","control","_postRender","isClickMap","isToggled","_toggled","setEventKey","eventType","eventKey","originalHandler","resetOriginalHandlerEvent","overwriteEventHandler","handler","getPosition","event","preventDefault","resetControl","getControls","toggle","shiftPosition","hWhere","changelayout","showControl","hideControl","left","controlWidth","outerWidth","newPosition","siblings","each","hide","setEnable","first","toggleClass","_interaction","setActive","getEnable","_visible","g3w-ol/controls/utils","79","_classCallCheck","instance","Constructor","GeocodingControl","placeholder","noresults","notresponseserver","lang","limit","keepOpen","autoComplete","autoCompleteMinLength","viewbox","bounded","fontIcon","Google","Nominatim","containerClass","cssClasses","namespace","inputText","container","GeocoderVueContainer","inputQueryId","autocomplete","btn","val","aria-hidden","inputResetId","lastQuery","registeredListeners","mapClick","showMarker","hideMarker","zoomToGeometry","createControl","_this10","hit","which","keyCode","focus","addClass","clearResults","handleValue","removeClass","addEventListener","q","_this11","isNumber","_q$split","_q$split2","firstChild","_provider$getParamete","getParameters","countrycodes","spin","_providers$index$hand","header","createList","_this12","_ref4$results","ul","createHeaderProviderResults","addressHtml","addressTemplate","address","li","chosen","original","elementVue","nominatim-noresult","place","addressObj","addressOriginal","coord","parseFloat","headerNodeElement","classList","road","building","house_number","city","town","village","country","expand","_this13","glass","collapse","blur","removeAllChildren","_this14","_createClass","defineProperties","props","descriptor","protoProps","staticProps","olControl","isNumeric","classRegex","classname","array","hasClass","_addClass","el","klass","_removeClass","remove","contains","selector","find_all","simpleRe","periodRe","matches","getElementsByClassName","querySelectorAll","getElementById","isElement","HTMLElement","nodeType","nodeName","getAllChildren","tag","isEmpty","emptyArray","anyMatchInArray","some","everyMatchInArrayy","arr1","every","anyItemHasValue","removeAll","collection","parentNode","childNodes","tagName","htm","htmlEscape","attr","frag","createDocumentFragment","transformExtent","settings","addressdetails","_settings","containsXY","neighbourhood","postcode","formatted","display_name","details","google","_settings2","bounds","location","address_components","types","long_name","short_name","./control","80","GeolocationControl","_showMarker","_ref$show","setCenter","toggledKeyEvent","geolocation","Geolocation","tracking","trackingOptions","enableHighAccuracy","81","GeoScreenshotControl","ScreenshotControl","g3w-ol/controls/screenshotcontrol","82","_mapControls","_mapControls2","_options$toggled","toggled","_options$clickmap","_options$interactionC","_options$autountoggle","autountoggle","_options$geometryType","_options$onhover","_options$help","_options$interactionC2","interactionClassOptions","unwatches","listenLayersVisibilityChange","_interactionClass","_autountoggle","_geometryTypes","_onhover","_help","_helpButton","_toolButton","_interactionClassOptions","_createModalHelp","createControlTool","handleChangeSpatialMethod","onSelectLayer","runSpatialQuery","onAddExternalLayer","unWatches","onRemoveExternalLayer","handleSelectedLayer","handleExternalSelectedLayer","checkVisibile","enable","disable","component","_toggledTool$how","getSpatialMethod","methods","watch","setSpatialMethod","created","setCloseUserMessageBeforeSetContent","beforeDestroy","_createToolOnHoverButton","prepend","stopPropagation","showToggledTool","hover","mouseleave","_showModalHelp","showModalDialog","getGeometryTypes","getControlBottom","addClassToControlBottom","controlButton","removeClassToControlBottom","setGeometryTypes","addInteraction","getInteraction","setSelectedLayer","getSelectedLayer","getExternalLayers","unlistenSpatialMethodChange","watchLayer","expOrFn","isSelectedLayerVisible","hasVisibleProjectLayer","hasVisibleExternalLayer","hasVisibleLayers","addExternalLayerToResult","isExternalLayerSelected","store/map-controls","83","LenghtIteraction","LengthControl","84","_map","85","MousePositionControl","MousePosition","86","OLControl","_control","Zoom","ZoomToExtent","ScaleLine","OverviewMap","getOlControl","viewPort","getViewport","previusControls","previusControl","last","previousOffset","right","previousWidth","offsetWidth","hOffset","showHide","87","OnClickControl","_originalonlick","_onclick","onclick","overwriteOnClickEvent","clickHandler","resetOriginalOnClickEvent","controlElement","buttonControl","cliccked","88","layersFilterObject","condition","QueryBBoxControl","_startCoordinate","filterableLayersAvailable","DragBox","checkVisible","boundingExtent","findLayer","closeOpenSideBarComponent","addExternal","isThereVisibleLayerNotSelected","89","QueryByDrawPolygonControl","Draw","excludeSelected","_ref3$error","g3w-ol/controls/basequerypolygoncontrol","90","QueryByPolygonControl","controlQuerableLayers","controlFiltrableLayers","filterableLayers","queryableLayers","_x3","getPolygonFeatureFromCoordinates","listenPolygonLayersChange","_ref7$error","91","QueryControl","eventSingleClickKey","runQuery","92","ResetControl","93","ScaleControl","isMobile","deleteLastCustomScale","select2","option","scales","addCustomTag","trigger","newOption","Option","isMapResolutionChanged","selectedOnClick","tags","dropdownParent","getTargetElement","noResults","minimumResultsForSearch","createTag","newTag","term","isInteger","view","setChangeResolutionHandler","setResolution","_setScales","currentResolution","currentScale","_createControl","controlDomElement","optgroup","optgroup_custom","94","g3w-ol/controls/onclickcontrol","95","StreetViewComponent","GoogleStreetViewApiUrl","StreetViewControl","keyError","_sv","_panorama","_lastposition","_streetViewFeature","streetVectorSource","atan2","pixel","StreetViewService","getPanorama","StreetViewPanorama","imageDateControl","addListener","lnglat","getPixelFromCoordinate","setPov","pitch","heading","latLng","closeContent","showStreetView","_ol$proj$transform","_ol$proj$transform2","setContent","clearMarker","gui/streetview/vue/streetview","96","TOPOFFSET","changeLayoutBottomControl","_ref2$isMobile","previusControlWidth","previousLeftPosition","previousTopPosition","top","elementTopPosition","createControlUserMessageTool","97","ZoomBoxControl","start_coordinate","end_coordinate","98","maphelpers","helpers","g3w-ol/map/maphelpers","99","MeasureInteraction","g3w-ol/interactions/measureinteraction","100","DeleteInteractionEvent","DeleteInteraction","Pointer","handleDownEvent","handleDownEvent_","handleMoveEvent","handleMoveEvent_","handleUpEvent","handleUpEvent_","handleEvent","handleEvent_","previousCursor_","startCursor_","lastCoordinate_","features_","layer_","map_","mapBrowserEvent","originalEvent","lastFeature_","featuresAtPixel_","cursor","intersectingFeature","forEachFeatureAtPixel","includes","101","LengthIteraction","102","MeasureIteraction","_helpTooltip","_measureTooltipElement","_measureTooltip","_featureGeometryChangelistener","_poinOnMapMoveListener","testTooltip","_helpMsg","drawColor","measureStyle","lineDash","_helpTooltipElement","_drawStart","_drawEnd","setDrawMessage","_clearMessagesAndListeners","measureTooltip","off","_keyDownEventHandler","_removeLastPoint","removeLastPoint","dragging","helpMsg","_createHelpTooltip","_createMeasureTooltip","103","PickCoordinatesEventType","PICKED","PickCoordinatesEvent","_centerMap","getCenter","shouldStopEvent","104","PickFeatureEventType","PickFeatureEvent","layers_","pickedFeature_","pickedLayer_","layerFilter_","include","featureFound","layerFilter","hitTolerance","any","105","Tile","basemap","_ref2$visible","_ref2$url","_ref2$source_type","_ref2$crossOrigin","crossOrigin","_ref3$singleTile","_ref3$opacity","_ref4$style","_ref4$format","_ref4$opacity","projectionExtent","resolutions","getWidth","matrixIds","pow","tileGrid","tilegrid","origin","getTopLeft","preload","BingMaps","106","loadImageTileFunction","_ref$method","_ref$sourceOptions","sourceOptions","imageTile","_url$split","_url$split2","getImage","TileState","ERROR","layerObj","_WMSLayer","optionsFromCapabilities","ImageArgisMapServer","ImageArcGISRest","ratio","TileArcGISRest","_options$tiled","_layerObj$iframe_inte","_layerObj$layers","_layerObj$version","_layerObj$sld_version","_layerObj$opacity","maxResolution","TRANSPARENT","SLD_VERSION","imageOptions","TileWMS","ImageWMS","_options$visible2","createXYZ","getResolutions","TileGrid","XYZ","107","MapHelpers","createViewer","opts","_Viewer","defaults","attribution","DragRotate","View","ol3Logo","keyboardEventTarget","Map","destroy","dispose","updateMap","mapObject","updateView","setTarget","zoomTo","setZoom","goTo","animate","panAnimation","zoomAnimation","goToRes","fit","constrainResolution","getZoom","getBBOX","calculateExtent","removeLayerByName","getActiveLayers","activelayers","getLayersNoBase","addBaseLayer","Aerial","changeBaseLayer","../layers/bases","108","Projection","_options$crs","proj4def","_options$crs$geograph","_options$crs$axisinve","defs","_axisOrientation","isInvertedAxisOrientation","getOlProjection","109","isRegistered","cachedProjection","addProjection","registerProjection","./projection","110","CatalogService","prstate","highlightlayers","layerstrees","layersgroups","addExternalLayer","removeExternalLayer","setSelectedExternalLayer","externalLayer","layersStores","addLayersStoreToLayersTrees","layersTree","storeid","createLayersGroup","_ref4$title","_ref4$layers","getMajorQgisVersion","addLayersGroup","layersGroup","tree","changeMapTheme","currentProject","rootNode","changeMapThemeProjectObj","changeProjectView","_x4","_ref6$type","_ref7$type","getExternalLayerById","_ref8$type","111","_interopRequireWildcard","newObj","resizable","mapComponentId","mapcomponentid","Service","setInternalComponent","InternalComponent","internalComponent","listenToMapVisibility","_components2","_Catalog","catalogComponentOptions","_CatalogLayersGroup","catalogLayersGroupComponentOptions","_CatalogTristateTree","catalogTristateTreeComponentOptions","_CatalogLayersLegend","catalogLayersLegendComponentOptions","_CatalogLayersLegendItems","catalogLayersLegendItemsComponentOptions","_components","components/Catalog.vue","components/CatalogLayersGroup.vue","components/CatalogLayersLegend.vue","components/CatalogLayersLegendItems.vue","components/CatalogTristateTree.vue","gui/catalog/catalogservice","store/components","112","CatalogEventHub","113","Chartsfactory","CHARTS","_ref$hooks","_type$split","_type$split2","_type$split2$","library","_type$split2$2","chartType","chartVue","114","VUECOMPONENTSATTRIBUTES","_firstLayout","_options$id","_options$title","_options$open","_options$resizable","_options$info","_options$loading","_options$disabled","_options$closewhensho","sizes","setOpen","_setOpen","_setVisible","reload","_reload","handleEventsComponent","vueComponent","createVueComponent","components","propsData","_service","setInternalComponentTemplate","getOpen","closeWhenViewportContentIsOpen","_events","_open$when","_open$cb","guiEvents","insertComponentAt","removeCompomentAt","popComponent","setComponents","exendComponents","getInternalComponent","internalComponentClass","_options$events","$on","vueObjOptions","addInternalComponentData","overwriteServiceMethod","methodName","overwriteServiceMethods","methodsOptions","extendService","serviceOptions","extendInternalComponent","internalComponentOptions","extendInternalComponentMethods","extendInternalComponentComponents","extendComponents","extendInternalComponentComputed","computed","getInternalTemplate","mount","iCinstance","$nextTick","localize","unmount","$off","$destroy","ismount","$emit","115","buildSidebar","_options$collapsible","_options$isolate","_options$mobile","_options$iconConfig","_options$sidebarOptio","116","matcher","searchItem","modifiedData","errorLoading","searching","inputTooShort","remainingChars","minimum","117","_FieldText","_FieldText2","_FieldLink","_FieldLink2","_FieldImage","_FieldImage2","_FieldGeo","_FieldGeo2","_FieldMedia","_FieldMedia2","_FieldVue","_FieldVue2","simple_field","text_field","link_field","image_field","geo_field","photo_field","media_field","vue_field","components/FieldGeo.vue","components/FieldImage.vue","components/FieldLink.vue","components/FieldMedia.vue","components/FieldText.vue","components/FieldVue.vue","118","URLPattern","PhotoPattern","FieldType","SIMPLE","GEO","LINK","PHOTO","PHOTOLINK","POINTLINK","ROUTE","VUE","fieldValue","photo","isSimple","isLink","isImage","isPhoto","isVue","_ref2$field","resetConfigFieldType","_ref3$field","./fields","119","eventBus","setInitForm","_setInitForm","setFormStructure","formStructure","formstructure","setFormFields","handleFieldsWithExpression","setupFields","_setupFields","setFormData","setField","addActionsForForm","actions","postRender","formId","_options$buttons","buttons","context_inputs","isnew","_options$footer","headerComponent","layerid","disabledcomponents","currentheaderid","tovalidate","componentstovalidate","filter_expression_fields_dependencies","default_expression_fields_dependencies","changeInput","evaluateFilterExpressionFields","evaluateDefaultExpressionFields","setUpdate","_options$force","expression_dependency_field","_getField","fieldForm","_field$input$options","filter_expression_dependency_fields","_options$filter_expre","_options$filter_expre2","referencing_fields","_options$filter_expre3","referenced_columns","dependency_field","_options$default_expr","_options$default_expr2","_referencing_fields","_options$default_expr3","_referenced_columns","_options$default_expr4","apply_on_update","default_expression_dependency_fields","setCurrentFormPercentage","setValidComponent","getValidComponent","mutually","countNoTEmptyInputName","inputname","previous","min_field","max_field","input_name","addComponents","_component$header","replaceComponent","disableComponent","disableId","disabledId","setCurrentComponentById","setIdHeader","setRootComponent","getRootComponent","isRootComponent","getComponentById","setComponent","addedComponentTo","formcomponent","addedcomponentto","addToValidate","removeToValidate","getEventBus","handleRelation","clearAll","120","vueComponentOptions","addBodyFormComponent","_ref$where","where","addBodyFormComponents","_ref2$components","_ref2$where","addFormComponents","addFormComponent","addDependecyComponents","addComponentBeforeBody","addComponentAfterBody","addComponentBeforeFooter","addComponentAfterFooter","setModal","reloadLayout","_Form","components/Form.vue","121","CheckBoxService","validatorOptions","convertCheckedToValue","convertValueToChecked","valueToCheck","gui/inputs/service","122","_InputCheckbox","CheckBoxInput","components/InputCheckbox.vue","123","_InputColor","TextInput","components/InputColor.vue","124","DateTimePickerService","getLocale","applicationConfig","setValidatorOptions","125","_InputDateTimePicker","DateTimePickerInput","components/InputDateTimePicker.vue","126","FloatService","127","_InputFloat","FloatInput","components/InputFloat.vue","128","_InputBase","_InputBase2","InputServices","Input","baseInputMixin","baseinput","notvalid","_notvalid","setErrorMessage","state.value","destroyed","./services","components/InputBase.vue","129","text_input","texthtml_input","textarea_input","integer_input","string_input","float_input","radio_input","check_input","range_input","datetimepicker_input","unique_input","select_input","media_input","select_autocomplete_input","picklayer_input","color_input","slider_input","lonlat_input","./checkbox/vue/checkbox","./color/vue/color","./datetimepicker/vue/datetimepicker","./float/vue/float","./integer/vue/integer","./lonlat/vue/lonlat","./media/vue/media","./picklayer/vue/picklayer","./radio/vue/radio","./range/vue/range","./select/vue/select","./sliderrange/vue/sliderrange","./text/vue/text","./textarea/vue/textarea","./texthtml/vue/texthtml","./unique/vue/unique","130","IntegerService","131","_InputInteger","IntegerInput","components/InputInteger.vue","132","LonLatService","coordinatebutton","mapEpsg","mapControlToggleEventHandler","toggleGetCoordinate","outputEpsg","eventMapKey","setCoordinateButtonReactiveObject","startToGetCoordinates","stopToGetCoordinates","deactiveMapControls","_coordinate","133","_InputLonLat","LatLontInput","components/InputLonLat.vue","134","MediaService","135","_InputMedia","MediaInput","components/InputMedia.vue","136","PickLayerService","pick_type","ispicked","isPicked","unpick","pick","afterPick","_response$0$data","removeInteraction","137","_InputPickLayer","PickLayerInput","components/InputPickLayer.vue","138","RadioService","139","_InputRadio","RadioInput","components/InputRadio.vue","140","RangeService","_options$state$input$","Validators","setValidator","isValueInRange","core/utils/validators","141","_InputRange","RangeInput","components/InputRange.vue","142","SelectService","_getLayerById","addValue","getKeyByValue","arrayValues","_arrayValues","$value","_ref2$layer_id","_ref2$key","_ref2$value","search_value","143","_InputSelect","SelectInput","components/InputSelect.vue","144","setValue","setEmpty","_validator","getValue","addValueToValues","_getValidatorType","isObject","getValidator","145","InputsServices","textarea","texthtml","media","select_autocomplete","picklayer","lonlat","./checkbox/service","./datetimepicker/service","./float/service","./integer/service","./lonlat/service","./media/service","./radio/service","./range/service","./select/service","./service","./sliderrange/service","./unique/service","146","SliderRangeService","changeInfoMessage","147","_InputSliderRange","components/InputSliderRange.vue","148","_InputText","components/InputText.vue","149","_InputTextArea","TextAreaInput","components/InputTextArea.vue","150","_InputTextHtml","TextHtmlInput","components/InputTextHtml.vue","151","UniqueService","152","_InputUnique","UniqueInput","components/InputUnique.vue","153","OnClikControl","geoScreenshotControl","ControlsFactory","create","ControlClass","CONTROLS","zoombox","zoomtoextent","querybbox","querybypolygon","streetview","scaleline","overview","nominatim","geocoding","addlayers","mouseposition","screenshot","geoscreenshot","querybydrawpolygon","g3w-ol/controls/addlayers","g3w-ol/controls/areacontrol","g3w-ol/controls/geocodingcontrol","g3w-ol/controls/geolocationcontrol","g3w-ol/controls/geoscreenshotcontrol","g3w-ol/controls/lengthcontrol","g3w-ol/controls/mousepositioncontrol","g3w-ol/controls/olcontrol","g3w-ol/controls/querybboxcontrol","g3w-ol/controls/querybydrawpolygoncontrol","g3w-ol/controls/querybypolygoncontrol","g3w-ol/controls/querycontrol","g3w-ol/controls/resetcontrol","g3w-ol/controls/scalecontrol","g3w-ol/controls/streetviewcontrol","g3w-ol/controls/zoomboxcontrol","154","MapService","hidemaps","mapcontrolsalignement","mapcontrolDOM","mapcontrolready","mapcontrolSizes","minWidth","minHeight","mapControl","currentIndex","map_info","mapunits","viewer","maps_container","_layersStoresEventKeys","_keyEvents","g3wobject","eventemitter","_changeMapMapControls","_externalMapLayers","_externalLayers","_externalInteractions","mapBaseLayers","defaultsLayers","highlightLayer","selectionLayer","layersExtraParams","_greyListenerKey","_drawShadow","outer","inner","_howManyAreLoading","_layersLoadingError","_incrementLoaders","showSpinner","_decrementLoaders","hideSpinner","_mapLayerLoadError","notify","keysetCurrentProject","_removeListeners","isSameProject","changeProjectCallBack","_resetView","_setupAllLayers","_checkMapControls","setUpMapOlEvents","who","_setupListeners","_marker","_bboxLayer","_setupCustomMapParamsToLegendUrl","setupControls","_setupControls","addHideMap","_ref$switchable","mainview","switchable","idMap","updateMapView","updateMapLayers","setupViewer","_setupViewer","controlClick","loadExternalLayer","unloadExternalLayer","_onCatalogSelectLayer","catalogSelectedLayer","extraParamsSet","getMapLayers","_setUpEventsKeysToLayersStore","_removeEventsKeysToLayersStore","_wms","WFSProvider","olhelpers","dynamicLegend","keyEvent","keyolchangeresolution","_updateMapView","keyolmoveeend","eventObject","removeListener","showMapSpinner","hideMapSpinner","getScaleFromExtent","getResolutionForExtent","getMapUnits","_addHideMap","_ref2$mainview","view_options","_idMap$map$getSize","_idMap$map$getSize2","setSize","removeHideMap","_showHideMapElement","_ref3$show","createMapImage","background","getMapCanvas","msToBlob","toBlob","getApplicationAttribution","_config$group","header_terms_of_use_link","header_terms_of_use_text","slaveOf","sameLayers","setLayersExtraParams","viewport","isMapHidden","isAxisOrientationInverted","getViewerElement","getGetFeatureInfoUrlForLayer","getMapLayerForLayer","lyr","getVectorLayerFeaturesFromCoordinates","intersectGeom","getIntersectedFeatures","intersectsExtent","getQueryLayerByCoordinates","getQueryLayerPromiseByCoordinates","activeMapControl","controlName","createMapControl","_ref7$add","_ref7$toggled","_ref7$options","addControl","addScaleLineUnits","changeScaleLineUnit","scalelinecontrol","getMapControlByType","setUnits","showAddLayerModal","baseLayers","attributionControl","Attribution","mapcontrols","controlType","zoomInLabel","zoomOutLabel","coordinateLabels","coordinateFormat","undefinedHTML","mapEspg","_coordinateLabels","_crs","caller_download_id","blobImage","_bbox","setDownload","saveAs","getMapBBOX","getCookie","createStringXY","overviewproject","overviewProjectGid","overViewMapLayers","getOverviewMapLayers","viewOptions","_calculateViewOptions","mainView","currentCenter","constrainCenter","collapseLabel","collapsed","_project$state","_mapCrs","getMapControls","setZIndexLayer","_ref10$zindex","zindex","setZIndex","getLayerZindex","getZIndex","zoomToFid","_zoom_to_fid$split","_zoom_to_fid$split2","zoom_to_fid","handleZoomToFeaturesUrlParameter","_zoom_to_features$spl","_zoom_to_features$spl2","layerNameorIdorOrigname","fieldsValuesSearch","_ref15$zoom_to_featur","zoom_to_features","_ref15$search_endpoin","getMapExtent","addMapExtentUrlParameterToUrl","map_extent","getMapExtentUrl","createCopyMapExtentUrl","_setMapControlsGrid","rC","rows","columns","_rC","_rC2","_setMapControlsInsideContainerLenght","setMapControlsAlignement","alignement","getMapControlsAlignement","isMapControlsVerticalAlignement","setMapControlsVerticalAlignement","setMapControlsHorizontalAlignement","flipControlsHorizontally","flipMapControlsVertically","mapcontrolsalignment","setMapControlsContainer","mapControlDom","_updateMapControlsLayout","changedAndMoreSpace","space","handleVerticalMapControlDOMElements","mapControslHeight","bottomMapControls","bottomMapControlTop","freeSpace","nextHeight","_mapControslHeight","mapControlsWidth","_setMapControlVisible","_ref18$visible","_addControlToMapControls","display","addToMapControls","placement","$mapElement","getTarget","registerControl","showControls","hideControls","toggleControls","showAllControls","hideAllControls","_removeControls","controlObj","_layoutControls","removeControlById","ctrlIdx","removeControl","_this15","_this16","_unToggleControls","_ref20$close","disableClickMapControls","addMapLayers","mapLayers","_this17","addMapLayer","addLayerToMap","getMapLayerByLayerId","multilayerId","getProjectLayer","_setSettings","_viewer$map$getSize","_viewer$map$getSize2","maxxRes","minyRes","getHeight","getMaxResolution","setView","_this18","URLSearchParams","lat_lon","x_y","maxyRes","initxRes","inityRes","_this19","background_color","getInteractions","_watchInteraction","stopEvent","setLayerZIndex","moveDefaultLayersOnTop","layerZIndex","_setBaseLayerListenerKey","layerStoreId","eventObj","_this20","addLayerKey","removeLayerKey","_this21","_setupBaseLayers","_setupMapLayers","_setupVectorLayers","_setUpDefaultLayers","_this22","baseMapLayer","registerMapLayerListeners","reverseBaseLayers","_this23","_setMapProjectionToLayers","qtimeseries_multilayerid_split_values","multiLayerId","sub_layer","_this24","mapVectorLayer","removeDefaultLayers","setDefaultLayerStyle","resetDefaultLayerStyle","_removeBaseLayers","_removeMapLayers","removeExternalLayers","removeAllLayers","_ref26$zindex","_this25","createMapLayer","projectLayers","overviewMapLayers","_ref28","updateMapLayer","_ref29","_ref29$showSpinner","g3w_time","_this26","_this27","registerMapLayerLoadingEvents","unregisterMapLayerLoadingEvents","unregisterMapLayerListeners","elId","getCurrentToggledMapControl","_ref30","_options$active","untoggleMapControls","_this28","getActive","showMapInfo","_ref31","hideMapInfo","getGeometryAndExtentFromFeatures","geometryCoordinates","featureExtent","_featureExtent","olClassGeomType","highlightFeatures","_getGeometryAndExtent","highlightGeometry","highLightGeometry","zoomToExtent","_getGeometryAndExtent2","getResolutionForZoomToExtent","compareExtentWithProjectMaxExtent","projectExtent","inside","extentResolution","goToBBox","goToWGS84","extentToWGS84","getResolutionForMeters","meters","clientWidth","clientHeight","animatingHighlight","addedFeature","clearSelectionFeatures","seSelectionLayerVisible","geometryObj","_this29","clearHighlightGeometry","customStyle","readGeometry","refreshMap","_ref32","is_hidden","updateSize","hidemap","_this30","_this31","getMapSize","setInnerGreyCoverScale","_resetDrawShadowInner","setInnerGreyCoverBBox","lowerLeftInner","upperRightInner","y_min","DEVICE_PIXEL_RATIO","x_min","y_max","x_max","startDrawGreyCover","_this32","stopDrawGreyCover","postcompose","ctx","restore","beginPath","moveTo","lineTo","closePath","translate","rotate","PI","fillStyle","textAlign","arrayMessages","fillText","_this33","changeLayerVisibility","_ref33","changeLayerOpacity","_ref34","_ref34$opacity","changeLayerMapPosition","_ref35","_ref35$position","_this34","catalogService","QueryResultService","unregisterVectorLayer","externalMapLayer","addExternalWMSLayer","_this35","_ref36","_ref36$epsg","_ref36$position","_ref36$visible","_createWMSLayer","addExternalMapLayer","_ref37","_options$position","_options$opacity","_this36","registerVectorLayer","_x55","setExternalLayerStyle","featureStyleFunction","getStyleFunction","core/layers/providers/wfsprovider","g3w-ol/g3w.ol","gui/wms/vue/wms","155","$cookie","_Map","components/Map.vue","gui/map/mapservice","156","MetadataService","_buildProjectGroupMetadata","ProjectMetadataComponent","METADATAGROUPS","general","spatial","getProjectMetadata","getLayersMetadata","getLayerMetadata","layerMetadata","showMetadata","gui/metadata/vue/components/project/project","157","_ref$state","_MetadataProject2","_MetadataProject","components/MetadataProject.vue","158","_Metadata","components/Metadata.vue","gui/metadata/metadataservice","159","internalPanel","panel","getInternalPanel","setInternalPanel","showPanel","closePanel","onShow","onClose","onResize","parentWidth","parentHeight","160","PrintComponentService","printService","_initialized","_moveMapKeyEvent","_page","_mapUnits","_scalesResolutions","isShow","printextent","setInitState","PrintPage","atlas","atlasValues","scala","dpis","formats","changeTemplate","isPreviousAtlas","_state$print$find","_clearPrint","showPrintArea","_setPrintArea","changeScale","changeRotation","_getPrintExtent","lowerleft","upperright","getOverviewExtent","xmin","xmax","ymin","ymax","overviewextent","_getOptionsPrint","setPrintAreaAfterCloseContent","stopLoading","disableSideBar","showError","startLoading","_calculateInternalPrintExtent","_state$maps$find","w","resolutionInMeters","getCoordinateFromPixel","currentScala","_setAllScalesBasedOnMaxResolution","mapScala","orderScales","orderBy","addedFirstHighestScale","handleScala","higherScale","_setInitialScalaSelect","_setCurrentScala","res","_setMoveendMapEvent","_showPrintArea","_initPrintConfig","mapComponent","renderSync","core/print/printservice","gui/print/vue/printpage","161","_Print","components/Print.vue","gui/print/printservice","162","_PrintPage","components/PrintPage.vue","163","MenuComponent","menuitems","host","_ProjectsMenu","components/ProjectsMenu.vue","164","ProjectsMenuComponent","projects","getListableProjects","description","cbk","changeProject","gui/projectsmenu/menu","165","QueryBuilder","QueryBuilderPanel","QuerybuilderUIfactory","QueryBuilderInstance","queryBuilderDom","gui/querybuilder/vue/panel/querybuilderpanel","gui/querybuilder/vue/querybuilder","166","167","_QueryBuilder","components/QueryBuilder.vue","168","QueryResultsService","_currentLayerIds","_setRelations","_setAtlasActions","download_data","plotLayerIds","unlistenerlayeractionevents","_actions","zoomto","zoomToElement","highlightgeometry","_atlas","_projectLayerIds","zoomToResult","layersactions","actiontools","currentactiontools","currentactionfeaturelayer","layeractiontool","layersFeaturesBoxes","layerscustomcomponents","resultsQueryLayer","_vectorLayers","_addFeaturesLayerResultInteraction","toggleeventhandler","setQueryResponse","queryResponse","_addVectorLayersDataToQueryResponse","showCoordinates","showBBOX","showGeometry","setLayersData","_digestFeaturesForLayers","_orderResponseByProjectLayers","updateLayerResultFeatures","setActionsForLayers","_addComponent","addActionsForLayers","closeComponent","changeLayerResult","_changeLayerResult","activeMapInteraction","editFeature","openCloseFeatureResult","addLayersPlotIds","layerIds","getPlotIds","findPlotId","plotId","_asyncFnc","todo","zoomToLayerFeaturesExtent","goToGeometry","getApplicationService","_QueryResultsActionDownloadFormats","_QueryResultsActionDownloadFormats2","_QueryResultsActionQueryPolygonCSVAttributes","_QueryResultsActionQueryPolygonCSVAttributes2","RelationsPage","registerCustomComponent","_ref3$id","_ref3$position","unRegisterCustomComponent","componentId","addFeatureLayerToResult","getBoxId","removeFeatureLayerFromResult","downloadApplicationWrapper","downloadFnc","download_caller_id","setLoadingContent","textMessage","_layer$features","removeFeatureIndexes","features_ids","indexFindFeature","filtered","featureRemoved","newlayerfeatures","checkIfLayerHasNoFeatures","highlightFeaturesPermanently","addRemoveFeaturesToLayerResult","layeractions","resetCurrentActionToolsLayer","removeAddFeaturesLayerResultInteraction","relation_index","observable","currentactiontoolslayer","currentationfeaturelayer","is_external_layer_or_wms","hasgeometry","mouseover","hint","chartRelationIds","showQueryRelations","createActionState","opened","showRelationsChart","getAtlasByLayerId","downloads","_layer$downloads","_cbk","downloadFeatures","setCurrentActionLayerFeatureTool","ACTIONTOOLSDOWNLOADFORMATS","downloadsaction","toggleable","$set","_state2","checkFeatureSelection","addToSelection","listenClearSelection","hint_change","copyZoomToFidUrl","_ref10$dynamicPropert","dynamicProperties","propertiesObject","accumulator","getActionLayerById","_ref12$component","addCurrentActionToolsLayer","_ref13$config","setLayerActionTool","_ref14$component","_ref14$config","hint_changed","runAsyncTodo","unlistenerEventsActions","removeQueryResultLayerFromMap","getCurrentLayersIds","layerA","layerB","aIndex","bIndex","setZoomToResults","isOneLayerResult","_ref15$toggle","addLayerFeaturesToResultsAction","_layer2","addfeaturesresults","responseObject","getVectorLayerFeaturesFromQueryRequest","_x16","eventHandler","deactiveQueryInteractions","querytitle","printconfig","layerRelationsAttributes","layerTitle","_handleFeatureFoLayer","_layerObj","extractRelations","sanitizeAttribute","getRelationFieldsFromFormStructure","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","split_layer_name","layerSpecialAttributesName","_setSpecialAttributesFeatureProperty","_parseAttributes","relationField","hasImageField","_getFeatureProperties","getFeaturePropertiesAndGeometry","featureObj","attributeObj","featureAttribute","_getFeatureProperties2","_Layer$SourceTypes","showSourcesTypes","actionId","actionMethod","layerActions","layerAction","triggerLayerAction","_x19","_x20","_x21","_x22","_x23","urlTemplate","route","_x24","_x25","_x28","_query$filterConfig","isExternalFilterSelected","isLayerSelected","_printSingleAtlas","_ref19$atlas","_ref19$features","_atlas$atlas$field_na","showChart","relationData","hideChart","inputAtlasAttr","atlasLayer","showLayerDownloadFormats","layerKey","_state$query","runDownload","downloadsactions","choices","sbp_qgs_layer_id","sbp_fid","_x33","_x34","downloadGpx","layerMenu","_hideMenu","downloadXls","selectionFeature","clearSelectionExtenalLayer","addRemoveFilter","selectionFeaturesLayer","acculmulator","_addRemoveSelectionFeature","hasAlreadySelectioned","currentLayer","_x38","_x39","_x40","_x41","_layer$external","addQueryResultsLayerToMap","handlerOptions","mapServiceMethod","firstParam","saveLayerResult","_ref28$type","showRelation","nmRelationId","projectRelation","nmRelation","pushContent","currentview","crumb","changeCurrentContentOptions","backonclose","components/QueryResultsActionDownloadFormats.vue","components/QueryResultsActionQueryPolygonCSVAttributes.vue","gui/relations/vue/relationspage","169","queryResultsService","_QueryResults","components/QueryResults.vue","gui/queryresults/queryresultsservice","170","RelationsComponentService","getRelationsNM","saveRelations","buildRelationTable","rows_fid","column","rowFormStructure","171","172","_RelationsPage","_options$relation","_options$relations","_options$feature","_options$table","_options$chartRelatio","_options$currentview","previousview","components/RelationsPage.vue","gui/relations/relationsservice","173","currentProjectState","search_title","searchesObject","searches","searchtools","querybuildersearches","_querybuilder2","getCurrentProjectItems","_querybuilder","removeItem","cleanSearchPanels","panels","addTool","searchTool","searchTools","addQueryBuilderSearch","querybuildersearch","removeTool","services/querybuilder","174","SearchPanelComponent","_SearchPanel","components/SearchPanel.vue","175","SearchService","_mapService$getMap$ge","_mapService$getMap$ge2","heigth","hideSidebar","_run","forminputs","_config$options","querylayerid","otherquerylayerids","inputdependance","inputdependencies","cachedependencies","searchLayer","queryurl","searchLayers","createInputsFormFromFilter","_data3","NONVALIDVALUES","filterLenght","_ref2$filter","forminput","op","_forminput$options","dependance","dependance_strict","getValuesFromField","valuesToKeysValues","setInputDependencies","master","slave","_values","getReturnType","setReturnType","returnType","getAutoFieldDependeciesParamField","fieldDependency","getCurrentFieldDependance","_Object$entries$","createFieldsDependenciesAutocompleteParameter","_ref3$fields","dependendency","fieldParam","getFilterInputFromField","_Object$entries$2","_field2","_getFilterInputFromFi","encodeURI","uniqueValues","getUniqueValuesFromField","getValueRelationValues","getValueMapValues","_x5","_field$options","_ref6$data","getLayerFilterData","getLayersFilterData","data_promises","_ref11$value","autocompleteRequest","doSearch","_relation$fieldRef","dataPromise","add_panel","_ref17$queryUrl","_ref17$feature_count","_ref17$show","createFilter","autozoom_query","search_1n_relationid","showEmptyOutputs","showCustomOutputDataPromise","filterValidFormInputs","createQueryFilterFromConfig","createOperatorObject","inputObj","createBooleanObject","evalObject","booleanOperator","booleanObject","queryFilter","_getExpressionOperatorFromInput","dependanceCascadeField","_getCascadeDependanciesFilter","_currentValue","getDependanceCurrentValue","fillDependencyInputs","_ref23$subscribers","subscribers","_ref23$value","isRoot","invalidValue","subscribe","_allvalues","notAutocompleteSubscribers","rootValues","cachedValue","dependenceCurrentValue","_cachedValue","dependenceValue","fieldParams","_loop2","_values2","_dependenceValue","delegateYield","getDependencies","createQueryFilterObject","_ref27$ogcService","_ref27$filter","getInfoFromLayer","setSearchLayer","getSearchLayer","176","_searches_searchtools","_Search","components/Search.vue","gui/search/service","177","178","_SpatialBookMarks","SpatialBookMarksComponent","components/SpatialBookMarks.vue","179","_StreetView","components/StreetView.vue","180","PAGELENGTHS","TableService","currentPage","getHeaders","allfeaturesnumber","nopaginationsfilter","selectedfeaturesfid","relationsGeometry","relationLayer","child_field","paginationfilter","mapBBoxEventHandlerKey","clearAllSelection","selectAll","pageLengths","allfeatures","pagination","nofilteredrow","_async","filterChangeHandler","emitRedraw","reloadData","setDataForDataTable","addRemoveSelectedFeature","_size","createFeatureForSelection","_returnGeometry","getAllFeatures","LoadedFeaturesId","switchSelection","filterFeatures","_selected","checkSelectAll","clearLayerSelection","selectAllFeatures","_paginationParams","featurescount","paginationParams","setFilteredFeature","featuresIndex","_ref6$start","_ref6$order","_ref6$length","_ref6$columns","_ref6$search","_ref6$firstCall","firstCall","searchText","dir","getDataPromise","recordsFiltered","recordsTotal","setInBBoxParam","resetMapBBoxEventHandlerKey","getDataFromBBOX","tableFeature","tabledata","_tabledata$data","_setLayout","zoomAndHighLightFeature","zoomAndHighLightGeometryRelationFeatures","promisesData","181","_Table","_Table2","TableComponent","showContent","components/Table.vue","gui/table/tableservice","182","183","toolsGroups","_addTool","_addTools","_addToolGroup","_removeToolGroup","_removeTools","_project$getState","_project$getState$too","toolName","_tools","ToolsService","ACTIONS","_removeTool","toolIdx","updateToolsGroup","groupConfig","_group","_ref2$state","toolGroup","184","toolsService","_Tools","components/Tools.vue","gui/tools/service","185","BarStack","_parent","contentsdata","_mount","_unmount","unmountRequests","getContentData","getCurrentContentData","getPreviousContentData","jQuery","_setJqueryContent","isString","jqueryEl","_checkDuplicateVueContent","_setVueContent","_setDOMContent","idxToRemove","186","barstack","./barstack","187","ContentsViewerComponent","stack","Stack","_ViewportContentsViewer","_options$push","addContent","clearContents","updateContentVisibility","removeContent","popContent","getComponentByClass","componentClass","contentdata","contentsEls","nextTick","outerHeight","components/ViewportContentsViewer.vue","gui/utils/utils","188","_options$wmsurls","wmsurls","adminwmsurls","localwmsurls","loadClientWmsUrls","_wmslayerspanel","_wmslayerspanel2","getLocalWMSData","updateLocalWMSData","deleteWms","changeLayerData","loadWMSLayerToMap","wmsurl","wmsConfigLayers","getRequestStatusObject","_ref6$error","_ref6$added","addNewUrl","localid","localurl","getWMSLayers","showWmsLayersPanel","checkIfWMSAlreadyAdded","_ref10$layers","addedLayers","deleteWmsUrl","loadWMSDataAndShowWmsLayersPanel","info_formats","abstract","map_formats","_ref15$visible","_ref15$layers","addWMSlayer","wmsLayerConfig","_ref17$name","_ref17$layers","_ref17$opacity","_ref17$visible","getLocalItem","alldata","setLocalItem","gui/wms/vue/panel/wmslayerspanel","189","WmsLayersPanel","WMSLayersPanelComponent","_WMSLayersPanel","components/WMSLayersPanel.vue","190","_service2","_WMS","components/WMS.vue","gui/wms/service","191","_ref$steps","currentStep","deep","alignSelf","listStyle","padding","ismobile","marginBottom","fontWeight","marginRight","directive","flexDirection","dynamic","btn-success","g3w-disabled","192","_vueCookieLaw","_vueCookieLaw2","_HeaderItem","_HeaderItem2","LayoutManager","navbarMenuSlimscroll","navbarMenuSlimscrollWidth","navbarMenuHeight","animationSpeed","sidebarToggleSelector","sidebarPushMenu","sidebarSlimScroll","sidebarExpandOnHover","enableBoxRefresh","enableFastclick","enableControlSidebar","controlSidebarOptions","toggleBtnSelector","slide","enableBoxWidget","boxWidgetOptions","boxWidgetIcons","boxWidgetSelectors","directChat","contactToggleSelector","colors","lightBlue","red","green","aqua","yellow","blue","navy","teal","olive","lime","orange","fuchsia","purple","maroon","black","gray","screenSizes","xs","sm","md","lg","_init","activate","fix","fixSidebar","neg","window_height","sidebar_height","postSetWidth","controlSidebar","slimScroll","touchScrollStep","pushMenu","toggleBtn","expandOnHover","screenWidth","menu","$this","checkElement","is","slideUp","parent_find_active","parents","parent_li","li_siblings","treeviewHeight","slideDown","floatBar","sidebar","bg","_fix","_fixForFixed","_fixForContent","max-height","padding-bottom","boxWidget","selectors","icons","_box","box","box_content","addRefreshButton","boxRefresh","overlay","onLoadStart","onLoadDone","log","rBtn","activateBox","listCustomPlugin","todolist","onCheck","ele","onUncheck","iCheck","LayoutManagerOptions","slimscroll","alwaysVisible","FastClick","attach","resizeMixin","customcredits","appState","current_custom_modal_content","cookie_law_buttonText","HeaderItem","CookieLaw","languages","appconfig","staticurl","powered_by","clienturl","g3w_suite_logo","credits_logo","logo_url","logo_project_url","mediaurl","logo_img","logo_link","getLogoLink","logo_link_target","project_title","username","login_url","numberOfProjectsInGroup","frontendurl","main_title","main_map_title","group_name","slug","templateResultLanguages","max_width","$refs","navbar_toggle","navbar","mainnavbar","main_title_project_title","maxWidth","logoWidth","showCustomModalContent","_custom_modals$find","custom_modals","custommodal","sidebarService","openProjectsMenu","_language","currentlanguage","beforeCreate","delayType","delayTime","custom_header_items_position","0","customlinks","header_custom_links","customitem","mounted","rightNavBarElements","elementLenght","controlsidebarEl","setFloatBarMaxHeight","setModalHeight","innerHeight","rightNavbarWidth","img_logo","__vue__options__","_vm","_h","$createElement","_c","_self","rawName","staticClass","buttonText","slot","_v","ref","role","data-toggle","data-target","staticStyle","font-size","max-width","text-align","overflow","margin","_l","show-custom-modal-content","first_name","last_name","admin_url","logout_url","margin-right","templateSelection","templateResult","$event","$$selectedVal","multiple","domProps","paddingTop","tabindex","data-backdrop","data-keyboard","aria-labelledby","_m","flex-direction","justify-content","justify-items","align-items","background-color","border-radius","alt","margin-top","margin-left","line-height","font-weight","staticRenderFns","data-dismiss","aria-label","components/HeaderItem.vue","vue-cookie-law","193","showdata","Boolean","selectitems","setDataOffset","getSelectedItems","selectItem","unselectItem","unselect","selectItems","unselectItems","unselectAll","_setAllowedSpace","querySelector","offsetHeight","_setMaxMin","axis","dataValues","changeItems","changeItem","_ref4$render","onselected","_temp","onunselected","selectitem","generate","bindto","min-height","change-item","change-items","select-item","select-all","unselect-all","unselect-item","194","_catalogeventhub","_catalogeventhub2","_CatalogChangeMapThemes","_CatalogChangeMapThemes2","_CatalogLayerContextMenu","_CatalogLayerContextMenu2","DEFAULT_ACTIVE_TAB","$options","showlegend","currentBaseLayer","activeTab","changemapthemes","cataloglayercontextmenu","showTocTools","_project$state$map_th","hasBaseLayers","hasLayers","layerstresslength","changeStyleLayersId","delegationClickEventTab","showLegend","setBaseLayerId","getSrcBaseLayerImage","customimage","getResourcesUrl","state.external.wms","newlayers","oldlayers","state.prstate.currentProject","oldproject","immediate","layerpositions","oldValue","beforeMount","contextmenu","!click","aria-controls","data-i18n","change-map-theme","parentFolder","legendplace","parent_mutually_exclusive","externallayers","layersgroup","gridTemplateColumns","components/CatalogChangeMapThemes.vue","components/CatalogLayerContextMenu.vue","gui/catalog/vue/catalogeventhub","195","current_map_theme","margin-bottom","border-bottom","white-space","text-overflow","menu-open","_q","for","_scopeId","196","_vueColor","_LayerOpacityPicker","_LayerOpacityPicker2","shpwrite","OFFSETMENU","data_table","colorMenu","stylesMenu","metadatainfoMenu","chrome-picker","Chrome","layer-opacity-picker","click-outside-layer-menu","binding","vnode","removeEventListener","addLayerMenuItem","closeLayerMenu","showColorMenu","onbeforeDestroyChangeColor","color_picker","onChangeColor","canShowWmsUrl","originalLayer","canShowWfsUrl","canDownloadXls","canDownloadGpx","canDownloadGpkg","canDownloadCsv","canDownloadGeoTIFF","canDownloadShp","ancorEement","tempInput","copywmsurltooltip","downloadGeoTIFF","downloadShp","downloadCsv","downloadGpkg","setWMSOpacity","zoomToLayer","canZoom","downloadExternalShapefile","EPSG4326","GeoJSONFile","clonefeature","writeFeaturesObject","point","mulipoint","multipolygon","polyline","multiline","showAttributeTable","tableContent","startEditing","catallogLayersStores","setCurrentLayerStyle","showSubMenuContext","menuentry","submenu","maxH","maxHeight","overflowY","showStylesMenu","showMetadataInfo","_x13","layer-position-change","currentTarget","padding-left","padding-right","init-menu-item","show-menu-item","hook:beforeDestroy","model","$$v","sync","change-range","bottom","data-placement","components/LayerOpacityPicker.vue","gui/table/vue/table","shp-write","vue-color","vueify/lib/insert-css","197","showfeaturecount","externallegend","getWmsSourceLayerLegendUrl","showHideLayerCategory","mapReady","setLayerCategories","setError","urlLoaded","handlerChangeLegend","_ref4$nodes","_setAllLayerCategories","_updateLayerCategories","_ref5$symbols","symbols","symbol","_ref6$symbols","layer.visible","198","border","199","visiblelayers","_visiblelayers","old","200","legendurls","getLegendSrc","changeLayersLegend","catalogLayer","getLegendUrlParams","urlLayerName","paramsUrl","legend_on","legend_off","urlMethodsLayersName","urlLayersName","_prefix$split","_prefix$split2","_prefix$split3","_prefix$split4","_urlLayersName","_url2","_url3","econdedParams","_url3$split","_url3$split2","_param$split","_param$split2","legendUrlObject","201","_CatalogLayerLegend","_CatalogLayerLegend2","CLICK_EVENT","timeoutID","handleClick","layerlegend","isGroupChecked","controltoggled","n_childs","showLegendLayer","showLayerTocLegend","isGroup","legendlayerposition","showscalevisibilityclass","showScaleVisibilityToolip","isHighLight","_isHighLightProjectLayer","_isHighLightExternalLayer","isInGrey","total","categoryFeatureCount","layerstree.disabled","layerstree.checked","handleGroupChecked","handleLayerChecked","uncheckable","setAllLayersVisible","layerObject","_layerObject$projectL","toggleFilterLayer","clearSelection","expandCollapse","onTreeItemClick","triClass","downloadExternalLayer","showLayerMenu","itemmarginbottom","marginLeft","bold","toc-added-external-layer","paddingLeft","modifiers","highlightlayer","scalevisibility","current-tooltip","_k","legendConfig","components/CatalogLayerLegend.vue","202","fontSize","_t","word-wrap","203","fieldsService","204","geoMixin","showLayer","205","_Field","_Field2","galleryId","Field","getSrc","showGallery","modal","getGalleryImages","images","components/Field.vue","206","openLink","link_url","207","mediaMixin","getMediaType","208","209","vueoptions","210","_floatbar","_floatbar2","panelsinstack","panelname","stack.contentsdata","services/floatbar","211","_FormHeader","_FormHeader2","switchcomponent","g3wformheader","G3wFormFooter","transitions","addremovetransition","backToRoot","_ref$disabled","resizeForm","switchComponent","footerDOM","g3w_form_footer","bodyFromDOM","g3wform_body","footerHeight","bodyHeight","updated","currentid","resize-form","clickheader","hook:activated","addtovalidate","removetovalidate","changeinput","components/FormHeader.vue","212","tabs","addinput","removeinput","213","originalbuttons","button","enableSave","exec","btnEnabled","_button$enabled","state.component","state.update","eventButtons","activated","deactivated","214","item_selected","215","backgroundColor","bar-loader","216","minDate","maxDate","enabledDates","datetimevalue","date","datetimeinputelement","iddatetimepicker","defaultDate","useCurrent","allowInputToggle","showClose","locale","toolbarPlacement","widgetPositioning","horizontal","datetime","mindatetime","maxdatetime","dates","217","218","carouselId","isActive","isRelativePath","startsWith","data-interval","data-slide","219","220","221","_GlobalGallery","_GlobalGallery2","g3w-images-gallery","components/GlobalGallery.vue","222","layerposition","223","progress","borderRadius","justifyContent","skin-background-color","224","labelValue","showValue","changeBackGround","backgroundSize","changedValue","emitChangeValue","align-self","__r","225","orientation","moveFnc","wrapMoveFnc","domElementMoveListen","$attrs","mousedown","226","toggleFull","toggleFullViewContent","resetToDefault","resetToDefaultContentPercentage","227","228","_name$props$component","_tabservice","_tabservice2","_GlobalTabsNode","_GlobalTabsNode2","showRelationByField","Node","required_fields","setVisibility","visibility_expression","setEditingRequireTab","getField","root_tabs","tab_node","root_tab","group-title","in active","showTitle","components/GlobalTabsNode.vue","core/expression/tabservice","229","G3wInput","editing_required","filterNodes","getNodeType","nodesLength","rowCount","columnNumber","rest","columnCount","columncount","showGroupTile","showlabel","groupbox","loadingRelation","relation_project","isRelationDisabled","getRelationName","isRelationChildLayerNotEditable","getNodes","startIndex","getNode","_b","$props","text-transform","230","showCustomModal","imagelink","img","231","showHideHelp","loadingState","232","widgetMixins","setLabel","changeCheckBox","widgetChanged","stateValueChanged","input-error-validation","tabIndex","$$a","$$el","$$c","$$i","gui/inputs/input","233","composing","234","uniqueValue","widget_container","idinputdatetimepiker","domeDataPicker","timeOnly","datetimedisplayformat","displayformat","_state$input$options","_state$input$options$","_state$input$options$2","_formats$","fieldformat","disabledDates","datetimefieldformat","vertical","toDate","ignoreReadonly","widgetParent","datimewidget_container","newDate","_$refs$datetimepicker","datetimepicker_body","getBoundingClientRect","z-index","readonly","235","236","border-top","237","show_required_field_message","238","239","lonId","latId","getCoordinateActive","changeLonLat","240","InputMixins","MediaField","g3w-media","mediaid","onClick","createImage","reader","FileReader","readAsDataURL","checkFileSrc","clearMedia","formData","fileupload","dataType","border-style","border-width","data-url","uploadurl","241","pickLayer","pickservice","gui/inputs/picklayer/service","242","radio_value","243","checkValue","keydown","244","PickLayerInputService","InputMixin","G3W_SELECT2_NULL_VALUE","selectMixin","select2Mixin","showPickLayer","picked","showNullOption","nullOption","select2NullValue","state.input.options.values","stateInputOptionsValues","findvalue","keyvalue","pickLayerValue","pickLayerInputService","changeSelect","setAndListenSelect2Change","dependencyLayerId","dependencyLayer","selectElement","getLanguage","minimumInputLength","allowClear","transport","failure","resetValues","processResults","more","245","state.input.options.min","state.input.options.max","246","keyup","mobileChange","247","min-width","248","setupTableCustomTools","buttonColumnLeft","buttonColumnRight","buttonColumnRemove","buttonRowAbove","buttonRowBelow","buttonRowRemove","edit_state","edit","show_html","edit_states","toolbarOptions","align","quill","Quill","quill_editor","modules","toolbar","handlers","innerText","qlformat","column-left","insertColumnLeft","column-right","insertColumnRight","column-remove","deleteColumn","row-above","insertRowAbove","row-below","insertRowBelow","row-remove","deleteRow","getModule","novalid","249","250","setLayerOpacity","showLayerOpacityMenu","layerOpacity","251","_MapAddLayer","_MapAddLayer2","_MapFooter","_MapFooter2","_$options","addlayer","MapFooter","disableMapControls","showHideControls","mapControls","_ref3$layers","_ref3$mainview","_ref3$switchable","components/MapAddLayer.vue","components/MapFooter.vue","252","_toArray","SUPPORTED_FORMAT","CSV_SEPARATORS","box-shadow","MAPEPSG","accepted_extension","separators","hex","csv_extension","setLayerMapPosition","clearError","onAddLayer","input_file","promiseData","files","csv_data","_csv_data","handle_csv_headers","csv_headers","headers_length","readAsText","modal_addlayer","clearLayer","csv.x","csv.y","accept","253","_MapFooterRight","_MapFooterRight2","_MapFooterLeft","_MapFooterLeft2","MapFooterRight","MapFooterLeft","components/MapFooterLeft.vue","components/MapFooterRight.vue","254","255","switch_icon","epsg_4326","mapunit","showmapunits","switchMapsCoordinateTo4326","256","257","metadataMixin","isSpatial","showHideInfo","findAttributeFormMetadataAttribute","findMetadataAttribute","keywords","metadataurl","onlineresources","dataurl","258","_MetadataLayer","_MetadataLayer2","_MetadataProjectTabContent","_MetadataProjectTabContent2","_MetadataProjectBBoxContent","_MetadataProjectBBoxContent2","_MetadataProjectContactsContent","_MetadataProjectContactsContent2","iconsClass","metadata-layer","metadata-tab-content","metadata-bbox-content","metadata-contacts-content","isArrayorObject","components/MetadataLayer.vue","components/MetadataProjectBBoxContent.vue","components/MetadataProjectContactsContent.vue","components/MetadataProjectTabContent.vue","259","bboxlabels","260","contactelectronicmailaddress","personprimary","contactvoicetelephone","sanitizeValue","geti18n","subvalue","261","arrayToString","262","_navbaritems","_navbaritems2","services/navbaritems","263","264","265","266","267","_PrintSelectAtlasFieldValues","_PrintSelectAtlasFieldValues2","_PrintFidAtlasValues","_PrintFidAtlasValues2","SelectAtlasFieldValues","FidAtlasValues","setDisabledPrintButton","setAtlasValues","onChangeTemplate","onChangeScale","onChangeFormat","onChangeDpi","onChangeRotation","disable-print-button","set-values","overflow-y","components/PrintFidAtlasValues.vue","components/PrintSelectAtlasFieldValues.vue","268","validateValue","addRangeToValues","rangeLenght","canAdd","print_atlas_fid","269","disableddownloadbutton","downloadImageName","downloadImage","state.url","stateUrl","timeOut","printoutput","revokeObjectURL","270","autocompleteOptions","autocompleteMixin","emitValues","currentValue","print_atlas_autocomplete","gui/external/select2/options/autocomplete","271","fakeImage","showFullModal","html_page_title","logoSrc","imageSrc","menuitem","272","operators","currentlayer","manual","manualvalue","select.field","addToExpression","getValues","number_of_features","excludejoinfields","customPrefix","joinLayer","joinLayerFields","flex-wrap","skin-background-color lighten","dblclick","scope","skin-border-color","273","QueryBuilderUIFactory","showinfo","gui/querybuilder/querybuilderuifactory","274","_QueryResultsTableAttributeFieldValue","_QueryResultsTableAttributeFieldValue2","_QueryResultsActionInfoFormats","_QueryResultsActionInfoFormats2","_QueryResultsHeaderFeatureBody","_QueryResultsHeaderFeatureBody2","maxSubsetLength","headerExpandActionCellWidth","headerActionsCellWidth","HEADERTYPESFIELD","fieldsMixin","TableAttributeFieldValue","header-feature-body","onelayerresult","hasResults","getLayerCustomComponents","getLayerField","layerField","getQueryFields","getFieldType","getColSpan","attributesSubsetLength","hasLayerOneFeature","getDownloadActions","addLayerFeaturesToResults","showDownloadAction","getContainerFromFeatureLayer","hasOneLayerAndOneFeature","layerHasFeatures","layerHasActions","featureHasActions","geometryAvailable","extractAttributesFromFirstTabOfFormStructureLayers","traverseStructure","attributesSubset","_attributes","relationsAttributesSubset","relationAttributes","relationsAttributes","cellWidth","headerLength","subsetLength","diff","actionsCellWidth","headerAttributeCellTotalWidth","baseCellWidth","featureBoxColspan","colspan","expandable","relationsAttributesSubsetLength","elements","getLayerFormStructure","isAttributeOrTab","isField","getLayerAttributeFromStructureItem","getLayerFeatureBox","boxid","collapsedFeatureBox","showFeatureInfo","toggleFeatureBox","toggleFeatureBoxAndZoom","showFullPhoto","state.layers","stateLayers","requestAnimationFrame","data-widget","downloadformats","boxLayerFeature","featureIndex","showresults","showResults","components/QueryResultsActionInfoFormats.vue","components/QueryResultsHeaderFeatureBody.vue","components/QueryResultsTableAttributeFieldValue.vue","275","clickAction","originalDataTitle","276","_download","flex-grow","277","reloadLayerDataWithChangedContentType","queryService","_responseParser$get","_responseParser$get2","_queryService$getFeat","queryFeature","select2_value","278","choice","g3w_select_feature_featurepolygon","refInFor","279","_QueryResultsAction","_QueryResultsAction2","components/QueryResultsAction.vue","280","_QueryResultsActions","_QueryResultsActions2","mouseout","noAttributes","components/QueryResultsActions.vue","281","g3w-link","g3w-vue","282","_FieldG3W","_FieldG3W2","RelationPageEventBus","SIDEBARWIDTH","inject","headercomponent","downloadButton","downloadLayer","showrelationslist","relationnoback","one","createTable","downloadformatsLength","saveRelation","chartContainer","what","relationDataTable","relationtable","DataTable","bLengthChange","scrollResize","scrollCollapse","scrollX","responsive","columnDefs","orderable","targets","tableHeaderHeight","tableHeight","datatableBody","breadcrumbHeight","OtherElementHeight","query_relation","showFormStructureRow","getRowFields","adjust","$parent","setRelationsList","fieldIs","fieldType","sidebarHeaderSize","pageX","tablecontent","chartcontent","relationwrapper","toggled-white","paddingBottom","components/FieldG3W.vue","gui/relations/vue/relationeventbus","283","featureInfo","infoFeatures","noback","grid-template-columns","grid-column-gap","grid-row-gap","284","_Relations","_Relations2","_Relation","_Relation2","_$options$relation","showChartButton","provide","chartlayerid","relationName1","relationName2","save-relation","show-chart","hide-chart","components/Relation.vue","components/Relations.vue","285","_Tool","_Tool2","_QueryBuilderSearch","_QueryBuilderSearch2","g3w-tool","g3w-search-querybuilder","searchtool","components/QueryBuilderSearch.vue","components/Tool.vue","286","287","_SearchSelect","_SearchSelect2","_SearchDatetime","_SearchDatetime2","_SearchPanelLabel","_SearchPanelLabel2","Select2","SearchDatetime","SearchPanelLabel","isSelectDisabled","onFocus","scrollTop","changeDependencyFields","changeNumericInput","select-change","components/SearchDatetime.vue","components/SearchPanelLabel.vue","components/SearchSelect2.vue","288","getLabelOperator","289","emitChangeEvent","_initSelect2Element","_forminput","numdigaut","isAutocomplete","forminput.value","forminputValue","allvalue","290","_eventbus","_eventbus2","_sidebar","_sidebar2","bOpen","bPageMode","showmainpanel","componentname","closeAllPanels","gui/sidebar/eventbus","services/sidebar","291","_SidebarItemAction","_SidebarItemAction2","main","SidebarItemAction","onClickItem","openClose","anchor_click","components/SidebarItemAction.vue","292","triggerAction","293","_SpatialBookMarkItem","_SpatialBookMarkItem2","SpatialBookMarkItem","borderBottom","components/SpatialBookMarkItem.vue","294","removeBookMark","gotoSpatialBookmark","295","_SpatialBookMarkGroup","_SpatialBookMarkGroup2","_InputText2","SPATIAL_BOOKMARKS_LOCALITEMS","SpatialBookMarkGroup","InputText","showaddform","addbookmarkinput","addBookMark","saveUserBookMarks","showAddForm","g3w-tools","remove-bookmark","components/SpatialBookMarkGroup.vue","296","297","_TableBody","_TableBody2","_TableSelectRow","_TableSelectRow2","_TableToolbar","_TableToolbar2","dataTable","fieldsComponents","eventHandlers","nopagination","tableBodyComponent","selectedRow","TableBody","selectAllRow","hasHeaders","createdContentBody","fieldComponent","trDomeElements","rowElement","hasGeometry","contentDOM","SelectRowClass","SelectRowInstance","fieldClass","fieldInstance","hideElements","commonDataTableOptions","debounceSearch","G3WTableToolbarClass","G3WTableToolbarInstance","setContentKey","lengthMenu","processing","sSearch","dom","searchable","attribute_table","serverData","serverSide","deferLoading","changeColumn","searchDelay","components/TableBody.vue","components/TableSelectRow.vue","components/TableToolbar.vue","298","SelectRow","hindex","tab-index","299","300","disableMapTool","rightpanel","height_100","301","AppState","TOOLSTATE","fireAction","showToolStateMessage","toolstatecolor","isCheck","tool_disabled","vertical-align","302","state.toolsGroups","G3wTool","303","COLORS","subtitle","draggable","showheader","addClassMobile","isSidebarVisible","hideShow","_position$split","_position$split2","304","_UserMessage","_UserMessage2","_NotifyOnline","_NotifyOnline2","_NotifyDownload","_NotifyDownload2","_NotifyPlugins","_NotifyPlugins2","_viewport","_viewport2","userMessage","onlineNotify","downloadNotify","pluginsNotify","updatePreviousTitle","breadcrumb","showresize","currentPerc","getCurrentContentLayout","resized","secondaryPerc","showresizeicon","showtitle","contentsData","contentTitle","_contentsData$options","post_title","backOrBackTo","showgoback","previousTitle","isNotLastCrumb","closeMap","gotoPreviousContent","viewPortSize","mapSize","pageY","contentSize","resizePercentageMap","resizePercentageContent","resizeViewComponents","handleResizeViewport","mediaQueryEventMobile","matchMedia","enter","leave","close-usermessage","aside","components/NotifyDownload.vue","components/NotifyOnline.vue","components/NotifyPlugins.vue","components/UserMessage.vue","services/viewport","305","306","inputswmsurlvalid","addwmsurl","padding-top","307","selectedlayers","filterLayerByCurrentEpsg","layerProjections","crss","firstLayer","_$options$config","$data","308","VueColor","VueCookie","regenerator-runtime","vue-cookie","309","watcher","unique_attr_id","getAttribute","310","removeAttribute","311","312","_utils","directives/utils","313","314","315","_ref$multiple","_ref$search","dropdownCssClass","316","toggleAttribute","317","318","319","320","321","_el","_ref$el","componentUpdated","oldVnode","322","323","g3wsdk","app/api","324","_App","_App2","_GlobalImage","_GlobalImage2","_GlobalGeo","_GlobalGeo2","_GlobalSkeleton","_GlobalSkeleton2","_GlobalBarLoader","_GlobalBarLoader2","_GlobalProgressBar","_GlobalProgressBar2","_GlobalHelpDiv","_GlobalHelpDiv2","_GlobalResize","_GlobalResize2","_GlobalLayerPositions","_GlobalLayerPositions2","_GlobalDateTime","_GlobalDateTime2","_GlobalRange","_GlobalRange2","_GlobalResizeIcon","_GlobalResizeIcon2","_GlobalTabs","_GlobalTabs2","_GlobalDivider","_GlobalDivider2","_Floatbar","_Floatbar2","_NavbaritemsLeft","_NavbaritemsLeft2","_NavbaritemsRight","_NavbaritemsRight2","_Sidebar","_Sidebar2","_Viewport","_Viewport2","_vDisabled","_vDisabled2","_vChecked","_vChecked2","_vSelectedFirst","_vSelectedFirst2","_vSelect","_vSelect2","_vTTooltip","_vTTooltip2","_vTHtml","_vTHtml2","_vTPlaceholder","_vTPlaceholder2","_vTTitle","_vTTitle2","_vT","_vT2","_vTPlugin","_vTPlugin2","_vPlugins","_vPlugins2","_vOnline","_vOnline2","_vDownload","_vDownload2","install","getInfo","getInfoString","_isMobile","inheritAttrs","ApplicationTemplate","appLayoutConfig","_isIframe","waitingoutputdataplace","_createApp","_createTemplateConfig","G3WTemplate","appTitle","ContentsComponent","WMSComponent","placeholders","Services","closeOpenComponents","floatbar","othercomponents","_setDataTableLanguage","_setupInterface","_setupLayout","_setUpServices","templateConfig","skinColor","_buildTemplate","_setUpTemplateDependencies","_setViewport","appendTo","languageOptions","searchPlaceholder","sLengthMenu","paginate","zeroRecords","infoFiltered","dataTableExt","oStdClasses","sFilterInput","oLanguage","_addRoutes","RouterService","getRouterService","addRoute","xy","registerService","getComponents","placeholdersConfig","_addComponents","_addOtherComponents","viewportOptions","PLACEHOLDERS","placeholderService","registerComponent","_removeComponent","unregisterComponent","_showModalOverlay","_isSidebarVisible","_showSidebar","_hideSidebar","VueApp","getTemplateInfo","errorToMessage","_error$error","_error$error$code","_error$error$data","_error$error$message","msg","resourcesurl","showList","closeList","hideList","hidePanel","showTable","closeTable","outputDataPlace","defaultOutputConfig","_options$show","outputConfig","showContentFactory","showResult","showPanelContent","showQueryResults","showForm","_options$split","formComponent","formService","closeForm","_ref12$pop","disableElement","disableContent","disablePanel","hideContent","queryResultsComponent","queryResultService","showContextualContent","getPushContent","addNavbarItem","addItem","removeNavBarItem","disableApplication","dialog","bootbox","showFloatbar","hideFloatbar","showSidebar","reloadComponents","_ref14$element","_ref14$show","setPrimaryView","viewName","showMap","showContextualMap","setContextualMapComponent","resetContextualMapComponent","pushContextualContent","getContentLength","contentLength","getCurrentContentTitle","getCurrentContentId","changeCurrentContentTitle","getCurrentContent","getProjectMenuDOM","projectVueMenuComponent","_closeUserMessageBeforeSetContent","_setContent","hideClientMenu","hideChangeMaps","getTemplateClasses","BootstrapVersionClasses","getTemplateClass","contentsComponent","_ref17$language","error_page","it","at_moment","f5","en","compiledTemplate","compile","postBootstrap","_ref18$error","statusText","./deprecated","./globals","components/App.vue","components/Floatbar.vue","components/GlobalBarLoader","components/GlobalDateTime.vue","components/GlobalDivider.vue","components/GlobalGeo.vue","components/GlobalHelpDiv.vue","components/GlobalImage.vue","components/GlobalLayerPositions.vue","components/GlobalProgressBar","components/GlobalRange.vue","components/GlobalResize.vue","components/GlobalResizeIcon.vue","components/GlobalSkeleton.vue","components/GlobalTabs.vue","components/NavbaritemsLeft.vue","components/NavbaritemsRight.vue","components/Sidebar.vue","components/Viewport.vue","directives/v-checked","directives/v-disabled","directives/v-download","directives/v-online","directives/v-plugins","directives/v-select2","directives/v-selected-first","directives/v-t","directives/v-t-html","directives/v-t-placeholder","directives/v-t-plugin","directives/v-t-title","directives/v-t-tooltip","gui/projectsmenu/projectsmenu","gui/spatialbookmarks/vue/spatialbookmarks","gui/templates/500.html","gui/viewport/contentsviewer","325","translation","cookie_law","sign_in","layer_selection_filter","nofilter","show_features_on_map","layer_position","sdk","template_dialog","spatialbookmarks","helptext","sections","no_results","error_loading","layer_not_searchable","layer_not_querable","inputshort","pre","no_layers","download_image","fids_instruction","fids_example","querybuilder","error_run","error_test","additem","unsupported_format","add_external_layer","fees","accessconstraints","contactinformation","subfields","contactorganization","ContactOrganization","contactposition","ContactPosition","contactperson","ContactPerson","tooltips","form_to_row","row_to_form","copy_map_extent_url","download_shapefile","show_chart","add_selection","zoom_to_features_extent","add_features_to_results","remove_feature_from_results","zoom_to_feature","relations_charts","download_features_shapefile","download_features_gpx","download_features_gpkg","download_features_csv","download_features_xls","copy_zoom_to_fid_url","choiches","feature_polygon","no_geometry","querybybbox","nolayers_visible","measures","no_valid_scale","metric","nautical","relation_data","no_relations_found","back_to_relations","list_of_relations_feature","error_missing_father_field","input_validation_mutually_exclusive","input_validation_error","input_validation_min_field","input_validation_max_field","input_validation_exclude_values","bigint","varchar","qgis_input_widget_relation","current_map_theme_prefix","choose_map_theme","setwmsopacity","copied","geotiff_map_extent","wps","list_process","g3wSuiteFramework","g3wSuiteDescription","productOf","toggle_color_scheme","logout","no_other_projects","yes","no","backto","changemap","create_print","dosearch","externalwms","nobaselayer","street_search","copy_form_data","paste_form_data","copy_form_data_from_feature","error_map_loading","check_internet_connection_or_server_admin","could_not_load_vector_layers","server_saver_error","server_error","cancel","enlange_reduce","reset_default","exitnosave","annul","layer_is_added","add_wms_layer","delete_wms_url","layer_id_already_added","url_already_added","layer_add_error","list_of_relations","open_link","link_button","geolocations","add_layer_control","select_projection","select_field_to_show","select_csv_separator","select_csv_x_field","select_csv_y_field","select_color","drag_layer","input_relation","catalog_items","zoomtolayer","open_attribute_table","show_metadata","vector_color_menu","layer_opacity","no_data","nodatafilterd","326","327","328","wms_layer_id_already_added","wms_url_already_added","329","_it","_it2","_en","_en2","_fi","_fi2","_se","_se2","_fr","_fr2","_de","_de2","_ro","_ro2","translations","fi","se","fr","de","ro","./de","./en","./fi","./fr","./it","./ro","./se","330","331","332","333","334","showhelpicon","335","getFieldService","_fieldsService","sanitizeFieldValue","336","337","338","formInputsMixins","_autocomplete","_autocomplete2","_fields2","_media","_media2","_geo","_geo2","_resize","_resize2","_select","_select2","_select3","_select4","_formInputs","_formInputs2","_widget","_widget2","_metadata","_metadata2","_baseInput","_baseInput2","mixins/autocomplete","mixins/base-input","mixins/fields","mixins/form-inputs","mixins/geo","mixins/media","mixins/metadata","mixins/resize","mixins/select","mixins/select2","mixins/widget","339","isMedia","340","341","DELAY_TYPE","delayWrapper","delayResize","342","usecompleter","$container","343","344","345","_apiEndpoints","apiEndpoints","howManyAreLoading","apiEndPoint","completeUrl","346","_config2","_clipboard","_clipboard2","i18ninit","onLine","complete","_applicationServices","_initConfigUrl","_initConfig","_groupId","_gid","_changeProject","setOnline","setOffline","_setFilterToken","setApplicationUser","browserLanguage","createApplicationConfig","bootstrap","setupI18n","languageConfig","languageLabel","setApplicationLanguage","userLanguage","ajaxSetup","beforeSend","jqXHR","getDownload","loadingPlugin","loadedPlugin","_plugin","pathname","pathArray","history","replaceState","registerOnlineOfflineEvent","registerLeavePage","_ref4$bool","_return","onbeforeunload","unregisterOnlineOfflineEvent","getApplicationLanguage","isOnline","setOfflineItem","localStorage","setItem","removeLocalItem","getItem","getOfflineItem","removeOfflineItem","getProxyUrl","proxyurl","getInterfaceOwsUrl","interfaceowsurl","getClipboardService","obtainInitConfig","initConfigUrl","header_logo_img","header_logo_link","terms_of_use_text","terms_of_use_link","initproject","getProjectConfigUrl","views","projectPath","locationsearch","clearInitConfig","queryTuple","getInitConfig","setInitVendorKeys","getInitConfigUrl","setInitConfigUrl","_bootstrapPlugins","pluginsBaseUrl","pluginsConfigs","otherPluginsConfig","setEPSGApplication","getApplicationUser","initialized","startIFrameService","initLocalItems","iframeService","unregisterService","errorHandler","apikey","setVendorKeys","changeProjectview","isProjectViewChanging","reloadCurrentProject","projectUrl","getProjectUrl","width_default","height_default","width_100","getCurrentLayout","core/iframe/routerservice","services/clipboard","347","ClipboardService","formLayer","348","ExpressionService","_ref$formatter","_ref3$formatter","_ref4$params","_ref4$contentType","core/data/service","349","OWSService","wmsCapabilities","owsUrl","350","ProxyService","proxyUrl","_ref2$method","_ref2$params","_ref2$headers","351","QueryService","_ref$feature_count","_ref$filterConfig","_ref$multilayers","_ref$condition","_ref$layerName","_ref$excludeSelected","_ref$external","hasExternalLayersSelected","returnExceptionResponse","messagetext","_ref2$feature_count","_ref2$filterConfig","_ref2$multilayers","_ref2$condition","_ref2$excludeSelected","_ref2$addExternal","_ref2$layersFilterObj","_ref4$layerIds","_ref4$multilayers","_ref4$query_point_tol","_ref4$addExternal","layersResults","352","promisesSearch","dataSearch","_value$data","_ref5$fids","layersfids","layersresponses","_ref7$fids","_ref7$formatter","layerresponse","353","Routerservice","defaultoutputplaces","currentoutputplaces","ouputplaces","_dataQuery2","_dataSearch2","_dataExpression2","proxy","_dataProxy2","_dataOws2","contextAndMethod","_splitContextAndMetho","serviceName","setOutputPlaces","places","addCurrentOutputPlace","addNewOutputPlace","_ref5$method","resetDefaultOutput","_dataExpression","_dataOws","_dataProxy","_dataQuery","_dataSearch","services/data-expression","services/data-ows","services/data-proxy","services/data-query","services/data-search","354","Actions","opposite","355","FloatbarService","sidebarEl","_zindex","_modalOverlay","_modal","_isopen","isOpen","356","isready","showListing","closeListing","hideListing","hideQueryResults","push_content","setPushContent","guiResized","357","AppService","changeMap","_ref$capture","capture","_ref3$capture","getcenter","zoomtocoordinates","_params$coordinates","_params$highlight","getextent","_params$extent","zoomtofeature","_params$highlight2","358","EditingService","subscribevents","startAction","toolboxes","setSaveConfig","toolbox","stopAction","stopEditing","subscribersHandlers","activeTool","_ref4$disableToolboxe","disableToolboxes","setEnabled","setEditing","cancelform","addfeature","addFeatureTool","getToolById","addSubscribeEvents","closeeditingpanel","resetSubscribeEvents","unsubscribe","configQglLayerId","getEditableLayersId","startstopediting","toolboxPromise","setActiveTool","_options$action","startEditingPromise","stopEditingPromises","resetDefault","_g3wsdk$core$utils","core/iframe/services/plugins/service","359","IframePluginService","pendingactions","serviceNames","eventResponseServiceHandler","postMessage","attachEvent","_ref5$data","outputData","writeFeatures","stopPendingActions","_evt$data$id","_evt$data$single","single","detachEvent","core/iframe/services/index","360","navbaritemsService","361","QueryBuilderService","_cacheValues","_items","QUERYBUILDERSEARCHES","getItems","valuesField","_ref3$showResult","confirm","saveitems","editLocalItem","_querybuildersearch","_resetItems","addLocalItem","_querybuildersearches","prompt","searchService","sample","362","createUrl","_options$layer","_options$type","_options$formatter","_nmRelation$fieldRef","relationsNM","responseFids","_ref2$features","363","crossroads","ignoreState","greedy","_initialLocationQuery","_routeQuery","setRouteQuery","routeQuery","_setRouteQueryFromLocationQuery","pattern","removeRoute","removeAllRoutes","defaultArgs","_initialQuery","_stripInitialQuery","makePermalink","_encodeRouteQuery","makeQueryString","queryParams","slicePath","path","sliceFirst","pathAndQuery","queryString","pathArr","firstPath","getQueryParams","queryPairs","queryPair","pair","getQueryString","_getQueryPortion","queryKey","queryPortion","_decodeRouteQuery","locationQuery","encodedRouteQuery","_getRouteQueryFromLocationQuery","previousQuery","previousQueryLength","previousQueryPosition","queryPrefix","trimEnd","querySuffix","trimStart","364","SidebarService","closeSidebarPanel","openCloseItem","_options$before","sidebarItem","SidebarItem","DOMComponent","isPanelSidebarShow","sidebarcomponetsdomid","childrenLength","findElementIndexId","initService","setComponentClickHandler","_ref$open","reloadComponent","sidebarComponent","_SidebarItem","_SidebarItem2","components/SidebarItem.vue","365","runTask","taskUrl","_options$interval","interval","_options$timeout","_options$listener","task_id","intervalId","setInterval","_response","stopTask","clearInterval","taskId","366","ViewportService","primaryView","v","cloasable","_defaultMapComponent","_contextualMapComponent","_secondaryViewMinWidth","_secondaryViewMinHeight","_immediateComponentsLayout","_options$primaryview","primaryview","setResized","_ref$textMessage","getMapState","getContentState","_toggleMapComponentVisibility","_showView","contextualMapComponent","recoverDefaultMap","_layout","getContentPercentageFromCurrentLayout","evenContentName","_prepareContentView","_layoutComponents","prevContentPerc","secondaryVisible","currentRightPanel","isFullViewContent","contentgetCurrentContentData","currentContent","isContentOpen","closeSecondaryView","isPrimaryView","viewTag","showPrimaryView","showSecondaryView","secondaryViewComponent","_otherView","getDefaultViewPerc","_isSecondary","_setPrimaryView","_options$split2","_options$closable","_options$backonclose","_options$style","_options$showgoback","_options$headertools","headertools","_options$perc","_options$split3","_getReducedSizes","contentEl","reducedWidth","reducedHeight","sideBarToggleEl","toggleWidth","_toggleWidth","reducesdSizes","_setViewSizes","secondaryView","_getViewportSize","getViewportSize","viewportWidth","viewportHeight","primaryWidth","primaryHeight","secondaryWidth","secondaryHeight","_viewportWidth","_viewportHeight","topHeight","main_sidebar","sideBarSpace","setContentPercentageFromCurrentLayout","triggerResize","resizeFired","drawResize","drawing","367","WorkFlowsStack","getParent","_getCurrentIndex","getParents","currentWorkflow","workfow","getLast","getFirst","getAt","368","STATE","upload","STATE_METHODS","369","370","ComponentsRegistry","371","ControlsRegistry","_controls","_offlineids","selectedLayer","externalLayers","callControlsEventHandler","unWatch","controlItem","_registerControl","getControl","unregisterControl","_id","372","MapLayersStoresRegistry","373","_configurationPlugins","_loadedPluginUrls","gidProject","setPluginsConfig","addLoadingPlugins","setOtherPlugins","setDependencyPluginConfig","_loadPlugins","pluginLoadPromises","pluginConfig","_setup","dependecyPluginConfig","law","OTHERPLUGINS","reloadPlugins","scripts","getPlugins","scr","pluginUrl","enabledPluginConfig","_loadScript","getScript","_pluginConfig$jsscrip","jsscripts","depedencypluginlibrariespromises","_loop3","script","baseUrl","scriptUrl","374","createProject","projectConfig","setCurrentProject","projectLayersStore","minScale","_groupProjects","_projectConfigs","setupState","setProjects","getProjectType","getProjects","clearProjects","currentProjectId","listable","projectGid","pendingProject","_getProjectFullConfig","projectFullConfig","_setProjectRelations","getProjectConfigByGid","setProjectAliasUrl","_location","projectBaseConfig","find_map_theme","url_theme","layetstree","375","setSession","getSessions","376"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar inserted = exports.cache = {}\n\nfunction noop () {}\n\nexports.insert = function (css) {\n  if (inserted[css]) return noop\n  inserted[css] = true\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n\n  if ('textContent' in elem) {\n    elem.textContent = css\n  } else {\n    elem.styleSheet.cssText = css\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(elem)\n  return function () {\n    document.getElementsByTagName('head')[0].removeChild(elem)\n    inserted[css] = false\n  }\n}\n\n},{}],2:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _tasks = require('services/tasks');\n\nvar _tasks2 = _interopRequireDefault(_tasks);\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _mixins2 = _interopRequireDefault(_mixins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file api file interface for external plugins\n */\n\nvar G3WObject = require('core/g3wobject');\n//MIXINS\n\n\n/**\n * CORE modules\n */\n\n\n/**\n * Single File Components\n */\n\nvar utils = require('core/utils/utils');\nvar geoutils = require('core/utils/geo');\nvar i18n = require('core/i18n/i18n.service');\nvar Server = require('core/errors/parser/servererrorparser');\nvar Session = require('core/editing/session');\nvar Editor = require('core/editing/editor');\nvar Geom = require('core/utils/geo');\n\nvar _require = require('core/utils/geo'),\n    Geometry = _require.Geometry;\n\nvar Project = require('core/project/project');\nvar LayersStoreRegistry = require('core/layers/layersstoresregistry');\nvar LayersStore = require('core/layers/layersstore');\nvar Layer = require('core/layers/layer');\nvar LayerFactory = require('core/layers/layerfactory');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar WmsLayer = require('core/layers/map/wmslayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar MapLayer = require('core/layers/map/maplayer');\nvar Feature = require('core/layers/features/feature');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\nvar Plugin = require('core/plugin/plugin');\nvar PluginService = require('core/plugin/pluginservice');\nvar Task = require('core/workflow/task');\nvar Step = require('core/workflow/step');\nvar Flow = require('core/workflow/flow');\nvar Workflow = require('core/workflow/workflow');\n\n/**\n * GUI modules\n */\nvar Panel = require('gui/panel');\nvar ControlFactory = require('gui/map/control/factory');\nvar ComponentsFactory = require('gui/component/componentsfactory');\nvar FieldsService = require('gui/fields/fieldsservice');\nvar Component = require('gui/component/component');\nvar MetadataComponent = require('gui/metadata/vue/metadata');\nvar SearchComponent = require('gui/search/vue/search');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\nvar PrintComponent = require('gui/print/vue/print');\nvar CatalogComponent = require('gui/catalog/vue/catalog');\nvar MapComponent = require('gui/map/vue/map');\nvar ToolsComponent = require('gui/tools/vue/tools');\nvar QueryResultsComponent = require('gui/queryresults/vue/queryresults');\nvar FormComponent = require('gui/form/vue/form');\nvar FormService = require('gui/form/formservice');\nvar InputsComponents = require('gui/inputs/inputs');\nvar ChartsFactory = require('gui/charts/chartsfactory');\nvar Fields = require('gui/fields/fields');\nvar SearchPanelService = require('gui/search/vue/panel/searchservice');\n\n/**\n * G3W-OL modules\n */\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\nvar DeleteFeatureInteraction = require('g3w-ol/interactions/deletefeatureinteraction');\nvar AreaInteraction = require('g3w-ol/interactions/areainteraction');\nvar LengthInteraction = require('g3w-ol/interactions/lengthinteraction');\nvar g3wolutils = require('core/utils/ol');\n\nmodule.exports = {\n\n  // APP CONSTANTS\n  constant: _constant2.default, // TODO: rename to \"constants\" which is more appropriate (in version 4.0)\n\n  // CORE API METHODS AND OBJECTS\n  core: {\n    G3WObject: G3WObject,\n    utils: utils,\n    geoutils: geoutils,\n    ApplicationService: _application2.default,\n    ApplicationState: _applicationState2.default,\n    ApiService: _api2.default,\n    Router: _router2.default,\n    i18n: i18n,\n    task: {\n      TaskService: _tasks2.default\n    },\n    data: {\n      DataRouterService: _data2.default\n    },\n    iframe: {\n      IFrameRouterService: _iframePlugin2.default\n    },\n    errors: {\n      parsers: {\n        Server: Server\n      }\n    },\n    editing: {\n      Session: Session,\n      SessionsRegistry: _sessions2.default,\n      Editor: Editor,\n      ChangesManager: _editing2.default\n    },\n    geometry: {\n      Geom: Geom,\n      Geometry: Geometry\n    },\n    project: {\n      ProjectsRegistry: _projects2.default,\n      Project: Project\n    },\n    map: {\n      MapLayersStoreRegistry: _mapLayers2.default\n    },\n    catalog: {\n      CatalogLayersStoresRegistry: _catalogLayers2.default\n    },\n    layer: {\n      LayersStoreRegistry: LayersStoreRegistry,\n      LayersStore: LayersStore,\n      Layer: Layer,\n      LayerFactory: LayerFactory,\n      TableLayer: TableLayer,\n      VectorLayer: VectorLayer,\n      ImageLayer: ImageLayer,\n      WmsLayer: WmsLayer,\n      XYZLayer: XYZLayer,\n      MapLayer: MapLayer,\n      geometry: {\n        Geometry: Geometry,\n        geom: Geom /** @FIXME capitalize first letter (ie. \"Geom\") */\n      },\n      features: {\n        Feature: Feature,\n        FeaturesStore: FeaturesStore,\n        OlFeaturesStore: OlFeaturesStore\n      },\n      filter: {\n        Filter: Filter,\n        Expression: Expression\n      }\n    },\n    relations: {\n      RelationsService: _relations2.default\n    },\n    interaction: {\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      PickFeatureInteraction: PickFeatureInteraction\n    },\n    plugin: {\n      Plugin: Plugin,\n      PluginsRegistry: _plugins2.default,\n      PluginService: PluginService\n    },\n    workflow: {\n      Task: Task,\n      Step: Step,\n      Flow: Flow,\n      Workflow: Workflow,\n      WorkflowsStack: _workflows2.default\n    },\n    input: {\n      inputService: _inputservice2.default\n    }\n  },\n\n  // APPLICATION INTERFACE (vue)\n  gui: {\n    GUI: _gui2.default,\n    Panel: Panel,\n    ControlFactory: ControlFactory,\n    ComponentsFactory: ComponentsFactory,\n    FieldsService: FieldsService,\n    vue: {\n      Component: Component,\n      Panel: Panel,\n      MetadataComponent: MetadataComponent,\n      SearchComponent: SearchComponent,\n      SearchPanel: SearchPanel,\n      PrintComponent: PrintComponent,\n      CatalogComponent: CatalogComponent,\n      MapComponent: MapComponent,\n      ToolsComponent: ToolsComponent,\n      QueryResultsComponent: QueryResultsComponent,\n      // main Form Component\n      FormComponent: FormComponent,\n      // Form Components\n      FormComponents: {\n        Body: _FormBody2.default,\n        Footer: _FormFooter2.default\n      },\n      Inputs: {\n        G3wFormInputs: _InputG3WFormInputs2.default,\n        G3WInput: _InputG3W2.default,\n        InputsComponents: InputsComponents\n      },\n      Charts: {\n        ChartsFactory: ChartsFactory,\n        c3: {\n          lineXY: _C3XYLine2.default\n        }\n      },\n      Fields: Fields,\n      Mixins: _mixins2.default,\n      services: {\n        SearchPanel: SearchPanelService,\n        FormService: FormService\n      }\n    }\n  },\n\n  // OPEN LAYERS COMPONENTS (g3w-ol)\n  ol: {\n    interactions: {\n      PickFeatureInteraction: PickFeatureInteraction,\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      DeleteFeatureInteraction: DeleteFeatureInteraction,\n      measure: {\n        AreaInteraction: AreaInteraction,\n        LengthInteraction: LengthInteraction\n      }\n    },\n    controls: {},\n    utils: g3wolutils\n  },\n\n  // G3W-SUITE debug info\n  info: function info() {\n    $script('https://unpkg.com/platform@1.3.6/platform.js', function () {\n      window.console.info(('\\n[g3wsdk.info]\\n\\n- g3w-admin: __' + initConfig.version + '__\\n- g3-client: __' + _constant2.default.APP_VERSION + '__\\n- browser: __' + platform.name + ' ' + platform.version + '__\\n- operating system: __' + platform.os.toString() + '__\\n').trim());\n    });\n  },\n\n  // G3W-CLIENT version\n  version: _constant2.default.APP_VERSION\n};\n\n},{\"components/C3XYLine.vue\":193,\"components/FormBody.vue\":212,\"components/FormFooter.vue\":213,\"components/InputG3W.vue\":236,\"components/InputG3WFormInputs.vue\":237,\"constant\":4,\"core/editing/editor\":6,\"core/editing/session\":8,\"core/errors/parser/servererrorparser\":9,\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/layers/layersstoresregistry\":37,\"core/layers/map/maplayer\":43,\"core/layers/map/wmslayer\":45,\"core/layers/map/xyzlayer\":47,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57,\"core/plugin/plugin\":58,\"core/plugin/pluginservice\":59,\"core/project/project\":61,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"core/workflow/flow\":69,\"core/workflow/step\":71,\"core/workflow/task\":72,\"core/workflow/workflow\":73,\"g3w-ol/interactions/areainteraction\":99,\"g3w-ol/interactions/deletefeatureinteraction\":100,\"g3w-ol/interactions/lengthinteraction\":101,\"g3w-ol/interactions/pickcoordinatesinteraction\":103,\"g3w-ol/interactions/pickfeatureinteraction\":104,\"gui/catalog/vue/catalog\":111,\"gui/charts/chartsfactory\":113,\"gui/component/component\":114,\"gui/component/componentsfactory\":115,\"gui/fields/fields\":117,\"gui/fields/fieldsservice\":118,\"gui/form/formservice\":119,\"gui/form/vue/form\":120,\"gui/inputs/inputs\":129,\"gui/map/control/factory\":153,\"gui/map/vue/map\":155,\"gui/metadata/vue/metadata\":158,\"gui/panel\":159,\"gui/print/vue/print\":161,\"gui/queryresults/vue/queryresults\":169,\"gui/search/vue/panel/searchpanel\":174,\"gui/search/vue/panel/searchservice\":175,\"gui/search/vue/search\":176,\"gui/tools/vue/tools\":184,\"mixins\":338,\"services/api\":345,\"services/application\":346,\"services/data\":353,\"services/editing\":354,\"services/gui\":356,\"services/iframe-plugin\":359,\"services/relations\":362,\"services/router\":363,\"services/tasks\":365,\"services/workflows\":367,\"store/application-state\":368,\"store/catalog-layers\":369,\"store/map-layers\":372,\"store/plugins\":373,\"store/projects\":374,\"store/sessions\":375}],3:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.utils = exports.server = exports.client = exports._i18n = exports.tools = exports.plugins = undefined;\n\nvar _locales = require('../locales');\n\nvar _locales2 = _interopRequireDefault(_locales);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar apptitle = \"G3W Client\"; /**\n                              * @TODO consolidate configuration parameters in a single location\n                              * (eg. appConfig, ApplicationState, Constants, ...)\n                              */\n\nvar supportedLanguages = ['en', 'it'];\n\nvar plugins = exports.plugins = {};\n\nvar tools = exports.tools = {\n  tools: []\n};\n\n// get message from internationalization\nvar _i18n = exports._i18n = {\n  resources: _locales2.default\n};\n\nvar client = exports.client = {\n  debug: true,\n  local: false\n};\n\nvar server = exports.server = {\n  urls: {\n    baseurl: '/',\n    ows: 'ows',\n    api: 'api',\n    initconfig: 'api/initconfig',\n    config: 'api/config'\n  }\n};\n\nvar utils = exports.utils = {\n  merge: function merge(type) {\n    if (type) {\n      console.log(CONFIG);\n    }\n  }\n};\n\nexports.default = {\n  apptitle: apptitle,\n  client: client,\n  server: server,\n  plugins: plugins,\n  supportedLanguages: supportedLanguages,\n  tools: tools,\n  _i18n: _i18n,\n  utils: utils\n};\n\n},{\"../locales\":329}],4:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOCAL_ITEM_IDS = exports.FONT_AWESOME_ICONS = exports.API_BASE_URLS = exports.ZINDEXES = exports.VIEWPORT = exports.TOC_THEMES_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = exports.TIMEOUT = exports.SEARCH_RETURN_TYPES = exports.SEARCH_ALLVALUE = exports.QUERY_POINT_TOLERANCE = exports.PRINT_SCALES = exports.PRINT_RESOLUTIONS = exports.PRINT_FORMATS = exports.MAP_SETTINGS = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_TITLE = exports.GEOMETRY_TYPES = exports.GEOMETRY_FIELDS = exports.FILTER_EXPRESSION_OPERATORS = exports.FILTER_OPERATORS = exports.G3W_FID = exports.EPSG = exports.DOWNLOAD_FORMATS = exports.DEFAULT_EDITING_CAPABILITIES = exports.APP_VERSION = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file all contants values used on application\n                                                                                                                                                                                                                                                                   */\n\n//@ts-check\n\n/**\n * @TODO we can safely import \"version\" from \"package.json\" when we will use native ES Modules\n */\n// import { version } from '../../package.json';\n\n\nvar _version = require('../version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Same as \"package.json\" version\n * \n * @type {string}\n */\nvar APP_VERSION = exports.APP_VERSION = _version2.default;\n\n/**\n * Default editing capabilities \n * \n * @type {string[]}\n */\nvar DEFAULT_EDITING_CAPABILITIES = exports.DEFAULT_EDITING_CAPABILITIES = ['add_feature', 'change_feature', 'change_attr_feature', 'delete_feature'];\n\n/**\n * @type {Object<string, { format: string, url: string }>}\n */\nvar DOWNLOAD_FORMATS = exports.DOWNLOAD_FORMATS = {\n  download: {\n    format: 'shapefile',\n    url: 'shp'\n  },\n  download_gpkg: {\n    format: 'gpkg',\n    url: 'gpkg'\n  },\n  download_gpx: {\n    format: 'gpx',\n    url: 'gpx'\n  },\n  download_csv: {\n    format: 'csv',\n    url: 'csv'\n  },\n  download_xls: {\n    format: 'xls',\n    url: 'xls'\n  },\n  download_raster: {\n    format: 'geotiff',\n    url: 'geotiff'\n  }\n};\n\n/**\n * @type {string[]}\n */\nvar EPSG = exports.EPSG = [\"EPSG:3003\", \"EPSG:3004\", \"EPSG:3045\", \"EPSG:3857\", \"EPSG:4326\", \"EPSG:6708\", \"EPSG:23032\", \"EPSG:23033\", \"EPSG:25833\", \"EPSG:32632\", \"EPSG:32633\"];\n\n/**\n * fid name field referred to fid feature\n * \n * @type {string}\n */\nvar G3W_FID = exports.G3W_FID = 'g3w_fid';\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_OPERATORS = exports.FILTER_OPERATORS = {\n  gte: '>=',\n  lte: '<=',\n  NOT: '!=',\n  eq: '=',\n  gt: '>',\n  lt: '<',\n  IN: 'IN',\n  'NOT IN': 'NOT IN',\n  LIKE: 'LIKE',\n  ILIKE: 'ILIKE',\n  AND: 'AND',\n  OR: 'OR'\n};\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_EXPRESSION_OPERATORS = exports.FILTER_EXPRESSION_OPERATORS = _extends({\n  lte: '<=',\n  ltgt: '!=',\n  ilike: 'ILIKE',\n  like: 'LIKE'\n}, FILTER_OPERATORS);\n\n/**\n * Geometry fields used to exclude or get geometry information from server request\n * \n * @type {string[]}\n */\nvar GEOMETRY_FIELDS = exports.GEOMETRY_FIELDS = ['geometryProperty', 'boundedBy', 'geom', 'the_geom', 'geometry', 'bbox', 'GEOMETRY', 'geoemtria', 'geometria'];\n\n/**\n * @type {Object<string, string>}\n */\nvar GEOMETRY_TYPES = exports.GEOMETRY_TYPES = {\n  POINT: \"Point\",\n  POINTZ: \"PointZ\",\n  POINTM: \"PointM\",\n  POINTZM: \"PointZM\",\n  POINT25D: \"Point25D\",\n  MULTIPOINT: \"MultiPoint\",\n  MULTIPOINTZ: \"MultiPointZ\",\n  MULTIPOINTM: \"MutliPointM\",\n  MULTIPOINTZM: \"MultiPointZM\",\n  MULTIPOINT25D: \"MultiPoint25D\",\n  LINESTRING: \"LineString\", // QGis definition .GeometryType, Line intead di Linestring.\n  LINESTRINGZ: \"LineStringZ\",\n  LINESTRINGM: \"LineStringM\",\n  LINESTRINGZM: \"LineStringZM\",\n  LINESTRING25D: \"LineString25D\",\n  LINE: \"Line\",\n  LINEZ: \"LineZ\",\n  LINEM: \"LineM\",\n  LINEZM: \"LineZM\",\n  LINE25D: \"Line25D\",\n  MULTILINESTRING: \"MultiLineString\",\n  MULTILINESTRINGZ: \"MultiLineStringZ\",\n  MULTILINESTRINGM: \"MultiLineStringM\",\n  MULTILINESTRINGZM: \"MultiLineStringZM\",\n  MULTILINESTRING25D: \"MultiLineString25D\",\n  MULTILINE: \"MultiLine\",\n  MULTILINEZ: \"MultiLineZ\",\n  MULTILINEM: \"MultiLineM\",\n  MULTILINEZM: \"MultiLineZM\",\n  MULTILINE25D: \"MultiLine25D\",\n  POLYGON: \"Polygon\",\n  POLYGONZ: \"PolygonZ\",\n  POLYGONM: \"PolygonM\",\n  POLYGONZM: \"PolygonZM\",\n  POLYGON25D: \"Polygon25D\",\n  MULTIPOLYGON: \"MultiPolygon\",\n  MULTIPOLYGONZ: \"MultiPolygonZ\",\n  MULTIPOLYGONM: \"MultiPolygonM\",\n  MULTIPOLYGONZM: \"MultiPolygonZM\",\n  MULTIPOLYGON25D: \"MultiPolygon25D\",\n  GEOMETRYCOLLECTION: \"GeometryCollection\",\n  GEOMETRYCOLLECTIONZ: \"GeometryCollectionZ\",\n  GEOMETRYCOLLECTIONM: \"GeometryCollectionM\",\n  GEOMETRYCOLLECTIONZM: \"GeometryCollectionZM\",\n  GEOMETRYCOLLECTION25D: \"GeometryCollection25D\"\n};\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_TITLE = exports.LIST_OF_RELATIONS_TITLE = 'info.list_of_relations';\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_ID = '__G3W_LIST_OF_RELATIONS_ID__';\n\n/**\n * @type {string}\n */\nvar LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = 'externalwms';\n\n/**\n * @typedef MapSettings\n * @property {{ maxScale: number }} ZOOM\n * @property {{ duration: number }} ANIMATION\n * @property {{ default: string, getPositions: Function }} LAYER_POSITIONS: \n */\n\n/**\n * @type {MapSettings}\n */\nvar MAP_SETTINGS = exports.MAP_SETTINGS = {\n  ZOOM: {\n    maxScale: 1000\n  },\n  ANIMATION: {\n    duration: 2000\n  },\n  LAYER_POSITIONS: {\n    default: 'top',\n    getPositions: function getPositions() {\n      return ['top', 'bottom'];\n    }\n  }\n};\n\n/**\n * @type {Array<{ value: any, label: string }>}\n * @since v3.5\n */\nvar PRINT_FORMATS = exports.PRINT_FORMATS = [{\n  value: 'pdf',\n  label: 'PDF'\n}, {\n  value: 'png',\n  label: 'PNG'\n}];\n\n/**\n * @type {number[]}\n * @since v3.5\n */\nvar PRINT_RESOLUTIONS = exports.PRINT_RESOLUTIONS = [150, 300];\n\n/**\n * @type {Array<{ value: number, label: string }>}\n * @since v3.5\n */\nvar PRINT_SCALES = exports.PRINT_SCALES = [{\n  value: 100,\n  label: '1:100'\n}, {\n  value: 200,\n  label: '1:200'\n}, {\n  value: 500,\n  label: '1:500'\n}, {\n  value: 1000,\n  label: '1:1.000'\n}, {\n  value: 2000,\n  label: '1:2.000'\n}, {\n  value: 2500,\n  label: '1:2.500'\n}, {\n  value: 5000,\n  label: '1:5.000'\n}, {\n  value: 10000,\n  label: '1:10.000'\n}, {\n  value: 20000,\n  label: '1:20.000'\n}, {\n  value: 25000,\n  label: '1:25.000'\n}, {\n  value: 50000,\n  label: '1:50.000'\n}, {\n  value: 100000,\n  label: '1:100.000'\n}, {\n  value: 250000,\n  label: '1:250.000'\n}, {\n  value: 500000,\n  label: '1:500.000'\n}, {\n  value: 1000000,\n  label: '1:1.000.000'\n}, {\n  value: 2500000,\n  label: '1:2.500.000'\n}, {\n  value: 5000000,\n  label: '1:5.000.000'\n}, {\n  value: 10000000,\n  label: '1:10.000.000'\n}, {\n  value: 20000000,\n  label: '1:20.000.000'\n}, {\n  value: 50000000,\n  label: '1:50.000.000'\n}, {\n  value: 100000000,\n  label: '1:100.000.000'\n}, {\n  value: 250000000,\n  label: '1:250.000.000'\n}, {\n  value: 500000000,\n  label: '1:500.000.000'\n}];\n\n/**\n * Point tolerance when clicking on map\n * \n * @type {{unit: string, value: number}}\n */\nvar QUERY_POINT_TOLERANCE = exports.QUERY_POINT_TOLERANCE = {\n  unit: 'pixel',\n  value: 10\n};\n\n/**\n * @type {string}\n * @since v3.5\n */\nvar SEARCH_ALLVALUE = exports.SEARCH_ALLVALUE = '__G3W_ALL__';\n\n/**\n * @type {string[]}\n * @since v3.5\n */\nvar SEARCH_RETURN_TYPES = exports.SEARCH_RETURN_TYPES = ['data', 'search'];\n\n/**\n * TIMEOUT (1 minute = 60000)\n * \n * @type {number}\n */\nvar TIMEOUT = exports.TIMEOUT = 60000;\n\n/**\n * @type {string}\n */\nvar TOC_LAYERS_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = 'not_collapsed';\n\n/**\n * @type {string}\n */\nvar TOC_THEMES_INIT_STATUS = exports.TOC_THEMES_INIT_STATUS = 'collapsed';\n\n/**\n * @type {{resize: Object<string, { min: number }>}}\n * @since v3.5\n */\nvar VIEWPORT = exports.VIEWPORT = {\n  resize: {\n    map: {\n      min: 200\n    },\n    content: {\n      min: 200\n    }\n  }\n};\n\n/**\n * @type {Object<string, { tool: number }>}\n */\nvar ZINDEXES = exports.ZINDEXES = {\n  usermessage: {\n    tool: 2\n  }\n};\n\n/**\n * @type {Object<string, string>}\n * @since v3.8\n */\nvar API_BASE_URLS = exports.API_BASE_URLS = {\n  CRS: '/crs/' //Example /crs/<epsg_code>\n};\n\n/**\n * List of default Font Awesome classes for current project\n * \n * @type {Object<string, string>}\n * @since v3.8\n */\nvar FONT_AWESOME_ICONS = exports.FONT_AWESOME_ICONS = {\n  'change-map': \"fas fa-map-signs\",\n  map: \"far fa-map\",\n  file: \"fas fa-file-code\",\n  marker: \"fas fa-map-marker-alt\",\n  relation: \"fas fa-sitemap\",\n  tools: \"fas fa-cogs\",\n  tool: \"fas fa-cog\",\n  search: \"fas fa-search\",\n  print: \"fas fa-print\",\n  info: \"fas fa-info-circle\",\n  'info-circle': \"fas fa-info-circle\",\n  globe: \"fas fa-globe\",\n  mail: \"fas fa-envelope\",\n  mobile: \"fas fa-mobile\",\n  fax: \"fas fa-fax\",\n  user: \"fas fa-user\",\n  bars: \"fas fa-bars\",\n  uncheck: \"far fa-square\",\n  check: \"far fa-check-square\",\n  filluncheck: \"fas fa-square\",\n  table: \"fas fa-table\",\n  trash: \"fas fa-trash\",\n  'trash-o': \"far fa-trash-alt\",\n  pencil: \"fas fa-pencil-alt\",\n  'ellips-h': \"fas fa-ellipsis-h\",\n  'ellips-v': \"fas fa-ellipsis-v\",\n  'arrow-up': \"fas fa-chevron-up\",\n  'arrow-down': \"fas fa-chevron-down\",\n  'arrow-left': \"fas fa-chevron-left\",\n  'arrow-right': \"fas fa-chevron-right\",\n  'resize-h': \"fas fa-arrows-alt-h\",\n  'resize-v': \"fas fa-arrows-alt-v\",\n  'resize-default': \"fas fa-compress\",\n  'caret-up': \"fas fa-caret-up\",\n  'caret-down': \"fas fa-caret-down\",\n  'caret-left': \"fas fa-caret-left\",\n  'caret-right': \"fas fa-caret-right\",\n  'empty-circle': \"far fa-circle\",\n  'cloud-upload': \"fas fa-cloud-upload-alt\",\n  spinner: \"fas fa-spinner\",\n  minus: \"fas fa-minus\",\n  \"minus-square\": \"far fa-minus-square\",\n  plus: \"fas fa-plus\",\n  'plus-circle': \"fas fa-plus-circle\",\n  'plus-square': \"far fa-plus-square\",\n  grid: \"fas fa-th\",\n  home: \"fas fa-home\",\n  folder: \"fas fa-folder\",\n  'sign-out': \"fas fa-sign-out-alt\",\n  close: \"fas fa-times\",\n  time: \"far fa-clock\",\n  calendar: \"fas fa-calendar-alt\",\n  list: \"fas fa-list-alt\",\n  link: \"fas fa-link\",\n  unlink: \"fas fa-unlink\",\n  eye: \"far fa-eye\",\n  'eye-close': \"far fa-eye-slash\",\n  save: \"far fa-save\",\n  pdf: \"fas fa-file-pdf\",\n  image: \"far fa-image\",\n  video: \"far fa-file-video\",\n  unknow: \"far fa-question-circle\",\n  zip: \"far fa-file-archive\",\n  text: \"far fa-file-alt\",\n  excel: \"far fa-file-excel\",\n  xls: \"far fa-file-excel\",\n  gpx: \"fas fa-location-arrow\",\n  gpkg: \"fas fa-box-open\",\n  shapefile: \"fas fa-file-archive\",\n  csv: \"fas fa-file-csv\",\n  geotiff: \"fas fa-th\",\n  ppt: \"far fa-file-powerpoint\",\n  circle: \"fas fa-circle\",\n  calculator: \"fas fa-calculator\",\n  picture: \"far fa-image\",\n  keyboard: \"far fa-keyboard\",\n  'file-download': \"fas fa-file-download\",\n  copy: \"far fa-copy\",\n  draw: \"fas fa-draw-polygon\",\n  chart: \"fas fa-chart-bar\",\n  'chart-line': \"fas fa-chart-line\",\n  'chart-area': \"fas fa-chart-area\",\n  'chart-pie': \"fas fa-chart-pie\",\n  run: \"fas fa-play\",\n  warning: \"fas fa-exclamation-circle\",\n  alert: \"fas fa-exclamation-triangle\",\n  crosshairs: \"fas fa-crosshairs\",\n  success: \"far fa-check-circle\",\n  back: \"fas fa-chevron-circle-left\",\n  'file-upload': \"fas fa-file-upload\",\n  wifi: \"fas fa-wifi\",\n  mouse: \"fas fa-mouse\",\n  'copy-paste': \"far fa-copy\",\n  'vector-square': \"fas fa-vector-square\",\n  download: \"fas fa-download\",\n  credits: \"fas fa-euro-sign\",\n  filter: \"fas fa-filter\",\n  plugin: \"fas fa-plug\",\n  invert: \"fas fa-exchange-alt\",\n  clear: \"fas fa-broom\",\n  palette: \"fas fa-palette\",\n  layers: \"fas fa-layer-group\",\n  'sign-in': \"fas fa-sign-in-alt\",\n  language: \"fas fa-language\",\n  target: \"fas fa-bullseye\",\n  pin: \"fas fa-map-pin\",\n  square: \"far fa-square\",\n  move: \"fas fa-arrows-alt\",\n  moon: \"fas fa-moon\",\n  sun: \"fas fa-sun\",\n  refresh: \"fas fa-sync-alt\",\n  pause: \"fas fa-pause\",\n  'step-backward': \"fas fa-step-backward\",\n  'fast-backward': \"fas fa-fast-backward\",\n  'step-forward': \"fas fa-step-forward\",\n  'fast-forward': \"fas fa-fast-forward\",\n  crop: \"fas fa-crop-alt\",\n  exit: \"fas fa-door-open\",\n  slider: \"fas fa-sliders-h\",\n  bookmark: \"fas fa-bookmark\"\n};\n\n/**\n * @typedef LocalItem\n * @property {string} id unique identifier\n * @property {any} value initial value\n */\n\n/**\n * LOCAL ITEM IDS - used to store id used by application\n * \n * @type {Object<string, LocalItem>}\n * \n * @since v3.8\n */\nvar LOCAL_ITEM_IDS = exports.LOCAL_ITEM_IDS = {\n  SPATIALBOOKMARKS: {\n    id: 'SPATIALBOOKMARKS', // id unique\n    value: {} // initial value\n  }\n};\n\nexports.default = {\n  APP_VERSION: APP_VERSION,\n  API_BASE_URLS: API_BASE_URLS,\n  DEFAULT_EDITING_CAPABILITIES: DEFAULT_EDITING_CAPABILITIES,\n  DOWNLOAD_FORMATS: DOWNLOAD_FORMATS,\n  FILTER_OPERATORS: FILTER_OPERATORS,\n  FILTER_EXPRESSION_OPERATORS: FILTER_EXPRESSION_OPERATORS,\n  FONT_AWESOME_ICONS: FONT_AWESOME_ICONS,\n  G3W_FID: G3W_FID,\n  GEOMETRY_FIELDS: GEOMETRY_FIELDS,\n  GEOMETRY_TYPES: GEOMETRY_TYPES,\n  LIST_OF_RELATIONS_TITLE: LIST_OF_RELATIONS_TITLE,\n  LIST_OF_RELATIONS_ID: LIST_OF_RELATIONS_ID,\n  LOCAL_ITEM_IDS: LOCAL_ITEM_IDS,\n  LOCALSTORAGE_EXTERNALWMS_ITEM: LOCALSTORAGE_EXTERNALWMS_ITEM,\n  MAP_SETTINGS: MAP_SETTINGS,\n  PRINT_FORMATS: PRINT_FORMATS,\n  PRINT_RESOLUTIONS: PRINT_RESOLUTIONS,\n  PRINT_SCALES: PRINT_SCALES,\n  QUERY_POINT_TOLERANCE: QUERY_POINT_TOLERANCE,\n  SEARCH_ALLVALUE: SEARCH_ALLVALUE,\n  SEARCH_RETURN_TYPES: SEARCH_RETURN_TYPES,\n  TIMEOUT: TIMEOUT,\n  TOC_LAYERS_INIT_STATUS: TOC_LAYERS_INIT_STATUS,\n  TOC_THEMES_INIT_STATUS: TOC_THEMES_INIT_STATUS,\n  VIEWPORT: VIEWPORT,\n  ZINDEXES: ZINDEXES\n};\n\n},{\"../version\":376}],5:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve;\n\nfunction BaseService() {\n  var _this = this;\n\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this.project = project;\n  });\n  this.project = _projects2.default.getCurrentProject();\n}\n\nvar proto = BaseService.prototype;\n/**\n *\n * @param request is a Promise(jquery promise at moment\n * @returns {Promise<unknown>}\n */\nproto.handleRequest = function (request) {\n  //  OVERWRITE TO SERVICE\n};\n\nproto.handleResponse = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns { unknown[] } array of external layer add on project\n * \n * @since 3.8.0\n */\nproto.getSelectedExternalLayers = function (_ref2) {\n  var _ref2$type = _ref2.type,\n      type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n  return _gui2.default.getService('catalog').getExternalSelectedLayers({ type: type });\n};\n\n/**\n * @returns {Promise<[]>} a resolved request (empty array)\n * \n * @since 3.8.0\n */\nproto.getEmptyRequest = function () {\n  return resolve([]);\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.hasExternalLayerSelected = function (_ref3) {\n  var _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'vector' : _ref3$type;\n\n  return this.getSelectedExternalLayers({ type: type }).length > 0;\n};\n\nmodule.exports = BaseService;\n\n},{\"core/utils/utils\":67,\"services/gui\":356,\"store/projects\":374}],6:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Layer = require('core/layers/layer');\n\n// class Editor bind editor to layer to do main actions\nfunction Editor() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    save: function save() {\n      this._save();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    setFeatures: function setFeatures() {\n      var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this._setFeatures(features);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    }\n  };\n  base(this);\n  // filter to getFeaturerequest\n  this._filter = {\n    bbox: null\n  };\n\n  this._allfeatures = false;\n  // referred layer\n  this._layer = options.layer;\n  // editing featurestore\n  this._featuresstore = this._layer.getType() === Layer.LayerTypes.TABLE ? new FeaturesStore() : new OlFeaturesStore();\n  // editor is active or not\n  this._started = false;\n  // not editable fields\n  this._noteditablefileds = this._layer.getEditingNotEditableFields() || [];\n}\n\ninherit(Editor, G3WObject);\n\nvar proto = Editor.prototype;\n\nproto._canDoGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = true;\n  if (this._layer.getType() === Layer.LayerTypes.VECTOR) {\n    var _ref = options.filter || {},\n        bbox = _ref.bbox;\n\n    if (bbox) {\n      if (!this._filter.bbox) this._filter.bbox = bbox;else if (!ol.extent.containsExtent(this._filter.bbox, bbox)) {\n        this._filter.bbox = ol.extent.extend(this._filter.bbox, bbox);\n      } else doRequest = false;\n    }\n  }\n  return doRequest;\n};\n\nproto.getEditingSource = function () {\n  return this._featuresstore;\n};\n\n/**\n * get Source\n */\nproto.getSource = function () {\n  this._layer.getSource();\n};\n\nproto._applyChanges = function () {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  _editing2.default.execute(this._featuresstore, items, reverse);\n};\n\nproto.setChanges = function (items, reverse) {\n  this._applyChanges(items, reverse);\n};\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n  return this._layer;\n};\n\nproto.removeNotEditablePropriertiesFromFeature = function (feature) {\n  this._noteditablefileds.forEach(function (field) {\n    return feature.unset([field]);\n  });\n};\n\n//clone features method\nproto._cloneFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return features.map(function (feature) {\n    return feature.clone();\n  });\n};\n\nproto._addFeaturesFromServer = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features = this._cloneFeatures(features);\n  this._featuresstore.addFeatures(features);\n};\n\nproto._doGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = _applicationState2.default.online && !this._allfeatures;\n  return doRequest && this._canDoGetFeaturesRequest(options);\n};\n\n// get features from server method\nproto._getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var doRequest = this._doGetFeaturesRequest(options);\n  if (!doRequest) d.resolve();else this._layer.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      _this._addFeaturesFromServer(features);\n      _this._allfeatures = !options.filter;\n      return d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var d = $.Deferred();\n  var features = this._cloneFeatures(this._layer.readFeatures());\n  this._featuresstore.setFeatures(features);\n  d.resolve();\n  return d.promise();\n};\n\nproto.rollback = function () {\n  var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var d = $.Deferred();\n  this._applyChanges(changes, true);\n  d.resolve();\n  return d.promise();\n};\n\nproto.applyChangesToNewRelationsAfterCommit = function (relationsResponse) {\n  for (var relationLayerId in relationsResponse) {\n    var response = relationsResponse[relationLayerId];\n    var layer = this.getLayerById(relationLayerId);\n    var editingLayerSource = this.getEditingLayer(relationLayerId).getEditingSource();\n    var features = editingLayerSource.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    layer.getSource().setFeatures(features);\n    layer.applyCommitResponse({\n      response: response,\n      result: true\n    });\n    editingLayerSource.setFeatures(layer.getSource().readFeatures());\n  }\n};\n\nproto.setFieldValueToRelationField = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relationId = _ref2.relationId,\n      ids = _ref2.ids,\n      field = _ref2.field,\n      _ref2$values = _ref2.values,\n      values = _ref2$values === undefined ? [] : _ref2$values;\n\n  var editingLayerSource = _sessions2.default.getSession(relationId).getEditor().getEditingSource();\n  ids.forEach(function (id) {\n    var feature = editingLayerSource.getFeatureById(id);\n    if (feature) {\n      var fieldvalue = feature.get(field);\n      fieldvalue == values[0] && feature.set(field, values[1]);\n    }\n  });\n};\n\n// apply response data from server in case of new inserted feature\nproto.applyCommitResponse = function () {\n  var _this2 = this;\n\n  var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (response && response.result) {\n    var data = response.response;\n\n    var ids = data.new;\n    var lockids = data.new_lockids;\n    ids.forEach(function (idobj) {\n      var feature = _this2._featuresstore.getFeatureById(idobj.clientid);\n      feature.setId(idobj.id);\n      feature.setProperties(idobj.properties);\n      relations.forEach(function (relation) {\n        Object.entries(relation).forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              relationId = _ref4[0],\n              options = _ref4[1];\n\n          var value = feature.get(options.fatherField);\n          _this2.setFieldValueToRelationField({\n            relationId: relationId,\n            ids: options.ids,\n            field: options.childField,\n            values: [idobj.clientid, value]\n          });\n        });\n      });\n    });\n    var features = this._featuresstore.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    this._layer.setFeatures(features);\n    this._layer.getSource().addLockIds(lockids);\n  }\n};\n\nproto.getLockIds = function () {\n  return this._layer.getSource().getLockIds();\n};\n\n// run after server apply changed to origin resource\nproto.commit = function (commitItems) {\n  var _this3 = this;\n\n  var d = $.Deferred();\n  // in case of relations bind to new feature\n  var relations = commitItems.add.length ? Object.keys(commitItems.relations).map(function (relationId) {\n    var layerRelation = _this3._layer.getRelations().getRelationByFatherChildren(_this3._layer.getId(), relationId);\n    var updates = commitItems.relations[relationId].update.map(function (relation) {\n      return relation.id;\n    });\n    var add = commitItems.relations[relationId].add.map(function (relation) {\n      return relation.id;\n    });\n    return _defineProperty({}, relationId, {\n      ids: [].concat(_toConsumableArray(add), _toConsumableArray(updates)),\n      fatherField: layerRelation.getFatherField(),\n      childField: layerRelation.getChildField()\n    });\n  }) : [];\n  this._layer.commit(commitItems).then(function (promise) {\n    promise.then(function (response) {\n      _this3.applyCommitResponse(response, relations);\n      d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//start editing function\nproto.start = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  // load features of layer based on filter type\n  this.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      // the features are already inside featuresstore\n      d.resolve(features);\n      //if all ok set to started\n      _this4._started = true;\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//action to layer\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  this._featuresstore.deleteFeature(feature);\n};\n\nproto._updateFeature = function (feature) {\n  this._featuresstore.updateFeature(feature);\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.readFeatures = function () {\n  return this._layer.readFeatures();\n};\n\nproto.readEditingFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// stop editor\nproto.stop = function () {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  this._layer.unlock().then(function (response) {\n    _this5.clear();\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//run save layer\nproto._save = function () {\n  this._layer.save();\n};\n\nproto.isStarted = function () {\n  return this._started;\n};\n\nproto.clear = function () {\n  this._started = false;\n  this._filter.bbox = null;\n  this._allfeatures = false;\n  this._featuresstore.clear();\n  this._layer.getFeaturesStore().clear();\n  this._layer.getType() === Layer.LayerTypes.VECTOR && this._layer.resetEditingSource(this._featuresstore.getFeaturesCollection());\n};\n\nmodule.exports = Editor;\n\n},{\"core/g3wobject\":12,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/layer\":34,\"core/utils/utils\":67,\"services/editing\":354,\"store/application-state\":368,\"store/sessions\":375}],7:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction History() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id;\n  base(this);\n  // registered all changes\n  /*\n  *{\n  * _states: [\n  *     {\n  *       id: unique key\n  *       state: [state] // example: history contsins features state\n  *                      // array because a tool can apply changes to more than one features at time (split di una feature)\n  *     },\n  *     {\n  *       id: unique key\n  *       state: [state]\n  *     },\n  *   ]\n  *     ....\n  *\n  *  _current: unique key // usefult to undo redo\n  *\n  *\n  * */\n  // set maximun \"buffer history\" lenght for  undo redo\n  this._maxSteps = 10;\n  this._states = [];\n  // reactive state of histrory\n  this.state = {\n    commit: false,\n    undo: false,\n    redo: false\n  };\n  this._current = null; // store the current state of history (useful for undo /redo)\n}\n\ninherit(History, G3WObject);\n\nvar proto = History.prototype;\n\nproto.add = function (uniqueId, items) {\n  var _this = this;\n\n  //state object is an array of feature/features changed in a transaction\n  var d = $.Deferred();\n  // before insert an item into the history\n  // check if are at last state step (no redo was done)\n  // in this way avoid starge barch in the history\n  //If we are in the middle of undo, delete all changes in the histroy from the current \"state\"\n  // so i can create a new history\n\n  if (this._current === null) {\n    this._states = [{\n      id: uniqueId,\n      items: items\n    }];\n  } else {\n    if (this._states.length && this._current < this.getLastState().id) this._states = this._states.filter(function (state) {\n      return state.id <= _this._current;\n    });\n    this._states.push({\n      id: uniqueId,\n      items: items\n    });\n  }\n\n  this._current = uniqueId;\n  this._setState();\n  // return unique id key\n  // it can be used in save relation\n  d.resolve(uniqueId);\n  return d.promise();\n};\n\nproto.getRelationStates = function (layerId) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === undefined ? false : _ref$clear;\n\n  var relationStates = [];\n  for (var _i = 0; _i < this._states.length; _i++) {\n    var state = this._states[_i];\n    var relationItems = state.items.filter(function (item) {\n      var _layerId = Array.isArray(item) ? item[0].layerId : item.layerId;\n      return _layerId === layerId;\n    });\n    relationItems.length && relationStates.push({\n      id: state.id,\n      items: relationItems\n    });\n  }\n  return relationStates;\n};\n\nproto.insertState = function (state) {\n  var stateId = state.id;\n  var index = this._states.length;\n  for (var _i2 = 0; _i2 < this._states.length; _i2++) {\n    var _state = this._states[_i2];\n    if (_state.id > stateId) {\n      index = _i2;\n      break;\n    } else if (_state.id === stateId) index = -1;\n    break;\n  }\n  if (index > -1) {\n    if (this._current < stateId) this._current = stateId;\n    this._states.splice(index, 0, state);\n  }\n};\n\nproto.removeState = function (stateId) {\n  var index = void 0;\n  for (i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.id === stateId) {\n      index = i;\n      break;\n    }\n  }\n  if (this._current === stateId) this._current = this._states.length > 1 ? this._states[index - 1].id : null;\n  this._states.splice(index, 1);\n};\n\nproto.removeStates = function () {\n  var stateIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i3 = 0; _i3 < stateIds.length; _i3++) {\n    var stateId = stateIds[_i3];\n    this.removeState(stateId);\n  }\n};\n\nproto.insertStates = function () {\n  var states = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i4 = 0; _i4 < states.length; _i4++) {\n    this.insertState(states[_i4]);\n  }\n  this.canCommit();\n};\n\n// internal method to change the state of the  history when we check\n// a call to a function that modify the hsitory state\nproto._setState = function () {\n  this.canUndo();\n  this.canCommit();\n  this.canRedo();\n};\n\n//check if was did an update (update are array contains two items , old e new value)\nproto._checkItems = function (items, action) {\n  var _this2 = this;\n\n  /**\n   * action: <reffererd to array index>\n   *  0: undo;\n   *  1: redo;\n   **/\n  var newItems = {\n    own: [], //array of changes of layer of the current session\n    dependencies: {} // dependencies\n  };\n  items.forEach(function (item) {\n    if (Array.isArray(item)) item = item[action];\n    // check if belong to session\n    if (_this2.id === item.layerId) {\n      newItems.own.push(item);\n    } else {\n      if (!newItems.dependencies[item.layerId]) newItems.dependencies[item.layerId] = {\n        own: [],\n        dependencies: {}\n      };\n      newItems.dependencies[item.layerId].own.push(item);\n    }\n  });\n  return newItems;\n};\n\n// method undo\nproto.undo = function () {\n  var _this3 = this;\n\n  var items = void 0;\n  if (this._current === this.getFirstState().id) {\n    this._current = null;\n    items = this._states[0].items;\n  } else {\n    this._states.find(function (state, idx) {\n      if (state.id === _this3._current) {\n        items = _this3._states[idx].items;\n        _this3._current = _this3._states[idx - 1].id;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 0);\n  this._setState();\n  return items;\n};\n\n//method redo\nproto.redo = function () {\n  var _this4 = this;\n\n  var items = void 0;\n  // if not set get first state\n  if (!this._current) {\n    items = this._states[0].items;\n    // set current to first\n    this._current = this._states[0].id;\n  } else {\n    this._states.find(function (state, idx) {\n      if (_this4._current === state.id) {\n        _this4._current = _this4._states[idx + 1].id;\n        items = _this4._states[idx + 1].items;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 1);\n  this._setState();\n  return items;\n};\n\nproto.setItemsFeatureIds = function () {\n  var _this5 = this;\n\n  var unsetnewids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  unsetnewids.forEach(function (unsetnewid) {\n    var id = unsetnewid.id,\n        clientid = unsetnewid.clientid;\n\n    _this5._states.forEach(function (state) {\n      var items = state.items;\n\n      items.forEach(function (item) {\n        var feature = item.feature.getId() === clientid && item.feature;\n        if (feature) {\n          feature.setId(id);\n        }\n      });\n    });\n  });\n};\n\nproto.clear = function (ids) {\n  var _this6 = this;\n\n  if (ids) this._states.forEach(function (state, idx) {\n    if (ids.indexOf(state.id) !== -1) {\n      if (_this6._current && _this6._current === state.id()) _this6.undo();\n      _this6._states.splice(idx, 1);\n    }\n  });else this._clearAll();\n};\n\nproto._clearAll = function () {\n  this._states = [];\n  this._current = null;\n  this.state.commit = false;\n  this.state.redo = false;\n  this.state.undo = false;\n};\n\nproto.getState = function (id) {\n  return this._states.find(function (state) {\n    return state.id === id;\n  });\n};\n\nproto.getFirstState = function () {\n  return this._states.length ? this._states[0] : null;\n};\n\nproto.getLastState = function () {\n  var length = this._states.length;\n  return length ? this._states[length - 1] : null;\n};\n\nproto.getCurrentState = function () {\n  var _this7 = this;\n\n  var currentState = null;\n  if (this._current && this._states.length) {\n    currentState = this._states.find(function (state) {\n      return _this7._current === state.id;\n    });\n  }\n  return currentState;\n};\n\n// funzione che mi permette di ricavarel'indice dello stato corrente\nproto.getCurrentStateIndex = function () {\n  var _this8 = this;\n\n  var currentStateIndex = null;\n  if (this._current && this._states.length) {\n    this._states.forEach(function (state, idx) {\n      if (_this8._current === state.id) {\n        currentStateIndex = idx;\n        return false;\n      }\n    });\n  }\n  return currentStateIndex;\n};\n\n// method that response true if we can commit\nproto.canCommit = function () {\n  var checkCommitItems = this.commit();\n  var canCommit = false;\n  for (var layerId in checkCommitItems) {\n    var commitItem = checkCommitItems[layerId];\n    canCommit = canCommit || !!commitItem.length;\n  }\n  this.state.commit = canCommit;\n  return this.state.commit;\n};\n\n//cauUdo method\nproto.canUndo = function () {\n  var steps = this._states.length - 1 - this.getCurrentStateIndex();\n  this.state.undo = !_.isNull(this._current) && this._maxSteps > steps;\n  return this.state.undo;\n};\n\n// Caon Redo function\nproto.canRedo = function () {\n  this.state.redo = this.getLastState() && this.getLastState().id != this._current || _.isNull(this._current) && this._states.length > 0;\n  return this.state.redo;\n};\n\nproto._getStatesToCommit = function () {\n  var _this9 = this;\n\n  return this._states.filter(function (state) {\n    return state.id <= _this9._current;\n  });\n};\n\n//get all changes to send to server (mandare al server)\nproto.commit = function () {\n  var commitItems = {};\n  var statesToCommit = this._getStatesToCommit();\n  statesToCommit.forEach(function (state) {\n    state.items.forEach(function (item) {\n      var add = true;\n      if (Array.isArray(item)) item = item[1];\n      commitItems[item.layerId] && commitItems[item.layerId].forEach(function (commitItem, index) {\n        // check if already inserted feature\n        if (commitItem.getUid() === item.feature.getUid()) {\n          if (item.feature.isNew() && !commitItem.isDeleted() && item.feature.isUpdated()) {\n            var _item = item.feature.clone();\n            _item.add();\n            commitItems[item.layerId][index] = _item;\n          } else if (item.feature.isNew() && item.feature.isDeleted()) {\n            commitItems[item.layerId].splice(index, 1);\n          } else if (item.feature.isUpdated() || item.feature.isDeleted()) commitItems[item.layerId][index] = item.feature;\n          add = false;\n          return false;\n        }\n      });\n      if (add) {\n        var feature = item.feature;\n        var layerId = item.layerId;\n        if (!(!feature.isNew() && feature.isAdded())) {\n          if (!commitItems[layerId]) commitItems[layerId] = [];\n          commitItems[layerId].push(feature);\n        }\n      }\n    });\n  });\n  return commitItems;\n};\n\nmodule.exports = History;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],8:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar History = require('core/editing/history');\nvar Layer = require('core/layers/layer');\n\nvar is3DGeometry = require('core/utils/geo').Geometry.is3DGeometry;\n\nfunction Session() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    start: function start() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._start(options);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    stop: function stop() {\n      return this._stop();\n    },\n    saveChangesOnServer: function saveChangesOnServer(commitItems) {} // hook to get informed that are saved on server\n\n  };\n  base(this, options);\n\n  this.state = {\n    id: options.id,\n    started: false,\n    getfeatures: false\n  };\n  // editor\n  this._editor = options.editor;\n  this._history = new History({\n    id: this.state.id\n  });\n  this._temporarychanges = [];\n  this.register();\n}\n\ninherit(Session, G3WObject);\n\nvar proto = Session.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getLastHistoryState = function () {\n  return this._history.getLastState();\n};\n\nproto.getLastStateId = function () {\n  return this._history.getLastState().id;\n};\n\nproto.deleteState = function (stateId) {\n  this._history.removeState(stateId);\n};\n\nproto.register = function () {\n  _sessions2.default.register(this);\n};\n\nproto.unregister = function () {\n  _sessions2.default.unregister(this.getId());\n};\n\nproto._start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._editor.start(options).then(function (features) {\n    _this.state.started = true;\n    d.resolve(features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\n//method to getFeature from server by editor\nproto._getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (!this._allfeatures) {\n    this._allfeatures = !options.filter;\n    this._editor.getFeatures(options).then(function (promise) {\n      promise.then(function (features) {\n        _this2.state.getfeatures = true;\n        d.resolve(features);\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n    });\n  } else d.resolve([]);\n\n  return d.promise();\n};\n\nproto.isStarted = function () {\n  return this.state.started;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\n// it used to save temporary changes to the layer\n// in history instance and feature store\nproto.save = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //fill history\n  var d = $.Deferred();\n  // add temporary modify to history\n  if (this._temporarychanges.length) {\n    var uniqueId = options.id || Date.now();\n    this._history.add(uniqueId, this._temporarychanges).then(function () {\n      // clear to temporary changes\n      _this3._temporarychanges = [];\n      // resolve if uniqeu id\n      d.resolve(uniqueId);\n    });\n  } else {\n    d.resolve(null);\n  }\n  return d.promise();\n};\n\nproto.updateTemporaryChanges = function (feature) {\n  this._temporarychanges.forEach(function (change) {\n    change.feature.setProperties(feature.getProperties());\n  });\n};\n\n// method to add temporary feature\nproto.pushAdd = function (layerId, feature) {\n  var removeNotEditableProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  /**\n   * Please take care of this to understand\n   */\n  removeNotEditableProperties && this._editor.removeNotEditablePropriertiesFromFeature(feature);\n  var newFeature = feature.clone();\n  this.push({\n    layerId: layerId,\n    feature: newFeature.add()\n  });\n  return newFeature;\n};\n\n// delete temporary feature\nproto.pushDelete = function (layerId, feature) {\n  this.push({\n    layerId: layerId,\n    feature: feature.delete()\n  });\n  return feature;\n};\n\n// add temporary feature changes\nproto.pushUpdate = function (layerId, newFeature, oldFeature) {\n  // in case of change attribute immediately after create feature\n  if (newFeature.isNew()) {\n    var temporarynewfeatureIndex = this._temporarychanges.findIndex(function (change) {\n      return change.layerId === layerId && change.feature.getId() === newFeature.getId();\n    });\n    if (temporarynewfeatureIndex !== -1) {\n      var feature = newFeature.clone();\n      feature.add();\n      this._temporarychanges[temporarynewfeatureIndex].feature = feature;\n      return;\n    }\n  }\n  this.push({\n    layerId: layerId,\n    feature: newFeature.update()\n  }, {\n    layerId: layerId,\n    feature: oldFeature.update()\n  });\n};\n\nproto.removeChangesFromHistory = function () {\n  var changeIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this._history.removeStates(changeIds);\n};\n\nproto.moveRelationStatesOwnSession = function () {\n  var statesIds = {};\n\n  var _getCommitItems = this.getCommitItems(),\n      relationItems = _getCommitItems.relations;\n\n  for (var relationLayerId in relationItems) {\n    var relationStates = this._history.getRelationStates(relationLayerId);\n    var relationSession = _sessions2.default.getSession(relationLayerId);\n    relationSession._history.insertStates(relationStates);\n    statesIds[relationLayerId] = relationStates.map(function (state) {\n      return state.id;\n    });\n  }\n  return statesIds;\n};\n\n// it used to add temporary features\n// that will be added with save method\nproto.push = function (New, Old) {\n  /*\n  New e Old saranno oggetti contenti {\n      layerId: xxxx,\n      feature: feature\n    }\n   */\n  // check is set old (edit)\n  var feature = Old ? [Old, New] : New;\n  this._temporarychanges.push(feature);\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  this._editor.revert().then(function () {\n    _this4._history.clear();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// handle temporary changes of layer\nproto._filterChanges = function () {\n  var id = this.getId();\n  var changes = {\n    own: [],\n    dependencies: {}\n  };\n  this._temporarychanges.forEach(function (temporarychange) {\n    var change = Array.isArray(temporarychange) ? temporarychange[0] : temporarychange;\n    if (change.layerId === id) changes.own.push(change);else {\n      if (!changes.dependencies[change.layerId]) changes.dependencies[change.layerId] = [];\n      // FILO\n      changes.dependencies[change.layerId].unshift(change);\n    }\n  });\n  return changes;\n};\n\nproto.rollback = function (changes) {\n  if (changes) return this._editor.rollback(changes);else {\n    var d = $.Deferred();\n    var _changes = this._filterChanges();\n    this._editor.rollback(_changes.own).then(function () {\n      var dependencies = _changes.dependencies;\n\n      for (var id in dependencies) {\n        _sessions2.default.getSession(id).rollback(dependencies[id]);\n      }\n      d.resolve(dependencies);\n    });\n    this._temporarychanges = [];\n    return d.promise();\n  }\n};\n\n/**\n * Rollback child changes of current session\n * @param ids [array of child layer id]\n */\nproto.rollbackDependecies = function () {\n  var _this5 = this;\n\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  ids.forEach(function (id) {\n    var changes = [];\n    _this5._temporarychanges = _this5._temporarychanges.filter(function (temporarychange) {\n      if (temporarychange.layerId === id) {\n        changes.push(temporarychange);\n        return false;\n      }\n    });\n    changes.length && _sessions2.default.getSession(id).rollback(changes);\n  });\n};\n\n// method undo\nproto.undo = function (items) {\n  items = items || this._history.undo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\n// method redo\nproto.redo = function (items) {\n  items = items || this._history.redo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\nproto._serializeCommit = function (itemsToCommit) {\n  var id = this.getId();\n  var state = void 0;\n  var layer = void 0;\n  var commitObj = {\n    add: [],\n    update: [],\n    delete: [],\n    relations: {}\n  };\n  for (var key in itemsToCommit) {\n    var isRelation = false;\n    var items = itemsToCommit[key];\n    if (key !== id) {\n      isRelation = true;\n      var sessionRelation = _sessions2.default.getSession(key);\n      var lockids = sessionRelation ? sessionRelation.getEditor().getLockIds() : [];\n      commitObj.relations[key] = {\n        lockids: lockids,\n        add: [],\n        update: [],\n        delete: []\n      };\n      layer = commitObj.relations[key];\n    } else layer = commitObj;\n    items.forEach(function (item) {\n      state = item.getState();\n      var GeoJSONFormat = new ol.format.GeoJSON();\n      switch (state) {\n        case 'delete':\n          if (!item.isNew()) layer.delete.push(item.getId());\n          break;\n        default:\n          var value = GeoJSONFormat.writeFeatureObject(item);\n          var childs_properties = item.getProperties();\n          for (var _key in value.properties) {\n            if (value.properties[_key] && _typeof(value.properties[_key]) === 'object' && value.properties[_key].constructor === Object) value.properties[_key] = value.properties[_key].value;\n            if (value.properties[_key] === undefined && childs_properties[_key]) value.properties[_key] = childs_properties[_key];\n          }\n          var action = item.isNew() ? 'add' : item.getState();\n          // in case of add i have to remove non editable properties\n          layer[action].push(value);\n          break;\n      }\n    });\n    // check in case of no edit remove relation key\n    if (isRelation && !layer.add.length && !layer.update.length && !layer.delete.length) {\n      delete commitObj.relations[key];\n    }\n  }\n  return commitObj;\n};\n\nproto.getCommitItems = function () {\n  var commitItems = this._history.commit();\n  return this._serializeCommit(commitItems);\n};\n\n/**\n *\n * Set geometry: {type} of geojson to a 3D type if needed\n * @param layerId\n * @param commitItems\n */\nproto.set3DGeometryType = function () {\n  var _this6 = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$layerId = _ref.layerId,\n      layerId = _ref$layerId === undefined ? this.getId() : _ref$layerId,\n      commitItems = _ref.commitItems;\n\n  var relations = commitItems.relations;\n\n  var editingLayer = _mapLayers2.default.getLayerById(layerId).getEditingLayer();\n  // check id there is a editing layer and if is a vector layer\n  if (editingLayer && editingLayer.getType() === Layer.LayerTypes.VECTOR) {\n    // get Geometry type layer\n    var geometryType = editingLayer.getGeometryType();\n    // if is a 3D layer i set on geoJON before send it to server\n    if (is3DGeometry(geometryType)) {\n      ['add', 'update'].forEach(function (action) {\n        commitItems[action].forEach(function (feature) {\n          return feature.geometry.type = geometryType;\n        });\n      });\n    }\n  }\n  // the same control of relations layers\n  Object.keys(relations).forEach(function (layerId) {\n    return _this6.set3DGeometryType({\n      layerId: layerId,\n      commitItems: relations[layerId]\n    });\n  });\n};\n\nproto.commit = function () {\n  var _this7 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$ids = _ref2.ids,\n      ids = _ref2$ids === undefined ? null : _ref2$ids,\n      items = _ref2.items,\n      _ref2$relations = _ref2.relations,\n      relations = _ref2$relations === undefined ? true : _ref2$relations;\n\n  var d = $.Deferred();\n  var commitItems = void 0;\n  if (ids) {\n    commitItems = this._history.commit(ids);\n    this._history.clear(ids);\n  } else {\n    if (items) commitItems = items;else {\n      commitItems = this._history.commit();\n      commitItems = this._serializeCommit(commitItems);\n    }\n    if (!relations) commitItems.relations = {};\n    this._editor.commit(commitItems).then(function (response) {\n      if (response && response.result) {\n        var data = response.response;\n        var _data$new_relations = data.new_relations,\n            new_relations = _data$new_relations === undefined ? {} : _data$new_relations;\n\n        for (var id in new_relations) {\n          var session = _sessions2.default.getSession(id);\n          session.getEditor().applyCommitResponse({\n            response: new_relations[id],\n            result: true\n          });\n        }\n        _this7._history.clear();\n        _this7.saveChangesOnServer(commitItems);\n        d.resolve(commitItems, response);\n      } else d.reject(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._canStop = function () {\n  return this.state.started || this.state.getfeatures;\n};\n\n//stop session\nproto._stop = function () {\n  var _this8 = this;\n\n  var d = $.Deferred();\n  if (this._canStop()) this._editor.stop().then(function () {\n    _this8.clear();\n    d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.resolve();\n  return d.promise();\n};\n\n// clear all things bind to session\nproto.clear = function () {\n  this._allfeatures = false;\n  this.state.started = false;\n  this.state.getfeatures = false;\n  this.clearHistory();\n  this._editor.clear();\n};\n\n//return l'history\nproto.getHistory = function () {\n  return this._history;\n};\n\n// clear history\nproto.clearHistory = function () {\n  this._history.clear();\n};\n\nmodule.exports = Session;\n\n},{\"core/editing/history\":7,\"core/g3wobject\":12,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":67,\"store/map-layers\":372,\"store/sessions\":375}],9:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar serverErrorParser = function serverErrorParser() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._error = options.error;\n};\n\nvar proto = serverErrorParser.prototype;\n\nproto.parse = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'responseJSON' : _ref$type;\n\n  var error_message = \"server_saver_error\";\n  function traverseErrorMessage(errorObject) {\n    var entries = Object.entries(errorObject);\n    var entry = entries.find(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          value = _ref3[1];\n\n      return key === 'fields';\n    });\n    if (entry) {\n      var _entry = _slicedToArray(entry, 2),\n          value = _entry[1];\n\n      try {\n        if (typeof value === 'string') {\n          var _entries$find = entries.find(function (_ref4) {\n            var _ref5 = _slicedToArray(_ref4, 2),\n                key = _ref5[0],\n                value = _ref5[1];\n\n            return key !== 'fields';\n          }),\n              _entries$find2 = _slicedToArray(_entries$find, 1),\n              field = _entries$find2[0];\n\n          error_message = '[' + field + '] ' + value;\n        } else {\n          error_message = '';\n          Object.entries(value).forEach(function (_ref6) {\n            var _ref7 = _slicedToArray(_ref6, 2),\n                field = _ref7[0],\n                error = _ref7[1];\n\n            error_message = '' + error_message + field + ' ' + (Array.isArray(error) ? error[0] : error) + ' \\n';\n          });\n        }\n      } catch (err) {}\n      return error_message.replace(/\\:|\\./g, '');\n    } else {\n      var _entries$ = _slicedToArray(entries[0], 2),\n          _value = _entries$[1];\n\n      if (!Array.isArray(_value) && (typeof _value === 'undefined' ? 'undefined' : _typeof(_value)) === 'object') return traverseErrorMessage(_value);\n    }\n  }\n  if (type === 'responseJSON') {\n    if (this._error && this._error.responseJSON && this._error.responseJSON.error.message) return this._error.responseJSON.error.message;else if (this._error && this._error.errors) return traverseErrorMessage(this._error.errors);\n  } else if (type === 'String') {\n    if (typeof this._error === 'string') return this._error;else return traverseErrorMessage(this._error);\n  }\n  return t(\"server_saver_error\");\n};\n\nmodule.exports = serverErrorParser;\n\n},{\"core/i18n/i18n.service\":13}],10:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  /**\n   * handleFilterExpressionFormInput\n   * @param field\n   * @param feature\n   * @param qgs_layer_id\n   * @returns {Promise<void|unknown>}\n   */\n  handleFilterExpressionFormInput: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref2.field,\n          feature = _ref2.feature,\n          qgs_layer_id = _ref2.qgs_layer_id,\n          parentData = _ref2.parentData;\n\n      var form_data, options, key, value, _options$layer_id, layer_id, filter_expression, loading, features, values, i;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              form_data = convertFeatureToGEOJSON(feature);\n              options = field.input.options;\n              key = options.key, value = options.value, _options$layer_id = options.layer_id, layer_id = _options$layer_id === undefined ? qgs_layer_id : _options$layer_id, filter_expression = options.filter_expression, loading = options.loading;\n\n              if (!filter_expression) {\n                _context.next = 27;\n                break;\n              }\n\n              loading.state = 'loading';\n              _context.prev = 5;\n              _context.next = 8;\n              return _data2.default.getData('expression:expression', {\n                inputs: {\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id, // layer id owner of the data\n                  form_data: form_data,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  },\n                  formatter: 0,\n                  expression: filter_expression.expression\n                },\n                outputs: false\n              });\n\n            case 8:\n              features = _context.sent;\n              _context.t0 = field.input.type;\n              _context.next = _context.t0 === 'select_autocomplete' ? 12 : 18;\n              break;\n\n            case 12:\n              field.input.options.values = [];\n              /**\n               * Use a temporary array to sort the keys\n               * @type {*[]}\n               */\n              values = [];\n\n              for (i = 0; i < features.length; i++) {\n                values.push({\n                  key: features[i].properties[key],\n                  value: features[i].properties[value]\n                });\n              }\n              values.sort(function (_ref3, _ref4) {\n                var aKey = _ref3.key;\n                var bKey = _ref4.key;\n\n                if (typeof aKey === 'string') {\n                  aKey = aKey.toLowerCase();\n                  bKey = bKey.toLowerCase();\n                }\n                if (aKey < bKey) return -1;\n                if (aKey > bKey) return 1;\n                return 0;\n              });\n              field.input.options.values = values;\n              return _context.abrupt('break', 18);\n\n            case 18:\n              return _context.abrupt('return', features);\n\n            case 21:\n              _context.prev = 21;\n              _context.t1 = _context['catch'](5);\n              return _context.abrupt('return', Promise.reject(_context.t1));\n\n            case 24:\n              _context.prev = 24;\n\n              loading.state = 'ready';\n              return _context.finish(24);\n\n            case 27:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[5, 21, 24, 27]]);\n    }));\n\n    function handleFilterExpressionFormInput() {\n      return _ref.apply(this, arguments);\n    }\n\n    return handleFilterExpressionFormInput;\n  }(),\n\n  /*\n  *handleDefaultExpressionFormInput\n   */\n  handleDefaultExpressionFormInput: function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref6.field,\n          feature = _ref6.feature,\n          qgs_layer_id = _ref6.qgs_layer_id,\n          parentData = _ref6.parentData;\n\n      var form_data, options, _options$layer_id2, layer_id, default_expression, loading, value;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              form_data = convertFeatureToGEOJSON(feature);\n              options = field.input.options;\n              _options$layer_id2 = options.layer_id, layer_id = _options$layer_id2 === undefined ? qgs_layer_id : _options$layer_id2, default_expression = options.default_expression, loading = options.loading;\n\n              if (!default_expression) {\n                _context2.next = 19;\n                break;\n              }\n\n              loading.state = 'loading';\n              /**\n               * In case of default_expression call expression_eval to get value from expression and set it to field\n               */\n              _context2.prev = 5;\n              _context2.next = 8;\n              return _data2.default.getData('expression:expression_eval', {\n                inputs: {\n                  layer_id: layer_id, //\n                  qgs_layer_id: qgs_layer_id, //layer id owner of the data\n                  form_data: form_data,\n                  formatter: 0,\n                  expression: default_expression.expression,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  }\n                },\n                outputs: false\n              });\n\n            case 8:\n              value = _context2.sent;\n\n              field.value = value;\n              return _context2.abrupt('return', value);\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2['catch'](5);\n              return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n            case 16:\n              _context2.prev = 16;\n\n              loading.state = 'ready';\n              return _context2.finish(16);\n\n            case 19:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[5, 13, 16, 19]]);\n    }));\n\n    function handleDefaultExpressionFormInput() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return handleDefaultExpressionFormInput;\n  }()\n};\n\n},{\"core/utils/geo\":64,\"services/data\":353}],11:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    getFormDataExpressionRequestFromFeature = _require.getFormDataExpressionRequestFromFeature,\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  getVisibility: function getVisibility(_ref) {\n    var qgs_layer_id = _ref.qgs_layer_id,\n        expression = _ref.expression,\n        _ref$feature = _ref.feature,\n        feature = _ref$feature === undefined ? {} : _ref$feature,\n        contenttype = _ref.contenttype;\n\n    var formatter = contenttype === 'query' ? 1 : 0;\n    var form_data = contenttype === 'editing' ? convertFeatureToGEOJSON(feature) : getFormDataExpressionRequestFromFeature(feature);\n    return _data2.default.getData('expression:expression_eval', {\n      inputs: {\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter\n      },\n      outputs: false\n    });\n  }\n};\n\n},{\"core/utils/geo\":64,\"services/data\":353}],12:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop,\n    debounce = _require.debounce,\n    throttle = _require.throttle;\n\n/**\n * Base object to handle a setter and its listeners.\n * @constructor\n */\n\n\nvar G3WObject = function G3WObject() {\n  //check if setters property is set. Register the chain of events\n  this.setters && this._setupListenersChain(this.setters);\n  // check debounces\n  this.debounces && this._setupDebounces(this.debounces);\n  //check throttles\n  this.throttles && this._setupThrottles(this.throttles);\n};\n\ninherit(G3WObject, EventEmitter);\n\nvar proto = G3WObject.prototype;\n\n/**\n * Insert a listener on afeter setter was executed\n * @param {string} setter - IMethod name to register a listener function\n * @param {function} listener - listener function (only syncron)\n * @param {number} priority - Priorità di esecuzione: valore minore viene eseuito prima\n */\nproto.onafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority);\n};\n\nproto.onceafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority, true);\n};\n\n/**\n * Listern before cal sesster\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority);\n};\n\n// once before\nproto.oncebefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority, true);\n};\n\n/**\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbeforeasync = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, true, priority);\n};\n\nproto.un = function (setter, key) {\n  // cicle on after before (key) and for each settersListeners (array) find key\n  Object.entries(this.settersListeners).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        _key = _ref2[0],\n        settersListeners = _ref2[1];\n\n    if (key === undefined) settersListeners[setter].splice(0);else settersListeners[setter].forEach(function (setterListener, idx) {\n      if (setterListener.key === key) {\n        settersListeners[setter].splice(idx, 1);\n      }\n    });\n  });\n};\n\n// base function to register and handle on<before/after> setter listeners\n/*\n  when=before|after,\n  type=sync|async\n*/\nproto._onsetter = function (when, setter, listener, async) {\n  var priority = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var once = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var listenerKey = void 0;\n  // check if setter function is register.\n  if (typeof this.settersListeners[when][setter] !== \"undefined\") {\n    // set unique listenerKey value\n    listenerKey = '' + (Math.floor(Math.random() * 1000000) + Date.now());\n    // add info object to setters listeners\n    this.settersListeners[when][setter].push({\n      key: listenerKey,\n      fnc: listener,\n      async: async,\n      priority: priority,\n      once: once\n    });\n    // set lineners base on priority\n    this.settersListeners[when][setter] = _.sortBy(this.settersListeners[when][setter], function (setterListener) {\n      return setterListener.priority;\n    });\n  }\n  // return key\n  return listenerKey; // in case of no setter register return undefined listerKey\n};\n\nproto._setupListenersChain = function (setters) {\n  var _this = this;\n\n  // initialize all methods inside object \"setters\" of child class.\n  this.settersListeners = {\n    after: {},\n    before: {}\n  };\n\n  var _loop = function _loop(setter) {\n    var setterOption = setters[setter];\n    var setterFnc = noop;\n    var setterFallback = noop;\n    if (_.isFunction(setterOption)) setterFnc = setterOption;else {\n      setterFnc = setterOption.fnc;\n      setterFallback = setterOption.fallback || noop; // method called in case of error\n    }\n    // create array to push before and after subscribers\n    _this.settersListeners.after[setter] = [];\n    _this.settersListeners.before[setter] = [];\n    // assign the property settern name to the object as own method\n    _this[setter] = function () {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var deferred = $.Deferred();\n      var returnVal = null;\n      var counter = 0;\n      // function to call original function(setter function)\n      var callSetter = function callSetter() {\n        // run setter function\n        returnVal = setterFnc.apply(_this2, args);\n        // resolve promise\n        deferred.resolve(returnVal);\n        //call all subscribed methods afet setter\n        var onceListenerKeys = [];\n        var afterListeners = _this2.settersListeners.after[setter];\n        afterListeners.forEach(function (listener) {\n          listener.fnc.apply(_this2, args);\n          listener.once && onceListenerKeys.push(listener.key);\n        });\n        onceListenerKeys.forEach(function (key) {\n          return _this2.un(setter, key);\n        });\n      };\n      //  abort function\n      var abort = function abort() {\n        setterFallback.apply(_this2, args);\n        deferred.reject();\n      };\n      // get all before listeners functions of setter\n      var beforeListeners = this.settersListeners['before'][setter];\n      // listener counter\n      counter = 0;\n      var next = function next(bool) {\n        // initilize cont to true (continue)\n        var cont = true;\n        // check if bool is Boolean\n        if (_.isBoolean(bool)) cont = bool;\n        // check if count is false or we are arrived to the end of onbefore subscriber\n        if (cont === false) {\n          // found an error so we can abort\n          abort.apply(_this2, args);\n        } else if (counter === beforeListeners.length) {\n          // call complete method methods\n          var completed = callSetter();\n          //verifico che cosa ritorna\n          if (completed === undefined || completed === true) {\n            _this2.emitEvent('set:' + setter, args);\n          }\n        } else if (cont) {\n          var listenerObj = beforeListeners[counter];\n          var currentCounter = counter;\n          // if is async functtion\n          if (beforeListeners[counter].async) {\n            //add function next to argument of listnerFunction\n            args.push(next);\n            // update counter\n            counter += 1;\n            listenerObj.fnc.apply(_this2, args);\n          } else {\n            // return or undefine or a boolen to tell if ok(true) can conitnue or not (false)\n            var _bool = listenerObj.fnc.apply(_this2, args);\n            //update counter\n            counter += 1;\n            next(_bool);\n          }\n          listenerObj.once && beforeListeners.splice(currentCounter, 1);\n        }\n      };\n      // run next to start to run all the subscribers and setrer its self\n      next();\n      // retun a promise\n      return deferred.promise();\n    };\n  };\n\n  for (var setter in setters) {\n    _loop(setter);\n  }\n  return this.settersListeners;\n};\n\nproto._setupDebounces = function (debounces) {\n  for (var name in debounces) {\n    var delay = debounces[name].delay;\n    var fnc = debounces[name].fnc;\n    this[name] = debounce(fnc, delay);\n  }\n};\n\nproto._setupThrottles = function (throttles) {\n  for (var name in throttles) {\n    var delay = throttles[name].delay;\n    var fnc = throttles[name].fnc;\n    this[name] = throttle(fnc, delay);\n  }\n};\n\n//method get\nproto.get = function (key) {\n  return this[key] && !(this[key] instanceof Function) ? this[key] : null;\n};\n\n//method set\nproto.set = function (key, value) {\n  this[key] = value;\n};\n\nmodule.exports = G3WObject;\n\n},{\"core/utils/utils\":67}],13:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// main object content for i18n\nvar plugins18nConfig = {};\n\nfunction init(config) {\n  config.appLanguages.forEach(function (language) {\n    plugins18nConfig[language] = {\n      plugins: {}\n    };\n  });\n  i18next.use(i18nextXHRBackend).init({\n    lng: config.language,\n    ns: 'app',\n    fallbackLng: 'en',\n    resources: config.resources\n  });\n  return new Promise(function (resolve, reject) {\n    jqueryI18next.init(i18next, $, {\n      tName: 't', // --> appends $.t = i18next.t\n      i18nName: 'i18n', // --> appends $.i18n = i18next\n      handleName: 'localize', // --> appends $(selector).localize(opts);\n      selectorAttr: 'data-i18n', // selector for translating elements\n      targetAttr: 'data-i18n-target', // element attribute to grab target element to translate (if diffrent then itself)\n      optionsAttr: 'data-i18n-options', // element attribute that contains options, will load/set if useOptionsAttr = true\n      useOptionsAttr: false, // see optionsAttr\n      parseDefaultValueFromContent: true // parses default values from content ele.val or ele.text\n    });\n    addI18n(plugins18nConfig);\n    resolve();\n  });\n}\nvar getAppLanguage = function getAppLanguage() {\n  var config = _application2.default.getConfig();\n  return config.user.i18n || \"en\";\n};\n\n// function to translate\nvar t = function t(text) {\n  return i18next.t(text);\n};\n\n// function to translate plugins\nvar tPlugin = function tPlugin(text) {\n  return i18next.t('plugins.' + text);\n};\n\nvar tPrefix = function tPrefix(filter) {\n  return function (text) {\n    return i18next.t(filter + '.' + text);\n  };\n};\n\nvar addI18nPlugin = function addI18nPlugin(_ref) {\n  var name = _ref.name,\n      config = _ref.config;\n\n  for (var language in config) {\n    var pluginLanguage = plugins18nConfig[language];\n    if (pluginLanguage) pluginLanguage.plugins[name] = config[language];\n  }\n  addI18n(plugins18nConfig);\n};\n\nvar addI18n = function addI18n(i18nObject) {\n  for (var language in i18nObject) {\n    var languageObj = i18nObject[language];\n    for (var key in languageObj) {\n      i18next.addResource(language, 'translation', key, languageObj[key]);\n    }\n  }\n};\n\nvar changeLanguage = function changeLanguage(language) {\n  i18next.changeLanguage(language);\n};\n\nmodule.exports = {\n  init: init,\n  t: t,\n  tPlugin: tPlugin,\n  tPrefix: tPrefix,\n  addI18n: addI18n,\n  addI18nPlugin: addI18nPlugin,\n  changeLanguage: changeLanguage,\n  getAppLanguage: getAppLanguage\n};\n\n},{\"services/application\":346}],14:[function(require,module,exports){\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME: application is broken using like the following line\n */\n// import { IframePluginService } from 'services';\n\nmodule.exports = _iframePlugin2.default; /**\n                                          * DEPRECATED: this file will be removed after v3.4 (use \"services/iframe-router.js\" instead)\n                                          */\n\n},{\"services/iframe-plugin\":359}],15:[function(require,module,exports){\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    createFilterFormField = _require.createFilterFormField;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction BaseIframeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.ready = false;\n  this.init = function () {\n    //overwrite each service\n  };\n}\n\ninherit(BaseIframeService, G3WObject);\n\nvar proto = BaseIframeService.prototype;\n\n/**\n * Common mapService attribute\n */\nproto.mapService = _gui2.default.getComponent('map').getService();\n\n/**\n * Common current project attribute\n */\nproto.project = _projects2.default.getCurrentProject();\n\n/**\n *\n * @type {null}\n */\nproto.layers = undefined;\n\n/**\n * Return a qgs_layer_id array based on passed qgis_layer_id\n * @param qgs_layer_id : String , Array of Strings or null/undefined)\n * @returns Array oa qgs_layer_id strings\n * @private\n */\nproto.getQgsLayerId = function (_ref) {\n  var qgs_layer_id = _ref.qgs_layer_id,\n      _ref$noValue = _ref.noValue,\n      noValue = _ref$noValue === undefined ? this.layers.map(function (layer) {\n    return layer.id;\n  }) : _ref$noValue;\n\n  return qgs_layer_id ? Array.isArray(qgs_layer_id) ? qgs_layer_id : [qgs_layer_id] : noValue;\n};\n\n/**\n * Method to getFeature from DataProvider\n * @private\n */\nproto.searchFeature = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var layer = _ref2.layer,\n        feature = _ref2.feature;\n\n    var search_endpoint, field, value, _ref4, _ref4$data, data;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            search_endpoint = this.project.getSearchEndPoint();\n            field = feature.field, value = feature.value;\n            _context.next = 4;\n            return _data2.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: createFilterFormField({\n                  layer: layer,\n                  search_endpoint: search_endpoint,\n                  field: field,\n                  value: value\n                })\n              },\n              outputs: false\n            });\n\n          case 4:\n            _ref4 = _context.sent;\n            _ref4$data = _ref4.data;\n            data = _ref4$data === undefined ? [] : _ref4$data;\n            return _context.abrupt('return', data);\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Comme method to search feature/s by field and value\n * @param qgs_layer_id\n * @param feature\n * @param zoom\n * @param highlight\n * @returns {Promise<{qgs_layer_id: null, features: [], found: boolean}>}\n */\nproto.findFeaturesWithGeometry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$qgs_layer_id = _ref6.qgs_layer_id,\n      qgs_layer_id = _ref6$qgs_layer_id === undefined ? [] : _ref6$qgs_layer_id,\n      feature = _ref6.feature,\n      _ref6$zoom = _ref6.zoom,\n      zoom = _ref6$zoom === undefined ? false : _ref6$zoom,\n      _ref6$highlight = _ref6.highlight,\n      highlight = _ref6$highlight === undefined ? false : _ref6$highlight;\n\n  var response, layersCount, i, layer, data, features;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          response = {\n            found: false,\n            features: [],\n            qgs_layer_id: null\n          };\n          layersCount = qgs_layer_id.length;\n          i = 0;\n\n        case 3:\n          if (!(!response.found && i < layersCount)) {\n            _context2.next = 20;\n            break;\n          }\n\n          layer = this.project.getLayerById(qgs_layer_id[i]);\n          _context2.prev = 5;\n          _context2.t0 = layer;\n\n          if (!_context2.t0) {\n            _context2.next = 11;\n            break;\n          }\n\n          _context2.next = 10;\n          return this.searchFeature({\n            layer: layer,\n            feature: feature\n          });\n\n        case 10:\n          _context2.t0 = _context2.sent;\n\n        case 11:\n          data = _context2.t0;\n\n          if (data.length) {\n            features = data[0].features;\n\n            response.found = features.length > 0 && !!features.find(function (feature) {\n              return feature.getGeometry();\n            });\n            if (response.found) {\n              response.features = features;\n              response.qgs_layer_id = qgs_layer_id[i];\n              zoom && this.mapService.zoomToFeatures(features, {\n                highlight: highlight\n              });\n            } else i++;\n          } else i++;\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t1 = _context2['catch'](5);\n          i++;\n\n        case 18:\n          _context2.next = 3;\n          break;\n\n        case 20:\n          // in case of no response zoom too initial extent\n          !response.found && this.mapService.zoomToProjectInitExtent();\n\n          return _context2.abrupt('return', response);\n\n        case 22:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[5, 15]]);\n}));\n\n/**\n * Set layer function\n * @param layers\n */\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  proto.layers = layers;\n};\n\nproto.getLayers = function () {\n  return proto.layers;\n};\n\n/**\n * Method to set ready the service\n * @param bool\n */\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.ready = bool;\n};\n\nproto.getReady = function () {\n  return this.ready;\n};\n\n/**\n * Method overwrite single service: Usefult to sto eventually running action\n * * @returns {Promise<void>}\n */\nproto.stop = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * Overwrite each single service\n */\nproto.clear = function () {\n  //overwrite single service\n};\n\nmodule.exports = BaseIframeService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],16:[function(require,module,exports){\nvar _iframeApp = require('services/iframe-app');\n\nvar _iframeApp2 = _interopRequireDefault(_iframeApp);\n\nvar _iframeEditing = require('services/iframe-editing');\n\nvar _iframeEditing2 = _interopRequireDefault(_iframeEditing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  app: _iframeApp2.default,\n  editing: _iframeEditing2.default\n};\n\n},{\"services/iframe-app\":357,\"services/iframe-editing\":358}],17:[function(require,module,exports){\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction BasePluginService() {\n  base(this);\n  // common attributes between plugin service\n  this.pluginName;\n  this.dependencyApi = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$layers = _ref2.layers,\n        layers = _ref2$layers === undefined ? {} : _ref2$layers;\n\n    var plugin;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this.layers = layers;\n            // check if the plugin in in configuration\n            if (_plugins2.default.isPluginInConfiguration(this.pluginName)) {\n              plugin = _plugins2.default.getPlugin(this.pluginName);\n\n              if (plugin) {\n                this.setDependencyApi(plugin.getApi());\n                this.setReady(true);\n              } else {\n                _plugins2.default.onafter('registerPlugin', function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(plugin) {\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return plugin.isReady();\n\n                          case 2:\n                            if (plugin.getName() === _this.pluginName) {\n                              _this.setDependencyApi(plugin.getApi());\n                              _this.setReady(true);\n                            }\n\n                          case 3:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this);\n                  }));\n\n                  return function (_x2) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n              }\n            }\n\n          case 2:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  this.clear = function () {\n    //TO OVERWRITE\n  };\n}\n\ninherit(BasePluginService, BaseService);\n\nvar proto = BasePluginService.prototype;\n\nproto.setDependencyApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.dependencyApi = api;\n};\n\nproto.getDependecyApi = function () {\n  return this.dependencyApi;\n};\n\nmodule.exports = BasePluginService;\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":67,\"store/plugins\":373}],18:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction ARCGISMAPSERVERLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(ARCGISMAPSERVERLayer, BaseLayer);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    source_type: 'arcgismapserver',\n    projection: projection,\n    attributions: attributions\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":105}],19:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Projections = require('g3w-ol/projection/projections');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar ImageLayer = require('core/layers/imagelayer');\n\nfunction BaseLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n  if (this.isWMS()) {\n    var _config = {\n      url: this.getWmsUrl(),\n      id: this.state.id,\n      tiled: this.state.tiled\n    };\n    this._mapLayer = new WMSLayer(_config);\n    this._mapLayer.addLayer(this);\n  } else this._mapLayer = this;\n}\n\ninherit(BaseLayer, ImageLayer);\n\nvar proto = BaseLayer.prototype;\n\nproto.getProjectionFromCrs = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  crs.epsg = crs.epsg ? crs.epsg : \"EPSG:3857\";\n  return Projections.get(crs);\n};\n\nproto._makeOlLayer = function () {\n  //TO OVERWRITE\n};\n\nproto._registerLoadingEvent = function () {\n  var _this = this;\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) {\n    olLayer = this._olLayer = this._makeOlLayer();\n    this._registerLoadingEvent();\n    if (this._mapLayer.config.attributions) {\n      this._olLayer.getSource().setAttributions(this._mapLayer.config.attributions);\n    }\n    olLayer.setVisible(this._mapLayer.state.visible);\n  }\n  return olLayer;\n};\n\nproto._updateLayer = function (mapState, extraParams) {\n  if (this.isWMS()) {\n    this._mapLayer.update(mapState, extraParams);\n  }\n};\n\nproto.setVisible = function (bool) {\n  this.getOLLayer().setVisible(bool);\n};\n\nproto.getMapLayer = function () {\n  return this._mapLayer;\n};\n\nmodule.exports = BaseLayer;\n\n},{\"core/layers/imagelayer\":33,\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":109}],20:[function(require,module,exports){\nvar BaseLayers = {\n  'OSM': require('./osmlayer'),\n  'Bing': require('./binglayer'),\n  'TMS': require('./tmslayer'),\n  'ARCGISMAPSERVER': require('./arcgislayer'),\n  'WMTS': require('./wmtslayer'),\n  'WMS': require('./wmslayer')\n};\n\nmodule.exports = BaseLayers;\n\n},{\"./arcgislayer\":18,\"./binglayer\":21,\"./osmlayer\":22,\"./tmslayer\":23,\"./wmslayer\":24,\"./wmtslayer\":25}],21:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction BingLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(BingLayer, BaseLayer);\n\nvar proto = BingLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = void 0;\n  var key = _applicationState2.default.keys.vendorkeys.bing;\n  var subtype = this.config.source ? this.config.source.subtype : null;\n  switch (subtype) {\n    case 'streets':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Road',\n        key: key\n      });\n      break;\n    case 'aerial':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n      break;\n    case 'aerialwithlabels':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'AerialWithLabels',\n        key: key\n      });\n      break;\n    default:\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n  }\n  return olLayer;\n};\n\nmodule.exports = BingLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":105,\"store/application-state\":368}],22:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction OSMLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(OSMLayer, BaseLayer);\n\nvar proto = OSMLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = BasesLayers.OSM.get({\n    id: this.config.name,\n    title: this.config.title,\n    url: this.config.url\n  });\n  return olLayer;\n};\n\nmodule.exports = OSMLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":105}],23:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction TMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(TMSLayer, BaseLayer);\n\nvar proto = TMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      minZoom = _config.minZoom,\n      maxZoom = _config.maxZoom,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    attributions: attributions,\n    projection: projection\n  });\n  return olLayer;\n};\n\nmodule.exports = TMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":105}],24:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMSLayer, BaseLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layers = _config.layers,\n      singleTile = _config.singleTile,\n      attributions = _config.attributions,\n      crs = _config.crs,\n      opacity = _config.opacity;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMS.get({\n    url: url,\n    layers: layers,\n    singleTile: singleTile,\n    attributions: attributions,\n    projection: projection,\n    opacity: opacity\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":105}],25:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMTSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMTSLayer, BaseLayer);\n\nvar proto = WMTSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layer = _config.layer,\n      attributions = _config.attributions,\n      matrixSet = _config.matrixSet,\n      format = _config.format,\n      style = _config.style,\n      requestEncoding = _config.requestEncoding,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMTS.get({\n    url: url,\n    layer: layer,\n    attributions: attributions,\n    format: format,\n    projection: projection,\n    requestEncoding: requestEncoding,\n    matrixSet: matrixSet,\n    style: style\n  });\n  return olLayer;\n};\n\nmodule.exports = WMTSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":105}],26:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\n\nvar Feature = function Feature() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.Feature.call(this);\n  this._uid = uniqueId();\n  this._newPrefix = '_new_';\n  this._geometry = false;\n  var feature = options.feature,\n      properties = options.properties;\n\n  if (feature) {\n    // check if has to set only some properties or all feature properties\n    if (properties && Array.isArray(properties)) properties.forEach(function (property) {\n      return _this.set(property, feature.get(property));\n    });else this.setProperties(feature.getProperties());\n    this.setId(feature.getId());\n    this.setGeometryName(feature.getGeometryName());\n    var geometry = feature.getGeometry();\n    this._geometry = !!geometry;\n    geometry && this.setGeometry(geometry);\n    var style = this.getStyle();\n    style && this.setStyle(style);\n  }\n  this.state = {\n    new: false,\n    state: null,\n    visible: true\n  };\n};\n\nol.inherits(Feature, ol.Feature);\n\nvar proto = Feature.prototype;\n\n//change constructor\nproto.constructor = 'Feature';\n\n/**\n * Return unique id\n * @returns {*}\n */\nproto.getUid = function () {\n  return this._uid;\n};\n\n/**\n * set new uid\n * @param uid\n * @private\n */\nproto._setUid = function (uid) {\n  this._uid = uid;\n};\n\nproto.isGeometry = function () {\n  return this._geometry;\n};\n\nproto.cloneNew = function () {\n  var clone = this.clone();\n  var uid = uniqueId();\n  clone._setUid(uid);\n  clone.setTemporaryId();\n  return clone;\n};\n\n/**\n * clone existing feature\n * @returns {Feature}\n */\nproto.clone = function () {\n  var feature = ol.Feature.prototype.clone.call(this);\n  feature.setId(this.getId());\n  this.isGeometry() && feature.setGeometry(feature.getGeometry().clone());\n  var clone = new Feature({\n    feature: feature\n  });\n  var uid = this.getUid();\n  clone._setUid(uid);\n  clone.setState(this.getState());\n  this.isNew() && clone.setNew();\n  return clone;\n};\n\nproto.setTemporaryId = function () {\n  var newValue = '' + this._newPrefix + uniqueId();\n  this.setId(newValue);\n  this.setNew();\n};\n\nproto.setNew = function () {\n  this.state.new = true;\n};\n\nproto.delete = function () {\n  this.state.state = 'delete';\n  return this;\n};\n\nproto.update = function () {\n  this.state.state = 'update';\n  return this;\n};\n\nproto.add = function () {\n  this.state.state = 'add';\n  return this;\n};\n\nproto.isNew = function () {\n  return this.state.new;\n};\n\nproto.isAdded = function () {\n  return this.state.state === 'add';\n};\n\nproto.isUpdated = function () {\n  return this.state.state === 'update';\n};\n\nproto.isDeleted = function () {\n  return this.state.state === 'delete';\n};\n\nproto.setFullState = function (state) {\n  this.state = state;\n};\n\nproto.getFullState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state.state = state;\n};\n\nproto.getState = function () {\n  return this.state.state;\n};\n\nproto.getAlphanumericProperties = function () {\n  var properties = this.getProperties();\n  var alphanumericproperties = {};\n  for (var name in properties) {\n    if (geometryFields.indexOf(name) === -1) alphanumericproperties[name] = properties[name];\n  }\n  return alphanumericproperties;\n};\n\n//clean state of the features\nproto.clearState = function () {\n  this.state.state = null;\n  this.state.new = false;\n};\n\n/**\n * need to filter features visiblity on table\n * @returns {boolean}\n */\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.visible = bool;\n};\n\nmodule.exports = Feature;\n\n},{\"app/constant\":4,\"core/utils/utils\":67}],27:[function(require,module,exports){\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Object to store and handle features of layer\nfunction FeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._features = options.features || [];\n  this._provider = options.provider || null;\n  this._loadedIds = []; // store locked ids\n  this._lockIds = []; // store locked features\n  this.hasFeatureLockByOtherUser = false; // property tath i set to true if some feature are locked by other user\n  this.setters = {\n    addFeatures: function addFeatures(features) {\n      var _this = this;\n\n      features.forEach(function (feature) {\n        _this._addFeature(feature);\n      });\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    removeFeature: function removeFeature(feature) {\n      this._removeFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    clear: function clear() {\n      this._clearFeatures();\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    commit: function commit(commitItems, featurestore) {\n      return this._commit(commitItems, featurestore);\n    },\n\n    /**\n     * setter to know when some feature are locked\n     */\n    featuresLockedByOtherUser: function featuresLockedByOtherUser() {\n      //set to true\n      this.hasFeatureLockByOtherUser = true;\n    }\n  };\n\n  base(this);\n}\n\ninherit(FeaturesStore, G3WObject);\n\nvar proto = FeaturesStore.prototype;\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\n// method unlock features\nproto.unlock = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  this._provider.unlock().then(function (response) {\n    // set to false when featuresstore is unlocked\n    _this2.hasFeatureLockByOtherUser = false;\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method get all features from server or attribute _features\nproto._getFeatures = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (this._provider) {\n    this._provider.getFeatures(options).then(function (options) {\n      var features = _this3._filterFeaturesResponse(options);\n      _this3.addFeatures(features);\n      d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.resolve(this._readFeatures());\n  return d.promise();\n};\n\n//filter features to add\nproto._filterFeaturesResponse = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * get features returned from server and feature that are current locked.\n   * If featurelocks are less that a features, it means that other user is editing these feature\n   * @type {*[]}\n   */\n  var _options$features = options.features,\n      features = _options$features === undefined ? [] : _options$features,\n      _options$featurelocks = options.featurelocks,\n      featurelocks = _options$featurelocks === undefined ? [] : _options$featurelocks,\n      count = options.count;\n\n  var featuresToAdd = features.filter(function (feature) {\n    var featureId = feature.getId();\n    var added = _this4._loadedIds.indexOf(featureId) !== -1;\n    if (!added) _this4._loadedIds.push(featureId);\n    return !added;\n  });\n  this._filterLockIds(featurelocks);\n  if (features.length < count && !this.hasFeatureLockByOtherUser) this.featuresLockedByOtherUser();\n  return featuresToAdd;\n};\n\n// method get features locked\nproto._filterLockIds = function (featurelocks) {\n  var _lockIds = this._lockIds.map(function (lockid) {\n    return lockid.featureid;\n  });\n  var toAddLockId = featurelocks.filter(function (featurelock) {\n    return _lockIds.indexOf(featurelock.featureid) === -1;\n  });\n  this._lockIds = [].concat(_toConsumableArray(this._lockIds), _toConsumableArray(toAddLockId));\n};\n\nproto.addLoadedIds = function (id) {\n  this._loadedIds.push(id);\n};\n\nproto.getLockIds = function () {\n  return this._lockIds;\n};\n\n//method to add new lockid\nproto.addLockIds = function (lockIds) {\n  var _this5 = this;\n\n  this._lockIds = _.union(this._lockIds, lockIds);\n  this._lockIds.forEach(function (lockId) {\n    return _this5._loadedIds.push(lockId.featureid);\n  });\n};\n\nproto._readFeatures = function () {\n  return this._features;\n};\n\nproto._commit = function (commitItems) {\n  var d = $.Deferred();\n  if (commitItems && this._provider) {\n    commitItems.lockids = this._lockIds;\n    this._provider.commit(commitItems).then(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get feature from id\nproto.getFeatureById = function (featureId) {\n  return this._features.find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n};\n\n//substitute feature after update\nproto._updateFeature = function (feature) {\n  var _this6 = this;\n\n  this._features.find(function (feat, idx) {\n    if (feat.getUid() === feature.getUid()) {\n      _this6._features[idx] = feature;\n      return true;\n    }\n  });\n};\n\nproto.setFeatures = function (features) {\n  this._features = features;\n};\n\nproto._removeFeature = function (feature) {\n  this._features = this._features.filter(function (feat) {\n    return feature.getUid() !== feat.getUid();\n  });\n};\n\nproto._clearFeatures = function () {\n  this._features = null;\n  this._features = [];\n  this._lockIds = [];\n  this._loadedIds = [];\n};\n\nproto.getDataProvider = function () {\n  return this._provider;\n};\n\n// only read downloaded features\nproto.readFeatures = function () {\n  return this._features;\n};\n\nmodule.exports = FeaturesStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],28:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar FeaturesStore = require('core/layers/features/featuresstore');\n\n// Storage of the feature in vector layer\nfunction OlFeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._features = options.features || new ol.Collection([]);\n}\n\ninherit(OlFeaturesStore, FeaturesStore);\n\nvar proto = OlFeaturesStore.prototype;\n\nproto.getLength = function () {\n  return this._features.getLength();\n};\n\n//overwrite\nproto.setFeatures = function () {\n  var _this = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this._features.push(feature);\n  });\n};\n// overwrite\nproto.readFeatures = function () {\n  return this._features.getArray();\n};\n\nproto.getFeaturesCollection = function () {\n  return this._features;\n};\n\nproto.getFeatureById = function (featureId) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n  // useful for ol.source.Vector\n  this._features.dispatchEvent('change');\n};\n\n//sobtitute the feature after modify\nproto._updateFeature = function (feature) {\n  // set index at -1\n  var index = -1;\n  var featuresArray = this._features.getArray();\n  for (var i = 0; featuresArray.length; i++) {\n    var _feature = featuresArray[i];\n    if (_feature.getUid() === feature.getUid()) {\n      index = i;\n      break;\n    }\n  }\n  if (index >= 0) {\n    this._features.removeAt(index);\n    this._features.insertAt(index, feature);\n    this._features.dispatchEvent('change');\n  }\n};\n\n// remove feature from store\nproto._removeFeature = function (feature) {\n  var featuresArray = this._features.getArray();\n  for (var i = 0; i < featuresArray.length; i++) {\n    var feat = featuresArray[i];\n    if (feature.getUid() === feat.getUid()) {\n      this._features.removeAt(i);\n      break;\n    }\n  }\n  this._features.dispatchEvent('change');\n};\n\nproto._clearFeatures = function () {\n  try {\n    this._features.clear();\n  } catch (err) {}\n  this._features = null;\n  this._features = new ol.Collection([]);\n};\n\nmodule.exports = OlFeaturesStore;\n\n},{\"core/layers/features/featuresstore\":27,\"core/utils/utils\":67}],29:[function(require,module,exports){\nvar _constant = require('app/constant');\n\n//Expression\nfunction Expression() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._layerName = options.layerName;\n  var filter = options.filter;\n  this._expression = filter && filter || '';\n}\n\nvar proto = Expression.prototype;\n\nproto.and = function (field, value) {\n  this._expression = this._expression ? this._expression + ' AND ' : this._expression;\n  if (field && value) {\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.or = function () {\n  if (field && value) {\n    this._expression = this._expression ? this._expression + ' OR ' : this._expression;\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.eq = function (field, value) {\n  this._expression = this._expression + this._build('eq', field, value);\n  return this;\n};\n\nproto.like = function (field, value) {\n  this._expression = this._expression + this._build('LIKE', field, value);\n  return this;\n};\n\nproto.ilike = function (field, value) {\n  this._expression = this._expression + this._build('ILIKE', field, value);\n  return this;\n};\n\nproto.not = function (field, value) {\n  this._expression = this._expression + this._build('NOT', field, value);\n  return this;\n};\n\nproto.gt = function (field, value) {\n  this._expression = this._expression + this._build('gt', field, value);\n  return this;\n};\n\nproto.gte = function (field, value) {\n  this._expression = this._expression + this._build('gte', field, value);\n  return this;\n};\n\nproto.lt = function (field, value) {\n  this._expression = this._expression + this._build('lt', field, value);\n  return this;\n};\n\nproto.lte = function (field, value) {\n  this._expression = this._expression + this._build('lte', field, value);\n  return this;\n};\n\nproto.clear = function () {\n  this._expression = '';\n  return this;\n};\n\n// get expression method to get the realt value of the expression\nproto.get = function () {\n  return this._layerName ? this._layerName + ': ' + this._expression : this._expression;\n};\n\nproto._build = function (operator, field, value) {\n  return ['\"' + field + '\"', _constant.FILTER_EXPRESSION_OPERATORS[operator], '' + value].join(' ');\n};\n\nproto.createSingleExpressionElement = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      attribute = _ref.attribute,\n      operator = _ref.operator,\n      logicop = _ref.logicop;\n\n  var filterElement = void 0;\n  var valueExtra = operator === 'LIKE' || operator === 'ILIKE' ? \"%\" : \"\";\n  var filterOp = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n  var filterLogicOperator = logicop && ' ' + logicop + ' ' || '';\n  if (operator === 'IN') {\n    var _value = Array.isArray(value) ? value : [value];\n    var filterValue = '( ' + _value.map(function (value) {\n      return '\\'' + value + '\\'';\n    }).join(',').replace(/,/g, ' , ') + ' )';\n    filterElement = '\"' + attribute + '\" ' + filterOp + ' ' + filterValue + filterLogicOperator;\n  } else if (value !== null && value !== undefined && !(Number.isNaN(value) || !value.toString().trim())) {\n    var singolequote = typeof value !== 'number' ? value.split(\"'\") : [];\n    if (singolequote.length > 1) {\n      var _filterElements = [];\n      for (var i = 0; i < singolequote.length; i++) {\n        var _value2 = singolequote[i];\n        if (!_value2) continue;\n        var _filterOp = 'ILIKE';\n        var _filterValue = ('%' + _value2 + '%').trim();\n        var _filterElement = '\"' + attribute + '\" ' + _filterOp + ' \\'' + _filterValue + '\\'';\n        _filterElements.push(_filterElement);\n      }\n      filterElement = '' + _filterElements.join(' AND ') + filterLogicOperator;\n    } else filterElement = '\"' + attribute + '\" ' + filterOp + ' \\'' + valueExtra + value + valueExtra + '\\'' + filterLogicOperator;\n  }\n  return filterElement;\n};\n\nproto.createExpressionFromFilterObject = function () {\n  var _this = this;\n\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filterElements = [];\n  var rootFilter = void 0;\n  for (var operator in filter) {\n    rootFilter = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n    var inputs = filter[operator];\n    inputs.forEach(function (input) {\n      for (var _operator in input) {\n        var _value3 = input[_operator];\n        if (Array.isArray(_value3)) {\n          _this.createExpressionFromFilterObject(input);\n        } else {\n          var _field = input[_operator];\n          for (var attribute in _field) {\n            var _value4 = _field[attribute];\n            var fieldElement = _this.createSingleExpressionElement({\n              value: _value4,\n              operator: _operator,\n              attribute: attribute\n            });\n            filterElements.push(fieldElement);\n          }\n        }\n      }\n    });\n    rootFilter = filterElements.length > 0 ? filterElements.join(\" \" + rootFilter + \" \") : false;\n  }\n  return rootFilter;\n};\n\nproto.createExpressionFromField = function (_ref2) {\n  var layerName = _ref2.layerName,\n      field = _ref2.field,\n      value = _ref2.value,\n      _ref2$operator = _ref2.operator,\n      operator = _ref2$operator === undefined ? 'eq' : _ref2$operator;\n\n  var filter = this.createSingleExpressionElement({\n    attribute: field,\n    value: value,\n    operator: operator\n  });\n  this._expression = layerName + ':' + filter;\n  return this;\n};\n\nproto.createExpressionFromFilterArray = function () {\n  var _this2 = this;\n\n  var inputs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var filter = '';\n  // set logicop of last element to null\n  var inputsLength = inputs.length ? inputs.length - 1 : inputs.length;\n  inputs.forEach(function (input, index) {\n    var filterElement = _this2.createSingleExpressionElement(input);\n    filter = '' + filter + (input.logicop && index === inputsLength ? filterElement.substring(0, filterElement.length - (input.logicop.length + 1)) : filterElement);\n  });\n  return filter || undefined;\n};\n\nproto.createExpressionFromFilter = function (filter, layerName) {\n  var filterParam = Array.isArray(filter) ? this.createExpressionFromFilterArray(filter) : this.createExpressionFromFilterObject(filter);\n  if (filterParam) this._expression = layerName + ':' + filterParam;\n  return this;\n};\n\nmodule.exports = Expression;\n\n},{\"app/constant\":4}],30:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// class Filter to build filter\n// useful by provider providers to get data\nfunction Filter() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._filter = null;\n  this._type = null;\n  this.config = config;\n}\n\nvar proto = Filter.prototype;\n\n/**\n * Config methods\n */\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.mergeConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = _extends({}, this.config, config);\n};\n\n/***\n *  end config methods\n */\n\nproto.getAll = function () {\n  this._type = Filter.TYPES.all;\n  this._filter = null;\n};\n\n// to create complex filter\nproto.setExpression = function (expression) {\n  this._type = Filter.TYPES.expression;\n  this._filter = expression;\n};\n\nproto.setGeometry = function (geometry) {\n  this._type = Filter.TYPES.geometry;\n  this._filter = geometry;\n  return this;\n};\n\nproto.setBBOX = function (bbox) {\n  this._type = Filter.TYPES.bbox;\n  this._filter = bbox;\n  return this;\n};\n\nproto.setFids = function (ids) {\n  this._type = Filter.TYPES.fids;\n  this._filter = ids;\n  return this;\n};\n\nproto.serialize = function () {\n  return JSON.stringify(this);\n};\n\n// get filter value\nproto.get = function () {\n  return this._filter;\n};\n\nproto.getType = function () {\n  return this._type;\n};\n\nproto.clear = function () {\n  this._filter = null;\n};\n\nFilter.TYPES = {\n  bbox: 'bbox',\n  geometry: 'geometry',\n  expression: 'expression',\n  fids: 'fids',\n  all: 'all'\n};\n\nmodule.exports = Filter;\n\n},{}],31:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar VectorLayer = require('core/layers/vectorlayer');\nvar GeojsonMapLayer = require('core/layers/map/geojson');\n\nfunction GeojsonLayer(config, options) {\n  base(this, config, options);\n  this.config.style = config.style;\n  this.setup(config);\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nvar proto = GeojsonLayer.prototype;\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var url = this.get('source').url;\n  var name = this.getName();\n  var id = this.getId();\n  var style = this.get('style');\n  var provider = this.getProvider('data');\n  var options = {\n    url: url,\n    projection: this.getProjection().getCode(),\n    id: id,\n    name: name,\n    style: style,\n    provider: provider\n  };\n  this._mapLayer = new GeojsonMapLayer(options);\n  return this._mapLayer;\n};\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/geojson\":42,\"core/layers/vectorlayer\":57,\"core/utils/utils\":67}],32:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/ol'),\n    getScaleFromResolution = _require.getScaleFromResolution;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject;\n\nvar _require3 = require('core/utils/utils'),\n    XHR = _require3.XHR,\n    sanitizeUrl = _require3.sanitizeUrl;\n\nvar RESERVERDPARAMETRS = {\n  wms: ['VERSION', 'REQUEST', 'BBOX', 'LAYERS', 'WIDTH', 'HEIGHT', 'DPI', 'FORMAT', 'CRS']\n};\n\nfunction GeoLayerMixin() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n}\n\nvar proto = GeoLayerMixin.prototype;\n\nproto.setup = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!this.config) {\n    console.log(\"GeoLayerMixin must be used from a valid (geo) Layer instance\");\n    return;\n  }\n  var project = options.project;\n\n  this.config.map_crs = project.getProjection().getCode();\n  this.config.multilayerid = config.multilayer;\n  this.legendCategories = {};\n  // Features that contain\n  this.olSelectionFeatures = {}; // key id / fid of feature and values is an object with feature and added\n  // state extend of layer setting geolayer property to true\n  // and adding information of bbox\n  _.extend(this.state, {\n    geolayer: config.geometrytype !== \"NoGeometry\",\n    legend: {\n      url: null,\n      loading: false,\n      error: false,\n      /**\n       * @deprecated since 3.8. Will be removed in 4.x. Use `expanded` attribute instead\n       */\n      show: true,\n      change: false // used for when categories changed (checkbox on TOC) and legend is on TAB\n    },\n    external: config.source && config.source.external || false,\n    bbox: config.bbox || null,\n    visible: config.visible || false,\n    checked: config.visible || false,\n    epsg: config.crs.epsg,\n    hidden: config.hidden || false,\n    scalebasedvisibility: config.scalebasedvisibility || false,\n    minscale: config.minscale,\n    maxscale: config.maxscale,\n    ows_method: config.ows_method,\n\n    /**\n     * @type {boolean}\n     */\n    exclude_from_legend: typeof config.exclude_from_legend == 'boolean' ? config.exclude_from_legend : true,\n\n    /**\n     * Has more than one categories legend\n     * \n     * @type {boolean}\n     */\n    categories: false,\n\n    /**\n     * Toggle legend item state (expandend or collapsed) in catalog layers (TOC)\n     * \n     * @type {number}\n     *\n     * @since v3.8\n     */\n    expanded: config.expanded,\n\n    /**\n     * Layer opacity\n     * \n     * @type {number} opacity range = [0, 100]\n     * \n     * @since v3.8\n     */\n    opacity: config.opacity || 100\n\n  });\n  if (config.projection) this.config.projection = config.projection.getCode() === config.crs.epsg ? config.projection : Projections.get(config.crs);\n  if (config.attributions) this.config.attributions = config.attributions;\n  config.source && config.source.url && this._sanitizeSourceUrl();\n};\n\n/**\n * Legend Graphic section\n */\nproto.getLegendGraphic = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$all = _ref.all,\n      all = _ref$all === undefined ? true : _ref$all;\n\n  var legendParams = _application2.default.getConfig().layout ? _application2.default.getConfig().layout.legend : {};\n  var legendurl = this.getLegendUrl(legendParams, {\n    categories: true,\n    all: all, // true meaning no bbox no filter just all referred to\n    format: 'application/json' // is the format to request categories (icon and label of each category)\n  });\n  return XHR.get({\n    url: legendurl\n  });\n};\n\n/**\n * Set layer categories legend\n * @param categories\n */\nproto.setCategories = function () {\n  var categories = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.legendCategories[this.getCurrentStyle().name] = categories;\n  //set categories state attribute to true only if exist at least a rule key\n  this.state.categories = categories.length > 0 && categories.filter(function (category) {\n    return category.ruleKey;\n  }).length > 0;\n};\n\n/**\n * Return eventually categories of layers legend\n * @returns {string[] | string | [] | *[] | boolean | {default: {level: *, appenders: string[]}}}\n */\nproto.getCategories = function () {\n  return this.legendCategories[this.getCurrentStyle().name];\n};\n\nproto.clearCategories = function () {\n  this.legendCategories = {};\n  this.state.categories = false;\n};\n\n/**\n * End Legend Graphic section\n */\n\n/**\n * Clear all selection openlayer features\n */\nproto.clearOlSelectionFeatures = function () {\n  this.olSelectionFeatures = null;\n};\n\n/**\n * Get openlayer selection feature by feature id\n * @param id\n * @returns {*}\n */\nproto.getOlSelectionFeature = function (id) {\n  return this.olSelectionFeatures[id];\n};\n\nproto.updateOlSelectionFeature = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      feature = _ref2.feature;\n\n  var featureObject = this.getOlSelectionFeature(id);\n  if (featureObject) {\n    featureObject.feature = feature;\n    var _mapService = _gui2.default.getService('map');\n    _mapService.setSelectionFeatures('update', {\n      feature: feature\n    });\n  }\n};\n\n/**\n * Delete openlayer feature selection by feature id\n * @param id\n */\nproto.deleteOlSelectionFeature = function (id) {\n  var featureObject = this.olSelectionFeatures[id];\n  if (featureObject) {\n    mapService.setSelectionFeatures('remove', {\n      feature: featureObject.feature\n    });\n    delete this.olSelectionFeatures[id];\n  }\n};\n\n/**\n * Get all openlyare feature selection\n * @returns {{}|null}\n */\nproto.getOlSelectionFeatures = function () {\n  return this.olSelectionFeatures;\n};\n\nproto.addOlSelectionFeature = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref3.id,\n      feature = _ref3.feature;\n\n  this.olSelectionFeatures[id] = this.olSelectionFeatures[id] || {\n    feature: createFeatureFromFeatureObject({ id: id, feature: feature }),\n    added: false\n  };\n  return this.olSelectionFeatures[id];\n};\n\nproto.showAllOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getService('map');\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    !featureObject.added && mapService.setSelectionFeatures('add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = true;\n  });\n};\n\nproto.setInversionOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getComponent('map').getService();\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    mapService.setSelectionFeatures(featureObject.added ? 'remove' : 'add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = !featureObject.added;\n  });\n};\n\nproto.setOlSelectionFeatureByFid = function (fid, action) {\n  var feature = this.olSelectionFeatures[fid] && this.olSelectionFeatures[fid].feature;\n  return feature && this.setOlSelectionFeatures({ id: fid, feature: feature }, action);\n};\n\nproto.setOlSelectionFeatures = function (feature) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n\n  var mapService = _gui2.default.getComponent('map').getService();\n  if (!feature) {\n    Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n      featureObject.added && mapService.setSelectionFeatures('remove', {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    });\n  } else {\n    var featureObject = this.olSelectionFeatures[feature.id] || this.addOlSelectionFeature(feature);\n    if (action === 'add') {\n      if (!featureObject.added) {\n        /**\n         * add a property of feature __layerId used whe we work with selected Layer features\n         */\n        featureObject.feature.__layerId = this.getId();\n        mapService.setSelectionFeatures(action, {\n          feature: featureObject.feature\n        });\n        featureObject.added = true;\n      }\n    } else {\n      mapService.setSelectionFeatures(action, {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    }\n  }\n  return !Object.values(this.olSelectionFeatures).find(function (featureObject) {\n    return featureObject.added;\n  });\n};\n\n/**\n * Create a get parameter url right\n * @param type\n * @private\n */\nproto._sanitizeSourceUrl = function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n\n  var sanitizedUrl = sanitizeUrl({\n    url: this.config.source.url,\n    reserverParameters: RESERVERDPARAMETRS[type]\n  });\n  this.config.source.url = sanitizedUrl;\n};\n\nproto.isLayerCheckedAndAllParents = function () {\n  var checked = this.isChecked();\n  if (checked) {\n    var parentGroup = this.state.parentGroup;\n    while (checked && parentGroup) {\n      checked = checked && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n  }\n  return checked;\n};\n\nproto.setChecked = function (bool) {\n  this.state.checked = bool;\n};\n\nproto.isChecked = function () {\n  return this.state.checked;\n};\n\n/**\n * Is a method that check for visiblitity dissabled (based on scalevisibility) and checked on toc\n * @param bool\n * @returns {*}\n */\nproto.setVisible = function (bool) {\n  //check if is changed\n  var oldVisibile = this.state.visible;\n  this.state.visible = bool && this.isChecked(); // bool and is checked\n  var changed = oldVisibile !== this.state.visible;\n  //if changed call change\n  changed && this.change();\n  return this.state.visible;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isPrintable = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      scale = _ref4.scale;\n\n  return this.isLayerCheckedAndAllParents() && (!this.state.scalebasedvisibility || scale >= this.state.maxscale && scale <= this.state.minscale);\n};\n\n//get style form layer\nproto.getStyles = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles;\n};\n\nproto.getStyle = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles ? this.config.styles.find(function (style) {\n    return style.current;\n  }).name : '';\n};\n\n/**\n * Get transparency property\n * \n * @returns {number}\n * \n * @since v3.8\n */\n\nproto.getOpacity = function () {\n  return this.state.opacity;\n};\n\n/**\n * Method to change current style  of layer\n * @param currentStyleName\n * @returns {boolean}\n */\nproto.setCurrentStyle = function (currentStyleName) {\n  var changed = false;\n  this.config.styles.forEach(function (style) {\n    if (style.name === currentStyleName) changed = !style.current;\n    style.current = style.name === currentStyleName;\n  });\n  return changed;\n};\n\nproto.getCurrentStyle = function () {\n  return this.config.styles.find(function (style) {\n    return style.current;\n  });\n};\n\n/**\n * Disable layer by check scalevisibility configuration value\n * @param resolution\n * @param mapUnits\n */\nproto.setDisabled = function (resolution) {\n  var mapUnits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'm';\n\n  if (this.state.scalebasedvisibility) {\n    var mapScale = getScaleFromResolution(resolution, mapUnits);\n    this.state.disabled = !(mapScale >= this.state.maxscale && mapScale <= this.state.minscale);\n    this.state.disabled = this.state.minscale === 0 ? !(mapScale >= this.state.maxscale) : this.state.disabled;\n    // needed to check if call setVisible if change disable property\n    // looping through parentfolter checked\n    var setVisible = true;\n    var parentGroup = this.state.parentGroup;\n    while (parentGroup) {\n      setVisible = setVisible && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n    setVisible && this.setVisible(!this.state.disabled);\n    // change toc highlight property based on disabled otr not\n    this.isFilterable() && this.setTocHighlightable(!this.state.disabled);\n  } else this.state.disabled = false;\n};\n\nproto.getMultiLayerId = function () {\n  return this.config.multilayerid;\n};\n\nproto.getGeometryType = function () {\n  return this.config.geometrytype;\n};\n\nproto.getOwsMethod = function () {\n  return this.config.ows_method;\n};\n\nproto.setProjection = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.projection = Projections.get(crs);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getEpsg = function () {\n  return this.config.crs.epsg;\n};\n\nproto.getCrs = function () {\n  return this.config.projection && this.config.projection.getCode() || null;\n};\n\nproto.getMapCrs = function () {\n  return this.config.map_crs;\n};\n\nproto.isCached = function () {\n  return this.config.cache_url && this.config.cache_url !== '';\n};\n\nproto.getCacheUrl = function () {\n  if (this.isCached()) return this.config.cache_url;\n};\n\n// return if layer has inverted axis\nproto.hasAxisInverted = function () {\n  var projection = this.getProjection();\n  var axisOrientation = projection.getAxisOrientation ? projection.getAxisOrientation() : \"enu\";\n  return axisOrientation.substr(0, 2) === 'ne';\n};\n\nproto.getMapLayer = function () {\n  console.log('overwrite by single layer');\n};\n\nproto.setMapProjection = function (mapProjection) {\n  this._mapProjection = mapProjection;\n};\n\nproto.getMapProjection = function () {\n  return this._mapProjection;\n};\n\nmodule.exports = GeoLayerMixin;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":109,\"services/application\":346,\"services/gui\":356}],33:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar WMSTLayer = require('core/layers/map/wmstlayer');\nvar ARCGISMAPSERVERLayer = require('core/layers/map/arcgismapserverlayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar LegendService = require('core/layers/legend/legendservice');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\n\nfunction ImageLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /*{\n    id,\n    title,\n    name,\n    origname,\n    multilayerid,\n    servertype,\n    source,\n    crs,\n    projection,\n    bbox,\n    capabilities,\n    cache_url,\n    baselayer,\n    geometrytype,\n    editops,\n    expanded,\n    fields,\n    wmsUrl,\n    infoformat,\n    infourl,\n    maxscale,\n    minscale,\n    visible,\n    scalebasedvisibility,\n    wfscapabilities\n    ows_method\n    wms_use_layer_ids,\n    styles\n  }*/\n  this.setters = {\n    change: function change() {}\n  };\n\n  base(this, config, options);\n  this.config.baselayer = config.baselayer || false;\n  this.type = Layer.LayerTypes.IMAGE;\n  this.legendUrl = null;\n  this.customParams = {};\n  this.setup(config, options);\n}\n\ninherit(ImageLayer, Layer);\n\nmixin(ImageLayer, GeoLayerMixin);\n\nvar proto = ImageLayer.prototype;\n\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$force = _ref2.force,\n      force = _ref2$force === undefined ? false : _ref2$force,\n      vectorurl = _ref2.vectorurl,\n      project_type = _ref2.project_type,\n      project = _ref2.project;\n\n  var _project, editableLayer, editingLayer;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(this.isEditable() || force)) {\n            _context.next = 16;\n            break;\n          }\n\n          _project = _project || _projects2.default.getCurrentProject();\n          editableLayer = new VectorLayer(this.config, {\n            vectorurl: vectorurl,\n            project_type: project_type,\n            project: _project\n          });\n          // set editing layer\n\n          _context.prev = 3;\n          _context.next = 6;\n          return editableLayer.layerForEditing;\n\n        case 6:\n          editingLayer = _context.sent;\n\n          this.setEditingLayer(editingLayer);\n          return _context.abrupt('return', editingLayer);\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n          return _context.abrupt('return', Promise.reject(_context.t0));\n\n        case 14:\n          _context.next = 17;\n          break;\n\n        case 16:\n          return _context.abrupt('return', null);\n\n        case 17:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\nproto.isWMS = function () {\n  return ImageLayer.WMSServerTypes.indexOf(this.config.servertype) > -1;\n};\n\nproto.isLayerProjectionASMapProjection = function () {\n  return this.config.crs.epsg === this.config.map_crs;\n};\n\nproto.getCrs = function () {\n  return this.config.crs.epsg;\n};\n\nproto.isExternalWMS = function () {\n  return !!(this.config.source && this.config.source.external && this.config.source.url);\n};\n\nproto.isArcgisMapserver = function () {\n  return this.isExternalWMS() && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER;\n};\n\nproto._getBaseLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getWMSLayerName = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'map' : _ref3$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var layerName = this._getBaseLayerName();\n  if (legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.layers || this.config.source.layer)) {\n    layerName = this.config.source.layers || this.config.source.layer;\n  }\n  return layerName;\n};\n\n// values: map, legend\nproto.getWmsUrl = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$type = _ref4.type,\n      type = _ref4$type === undefined ? 'map' : _ref4$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var wmsUrl = legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.type === 'wms' || this.config.source.type === 'wmst') && this.config.source.url ? this.config.source.url : this.config.wmsUrl;\n  return wmsUrl;\n};\n\nproto.getWFSLayerName = function () {\n  return this.getQueryLayerName().replace(/[/\\s]/g, '_');\n};\n\nproto.useProxy = function () {\n  return this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats();\n};\n\nproto.getWMSInfoLayerName = function () {\n  if (this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats()) {\n    return this.getSource().layers;\n  } else return this._getBaseLayerName();\n};\n\nproto.getPrintLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getStringBBox = function () {\n  var bbox = this.config.bbox;\n  return bbox.minx + ',' + bbox.miny + ',' + bbox.maxx + ',' + bbox.maxy;\n};\n\nproto.isWfsActive = function () {\n  return Array.isArray(this.config.ows) && this.config.ows.find(function (ows_type) {\n    return ows_type === 'WFS';\n  }) !== undefined;\n};\n\n/**\n * Metyhod to get wms url of the layer\n * @returns {*}\n */\nproto.getFullWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getState().metadata.wms_url;\n  return this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() : metadata_wms_url;\n};\n\n//used to Catalog layer menu to show wms url\nproto.getCatalogWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getMetadata().wms_url;\n  var catalogWmsUrl = this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() + '?service=WMS&version=1.3.0&request=GetCapabilities' : metadata_wms_url;\n  return catalogWmsUrl;\n};\n\n//used to Catalog layer menu to show wfs url\nproto.getCatalogWfsUrl = function () {\n  return this.getWfsUrl() + '?service=WFS&version=1.1.0&request=GetCapabilities';\n};\n\nproto.getWfsUrl = function () {\n  return _projects2.default.getCurrentProject().getMetadata().wms_url || this.config.wmsUrl;\n};\n\n/**\n * Get query url based on type, external or same projection of map\n * @returns {string}\n */\nproto.getQueryUrl = function () {\n  var url = base(this, 'getQueryUrl');\n  if (this.getServerType() === Layer.ServerTypes.QGIS && this.isExternalWMS() && this.isLayerProjectionASMapProjection()) {\n    if (this.getInfoFormats()) url = this.getSource().url;else url = url + 'SOURCE=' + this.config.source.type;\n  }\n  return url;\n};\n\nproto.getIconUrlFromLegend = function () {\n  return this.getLegendUrl({\n    layertitle: false\n  });\n};\n\nproto.getLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.legendUrl = LegendService.get({\n    layer: this,\n    params: _extends({}, params, this.customParams),\n    options: options\n  });\n  return this.legendUrl;\n};\n\nproto.setMapParamstoLegendUrl = function (_ref5) {\n  var bbox = _ref5.bbox,\n      crs = _ref5.crs;\n\n  this.customParams = _extends({}, this.customParams, {\n    bbox: bbox,\n    crs: crs\n  });\n};\n\nproto.getWfsCapabilities = function () {\n  return this.config.wfscapabilities || this.config.capabilities === 1;\n};\n\nproto.getMapLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments[1];\n\n  var iframe_internal = _application2.default.isIframe() && !this.isExternalWMS();\n  options.iframe_internal = iframe_internal;\n  var mapLayer = void 0;\n  var method = this.isExternalWMS() ? 'GET' : this.getOwsMethod();\n  if (this.isCached()) {\n    options.extent = this.config.bbox ? [this.config.bbox.minx, this.config.bbox.miny, this.config.bbox.maxx, this.config.bbox.maxy] : null;\n    mapLayer = new XYZLayer(options, method);\n  } else {\n    if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER) {\n      options = _extends({}, options, this.config.source);\n      mapLayer = new ARCGISMAPSERVERLayer(options, extraParams);\n    } else {\n      options.url = options.url || this.getWmsUrl();\n      /** check in case WMST Layer\n       *\n       */\n      if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.WMST) mapLayer = new WMSTLayer(options, extraParams, method);else mapLayer = new WMSLayer(options, extraParams, method);\n    }\n  }\n  return mapLayer;\n};\n\nImageLayer.WMSServerTypes = [Layer.ServerTypes.QGIS, Layer.ServerTypes.Mapserver, Layer.ServerTypes.Geoserver, Layer.ServerTypes.OGC];\n\nmodule.exports = ImageLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/legend/legendservice\":39,\"core/layers/map/arcgismapserverlayer\":41,\"core/layers/map/wmslayer\":45,\"core/layers/map/wmstlayer\":46,\"core/layers/map/xyzlayer\":47,\"core/layers/vectorlayer\":57,\"core/utils/utils\":67,\"services/application\":346,\"store/projects\":374}],34:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    XHR = _require2.XHR;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    geometryFields = _require3.geometryFields,\n    parseAttributes = _require3.parseAttributes;\n\nvar Relations = require('core/relations/relations');\nvar ProviderFactory = require('core/layers/providers/providersfactory');\n\n// Base Class of all Layer\nfunction Layer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  // assign some attribute\n  config.id = config.id || 'Layer';\n  config.title = config.title || config.name;\n  config.download = !!config.download;\n  config.geolayer = false;\n  config.baselayer = !!config.baselayer;\n  config.fields = config.fields || {};\n  config.urls = _extends({\n    query: config.infourl && config.infourl !== '' ? config.infourl : config.wmsUrl\n  }, config.urls || {});\n  var _options$project = options.project,\n      project = _options$project === undefined ? _projects2.default.getCurrentProject() : _options$project;\n\n  this.config.search_endpoint = project.getSearchEndPoint();\n  var projectRelations = project.getRelations();\n  // create relations\n  this._relations = this._createRelations(projectRelations);\n  if (!this.isBaseLayer()) {\n    //filtertoken\n    //set url to get varios type of data\n    var projectType = project.getType();\n    var projectId = project.getId();\n    var suffixUrl = projectType + '/' + projectId + '/' + config.id + '/';\n    var vectorUrl = project.getVectorUrl();\n    var rasterUrl = project.getRasterUrl();\n    this.config.urls.filtertoken = vectorUrl + 'filtertoken/' + suffixUrl;\n    this.config.urls.data = vectorUrl + 'data/' + suffixUrl;\n    this.config.urls.shp = vectorUrl + 'shp/' + suffixUrl;\n    this.config.urls.csv = vectorUrl + 'csv/' + suffixUrl;\n    this.config.urls.xls = vectorUrl + 'xls/' + suffixUrl;\n    this.config.urls.gpx = vectorUrl + 'gpx/' + suffixUrl;\n    this.config.urls.gpkg = vectorUrl + 'gpkg/' + suffixUrl;\n    this.config.urls.geotiff = rasterUrl + 'geotiff/' + suffixUrl;\n    this.config.urls.editing = vectorUrl + 'editing/' + suffixUrl;\n    this.config.urls.commit = vectorUrl + 'commit/' + suffixUrl;\n    this.config.urls.config = vectorUrl + 'config/' + suffixUrl;\n    this.config.urls.unlock = vectorUrl + 'unlock/' + suffixUrl;\n    this.config.urls.widget = {\n      unique: vectorUrl + 'widget/unique/data/' + suffixUrl\n    };\n    //set custom parameters based on project qgis version\n    this.config.searchParams = {\n      I: 0,\n      J: 0\n    };\n  }\n\n  // dinamic layer values useful for layerstree\n  var defaultstyle = config.styles && config.styles.find(function (style) {\n    return style.current;\n  }).name;\n  this.state = {\n    id: config.id,\n    title: config.title,\n    selected: config.selected || false,\n    disabled: config.disabled || false,\n    metadata: config.metadata,\n    metadata_querable: this.isBaseLayer() ? false : this.isQueryable({ onMap: false }),\n    openattributetable: this.isBaseLayer() ? false : this.canShowTable(),\n    removable: config.removable || false,\n    downloadable: this.isDownloadable(),\n    source: config.source,\n    styles: config.styles,\n    defaultstyle: defaultstyle,\n    inediting: false, // state of if is in editing (setted by editing plugin )\n    infoformat: this.getInfoFormat(),\n    infoformats: this.config.infoformats || [],\n    projectLayer: true,\n    geolayer: false,\n    selection: {\n      active: false\n    },\n    filter: {\n      active: false\n    },\n    attributetable: {\n      pageLength: null\n    },\n    visible: config.visible || false,\n    tochighlightable: false,\n    /**\n     * @since 3.8.0\n     */\n    featurecount: config.featurecount\n  };\n\n  // add selectionFids\n  this.selectionFids = new Set();\n\n  // referred to (layersstore);\n  this._layersstore = config.layersstore || null;\n  /*\n    Providers that layer can use\n     Three type of provider:\n      1 - query\n      2 - filter\n      3 - data -- raw data del layer (editing)\n   */\n  // server type\n  var serverType = this.config.servertype;\n  // source layer\n  var sourceType = this.config.source ? this.config.source.type : null;\n  if (serverType && sourceType) {\n    this.providers = {\n      query: ProviderFactory.build('query', serverType, sourceType, {\n        layer: this\n      }),\n      filter: ProviderFactory.build('filter', serverType, sourceType, {\n        layer: this\n      }),\n      filtertoken: ProviderFactory.build('filtertoken', serverType, sourceType, {\n        layer: this\n      }),\n      search: ProviderFactory.build('search', serverType, sourceType, {\n        layer: this\n      }),\n      data: ProviderFactory.build('data', serverType, sourceType, {\n        layer: this\n      })\n    };\n  }\n  // used to store last proxy params (useful for repeat request info formats for wms external layer)\n  this.proxyData = {\n    wms: null // at the moment only wms data from server\n  };\n  base(this);\n}\n\ninherit(Layer, G3WObject);\n\nvar proto = Layer.prototype;\n\n/**\n * Proxyparams\n */\n\nproto.getProxyData = function (type) {\n  return type ? this.proxyData[type] : this.proxyData;\n};\n\nproto.setProxyData = function (type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.proxyData[type] = data;\n};\n\nproto.clearProxyData = function (type) {\n  this.proxyData[type] = null;\n};\n\nproto.getDataProxyFromServer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var proxyParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref2, response, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _data2.default.getData('proxy:' + type, {\n            inputs: proxyParams,\n            outputs: false\n          });\n\n        case 3:\n          _ref2 = _context.sent;\n          response = _ref2.response;\n          data = _ref2.data;\n\n          this.setProxyData(type, JSON.parse(data));\n          return _context.abrupt('return', response);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](0);\n          return _context.abrupt('return');\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[0, 10]]);\n}));\n\nproto.changeProxyDataAndReloadFromServer = function () {\n  var _this = this;\n\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var changes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  Object.keys(changes).forEach(function (changeParam) {\n    Object.keys(changes[changeParam]).forEach(function (param) {\n      var value = changes[changeParam][param];\n      _this.proxyData[type][changeParam][param] = value;\n    });\n  });\n  return this.getDataProxyFromServer(type, this.proxyData[type]);\n};\n\n/**\n * editing method used by plugin\n */\n\nproto.isInEditing = function () {\n  return this.state.inediting;\n};\n\nproto.setInEditing = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.inediting = bool;\n};\n\n/**\n * end proxy params\n */\n\nproto.getSearchParams = function () {\n  return this.config.searchParams;\n};\n\n/**\n *\n * @returns {*}\n */\nproto.getSearchEndPoint = function () {\n  return this.getType() !== Layer.LayerTypes.TABLE ? this.config.search_endpoint : \"api\";\n};\n\n//relations\nproto._createRelations = function (projectRelations) {\n  var layerId = this.getId();\n  var relations = projectRelations.filter(function (relation) {\n    return [relation.referencedLayer, relation.referencingLayer].indexOf(layerId) !== -1;\n  });\n  return new Relations({\n    relations: relations\n  });\n};\n\n// return relations of layer\nproto.getRelations = function () {\n  return this._relations;\n};\n\nproto.getRelationById = function (id) {\n  return this._relations.getArray().find(function (relation) {\n    return relation.getId() === id;\n  });\n};\n\nproto.getRelationAttributes = function (relationName) {\n  var relation = this._relations.find(function (relation) {\n    return relation.name === relationName;\n  });\n  return relation ? relation.fields : [];\n};\n\nproto.getRelationsAttributes = function () {\n  var fields = {};\n  this.state.relations.forEach(function (relation) {\n    return fields[relation.name] = relation.fields;\n  });\n  return fields;\n};\n\nproto.isChild = function () {\n  if (!this.getRelations()) return false;\n  return this._relations.isChild(this.getId());\n};\n\nproto.isFather = function () {\n  if (!this.getRelations()) return false;\n  return this._relations.isFather(this.getId());\n};\n\nproto.getChildren = function () {\n  if (!this.isFather()) return [];\n  return this._relations.getChildren(this.getId());\n};\n\nproto.getFathers = function () {\n  if (!this.isChild()) return [];\n  return this._relations.getFathers(this.getId());\n};\n\nproto.hasChildren = function () {\n  if (!this.hasRelations()) return false;\n  return this._relations.hasChildren(this.getId());\n};\n\nproto.hasFathers = function () {\n  if (!this.hasRelations()) return false;\n  return this._relations.hasFathers(this.getId());\n};\n\nproto.hasRelations = function () {\n  return !!this._relations;\n};\n//end relations\n\n\n// global state\nproto.setAttributeTablePageLength = function (pageLength) {\n  this.state.attributetable.pageLength = pageLength;\n};\n\nproto.getAttributeTablePageLength = function () {\n  return this.state.attributetable.pageLength;\n};\n\n// end global state\n\n//filter token\nproto.setFilter = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.filter.active = bool;\n};\n\nproto.getFilterActive = function () {\n  return this.state.filter.active;\n};\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          this.state.filter.active = !this.state.filter.active;\n          _context2.next = 3;\n          return this.activeFilterToken(this.state.filter.active);\n\n        case 3:\n          return _context2.abrupt('return', this.state.filter.active);\n\n        case 4:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.activeFilterToken = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(bool) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return bool;\n\n          case 2:\n            if (!_context3.sent) {\n              _context3.next = 6;\n              break;\n            }\n\n            this.createFilterToken();\n            _context3.next = 7;\n            break;\n\n          case 6:\n            this.deleteFilterToken();\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          if (!this.providers['filtertoken']) {\n            _context4.next = 11;\n            break;\n          }\n\n          _context4.prev = 1;\n          _context4.next = 4;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 4:\n          _application2.default.setFilterToken(null);\n          this.emit('filtertokenchange', {\n            layerId: this.getId()\n          });\n          _context4.next = 11;\n          break;\n\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4['catch'](1);\n\n          console.log('Error deleteing filtertoken');\n\n        case 11:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this, [[1, 8]]);\n}));\n\nproto.createFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var filtertoken, params;\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          if (!this.providers['filtertoken']) {\n            _context5.next = 21;\n            break;\n          }\n\n          filtertoken = null;\n          _context5.prev = 2;\n\n          if (!(this.selectionFids.size > 0)) {\n            _context5.next = 16;\n            break;\n          }\n\n          if (!this.selectionFids.has(Layer.SELECTION_STATE.ALL)) {\n            _context5.next = 9;\n            break;\n          }\n\n          _context5.next = 7;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 7:\n          _context5.next = 14;\n          break;\n\n        case 9:\n          params = {};\n\n          if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) params.fidsout = Array.from(this.selectionFids).filter(function (id) {\n            return id !== Layer.SELECTION_STATE.EXCLUDE;\n          }).join(',');else params.fidsin = Array.from(this.selectionFids).join(',');\n          _context5.next = 13;\n          return this.providers['filtertoken'].getFilterToken(params);\n\n        case 13:\n          filtertoken = _context5.sent;\n\n        case 14:\n          _application2.default.setFilterToken(filtertoken);\n          this.emit('filtertokenchange', {\n            layerId: this.getId()\n          });\n\n        case 16:\n          _context5.next = 21;\n          break;\n\n        case 18:\n          _context5.prev = 18;\n          _context5.t0 = _context5['catch'](2);\n\n          console.log('Error create update token');\n\n        case 21:\n        case 'end':\n          return _context5.stop();\n      }\n    }\n  }, _callee5, this, [[2, 18]]);\n}));\n// end filter token\n//selection Ids layer methods\n\nproto.setSelectionFidsAll = function () {\n  this.selectionFids.clear();\n  this.selectionFids.add(Layer.SELECTION_STATE.ALL);\n  this.isGeoLayer() && this.showAllOlSelectionFeatures();\n  this.setSelection(true);\n  this.state.filter.active && this.createFilterToken();\n};\n\nproto.getSelectionFids = function () {\n  return this.selectionFids;\n};\n\nproto.invertSelectionFids = function () {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.selectionFids.delete(Layer.SELECTION_STATE.EXCLUDE);else if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) this.selectionFids.delete(Layer.SELECTION_STATE.ALL);else if (this.selectionFids.size > 0) this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n  this.isGeoLayer() && this.setInversionOlSelectionFeatures();\n  this.state.filter.active && this.createFilterToken();\n  this.setSelection(this.selectionFids.size > 0);\n};\n\nproto.hasSelectionFid = function (fid) {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) return true;else if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) return !this.selectionFids.has(fid);else return this.selectionFids.has(fid);\n};\n\nproto.includeSelectionFid = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(fid) {\n    var createToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) && this.selectionFids.has(fid)) {\n              this.selectionFids.delete(fid);\n              this.selectionFids.size === 1 && this.setSelectionFidsAll();\n            } else {\n              this.selectionFids.add(fid);\n              !this.isSelectionActive() && this.setSelection(true);\n            }\n            this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'add');\n            _context6.t0 = createToken && this.state.filter.active;\n\n            if (!_context6.t0) {\n              _context6.next = 6;\n              break;\n            }\n\n            _context6.next = 6;\n            return this.createFilterToken();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x12) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nproto.includeSelectionFids = function () {\n  var _this2 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this2.includeSelectionFid(fid);\n  });\n};\n\nproto.excludeSelectionFid = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(fid) {\n    var isLastFeatureSelected;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (this.selectionFids.has(Layer.SELECTION_STATE.ALL) || this.selectionFids.size === 0) {\n              this.selectionFids.clear();\n              this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n            }\n            this.selectionFids[this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) ? 'add' : 'delete'](fid);\n            if (this.selectionFids.size === 1 && this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.setselectionFidsAll();\n            isLastFeatureSelected = this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'remove');\n            _context7.t0 = this.state.filter.active;\n\n            if (!_context7.t0) {\n              _context7.next = 8;\n              break;\n            }\n\n            _context7.next = 8;\n            return this.createFilterToken();\n\n          case 8:\n            if (this.selectionFids.size === 0 || isLastFeatureSelected) {\n              this.selectionFids.clear();\n              this.setSelection(false);\n            }\n\n          case 9:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x14) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.excludeSelectionFids = function () {\n  var _this3 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this3.excludeSelectionFid(fid);\n  });\n};\n\nproto.clearSelectionFids = function () {\n  this.selectionFids.clear();\n  this.isGeoLayer() && this.setOlSelectionFeatures();\n  this.setSelection(false);\n};\n// end selection ids methods\n\nproto.getWMSLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.config.wms_use_layer_ids;\n};\n\nproto.getFilterToken = function () {\n  return _application2.default.getFilterToken();\n};\n\n/**\n *\n * DOWNLOAD METHODS\n */\n\nproto.getDownloadFilefromDownloadDataType = function (type, _ref9) {\n  var _ref9$data = _ref9.data,\n      data = _ref9$data === undefined ? {} : _ref9$data,\n      options = _ref9.options;\n\n  var promise = void 0;\n  data.filtertoken = this.getFilterToken();\n  switch (type) {\n    case 'shapefile':\n      promise = this.getShp({ data: data, options: options });\n      break;\n    case 'xls':\n      promise = this.getXls({ data: data, options: options });\n      break;\n    case 'csv':\n      promise = this.getCsv({ data: data, options: options });\n      break;\n    case 'gpx':\n      promise = this.getGpx({ data: data, options: options });\n      break;\n    case 'gpkg':\n      promise = this.getGpkg({ data: data, options: options });\n      break;\n    case 'geotiff':\n      promise: this.getGeoTIFF({\n        data: data,\n        options: options\n      });\n      break;\n  }\n  return promise;\n};\n\nproto.getGeoTIFF = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref10$data = _ref10.data,\n      data = _ref10$data === undefined ? {} : _ref10$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('geotiff');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getXls = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref11$data = _ref11.data,\n      data = _ref11$data === undefined ? {} : _ref11$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('xls');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getShp = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref12$data = _ref12.data,\n      data = _ref12$data === undefined ? {} : _ref12$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('shp');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpx = function () {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref13$data = _ref13.data,\n      data = _ref13$data === undefined ? {} : _ref13$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('gpx');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpkg = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref14$data = _ref14.data,\n      data = _ref14$data === undefined ? {} : _ref14$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('gpkg');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getCsv = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$data = _ref15.data,\n      data = _ref15$data === undefined ? {} : _ref15$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('csv');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getSourceType = function () {\n  return this.config.source ? this.config.source.type : null;\n};\n\nproto.isGeoLayer = function () {\n  return this.state.geolayer;\n};\n\nproto.getDataTable = function () {\n  var _this4 = this;\n\n  var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref16$page = _ref16.page,\n      page = _ref16$page === undefined ? null : _ref16$page,\n      _ref16$page_size = _ref16.page_size,\n      page_size = _ref16$page_size === undefined ? null : _ref16$page_size,\n      _ref16$ordering = _ref16.ordering,\n      ordering = _ref16$ordering === undefined ? null : _ref16$ordering,\n      _ref16$search = _ref16.search,\n      search = _ref16$search === undefined ? null : _ref16$search,\n      field = _ref16.field,\n      _ref16$suggest = _ref16.suggest,\n      suggest = _ref16$suggest === undefined ? null : _ref16$suggest,\n      _ref16$formatter = _ref16.formatter,\n      formatter = _ref16$formatter === undefined ? 0 : _ref16$formatter,\n      in_bbox = _ref16.in_bbox,\n      _ref16$custom_params = _ref16.custom_params,\n      custom_params = _ref16$custom_params === undefined ? {} : _ref16$custom_params;\n\n  var d = $.Deferred();\n  var provider = void 0;\n  var params = _extends({}, custom_params, {\n    field: field,\n    page: page,\n    page_size: page_size,\n    ordering: ordering,\n    search: search,\n    formatter: formatter,\n    suggest: suggest,\n    in_bbox: in_bbox,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (!(this.getProvider('filter') || this.getProvider('data'))) {\n    d.reject();\n  } else {\n    provider = this.getProvider('data');\n    provider.getFeatures({ editing: false }, params).done(function (response) {\n      var data = response.data;\n      var count = response.count;\n      var title = _this4.getTitle();\n      var features = data.features && data.features || [];\n      var headers = features.length ? features[0].properties : [];\n      headers = parseAttributes(_this4.getAttributes(), headers);\n      var dataTableObject = {\n        headers: headers,\n        features: features,\n        title: title,\n        count: count\n      };\n      d.resolve(dataTableObject);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\n/**\n * Search layer feature by fids\n * @param fids formatter\n */\nproto.getFeatureByFids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref18$fids = _ref18.fids,\n      fids = _ref18$fids === undefined ? [] : _ref18$fids,\n      _ref18$formatter = _ref18.formatter,\n      formatter = _ref18$formatter === undefined ? 0 : _ref18$formatter;\n\n  var url, features, response;\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          url = this.getUrl('data');\n          features = void 0;\n          _context8.prev = 2;\n          _context8.next = 5;\n          return XHR.get({\n            url: url,\n            params: {\n              fids: fids.toString(),\n              formatter: formatter\n            }\n          });\n\n        case 5:\n          response = _context8.sent;\n\n          features = response && response.result && response.vector && response.vector.data && response.vector.data.features;\n          _context8.next = 11;\n          break;\n\n        case 9:\n          _context8.prev = 9;\n          _context8.t0 = _context8['catch'](2);\n\n        case 11:\n          return _context8.abrupt('return', features);\n\n        case 12:\n        case 'end':\n          return _context8.stop();\n      }\n    }\n  }, _callee8, this, [[2, 9]]);\n}));\n\n//search Features methods\nproto.searchFeatures = function () {\n  var _this5 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$search_endpo = options.search_endpoint,\n      search_endpoint = _options$search_endpo === undefined ? this.config.search_endpoint : _options$search_endpo;\n\n  return new Promise(function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var _options$raw, raw, field, _options$suggest, suggest, unique, queryUrl, ordering, response;\n\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.t0 = search_endpoint;\n              _context9.next = _context9.t0 === 'ows' ? 3 : _context9.t0 === 'api' ? 5 : 17;\n              break;\n\n            case 3:\n              _this5.search(options, params).then(function (results) {\n                results = {\n                  data: results\n                };\n                resolve(results);\n              }).fail(function (error) {\n                return reject(error);\n              });\n              return _context9.abrupt('break', 17);\n\n            case 5:\n              _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, field = options.filter, _options$suggest = options.suggest, suggest = _options$suggest === undefined ? {} : _options$suggest, unique = options.unique, queryUrl = options.queryUrl, ordering = options.ordering;\n              _context9.prev = 6;\n              _context9.next = 9;\n              return _this5.getFilterData({\n                queryUrl: queryUrl,\n                raw: raw,\n                field: field,\n                ordering: ordering,\n                suggest: suggest,\n                unique: unique\n              });\n\n            case 9:\n              response = _context9.sent;\n\n              resolve(response);\n              _context9.next = 16;\n              break;\n\n            case 13:\n              _context9.prev = 13;\n              _context9.t1 = _context9['catch'](6);\n\n              reject(_context9.t1);\n\n            case 16:\n              return _context9.abrupt('break', 17);\n\n            case 17:\n            case 'end':\n              return _context9.stop();\n          }\n        }\n      }, _callee9, _this5, [[6, 13]]);\n    }));\n\n    return function (_x26, _x27) {\n      return _ref19.apply(this, arguments);\n    };\n  }());\n};\n\n/*\n* getFilterData is a function to get data feature based on fields and suggets\n* params:\n* - suggest (mandatory): object with key is a field of layer and value is value of the field to filter\n* - fields: Array of object with type of suggest (see above)\n* */\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref21.field,\n      _ref21$raw = _ref21.raw,\n      raw = _ref21$raw === undefined ? false : _ref21$raw,\n      _ref21$suggest = _ref21.suggest,\n      suggest = _ref21$suggest === undefined ? {} : _ref21$suggest,\n      unique = _ref21.unique,\n      _ref21$formatter = _ref21.formatter,\n      formatter = _ref21$formatter === undefined ? 1 : _ref21$formatter,\n      queryUrl = _ref21.queryUrl,\n      ordering = _ref21.ordering;\n\n  var provider, response;\n  return regeneratorRuntime.wrap(function _callee10$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          provider = this.getProvider('data');\n          _context10.next = 3;\n          return provider.getFilterData({\n            queryUrl: queryUrl,\n            field: field,\n            raw: raw,\n            ordering: ordering,\n            suggest: suggest,\n            formatter: formatter,\n            unique: unique\n          });\n\n        case 3:\n          response = _context10.sent;\n          return _context10.abrupt('return', response);\n\n        case 5:\n        case 'end':\n          return _context10.stop();\n      }\n    }\n  }, _callee10, this);\n}));\n\n// search method\nproto.search = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // check option feature_count\n  options.feature_count = options.feature_count || 10;\n  options = _extends({}, options, this.config.searchParams, params);\n  var d = $.Deferred();\n  var provider = this.getProvider('search');\n  if (provider) provider.query(options).done(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.reject(t('sdk.search.layer_not_searchable'));\n  return d.promise();\n};\n\n//Info from layer (only for querable layers)\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var filter = options.filter;\n\n  var provider = this.getProvider(filter ? 'filter' : 'query');\n  if (provider) provider.query(options).done(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.reject(t('sdk.search.layer_not_querable'));\n  return d.promise();\n};\n\n// generel way to get an attribute\nproto.get = function (property) {\n  return this.config[property] ? this.config[property] : this.state[property];\n};\n\nproto.getFields = function () {\n  return this.config.fields;\n};\n\n/**\n * Get field by name\n * @param fieldName\n * @returns {*}\n */\nproto.getFieldByName = function (fieldName) {\n  return this.getFields().find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEditingFields = function () {\n  return this.config.editing.fields;\n};\n\n/**\n * Return only show fields\n * @returns {T[]}\n */\nproto.getTableFields = function () {\n  var fields = this.config.fields || [];\n  return fields.filter(function (field) {\n    return field.show;\n  });\n};\n\nproto.getTableHeaders = function () {\n  return this.getTableFields().filter(function (field) {\n    return geometryFields.indexOf(field.name) === -1;\n  });\n};\n\nproto.getProject = function () {\n  return this.config.project;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\n/**\n * get form structur to show on form editing\n * @param fields\n * @returns {[]}\n */\nproto.getLayerEditingFormStructure = function (fields) {\n  return this.config.editor_form_structure;\n};\n\n/*\nDuplicate beacause we had to check if it used by some plugins to avoid to break back compatibility\n */\nproto.getEditorFormStructure = function () {\n  return this.getLayerEditingFormStructure();\n};\n\nproto.getFieldsOutOfFormStructure = function () {\n  return this.config.editor_form_structure ? this.config.editor_form_structure.filter(function (structure) {\n    return structure.field_name;\n  }) : [];\n};\n\nproto.hasFormStructure = function () {\n  return !!this.config.editor_form_structure;\n};\n\n//get custom style for future implementation\nproto.getCustomStyle = function () {\n  return this.config.customstyle;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getSource = function () {\n  return this.state.source;\n};\n\nproto.isDownloadable = function () {\n  return this.isShpDownlodable() || this.isXlsDownlodable() || this.isGpxDownlodable() || this.isGpkgDownlodable() || this.isCsvDownlodable();\n};\n\nproto.getDownloadableFormats = function () {\n  var _this6 = this;\n\n  return Object.keys(_constant.DOWNLOAD_FORMATS).filter(function (download_format) {\n    return _this6.config[download_format];\n  }).map(function (format) {\n    return _constant.DOWNLOAD_FORMATS[format].format;\n  });\n};\n\nproto.getDownloadUrl = function (format) {\n  var find = Object.values(_constant.DOWNLOAD_FORMATS).find(function (download_format) {\n    return download_format.format === format;\n  });\n  return find && find.url;\n};\n\nproto.isGeoTIFFDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && this.config.source.type === 'gdal';\n};\n\nproto.isShpDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && this.config.source.type !== 'gdal';\n};\n\nproto.isXlsDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_xls;\n};\n\nproto.isGpxDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpx;\n};\n\nproto.isGpkgDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpkg;\n};\n\nproto.isCsvDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_csv;\n};\n\nproto.getEditingLayer = function () {\n  return this._editingLayer;\n};\n\nproto.setEditingLayer = function (editingLayer) {\n  this._editingLayer = editingLayer;\n};\n\nproto.isHidden = function () {\n  return this.state.hidden;\n};\n\nproto.setHidden = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.hidden = bool;\n};\n\nproto.isModified = function () {\n  return this.state.modified;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata;\n};\n\nproto.getTitle = function () {\n  return this.config.title;\n};\n\nproto.getName = function () {\n  return this.config.name;\n};\n\nproto.getOrigName = function () {\n  return this.config.origname;\n};\n\nproto.getServerType = function () {\n  return this.config.servertype && this.config.servertype !== '' ? this.config.servertype : ServerTypes.QGIS;\n};\n\nproto.getType = function () {\n  return this.type;\n};\n\nproto.isType = function (type) {\n  return this.getType() === type;\n};\n\nproto.setType = function (type) {\n  this.type = type;\n};\n\nproto.isSelected = function () {\n  return this.state.selected;\n};\n\nproto.setSelected = function (bool) {\n  this.state.selected = bool;\n};\n\nproto.setSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return regeneratorRuntime.wrap(function _callee11$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          this.state.selection.active = bool;\n\n          if (bool) {\n            _context11.next = 8;\n            break;\n          }\n\n          _context11.t0 = this.state.filter.active;\n\n          if (!_context11.t0) {\n            _context11.next = 6;\n            break;\n          }\n\n          _context11.next = 6;\n          return this.deleteFilterToken();\n\n        case 6:\n          this.state.filter.active = bool;\n          this.emit('unselectionall', this.getId());\n\n        case 8:\n        case 'end':\n          return _context11.stop();\n      }\n    }\n  }, _callee11, this);\n}));\n\nproto.isSelectionActive = function () {\n  return this.state.selection.active;\n};\n\nproto.getSelection = function () {\n  return this.state.selection;\n};\n\nproto.getFilter = function () {\n  return this.state.filter;\n};\n\nproto.setDisabled = function (bool) {\n  this.state.disabled = bool;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function (bool) {\n  this.state.visible = bool;\n};\n\n// set a parametre map to check if request from map point of view or just a capabilities info layer\nproto.isQueryable = function () {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { onMap: false },\n      onMap = _ref23.onMap;\n\n  var queryEnabled = false;\n  var queryableForCababilities = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.QUERYABLE);\n  if (!onMap) return queryableForCababilities;\n  // if querable check if is visible or disabled\n  if (queryableForCababilities) {\n    queryEnabled = this.isVisible() && !this.isDisabled();\n    if (this.config.infowhennotvisible !== undefined && this.config.infowhennotvisible === true) queryEnabled = true;\n  }\n  return queryEnabled;\n};\n\nproto.getOws = function () {\n  return this.config.ows;\n};\n\nproto.getTocHighlightable = function () {\n  return this.state.tochighlightable;\n};\n\nproto.setTocHighlightable = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.tochighlightable = bool;\n};\n\n/*\n condition: plain object with configuration layer attribute and value\n* */\nproto.isFilterable = function () {\n  var _this7 = this;\n\n  var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var isFiltrable = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.FILTERABLE);\n  if (isFiltrable && conditions) {\n    var conditionalFiltrable = Object.keys(conditions).reduce(function (bool, attribute) {\n      var layer_config_value = _this7.get(attribute);\n      var condition_attribute_values = conditions[attribute];\n      return bool && Array.isArray(layer_config_value) ? layer_config_value.indexOf(condition_attribute_values) !== -1 : condition_attribute_values === layer_config_value;\n    }, true);\n    isFiltrable = isFiltrable && conditionalFiltrable;\n  }\n  return isFiltrable;\n};\n\n/**\n * Check if layer is setup as time series\n */\nproto.isQtimeseries = function () {\n  return this.config.qtimeseries;\n};\n\nproto.isEditable = function () {\n  return !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.EDITABLE);\n};\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\n// get url by type ( data, shp, csv, xls,  editing..etc..)\nproto.getUrl = function (type) {\n  return this.config.urls[type];\n};\n\n/**\n * Method to set url\n * @param type\n * @param url\n */\nproto.setUrl = function () {\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref24.type,\n      url = _ref24.url;\n\n  this.config.urls[type] = url;\n};\n\n// return urls\nproto.getUrls = function () {\n  return this.config.urls;\n};\n\nproto.setEditingUrl = function (url) {\n  this.config.urls.editing = url || this.config.urls.editing;\n};\n\nproto.getQueryUrl = function () {\n  return this.config.urls.query;\n};\n\nproto.setQueryUrl = function (queryUrl) {\n  this.config.urls.query = queryUrl;\n};\n\nproto.getQueryLayerName = function () {\n  return this.config.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.getName();\n};\n\nproto.getQueryLayerOrigName = function () {\n  return this.state.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.config.origname;\n};\n\nproto.getInfoFormat = function (ogcService) {\n  /**\n   * In case of qtime series (NETCDF)\n   */\n  if (this.config.qtimeseries === true || this.getSourceType() === 'gdal') return 'application/json';else return this.config.infoformat && this.config.infoformat !== '' && ogcService !== 'wfs' ? this.config.infoformat : 'application/vnd.ogc.gml';\n};\n\nproto.getInfoFormats = function () {\n  return this.state.infoformats;\n};\n\nproto.getInfoUrl = function () {\n  return this.config.infourl;\n};\n\nproto.setInfoFormat = function (infoFormat) {\n  this.config.infoformat = infoFormat;\n};\n\nproto.getAttributes = function () {\n  return this.config.fields;\n};\n\nproto.changeAttribute = function (attribute, type, options) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = this.config.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var field = _step.value;\n\n      if (field.name === attribute) {\n        field.type = type;\n        field.options = options;\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.getAttributeLabel = function (name) {\n  var field = this.getAttributes().find(function (field) {\n    return field.name === name;\n  });\n  return field && field.label;\n};\n\nproto.getProvider = function (type) {\n  return this.providers[type];\n};\n\nproto.getProviders = function () {\n  return this.providers;\n};\n\nproto.getLayersStore = function () {\n  return this._layersstore;\n};\n\nproto.setLayersStore = function (layerstore) {\n  this._layersstore = layerstore;\n};\n\nproto.canShowTable = function () {\n  if (!this.config.not_show_attributes_table) {\n    if (this.getServerType() === Layer.ServerTypes.QGIS) {\n      if ([Layer.SourceTypes.POSTGIS, Layer.SourceTypes.ORACLE, Layer.SourceTypes.WFS, Layer.SourceTypes.OGR, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE].indexOf(this.config.source.type) > -1 && this.isQueryable()) {\n        return this.getTableFields().length > 0;\n      }\n    } else if (this.getServerType() === Layer.ServerTypes.G3WSUITE) {\n      if (this.get('source').type === \"geojson\") return true;\n    } else if (this.isFilterable()) return true;\n    return false;\n  } else return false;\n};\n\nproto.changeFieldType = function () {\n  var _ref25 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      name = _ref25.name,\n      type = _ref25.type,\n      _ref25$options = _ref25.options,\n      options = _ref25$options === undefined ? {} : _ref25$options,\n      _ref25$reset = _ref25.reset,\n      reset = _ref25$reset === undefined ? false : _ref25$reset;\n\n  var field = this.getFields().find(function (field) {\n    return field.name === name;\n  });\n  if (field) {\n    if (reset) {\n      field.type = field._type;\n      delete field._type;\n      delete field[type + 'options'];\n      return field.type;\n    } else {\n      field._type = field.type;\n      field.type = type;\n      field[type + 'options'] = options;\n      return field._type;\n    }\n  }\n};\n\nproto.changeConfigFieldType = function (_ref26) {\n  var name = _ref26.name,\n      type = _ref26.type,\n      _ref26$options = _ref26.options,\n      options = _ref26$options === undefined ? {} : _ref26$options,\n      _ref26$reset = _ref26.reset,\n      reset = _ref26$reset === undefined ? false : _ref26$reset;\n\n  return this.changeFieldType({ name: name, type: type, options: options, reset: reset });\n};\n\nproto.resetConfigField = function (_ref27) {\n  var name = _ref27.name;\n\n  this.changeConfigFieldType({\n    name: name,\n    reset: true\n  });\n};\n\n//function called in case of change project to remove all sored information\nproto.clear = function () {};\n\nproto.isVector = function () {\n  return this.getType() === Layer.LayerTypes.VECTOR;\n};\n\nproto.isTable = function () {\n  return this.getType() === Layer.LayerTypes.TABLE;\n};\n\n/**\n * @since 3.8.0\n */\nproto.getFeatureCount = function () {\n  return this.state.featurecount;\n};\n\n/// LAYER PROPERTIES\n// Layer Types\nLayer.LayerTypes = {\n  TABLE: \"table\",\n  IMAGE: \"image\",\n  VECTOR: \"vector\"\n};\n\n// Server Types\nLayer.ServerTypes = {\n  OGC: \"OGC\",\n  QGIS: \"QGIS\",\n  Mapserver: \"Mapserver\",\n  Geoserver: \"Geoserver\",\n  ARCGISMAPSERVER: \"ARCGISMAPSERVER\",\n  OSM: \"OSM\",\n  BING: \"Bing\",\n  LOCAL: \"Local\",\n  TMS: \"TMS\",\n  WMS: \"WMS\",\n  WMTS: \"WMTS\",\n  G3WSUITE: \"G3WSUITE\"\n  /*\n  ADD ALSO TO PROVIDER FACTORY\n  */\n};\n\n// Source Types\nLayer.SourceTypes = {\n  VIRTUAL: 'virtual',\n  POSTGIS: 'postgres',\n  SPATIALITE: 'spatialite',\n  ORACLE: 'oracle',\n  MSSQL: 'mssql',\n  CSV: 'delimitedtext',\n  OGR: 'ogr',\n  GDAL: 'gdal',\n  WMS: 'wms',\n  WMST: \"wmst\",\n  WFS: 'wfs',\n  WCS: \"wcs\",\n  MDAL: \"mdal\",\n  \"VECTOR-TILE\": \"vector-tile\",\n  VECTORTILE: \"vectortile\",\n  ARCGISMAPSERVER: 'arcgismapserver',\n  GEOJSON: \"geojson\"\n  /*\n  ADD TO PROVIDER FACTORY\n  */\n};\n\n// Layer Capabilities\nLayer.CAPABILITIES = {\n  QUERYABLE: 1,\n  FILTERABLE: 2,\n  EDITABLE: 4\n};\n\n//Editing types\nLayer.EDITOPS = {\n  INSERT: 1,\n  UPDATE: 2,\n  DELETE: 4\n};\n\n//selection state\nLayer.SELECTION_STATE = {\n  ALL: '__ALL__',\n  EXCLUDE: '__EXCLUDE__'\n};\n\nmodule.exports = Layer;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/providers/providersfactory\":51,\"core/relations/relations\":63,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/application\":346,\"services/data\":353,\"store/application-state\":368,\"store/projects\":374}],35:[function(require,module,exports){\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar BaseLayers = require('core/layers/baselayers/baselayers');\nvar GeojsonLayer = require('core/layers/geojson');\n\n// Class to build layer based on configuration\nfunction LayerFactory() {\n  this.build = function (config, options) {\n    // return the layer instance\n    var layerClass = this.get(config);\n    return layerClass ? new layerClass(config, options) : null;\n  };\n\n  this.get = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var LayerClass = void 0;\n    var serverType = config.servertype;\n    switch (serverType) {\n      case Layer.ServerTypes.QGIS:\n        if (config.source) {\n          if (config.geometrytype) {\n            if ([Layer.SourceTypes.VIRTUAL, Layer.SourceTypes.POSTGIS, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE, Layer.SourceTypes.WFS, Layer.SourceTypes.CSV, Layer.SourceTypes.ORACLE, Layer.SourceTypes.OGR, Layer.SourceTypes.MDAL].find(function (sourcetype) {\n              return sourcetype === config.source.type;\n            })) {\n              if (config.geometrytype && config.geometrytype === 'NoGeometry') LayerClass = TableLayer;else LayerClass = ImageLayer;\n            }\n          } else if ([// here set new layer has to be threat as wms\n          Layer.SourceTypes.WMST, Layer.SourceTypes.WCS, Layer.SourceTypes.WMS, Layer.SourceTypes.GDAL, Layer.SourceTypes.VECTORTILE, Layer.SourceTypes[\"VECTOR-TILE\"], Layer.SourceTypes.MDAL].find(function (sourcetype) {\n            return sourcetype === config.source.type;\n          })) LayerClass = ImageLayer;\n        }\n        break;\n      case Layer.ServerTypes.OGC:\n        if (config.source) {\n          var type = config.source.type;\n          switch (type) {\n            case Layer.SourceTypes.WMS:\n              LayerClass = ImageLayer;\n              break;\n            case Layer.SourceTypes.WFS:\n              LayerClass = VectorLayer;\n          }\n        }\n        break;\n      case Layer.ServerTypes.LOCAL:\n        LayerClass = VectorLayer;\n        break;\n      case Layer.ServerTypes.OSM:\n      case Layer.ServerTypes.BING:\n      case Layer.ServerTypes.TMS:\n      case Layer.ServerTypes.WMS:\n      case Layer.ServerTypes.WMTS:\n      case Layer.ServerTypes.ARCGISMAPSERVER:\n        LayerClass = BaseLayers[serverType];\n        break;\n      case Layer.ServerTypes.G3WSUITE:\n        LayerClass = VectorLayer;\n        if (config.source) {\n          switch (config.source.type) {\n            case 'geojson':\n              LayerClass = GeojsonLayer;\n              break;\n          }\n        }\n        break;\n    }\n    return LayerClass;\n  };\n}\n\nmodule.exports = new LayerFactory();\n\n},{\"core/layers/baselayers/baselayers\":20,\"core/layers/geojson\":31,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57}],36:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n// Interface for Layers\nfunction LayersStore() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = {\n    id: config.id || Date.now(),\n    projection: config.projection,\n    extent: config.extent,\n    initextent: config.initextent,\n    wmsUrl: config.wmsUrl,\n    //set catalogable property\n    catalog: _.isBoolean(config.catalog) ? config.catalog : true\n  };\n\n  this.state = {\n    //useful to build layerstree\n    layerstree: [],\n    relations: null // useful to build tree of relations\n  };\n  this._isQueryable = _.isBoolean(config.queryable) ? config.queryable : true;\n  this._layers = this.config.layers || {};\n  this.setters = {\n    setLayerSelection: function setLayerSelection(_ref) {\n      var layerId = _ref.layerId,\n          selection = _ref.selection;\n\n      var layer = this.getLayerById(layerId);\n    },\n    setLayerSelected: function setLayerSelected(layerId, selected) {\n      this.getLayers().forEach(function (layer) {\n        return layer.state.selected = layerId === layer.getId() ? selected : false;\n      });\n    },\n    addLayers: function addLayers(layers) {\n      var _this = this;\n\n      layers.forEach(function (layer) {\n        return _this.addLayer(layer);\n      });\n    },\n    addLayer: function addLayer(layer) {\n      this._addLayer(layer);\n    },\n    removeLayer: function removeLayer(layerId) {\n      this._removeLayer(layerId);\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStore, G3WObject);\n\nvar proto = LayersStore.prototype;\n\nproto.isQueryable = function () {\n  return this._isQueryable;\n};\n\nproto.setQueryable = function (bool) {\n  this._isQueryable = !!bool;\n};\n\nproto.showOnCatalog = function () {\n  return this.config.catalog;\n};\n\nproto.setOptions = function (config) {\n  this.config = config;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto._addLayer = function (layer) {\n  this._layers[layer.getId()] = layer;\n};\n\nproto._removeLayer = function (layer) {\n  var layerId = layer.getId();\n  delete this._layers[layerId];\n};\n\nproto.removeLayers = function () {\n  var _this2 = this;\n\n  Object.entries(this._layers).forEach(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        layerId = _ref3[0],\n        layer = _ref3[1];\n\n    _this2.removeLayer(layer);\n  });\n};\n\nproto.getLayersDict = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // in case  we pass filter = null\n  if (!filter) return this._layers;\n  var PRINTABLE = filter.PRINTABLE,\n      QUERYABLE = filter.QUERYABLE,\n      FILTERABLE = filter.FILTERABLE,\n      EDITABLE = filter.EDITABLE,\n      VISIBLE = filter.VISIBLE,\n      SELECTED = filter.SELECTED,\n      CACHED = filter.CACHED,\n      SELECTED_OR_ALL = filter.SELECTED_OR_ALL,\n      SERVERTYPE = filter.SERVERTYPE,\n      BASELAYER = filter.BASELAYER,\n      GEOLAYER = filter.GEOLAYER,\n      VECTORLAYER = filter.VECTORLAYER,\n      HIDDEN = filter.HIDDEN,\n      DISABLED = filter.DISABLED,\n      IDS = filter.IDS;\n\n  // if filter is passed\n\n  if (_.isUndefined(QUERYABLE) && _.isUndefined(FILTERABLE) && _.isUndefined(EDITABLE) && _.isUndefined(VISIBLE) && _.isUndefined(SERVERTYPE) && _.isUndefined(CACHED) && _.isUndefined(SELECTED_OR_ALL) && _.isUndefined(SERVERTYPE) && _.isUndefined(GEOLAYER) && _.isUndefined(HIDDEN) && _.isUndefined(DISABLED) && _.isUndefined(BASELAYER) && _.isUndefined(VECTORLAYER) && _.isUndefined(PRINTABLE) && _.isUndefined(IDS)) return this._layers;\n\n  var layers = [];\n\n  for (var key in this._layers) {\n    layers.push(this._layers[key]);\n  }\n\n  if (IDS) {\n    var ids = Array.isArray(IDS) ? IDS : [IDS];\n    layers = layers.filter(function (layer) {\n      return ids.indexOf(layer.getId()) !== -1;\n    });\n  }\n\n  // return only selected if some one are selected\n  if (SELECTED_OR_ALL) {\n    var _layers = layers;\n    layers = layers.filter(function (layer) {\n      return layer.isSelected();\n    });\n    layers = layers.length ? layers : _layers;\n  }\n\n  if ('boolean' === typeof SELECTED && !SELECTED_OR_ALL) layers = layers.filter(function (layer) {\n    return SELECTED === layer.isSelected();\n  });\n\n  if ('boolean' === typeof QUERYABLE) layers = layers.filter(function (layer) {\n    return QUERYABLE === layer.isQueryable();\n  });\n  if ('boolean' === typeof FILTERABLE) layers = layers.filter(function (layer) {\n    return FILTERABLE === layer.isFilterable(options.filtrable || null);\n  });\n  if ('boolean' === typeof EDITABLE) layers = layers.filter(function (layer) {\n    return EDITABLE === layer.isEditable();\n  });\n  if ('boolean' === typeof VISIBLE) layers = layers.filter(function (layer) {\n    return VISIBLE === layer.isVisible();\n  });\n  if ('boolean' === typeof CACHED) layers = layers.filter(function (layer) {\n    return CACHED === layer.isCached();\n  });\n  if ('boolean' === typeof BASELAYER) layers = layers.filter(function (layer) {\n    return BASELAYER === layer.isBaseLayer();\n  });\n  if ('boolean' === typeof GEOLAYER) layers = layers.filter(function (layer) {\n    return GEOLAYER === layer.state.geolayer;\n  });\n  if ('boolean' === typeof VECTORLAYER) layers = layers.filter(function (layer) {\n    return VECTORLAYER === layer.isType('vector');\n  });\n  if ('boolean' === typeof HIDDEN) layers = layers.filter(function (layer) {\n    return HIDDEN == layer.isHidden();\n  });\n  if ('boolean' === typeof DISABLED) layers = layers.filter(function (layer) {\n    return DISABLED === layer.isDisabled();\n  });\n\n  if ('string' === typeof SERVERTYPE && '' !== SERVERTYPE) layers = layers.filter(function (layer) {\n    return SERVERTYPE === layer.getServerType();\n  });\n\n  if (PRINTABLE) layers = layers.filter(function (layer) {\n    return layer.state.geolayer && layer.isPrintable({ scale: PRINTABLE.scale });\n  });\n\n  return layers;\n};\n\n// return layers array\nproto.getLayers = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return Object.values(this.getLayersDict(filter, options));\n};\n\nproto.getBaseLayers = function () {\n  return this.getLayersDict({\n    BASELAYER: true\n  });\n};\n\nproto.getLayerById = function (layerId) {\n  return this.getLayersDict()[layerId];\n};\n\nproto.getLayerByName = function (name) {\n  return this._layers.find(function (layer) {\n    return layer.getName() === name;\n  });\n};\n\nproto.getLayerAttributes = function (layerId) {\n  return this.getLayerById(layerId).getAttributes();\n};\n\nproto.getLayerAttributeLabel = function (layerId, name) {\n  return this.getLayerById(layerId).getAttributeLabel(name);\n};\n\nproto.getGeoLayers = function () {\n  return this.getLayers({\n    GEOLAYER: true\n  });\n};\n\nproto._getAllSiblingsChildrenLayersId = function (layerstree) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);else traverse(node);\n    });\n  };\n  traverse(layerstree);\n  return nodeIds;\n};\n\nproto._getAllParentLayersId = function (layerstree, node) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);\n      //else traverse(node);\n    });\n  };\n\n  traverse({\n    nodes: layerstree.nodes.filter(function (_node) {\n      return _node !== node;\n    })\n  });\n\n  return nodeIds;\n};\n\nproto.selectLayer = function (layerId, selected) {\n  this.setLayerSelected(layerId, selected);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getExtent = function () {\n  return this.config.extent;\n};\n\nproto.getInitExtent = function () {\n  return this.config.initextent;\n};\n\nproto.getWmsUrl = function () {\n  return this.config.wmsUrl;\n};\n\n/**\n * Set layersstree of layers inside the layersstore\n * \n * @param {unknown[]} layerstree nodes\n * @param {string}    name \n * @param {boolean}   [expanded = true]\n */\nproto.setLayersTree = function () {\n  var layerstree = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var _this3 = this;\n\n  var name = arguments[1];\n  var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  // Root group project that contain all layerstree of qgis project\n  var rootGroup = {\n    title: name || this.config.id,\n    root: true,\n    parentGroup: null,\n    expanded: expanded,\n    disabled: false,\n    checked: true,\n    nodes: layerstree\n  };\n  var traverse = function traverse(nodes, parentGroup) {\n    nodes.forEach(function (node, index) {\n      // substitute node layer with layer state\n      if (undefined !== node.id) {\n        nodes[index] = _this3.getLayerById(node.id).getState();\n      }\n      if (node.nodes) {\n        node.nodes.forEach(function (node) {\n          return node.parentGroup = parentGroup;\n        });\n        traverse(node.nodes, node);\n      }\n      //SET PARENT GROUP\n      nodes[index].parentGroup = parentGroup;\n    });\n  };\n  if (layerstree.length) {\n    traverse(layerstree, rootGroup);\n    // at the end\n    this.state.layerstree.splice(0, 0, rootGroup);\n  }\n};\n\n/**\n * Used by external plugins to build layerstree\n * \n * @param {string} groupName is a ProjectName\n * @param {layerstree, expanded: boolean, full: bool} options \n */\nproto.createLayersTree = function (groupName) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    layerstree: null,\n    expanded: false,\n    full: false\n  };\n\n\n  // get all layers id from layers server config to compare with layer nodes on layerstree server property\n  var tocLayersId = this.getLayers({ BASELAYER: false }).map(function (layer) {\n    return layer.getId();\n  });\n  var layerstree = [];\n\n  // check if layerstree coming from server project configuration is set\n  if (options.layerstree && true === options.full) {\n    return this.state.layerstree;\n  }\n\n  /** @FIXME add description */\n  if (options.layerstree && true !== options.full) {\n    var traverse = function traverse(nodes, layerstree) {\n      nodes.forEach(function (node) {\n        var lightlayer = null;\n\n        // case TOC has layer ID\n        if (null !== node.id && \"undefined\" !== typeof node.id && tocLayersId.find(function (id) {\n          return id === node.id;\n        })) {\n          lightlayer = _extends({}, lightlayer, node);\n        }\n\n        // case group\n        if (null !== node.nodes && \"undefined\" !== typeof node.nodes) {\n          lightlayer = _extends({}, lightlayer, {\n            title: node.name,\n            groupId: uniqueId(),\n            nodes: [],\n            checked: node.checked,\n            mutually_exclusive: node[\"mutually-exclusive\"]\n          });\n          traverse(node.nodes, lightlayer.nodes); // recursion step\n        }\n\n        // check if lightlayer is not null\n        if (null !== lightlayer) {\n          lightlayer.expanded = node.expanded; // expand legend item (TOC)\n          layerstree.push(lightlayer);\n        }\n      });\n    };\n    traverse(options.layerstree, layerstree);\n  }\n\n  /** @FIXME add description */\n  if (!options.layerstree) {\n    // get all project layers that have geometry\n    layerstree = this.getGeoLayers().map(function (layer) {\n      return {\n        id: layer.getId(),\n        name: layer.getName(),\n        title: layer.getTitle(),\n        visible: layer.isVisible() || false\n      };\n    });\n  }\n\n  // setLayerstree\n  this.setLayersTree(layerstree, groupName, options.expanded);\n};\n\nproto.removeLayersTree = function () {\n  this.state.layerstree.splice(0, this.state.layerstree.length);\n};\n\nproto.getLayersTree = function () {\n  return this.state.layerstree;\n};\n\nmodule.exports = LayersStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],37:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Registy Layers\nfunction LayersStoresRegistry() {\n  this.stores = {};\n  this.storesArray = [];\n  // to react some application components that are binding to Layerstore\n  this.setters = {\n    addLayersStore: function addLayersStore(layersStore, idx) {\n      this._addLayersStore(layersStore, idx);\n    },\n    removeLayersStore: function removeLayersStore(layerStore) {\n      this._removeLayersStore(layerStore);\n    },\n    removeLayersStores: function removeLayersStores() {\n      this._removeLayersStores();\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStoresRegistry, G3WObject);\n\nvar proto = LayersStoresRegistry.prototype;\n\nproto.getLayerById = function (layerId) {\n  var layer = void 0;\n  for (var storeId in this.stores) {\n    var layerStore = this.stores[storeId];\n    layer = layerStore.getLayerById(layerId);\n    if (layer) break;\n  }\n  return layer;\n};\n\nproto.getLayers = function (filter) {\n  var layers = [];\n  Object.entries(this.stores).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        storeId = _ref2[0],\n        layersStore = _ref2[1];\n\n    layers = layers.concat(layersStore.getLayers(filter));\n  });\n  return layers;\n};\n\nproto.getQuerableLayersStores = function () {\n  return this.getLayersStores().filter(function (layersStore) {\n    return layersStore.isQueryable();\n  });\n};\n\nproto.getLayersStore = function (id) {\n  return this.stores[id];\n};\n\nproto.getLayersStores = function () {\n  var _this = this;\n\n  var stores = [];\n  this.storesArray.forEach(function (storeId) {\n    stores.push(_this.stores[storeId]);\n  });\n  return stores;\n};\n\nproto._addLayersStore = function (layersStore, idx) {\n  var storeId = layersStore.getId();\n  this.stores[storeId] = layersStore;\n  if (!_.isNil(idx)) this.storesArray.splice(idx, 0, storeId);else this.storesArray.push(storeId);\n};\n\nproto._removeLayersStore = function (layerStore) {\n  if (layerStore) {\n    var storeId = layerStore.getId();\n    this.storesArray = this.storesArray.filter(function (_storeId) {\n      return _storeId != storeId;\n    });\n    delete this.stores[storeId];\n  }\n};\n\nproto._removeLayersStores = function () {\n  this.storesArray = [];\n  this.stores = {};\n};\n\nmodule.exports = LayersStoresRegistry;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],38:[function(require,module,exports){\nfunction ARGISMAPSERVERLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params;\n  var _layer$getConfig$sour = layer.getConfig().source,\n      url = _layer$getConfig$sour.url,\n      layername = _layer$getConfig$sour.layer;\n\n  var serviceUrl = url.replace('/rest/', '/');\n  return serviceUrl + '/WMSServer?request=GetLegendGraphic&version=1.3.0&format=image/png&LAYER=' + layername;\n};\n\nmodule.exports = ARGISMAPSERVERLegend;\n\n},{}],39:[function(require,module,exports){\nvar TYPES = {\n  'wms': require('./wmslegend'),\n  'arcgismapserver': require('./arcgismapserverlegend')\n};\n\nvar Legendservice = {\n  get: function get() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref.layer,\n        params = _ref.params,\n        _ref$options = _ref.options,\n        options = _ref$options === undefined ? {} : _ref$options;\n\n    var type = layer.isArcgisMapserver() ? 'arcgismapserver' : 'wms';\n    return TYPES[type]({\n      layer: layer,\n      params: params,\n      options: options\n    });\n  }\n};\n\nmodule.exports = Legendservice;\n\n},{\"./arcgismapserverlegend\":38,\"./wmslegend\":40}],40:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require.get_LEGEND_ON_LEGEND_OFF_Params;\n\nfunction WMSLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n  var width = params.width,\n      height = params.height,\n      _params$color = params.color,\n      color = _params$color === undefined ? \"white\" : _params$color,\n      _params$fontsize = params.fontsize,\n      fontsize = _params$fontsize === undefined ? 10 : _params$fontsize,\n      _params$transparent = params.transparent,\n      transparent = _params$transparent === undefined ? true : _params$transparent,\n      boxspace = params.boxspace,\n      layerspace = params.layerspace,\n      _params$layertitle = params.layertitle,\n      layertitle = _params$layertitle === undefined ? true : _params$layertitle,\n      layertitlespace = params.layertitlespace,\n      symbolspace = params.symbolspace,\n      iconlabelspace = params.iconlabelspace,\n      symbolwidth = params.symbolwidth,\n      symbolheight = params.symbolheight,\n      itemfontfamily = params.itemfontfamily,\n      layerfontfamily = params.layerfontfamily,\n      layerfontbold = params.layerfontbold,\n      itemfontbold = params.itemfontbold,\n      layerfontitalic = params.layerfontitalic,\n      itemfontitalic = params.itemfontitalic,\n      rulelabel = params.rulelabel,\n      crs = params.crs,\n      bbox = params.bbox,\n      _params$sld_version = params.sld_version,\n      sld_version = _params$sld_version === undefined ? '1.1.0' : _params$sld_version;\n  var _options$categories = options.categories,\n      categories = _options$categories === undefined ? false : _options$categories,\n      _options$all = options.all,\n      all = _options$all === undefined ? false : _options$all,\n      _options$format = options.format,\n      format = _options$format === undefined ? 'image/png' : _options$format;\n\n\n  var LAYER = layer.getWMSLayerName({ type: 'legend' });\n  var FORMAT = format;\n  var STYLES = void 0,\n      LEGEND_ON = void 0,\n      LEGEND_OFF = void 0,\n      url = layer.getWmsUrl({ type: 'legend' });\n\n  if (all) {\n    // all=true means no filter parameters as BBOX\n    bbox = null;\n  }\n\n  if (categories && 'application/json' === FORMAT) {\n    symbolwidth = symbolheight = 16; //set 16 for symbol of chart or other legend symbol\n    STYLES = encodeURIComponent(layer.getCurrentStyle().name);\n  }\n\n  // in case of GetLegendGraphic of format `application/json`\n  // LEGEND_ON and LEGEND_OFF need to be undefined because\n  // it create some strange behaviour on WMS `getMap` when\n  // switching between layer styles\n  if (categories && (_projects2.default.getCurrentProject().getContextBaseLegend() || 'image/png' === FORMAT)) {\n    var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer);\n\n    LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON;\n    LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n  }\n\n  return ['' + url + (url.indexOf('?') > -1 ? '&' : '?') + 'SERVICE=WMS&VERSION=1.3.0&REQUEST=GetLegendGraphic&SLD_VERSION=' + sld_version, '' + (width ? '&WIDTH=' + width : ''), '' + (height ? '&HEIGHT=' + height : ''), '&FORMAT=' + FORMAT, '&TRANSPARENT=' + transparent, '&ITEMFONTCOLOR=' + color, '&LAYERFONTCOLOR=' + color, '&LAYERTITLE=' + layertitle, '&ITEMFONTSIZE=' + fontsize, '' + (crs ? '&CRS=' + crs : ''), '' + (bbox ? '&BBOX=' + bbox.join(',') : ''), '' + (boxspace ? '&BOXSPACE=' + boxspace : ''), '' + (layerspace ? '&LAYERSPACE=' + layerspace : ''), '' + (layertitlespace ? '&LAYERTITLESPACE=' + layertitlespace : ''), '' + (symbolspace ? '&SYMBOLSPACE=' + symbolspace : ''), '' + (iconlabelspace ? '&ICONLABELSPACE=' + iconlabelspace : ''), '' + (symbolwidth ? '&SYMBOLWIDTH=' + symbolwidth : ''), '' + (symbolheight ? '&SYMBOLHEIGHT=' + symbolheight : ''), '' + (layerfontfamily ? '&LAYERFONTFAMILY=' + layerfontfamily : ''), '' + (itemfontfamily ? '&ITEMFONTFAMILY=' + itemfontfamily : ''), '' + (layerfontbold ? '&LAYERFONTBOLD=' + layerfontbold : ''), '' + (itemfontbold ? '&ITEMFONTBOLD=' + itemfontbold : ''), '' + (layerfontitalic ? '&LAYERFONTITALIC=' + layerfontitalic : ''), '' + (itemfontitalic ? '&ITEMFONTITALIC=' + itemfontitalic : ''), '' + (rulelabel ? '&RULELABEL=' + rulelabel : ''), '' + (LEGEND_ON ? '&LEGEND_ON=' + LEGEND_ON : ''), '' + (LEGEND_OFF ? '&LEGEND_OFF=' + LEGEND_OFF : ''), '' + (STYLES ? '&STYLES=' + STYLES : ''), '&LAYER=' + LAYER].join('');\n}\n\nmodule.exports = WMSLegend;\n\n},{\"core/utils/geo\":64,\"store/projects\":374}],41:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar WMSLAYER = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction ARCGISMAPSERVERLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, options, extraParams);\n}\n\ninherit(ARCGISMAPSERVERLayer, WMSLAYER);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var config = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    format: this.config.format\n  };\n  var olLayer = new RasterLayers.TiledArgisMapServer(config);\n  olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n\n  olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":106}],42:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar VectorLayer = require('core/layers/map/vectorlayer');\n\nfunction GeojsonLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var provider = options.provider;\n  this.setProvider(provider);\n  base(this, options);\n  this.getFeatures({\n    url: options.url,\n    mapProjection: this.mapProjection\n  });\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/vectorlayer\":44,\"core/utils/utils\":67}],43:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction MapLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n  this.id = config.id;\n  this.iframe_internal = config.iframe_internal || false;\n  this.extent = config.extent;\n  this.projection = config.projection;\n  this.layer = null;\n  this.layers = config.layers || []; // store all enabled layers\n  this.allLayers = []; // store all layers\n  this.showSpinnerWhenLoading = true;\n  base(this);\n}\n\ninherit(MapLayer, G3WObject);\n\nvar proto = MapLayer.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getOLLayer = function () {\n  console.log('every sub classes has to be override');\n};\n\nproto.update = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this._updateLayers(mapState, extraParams);\n};\n\nproto.checkLayerDisabled = function (layer, resolution, mapUnits) {\n  layer.setDisabled(resolution, mapUnits);\n  return layer.isDisabled();\n};\n\n// check which layers has to be disabled\nproto.checkLayersDisabled = function (resolution, mapUnits) {\n  var _this = this;\n\n  this.allLayers.forEach(function (layer) {\n    return _this.checkLayerDisabled(layer, resolution, mapUnits);\n  });\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  //to owerwrite for each map layer subclass\n\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n};\n\nmodule.exports = MapLayer;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],44:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlLayer = _require2.createOlLayer,\n    createLayerStyle = _require2.createLayerStyle;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction VectorLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.geometrytype = options.geometrytype || null;\n  this.type = options.type || null;\n  this.crs = options.crs || null;\n  this.id = options.id;\n  this.name = options.name || \"\";\n  this.style = options.style;\n  this.color = options.color;\n  this.geometryType = options.geometryType;\n  this.mapProjection = this.mapService.getProjection().getCode();\n  this.projection = options.projection || this.mapProjection;\n  this.url = options.url;\n  this.provider = options.provider;\n  this._features = options.features || [];\n  this._olLayer = options.olLayer || this.getOLLayer();\n}\n\ninherit(VectorLayer, G3WObject);\n\nmodule.exports = VectorLayer;\n\nvar proto = VectorLayer.prototype;\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\nproto.resetSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var source = new ol.source.Vector({\n    features: features\n  });\n  this.setSource(source);\n};\n\nproto._makeOlLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      style = _ref.style;\n\n  var _style = this._makeStyle(style);\n  this._olLayer = new ol.layer.Vector({\n    name: this.name,\n    id: this.id,\n    style: _style,\n    source: new ol.source.Vector({})\n  });\n};\n\nproto._makeStyle = function (styleConfig) {\n  var style = void 0;\n  var styles = {};\n  if (styleConfig) {\n    Object.entries(styleConfig).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          type = _ref3[0],\n          config = _ref3[1];\n\n      switch (type) {\n        case 'point':\n          if (config.icon) {\n            styles.image = new ol.style.Icon({\n              src: config.icon.url,\n              imageSize: config.icon.width\n            });\n          }\n          break;\n        case 'line':\n          styles.stroke = new ol.style.Stroke({\n            color: config.color,\n            width: config.width\n          });\n          break;\n        case 'polygon':\n          styles.fill = new ol.style.Fill({\n            color: config.color\n          });\n          break;\n      }\n    });\n    style = new ol.style.Style(styles);\n  }\n  return style;\n};\n\nproto.getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this.provider.getFeatures(options).then(function (features) {\n    _this.addFeatures(features);\n    d.resolve(features);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getSource().addFeatures(features);\n};\n\nproto.addFeature = function (feature) {\n  feature && this.getSource().addFeature(feature);\n};\n\nproto.getOLLayer = function () {\n  if (this._olLayer) return this._olLayer;else {\n    var id = this.id;\n    var geometryType = this.geometryType;\n    var color = this.color;\n    var style = this.style ? createLayerStyle(this.style) : null;\n    this._olLayer = createOlLayer({\n      id: id,\n      geometryType: geometryType,\n      color: color,\n      style: style,\n      features: this._features\n    });\n  }\n  return this._olLayer;\n};\n\nproto.setOLLayer = function (olLayer) {\n  this._olLayer = olLayer;\n};\n\nproto.getSource = function () {\n  !this._olLayer && this.getOLLayer();\n  return this._olLayer.getSource();\n};\n\nproto.setSource = function (source) {\n  this._olLayer.setSource(source);\n};\n\nproto.setStyle = function (style) {\n  this._olLayer.setStyle(style);\n};\n\nproto.getFeatureById = function (fid) {\n  return fid ? this._olLayer.getSource().getFeatureById(fid) : null;\n};\n\nproto.isVisible = function () {\n  return this._olLayer.getVisible();\n};\n\nproto.setVisible = function (bool) {\n  this._olLayer.setVisible(bool);\n};\n\nproto.clear = function () {\n  this.getSource().clear();\n};\n\nproto.addToMap = function (map) {\n  map.addLayer(this._olLayer);\n};\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/gui\":356}],45:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSLayer, MapLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto.getOLLayer = function (withLayers) {\n  if (!this._olLayer) this._olLayer = this._makeOlLayer(withLayers);\n  return this._olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getGetFeatureInfoUrl = function (coordinate, resolution, epsg, params) {\n  return this.getOLLayer().getSource().getGetFeatureInfoUrl(coordinate, resolution, epsg, params);\n};\n\nproto.getLayerConfigs = function () {\n  return this.layers;\n};\n\nproto.addLayer = function (layer) {\n  if (!this.allLayers.find(function (_layer) {\n    return layer === _layer;\n  })) this.allLayers.push(layer);\n  if (!this.layers.find(function (_layer) {\n    return layer === _layer;\n  })) this.layers.push(layer);\n};\n\nproto.removeLayer = function (layer) {\n  this.layers = this.layers.filter(function (_layer) {\n    return layer !== _layer;\n  });\n};\n\nproto.isVisible = function () {\n  return this._getVisibleLayers().length > 0;\n};\n\nproto.getQueryUrl = function () {\n  var layer = this.layers[0];\n  if (layer.infourl && layer.infourl !== '') return layer.infourl;\n  return this.config.url;\n};\n\nproto.getQueryableLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isQueryable();\n  });\n};\n\nproto._getVisibleLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isVisible();\n  });\n};\n\n/**\n * @param {boolean} withLayers\n * \n * @returns {RasterLayers.WMSLayer}\n * \n * @listens ol.source.ImageWMS~imageloadstart\n * @listens ol.source.ImageWMS~imageloadend\n * @listens ol.source.ImageWMS~imageloaderror\n */\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var olLayer = new RasterLayers.WMSLayer(\n  // wmsConfig\n  {\n    url: this.layers[0] && this.layers[0].getWmsUrl ? this.layers[0].getWmsUrl() : this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: withLayers ? this.layers.map(function (layer) {\n      return layer.getWMSLayerName();\n    }) : this.layers,\n    /** @since 3.7.11 */\n    format: this.config.format\n  }, this.extraParams, this._method);\n  olLayer.getSource().on('imageloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('imageloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\n//update Layers\nproto._updateLayers = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force,\n      params = _objectWithoutProperties(extraParams, ['force']);\n  //check disabled layers\n\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  var visibleLayers = this._getVisibleLayers(mapState) || [];\n\n  var _require2 = require('core/utils/geo'),\n      get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\n  if (visibleLayers.length > 0) {\n    var CATEGORIES_LAYERS = {};\n    var STYLES = [];\n    var OPACITIES = [];\n    visibleLayers.map(function (layer) {\n      var layerId = layer.getWMSLayerName();\n      CATEGORIES_LAYERS[layerId] = _extends({}, get_LEGEND_ON_LEGEND_OFF_Params(layer));\n      STYLES.push(layer.getStyle());\n      OPACITIES.push(parseInt(layer.getOpacity() / 100 * 255));\n    });\n\n    var LEGEND_ON = void 0;\n    var LEGEND_OFF = void 0;\n    Object.keys(CATEGORIES_LAYERS).forEach(function (layerId) {\n      if (CATEGORIES_LAYERS[layerId].LEGEND_OFF) {\n        if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = CATEGORIES_LAYERS[layerId].LEGEND_OFF;else LEGEND_OFF = LEGEND_OFF + ';' + CATEGORIES_LAYERS[layerId].LEGEND_OFF;\n      }\n      if (CATEGORIES_LAYERS[layerId].LEGEND_ON) {\n        if (typeof LEGEND_ON === 'undefined') LEGEND_ON = CATEGORIES_LAYERS[layerId].LEGEND_ON;else LEGEND_ON = LEGEND_ON + ';' + CATEGORIES_LAYERS[layerId].LEGEND_ON;\n      }\n    });\n    var prefix = visibleLayers[0].isArcgisMapserver() ? 'show:' : '';\n    params = _extends({}, params, {\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      STYLES: STYLES.join(','),\n      /** @since v3.8 */\n      OPACITIES: OPACITIES.join(','),\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF,\n      LAYERS: '' + prefix + visibleLayers.map(function (layer) {\n        return layer.getWMSLayerName();\n      }).join(',')\n    });\n    this._olLayer.setVisible(true);\n    this._olLayer.getSource().updateParams(params);\n  } else this._olLayer.setVisible(false);\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (this.layer) this.layer.setMapParamstoLegendUrl(params);else this.layers.forEach(function (layer) {\n    return layer.setMapParamstoLegendUrl(params);\n  });\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":106,\"store/application-state\":368}],46:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSTLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSTLayer, WMSLayer);\n\nvar proto = WMSTLayer.prototype;\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.TiledWMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('tileloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('tileloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('tileloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSTLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":106,\"store/application-state\":368}],47:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction XYZLayer(options) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  base(this, options);\n  this._method = method;\n}\n\ninherit(XYZLayer, MapLayer);\n\nvar proto = XYZLayer.prototype;\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) olLayer = this._olLayer = this._makeOlLayer();\n  return olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getLayerConfigs = function () {\n  return this.layer;\n};\n\nproto.addLayer = function (layer) {\n  this.layer = layer;\n  this.layers.push(layer);\n  this.allLayers.push(layer);\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.isVisible = function () {\n  return layer.state.visible;\n};\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var projection = this.projection ? this.projection : this.layer.getProjection();\n  var layerOptions = {\n    url: this.layer.getCacheUrl() + '/{z}/{x}/{y}.png',\n    maxZoom: 20,\n    extent: this.config.extent,\n    iframe_internal: this.iframe_internal\n  };\n\n  layerOptions.projection = projection;\n  this._olLayer = new RasterLayers.XYZLayer(layerOptions, this._method);\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n  this._olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return this._olLayer;\n};\n\nproto._updateLayer = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force;\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  this._olLayer.setVisible(this.layer.isVisible());\n};\n\nmodule.exports = XYZLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":106}],48:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Provider = require('core/layers/providers/provider');\n\nfunction GEOJSONDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'geojson';\n  this.provider = options.provider;\n}\n\ninherit(GEOJSONDataProvider, Provider);\n\nvar proto = GEOJSONDataProvider.prototype;\n\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  d.resolve([]);\n  return d.promise();\n};\n\nproto.getFeatures = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var url = options.url || this.getLayer().get('source').url;\n  var data = options.data;\n  var projection = options.projection || \"EPSG:4326\";\n  var mapProjection = options.mapProjection;\n  var parseFeatures = function parseFeatures(data) {\n    var parser = new ol.format.GeoJSON();\n    return parser.readFeatures(data, {\n      featureProjection: mapProjection,\n      //defaultDataProjection: projection // ol v. 4.5\n      dataProjection: projection\n    });\n  };\n  if (data) {\n    var features = parseFeatures(data);\n    d.resolve(features);\n  } else {\n    $.get({ url: url }).then(function (response) {\n      var features = parseFeatures(response.results);\n      d.resolve(features);\n    }).fail(function (err) {\n      d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto.getDataTable = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      page = _ref.page;\n\n  var d = $.Deferred();\n  this.getFeatures().then(function () {\n    d.resolve(_this._features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.digestFeaturesForTable = function () {\n  return {\n    headers: [],\n    features: []\n  };\n};\n\nmodule.exports = GEOJSONDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],49:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction KMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'kml';\n}\n\ninherit(KMLDataProvider, DataProvider);\n\nvar proto = KMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = KMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],50:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    getTimeoutPromise = _require.getTimeoutPromise;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/utils/geo'),\n    handleQueryResponse = _require2.handleQueryResponse;\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nfunction Provider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._isReady = false;\n  this._name = 'provider';\n  this._layer = options.layer;\n  this._hasFieldsStartWithNotPermittedKey;\n  base(this);\n}\n\ninherit(Provider, G3WObject);\n\nvar proto = Provider.prototype;\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n};\n\nproto.getFeatures = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.query = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.setReady = function (bool) {\n  this._isReady = bool;\n};\n\nproto.isReady = function () {\n  return this._isReady;\n};\n\nproto.error = function () {};\n\nproto.isValid = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.getName = function () {\n  return this._name;\n};\n\n// Method to transform xml from server to present to queryresult component\nproto.handleQueryResponseFromServer = function (response, projections) {\n  var layers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [this._layer];\n  var wms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  return handleQueryResponse({\n    response: response,\n    projections: projections,\n    layers: layers,\n    wms: wms\n  });\n};\n\nproto.getQueryResponseTimeoutKey = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === undefined ? [this._layer] : _ref$layers,\n      resolve = _ref.resolve,\n      query = _ref.query;\n\n  /**\n   * set timeout of a query\n   * @type {number}\n   */\n  return getTimeoutPromise({\n    resolve: resolve,\n    data: {\n      data: responseParser.utils.getTimeoutData(layers),\n      query: query\n    }\n  });\n};\n\nmodule.exports = Provider;\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/parsers\":66,\"core/utils/utils\":67}],51:[function(require,module,exports){\nvar Providers = {\n  geojson: require('./geojsonprovider'),\n  kml: require('./kmlprovider'),\n  xml: require('./xmlprovider'),\n  qgis: require('./qgisprovider'),\n  wms: require('./wmsprovider'),\n  wfs: require('./wfsprovider')\n};\n\nvar ProvidersForServerTypes = {\n  'QGIS': {\n    'virtual': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'postgres': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'oracle': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'mssql': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'spatialite': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'ogr': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'delimitedtext': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'wmst': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wcs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wms': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wfs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis\n    },\n    'gdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vector-tile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vectortile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'arcgismapserver': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'mdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'OGC': {\n    'wms': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'G3WSUITE': {\n    'geojson': {\n      query: Providers.geojson,\n      filter: null,\n      data: Providers.geojson,\n      search: null\n    }\n  }\n};\n\nfunction ProviderFactory() {\n  this.build = function (providerType, serverType, sourceType, options) {\n    // return instace of seletced provider\n    var providerClass = this.get(providerType, serverType, sourceType);\n    if (providerClass) {\n      return new providerClass(options);\n    }\n    return null;\n  };\n\n  this.get = function (providerType, serverType, sourceType) {\n    return ProvidersForServerTypes[serverType][sourceType][providerType];\n  };\n}\n\nmodule.exports = new ProviderFactory();\n\n},{\"./geojsonprovider\":48,\"./kmlprovider\":49,\"./qgisprovider\":52,\"./wfsprovider\":53,\"./wmsprovider\":54,\"./xmlprovider\":55}],52:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nvar Feature = require('core/layers/features/feature');\nvar Parsers = require('core/utils/parsers');\n\nfunction QGISProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'qgis';\n  this._layer = options.layer || {};\n  this._projections = {\n    map: null,\n    layer: null\n  };\n  // url referred to query\n  this._queryUrl = this._layer.getUrl('query');\n  //filtertokenurl\n  this._filtertokenUrl = this._layer.getUrl('filtertoken');\n  // layer name\n  this._layerName = this._layer.getName() || null; // get name  from QGIS layer, because the query are proxed from g3w-server\n  this._infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n}\n\ninherit(QGISProvider, DataProvider);\n\nvar proto = QGISProvider.prototype;\n/*\n* token: current token if provide\n* action: create, update, delete\n* */\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: {\n              mode: 'delete'\n            }\n          });\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.getFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: params\n          });\n\n        case 3:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? {} : _ref3$data;\n          return _context2.abrupt('return', data.filtertoken);\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](0);\n          return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n        case 12:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[0, 9]]);\n}));\n\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref5.field,\n      _ref5$raw = _ref5.raw,\n      raw = _ref5$raw === undefined ? false : _ref5$raw,\n      _ref5$suggest = _ref5.suggest,\n      suggest = _ref5$suggest === undefined ? {} : _ref5$suggest,\n      unique = _ref5.unique,\n      _ref5$formatter = _ref5.formatter,\n      formatter = _ref5$formatter === undefined ? 1 : _ref5$formatter,\n      queryUrl = _ref5.queryUrl,\n      ordering = _ref5.ordering;\n\n  var dataUrl, params, response, isVector, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          dataUrl = this._layer.getUrl('data');\n          params = {\n            field: field,\n            suggest: suggest,\n            ordering: ordering,\n            formatter: formatter,\n            unique: unique,\n            filtertoken: _applicationState2.default.tokens.filtertoken\n          };\n          _context3.prev = 2;\n          _context3.next = 5;\n          return XHR.get({\n            url: '' + (queryUrl ? queryUrl : dataUrl),\n            params: params\n          });\n\n        case 5:\n          response = _context3.sent;\n          isVector = this._layer.getType() !== \"table\";\n\n          isVector && this.setProjections();\n          data = raw ? response : response.result ? unique ? response.data : {\n            data: responseParser.get('application/json')({\n              layers: [this._layer],\n              response: response.vector.data,\n              projections: this._projections\n            })\n          } : Promise.reject();\n          return _context3.abrupt('return', data);\n\n        case 12:\n          _context3.prev = 12;\n          _context3.t0 = _context3['catch'](2);\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 15:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[2, 12]]);\n}));\n\nproto.setProjections = function () {\n  //COMMENTED LAYER PROJECTION: EXPECT ONLY RESULT IN MAP PROJECTION\n  //this._projections.layer = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || this._projections.layer;\n};\n\n//query by filter\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var feature_count = options.feature_count || 10;\n  // parameter to get rwa response\n  var raw = options.raw || false;\n  var _options$filter = options.filter,\n      filter = _options$filter === undefined ? null : _options$filter;\n\n  filter = filter && Array.isArray(filter) ? filter : [filter];\n  var isVector = this._layer.getType() !== \"table\";\n  isVector && this.setProjections();\n  var CRS = isVector ? this._projections.map.getCode() : _applicationState2.default.map.epsg;\n  var queryUrl = options.queryUrl || this._queryUrl;\n  var I = options.I,\n      J = options.J,\n      layers = options.layers;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  }).join(',') : this._layer.getWMSLayerName();\n  if (filter) {\n    // check if geometry filter. If not i have to remove projection layer\n    if (filter[0].getType() !== 'geometry') this._projections.layer = null;\n    filter = filter.map(function (filter) {\n      return filter.get();\n    }).filter(function (value) {\n      return value;\n    });\n    var url = queryUrl;\n    var params = {\n      SERVICE: 'WMS',\n      VERSION: '1.3.0',\n      REQUEST: 'GetFeatureInfo',\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      LAYERS: layerNames,\n      QUERY_LAYERS: layerNames,\n      INFO_FORMAT: this._infoFormat,\n      FEATURE_COUNT: feature_count,\n      CRS: CRS,\n      I: I,\n      J: J,\n      FILTER: filter && filter.length ? filter.join(';') : undefined,\n      WITH_GEOMETRY: isVector\n    };\n    XHR.get({\n      url: url,\n      params: params\n    }).then(function (response) {\n      var featuresForLayers = raw ? response : _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve(featuresForLayers);\n    }).catch(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get layer config\nproto.getConfig = function () {\n  var d = $.Deferred();\n  var url = this._layer.getUrl('config');\n  if (!url) {\n    d.reject('not valid url');\n    return;\n  }\n  $.get(url).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getWidgetData = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var type = options.type,\n      fields = options.fields;\n\n  var widgetUrls = this._layer.getUrl('widget');\n  var url = widgetUrls[type];\n  return $.get(url, {\n    fields: fields\n  });\n};\n\n// unlock feature\nproto.unlock = function () {\n  var unlockUrl = this._layer.getUrl('unlock');\n  var d = $.Deferred();\n  $.post(unlockUrl).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// commit function\nproto.commit = function (commitItems) {\n  var d = $.Deferred();\n  //check if editing or not;\n  var url = this._layer.getUrl('commit');\n  var jsonCommits = JSON.stringify(commitItems);\n  $.post({\n    url: url,\n    data: jsonCommits,\n    contentType: \"application/json\"\n  }).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// METODS LOADING EDITING FEATURES (READ/WRITE) //\nproto.getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // filter null value\n  Object.entries(params).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        key = _ref7[0],\n        value = _ref7[1];\n\n    if (value === null || value === void 0) delete params[key];\n  });\n  var layerType = this._layer.getType();\n  // check if data are requested in read or write mode;\n  var url = void 0;\n  //set contentType\n  var contentType = \"application/json\";\n  //editing mode\n  if (options.editing) {\n    var promise = void 0;\n    url = this._layer.getUrl('editing');\n    if (!url) {\n      d.reject('Url not valid');\n      return;\n    }\n    var urlParams = $.param(params);\n    url += urlParams ? '?' + urlParams : '';\n    var features = [];\n    var filter = options.filter || null;\n    if (filter) {\n      // filterbbox\n      if (filter.bbox) {\n        var bbox = filter.bbox;\n        filter = {\n          in_bbox: bbox[0] + ',' + bbox[1] + ',' + bbox[2] + ',' + bbox[3],\n          filtertoken: _applicationState2.default.tokens.filtertoken\n        };\n        var jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: jsonFilter,\n          contentType: contentType\n        });\n        // filter fid\n      } else if (filter.fid) {\n        var _options = filter.fid;\n        promise = _relations2.default.getRelations(_options);\n      } else if (filter.field) {\n        var _jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter,\n          contentType: contentType\n        });\n      } else if (filter.fids) {\n        promise = XHR.get({\n          url: url,\n          params: filter\n        });\n      } else if (filter.nofeatures) {\n        var _jsonFilter2 = JSON.stringify({\n          field: (filter.nofeatures_field || 'id') + '|eq|__G3W__NO_FEATURES__'\n        });\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter2,\n          contentType: contentType\n        });\n      }\n    } else promise = XHR.post({ url: url, contentType: contentType });\n    promise.then(function (response) {\n      var vector = response.vector,\n          result = response.result,\n          featurelocks = response.featurelocks;\n\n      if (result) {\n        var data = vector.data,\n            geometrytype = vector.geometrytype,\n            count = vector.count;\n\n        var parser = Parsers[layerType].get({\n          type: 'json'\n        });\n        //const parser_options = (geometrytype !== 'NoGeometry') ? { crs: this._layer.getCrs(), mapCrs: this._layer.getMapCrs() } : {};\n        var parser_options = geometrytype !== 'NoGeometry' ? { crs: _this2._layer.getCrs() } : {};\n        //get lockIds\n        var lockIds = featurelocks.map(function (featureLock) {\n          return featureLock.featureid;\n        });\n        parser(data, parser_options).forEach(function (feature) {\n          var featureId = '' + feature.getId();\n          if (lockIds.indexOf(featureId) > -1) {\n            features.push(new Feature({\n              feature: feature\n            }));\n          }\n        });\n        // resolve with features locked and requested\n        d.resolve({\n          count: count, // real number of feature that request will return\n          features: features, // feature object returned\n          featurelocks: featurelocks // features locked\n        });\n      } else {\n        // case when server responde with result false (error)\n        d.reject({\n          message: t(\"info.server_error\")\n        });\n      }\n    }).catch(function (err) {\n      return d.reject({ message: t(\"info.server_error\") });\n    });\n  } else {\n    url = this._layer.getUrl('data');\n    var _urlParams = $.param(params);\n    url += _urlParams ? '?' + _urlParams : '';\n    $.get({\n      url: url,\n      contentType: contentType\n    }).then(function (response) {\n      var vector = response.vector;\n      var data = vector.data;\n      d.resolve({\n        data: data,\n        count: vector.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._loadLayerData = function (mode, customUrlParameters) {\n  var _this3 = this,\n      _arguments = arguments;\n\n  var d = $.Deferred();\n  Obkect.entries(this._layers).forEach(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        layerCode = _ref9[0],\n        layer = _ref9[1];\n\n    if (_.isNull(layer.vector)) noVectorlayerCodes.push(layerCode);\n  });\n  var vectorLayersSetup = noVectorlayerCodes.map(function (layerCode) {\n    return _this3._setupVectorLayer(layerCode);\n  });\n  this.emit('loadingvectorlayersstart');\n  $.when.apply(this, vectorLayersSetup).then(function () {\n    var vectorLayersCodes = Array.prototype.slice.call(_arguments);\n    _this3.emit('loadingvectolayersdatastart');\n    _this3.loadAllVectorsData(vectorLayersCodes).then(function () {\n      _this3._vectorLayersCodes = vectorLayersCodes;\n      d.resolve(vectorLayersCodes);\n      _this3.emit('loadingvectorlayersend');\n      _this3.setReady(true);\n    }).fail(function () {\n      _this3._layers.forEach(function (layer) {\n        return layer.vector = null;\n      });\n      d.reject();\n      _this3.emit('errorloadingvectorlayersend');\n      _this3.setReady(false);\n    });\n  }).fail(function () {\n    _this3.setReady(false);\n    _this3.emit('errorloadingvectorlayersend');\n    d.reject();\n  });\n  return d.promise();\n};\n\nproto.setVectorLayersCodes = function (vectorLayersCodes) {\n  this._vectorLayersCodes = vectorLayersCodes;\n};\n\nproto.getVectorLayersCodes = function () {\n  return this._vectorLayersCodes;\n};\n\nproto.getLayers = function () {\n  return this._layers;\n};\n\nproto.reloadVectorData = function (layerCode) {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    _this4._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n      _this4.setVectorLayerData(vectorLayer[_this4._editingApiField], vectorDataResponse);\n      vectorLayer.setData(vectorDataResponse.vector.data);\n      d.resolve(vectorLayer);\n    });\n  });\n  return d.promise();\n};\n\nproto.loadAllVectorsData = function (layerCodes) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  var layers = this._layers;\n  var bbox = this._mapService.state.bbox;\n  var loadedExtent = this._loadedExtent;\n  if (loadedExtent && ol.extent.containsExtent(loadedExtent, bbox)) {\n    return resolvedValue();\n  }\n  this._loadedExtent = !loadedExtent ? bbox : ol.extent.extend(loadedExtent, bbox);\n  if (layerCodes) {\n    layers = [];\n    layerCodes.forEach(function (layerCode) {\n      return layers.push(_this5._layers[layerCode]);\n    });\n  }\n  var vectorDataRequests = layers.map(function (Layer) {\n    return _this5._loadVectorData(Layer.vector, bbox);\n  });\n\n  $.when.apply(this, vectorDataRequests).then(function () {\n    return d.resolve(layerCodes);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setCustomUrlParameters = function (customUrlParameters) {\n  this._customUrlParameters = customUrlParameters;\n};\n\nproto._checkVectorGeometryTypeFromConfig = function (vectorConfig) {\n  switch (vectorConfig.geometrytype) {\n    case 'Line':\n      vectorConfig.geometrytype = 'LineString';\n      break;\n    case 'MultiLine':\n      vectorConfig.geometrytype = 'MultiLineString';\n      break;\n  }\n  return vectorConfig;\n};\n\nproto._createVectorLayerFromConfig = function (layerCode) {\n  var _this6 = this;\n\n  var layerConfig = this._layers[layerCode];\n  var d = $.Deferred();\n  this._getVectorLayerConfig(layerConfig[this._editingApiField]).then(function (vectorConfigResponse) {\n    var vectorConfig = vectorConfigResponse.vector;\n    vectorConfig = _this6._checkVectorGeometryTypeFromConfig(vectorConfig);\n    var crsLayer = layerConfig.crs || _this6._mapService.getProjection().getCode();\n    var vectorLayer = _this6._createVectorLayer({\n      geometrytype: vectorConfig.geometrytype,\n      format: vectorConfig.format,\n      crs: _this6._mapService.getProjection().getCode(),\n      crsLayer: crsLayer,\n      id: layerConfig.id,\n      name: layerConfig.name,\n      editing: self._editingMode\n    });\n    vectorLayer.setFields(vectorConfig.fields);\n    vectorLayer.setCrs(crsLayer);\n    var relations = vectorConfig.relations;\n    if (relations) {\n      vectorLayer.lazyRelations = true;\n      vectorLayer.setRelations(relations);\n    }\n    if (layerConfig.style) vectorLayer.setStyle(layerConfig.style);\n    d.resolve(vectorLayer);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setupVectorLayer = function (layerCode) {\n  var _this7 = this;\n\n  var d = $.Deferred();\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    var layerConfig = _this7._layers[layerCode];\n    layerConfig.vector = vectorLayer;\n    d.resolve(layerCode);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._loadVectorData = function (vectorLayer, bbox) {\n  var _this8 = this;\n\n  return self._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n    _this8.setVectorLayerData(vectorLayer[_this8._editingApiField], vectorDataResponse);\n    if (_this8._editingMode && vectorDataResponse.featurelocks) {\n      _this8.setVectorFeaturesLock(vectorLayer, vectorDataResponse.featurelocks);\n    }\n    vectorLayer.setData(vectorDataResponse.vector.data);\n    if (_this8._) return vectorDataResponse;\n  }).fail(function () {\n    return false;\n  });\n};\n\nproto.getVectorLayerData = function (layerCode) {\n  return this._vectorLayersData[layerCode];\n};\n\nproto.getVectorLayersData = function () {\n  return this._vectorLayersData;\n};\n\nproto.setVectorLayerData = function (layerCode, vectorLayerData) {\n  this._vectorLayersData[layerCode] = vectorLayerData;\n};\n\nproto.setVectorFeaturesLock = function (vectorLayer, featureslock) {\n  var newFeaturesLockIds = _.differenceBy(featureslock, vectorLayer.getFeatureLocks(), 'featureid');\n  newFeaturesLockIds.forEach(function (newLockId) {\n    vectorLayer.addLockId(newLockId);\n  });\n};\n\nproto.cleanVectorFeaturesLock = function (vectorLayer) {\n  vectorLayer.cleanFeatureLocks();\n};\n\nproto.lockFeatures = function (layerName) {\n  var _this9 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  var vectorLayer = this._layers[layerName].vector;\n  $.get(this._baseUrl + layerName + \"/?lock\" + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    _this9.setVectorFeaturesLock(vectorLayer, data.featurelocks);\n    d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerConfig = function (layerApiField) {\n  var d = $.Deferred();\n  $.get(this._baseUrl + layerApiField + \"/?config\" + this._customUrlParameters).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerData = function (vectorLayer, bbox) {\n  var d = $.Deferred();\n  var lock = this.getMode() == 'w' ? true : false;\n  var apiUrl = lock ? this._baseUrl + vectorLayer[this._editingApiField] + \"/?editing\" : this._baseUrl + vectorLayer[this._editingApiField] + \"/?\";\n  $.get(apiUrl + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._createVectorLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var vector = new VectorLayer(options);\n  return vector;\n};\n\nproto.cleanUpLayers = function () {\n  this._loadedExtent = null;\n};\n\nmodule.exports = QGISProvider;\n\n},{\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/providers/provider\":50,\"core/utils/parsers\":66,\"core/utils/utils\":67,\"services/relations\":362,\"store/application-state\":368}],53:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar DataProvider = require('core/layers/providers/provider');\nvar Filter = require('core/layers/filter/filter');\n\nfunction WFSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wfs';\n}\n\ninherit(WFSDataProvider, DataProvider);\n\nvar proto = WFSDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\n// query method\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$reproject = options.reproject,\n      reproject = _options$reproject === undefined ? false : _options$reproject,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      filter = options.filter;\n\n  params.MAXFEATURES = feature_count;\n  var d = $.Deferred();\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers;\n\n\n  var projections = {\n    map: this._layer.getMapProjection(),\n    layer: reproject ? this._layer.getProjection() : null\n  };\n\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: {}\n  });\n\n  this._doRequest(filter, params, layers, reproject).then(function (response) {\n    var featuresForLayers = _this.handleQueryResponseFromServer(response, projections, layers, wms = false);\n    featuresForLayers.forEach(function (featuresForLayer) {\n      var _featuresForLayer$fea = featuresForLayer.features,\n          features = _featuresForLayer$fea === undefined ? [] : _featuresForLayer$fea;\n      //sanitize in case of nil:true\n\n      features.forEach(function (feature) {\n        Object.entries(feature.getProperties()).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              attribute = _ref2[0],\n              value = _ref2[1];\n\n          if (toRawType(value) === 'Object' && value['xsi:nil']) feature.set(attribute, 'NULL');\n        });\n      });\n    });\n    d.resolve({\n      data: featuresForLayers\n    });\n  }).fail(function (e) {\n    return d.reject(e);\n  }).always(function () {\n    clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto._post = function (url, params) {\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  $.post(url, params).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// get request\nproto._get = function (url, params) {\n  // trasform parameters\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  var urlParams = $.param(params);\n  url = url + '?' + urlParams;\n  $.get(url).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//request to server\nproto._doRequest = function (filter) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var layers = arguments[2];\n  var reproject = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var d = $.Deferred();\n  filter = filter || new Filter({});\n  var layer = layers ? layers[0] : this._layer;\n  var httpMethod = layer.getOwsMethod();\n  var url = layer.getQueryUrl();\n  var infoFormat = layer.getInfoFormat();\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWFSLayerName();\n  }).join(',') : layer.getWFSLayerName();\n  var SRSNAME = reproject ? layer.getProjection().getCode() : this._layer.getMapProjection().getCode();\n  params = Object.assign(params, {\n    SERVICE: 'WFS',\n    VERSION: '1.1.0',\n    REQUEST: 'GetFeature',\n    TYPENAME: layerNames,\n    OUTPUTFORMAT: infoFormat,\n    SRSNAME: SRSNAME\n  });\n  if (filter) {\n    var filterType = filter.getType();\n    var filterConfig = filter.getConfig();\n    var featureRequest = void 0;\n    // get filter from ol\n    var f = ol.format.filter;\n    /////\n    filter = filter.get();\n    switch (filterType) {\n      case 'bbox':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f.bbox('the_geom', filter)\n        });\n        break;\n      case 'geometry':\n        //speatial methos. <inteserct, within>\n        var _filterConfig$spatial = filterConfig.spatialMethod,\n            spatialMethod = _filterConfig$spatial === undefined ? 'intersects' : _filterConfig$spatial;\n\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f[spatialMethod]('the_geom', filter)\n        });\n        break;\n      case 'expression':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: null\n        });\n        break;\n      case 'all':\n        request = this._post(url, params);\n        return request;\n      default:\n        break;\n    }\n    params.FILTER = ('(' + featureRequest.children[0].innerHTML + ')').repeat(layers ? layers.length : 1);\n    var queryPromise = httpMethod === 'GET' && filterType !== 'geometry' ? this._get(url, params) : this._post(url, params);\n    queryPromise.then(function (response) {\n      d.resolve(response);\n    }).fail(function (err) {\n      if (err.status === 200) d.resolve(err.responseText);else d.reject(err);\n    });\n  } else d.reject();\n\n  return d.promise();\n};\n\nmodule.exports = WFSDataProvider;\n\n},{\"core/layers/filter/filter\":30,\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],54:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    appendParams = _require.appendParams,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\nvar geoutils = require('core/utils/ol');\nvar DataProvider = require('core/layers/providers/provider');\n\n//overwrite method to read feature\n// da un geojson\nvar GETFEATUREINFO_IMAGE_SIZE = [101, 101];\nvar DPI = geoutils.getDPI();\n\nfunction WMSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wms';\n  this._projections = {\n    map: null,\n    layer: null\n  };\n}\n\ninherit(WMSDataProvider, DataProvider);\n\nvar proto = WMSDataProvider.prototype;\n\nproto._getRequestParameters = function (_ref) {\n  var layers = _ref.layers,\n      feature_count = _ref.feature_count,\n      coordinates = _ref.coordinates,\n      infoFormat = _ref.infoFormat,\n      _ref$query_point_tole = _ref.query_point_tolerance,\n      query_point_tolerance = _ref$query_point_tole === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref$query_point_tole,\n      resolution = _ref.resolution,\n      size = _ref.size;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSInfoLayerName();\n  }).join(',') : this._layer.getWMSInfoLayerName();\n  var extent = geoutils.getExtentForViewAndSize(coordinates, resolution, 0, size);\n  var x = Math.floor((coordinates[0] - extent[0]) / resolution);\n  var y = Math.floor((extent[3] - coordinates[1]) / resolution);\n  var PARAMS_TOLERANCE = {};\n  var unit = query_point_tolerance.unit,\n      value = query_point_tolerance.value;\n\n  if (unit === 'map') {\n    var bufferGeometry = ol.geom.Polygon.fromCircle(new ol.geom.Circle(coordinates, value));\n    var wkGeometry = new ol.format.WKT();\n    PARAMS_TOLERANCE = {\n      FILTER_GEOM: wkGeometry.writeGeometry(bufferGeometry)\n    };\n  } else {\n    PARAMS_TOLERANCE = {\n      FI_POINT_TOLERANCE: value,\n      FI_LINE_TOLERANCE: value,\n      FI_POLYGON_TOLERANCE: value,\n      G3W_TOLERANCE: value * resolution,\n      I: x,\n      J: y\n    };\n  }\n  /**\n   * Add LEGEND_ON and/or LEGEND_OFF in case of layer that has categories\n   * It used to solve issue related to GetFeatureInfo feature layer categories\n   * that are unchecked (not visisble) at QGIS project setting\n   */\n  var LEGEND_PARAMS = {\n    LEGEND_ON: [],\n    LEGEND_OFF: []\n  };\n  layers.forEach(function (layer) {\n    if (layer.getCategories()) {\n      var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer),\n          LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON,\n          LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n\n      LEGEND_ON && LEGEND_PARAMS.LEGEND_ON.push(LEGEND_ON);\n      LEGEND_OFF && LEGEND_PARAMS.LEGEND_OFF.push(LEGEND_OFF);\n    }\n  });\n\n  var params = _extends({\n    SERVICE: 'WMS',\n    VERSION: '1.3.0',\n    REQUEST: 'GetFeatureInfo',\n    CRS: this._projections.map.getCode(),\n    LAYERS: layerNames,\n    QUERY_LAYERS: layerNames,\n    filtertoken: _applicationState2.default.tokens.filtertoken,\n    INFO_FORMAT: infoFormat,\n    FEATURE_COUNT: feature_count,\n    WITH_GEOMETRY: true,\n    DPI: DPI\n  }, PARAMS_TOLERANCE, {\n    WIDTH: size[0],\n    HEIGHT: size[1],\n    //LEGEND_ON / LEGEND_OFF parameter\n    LEGEND_ON: LEGEND_PARAMS.LEGEND_ON.length ? LEGEND_PARAMS.LEGEND_ON.join(';') : undefined,\n    LEGEND_OFF: LEGEND_PARAMS.LEGEND_OFF.length ? LEGEND_PARAMS.LEGEND_OFF.join(';') : undefined\n  });\n  if (!('STYLES' in params)) params['STYLES'] = '';\n  var bbox = this._projections.map.getAxisOrientation().substr(0, 2) === 'ne' ? [extent[1], extent[0], extent[3], extent[2]] : extent;\n  params['BBOX'] = bbox.join(',');\n  return params;\n};\n\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n  var layerProjection = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || layerProjection;\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      _options$size = options.size,\n      size = _options$size === undefined ? GETFEATUREINFO_IMAGE_SIZE : _options$size,\n      _options$coordinates = options.coordinates,\n      coordinates = _options$coordinates === undefined ? [] : _options$coordinates,\n      resolution = options.resolution,\n      query_point_tolerance = options.query_point_tolerance;\n\n  var layer = layers[0];\n  var url = layer.getQueryUrl();\n  var METHOD = layer.isExternalWMS() || !/^\\/ows/.test(url) ? 'GET' : layer.getOwsMethod();\n  var params = this._getRequestParameters({ layers: layers, feature_count: feature_count, coordinates: coordinates, infoFormat: infoFormat, query_point_tolerance: query_point_tolerance, resolution: resolution, size: size });\n  var query = {\n    coordinates: coordinates,\n    resolution: resolution\n  };\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: query\n  });\n\n  if (layer.useProxy()) {\n    layer.getDataProxyFromServer('wms', {\n      url: url,\n      params: params,\n      method: METHOD,\n      headers: {\n        'Content-Type': infoFormat\n      }\n    }).then(function (response) {\n      var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve({\n        data: data,\n        query: query\n      });\n    });\n  } else this[METHOD]({ url: url, layers: layers, params: params }).then(function (response) {\n    var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n    d.resolve({\n      data: data,\n      query: query\n    });\n  }).catch(function (err) {\n    return d.reject(err);\n  }).finally(function () {\n    return clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto.GET = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref2.url,\n      params = _ref2.params;\n\n  var sourceParam = url.split('SOURCE');\n  if (sourceParam.length) {\n    url = sourceParam[0];\n    if (sourceParam.length > 1) sourceParam = '&SOURCE' + sourceParam[1];else sourceParam = '';\n  }\n  url = appendParams(url, params);\n  url = '' + url + (sourceParam && sourceParam);\n  return XHR.get({\n    url: url\n  });\n};\n\nproto.POST = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref3.url,\n      params = _ref3.params;\n\n  return XHR.post({\n    url: url,\n    data: params\n  });\n};\n\nmodule.exports = WMSDataProvider;\n\n},{\"constant\":4,\"core/layers/providers/provider\":50,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"store/application-state\":368}],55:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction XMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'xml';\n}\n\ninherit(XMLDataProvider, DataProvider);\n\nvar proto = XMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = XMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],56:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Layer = require('core/layers/layer');\nvar Editor = require('core/editing/editor');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar Feature = require('core/layers/features/feature');\n\n// Base Layer that support editing\nfunction TableLayer() {\n  var _this3 = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // setters\n  this.setters = {\n    // delete all features\n    clearFeatures: function clearFeatures() {\n      this._clearFeatures();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    setFeatures: function setFeatures(features) {\n      this._setFeatures(features);\n    },\n\n    // get data from every sources (server, wms, etc..)\n    // throught provider related to featuresstore\n    getFeatures: function getFeatures() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var d = $.Deferred();\n      this._featuresstore.getFeatures(options).then(function (promise) {\n        promise.then(function (features) {\n          _this.emit('getFeatures', features);\n          return d.resolve(features);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n      return d.promise();\n    },\n    commit: function commit(commitItems) {\n      var _this2 = this;\n\n      var d = $.Deferred();\n      this._featuresstore.commit(commitItems).then(function (promise) {\n        promise.then(function (response) {\n          response && response.result && _this2.syncSelectionFilterFeatures(commitItems);\n          d.resolve(response);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        d.reject(err);\n      });\n      return d.promise();\n    },\n    setColor: function setColor(color) {\n      this._setColor(color);\n    }\n  };\n  /*\n   * editing url api:\n   * /api/vector/<type of request: data/editing/config>/<project_type>/<project_id>/<layer_id>\n   * example: /api/vector/config/qdjango/10/points273849503023\n   *\n  */\n  this.type = Layer.LayerTypes.TABLE;\n  // color\n  this._color = null;\n  options.project = options.project || _projects2.default.getCurrentProject();\n  this.layerId = config.id;\n  // add urls\n  config.urls = config.urls || {};\n  // add editing configurations\n  config.editing = {\n    fields: [] // editing fields\n  };\n  // call base layer\n  base(this, config, options);\n\n  // get configuration from server if is editable\n  this._editatbleLayer;\n  if (this.isEditable()) {\n    // add state info for the layer\n    this.layerForEditing = new Promise(function (resolve, reject) {\n      _this3.getEditingConfig().then(function () {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            vector = _ref.vector,\n            _ref$constraints = _ref.constraints,\n            constraints = _ref$constraints === undefined ? {} : _ref$constraints,\n            _ref$capabilities = _ref.capabilities,\n            capabilities = _ref$capabilities === undefined ? _constant.DEFAULT_EDITING_CAPABILITIES : _ref$capabilities;\n\n        _this3.config.editing.fields = vector.fields;\n        _this3.config.editing.format = vector.format;\n        _this3.config.editing.constraints = constraints;\n        //set default editing capabilities\n        _this3.config.editing.capabilities = capabilities;\n        _this3.config.editing.style = vector.style;\n        _this3.config.editing.form = {\n          perc: null\n        };\n        _this3._setOtherConfigParameters(vector);\n        vector.style && _this3.setColor(vector.style.color);\n        // create an instance of editor\n        _this3._editor = new Editor({\n          layer: _this3\n        });\n\n        resolve(_this3);\n        _this3.setReady(true);\n      }).fail(function (err) {\n        reject(_this3);\n        _this3.setReady(false);\n      });\n    });\n    this.state = _extends({}, this.state, {\n      editing: {\n        started: false,\n        modified: false,\n        ready: false\n      }\n    });\n  }\n  this._featuresstore = new FeaturesStore({\n    provider: this.providers.data\n  });\n}\n\ninherit(TableLayer, Layer);\n\nvar proto = TableLayer.prototype;\n\n//sync selection\nproto.syncSelectionFilterFeatures = function (commitItems) {\n  try {\n    var layer = _catalogLayers2.default.getLayerById(this.getId());\n    layer.isGeoLayer() && commitItems.update.forEach(function (updateItem) {\n      var id = updateItem.id,\n          geometry = updateItem.geometry;\n\n      layer.getOlSelectionFeature(id) && layer.updateOlSelectionFeature({ id: id, geometry: geometry });\n    });\n    commitItems.delete.forEach(function (id) {\n      layer.hasSelectionFid(id) && layer.excludeSelectionFid(id);\n    });\n  } catch (err) {}\n};\n\nproto.setFormPercentage = function (perc) {\n  this.config.editing.form.perc = perc;\n};\n\nproto.getFormPercentage = function () {\n  return this.config.editing.form.perc;\n};\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.cloneFeatures = function () {\n  return this._featuresstore.clone();\n};\n\nproto.setVectorUrl = function (url) {\n  this.vectorUrl = url;\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto._setColor = function (color) {\n  this._color = color;\n};\n\nproto.getColor = function () {\n  return this._color;\n};\n\nproto.readFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// return layer for editing\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      vectorurl = _ref3.vectorurl,\n      project_type = _ref3.project_type;\n\n  var editableLayer;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          vectorurl && this.setVectorUrl(vectorurl);\n          project_type && this.setProjectType(project_type);\n          this.setEditingUrl();\n          editableLayer = this.clone();\n          _context.prev = 4;\n          _context.next = 7;\n          return editableLayer.layerForEditing;\n\n        case 7:\n          return _context.abrupt('return', _context.sent);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](4);\n          return _context.abrupt('return', _context.t0);\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[4, 10]]);\n}));\n\nproto.getEditingSource = function () {\n  return this._editor.getEditingSource();\n};\n\nproto.readEditingFeatures = function () {\n  return this._editor.readEditingFeatures();\n};\n\nproto.getEditingLayer = function () {\n  return this;\n};\n\n//check if is editingLayer useful to get editingstyle\nproto.isEditingLayer = function () {\n  return !!this.config.editing;\n};\n\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto.setEditingStyle = function () {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.editing.style = style;\n};\n\nproto.getEditingConstrains = function () {\n  return this.config.editing.constraints;\n};\n\nproto.getEditingCapabilities = function () {\n  return this.config.editing.capabilities;\n};\n\nproto.isFieldRequired = function (fieldName) {\n  var required = false;\n  this.getEditingFields().forEach(function (field) {\n    if (fieldName === field.name) {\n      required = !!field.validate.required;\n      return false;\n    }\n  });\n  return required;\n};\n\n// unlock editng features\nproto.unlock = function () {\n  var d = $.Deferred();\n  this._featuresstore.unlock().then(function () {\n    return d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto._setOtherConfigParameters = function (config) {\n  // overwrite by vector layer\n};\n\n// return layer fields\nproto.getEditingFields = function () {\n  var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var fields = this.config.editing.fields.length ? this.config.editing.fields : this.config.fields;\n  if (editable) fields = fields.filter(function (field) {\n    return field.editable;\n  });\n  return fields;\n};\n\nproto.isPkField = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field && find_field.pk;\n};\n\nproto.isEditingFieldEditable = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field ? find_field.editable : false;\n};\n\nproto.getEditingNotEditableFields = function () {\n  return this.config.editing.fields.filter(function (field) {\n    return !field.editable;\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getEditingMediaFields = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  return this.config.editing.fields.filter(function (field) {\n    return field.input.type === 'media';\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getFieldsLabel = function () {\n  var labels = [];\n  this.getEditingFields().forEach(function (field) {\n    return labels.push(field.label);\n  });\n  return labels;\n};\n\nproto.getDataFormat = function () {\n  return this.config.editing.format;\n};\n\n// raw data\nproto.getEditingFormat = function () {\n  return this.config.editing.format;\n};\n\nproto.isReady = function () {\n  return this.state.editing.ready;\n};\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.editing.ready = bool;\n};\n\n// get configuration from server\nproto.getEditingConfig = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider('data');\n  provider.getConfig(options).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addEditingConfigFieldOption = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref4.field,\n      key = _ref4.key,\n      value = _ref4.value;\n\n  var options = field.input.options;\n  options[key] = value;\n  return options[key];\n};\n\nproto.getWidgetData = function (options) {\n  var provider = this.getProvider('data');\n  var d = $.Deferred();\n  provider.getWidgetData(options).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getCommitUrl = function () {\n  return this.config.urls.commit;\n};\n\nproto.setCommitUrl = function (url) {\n  this.config.urls.commit = url;\n};\n\nproto.getEditingUrl = function () {\n  return this.config.urls.editing;\n};\n\nproto.getUnlockUrl = function () {\n  return this.config.url.unlock;\n};\n\nproto.setUnlockUrl = function (url) {\n  this.config.urls.unlock = url;\n};\n\nproto.getWidgetUrl = function () {\n  return this.config.urls.widget;\n};\n\n// set data url\nproto.setDataUrl = function (url) {\n  this.config.urls.data = url;\n};\n\nproto.getDataUrl = function () {\n  return this.config.urls.data;\n};\n\n// url to get config layer\nproto.getConfigUrl = function () {\n  return this.config.urls.config;\n};\n\nproto.setConfigUrl = function (url) {\n  this.config.urls.index = url;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.isStarted = function () {\n  return this.getEditor().isStarted();\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\nproto.getFeaturesStore = function () {\n  return this._featuresstore;\n};\n\nproto.setFeaturesStore = function (featuresstore) {\n  this._featuresstore = featuresstore;\n};\n\nproto.setSource = function (source) {\n  this.setFeaturesStore(source);\n};\n\nproto.getSource = function () {\n  return this._featuresstore;\n};\n\n// get editing style\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.addFeatures = function (features) {\n  var _this4 = this;\n\n  features.forEach(function (feature) {\n    return _this4.addFeature(feature);\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  return feature.getId();\n};\n\nproto._updateFeature = function (feature) {};\n\nproto._clearFeatures = function () {\n  this._featuresstore.clearFeatures();\n};\n\nproto.addLockIds = function (lockIds) {\n  this._featuresstore.addLockIds(lockIds);\n};\n\nproto.setFieldsWithValues = function (feature, fields) {\n  var createAttributesFromFields = function createAttributesFromFields(fields) {\n    var attributes = {};\n    fields.forEach(function (field) {\n      if (field.type === 'child') {\n        attributes[field.name] = createAttributesFromFields(field.fields);\n      } else if (field.value === 'null') {\n        field.value = null;\n      }\n      attributes[field.name] = field.value;\n    });\n    return attributes;\n  };\n  var attributes = createAttributesFromFields(fields);\n  feature.setProperties(attributes);\n  return attributes;\n};\n\nproto.getFieldsWithValues = function (obj) {\n  var _this5 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$exclude = options.exclude,\n      exclude = _options$exclude === undefined ? [] : _options$exclude,\n      _options$get_default_ = options.get_default_value,\n      get_default_value = _options$get_default_ === undefined ? true : _options$get_default_;\n\n  var fields = JSON.parse(JSON.stringify(this.getEditingFields()));\n  var feature = void 0;\n  if (obj instanceof Feature) feature = obj;else if (obj instanceof ol.Feature) feature = new Feature({\n    feature: obj\n  });else feature = obj && this.getFeatureById(obj);\n  if (feature) {\n    var attributes = feature.getProperties();\n\n    fields.forEach(function (field) {\n\n      field.value = attributes[field.name];\n      // store original value\n      field._value = attributes[field.name];\n      // at beginning set update false. Used to form\n      field.update = false;\n      if (field.input) {\n        var _configField = _this5.getEditingFields().find(function (_field) {\n          return _field.name === field.name;\n        });\n        var _options = _configField.input.options;\n        field.input.options.loading = _options.loading || { state: null };\n        field.input.options.values = _options.values;\n      }\n      /**\n       * exclude contain field to set visible false\n       */\n      field.visible = exclude.indexOf(field.name) === -1;\n      // for editing purpose\n      if (field.validate === undefined) field.validate = {};\n      field.forceNull = false;\n      field.validate.valid = true;\n      field.validate._valid = true; //useful to get previous value in certain case\n      field.value_from_default_value = false; // need to be check if default value is set by server configuration field\n      field.get_default_value = get_default_value; // specify if need to get value from form field.input.options.default value in case of missing value of field.value\n      field.validate.unique = field.validate.unique || false;\n      field.validate.exclude_values = new Set(); // for validate.unique purpose to check is new value iserted or change need to be di\n      field.validate.required = field.validate.required || false;\n      field.validate.mutually_valid = true;\n      field.validate.empty = !field.validate.required;\n      field.validate.message = null;\n      // end editing purpose\n    });\n  }\n  return fields;\n};\n\nproto.createNewFeature = function () {\n  var feature = new ol.Feature();\n  var properties = {};\n  this.getEditingFields().forEach(function (field) {\n    return properties[field.name] = null;\n  });\n  feature.setProperties(properties);\n  feature = new Feature({\n    feature: feature\n  });\n  feature.setNew();\n  return feature;\n};\n\nmodule.exports = TableLayer;\n\n},{\"app/constant\":4,\"core/editing/editor\":6,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/layer\":34,\"core/utils/utils\":67,\"store/catalog-layers\":369,\"store/projects\":374}],57:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\nvar VectorMapLayer = require('core/layers/map/vectorlayer');\n\nfunction VectorLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments[1];\n\n  base(this, config, options);\n  this._mapLayer = null; // later tah will be added to map\n  this.type = Layer.LayerTypes.VECTOR;\n  // need a ol layer for add to map\n  this.setup(config, options);\n  this.onafter('setColor', function (color) {});\n}\n\ninherit(VectorLayer, TableLayer);\n\nmixin(VectorLayer, GeoLayerMixin);\n\nvar proto = VectorLayer.prototype;\n\nproto.getEditingLayer = function () {\n  return this.getMapLayer().getOLLayer();\n};\n\nproto.resetEditingSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getMapLayer().resetSource(features);\n};\n\nproto._setOtherConfigParameters = function (config) {\n  this.config.editing.geometrytype = config.geometrytype;\n};\n\nproto.getEditingGeometryType = function () {\n  return this.config.editing.geometrytype;\n};\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var id = this.getId();\n  var geometryType = this.getGeometryType();\n  var color = this.getColor();\n  var style = this.isEditingLayer() ? this.getEditingStyle() : this.getCustomStyle();\n  var provider = this.getProvider('data');\n  this._mapLayer = new VectorMapLayer({\n    id: id,\n    geometryType: geometryType,\n    color: color,\n    style: style,\n    provider: provider,\n    features: this._editor && this._editor.getEditingSource().getFeaturesCollection()\n  });\n  return this._mapLayer;\n};\n\nmodule.exports = VectorLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/map/vectorlayer\":44,\"core/layers/tablelayer\":56,\"core/utils/utils\":67}],58:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar G3WObject = require('core/g3wobject');\nvar ComponentsFactory = require('gui/component/componentsfactory');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    addI18nPlugin = _require2.addI18nPlugin;\n\nvar TIMEOUT = 10000;\n\nvar Plugin = function Plugin() {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? null : _ref$name,\n      _ref$config = _ref.config,\n      config = _ref$config === undefined ? _plugins2.default.getPluginConfig(name) : _ref$config,\n      _ref$service = _ref.service,\n      service = _ref$service === undefined ? null : _ref$service,\n      _ref$dependencies = _ref.dependencies,\n      dependencies = _ref$dependencies === undefined ? [] : _ref$dependencies,\n      _ref$i18n = _ref.i18n,\n      i18n = _ref$i18n === undefined ? null : _ref$i18n,\n      _ref$fontClasses = _ref.fontClasses,\n      fontClasses = _ref$fontClasses === undefined ? [] : _ref$fontClasses,\n      _ref$api = _ref.api,\n      api = _ref$api === undefined ? {} : _ref$api;\n\n  base(this);\n\n  this.setName(name);\n  this.setConfig(config);\n  this.setLocale(i18n);\n  this.setService(service);\n  this.setDependencies(dependencies);\n  this.addFontClasses(fontClasses);\n  this.setApi(api);\n  this.setHookService(null);\n\n  this._ready = false;\n\n  // List of sidebar services that usually plugin need to interact with (hook = place/name of component)\n  this.hookservices = {\n    'search': _gui2.default.getService('search'),\n    'tools': _gui2.default.getService('tools')\n  };\n\n  // Automatically remove the loading plugin indicator after timeout\n  this._timeout = setTimeout(function () {\n    _plugins2.default.removeLoadingPlugin(_this.name, _this._ready);\n    _this.removeLayout();\n  }, TIMEOUT);\n};\n\ninherit(Plugin, G3WObject);\n\nvar proto = Plugin.prototype;\n\nproto.setName = function (name) {\n  this.name = name;\n};\n\nproto.getName = function () {\n  return this.name;\n};\n\nproto.setConfig = function (config) {\n  this.config = toRawType(config) === 'Object' ? config : null;\n};\n\nproto.getConfig = function () {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.name;\n\n  return this.config || _plugins2.default.getPluginConfig(name);\n};\n\nproto.setLocale = function (i18n) {\n  if (i18n && this.name) addI18nPlugin({ name: this.name, config: i18n });\n};\n\nproto.setService = function (service) {\n  this.service = service;\n  if (service) service.setPlugin(this);\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setDependencies = function (dependencies) {\n  this.dependencies = dependencies;\n};\n\nproto.setApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._api = api;\n  /**\n   * @FIXME useless assignment ?\n   */\n  api.getConfig = this._api.getConfig; // add alias for \"api.getConfig()\" method\n};\n\nproto.getApi = function () {\n  return this._api;\n};\n\nproto.setHookService = function (hook) {\n  this._hook = hook;\n};\n\nproto.getHookService = function () {\n  var hook = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"tools\";\n\n  return this.hookservices[hook];\n};\n\n/**\n * Override plugin's content default layout (eg. default panel width, height, ...)\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.setLayout = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _application2.default.cloneLayout('app');\n\n  _application2.default.setLayout(this.name, config);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout.__current\n */\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.name);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.removeLayout = function () {\n  _application2.default.removeLayout(this.name);\n};\n\n/**\n * @FIXME add description\n */\nproto.setReady = function (isReady) {\n  var _this2 = this;\n\n  this._ready = isReady;\n  if (this._ready) {\n    this.setLayout();\n  }\n  this.emit('set-ready', isReady, this.name);\n  /**\n   * @FIXME empty delay ?\n   */\n  setTimeout(function () {\n    clearTimeout(_this2._timeout);\n    _plugins2.default.removeLoadingPlugin(_this2.name, _this2._ready);\n  }, 0 /* 0 = allow any previously \"setTimeout\" to execute */);\n};\n\n/**\n * @FIXME add description\n */\nproto.isReady = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve) {\n    _this3._ready ? resolve(_this3._ready) : _this3.once('set-ready', function (isReady) {\n      _this3._ready = isReady;resolve(_this3._ready);\n    });\n  });\n};\n\n/**\n * Check if plugin is compatible with current projectId\n */\nproto.isCurrentProjectCompatible = function (projectId) {\n  return projectId === _projects2.default.getCurrentProject().getGid();\n};\n\n/**\n * Check and register plugin only when compatible with current projectId (eg: qdjango:1)\n */\nproto.registerPlugin = function (projectId) {\n  var iscompatible = this.isCurrentProjectCompatible(projectId);\n  if (iscompatible) {\n    _plugins2.default.registerPlugin(this);\n  } else {\n    _plugins2.default.removeLoadingPlugin(this.name, false);\n    clearTimeout(this._timeout);\n  }\n  return iscompatible;\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependencies \n */\nproto.getDependencyPlugins = function (pluginsName) {\n  var _this4 = this;\n\n  this.dependencies = pluginsName || this.dependencies;\n  return Promise.all(this.dependencies.map(function (pluginName) {\n    return _this4.getDependencyPlugin(pluginName);\n  }));\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Create to not replace above plugin method used by non changed old plugin\n */\nproto.getDependencyPluginsObject = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(pluginsName) {\n    var pluginsApiObject, promises;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pluginsApiObject = {};\n            _context.next = 3;\n            return this.getDependencyPlugins(pluginsName);\n\n          case 3:\n            promises = _context.sent;\n\n            this.dependencies.forEach(function (pluginName, index) {\n              return pluginsApiObject[pluginName] = promises[index];\n            });\n            return _context.abrupt('return', pluginsApiObject);\n\n          case 6:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependency\n */\nproto.getDependencyPlugin = function (pluginName) {\n  if (_plugins2.default.isTherePlugin(pluginName)) {\n    return new Promise(function (resolve) {\n      var plugin = _plugins2.default.getPlugin(pluginName);\n      /**\n       * @TODO refactor weird shortcircuiting logic\n       */\n      plugin && plugin.isReady().then(function () {\n        return resolve(plugin.getApi());\n      }) || _plugins2.default.onafter('registerPlugin', function (plugin) {\n        plugin.name === pluginName && plugin.isReady().then(function () {\n          resolve(plugin.getApi());\n        });\n      });\n    });\n  }\n  return Promise.reject({ error: 'no plugin' });\n};\n\n/**\n * Handle loading process of a specific hook service (eg. \"tools\" interface on the left sidebar)\n */\nproto.setHookLoading = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$hook = _ref3.hook,\n      hook = _ref3$hook === undefined ? \"tools\" : _ref3$hook,\n      _ref3$loading = _ref3.loading,\n      loading = _ref3$loading === undefined ? false : _ref3$loading;\n\n  this.getHookService(hook).setLoading(loading);\n};\n\n/**\n * @FIXME add description\n */\nproto.addToolGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$hook = _ref4.hook,\n      hook = _ref4$hook === undefined ? \"tools\" : _ref4$hook,\n      order = _ref4.position,\n      group = _ref4.title;\n\n  this.getHookService(hook).addToolGroup(order, group);\n};\n\n/**\n * @FIXME add description\n */\nproto.removeToolGroup = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      hook = _ref5.hook,\n      group = _ref5.group;\n\n  this.getHookService(hook).removeToolGroup(group.title);\n};\n\n/**\n * @FIXME add description\n */\nproto.addTools = function () {\n  var _this5 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$hook = _ref6.hook,\n      hook = _ref6$hook === undefined ? \"tools\" : _ref6$hook,\n      action = _ref6.action,\n      html = _ref6.html,\n      _ref6$offline = _ref6.offline,\n      offline = _ref6$offline === undefined ? true : _ref6$offline,\n      icon = _ref6.icon,\n      name = _ref6.name,\n      type = _ref6.type,\n      _ref6$options = _ref6.options,\n      options = _ref6$options === undefined ? {} : _ref6$options,\n      _ref6$loading = _ref6.loading,\n      loading = _ref6$loading === undefined ? false : _ref6$loading,\n      _ref6$disabled = _ref6.disabled,\n      disabled = _ref6$disabled === undefined ? false : _ref6$disabled,\n      _ref6$state = _ref6.state,\n      state = _ref6$state === undefined ? {\n    type: null,\n    message: null\n  } : _ref6$state;\n\n  var groupTools = arguments[1];\n\n  if (!action && !type) {\n    this.removeToolGroup({ hook: hook, group: groupTools });\n    return [];\n  } else {\n    this.setHookService(hook);\n    var tools = (this.config.configs || [this.config]).map(function (config) {\n      return {\n        icon: icon,\n        type: type,\n        name: config.name || name,\n        html: html,\n        loading: loading,\n        disabled: disabled,\n        options: options,\n        offline: offline,\n        action: action && action.bind(_this5, config),\n        state: state\n      };\n    });\n    this.getHookService(hook).addTools(tools, groupTools);\n    return tools;\n  }\n};\n\n/**\n * @FIXME add description\n */\nproto.setToolState = function () {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref7.id,\n      _ref7$state = _ref7.state,\n      state = _ref7$state === undefined ? { type: null, message: null } : _ref7$state;\n\n  this.hookservices[this._hook].setToolState({ id: id, state: state });\n};\n\n/**\n * @FIXME add description\n */\nproto.removeTools = function () {\n  this.hookservices[this._hook].removeTools();\n};\n\n/**\n * Helper method to create and add a custom component item on the left sidebar\n */\nproto.createSideBarComponent = function (vueComponentObject) {\n  var _ref8, _ref8$open, _ref8$collapsible, _ref8$mobile, _ref8$isolate, _ref8$closewhenshowvi, _ref8$iconConfig, _ref8$events, _ref8$sidebarOptions;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_ref8 = {}, id = _ref8.id, title = _ref8.title, _ref8$open = _ref8.open, open = _ref8$open === undefined ? false : _ref8$open, _ref8$collapsible = _ref8.collapsible, collapsible = _ref8$collapsible === undefined ? true : _ref8$collapsible, _ref8$mobile = _ref8.mobile, mobile = _ref8$mobile === undefined ? true : _ref8$mobile, _ref8$isolate = _ref8.isolate, isolate = _ref8$isolate === undefined ? false : _ref8$isolate, _ref8$closewhenshowvi = _ref8.closewhenshowviewportcontent, closewhenshowviewportcontent = _ref8$closewhenshowvi === undefined ? true : _ref8$closewhenshowvi, _ref8$iconConfig = _ref8.iconConfig, iconConfig = _ref8$iconConfig === undefined ? {\n    // color: 'yellow',                // color of icon\n    // icon:'pin',                     // see gui\\vue\\vueappplugin.js font list\n  } : _ref8$iconConfig, _ref8$events = _ref8.events, events = _ref8$events === undefined ? {\n    // open: {\n    //   when: 'before',\n    //   cb:() => { /* TODO: add sample usage */ }\n    // }\n  } : _ref8$events, _ref8$sidebarOptions = _ref8.sidebarOptions, sidebarOptions = _ref8$sidebarOptions === undefined ? {\n    position: 1 // can be a number or a string \n  } : _ref8$sidebarOptions, _ref8);\n\n\n  var componentsFactoryOpts = _extends({}, options, {\n    iconColor: options.iconConfig.color,\n    icon: _gui2.default.getFontClass(options.iconConfig.icon)\n  });\n\n  delete componentsFactoryOpts.iconConfig;\n\n  var PluginSiderbarComponent = ComponentsFactory.build({ vueComponentObject: vueComponentObject }, componentsFactoryOpts);\n  _gui2.default.addComponent(PluginSiderbarComponent, 'sidebar', options.sidebarOptions);\n  this.once('unload', function () {\n    return _gui2.default.removeComponent(id, 'sidebar', options.sidebarOptions);\n  });\n  return PluginSiderbarComponent;\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.unload = function () {\n  this.service && this.service.clearAllEvents();\n  this.emit('unload');\n  //console.log('UNLOAD can be overwrite by plugin');\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.load = function () {\n  //console.log('LOAD  need to be overwrite by plugin');\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.getProject = function () {\n  return _projects2.default.getCurrentProject();\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addDependency = function (dependency) {\n  this.dependencies.push(dependency);\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClass = function (_ref9) {\n  var name = _ref9.name,\n      className = _ref9.className;\n\n  Vue.prototype.g3wtemplate.addFontClass({ name: name, className: className });\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClasses = function () {\n  var _this6 = this;\n\n  var fonClasses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fonClasses.forEach(function (fontClass) {\n    return _this6.addFontClass(fontClass);\n  });\n};\n\nmodule.exports = Plugin;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/component/componentsfactory\":115,\"services/application\":346,\"services/gui\":356,\"store/plugins\":373,\"store/projects\":374}],59:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction PluginService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.plugin;\n  this._api = {\n    own: null,\n    dependencies: {}\n  };\n  this._pluginEvents = {};\n  this._appEvents = [];\n  this.currentLayout = _application2.default.getCurrentLayoutName();\n  this.vm = new Vue();\n  this.unwatch = this.vm.$watch(function () {\n    return _applicationState2.default.gui.layout.__current;\n  }, function (currentLayoutName) {\n    return _this.currentLayout = currentLayoutName !== _this.getPlugin().getName() ? currentLayoutName : _this.currentLayout;\n  });\n}\n\ninherit(PluginService, G3WObject);\n\nvar proto = PluginService.prototype;\n\n/**\n * Set a default init method. Overwrite by each plugin\n * @param config: plugin configuration object\n */\nproto.init = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.getPlugin().getName());\n};\n\nproto.resetCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.currentLayout);\n};\n\n// set owner plugin of the service\nproto.setPlugin = function (plugin) {\n  this.plugin = plugin;\n};\n\n// return the instance of the plugin owner of the service\nproto.getPlugin = function () {\n  return this.plugin;\n};\n\nproto.isIframe = function () {\n  return _application2.default.isIframe();\n};\n\n/**\n * Get Current Project\n */\nproto.getCurrentProject = function () {\n  return _application2.default.getCurrentProject();\n};\n\nproto.getGid = function () {\n  var gid = this.config.gid;\n\n  return gid && gid.split(':')[1];\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function (config) {\n  this.config = config;\n};\n\nproto.setApi = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref.dependency,\n      api = _ref.api;\n\n  if (!dependency) this._api.own = api;else this._api.dependencies[dependency] = api;\n};\n\nproto.getApi = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref2.dependency;\n\n  return dependency && this._api.dependencies[dependency] || this._api.own;\n};\n\nproto.initEvents = function () {\n  var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var i in events) {\n    var name = events[i];\n    this._pluginEvents[name] = {};\n  }\n};\n\nproto.registerWindowEvent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      evt = _ref3.evt,\n      cb = _ref3.cb;\n\n  _application2.default.registerWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.unregisterWindowEvent = function (_ref4) {\n  var evt = _ref4.evt,\n      cb = _ref4.cb;\n\n  _application2.default.unregisterWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.subscribeEvent = function (_ref5) {\n  var name = _ref5.name,\n      _ref5$once = _ref5.once,\n      once = _ref5$once === undefined ? false : _ref5$once,\n      owner = _ref5.owner,\n      listener = _ref5.listener;\n\n  this._pluginEvents[name] = this._pluginEvents[name] ? this._pluginEvents[name] : {};\n  this._pluginEvents[name][owner] = listener;\n  once ? this.once(name, listener) : this.on(name, listener);\n};\n\nproto.triggerEvent = function (_ref6) {\n  var name = _ref6.name,\n      _ref6$params = _ref6.params,\n      params = _ref6$params === undefined ? {} : _ref6$params;\n\n  this.emit(name, params);\n};\n\nproto.unsubscribeEvent = function (_ref7) {\n  var name = _ref7.name,\n      owner = _ref7.owner;\n\n  var listener = this._pluginEvents[name][owner];\n  this.removeEvent(name, listener);\n  delete this._pluginEvents[name][owner];\n};\n\nproto.unsubscribeAllEvents = function () {\n  for (var name in this._pluginEvents) {\n    this.removeEvent(name);\n    delete this._pluginEvents[name];\n  }\n};\n\nproto.clearAllEvents = function () {\n  this.unsubscribeAllEvents();\n  this.unwatch();\n  this.vm = null;\n  this._pluginEvents = null;\n};\n\n// to owerwrite if we need some condition to load or not the plugin\nproto.loadPlugin = function () {\n  return true;\n};\n\n//Called when plugin is removed to clear events and memory\nproto.clear = function () {\n  // to overwrite\n};\n\nmodule.exports = PluginService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":346,\"store/application-state\":368}],60:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    convertObjectToUrlParams = _require.convertObjectToUrlParams;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n http://localhost/fcgi-bin/qgis_mapserver/qgis_mapserv.fcgi?MAP=/home/marco/geodaten/projekte/composertest.qgs&SERVICE=WMS&VERSION=1.3.0\n &REQUEST=GetPrint&TEMPLATE=Composer 1&\n map0:extent=693457.466131,227122.338236,700476.845177,230609.807051&\n BBOX=693457.466131,227122.338236,700476.845177,230609.807051&\n CRS=EPSG:21781&WIDTH=1467&HEIGHT=729&LAYERS=layer0,layer1&\n STYLES=,&FORMAT=pdf&DPI=300&TRANSPARENT=true\n\n In detail, the following parameters can be used to set properties for composer maps:\n\n <mapname>:EXTENT=<xmin,ymin,xmax, ymax> //mandatory\n <mapname>:ROTATION=<double> //optional, defaults to 0\n <mapname>:SCALE=<double> //optional. Forces scale denominator as server and client may have different scale calculations\n <mapname>:LAYERS=<comma separated list with layer names> //optional. Defaults to all layer in the WMS request\n <mapname>:STYLES=<comma separated list with style names> //optional\n <mapname>:GRID_INTERVAL_X=<double> //set the grid interval in x-direction for composer grids\n <mapname>:GRID_INTERVAL_Y=<double> //set the grid interval in x-direction for composer grids\n */\nvar OUTPUT_FORMATS = { pdf: 'application/pdf', jpg: 'image/jpeg' };\nvar COMMON_REQUEST_PARAMETERS = { SERVICE: 'WMS', VERSION: '1.3.0' };\n\nvar getAtlasParamsFromOptions = function getAtlasParamsFromOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var field = options.field,\n      values = options.values,\n      template = options.template,\n      _options$download = options.download,\n      download = _options$download === undefined ? false : _options$download;\n\n  var multiValues = values.length > 1;\n  /**\n   * @TODO refactor weird ternary logic\n   */\n  var EXPRESSION = '' + field + (multiValues ? ' IN (' : '=') + values.map(function (value) {\n    return '\\'' + value + '\\'';\n  }).join() + (multiValues ? ')' : '');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrintAtlas',\n    EXP_FILTER: EXPRESSION,\n    TEMPLATE: template,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (download) params.DOWNLOAD = 1;\n  return params;\n};\n\nvar getParamsFromOptions = function getParamsFromOptions() {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var rotation = options.rotation,\n      dpi = options.dpi,\n      format = options.format,\n      crs = options.crs,\n      template = options.template,\n      _options$maps = options.maps,\n      maps = _options$maps === undefined ? [] : _options$maps,\n      _options$labels = options.labels,\n      labels = _options$labels === undefined ? [] : _options$labels,\n      is_maps_preset_theme = options.is_maps_preset_theme;\n\n  var LAYERS = layers.map(function (layer) {\n    return layer.getPrintLayerName();\n  }).join();\n  var STYLES = layers.map(function (layer) {\n    return layer.getStyle();\n  }).join(',');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrint',\n    TEMPLATE: template,\n    DPI: dpi,\n    STYLES: STYLES,\n    FORMAT: format,\n    CRS: crs,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n\n  if (!is_maps_preset_theme) params.LAYERS = LAYERS;\n  maps.forEach(function (_ref) {\n    var name = _ref.name,\n        scale = _ref.scale,\n        extent = _ref.extent,\n        preset_theme = _ref.preset_theme;\n\n    params[name + ':SCALE'] = scale;\n    params[name + ':EXTENT'] = extent;\n    params[name + ':ROTATION'] = rotation;\n    if (is_maps_preset_theme && preset_theme === undefined) params[name + ':LAYERS'] = LAYERS;\n  });\n\n  labels.forEach(function (label) {\n    return params[label.id] = label.text;\n  });\n  return params;\n};\n\nvar GET = function GET(_ref2) {\n  var url = _ref2.url,\n      params = _ref2.params,\n      mime_type = _ref2.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    url = url + '?' + convertObjectToUrlParams(params);\n    resolve({\n      url: url,\n      layers: true,\n      mime_type: mime_type\n    });\n  });\n};\n\nvar POST = function POST(_ref3) {\n  var url = _ref3.url,\n      params = _ref3.params,\n      mime_type = _ref3.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', url, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          window.URL = window.URL || window.webkitURL;\n          var _url = window.URL.createObjectURL(xhr.response);\n          resolve({\n            url: _url,\n            layers: true,\n            mime_type: mime_type\n          });\n        } catch (e) {\n          reject(e);\n        }\n      } else if (xhr.status === 500) {\n        reject();\n      }\n    };\n    xhr.onerror = function () {\n      reject();\n    };\n    xhr.send(convertObjectToUrlParams(params));\n  });\n};\n\n/**\n * core/print/providers/qgis::PrinterQGISProvider@v3.4\n */\nfunction PrintService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._currentLayerStore = _projects2.default.getCurrentProject().getLayersStore();\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this._currentLayerStore = project.getLayersStore();\n  });\n  base(this);\n}\n\ninherit(PrintService, G3WObject);\n\nvar proto = PrintService.prototype;\n\nproto.POST = POST;\n\nproto.GET = GET;\n\nproto._getAtlasParamsFromOptions = getAtlasParamsFromOptions;\n\nproto._getParamsFromOptions = getParamsFromOptions;\n\nproto.getUrl = function () {\n  return this._currentLayerStore.getWmsUrl();\n};\n\nproto.printAtlas = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var url = this.getUrl();\n  var params = this._getAtlasParamsFromOptions(options);\n  return this[method]({\n    url: url,\n    params: params,\n    mime_type: OUTPUT_FORMATS.pdf\n  });\n};\n\nproto.print = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  var url = this.getUrl();\n  // reverse of layer because the order is important\n  var layers = this._currentLayerStore.getLayers({\n    PRINTABLE: {\n      scale: options.scale\n    },\n    SERVERTYPE: 'QGIS'\n  }).reverse();\n  if (layers.length) {\n    options.crs = this._currentLayerStore.getProjection().getCode();\n    var params = this._getParamsFromOptions(layers, options);\n    var mime_type = OUTPUT_FORMATS[params.FORMAT];\n    return this[method]({\n      url: url,\n      params: params,\n      mime_type: mime_type\n    });\n  } else return Promise.resolve({ layers: false });\n};\n\nmodule.exports = PrintService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"store/application-state\":368,\"store/projects\":374}],61:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    crsToCrsObject = _require2.crsToCrsObject;\n\nvar G3WObject = require('core/g3wobject');\nvar LayerFactory = require('core/layers/layerfactory');\nvar LayersStore = require('core/layers/layersstore');\nvar Projections = require('g3w-ol/projection/projections');\n\nfunction Project() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /* structure 'project' object\n  {\n    id,\n    type,\n    gid,\n    name,\n    crs,\n    extent,\n    initextent,\n    layers,\n    layerstree,\n    overviewprojectgid,\n    baselayers,\n    initbaselayer,\n    filtertoken,\n    context_base_legend\n    ows_method <POST or GET>\n    wms_use_layer_ids: <TRUE OR FALSE>\n    search_endpoint : 'ows', 'api'\n    legend_position: 'tab', 'toc'\n    query_point_tolerance\n    wps: [] // array of wps service\n    bookmarks:[] Array of bookmarks\n  }\n  */\n  // for future implementation catalog tab actived\n  config.catalog_tab = config.toc_tab_default || config._catalog_tab || 'layers'; // values : layers, baselayers, legend\n  config.ows_method = config.ows_method || 'GET';\n  config.toc_layers_init_status = config.toc_layers_init_status || _constant.TOC_LAYERS_INIT_STATUS;\n  config.toc_themes_init_status = config.toc_themes_init_status || _constant.TOC_THEMES_INIT_STATUS;\n  config.query_point_tolerance = config.query_point_tolerance || _constant.QUERY_POINT_TOLERANCE;\n  this.state = config;\n  /**\n   * View\n   *\n   */\n  //information about api project\n  this.urls = {\n    map_themes: '/' + this.getType() + '/api/prjtheme/' + this.getId() + '/',\n    expression_eval: '/api/expression_eval/' + this.getId() + '/',\n    vector_data: this.getVectorUrl() + 'data/' + this.getType() + '/' + this.getId() + '/'\n  };\n  /*\n   *\n   * End View\n   *\n   */\n  // process layers\n  this._processLayers();\n  // set the project projection to object crs\n  this.state.crs = crsToCrsObject(this.state.crs);\n  this._projection = Projections.get(this.state.crs);\n  // build a layersstore of the project\n  this._layersStore = this._buildLayersStore();\n  ///\n  this.setters = {\n    setBaseLayer: function setBaseLayer(id) {\n      var _this = this;\n\n      this.state.baselayers.forEach(function (baseLayer) {\n        _this._layersStore.getLayerById(baseLayer.id).setVisible(baseLayer.id === id);\n        baseLayer.visible = baseLayer.id === id;\n      });\n    }\n  };\n  this.setSearchEndPoint();\n  base(this);\n}\n\ninherit(Project, G3WObject);\n\nvar proto = Project.prototype;\n\n//get search end point value (ows or api)\nproto.getSearchEndPoint = function () {\n  return this.state.search_endpoint;\n};\n\nproto.setSearchEndPoint = function () {\n  var _state = this.state,\n      search_endpoint = _state.search_endpoint,\n      _state$search = _state.search,\n      search = _state$search === undefined ? [] : _state$search;\n\n  search.forEach(function (search) {\n    return search.search_endpoint = search_endpoint;\n  });\n};\n\nproto.getAliasUrl = function () {\n  return this.state.aliasUrl;\n};\n\nproto.getActiveCatalogTab = function () {\n  return this.state.catalog_tab;\n};\n\nproto.setActiveCatalogTab = function () {\n  var tab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'layers';\n\n  this.state.catalog_tab = tab;\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.state.wms_use_layer_ids;\n};\n\nproto.getContextBaseLegend = function () {\n  return this.state.context_base_legend;\n};\n\nproto.getQueryPointTolerance = function () {\n  return this.state.query_point_tolerance;\n};\n\n// check if multi\nproto.getQueryFeatureCount = function () {\n  return this.state.feature_count || 5;\n};\n\nproto.isQueryMultiLayers = function (mapcontrol) {\n  return this.state.querymultilayers && this.state.querymultilayers.indexOf(mapcontrol) !== -1;\n};\n\nproto.getRelations = function () {\n  return this.state.relations;\n};\n\nproto.getRelationById = function (relationId) {\n  return this.state.relations.find(function (relation) {\n    return relation.id === relationId;\n  });\n};\n\nproto.getRelationsByLayerId = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref.layerId,\n      type = _ref.type;\n\n  return this.state.relations.filter(function (relation) {\n    return relation.referencedLayer === layerId && (type ? relation.type === type : true);\n  });\n};\n\nproto.getOwsMethod = function () {\n  return this.state.ows_method;\n};\n\n/**\n * process layerstree and baselayers of the project\n */\nproto._processLayers = function () {\n  var _this2 = this;\n\n  // useful info for catalog\n  var traverse = function traverse(nodes) {\n    var _loop = function _loop(i) {\n      var node = nodes[i];\n      var layer_name_originale = void 0;\n      //check if layer (node) of folder\n      if (undefined !== node.id) {\n        _this2.state.layers.forEach(function (layer) {\n          layer_name_originale = layer.name;\n          if (node.id === layer.id) {\n            node.name = layer.name;\n            layer.wmsUrl = _this2.getWmsUrl();\n            layer.project = _this2;\n            node[i] = Object.assign(layer, node);\n            return false;\n          }\n        });\n      }\n      if (Array.isArray(node.nodes)) {\n        //add title to tree\n        node.title = node.name;\n        traverse(node.nodes);\n      }\n    };\n\n    for (var i = 0; i < nodes.length; i++) {\n      _loop(i);\n    }\n  };\n\n  traverse(this.state.layerstree);\n  var baseLayerId = _application2.default.getBaseLayerId();\n\n  // Remove bing base layer when no vendor API Key is provided\n  this.state.baselayers = this.state.baselayers.filter(function (baselayer) {\n    return baselayer.servertype === 'Bing' ? _applicationState2.default.keys.vendorkeys.bing : true;\n  });\n\n  for (var i = 0; i < this.state.baselayers.length; i++) {\n    var baseLayerConfig = this.state.baselayers[i];\n    var baseLayerVisibleId = null !== baseLayerId ? baseLayerId : this.state.initbaselayer;\n    baseLayerConfig.visible = baseLayerVisibleId && baseLayerConfig.id === baseLayerVisibleId || !!baseLayerConfig.fixed;\n    baseLayerConfig.baselayer = true;\n  }\n};\n\n// build layersstore and create layersstree\nproto._buildLayersStore = function () {\n  var _this3 = this;\n\n  // create a layersStore object\n  var layersStore = new LayersStore();\n  //check if we have owerview project\n  var overviewprojectgid = this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n  layersStore.setOptions({\n    id: this.state.gid,\n    projection: this._projection,\n    extent: this.state.extent,\n    initextent: this.state.initextent,\n    wmsUrl: this.state.WMSUrl,\n    catalog: this.state.gid !== overviewprojectgid\n  });\n\n  // instance each layer ad area added to layersstore\n  var layers = this.getLayers();\n  layers.forEach(function (layerConfig) {\n    //check and set crs in objectformat\n    layerConfig.crs = crsToCrsObject(layerConfig.crs);\n    // add projection\n    layerConfig.projection = layerConfig.crs ? Projections.get(layerConfig.crs) : _this3._projection;\n    //add ows_method\n    layerConfig.ows_method = _this3.getOwsMethod();\n    layerConfig.wms_use_layer_ids = _this3.state.wms_use_layer_ids;\n    var layer = LayerFactory.build(layerConfig, {\n      project: _this3\n    });\n    layer && layersStore.addLayer(layer);\n  });\n  // create layerstree from layerstore\n  layersStore.createLayersTree(this.state.name, {\n    layerstree: this.state.layerstree,\n    expanded: this.state.toc_layers_init_status === 'not_collapsed' // config to show layerstrees toc expanded or not\n  });\n  return layersStore;\n};\n\nproto.getLayerById = function (layerId) {\n  return this._layersStore.getLayerById(layerId);\n};\n\nproto.getLayers = function () {\n  return [].concat(_toConsumableArray(this.state.layers), _toConsumableArray(this.state.baselayers));\n};\n\nproto.getBaseLayers = function () {\n  return this.state.baselayers;\n};\n\n/**\n * Get configuration layers array from server config\n * @param filter property layer config to filter\n * @returns {*}\n */\nproto.getConfigLayers = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      key = _ref2.key;\n\n  return key ? this.state.layers.filter(function (layer) {\n    return layer[key] !== undefined;\n  }) : this.state.layers;\n};\n\n/**\n * Legend Position\n */\n\nproto.setLegendPosition = function () {\n  var legend_position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'tab';\n\n  this.state.legend_position = legend_position;\n};\n\nproto.getLegendPosition = function () {\n  return this.state.legend_position;\n};\n\n/**\n * End Legend Position\n */\n\nproto.getThumbnail = function () {\n  return this.state.thumbnail;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata || {};\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getPrint = function () {\n  return this.state.print || [];\n};\n\nproto.getSearches = function () {\n  return this.state.search || [];\n};\n\nproto.getVectorUrl = function () {\n  return this.state.vectorurl;\n};\n\nproto.getRasterUrl = function () {\n  return this.state.rasterurl;\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getGid = function () {\n  return this.state.gid;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getOverviewProjectGid = function () {\n  return this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n};\n\nproto.getCrs = function () {\n  return this._projection.getCode();\n};\n\n/*\n* type: major, minor, patch\n* */\nproto.getQgisVersion = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref3.type;\n\n  var index = ['major', 'minor', 'patch'].indexOf(type);\n  return index === -1 ? this.state.qgis_version : +this.state.qgis_version.split('.')[index];\n};\n\nproto.getProjection = function () {\n  return this._projection;\n};\n\nproto.getWmsUrl = function () {\n  return this.state.WMSUrl;\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getLayersStore = function () {\n  return this._layersStore;\n};\n\n/// Map Themes\n\n/**\n * Method to set properties ( checked and visible) from view to layerstree\n * @param map_theme map theme name\n * @param layerstree // current layerstree of TOC\n */\nproto.setLayersTreePropertiesFromMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref4) {\n    var _this4 = this;\n\n    var map_theme = _ref4.map_theme,\n        _ref4$layerstree = _ref4.layerstree,\n        layerstree = _ref4$layerstree === undefined ? this.state.layerstree : _ref4$layerstree;\n    var mapThemeConfig, mapThemeLayersTree, changes, promises, groups, traverse;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.getMapThemeFromThemeName(map_theme);\n\n          case 2:\n            mapThemeConfig = _context.sent;\n\n            // extract layerstree\n            mapThemeLayersTree = mapThemeConfig.layerstree;\n            // create a chages need to apply map_theme changes to map and TOC\n\n            changes = {\n              layers: {} // key is the layer id and object has style, visibility change (Boolean)\n            };\n            promises = [];\n            /**\n             * Function to traverse current layerstree of toc anche get changes with the new one related to map_theme choose\n             * @param mapThemeLayersTree // new mapLayerTree\n             * @param layerstree // current layerstree\n             */\n\n            groups = [];\n\n            traverse = function traverse(mapThemeLayersTree, layerstree, checked) {\n              mapThemeLayersTree.forEach(function (node, index) {\n                if (node.nodes) {\n                  // case of group\n                  groups.push({\n                    node: node,\n                    group: layerstree[index]\n                  });\n                  traverse(node.nodes, layerstree[index].nodes, checked && node.checked);\n                } else {\n                  // case of layer\n                  node.style = mapThemeConfig.styles[node.id]; // set style from map_theme\n                  if (layerstree[index].checked !== node.visible) {\n                    changes.layers[node.id] = {\n                      visibility: true,\n                      style: false\n                    };\n                  }\n                  layerstree[index].checked = node.visible;\n                  // if has a style settled\n                  if (node.style) {\n                    var promise = new Promise(function (resolve, reject) {\n                      var setCurrentStyleAndResolvePromise = function setCurrentStyleAndResolvePromise(node) {\n                        if (changes.layers[node.id] === undefined) changes.layers[node.id] = {\n                          visibility: false,\n                          style: false\n                        };\n                        changes.layers[node.id].style = _this4.getLayerById(node.id).setCurrentStyle(node.style);\n                        resolve();\n                      };\n                      if (_this4.getLayersStore()) setCurrentStyleAndResolvePromise(node);else // case of starting project creation\n                        (function (node) {\n                          return setTimeout(function () {\n                            setCurrentStyleAndResolvePromise(node);\n                          })(node);\n                        });\n                    });\n                    promises.push(promise);\n                  }\n                }\n              });\n            };\n\n            traverse(mapThemeLayersTree, layerstree);\n            _context.next = 11;\n            return Promise.allSettled(promises);\n\n          case 11:\n            // all groups checked after layer checked so is set checked but not visible\n            groups.forEach(function (_ref6) {\n              var group = _ref6.group,\n                  _ref6$node = _ref6.node,\n                  checked = _ref6$node.checked,\n                  expanded = _ref6$node.expanded;\n\n              group.checked = checked;\n              group.expanded = expanded;\n            });\n            return _context.abrupt('return', changes);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * get map Theme_configuration\n */\nproto.getMapThemeFromThemeName = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(map_theme) {\n    var mapThemeConfig, layerstree, _layerstree;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // get map theme configuration from map_themes project config\n            mapThemeConfig = this.state.map_themes.find(function (map_theme_config) {\n              return map_theme_config.theme === map_theme;\n            });\n            // check if mapThemeConfig exist\n\n            if (!mapThemeConfig) {\n              _context2.next = 8;\n              break;\n            }\n\n            // check if has layerstree (property get from server with a specific api\n            layerstree = mapThemeConfig.layerstree;\n\n            if (!(layerstree === undefined)) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 6;\n            return this.getMapThemeConfiguration(map_theme);\n\n          case 6:\n            _layerstree = _context2.sent;\n\n            mapThemeConfig.layerstree = _layerstree;\n\n          case 8:\n            return _context2.abrupt('return', mapThemeConfig);\n\n          case 9:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x9) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * get map_style from server\n * @param map_theme\n * @returns {Promise<*>}\n */\nproto.getMapThemeConfiguration = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(map_theme) {\n    var config, url, response, result, data;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            config = void 0;\n            url = '' + this.urls.map_themes + map_theme + '/';\n            _context3.prev = 2;\n            _context3.next = 5;\n            return XHR.get({\n              url: url\n            });\n\n          case 5:\n            response = _context3.sent;\n            result = response.result, data = response.data;\n\n            if (result) config = data;\n            _context3.next = 12;\n            break;\n\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3['catch'](2);\n\n          case 12:\n            return _context3.abrupt('return', config);\n\n          case 13:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 10]]);\n  }));\n\n  return function (_x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.getUrl = function (type) {\n  return this.urls[type];\n};\n\n/**\n * @returns {Array} spatial bookmarks saved on current QGIS project\n * @since v3.8\n */\nproto.getSpatialBookmarks = function () {\n  return this.state.bookmarks || [];\n};\n\nmodule.exports = Project;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":109,\"services/application\":346,\"store/application-state\":368}],62:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Relation() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var uniqueSuffix = Date.now();\n  var id = config.id || 'id_' + uniqueSuffix;\n  var name = config.name || 'name_' + uniqueSuffix;\n  var origname = config.origname || 'origname_' + uniqueSuffix;\n  this.state = {\n    id: id,\n    name: name,\n    origname: origname,\n    father: config.referencedLayer,\n    child: config.referencingLayer,\n    fatherField: config.fieldRef.referencedField,\n    childField: config.fieldRef.referencingField,\n    type: config.type,\n    loading: false\n  };\n  base(this);\n}\n\ninherit(Relation, G3WObject);\n\nvar proto = Relation.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.setId = function (id) {\n  this.state.id = id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.setName = function (name) {\n  this.state.name = name;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  return this.state.title = title;\n};\n\nproto.getChild = function () {\n  return this.state.child;\n};\n\nproto.getFather = function () {\n  return this.state.father;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getFields = function () {\n  return {\n    father: this.state.fatherField,\n    child: this.state.childField\n  };\n};\n\nproto.getFatherField = function () {\n  return this.state.fatherField;\n};\n\nproto.getChildField = function () {\n  return this.state.childField;\n};\n\n/**\n * For editing purpose\n */\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.isLoading = function () {\n  return this.state.loading;\n};\n\n/**\n * End editing loading purpose\n */\n\nmodule.exports = Relation;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],63:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Relation = require('core/relations/relation');\n\n// class Relations\nfunction Relations() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = options.relations;\n  //store relations\n\n  this._relations = {};\n  this._length = relations ? relations.length : 0;\n  // to build relations between layers\n  this._relationsInfo = {\n    children: {}, // array child (unique ids)\n    fathers: {}, // array father (unique ids)\n    father_child: {} // info parent child\n  };\n  var relation = void 0;\n  relations.forEach(function (relationConfig) {\n    relation = new Relation(relationConfig);\n    _this._relations[relation.getId()] = relation;\n  });\n  this._createRelationsInfo();\n  base(this);\n}\n\ninherit(Relations, G3WObject);\n\nvar proto = Relations.prototype;\n\nproto._createRelationsInfo = function () {\n  var _this2 = this;\n\n  var father = void 0;\n  var child = void 0;\n  Object.entries(this._relations).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        relationKey = _ref2[0],\n        relation = _ref2[1];\n\n    father = relation.getFather();\n    child = relation.getChild();\n    _this2._relationsInfo.father_child[father + child] = relationKey;\n    if (!_this2._relationsInfo.fathers[father]) _this2._relationsInfo.fathers[father] = [];\n    if (!_this2._relationsInfo.children[child]) _this2._relationsInfo.children[child] = [];\n    _this2._relationsInfo.fathers[father].push(child);\n    _this2._relationsInfo.children[child].push(father);\n  });\n};\n\nproto._clearRelationsInfo = function () {\n  this._relationsInfo = {\n    children: {},\n    fathers: {},\n    father_children: {}\n  };\n};\n\nproto._reloadRelationsInfo = function () {\n  this._clearRelationsInfo();\n  this._createRelationsInfo();\n};\n\n// number of relations\nproto.getLength = function () {\n  return this._length;\n};\n\nproto.getRelations = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? null : _ref3$type;\n\n  if (!type) return this._relations;else {\n    if (['ONE', 'MANY'].indexOf(type) !== -1) {\n      var relations = {};\n      for (var name in this._relations) {\n        var relation = this._relations[name];\n        if (relation.getType() === type) relations[name] = relation;\n      }\n      return relations;\n    } else return {};\n  }\n};\n\n// array of relation\nproto.getArray = function () {\n  var relations = [];\n  Object.entries(this._relations).forEach(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        relName = _ref5[0],\n        relation = _ref5[1];\n\n    relations.push(relation);\n  });\n  return relations;\n};\n\nproto.setRelations = function (relations) {\n  this._relations = Array.isArray(relations) ? relations : [];\n};\n\nproto.getRelationById = function (id) {\n  return this._relations[id];\n};\n\nproto.getRelationByFatherChildren = function (father, child) {\n  var relationId = this._relationsInfo.father_child[father + child];\n  return this.getRelationById(relationId);\n};\n\nproto.addRelation = function (relation) {\n  if (relation instanceof Relation) {\n    this._relations[relation.getId()] = relation;\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.removeRelation = function (relation) {\n  var relationId = void 0;\n  if (relation instanceof Relation) {\n    relationId = relation.getId();\n    delete this._relations[relationId];\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.hasChildren = function (childId) {\n  var children = this.getChildren(childId);\n  return children ? !!children.length : false;\n};\n\nproto.hasFathers = function (fatherId) {\n  var fathers = this.getFathers(fatherId);\n  return fathers ? !!fathers.length : false;\n};\n\n// get children based on father id\nproto.getChildren = function (fatherId) {\n  if (!this.isFather(fatherId)) return null;\n  return this._relationsInfo.fathers[fatherId];\n};\n\n// get fathers based on childId\nproto.getFathers = function (childId) {\n  if (!this.isChild(childId)) return null;\n  return this._relationsInfo.children[childId];\n};\n\nproto.isChild = function (id) {\n  return !!this._relationsInfo.children[id];\n};\n\nproto.isFather = function (id) {\n  return !!this._relationsInfo.fathers[id];\n};\n\nmodule.exports = Relations;\n\n},{\"core/g3wobject\":12,\"core/relations/relation\":62,\"core/utils/utils\":67}],64:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    uniqueId = _require.uniqueId;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar Filter = require('core/layers/filter/filter');\n\nvar _require2 = require('core/utils/parsers'),\n    responseParser = _require2.response;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\nvar QUERY_POINT_TOLERANCE = _constant2.default.QUERY_POINT_TOLERANCE,\n    G3W_FID = _constant2.default.G3W_FID,\n    GeometryTypes = _constant2.default.GEOMETRY_TYPES;\n\n\nvar Geometry = {\n\n  /**\n   * core/geometry/geometry::GeometryTypes@v3.4\n   */\n  GeometryTypes: GeometryTypes,\n\n  /**\n   * Remove Z values from geometry coordinates\n   */\n  removeZValueToOLFeatureGeometry: function removeZValueToOLFeatureGeometry() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature;\n\n    var geometry = feature.getGeometry();\n    if (geometry) {\n      var geometryType = geometry.getType();\n      var originalFeatureCoordinates = geometry.getCoordinates();\n      switch (geometryType) {\n        // POINT: [x, y]\n        case GeometryTypes.POINT:\n          if (originalFeatureCoordinates.length === 3) {\n            originalFeatureCoordinates.splice(2);\n            feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          }\n          break;\n        // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.MULTIPOINT:\n        // LINE: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINE:\n          originalFeatureCoordinates.forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTILINE: [\n        //   [ [x1, y1], [x2, y2] ],\n        //   [ [x3, y3], [x4, y4] ]\n        // ]\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINE:\n          originalFeatureCoordinates.forEach(function (singleLine) {\n            singleLine.forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // POLYGON: [\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n        // ]\n        case GeometryTypes.POLYGON:\n          originalFeatureCoordinates[0].forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTIPOLYGON:[\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n        //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n        // ]\n        case GeometryTypes.MULTIPOLYGON:\n          originalFeatureCoordinates.forEach(function (singlePolygon) {\n            singlePolygon[0].forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n      }\n    }\n\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::addZValueToOLFeatureGeometry@v3.4\n   */\n  addZValueToOLFeatureGeometry: function addZValueToOLFeatureGeometry() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref2.feature,\n        geometryType = _ref2.geometryType;\n\n    var geometry = feature.getGeometry();\n    geometryType = geometryType || geometry.getType();\n    var originalFeatureCoordinates = geometry.getCoordinates();\n    switch (geometryType) {\n      // POINT: [x, y]\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        originalFeatureCoordinates.push(0);\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n      // LINE: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        originalFeatureCoordinates.forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTILINE: [\n      //   [ [x1, y1], [x2, y2] ],\n      //   [ [x3, y3], [x4, y4] ]\n      // ]\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        originalFeatureCoordinates.forEach(function (singleLine) {\n          singleLine.forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // POLYGON: [\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n      // ]\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        originalFeatureCoordinates[0].forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOLYGON:[\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n      //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n      // ]\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGOZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        originalFeatureCoordinates.forEach(function (singlePolygon) {\n          singlePolygon[0].forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n    }\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::getOLGeometry@v3.4\n   */\n  getOLGeometry: function getOLGeometry(geometryType) {\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    return geometryType;\n  },\n\n\n  /**\n   * core/geometry/geometry::isMultiGeometry@v3.4\n   */\n  isMultiGeometry: function isMultiGeometry(geometryType) {\n    return [GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINT25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPointGeometryTypes@v3.4\n   */\n  getAllPointGeometryTypes: function getAllPointGeometryTypes() {\n    return [GeometryTypes.POINT, GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINT25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPointGeometryType@v3.4\n   */\n  isPointGeometryType: function isPointGeometryType(geometryType) {\n    return Geometry.getAllPointGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllLineGeometryTypes@v3.4\n   */\n  getAllLineGeometryTypes: function getAllLineGeometryTypes() {\n    return [GeometryTypes.LINESTRING, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINE, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isLineGeometryType@v3.4\n   */\n  isLineGeometryType: function isLineGeometryType(geometryType) {\n    return Geometry.getAllLineGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPolygonGeometryTypes@v3.4\n   */\n  getAllPolygonGeometryTypes: function getAllPolygonGeometryTypes() {\n    return [GeometryTypes.POLYGON, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPolygonGeometryType@v3.4\n   */\n  isPolygonGeometryType: function isPolygonGeometryType(geometryType) {\n    return Geometry.getAllPolygonGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::is3DGeometry@v3.4\n   */\n  is3DGeometry: function is3DGeometry(geometryType) {\n    return [GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].find(function (type3D) {\n      return type3D === geometryType;\n    });\n  }\n};\n\nvar geoutils = {\n\n  geometryFields: geometryFields,\n\n  coordinatesToGeometry: function coordinatesToGeometry(geometryType, coordinates) {\n    var geometryClass = void 0;\n    switch (geometryType) {\n      case GeometryTypes.POLYGON:\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryClass = ol.geom.Polygon;\n        break;\n      case GeometryTypes.MULTIPOLYGON:\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryClass = ol.geom.MultiPolygon;\n        break;\n      case GeometryTypes.LINESTRING:\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryClass = ol.geom.LineString;\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n      case GeometryTypes.MULTILINESTRING:\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n        geometryClass = ol.geom.MultiLineString;\n        break;\n      case GeometryTypes.POINT:\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryClass = ol.geom.Point;\n        break;\n      case GeometryTypes.MULTIPOINT:\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryClass = ol.geom.MultiPoint;\n        break;\n      default:\n        geometryClass = ol.geom.Point;\n    }\n    var geometry = new geometryClass(coordinates);\n    return geometry;\n  },\n  getDefaultLayerStyle: function getDefaultLayerStyle(geometryType) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var color = options.color;\n\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    var defaultStyle = {\n      'Point': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'LineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'Polygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPoint': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'MultiLineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPolygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      })\n    };\n    return defaultStyle[geometryType];\n  },\n  createLayerStyle: function createLayerStyle(styleObj) {\n    var style = void 0;\n    var styles = {};\n    if (styleObj) {\n      Object.entries(styleObj).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            type = _ref4[0],\n            config = _ref4[1];\n\n        switch (type) {\n          case 'point':\n            if (config.icon) {\n              styles.image = new ol.style.Icon({\n                src: config.icon.url,\n                imageSize: config.icon.width\n              });\n            }\n            break;\n          case 'line':\n            styles.stroke = new ol.style.Stroke({\n              color: config.color,\n              width: config.width\n            });\n            break;\n          case 'polygon':\n            styles.fill = new ol.style.Fill({\n              color: config.color\n            });\n            break;\n        }\n      });\n      style = new ol.style.Style(styles);\n    }\n    return style;\n  },\n  createFeatureFromCoordinates: function createFeatureFromCoordinates(coordinates) {\n    var feature = void 0;\n    if (Array.isArray(coordinates) && coordinates.length === 2) {\n      var geometry = new ol.geom.Point(coordinates);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromBBOX: function createFeatureFromBBOX(bbox) {\n    var feature = void 0;\n    if (Array.isArray(bbox) && bbox.length === 4) {\n      var geometry = ol.geom.Polygon.fromExtent(bbox);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromGeometry: function createFeatureFromGeometry() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref5.id,\n        geometry = _ref5.geometry;\n\n    if (geometry) {\n      var feature = new ol.Feature(geometry);\n      feature.setId(id);\n      return feature;\n    }\n  },\n\n\n  /**\n   * in case of feature object\n   * {\n   *   id: X,\n   *   attributes: {key:value}\n   *   geometry: geometry\n   * }\n   * @param id\n   * @param feature\n   */\n  createFeatureFromFeatureObject: function createFeatureFromFeatureObject(_ref6) {\n    var id = _ref6.id,\n        _ref6$feature = _ref6.feature,\n        feature = _ref6$feature === undefined ? {} : _ref6$feature;\n    var _feature2 = feature,\n        geometry = _feature2.geometry,\n        attributes = _feature2.attributes;\n\n    feature = geoutils.createFeatureFromGeometry({ id: id, geometry: geometry });\n    Object.keys(attributes).forEach(function (attribute) {\n      return feature.set(attribute, attributes[attribute]);\n    });\n    return feature;\n  },\n  createOlLayer: function createOlLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = options.id;\n    var features = options.features;\n    var geometryType = options.geometryType;\n    var color = options.color;\n    var style = options.style;\n    // create ol layer to add to map\n    var olSource = options.source || new ol.source.Vector({\n      features: features || new ol.Collection()\n    });\n    var olLayer = new ol.layer.Vector({\n      id: id,\n      source: olSource\n    });\n    if (!style) {\n      switch (geometryType) {\n        case GeometryTypes.POINT:\n        case GeometryTypes.POINTZ:\n        case GeometryTypes.POINTM:\n        case GeometryTypes.POINTZM:\n        case GeometryTypes.POINT25D:\n        case GeometryTypes.MULTIPOINT:\n        case GeometryTypes.MULTIPOINTZ:\n        case GeometryTypes.MULTIPOINTM:\n        case GeometryTypes.MULTIPOINTZM:\n        case GeometryTypes.MULTIPOINT25D:\n          style = new ol.style.Style({\n            image: new ol.style.Circle({\n              radius: 5,\n              fill: new ol.style.Fill({\n                color: color\n              })\n            })\n          });\n          break;\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINESTRINGZ:\n        case GeometryTypes.LINESTRINGM:\n        case GeometryTypes.LINESTRINGZM:\n        case GeometryTypes.LINESTRING25D:\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINESTRINGZ:\n        case GeometryTypes.MULTILINESTRINGM:\n        case GeometryTypes.MULTILINESTRINGZM:\n        case GeometryTypes.MULTILINESTRING25D:\n        case GeometryTypes.LINE:\n        case GeometryTypes.LINEZ:\n        case GeometryTypes.LINEM:\n        case GeometryTypes.LINEZM:\n        case GeometryTypes.LINE25D:\n        case GeometryTypes.MULTILINE:\n        case GeometryTypes.MULTILINEZ:\n        case GeometryTypes.MULTILINEM:\n        case GeometryTypes.MULTILINEZM:\n        case GeometryTypes.MULTILINE25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              width: 3,\n              color: color\n            })\n          });\n          break;\n        case GeometryTypes.POLYGON:\n        case GeometryTypes.POLYGONZ:\n        case GeometryTypes.POLYGONM:\n        case GeometryTypes.POLYGONZM:\n        case GeometryTypes.POLYGON25D:\n        case GeometryTypes.MULTIPOLYGON:\n        case GeometryTypes.MULTIPOLYGONZ:\n        case GeometryTypes.MULTIPOLYGONM:\n        case GeometryTypes.MULTIPOLYGONZM:\n        case GeometryTypes.MULTIPOLYGON25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              color: \"#000000\",\n              width: 1\n            }),\n            fill: new ol.style.Fill({\n              color: color\n            })\n          });\n          olLayer.setOpacity(0.6);\n          break;\n      }\n    }\n    olLayer.setStyle(style);\n    return olLayer;\n  },\n  createWMSLayer: function createWMSLayer() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref7.url,\n        name = _ref7.name,\n        projection = _ref7.projection,\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers;\n\n    var id = name || uniqueId();\n    name = name || id;\n    var wmslayer = new WMSLayer({\n      id: id,\n      layers: layers,\n      projection: projection,\n      url: url\n    });\n    var olLayer = wmslayer.getOLLayer();\n    olLayer.set('id', id); // set unique id\n    olLayer.set('name', name);\n    return {\n      wmslayer: wmslayer,\n      olLayer: olLayer\n    };\n  },\n  createVectorLayerFromGeometry: function createVectorLayerFromGeometry(geometry) {\n    var feature = new ol.Feature(geometry);\n    return geoutils.createVectorLayerFromFeatures(feature);\n  },\n  createVectorLayerFromFeatures: function createVectorLayerFromFeatures(feature) {\n    return new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: Array.isArray(feature) ? feature : [feature]\n      })\n    });\n  },\n  createVectorLayerFromFile: function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref9.name,\n          type = _ref9.type,\n          crs = _ref9.crs,\n          mapCrs = _ref9.mapCrs,\n          data = _ref9.data,\n          style = _ref9.style;\n\n      var format, layer, createVectorLayer, _data, headers, separator, values, x, y, features, errorrows, source, promiseKmz, promise;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              format = void 0;\n              layer = void 0;\n\n              createVectorLayer = function createVectorLayer(format, data) {\n                var epsg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : crs;\n\n                var vectorLayer = void 0;\n                var features = format.readFeatures(data, {\n                  dataProjection: epsg,\n                  featureProjection: mapCrs || epsg\n                });\n                if (features.length) {\n\n                  // ignore kml property [`<styleUrl>`](https://developers.google.com/kml/documentation/kmlreference)\n                  if (format instanceof ol.format.KML) {\n                    features.forEach(function (feature) {\n                      return feature.unset('styleUrl');\n                    }); // ref: \n                  }\n\n                  var vectorSource = new ol.source.Vector({\n                    features: features\n                  });\n                  vectorLayer = new ol.layer.Vector({\n                    source: vectorSource,\n                    name: name,\n                    _fields: Object.keys(features[0].getProperties()).filter(function (property) {\n                      return geometryFields.indexOf(property) < 0;\n                    }),\n                    id: uniqueId()\n                  });\n                  style && vectorLayer.setStyle(style);\n                }\n                return vectorLayer;\n              };\n\n              _context3.t0 = type;\n              _context3.next = _context3.t0 === 'gpx' ? 6 : _context3.t0 === 'gml' ? 9 : _context3.t0 === 'geojson' ? 12 : _context3.t0 === 'kml' ? 15 : _context3.t0 === 'csv' ? 18 : _context3.t0 === 'kmz' ? 29 : _context3.t0 === 'zip' ? 40 : 51;\n              break;\n\n            case 6:\n              format = new ol.format.GPX();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 9:\n              format = new ol.format.WMSGetFeatureInfo();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 12:\n              format = new ol.format.GeoJSON();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 15:\n              format = new ol.format.KML({\n                extractStyles: false\n              });\n              layer = createVectorLayer(format, data, \"EPSG:4326\");\n              return _context3.abrupt('break', 51);\n\n            case 18:\n              _data = data, headers = _data.headers, separator = _data.separator, values = _data.values, x = _data.x, y = _data.y;\n              features = [];\n              errorrows = [];\n\n              values.forEach(function (row, index) {\n                var properties = {};\n                var rowvalues = row.split(separator);\n                if (rowvalues.length === headers.length) {\n                  var coordinates = [];\n                  rowvalues.forEach(function (value, index) {\n                    var field = headers[index];\n                    if (field === x) coordinates[0] = 1 * value;\n                    if (field === y) coordinates[1] = 1 * value;\n                    properties[field] = value;\n                  });\n                  // check if all coordinates is right\n                  if (coordinates.find(function (value) {\n                    return Number.isNaN(value);\n                  }) === undefined) {\n                    var geometry = new ol.geom.Point(coordinates);\n                    if (crs !== mapCrs) geometry.transform(crs, mapCrs);\n                    var feature = new ol.Feature(geometry);\n                    feature.setId(index); // need to add a id incremental\n                    feature.setProperties(properties);\n                    features.push(feature);\n                  }\n                } else errorrows.push({\n                  row: index + 1,\n                  value: values[index]\n                });\n              });\n\n              if (features.length) {\n                _context3.next = 24;\n                break;\n              }\n\n              return _context3.abrupt('return', Promise.reject());\n\n            case 24:\n              if (errorrows.length) {\n                _gui2.default.showUserMessage({\n                  type: 'warning',\n                  message: 'sdk.mapcontrols.addlayer.messages.csv.warning',\n                  hooks: {\n                    footer: {\n                      template: '<select v-select2=\"errorrows[0].value\" class=\"skin-color\" :search=\"false\" style=\"width:100%\">\\n                    <option v-for=\"errorrow in errorrows\" :key=\"errorrow.row\" :value=\"errorrow.value\">[{{ errorrow.row}}] {{errorrow.value}}</option>\\n                </select>',\n                      data: function data() {\n                        return {\n                          errorrows: errorrows\n                        };\n                      }\n                    }\n                  },\n                  autoclose: false\n                });\n              }\n\n              source = new ol.source.Vector({\n                features: features\n              });\n\n              layer = new ol.layer.Vector({\n                source: source,\n                name: name,\n                _fields: headers,\n                id: uniqueId()\n              });\n              style && layer.setStyle(style);\n              return _context3.abrupt('break', 51);\n\n            case 29:\n              promiseKmz = new Promise(function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n                  var zip, buffer, kmlFile;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          zip = new JSZip();\n                          _context.next = 3;\n                          return data.arrayBuffer(data);\n\n                        case 3:\n                          buffer = _context.sent;\n\n                          zip.load(buffer);\n                          kmlFile = zip.file(/.kml$/i)[0];\n\n                          if (kmlFile) {\n                            data = kmlFile.asText();\n                            format = new ol.format.KML({\n                              extractStyles: false\n                            });\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          } else reject();\n\n                        case 7:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x9, _x10) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 30;\n              _context3.next = 33;\n              return promiseKmz;\n\n            case 33:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 36:\n              _context3.prev = 36;\n              _context3.t1 = _context3['catch'](30);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 39:\n              return _context3.abrupt('break', 51);\n\n            case 40:\n              promise = new Promise(function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                  var buffer;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return data.arrayBuffer(data);\n\n                        case 2:\n                          buffer = _context2.sent;\n\n                          shp(buffer).then(function (geojson) {\n                            var data = JSON.stringify(geojson);\n                            format = new ol.format.GeoJSON({});\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          }).catch(function (err) {\n                            return reject(err);\n                          });\n\n                        case 4:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x11, _x12) {\n                  return _ref11.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 41;\n              _context3.next = 44;\n              return promise;\n\n            case 44:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 47:\n              _context3.prev = 47;\n              _context3.t2 = _context3['catch'](41);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 50:\n              return _context3.abrupt('break', 51);\n\n            case 51:\n              return _context3.abrupt('return', layer);\n\n            case 52:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[30, 36], [41, 47]]);\n    }));\n\n    function createVectorLayerFromFile() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return createVectorLayerFromFile;\n  }(),\n  createStyleFunctionToVectorLayer: function createStyleFunctionToVectorLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var styleFunction = function styleFunction(feature, resolution) {\n      var color = options.color,\n          field = options.field;\n\n      color = color.rgba ? 'rgba(' + color.rgba.r + ',' + color.rgba.g + ',' + color.rgba.b + ',' + color.rgba.a + ')' : color;\n      var geometryType = feature.getGeometry().getType();\n      var style = geoutils.getDefaultLayerStyle(geometryType, { color: color });\n      field && style.setText(new ol.style.Text({\n        text: '' + feature.get(field),\n        font: 'bold',\n        scale: 2,\n        offsetY: 15,\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          color: '#FFFFFF',\n          width: 2\n        })\n      }));\n      return style;\n    };\n    styleFunction._g3w_options = options;\n    return styleFunction;\n  },\n  createSelectedStyle: function createSelectedStyle() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometryType = _ref12.geometryType,\n        _ref12$color = _ref12.color,\n        color = _ref12$color === undefined ? 'rgb(255,255,0)' : _ref12$color,\n        _ref12$fill = _ref12.fill,\n        fill = _ref12$fill === undefined ? true : _ref12$fill;\n\n    var style = null;\n    if (geometryType === 'LineString' || geometryType === 'MultiLineString') {\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        })\n      });\n    } else if (geometryType === 'Point' || geometryType === 'MultiPoint') {\n      style = new ol.style.Style({\n        image: new ol.style.Circle({\n          radius: 6,\n          stroke: !fill && new ol.style.Stroke({\n            color: color,\n            width: 4\n          }),\n          fill: fill && new ol.style.Fill({\n            color: color\n          })\n        }),\n        zIndex: Infinity\n      });\n    } else if (geometryType === 'MultiPolygon' || geometryType === 'Polygon') {\n      var fillColor = ol.color.asArray(color);\n      fillColor.splice(3, 1, 0.5);\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        }),\n        fill: fill && new ol.style.Fill({\n          color: ol.color.asString(fillColor)\n        })\n      });\n    }\n    return style;\n  },\n  getAlphanumericPropertiesFromFeature: function getAlphanumericPropertiesFromFeature() {\n    var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    properties = Array.isArray(properties) ? properties : Object.keys(properties);\n    return properties.filter(function (property) {\n      return geometryFields.indexOf(property) === -1;\n    });\n  },\n\n\n  /**\n   * Method to convert feature to form Data for expression/expression_eval request\n   * @param feature\n   * @param type\n   */\n  getFormDataExpressionRequestFromFeature: function getFormDataExpressionRequestFromFeature(feature) {\n    delete feature.attributes.geometry;\n    var _feature = new ol.Feature(feature.geometry);\n    var properties = {};\n    geoutils.getAlphanumericPropertiesFromFeature(feature.attributes).forEach(function (property) {\n      if (property !== G3W_FID) properties[property] = feature.attributes[property];\n    });\n    _feature.setProperties(properties);\n    _feature.setId(feature.attributes[G3W_FID]);\n    return geoutils.convertFeatureToGEOJSON(_feature);\n  },\n\n\n  /**\n   * Convert Feature  to GEOJSON Format\n   * @param feature\n   */\n  convertFeatureToGEOJSON: function convertFeatureToGEOJSON(feature) {\n    var GeoJSONFormat = new ol.format.GeoJSON();\n    return GeoJSONFormat.writeFeatureObject(feature);\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByBBOX: function getQueryLayersPromisesByBBOX(layers, _ref13) {\n    var bbox = _ref13.bbox,\n        _ref13$filterConfig = _ref13.filterConfig,\n        filterConfig = _ref13$filterConfig === undefined ? {} : _ref13$filterConfig,\n        _ref13$feature_count = _ref13.feature_count,\n        feature_count = _ref13$feature_count === undefined ? 10 : _ref13$feature_count,\n        _ref13$multilayers = _ref13.multilayers,\n        multilayers = _ref13$multilayers === undefined ? false : _ref13$multilayers;\n\n    var queriesPromise = void 0;\n    var geometry = ol.geom.Polygon.fromExtent(bbox);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var mapProjection = map.getView().getProjection();\n\n    if (multilayers) {\n      queriesPromise = geoutils.getQueryLayersPromisesByGeometry(layers, {\n        geometry: geometry,\n        feature_count: feature_count,\n        filterConfig: filterConfig,\n        multilayers: multilayers,\n        projection: mapProjection\n      });\n    } else {\n      var d = $.Deferred();\n      var mapCrs = mapProjection.getCode();\n      queriesPromise = d.promise();\n      var queryResponses = [];\n      var queryErrors = [];\n      var layersLenght = layers.length;\n      layers.forEach(function (layer) {\n        var filter = new Filter(filterConfig);\n        var layerCrs = layer.getProjection().getCode();\n        /**\n         * convert\n         */\n        filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n        layer.query({\n          filter: filter,\n          feature_count: feature_count\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          return queryErrors.push(error);\n        }).always(function () {\n          layersLenght -= 1;\n          if (layersLenght === 0) queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n        });\n      });\n    }\n    return queriesPromise;\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param multilayers\n   * @param bbox\n   * @param geometry\n   * @param projection\n   * @param feature_count\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByGeometry: function getQueryLayersPromisesByGeometry(layers) {\n    var _ref14 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref14$multilayers = _ref14.multilayers,\n        multilayers = _ref14$multilayers === undefined ? false : _ref14$multilayers,\n        geometry = _ref14.geometry,\n        _ref14$filterConfig = _ref14.filterConfig,\n        filterConfig = _ref14$filterConfig === undefined ? {} : _ref14$filterConfig,\n        projection = _ref14.projection,\n        _ref14$feature_count = _ref14.feature_count,\n        feature_count = _ref14$feature_count === undefined ? 10 : _ref14$feature_count;\n\n    var d = $.Deferred();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapCrs = projection.getCode();\n    var filter = new Filter(filterConfig);\n    if (multilayers) {\n      (function () {\n        var filterGeometry = geometry;\n        if (!layers.length) d.resolve([]);\n        var multiLayers = _.groupBy(layers, function (layer) {\n          return layer.getMultiLayerId() + '_' + layer.getProjection().getCode();\n        });\n        var numberRequestd = Object.keys(multiLayers).length;\n        var layersLength = numberRequestd;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('filter');\n          var layerCrs = multilayer.getProjection().getCode();\n          if (mapCrs !== layerCrs) filterGeometry = filterGeometry.clone().transform(mapCrs, layerCrs);\n          filter.setGeometry(filterGeometry);\n          provider.query({\n            filter: filter,\n            layers: _layers,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) queryErrors.length === numberRequestd ? d.reject(queryErrors) : d.resolve(queryResponses);\n          });\n        }\n      })();\n    } else {\n      if (layers.length === 0) d.resolve([]);else {\n        var layersLenght = layers.length;\n        layers.forEach(function (layer) {\n          var layerCrs = layer.getProjection().getCode();\n          filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n          layer.query({\n            filter: filter,\n            filterConfig: filterConfig,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLenght -= 1;\n            if (layersLenght === 0) {\n              queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        });\n      }\n    }\n    return d.promise();\n  },\n  getQueryLayersPromisesByCoordinates: function getQueryLayersPromisesByCoordinates(layers) {\n    var _ref15 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        coordinates = _ref15.coordinates,\n        _ref15$feature_count = _ref15.feature_count,\n        feature_count = _ref15$feature_count === undefined ? 10 : _ref15$feature_count,\n        _ref15$query_point_to = _ref15.query_point_tolerance,\n        query_point_tolerance = _ref15$query_point_to === undefined ? QUERY_POINT_TOLERANCE : _ref15$query_point_to,\n        _ref15$multilayers = _ref15.multilayers,\n        multilayers = _ref15$multilayers === undefined ? false : _ref15$multilayers,\n        _ref15$reproject = _ref15.reproject,\n        reproject = _ref15$reproject === undefined ? true : _ref15$reproject;\n\n    var d = $.Deferred();\n    if (!layers.length) return d.resolve(layers);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var size = map.getSize();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapProjection = map.getView().getProjection();\n    var resolution = map.getView().getResolution();\n    if (multilayers) {\n      (function () {\n        // case of multilayers\n        var multiLayers = {};\n        layers.forEach(function (layer) {\n          var key = layer.getInfoFormat() + ':' + layer.getInfoUrl() + ':' + layer.getMultiLayerId();\n          if (multiLayers[key]) multiLayers[key].push(layer);else multiLayers[key] = [layer];\n        });\n        var numberOfRequests = Object.keys(multiLayers).length;\n        var layersLength = numberOfRequests;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers2 = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('query');\n          provider.query({\n            feature_count: feature_count,\n            coordinates: coordinates,\n            query_point_tolerance: query_point_tolerance,\n            mapProjection: mapProjection,\n            reproject: reproject,\n            resolution: resolution,\n            size: size,\n            layers: _layers2\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) {\n              queryErrors.length === numberOfRequests ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        }\n      })();\n    } else {\n      // single layers request\n      var layersLength = layers.length;\n      var rejectedResponses = 0;\n      layers.forEach(function (layer) {\n        layer.query({\n          feature_count: feature_count,\n          coordinates: coordinates,\n          query_point_tolerance: query_point_tolerance,\n          mapProjection: mapProjection,\n          size: size,\n          resolution: resolution\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          rejectedResponses += 1;\n          queryErrors.push(error);\n        }).always(function () {\n          layersLength -= 1;\n          if (layersLength === 0) {\n            rejectedResponses < layers.length ? d.resolve(queryResponses) : d.reject(queryErrors);\n          }\n        });\n      });\n    }\n    return d.promise();\n  },\n  transformBBOX: function transformBBOX() {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref16.bbox,\n        sourceCrs = _ref16.sourceCrs,\n        destinationCrs = _ref16.destinationCrs;\n\n    var point1 = new ol.geom.Point([bbox[0], bbox[1]]);\n    var point2 = new ol.geom.Point([bbox[2], bbox[3]]);\n    point1.transform(sourceCrs, destinationCrs);\n    point2.transform(sourceCrs, destinationCrs);\n    return [].concat(_toConsumableArray(point1.getCoordinates()), _toConsumableArray(point2.getCoordinates()));\n  },\n  parseQueryLayersPromiseResponses: function parseQueryLayersPromiseResponses(responses) {\n    var results = {\n      query: responses[0] ? responses[0].query : null,\n      data: []\n    };\n    responses.forEach(function (result) {\n      result.data && result.data.forEach(function (data) {\n        results.data.push(data);\n      });\n    });\n    return results;\n  },\n  getMapLayerById: function getMapLayerById(layerId) {\n    return _mapLayers2.default.getLayerById(layerId);\n  },\n\n\n  //return mapLayer based on filter (properties of layer. Es GEOLAYER etc..)\n  //Default values geolayer\n  getMapLayersByFilter: function getMapLayersByFilter() {\n    var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    filter = _extends({\n      GEOLAYER: true\n    }, filter);\n    var layers = [];\n    _mapLayers2.default.getQuerableLayersStores().forEach(function (layerStore) {\n      layers = layerStore.getLayers(filter, options);\n    });\n    return layers || [];\n  },\n  areCoordinatesEqual: function areCoordinatesEqual() {\n    var coordinates1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var coordinates2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return coordinates1[0] === coordinates2[0] && coordinates1[1] === coordinates2[1];\n  },\n\n  /**\n   *\n   *\n   * @param response\n   * @param type vector/results\n   * @returns {*|*[]|null}\n   */\n  getFeaturesFromResponseVectorApi: function getFeaturesFromResponseVectorApi() {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref17 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref17$type = _ref17.type,\n        type = _ref17$type === undefined ? 'vector' : _ref17$type;\n\n    if (response.result) {\n      var features = response.vector.data.features || [];\n      switch (type) {\n        case 'result':\n          return geoutils.covertVectorFeaturesToResultFeatures(features);\n          break;\n        case 'vector':\n        default:\n          return features;\n      }\n    } else return null;\n  },\n  covertVectorFeaturesToResultFeatures: function covertVectorFeaturesToResultFeatures() {\n    var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return features.map(function (feature) {\n      var id = feature.id,\n          attributes = feature.properties,\n          geometry = feature.geometry;\n\n      attributes[G3W_FID] = id;\n      return {\n        geometry: geometry,\n        attributes: attributes,\n        id: id\n      };\n    });\n  },\n  splitGeometryLine: function splitGeometryLine(splitGeometry, lineGeometry) {\n    var isZType = lineGeometry.getCoordinates()[0][2] !== undefined;\n    var splitted = false;\n    var splittedSegments = [];\n    var jstsFromWkt = new jsts.io.WKTReader();\n    var wktFromOl = new ol.format.WKT();\n    var olFromJsts = new jsts.io.OL3Parser();\n    var splitLine = jstsFromWkt.read(wktFromOl.writeGeometry(splitGeometry));\n    var wktLineString = wktFromOl.writeGeometry(lineGeometry);\n    if (isZType) wktLineString = wktLineString.replace(' Z', '');\n    var targetLine = jstsFromWkt.read(wktLineString);\n    var targetCoordinates = targetLine.getCoordinates();\n    var targetCoordinatesLength = targetCoordinates.length;\n    var geometryFactory = new jsts.geom.GeometryFactory();\n    var pointsNotSplitted = [];\n    var endPoint = void 0;\n    var startPoint = void 0;\n    for (var i = 0; i < targetCoordinatesLength - 1; i++) {\n      startPoint = targetCoordinates[i];\n      endPoint = targetCoordinates[i + 1];\n      if (isZType) {\n        startPoint.z = lineGeometry.getCoordinates()[i][2];\n        endPoint.z = lineGeometry.getCoordinates()[i + 1][2];\n      }\n      // create a segment of two vertex\n      var segment = geometryFactory.createLineString([startPoint, endPoint]);\n      var intersectCoordinates = segment.intersection(splitLine).getCoordinates();\n      if (intersectCoordinates.length) {\n        splitted = true;\n        intersectCoordinates.forEach(function (splitPoint) {\n          if (isZType) splitPoint.z = startPoint.z;\n          if (pointsNotSplitted.length) {\n            var lineNewSegment = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted.concat([startPoint, splitPoint])));\n            if (isZType) {\n              var coordinates = lineNewSegment.getCoordinates();\n              lineNewSegment.setCoordinates([[].concat(_toConsumableArray(coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(lineNewSegment);\n            pointsNotSplitted = [];\n          } else {\n            var _lineNewSegment = olFromJsts.write(geometryFactory.createLineString([startPoint, splitPoint]));\n            if (isZType) {\n              var _coordinates = _lineNewSegment.getCoordinates();\n              _lineNewSegment.setCoordinates([[].concat(_toConsumableArray(_coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(_coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(_lineNewSegment);\n          }\n          startPoint = splitPoint;\n        });\n        pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n      } else pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n    }\n    var restOfLine = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted));\n    if (isZType) {\n      var zCoordinates = [];\n      pointsNotSplitted.forEach(function (pointNotSplitted, index) {\n        var coordinate = restOfLine.getCoordinates()[index];\n        coordinate.push(pointNotSplitted.z);\n        zCoordinates.push(coordinate);\n      });\n      restOfLine.setCoordinates(zCoordinates);\n    }\n    splittedSegments.push(restOfLine);\n    return splitted && splittedSegments || [];\n  },\n  splitFeatures: function splitFeatures() {\n    var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref18$features = _ref18.features,\n        features = _ref18$features === undefined ? [] : _ref18$features,\n        splitfeature = _ref18.splitfeature;\n\n    var splitterdGeometries = [];\n    features.forEach(function (feature) {\n      var geometries = geoutils.splitFeature({ feature: feature, splitfeature: splitfeature });\n      geometries.length > 1 && splitterdGeometries.push({\n        uid: feature.getUid(),\n        geometries: geometries\n      });\n    });\n    return splitterdGeometries;\n  },\n  splitFeature: function splitFeature() {\n    var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref19.feature,\n        splitfeature = _ref19.splitfeature;\n\n    var geometries = {\n      feature: feature.getGeometry(), //geometry of the feature to split\n      split: splitfeature.getGeometry() // geometry of split feature\n    };\n    // check geometry type of split\n    var splitType = geometries.split.getType();\n    // check geometry type of feature\n    var featureGeometryType = geometries.feature.getType();\n    // array of splitted geometries\n    var splittedFeatureGeometries = [];\n    var parser = new jsts.io.OL3Parser();\n    switch (splitType) {\n      case 'LineString':\n        // check if geometry is Polygon\n        if (featureGeometryType.indexOf('Polygon') !== -1) {\n          // check if is a MultiPolygon\n          var isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          // if multiPolygon\n          var polygonFeature = isMulti ? geometries.feature.getPolygons() : geometries.feature;\n          if (Array.isArray(polygonFeature)) {\n            polygonFeature.forEach(function (geometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: geometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiPolygon([geometry.getCoordinates()]));\n              });\n            });\n          } else {\n            // case a Polygon\n            var isZType = polygonFeature.getCoordinates()[0][0][2] !== undefined;\n            var polygonFeatureGeometry = parser.read(polygonFeature);\n            var externalPolygonFeatureGeometry = parser.read(polygonFeature.getLinearRing(0));\n            // create a line splittinf feature in jsts\n            var splitGeometry = parser.read(geometries.split);\n            // add holes geometries\n            var holePolygons = void 0;\n            if (polygonFeature.getLinearRingCount() > 1) {\n              var holeFeaturesGeometry = void 0;\n              for (var index = 1; index < polygonFeature.getLinearRingCount(); index++) {\n                var holeRing = parser.read(polygonFeature.getLinearRing(index));\n                if (holeFeaturesGeometry === undefined) holeFeaturesGeometry = holeRing;else holeFeaturesGeometry = holeFeaturesGeometry.union(holeRing);\n              }\n              holePolygons = new jsts.operation.polygonize.Polygonizer();\n              holePolygons.add(holeFeaturesGeometry);\n              var holyPolygonUnion = void 0;\n              holePolygons.getPolygons().toArray().forEach(function (polygon) {\n                if (holyPolygonUnion === undefined) holyPolygonUnion = polygon;else holyPolygonUnion = holyPolygonUnion.union(polygon);\n              });\n              holePolygons = holyPolygonUnion;\n            }\n\n            if (isZType) {\n              polygonFeature.getCoordinates()[0].forEach(function (coordinate, index) {\n                externalPolygonFeatureGeometry.getCoordinates()[index].z = coordinate[2];\n              });\n              splitGeometry.getCoordinates().forEach(function (coordinate) {\n                return coordinate.z = 0;\n              });\n            }\n\n            var union = externalPolygonFeatureGeometry.union(splitGeometry);\n            var polygonizer = new jsts.operation.polygonize.Polygonizer();\n            polygonizer.add(union);\n            var polygons = polygonizer.getPolygons().toArray();\n            polygons.length > 1 && polygons.forEach(function (polygon) {\n              if (holePolygons) polygon = polygon.difference(holePolygons);\n              if (polygonFeatureGeometry.intersects(polygon.getInteriorPoint())) {\n                var geometry = parser.write(polygon);\n                var polygonCoordinates = polygon.getCoordinates();\n                if (isZType) {\n                  polygonCoordinates.forEach(function (coordinate, index) {\n                    coordinate.z = coordinate.z === undefined ? polygonCoordinates[index === 0 ? index + 1 : index - 1].z : coordinate.z;\n                  });\n                }\n                if (isZType) {\n                  var zCoordinates = [];\n                  geometry.getCoordinates()[0].forEach(function (coordinate, index) {\n                    coordinate.push(polygonCoordinates[index].z);\n                    zCoordinates.push(coordinate);\n                  });\n                  geometry.setCoordinates([zCoordinates]);\n                }\n                var geometryType = geometry.getType();\n                if (isMulti) {\n                  splittedFeatureGeometries.push(new ol.geom.MultiPolygon(geometryType === 'Polygon' ? [geometry.getCoordinates()] : geometry.getCoordinates()));\n                } else {\n                  if (geometryType === 'Polygon') {\n                    splittedFeatureGeometries.push(geometry);\n                  } else geometry.getCoordinates().forEach(function (coordinates) {\n                    splittedFeatureGeometries.push(new ol.geom.Polygon(coordinates));\n                  });\n                }\n              }\n            });\n          }\n          //LineString or MultiLineString\n        } else if (featureGeometryType.indexOf('LineString') !== -1) {\n          var _isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          var lineFeatureGeometry = _isMulti ? geometries.feature.getLineStrings() : geometries.feature;\n          if (Array.isArray(lineFeatureGeometry)) {\n            lineFeatureGeometry.forEach(function (lineGeometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: lineGeometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiLineString([geometry.getCoordinates()]));\n              });\n            });\n          } else return geoutils.splitGeometryLine(geometries.split, geometries.feature);\n        }\n        break;\n    }\n    return splittedFeatureGeometries;\n  },\n\n  /**\n   * Return Point feature vertex from geometry\n   * @param geometry\n   */\n  getPointFeaturesfromGeometryVertex: function getPointFeaturesfromGeometryVertex(geometry) {\n    var pointFeatures = [];\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function (coordinates) {\n              var feature = new ol.Feature(new ol.geom.Point(coordinates));\n              pointFeatures.push(feature);\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTILINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.LINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          var feature = new ol.Feature(new ol.geom.Point(coordinates));\n          pointFeatures.push(feature);\n        });\n        break;\n      case GeometryTypes.POINT:\n        var coordinates = geometry.getCoordinates();\n        var feature = new ol.geom.Point(coordinates);\n        pointFeatures.push(feature);\n        break;\n    }\n    return pointFeatures;\n  },\n\n\n  /**\n   * Return number of vertex of a feature\n   * @param geometries\n   * @returns {*}\n   */\n  getVertexLength: function getVertexLength(geometry) {\n    var vertexLength = 0;\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function () {\n              return vertexLength += 1;\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function () {\n            return vertexLength += 1;\n          });\n        });\n        break;\n    }\n    return vertexLength;\n  },\n\n\n  /**\n   * Method that compare two geometry type and return true id are same geometry type or have in common tha same base geometry type:\n   * es. Point <--> Point => true\n   *  MultiPoint <--> Point => true\n   *  Point <--> Polygon => false\n   *\n   */\n  isSameBaseGeometryType: function isSameBaseGeometryType(geometryType1, geometryType2) {\n    geometryType1 = geometryType1.replace('Multi', '');\n    geometryType2 = geometryType2.replace('Multi', '');\n    return geometryType1 === geometryType2;\n  },\n  isSingleGeometry: function isSingleGeometry(geometry) {\n    return !Geometry.isMultiGeometry(geometry.getType());\n  },\n  singleGeometriesToMultiGeometry: function singleGeometriesToMultiGeometry() {\n    var geometries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var geometryType = geometries[0] && geometries[0].getType();\n    return geometryType && new ol.geom['Multi' + geometryType](geometries.map(function (geometry) {\n      return geometry.getCoordinates();\n    }));\n  },\n  multiGeometryToSingleGeometries: function multiGeometryToSingleGeometries(geometry) {\n    var geometryType = geometry.getType();\n    var geometries = [];\n    switch (geometryType) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometries = geometry.getPolygons();\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINESTRING:\n        geometries = geometry.getLineStrings();\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometries = geometry.getPoints();\n        break;\n    }\n    return geometries;\n  },\n\n  /**\n   * Convert geometry to geometryType (from Single to Multi or viceversa)\n   * @param geometry //from geometry\n   * @param toGeometryType\n   * @returns {*}\n   */\n  convertSingleMultiGeometry: function convertSingleMultiGeometry(geometry, toGeometryType) {\n    var fromGeometryType = geometry.getType();\n    if (toGeometryType && fromGeometryType !== toGeometryType) {\n      var isFromGeometryMulti = Geometry.isMultiGeometry(fromGeometryType);\n      var isToGeometryMulti = Geometry.isMultiGeometry(toGeometryType);\n      if (isFromGeometryMulti && !isToGeometryMulti) return geoutils.multiGeometryToSingleGeometries(geometry);else if (!isFromGeometryMulti && isToGeometryMulti) return geoutils.singleGeometriesToMultiGeometry([geometry]);\n    }\n    return geometry;\n  },\n  dissolve: function dissolve() {\n    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref20$features = _ref20.features,\n        features = _ref20$features === undefined ? [] : _ref20$features,\n        _ref20$index = _ref20.index,\n        index = _ref20$index === undefined ? 0 : _ref20$index,\n        _ref20$clone = _ref20.clone,\n        clone = _ref20$clone === undefined ? false : _ref20$clone;\n\n    var parser = new jsts.io.OL3Parser();\n    var featuresLength = features.length;\n    var dissolvedFeature = void 0;\n    var jstsdissolvedFeatureGeometry = void 0;\n    switch (featuresLength) {\n      case 0:\n        dissolvedFeature = null;\n        break;\n      case 1:\n        dissolvedFeature = features[0];\n        break;\n      default:\n        var baseFeature = dissolvedFeature = clone ? features[index].clone() : features[index];\n        var baseFeatureGeometry = baseFeature.getGeometry();\n        var baseFeatureGeometryType = baseFeatureGeometry.getType();\n        // check if can buil a LineString\n        if (baseFeatureGeometryType === 'LineString') {\n          var lineMerger = new jsts.operation.linemerge.LineMerger();\n          for (var i = 0; i < featuresLength; i++) {\n            var feature = features[i];\n            var coordinates = parser.read(feature.getGeometry()).getCoordinates();\n            var LineString = new jsts.geom.GeometryFactory().createLineString(coordinates);\n            lineMerger.addLineString(LineString);\n          }\n          var mergedLineString = lineMerger.getMergedLineStrings();\n          jstsdissolvedFeatureGeometry = mergedLineString.size() === 1 ? mergedLineString.toArray()[0] : null;\n        } else {\n          jstsdissolvedFeatureGeometry = parser.read(baseFeatureGeometry);\n          for (var _i = 0; _i < featuresLength; _i++) {\n            if (index !== _i) {\n              var _feature3 = features[_i];\n              jstsdissolvedFeatureGeometry = jstsdissolvedFeatureGeometry.union(parser.read(_feature3.getGeometry()));\n            }\n          }\n        }\n        if (jstsdissolvedFeatureGeometry) {\n          var dissolvedFeatureGeometry = parser.write(jstsdissolvedFeatureGeometry);\n          var dissolvedFeatureGeometryType = dissolvedFeatureGeometry.getType();\n          var dissolvedFeatuteGeometryCoordinates = dissolvedFeatureGeometryType === baseFeatureGeometryType ? dissolvedFeatureGeometry.getCoordinates() : baseFeatureGeometryType.indexOf('Multi') !== -1 && dissolvedFeatureGeometryType === baseFeatureGeometryType.replace('Multi', '') ? [dissolvedFeatureGeometry.getCoordinates()] : null;\n          if (dissolvedFeatuteGeometryCoordinates) baseFeature.getGeometry().setCoordinates(dissolvedFeatuteGeometryCoordinates);else dissolvedFeature = null;\n        } else dissolvedFeature = null;\n    }\n    return dissolvedFeature;\n  },\n\n\n  /**\n   * Check if `geometryToCheck` is within `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * @returns {boolean}     whether `geometryToCheck` is within `geometry`\n   * \n   * @since 3.8.0\n   */\n  within: function within(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometryToCheck.within(jstsGeometry);\n  },\n\n  /**\n   * Check if `geometryCheck` intersects with `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * \n   * @returns {boolean}     whether `geometryToCheck` interesects `geometry`\n   * \n   * @since 3.8.0\n   */\n  intersects: function intersects(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometry.intersects(jstsGeometryToCheck);\n  },\n\n\n  /**\n   * Method to find Self Intersection\n   * @param geoJsonPolygon\n   * @returns {[]}\n   */\n  findSelfIntersects: function findSelfIntersects(geometry) {\n    // temporary return true or false (commented the array result for point intersect)\n    var selfIntersectPoint = [];\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsPolygon = olFromJsts.read(geometry);\n    // if the geometry is already a simple linear ring, do not\n    // try to find self intersection points.\n    var validator = new jsts.operation.IsSimpleOp(jstsPolygon);\n    //if (validator.isSimpleLinearGeometry(jstsPolygon)) return selfIntersectPoint;\n    if (validator.isSimpleLinearGeometry(jstsPolygon)) return false;\n    var graph = new jsts.geomgraph.GeometryGraph(0, jstsPolygon);\n    var cat = new jsts.operation.valid.ConsistentAreaTester(graph);\n    var r = cat.isNodeConsistentArea();\n    if (!r) {\n      return true;\n      //const pt = cat.getInvalidPoint();\n      //selfIntersectPoint.push([pt.x, pt.y]);\n    }\n  },\n  normalizeEpsg: function normalizeEpsg(epsg) {\n    if (typeof epsg === 'number') return 'EPSG:' + epsg;\n    epsg = epsg.replace(/[^\\d\\.\\-]/g, \"\");\n    if (epsg !== '') return 'EPSG:' + parseInt(epsg);\n  },\n  crsToCrsObject: function crsToCrsObject(crs) {\n    if (crs === null || crs === undefined) return crs;\n    if (toRawType(crs) === 'Object' && crs.epsg) crs.epsg = geoutils.normalizeEpsg(crs.epsg);else crs = {\n      epsg: geoutils.normalizeEpsg(crs),\n      proj4: \"\",\n      axisinverted: false,\n      geographic: false\n    };\n    return crs;\n  },\n\n  /**\n   * Method to convert Degree Minutes  to Degree\n   * @param dm\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMToDEG: function ConvertDMToDEG(_ref21) {\n    var dms = _ref21.dms,\n        _ref21$type = _ref21.type,\n        type = _ref21$type === undefined ? \"Array\" : _ref21$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var deg = (Number(degrees) + Number(minutes) / 60).toFixed(6);\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DM\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDM: function ConvertDEGToDM() {\n    var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref22.deg,\n        _ref22$output = _ref22.output,\n        output = _ref22$output === undefined ? 'Array' : _ref22$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutes = (absolute - degrees) * 60;\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\";\n    }\n  },\n\n  /**\n   * Method to convert Degree Minutes Seconto to Degree\n   * @param dms\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMSToDEG: function ConvertDMSToDEG(_ref23) {\n    var dms = _ref23.dms,\n        _ref23$type = _ref23.type,\n        type = _ref23$type === undefined ? \"Array\" : _ref23$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var seconds = 1 * dms_Array[2];\n    var direction = dms_Array[3];\n    var deg = (Number(degrees) + Number(minutes) / 60 + Number(seconds) / 3600).toFixed(6);\n    if (direction == \"S\" || direction == \"W\") deg = deg * -1;\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DMS\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDMS: function ConvertDEGToDMS() {\n    var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref24.deg,\n        lat = _ref24.lat,\n        lon = _ref24.lon,\n        _ref24$output = _ref24.output,\n        output = _ref24$output === undefined ? 'Array' : _ref24$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutesNotTruncated = (absolute - degrees) * 60;\n    var minutes = Math.floor(minutesNotTruncated);\n    var seconds = ((minutesNotTruncated - minutes) * 60).toFixed(2);\n    var direction = void 0;\n    if (lat) direction = deg >= 0 ? \"N\" : \"S\";\n    if (lon) direction = deg >= 0 ? \"E\" : \"W\";\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes, seconds, direction];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes,\n          seconds: seconds,\n          direction: direction\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\" + seconds + \"\\\"\" + direction;\n    }\n  },\n\n  /**\n   * Method to get geotiff file create by server\n   *\n   * @param options {\n   *   url: server url end point\n   *   method: \"GET\" or \"POST\" - default POST\n   * }\n   * @returns {Promise<Blob>}\n   */\n  getGeoTIFFfromServer: function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var url, _options$params, image, csrfmiddlewaretoken, bbox, _options$method, method, body, response, geoTIFF;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              url = options.url, _options$params = options.params, image = _options$params.image, csrfmiddlewaretoken = _options$params.csrfmiddlewaretoken, bbox = _options$params.bbox, _options$method = options.method, method = _options$method === undefined ? \"POST\" : _options$method;\n              body = new FormData();\n\n              body.append('image', image);\n              body.append('csrfmiddlewaretoken', csrfmiddlewaretoken);\n              body.append('bbox', bbox);\n              _context4.next = 7;\n              return fetch(url, {\n                method: method, // *GET, POST, PUT, DELETE, etc.,\n                body: body\n              });\n\n            case 7:\n              response = _context4.sent;\n              _context4.next = 10;\n              return response.blob();\n\n            case 10:\n              geoTIFF = _context4.sent;\n              return _context4.abrupt('return', geoTIFF);\n\n            case 12:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function getGeoTIFFfromServer() {\n      return _ref25.apply(this, arguments);\n    }\n\n    return getGeoTIFFfromServer;\n  }(),\n\n  /**\n   * Method to convert feature forma api\n   * @param feature\n   * @returns {*|Feature|Feature}\n   */\n  createOlFeatureFromApiResponseFeature: function createOlFeatureFromApiResponseFeature(feature) {\n    var _feature$properties = feature.properties,\n        properties = _feature$properties === undefined ? {} : _feature$properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    properties[G3W_FID] = id;\n    var Feature = new ol.Feature(geometry && new ol.geom[geometry.type](geometry.coordinates));\n    Feature.setProperties(properties);\n    Feature.setId(id);\n    return Feature;\n  },\n  sanitizeFidFeature: function sanitizeFidFeature(fid) {\n    if (toRawType(fid) === 'String' && Number.isNaN(1 * fid)) {\n      fid = fid.split('.');\n      fid = fid.length === 2 ? fid[1] : fid[0];\n    }\n    return fid;\n  },\n  parseAttributes: function parseAttributes(layerAttributes, featureAttributes) {\n    var featureAttributesNames = Object.keys(featureAttributes).filter(function (featureAttributesName) {\n      return geometryFields.indexOf(featureAttributesName) === -1;\n    });\n    if (layerAttributes && layerAttributes.length) {\n      var _featureAttributesNames = Object.keys(featureAttributes);\n      return layerAttributes.filter(function (attribute) {\n        return _featureAttributesNames.indexOf(attribute.name) > -1;\n      });\n    } else {\n      return featureAttributesNames.map(function (featureAttributesName) {\n        return {\n          name: featureAttributesName,\n          label: featureAttributesName\n        };\n      });\n    }\n  },\n\n  /**\n   * Handle case query response\n   */\n  handleQueryResponse: function handleQueryResponse() {\n    var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref26.response,\n        projections = _ref26.projections,\n        layers = _ref26.layers,\n        _ref26$wms = _ref26.wms,\n        wms = _ref26$wms === undefined ? true : _ref26$wms;\n\n    layers = layers ? layers : [this._layer];\n    var layer = layers[0];\n    var infoFormat = layer.getInfoFormat();\n    response = responseParser.get(infoFormat)({\n      response: response,\n      projections: projections,\n      layers: layers,\n      wms: wms\n    });\n    return response;\n  },\n\n\n  /**\n   * core/geometry/geom::distance@v3.4\n   */\n  distance: function distance(c1, c2) {\n    return Math.sqrt(geom.squaredDistance(c1, c2));\n  },\n\n\n  /**\n   * * core/geometry/geom::squaredDistance@v3.4\n   */\n  squaredDistance: function squaredDistance(c1, c2) {\n    var x1 = c1[0];\n    var y1 = c1[1];\n    var x2 = c2[0];\n    var y2 = c2[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  },\n\n\n  /**\n   * core/geometry/geom::closestOnSegment@v3.4\n   */\n  closestOnSegment: function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0 ? 0 : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x = void 0,\n        y = void 0;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  },\n  get_LEGEND_ON_LEGEND_OFF_Params: function get_LEGEND_ON_LEGEND_OFF_Params(layer) {\n    var LEGEND_ON = void 0,\n        LEGEND_OFF = void 0;\n    if (layer.getCategories()) {\n      /**\n       * checked: current status\n       * _checked: original status\n       * handle only difference (diff) from original checked status and current chenge by toc categories\n       */\n      layer.getCategories().forEach(function (_ref27) {\n        var checked = _ref27.checked,\n            _checked = _ref27._checked,\n            ruleKey = _ref27.ruleKey;\n\n        if (checked !== _checked) {\n          if (checked) {\n            if (typeof LEGEND_ON === 'undefined') LEGEND_ON = layer.getWMSLayerName() + ':';else LEGEND_ON = LEGEND_ON + ',';\n            LEGEND_ON = '' + LEGEND_ON + ruleKey;\n          } else {\n            if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = layer.getWMSLayerName() + ':';else LEGEND_OFF = LEGEND_OFF + ',';\n            LEGEND_OFF = '' + LEGEND_OFF + ruleKey;\n          }\n        }\n      });\n    }\n    return {\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF\n    };\n  },\n\n\n  /**\n   * @TODO remove \"Geometry\" sub-property (ie. find out how to merge the following functions)\n   */\n  Geometry: Geometry\n\n};\n\nmodule.exports = geoutils;\n\n},{\"app/constant\":4,\"core/layers/filter/filter\":30,\"core/layers/map/wmslayer\":45,\"core/utils/parsers\":66,\"core/utils/utils\":67,\"services/gui\":356,\"store/map-layers\":372}],65:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @FIXME remove weird import (utility functions should be stateles)\n                                                                                                                                                                                                                                                                   */\n\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n */\n// const { Geometry } = require('core/utils/geo');\n\nvar INCHES_PER_UNIT = {\n  m: 39.37, //\n  degrees: 4374754\n};\n\n//const DOTS_PER_INCH = ol.has.DEVICE_PIXEL_RATIO * 96; //DPI96\nvar DOTS_PER_INCH = 96; //DPI96\n\nvar utils = {\n  merge: function merge(obj1, obj2) {\n    var obj3 = _extends({}, obj1, obj2);\n    return obj3;\n  },\n  getExtentForViewAndSize: function getExtentForViewAndSize(center, resolution, rotation, size) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    //return [Math.min(y0, y1, y2, y3),Math.min(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), Math.max(x0, x1, x2, x3)]\n    return [Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3)];\n  },\n\n  // function that create a polygon vector layer from bbox\n  createPolygonLayerFromBBox: function createPolygonLayerFromBBox(bbox) {\n    var polygonFeature = new ol.Feature(new ol.geom.Polygon.fromExtent(bbox));\n    var vectorSource = new ol.source.Vector({\n      features: [polygonFeature]\n    });\n    var polygonLayer = new ol.layer.Vector({\n      source: vectorSource\n    });\n    return polygonLayer;\n  },\n  reverseGeometry: function reverseGeometry(geometry) {\n    var reverseCoordinates = function reverseCoordinates(coordinates) {\n      coordinates.find(function (coordinate) {\n        if (Array.isArray(coordinate)) {\n          reverseCoordinates(coordinate);\n        } else {\n          var _coordinates = _slicedToArray(coordinates, 2),\n              y = _coordinates[0],\n              x = _coordinates[1];\n\n          coordinates[0] = x;\n          coordinates[1] = y;\n          return true;\n        }\n      });\n    };\n    var coordinates = geometry.getCoordinates();\n    reverseCoordinates(coordinates);\n    geometry.setCoordinates(coordinates);\n    return geometry;\n  },\n  getScaleFromResolution: function getScaleFromResolution(resolution) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    return Math.round(resolution * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getResolutionFromScale: function getResolutionFromScale(scale) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    var normScale = scale >= 1.0 ? 1.0 / scale : scale; // just to prevent that scale is passed as 1:10000 or 0.0001\n    return 1 / (normScale * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getDPI: function getDPI() {\n    return DOTS_PER_INCH;\n  },\n  getMetersFromDegrees: function getMetersFromDegrees(degrees) {\n    return degrees * ol.proj.Units.METERS_PER_UNIT.degrees;\n  },\n  needUseSphereMethods: function needUseSphereMethods(projection) {\n    return projection.getCode() === 'EPSG:3857' || projection.getUnits() === 'degrees';\n    //return projection.getUnits() === 'degrees';\n  },\n  getLengthMessageText: function getLengthMessageText() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        unit = _ref.unit,\n        projection = _ref.projection,\n        geometry = _ref.geometry;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require = require('core/utils/geo'),\n        Geometry = _require.Geometry;\n    //\n\n\n    var geometryType = geometry.getType();\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var length = useSphereMethods ? ol.sphere.getLength(geometry, {\n      projection: projection.getCode()\n    }) : Geometry.isMultiGeometry(geometryType) ? geometry.getLineStrings().reduce(function (totalLength, lineGeometry) {\n      return totalLength += lineGeometry.getLength();\n    }, 0) : geometry.getLength();\n    var message = void 0;\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterLength(length, unit) + \" nm\";\n        break;\n      case 'metric':\n      default:\n        message = length > 1000 ? (Math.round(length / 1000 * 100) / 100).toFixed(3) + \" km\" : (Math.round(length * 100) / 100).toFixed(2) + \" m\";\n    }\n    return message;\n  },\n  getAreaMessageText: function getAreaMessageText(_ref2) {\n    var unit = _ref2.unit,\n        geometry = _ref2.geometry,\n        projection = _ref2.projection,\n        _ref2$segments = _ref2.segments,\n        segments = _ref2$segments === undefined ? [] : _ref2$segments;\n\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var area = Math.round(useSphereMethods ? ol.sphere.getArea(geometry, {\n      projection: projection.getCode()\n    }) : geometry.getArea());\n    var message = void 0;\n    var segments_info_meausure = '';\n    var segmentLength = segments.length;\n    if (segmentLength > 2) {\n      segments_info_meausure += this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: new ol.geom.LineString(segments)\n      }) + \" <br>\";\n    }\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterArea(area, unit) + \" \\u2009nmi\\xB2\";\n        break;\n      case 'metric':\n      default:\n        message = area > 1000000 ? (Math.round(area / 1000000 * 100) / 100).toFixed(6) + \" km<sup>2</sup>\" : (Math.round(area * 100) / 100).toFixed(3) + \" m<sup>2</sup>\";\n    }\n    if (segments_info_meausure) message = \"Area: \" + message + \" <br><div style=\\\"width: 100%; padding: 3px; border-bottom: 2px solid #ffffff\\\"></div> \" + segments_info_meausure;\n    return message;\n  },\n  formatMeasure: function formatMeasure() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometry = _ref3.geometry,\n        projection = _ref3.projection;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require2 = require('core/utils/geo'),\n        Geometry = _require2.Geometry,\n        multiGeometryToSingleGeometries = _require2.multiGeometryToSingleGeometries;\n    //\n\n\n    var geometryType = geometry.getType();\n    var unit = this.getCurrentMapUnit();\n    if (Geometry.isLineGeometryType(geometryType)) {\n      return this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: geometry\n      });\n    } else if (Geometry.isPolygonGeometryType(geometryType)) {\n      var segments = void 0;\n      if (Geometry.isMultiGeometry(geometryType)) {\n        segments = [];\n        multiGeometryToSingleGeometries(geometry).forEach(function (geometry) {\n          geometry.getLinearRing().getCoordinates().forEach(function (coordinates) {\n            return segments.push(coordinates);\n          });\n        });\n      } else segments = geometry.getLinearRing().getCoordinates();\n      return this.getAreaMessageText({ unit: unit, geometry: geometry, projection: projection, segments: segments });\n    }\n  },\n\n\n  //create and add measure tooltip\n  createMeasureTooltip: function createMeasureTooltip() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        map = _ref4.map,\n        feature = _ref4.feature;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var element = document.createElement('div');\n    element.className = 'mtooltip mtooltip-measure';\n    var tooltip = new ol.Overlay({\n      element: element,\n      offset: [0, -15],\n      positioning: 'bottom-center'\n    });\n    map.addOverlay(tooltip);\n    var unbyKey = feature.getGeometry().on('change', function (evt) {\n      var tooltipCoord = void 0;\n      var geometry = evt.target;\n      if (geometry instanceof ol.geom.Polygon) tooltipCoord = geometry.getInteriorPoint().getCoordinates();else if (geometry instanceof ol.geom.MultiPolygon) tooltipCoord = geometry.getInteriorPoints().getCoordinates()[0];else if (geometry instanceof ol.geom.LineString) tooltipCoord = geometry.getLastCoordinate();else if (geometry instanceof ol.geom.MultiLineString) tooltipCoord = geometry.getLastCoordinate();\n      var output = utils.formatMeasure({\n        geometry: geometry,\n        projection: map.getView().getProjection()\n      }, options);\n      element.innerHTML = output;\n      tooltip.setPosition(tooltipCoord);\n    });\n\n    return {\n      tooltip: tooltip,\n      unbyKey: unbyKey\n    };\n  },\n\n  /**\n   * @FIXME utility functions should be stateles (move it elsewhere)\n   */\n  getCurrentMapUnit: function getCurrentMapUnit() {\n    return _applicationState2.default.map.unit;\n  },\n\n\n  /**\n   * Method to transform length meter in a specific unti (ex.nautilcal mile)\n   * @param length\n   * @param tounit\n   * @returns {null}\n   */\n  transformMeterLength: function transformMeterLength(length, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        length = length * 0.0005399568;\n        break;\n    }\n    return length;\n  },\n  transformMeterArea: function transformMeterArea(area, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        area = area * 0.000000291553349598122862913947445759414840765222583489217190918463024037990567;\n        break;\n    }\n    return area;\n  },\n\n\n  //remove mesure tootltip\n  removeMeasureTooltip: function removeMeasureTooltip(_ref5) {\n    var map = _ref5.map,\n        tooltip = _ref5.tooltip,\n        unbyKey = _ref5.unbyKey;\n\n    map.removeOverlay(tooltip);\n    ol.Observable.unByKey(unbyKey);\n  },\n  setMeasureTooltipStatic: function setMeasureTooltipStatic(tooltip) {\n    var element = tooltip.getElement();\n    element.className = 'mtooltip mtooltip-static';\n    tooltip.setOffset([0, -7]);\n  }\n};\n\nmodule.exports = utils;\n\n},{\"core/utils/geo\":64,\"store/application-state\":368}],66:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar Feature = require('core/layers/features/feature');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar olutils = require('core/utils/ol');\nvar WORD_NUMERIC_FIELD_ESCAPE = 'GIS3W_ESCAPE_NUMERIC_FIELD_';\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level)\n */\n// const { Geometry : { is3DGeometry, removeZValueToOLFeatureGeometry } } = require('core/utils/geo');\n\n/**\n * Response parser (internal utilities)\n */\nvar utils = {\n  getHandledResponsesFromResponse: function getHandledResponsesFromResponse(_ref) {\n    var _this = this;\n\n    var response = _ref.response,\n        layers = _ref.layers,\n        projections = _ref.projections,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? false : _ref$id;\n\n    var multilayers = false;\n    var x2js = new X2JS();\n    var jsonresponse = x2js.xml_str2json(response);\n    // in case of parser return null\n    if (!jsonresponse) return [{\n      layer: layers[0],\n      features: []\n    }];\n    var FeatureCollection = jsonresponse.FeatureCollection;\n    var handledResponses = [];\n    if (FeatureCollection.featureMember) {\n      var originalFeatureMember = Array.isArray(FeatureCollection.featureMember) ? FeatureCollection.featureMember : [FeatureCollection.featureMember];\n\n      var _loop = function _loop(i) {\n        var layer = layers[i];\n        var layerName = id ? layer.getId() : 'layer' + i;\n        var featureMemberArrayAndPrefix = {\n          features: null,\n          __prefix: null\n        };\n        jsonresponse.FeatureCollection.featureMember = originalFeatureMember.filter(function (feature) {\n          var featureMember = feature[layerName];\n          if (featureMember) {\n            featureMember.g3w_fid = {\n              __prefix: feature.__prefix,\n              __text: featureMember._fid && featureMember._fid.split('.')[1]\n            };\n            if (Array.isArray(featureMember)) {\n              featureMemberArrayAndPrefix.features = featureMember;\n              featureMemberArrayAndPrefix.__prefix = feature.__prefix;\n              return false;\n            }\n            return true;\n          }\n        });\n        if (featureMemberArrayAndPrefix.features) {\n          var prefix = featureMemberArrayAndPrefix.__prefix;\n          // check if features have the same fields. If not group the features with the same fields\n          var groupFeatures = _this.groupFeaturesByFields(featureMemberArrayAndPrefix.features);\n          //check if features have different fields (multilayers)\n          if (Object.keys(groupFeatures).length > 1) {\n            // is a multilayers. Each feature has different fields\n            multilayers = true;\n            _this.handleWMSMultiLayersResponseFromQGISSERVER({\n              groupFeatures: groupFeatures,\n              prefix: prefix,\n              handledResponses: handledResponses,\n              jsonresponse: jsonresponse,\n              layer: layer,\n              projections: projections\n            });\n          } else {\n            featureMemberArrayAndPrefix.features.forEach(function (feature) {\n              var _jsonresponse$Feature;\n\n              //for Each element have to add and object contain layerName and information, and __prefix\n              jsonresponse.FeatureCollection.featureMember.push((_jsonresponse$Feature = {}, _defineProperty(_jsonresponse$Feature, layerName, feature), _defineProperty(_jsonresponse$Feature, '__prefix', prefix), _jsonresponse$Feature));\n            });\n          }\n        }\n        if (!multilayers) {\n          var handledResponse = _this.parseLayerFeatureCollection({\n            jsonresponse: jsonresponse,\n            layer: layer,\n            projections: projections\n          });\n          handledResponse && handledResponses.unshift(handledResponse[0]);\n        }\n      };\n\n      for (var i = 0; i < layers.length; i++) {\n        _loop(i);\n      }\n    }\n    return handledResponses;\n  },\n  transformFeatures: function transformFeatures(features, projections) {\n    if (features.length) {\n      if (!!features[0].getGeometry()) {\n        var mainProjection = projections.layer ? projections.layer : projections.map;\n        var invertedAxis = mainProjection.getAxisOrientation().substr(0, 2) === 'ne';\n        if (projections.layer && projections.layer.getCode() !== projections.map.getCode()) {\n          features.forEach(function (feature) {\n            var geometry = feature.getGeometry();\n            feature.setGeometry(geometry.transform(projections.layer.getCode(), projections.map.getCode()));\n          });\n        }\n        if (invertedAxis) features = this.reverseFeaturesCoordinates(features);\n      }\n    }\n    return features;\n  },\n  parseLayerFeatureCollection: function parseLayerFeatureCollection(_ref2) {\n    var _this2 = this;\n\n    var jsonresponse = _ref2.jsonresponse,\n        layer = _ref2.layer,\n        projections = _ref2.projections;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level)\n     */\n    var _require3 = require('core/utils/geo'),\n        _require3$Geometry = _require3.Geometry,\n        is3DGeometry = _require3$Geometry.is3DGeometry,\n        removeZValueToOLFeatureGeometry = _require3$Geometry.removeZValueToOLFeatureGeometry;\n\n    var x2js = new X2JS();\n    var layerFeatureCollectionXML = x2js.json2xml_str(jsonresponse);\n    var parser = new ol.format.WMSGetFeatureInfo();\n    var features = this.transformFeatures(parser.readFeatures(layerFeatureCollectionXML), projections);\n    if (layer.isGeoLayer()) {\n      var geometryType = layer.getGeometryType();\n\n      // Need to remove Z values due a incorrect addition when using\n      // ol.format.WMSGetFeatureInfo readFeatures method from XML\n      // (eg. WMS getFeatureInfo);\n      if (!is3DGeometry(geometryType)) {\n        features.forEach(function (feature) {\n          return removeZValueToOLFeatureGeometry({ feature: feature });\n        });\n      }\n    }\n\n    if (features.length && this.hasFieldsStartWithNotPermittedKey) {\n      var properties = Object.keys(features[0].getProperties());\n      var numericFields = properties.filter(function (property) {\n        return property.indexOf(WORD_NUMERIC_FIELD_ESCAPE) !== -1;\n      });\n      features.forEach(function (feature) {\n        numericFields.forEach(function (_field) {\n          var value = feature.get(_field);\n          var ori_field = _field.replace(WORD_NUMERIC_FIELD_ESCAPE, '');\n          feature.set(_this2.hasFieldsStartWithNotPermittedKey[ori_field], Array.isArray(value) ? value[0] : value);\n          feature.unset(_field);\n        });\n      });\n    }\n    return [{\n      layer: layer,\n      features: features\n    }];\n  },\n  reverseFeaturesCoordinates: function reverseFeaturesCoordinates(features) {\n    features.forEach(function (feature) {\n      var geometry = feature.getGeometry();\n      feature.setGeometry(olutils.reverseGeometry(geometry));\n    });\n    return features;\n  },\n  handleXMLStringResponseBeforeConvertToJSON: function handleXMLStringResponseBeforeConvertToJSON() {\n    var _this3 = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref3.response,\n        layers = _ref3.layers,\n        wms = _ref3.wms;\n\n    if (!response) return; // return undefined if no response\n    if (!(typeof response === 'string' || response instanceof String)) response = new XMLSerializer().serializeToString(response);\n    for (var i = 0; i < layers.length; i++) {\n      var _layer = layers[i];\n      var originalName = wms && _layer.isWmsUseLayerIds() ? _layer.getId() : _layer.getName();\n      var sanitizeLayerName = wms ? originalName.replace(/[/\\s]/g, '') : originalName.replace(/[/\\s]/g, '_');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\'+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\)+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\(+)/, '');\n      var reg = new RegExp('qgs:' + sanitizeLayerName, \"g\");\n      response = response.replace(reg, 'qgs:layer' + i);\n    }\n    // add match numeric value integer or float\n    var arrayQGS = [].concat(_toConsumableArray(response.matchAll(/qgs:(\\d+(?:\\.\\d+)?)(\\w+)/g)), _toConsumableArray(response.matchAll(/qgs:(\\w+):(\\w+)/g)));\n    arrayQGS.forEach(function (find, idx) {\n      if (idx % 2 === 0) {\n        if (!_this3.hasFieldsStartWithNotPermittedKey) _this3.hasFieldsStartWithNotPermittedKey = {};\n        var originalField = find[0].replace('qgs:', '');\n        _this3.hasFieldsStartWithNotPermittedKey['' + find[1] + find[2]] = originalField;\n        var regex = new RegExp('' + find[0], \"g\");\n        response = response.replace(regex, 'qgs:' + WORD_NUMERIC_FIELD_ESCAPE + find[1] + find[2]);\n      }\n    });\n    //PATCH id strange\n    var strangeChar = new RegExp('' + String.fromCharCode(0), \"g\");\n    response = response.replace(strangeChar, '0');\n    ///\n    return response;\n  },\n  groupFeaturesByFields: function groupFeaturesByFields(features) {\n    return _.groupBy(features, function (feature) {\n      return Object.keys(feature);\n    });\n  },\n  handleWMSMultiLayersResponseFromQGISSERVER: function handleWMSMultiLayersResponseFromQGISSERVER() {\n    var _this4 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        groupFeatures = _ref4.groupFeatures,\n        prefix = _ref4.prefix,\n        handledResponses = _ref4.handledResponses,\n        jsonresponse = _ref4.jsonresponse,\n        layer = _ref4.layer,\n        projections = _ref4.projections;\n\n    // is a multilayers. Each feature has different fields. If group has more that one feature spit it and create single features\n    Object.keys(groupFeatures).forEach(function (key, index) {\n      var features = groupFeatures[key];\n      features.forEach(function (feature, sub_index) {\n        var _jsonresponse$Feature2;\n\n        jsonresponse.FeatureCollection.featureMember = (_jsonresponse$Feature2 = {}, _defineProperty(_jsonresponse$Feature2, 'layer' + index + '_' + sub_index, feature), _defineProperty(_jsonresponse$Feature2, '__prefix', prefix), _jsonresponse$Feature2);\n        var handledResponse = _this4.parseLayerFeatureCollection({\n          jsonresponse: jsonresponse,\n          layer: layer,\n          projections: projections\n        });\n        if (handledResponse) {\n          var response = handledResponse[0];\n          response.layer = layer;\n          handledResponses.unshift(response);\n        }\n      });\n    });\n  }\n};\n\n/**\n * Response parser (content types)\n */\nvar contenttypes = {\n  'application/json': function applicationJson() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$layers = _ref5.layers,\n        layers = _ref5$layers === undefined ? [] : _ref5$layers,\n        response = _ref5.response,\n        projections = _ref5.projections,\n        _ref5$wms = _ref5.wms,\n        wms = _ref5$wms === undefined ? true : _ref5$wms;\n\n    var _require4 = require('core/utils/geo'),\n        sanitizeFidFeature = _require4.sanitizeFidFeature;\n\n    var layersFeatures = [];\n    var layersId = layers.map(function (layer) {\n      layersFeatures.push({\n        layer: layer,\n        features: []\n      });\n      return wms ? layer.getWMSLayerName() : layer.getWFSLayerName();\n    });\n    var data = response;\n    var parseData = function parseData() {\n      var defaultDataProjection = projections.layer || projections.map;\n      var geojson = new ol.format.GeoJSON({\n        defaultDataProjection: defaultDataProjection,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    };\n    var features = data && parseData();\n    features.filter(function (feature) {\n      var featureId = feature.getId();\n      var g3w_fid = sanitizeFidFeature(featureId);\n      // in case of wms getfeature without filter return string contain layerName or layerid\n      var index = featureId == g3w_fid ? 0 : layersId.indexOf(featureId);\n      if (index !== -1) {\n        var fields = layersFeatures[index].layer.getFields().filter(function (field) {\n          return field.show;\n        });\n        var properties = feature.getProperties();\n        feature.set(_constant.G3W_FID, g3w_fid);\n        fields.forEach(function (field) {\n          if (properties[field.name] === undefined) {\n            properties[field.label] !== undefined && feature.set(field.name, properties[field.label]);\n          }\n        });\n        layersFeatures[index].features.push(feature);\n      }\n    });\n    return layersFeatures;\n  },\n  'application/geojson': function applicationGeojson() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref6.layers,\n        projections = _ref6.projections,\n        response = _ref6.response;\n\n    var handleResponse = [];\n    var parserGEOJson = Parsers.vector.get({\n      type: 'geojson'\n    });\n    if (response) {\n      layers.forEach(function (layer) {\n        handleResponse.push({\n          layer: layer,\n          features: parserGEOJson(response, {})\n        });\n      });\n    }\n    return handleResponse;\n  },\n  'text/html': function textHtml() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref7.layers,\n        response = _ref7.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/plain': function textPlain() {\n    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref8.layers,\n        response = _ref8.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/gml': function textGml(_ref9) {\n    var layers = _ref9.layers,\n        response = _ref9.response;\n\n    var parserGML = Parsers.vector.get({\n      type: 'gml'\n    });\n    var features = parserGML({\n      data: response,\n      layer: layers[0]\n    });\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        features: features\n      };\n    });\n  },\n  'application/vnd.ogc.gml': function applicationVndOgcGml() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref10.response,\n        projections = _ref10.projections,\n        layers = _ref10.layers,\n        _ref10$wms = _ref10.wms,\n        wms = _ref10$wms === undefined ? true : _ref10$wms;\n\n    return utils.getHandledResponsesFromResponse({\n      response: utils.handleXMLStringResponseBeforeConvertToJSON({\n        layers: layers,\n        response: response,\n        wms: wms\n      }),\n      layers: layers,\n      projections: projections\n    });\n  },\n  not_supported_format: function not_supported_format() {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref11$layers = _ref11.layers,\n        layers = _ref11$layers === undefined ? [] : _ref11$layers;\n\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        rawdata: t('warning.not_supported_format')\n      };\n    });\n  }\n};\n\n/**\n * Vector parser\n */\nvar VectorParser = function VectorParser() {\n  // return the right parser for the request\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'geojson':\n      case 'json':\n        parser = this._parseLayerGeoJSON;\n        break;\n      case 'gml':\n        parser = this._parseLayermsGMLOutput;\n        break;\n      default:\n        parser = this._parseLayerGeoJSON;\n    }\n    return parser;\n  };\n  this._parseLayermsGMLOutput = function (_ref12) {\n    var data = _ref12.data,\n        layer = _ref12.layer;\n\n    try {\n      var gml = void 0;\n      // to extract gml from multiple (Tuscany region)\n      if (data.substr(0, 2) !== '--') gml = data;else {\n        var gmlTag1 = new RegExp(\"<([^ ]*)FeatureCollection\");\n        var gmlTag2 = new RegExp(\"<([^ ]*)msGMLOutput\");\n        var boundary = '\\r\\n--';\n        var parts = data.split(new RegExp(boundary));\n        parts.forEach(function (part) {\n          var isGmlPart = part.search(gmlTag1) > -1 ? true : part.search(gmlTag2) > -1 ? true : false;\n          if (isGmlPart) {\n            gml = part.substr(part.indexOf(\"<?xml\"));\n          }\n        });\n      }\n      var layers = layer.getQueryLayerOrigName();\n      var parser = new ol.format.WMSGetFeatureInfo({\n        layers: layers\n      });\n      return parser.readFeatures(gml);\n    } catch (err) {\n      return [];\n    }\n  };\n\n  this._parseLayerGeoJSON = function (data, options) {\n    try {\n      data = toRawType(data) === 'String' ? JSON.parse(data) : data;\n      var crs = options.crs,\n          mapCrs = options.mapCrs;\n\n      var geojson = new ol.format.GeoJSON({\n        dataProjection: crs,\n        featureProjection: mapCrs || crs,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    } catch (err) {\n      return [];\n    }\n  };\n};\n\n/**\n * Table parser\n */\nvar TableParser = function TableParser() {\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'json':\n        parser = this._parserJSON.bind(this);\n        break;\n      default:\n        parser = this._parserJSON.bind(this);\n    }\n    return parser;\n  };\n\n  this._parserJSON = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _data$features = data.features,\n        features = _data$features === undefined ? [] : _data$features;\n\n    return features.map(function (_feature) {\n      var id = _feature.id,\n          properties = _feature.properties;\n\n      var feature = new Feature();\n      feature.setProperties(properties);\n      feature.setId(id);\n      return feature;\n    });\n  };\n};\n\nvar Parsers = {\n  vector: new VectorParser(),\n  table: new TableParser(),\n  /**\n   * @TODO wrap within dedicated class (ie. new ResponseParser())\n   */\n  response: {\n    get: function get(type) {\n      return contenttypes[type] || contenttypes.not_supported_format;\n    },\n\n    utils: {\n      getTimeoutData: function getTimeoutData() {\n        var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        return layers.map(function (layer) {\n          return {\n            layer: layer,\n            rawdata: 'timeout'\n          };\n        });\n      }\n    }\n  }\n};\n\nmodule.exports = Parsers;\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67}],67:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\n\n/**\n * Decimal adjustment of a number.\n *\n * @param {String}  type  The type of adjustment.\n * @param {Number}  value The number.\n * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n * @returns {Number} The adjusted value.\n */\nfunction decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) return Math[type](value);\n  value = +value;\n  exp = +exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math[type](+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\n// Decimal round\nif (!Math.round10) {\n  Math.round10 = function (value, exp) {\n    return decimalAdjust('round', value, exp);\n  };\n}\n// Decimal floor\nif (!Math.floor10) {\n  Math.floor10 = function (value, exp) {\n    return decimalAdjust('floor', value, exp);\n  };\n}\n// Decimal ceil\nif (!Math.ceil10) {\n  Math.ceil10 = function (value, exp) {\n    return decimalAdjust('ceil', value, exp);\n  };\n}\n\nString.prototype.hashCode = function () {\n  var hash = 0,\n      i = void 0,\n      chr = void 0,\n      len = void 0;\n  if (this.length === 0) return hash;\n  for (i = 0, len = this.length; i < len; i++) {\n    chr = this.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n};\n\nvar Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0,\n        s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n      n = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n        u = a = 64;\n      } else if (isNaN(i)) {\n        a = 64;\n      }t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n    }return t;\n  }, decode: function decode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0;var s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");while (f < e.length) {\n      s = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n        t = t + String.fromCharCode(r);\n      }if (a != 64) {\n        t = t + String.fromCharCode(i);\n      }\n    }t = Base64._utf8_decode(t);return t;\n  }, _utf8_encode: function _utf8_encode(e) {\n    e = e.replace(/rn/g, \"n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n      var r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);\n      } else if (r > 127 && r < 2048) {\n        t += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n      } else {\n        t += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n      }\n    }return t;\n  }, _utf8_decode: function _utf8_decode(e) {\n    var t = \"\";var n = 0;var r = c1 = c2 = 0;while (n < e.length) {\n      r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);n++;\n      } else if (r > 191 && r < 224) {\n        c2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n      } else {\n        c2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n      }\n    }return t;\n  } };\n\nvar _uid = 0;\n\nvar utils = {\n  getUniqueDomId: function getUniqueDomId() {\n    _uid += 1;\n    return _uid + '_' + Date.now();\n  },\n  uniqueId: function uniqueId() {\n    return utils.getUniqueDomId();\n  },\n  basemixin: function basemixin(destination, source) {\n    return utils.merge(destination.prototype, source);\n  },\n  mixin: function mixin(destination, source) {\n    var sourceInstance = new source();\n    utils.merge(destination, sourceInstance);\n    utils.merge(destination.prototype, source.prototype);\n  },\n  merge: function merge(destination, source) {\n    var key = void 0;\n    for (key in source) {\n      if (utils.hasOwn(source, key)) destination[key] = source[key];\n    }\n  },\n  hasOwn: function hasOwn(object, key) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n  },\n\n  // google closure library impememtation\n  inherit: function inherit(childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n  },\n\n  // goole closure library implementation\n  base: function base(me, opt_methodName, var_args) {\n    // who call base\n    // noinspection JSAnnotator\n    var caller = arguments.callee.caller;\n    if (caller.superClass_) {\n      // This function constructor (that inherit from superClass_). Call the superclass constructor.\n      //It is a easy way to cal super class in binding to this\n      return caller.superClass_.constructor.apply(me, Array.prototype.slice.call(arguments, 1));\n    }\n    var args = Array.prototype.slice.call(arguments, 2);\n    var foundCaller = false;\n    //constructor is the constructor function of the object\n    for (var ctor = me.constructor; ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n      if (ctor.prototype[opt_methodName] === caller) {\n        foundCaller = true;\n      } else if (foundCaller) {\n        return ctor.prototype[opt_methodName].apply(me, args);\n      }\n    }\n    // If we did not find the caller in the prototype chain,\n    // then one of two things happened:\n    // 1) The caller is an instance method.\n    // 2) This method was not called by the right caller.\n    if (me[opt_methodName] === caller) {\n      // call the function from prototype object\n      return me.constructor.prototype[opt_methodName].apply(me, args);\n    } else {\n      throw Error('base called from a method of one name ' + 'to a method of a different name');\n    }\n  },\n  noop: function noop() {},\n  truefnc: function truefnc() {\n    return true;\n  },\n  falsefnc: function falsefnc() {\n    return true;\n  },\n  resolve: function resolve(value) {\n    var d = $.Deferred();\n    d.resolve(value);\n    return d.promise();\n  },\n  reject: function reject(value) {\n    var d = $.Deferred();\n    d.reject(value);\n    return d.promise();\n  },\n  getValueFromG3WObjectEvent: function getValueFromG3WObjectEvent() {\n    //TODO\n  },\n  getAjaxResponses: function getAjaxResponses() {\n    var listRequests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var requestsLenght = listRequests.length;\n    var d = $.Deferred();\n    var DoneRespones = [];\n    var FailedResponses = [];\n    listRequests.forEach(function (request) {\n      request.then(function (response) {\n        DoneRespones.push(response);\n      }).fail(function (err) {\n        FailedResponses.push(err);\n      }).always(function () {\n        requestsLenght = requestsLenght > 0 ? requestsLenght - 1 : requestsLenght;\n        if (requestsLenght === 0) d.resolve({\n          done: DoneRespones,\n          fail: FailedResponses\n        });\n      });\n    });\n    return d.promise();\n  },\n\n  trimValue: function trimValue(value) {\n    return value.replace(/ /g, '');\n  },\n  /**\n   * Method to check if is a url\n   * @param url\n   * @returns {boolean}\n   */\n  isURL: function isURL(url) {\n    return url && url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n  },\n\n  sanitizeUrl: function sanitizeUrl() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref.url,\n        _ref$reserverParamete = _ref.reserverParameters,\n        reserverParameters = _ref$reserverParamete === undefined ? [] : _ref$reserverParamete;\n\n    var checkUrl = new URL(url);\n    reserverParameters.forEach(function (param) {\n      var _params = [param.toUpperCase(), param.toLowerCase()];\n      for (var i = 0; i < 2; i++) {\n        var _param = _params[i];\n        var _value = checkUrl.searchParams.get(_param);\n        if (_value) {\n          url = url.replace(_param + '=' + _value, '');\n          break;\n        }\n      }\n    });\n    return url;\n  },\n  convertObjectToUrlParams: function convertObjectToUrlParams() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return $.param(params);\n  },\n\n  // Appends query parameters to a URI\n  appendParams: function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n      if (params[k] !== null && params[k] !== undefined) {\n        keyParams.push(k + '=' + encodeURIComponent(params[k]));\n      }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n  },\n  imageToDataURL: function imageToDataURL(_ref2) {\n    var src = _ref2.src,\n        _ref2$type = _ref2.type,\n        type = _ref2$type === undefined ? 'image/jpeg' : _ref2$type,\n        _ref2$callback = _ref2.callback,\n        callback = _ref2$callback === undefined ? function () {} : _ref2$callback;\n\n    var image = new Image();\n    image.onload = function () {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      context.drawImage(this, 0, 0);\n      var dataURL = canvas.toDataURL(type);\n      callback(dataURL);\n    };\n    image.src = src;\n  },\n  capitalize_first_letter: function capitalize_first_letter(string) {\n    return '' + string[0].toUpperCase() + string.slice(1);\n  },\n\n  Base64: Base64,\n  toRawType: function toRawType(value) {\n    var _toString = Object.prototype.toString;\n    return _toString.call(value).slice(8, -1);\n  },\n  isEmptyObject: function isEmptyObject(obj) {\n    return JSON.stringify(obj) === '{}';\n  },\n\n  // build throttle function\n  throttle: function throttle(fnc) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var lastCall = void 0;\n    return function () {\n      var previousCall = lastCall;\n      lastCall = Date.now();\n      if (previousCall === undefined // function is being called for the first time\n      || lastCall - previousCall > delay) {\n        // throttle time has elapsed\n        fnc.apply(undefined, arguments);\n      }\n    };\n  },\n\n  //build debounce function\n  debounce: function debounce(func) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var timeout = void 0;\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        func.apply(undefined, args);\n      }, delay);\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    return '#' + ((1 << 24) * Math.random() | 0).toString(16);\n  },\n  copyUrl: function copyUrl(url) {\n    var tempinput = document.createElement('input');\n    document.body.appendChild(tempinput);\n    tempinput.value = url;\n    tempinput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempinput);\n  },\n  downloadFile: function downloadFile() {\n    var _this = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        filename = _ref3.filename,\n        content = _ref3.content,\n        url = _ref3.url,\n        _ref3$mime_type = _ref3.mime_type,\n        mime_type = _ref3$mime_type === undefined ? 'text/plain' : _ref3$mime_type;\n\n    var download = function download(blob) {\n      var temapAncor = document.createElement('a');\n      temapAncor.setAttribute('href', window.URL.createObjectURL(blob));\n      temapAncor.setAttribute('download', filename);\n      temapAncor.dataset.downloadurl = [mime_type, temapAncor.download, temapAncor.href].join(':');\n      temapAncor.click();\n      temapAncor = null;\n    };\n    return new Promise(function (resolve, reject) {\n      if (content) {\n        var blob = new Blob([content], { type: mime_type });\n        download(blob);\n        resolve();\n      } else if (url) {\n        fetch(url).then(function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n            var _ref5, message;\n\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(response.status === 200)) {\n                      _context.next = 6;\n                      break;\n                    }\n\n                    mime_type = mime_type || response.headers.get('content-type');\n                    filename = filename || response.headers.get('content-disposition').split('filename=').length ? response.headers.get('content-disposition').split('filename=')[1] : 'g3w_download_file';\n                    return _context.abrupt('return', response.blob());\n\n                  case 6:\n                    if (!(response.status === 400 || response.status === 500)) {\n                      _context.next = 12;\n                      break;\n                    }\n\n                    _context.next = 9;\n                    return response.json();\n\n                  case 9:\n                    _ref5 = _context.sent;\n                    message = _ref5.message;\n                    return _context.abrupt('return', Promise.reject(message));\n\n                  case 12:\n                  case 'end':\n                    return _context.stop();\n                }\n              }\n            }, _callee, _this);\n          }));\n\n          return function (_x7) {\n            return _ref4.apply(this, arguments);\n          };\n        }()).then(function (blob) {\n          download(blob);\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      }\n    });\n  },\n  downloadCSVLayerFeatures: function downloadCSVLayerFeatures() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref6.layer,\n        _ref6$alias = _ref6.alias,\n        alias = _ref6$alias === undefined ? true : _ref6$alias;\n\n    var _require = require('core/utils/geo'),\n        getAlphanumericPropertiesFromFeature = _require.getAlphanumericPropertiesFromFeature;\n    //get headers\n\n\n    var attributes = Object.keys(layer.features[0].attributes);\n    var properties = getAlphanumericPropertiesFromFeature(attributes);\n    var headers = !alias ? properties : properties.map(function (property) {\n      var attribute = layer.attributes.find(function (attribute) {\n        return attribute.name === property;\n      });\n      return attribute ? attribute.label : property;\n    });\n    var items = layer.features.map(function (feature) {\n      var attributes = feature.attributes;\n      var item = {};\n      properties.forEach(function (property, index) {\n        var key = !alias && property || headers[index];\n        item[key] = attributes[property];\n      });\n      return item;\n    });\n\n    utils.downloadCSV({\n      filename: layer.id,\n      items: items\n    });\n  },\n  downloadCSV: function downloadCSV() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$filename = _ref7.filename,\n        filename = _ref7$filename === undefined ? utils.getUniqueDomId() : _ref7$filename,\n        _ref7$items = _ref7.items,\n        items = _ref7$items === undefined ? [] : _ref7$items;\n\n    function convertToCSV(items) {\n      var str = '';\n      for (var i = 0; i < items.length; i++) {\n        var line = '';\n        for (var index in items[i]) {\n          if (line !== '') line += ';';\n          line += items[i][index];\n        }\n        str += line + '\\r\\n';\n      }\n      return str;\n    }\n    var exportedFilenmae = filename + '.csv';\n    var csv = convertToCSV(items);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    if (navigator.msSaveBlob) {\n      // IE 10+\n      navigator.msSaveBlob(blob, exportedFilenmae);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) {\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", exportedFilenmae);\n        link.style.visibility = 'hidden';\n        link.click();\n      }\n    }\n  },\n\n  /**\n   * Method to set timeout\n   * @param timeout\n   * @param resolve\n   * @param data\n   * @returns {number}\n   */\n  getTimeoutPromise: function getTimeoutPromise(_ref8) {\n    var _ref8$timeout = _ref8.timeout,\n        timeout = _ref8$timeout === undefined ? _constant.TIMEOUT : _ref8$timeout,\n        resolve = _ref8.resolve,\n        data = _ref8.data;\n\n    var timeoutKey = setTimeout(function () {\n      resolve(data);\n    }, timeout);\n    return timeoutKey;\n  },\n\n  XHR: {\n    get: function get() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref9.url,\n          _ref9$params = _ref9.params,\n          params = _ref9$params === undefined ? {} : _ref9$params;\n\n      return new Promise(function (resolve, reject) {\n        url ? $.get(url, params).then(function (response) {\n          resolve(response);\n        }).fail(function (error) {\n          return reject(error);\n        }) : reject('No url');\n      });\n    },\n    post: function post() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref10.url,\n          data = _ref10.data,\n          _ref10$formdata = _ref10.formdata,\n          formdata = _ref10$formdata === undefined ? false : _ref10$formdata,\n          contentType = _ref10.contentType;\n\n      var getResponseStatusHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (formdata) {\n          var _formdata = new FormData();\n          for (var param in data) {\n            _formdata.append(param, data[param]);\n          }\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: _formdata,\n            processData: false,\n            contentType: false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else if (contentType) {\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: data,\n            processData: false,\n            contentType: contentType || false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else {\n          $.post(url, data).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        }\n      });\n    },\n    htmlescape: function htmlescape(string) {\n      string = string.replace(\"&\", \"&amp;\");\n      string = string.replace(\"<\", \"&lt;\");\n      string = string.replace(\">\", \"&gt;\");\n      string = string.replace('\"', \"&quot;\");\n      return string;\n    },\n    fileDownload: function fileDownload() {\n      var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref11.url,\n          data = _ref11.data,\n          _ref11$httpMethod = _ref11.httpMethod,\n          httpMethod = _ref11$httpMethod === undefined ? \"POST\" : _ref11$httpMethod;\n\n      var timeoutId = void 0;\n      return new Promise(function (resolve, reject) {\n        var downloadPromise = $.fileDownload(url, {\n          httpMethod: httpMethod,\n          data: data\n        });\n        timeoutId = setTimeout(function () {\n          reject('Timeout');\n          downloadPromise.abort();\n        }, _constant.TIMEOUT);\n        downloadPromise.done(function () {\n          return resolve();\n        }).fail(function () {\n          return reject();\n        }).always(function () {\n          clearTimeout(timeoutId);\n        });\n      });\n    }\n  },\n  createSingleFieldParameter: function createSingleFieldParameter(_ref12) {\n    var field = _ref12.field,\n        value = _ref12.value,\n        _ref12$operator = _ref12.operator,\n        operator = _ref12$operator === undefined ? 'eq' : _ref12$operator,\n        _ref12$logicop = _ref12.logicop,\n        logicop = _ref12$logicop === undefined ? null : _ref12$logicop,\n        _ref12$search_endpoin = _ref12.search_endpoint,\n        search_endpoint = _ref12$search_endpoin === undefined ? \"api\" : _ref12$search_endpoin;\n\n    if (search_endpoint === 'api') {\n      logicop = logicop && '|' + logicop;\n      if (Array.isArray(value)) {\n        var filter = '';\n        var valueLenght = value.length;\n        value.forEach(function (value, index) {\n          filter += field + '|' + operator + '|' + encodeURIComponent(value) + (index < valueLenght - 1 ? logicop + ',' : '');\n        });\n        return filter;\n      } else return field + '|' + operator.toLowerCase() + '|' + encodeURIComponent(value) + (logicop || '');\n    } else {\n      if (Array.isArray(value)) {\n        var _filter = '';\n        var _valueLenght = value.length;\n        value.forEach(function (value, index) {\n          _filter += '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\' ' + (index < _valueLenght - 1 ? logicop + ' ' : '');\n        });\n        return _filter;\n      } else return '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\'';\n    }\n  },\n  createFilterFromString: function createFilterFromString(_ref13) {\n    var layer = _ref13.layer,\n        _ref13$search_endpoin = _ref13.search_endpoint,\n        search_endpoint = _ref13$search_endpoin === undefined ? 'ows' : _ref13$search_endpoin,\n        _ref13$filter = _ref13.filter,\n        filter = _ref13$filter === undefined ? '' : _ref13$filter;\n\n    var stringFilter = filter;\n    switch (search_endpoint) {\n      case 'ows':\n        var layerName = layer.getWMSLayerName();\n        var expression = new Expression({\n          layerName: layerName,\n          filter: stringFilter\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        //remove all blank space between operators\n        Object.values(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (operator) {\n          var regexoperator = new RegExp('\\\\s+' + operator + '\\\\s+', 'g');\n          stringFilter = stringFilter.replace(regexoperator, '' + operator);\n          var regexsinglequote = new RegExp('\\'' + operator, 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n          regexsinglequote = new RegExp(operator + '\\'', 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n        });\n        stringFilter = stringFilter.replace(/'$/g, '');\n        filter = stringFilter.replace(/\"/g, '');\n        Object.entries(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (_ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              key = _ref15[0],\n              value = _ref15[1];\n\n          var re = new RegExp(value, \"g\");\n          var replaceValue = value === 'AND' || value === 'OR' ? '|' + key + ',' : '|' + key + '|';\n          filter = filter.replace(re, replaceValue);\n        });\n        //encode value\n        filter = filter.split('|').map(function (value, index) {\n          return (index + 1) % 3 === 0 ? encodeURIComponent(value) : value;\n        }).join('|');\n        break;\n    }\n    return filter;\n  },\n\n  /**\n   *\n   * @param layer single layer or an array of layers\n   * @param search_endpoint\n   * @param inputs\n   * @returns {*}\n   */\n  createFilterFormInputs: function createFilterFormInputs(_ref16) {\n    var layer = _ref16.layer,\n        _ref16$search_endpoin = _ref16.search_endpoint,\n        search_endpoint = _ref16$search_endpoin === undefined ? 'ows' : _ref16$search_endpoin,\n        _ref16$inputs = _ref16.inputs,\n        inputs = _ref16$inputs === undefined ? [] : _ref16$inputs;\n\n    var isLayerArray = Array.isArray(layer);\n    var filter = void 0;\n    var filters = []; // in case of layer is an array\n    switch (search_endpoint) {\n      case 'ows':\n        if (isLayerArray) {\n          layer.forEach(function (layer) {\n            var expression = new Expression();\n            var layerName = layer.getWMSLayerName();\n            expression.createExpressionFromFilter(inputs, layerName);\n            filter = new Filter();\n            filter.setExpression(expression.get());\n            filters.push(filter);\n          });\n        } else {\n          var expression = new Expression();\n          var layerName = layer.getWMSLayerName();\n          expression.createExpressionFromFilter(inputs, layerName);\n          filter = new Filter();\n          filter.setExpression(expression.get());\n        }\n        break;\n      case 'api':\n        var inputsLength = inputs.length - 1;\n        var fields = inputs.map(function (input, index) {\n          return utils.createSingleFieldParameter({\n            field: input.attribute,\n            value: input.value,\n            operator: input.operator,\n            logicop: index < inputsLength ? input.logicop : null\n          });\n        });\n        filter = fields.length ? fields.join() : undefined;\n        isLayerArray && layer.forEach(function () {\n          return filters.push(filter);\n        });\n        break;\n    }\n    return isLayerArray ? filters : filter;\n  },\n\n  //method to create filter from field based on search_endpoint\n  createFilterFormField: function createFilterFormField(_ref17) {\n    var layer = _ref17.layer,\n        _ref17$search_endpoin = _ref17.search_endpoint,\n        search_endpoint = _ref17$search_endpoin === undefined ? 'ows' : _ref17$search_endpoin,\n        field = _ref17.field,\n        value = _ref17.value,\n        _ref17$operator = _ref17.operator,\n        operator = _ref17$operator === undefined ? 'eq' : _ref17$operator;\n\n    var filter = void 0;\n    switch (search_endpoint) {\n      case 'ows':\n        var expression = new Expression();\n        var layerName = layer.getWMSLayerName();\n        expression.createExpressionFromField({\n          layerName: layerName,\n          field: field,\n          value: value,\n          operator: operator\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        filter = utils.createSingleFieldParameter({\n          field: field,\n          value: value,\n          operator: operator\n        });\n        break;\n    }\n    return filter;\n  },\n  splitContextAndMethod: function splitContextAndMethod() {\n    var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var _string$split = string.split(':'),\n        _string$split2 = _slicedToArray(_string$split, 2),\n        context = _string$split2[0],\n        method = _string$split2[1];\n\n    return {\n      context: context,\n      method: method\n    };\n  },\n\n\n  /**\n   * Convert Hex value color to RGB array\n   * @param color\n   * @returns {number[]}\n   */\n  colorHEXToRGB: function colorHEXToRGB() {\n    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#FFFFFF';\n\n    var r = parseInt(color.substr(1, 2), 16);\n    var g = parseInt(color.substr(3, 2), 16);\n    var b = parseInt(color.substr(5, 2), 16);\n    return [r, g, b];\n  },\n\n  /**\n   * Covert datetime format from Qgis format to Moment\n   * @param datetimeformat\n   * @returns {*}\n   */\n  convertQGISDateTimeFormatToMoment: function convertQGISDateTimeFormatToMoment(datetimeformat) {\n    datetimeformat = datetimeformat.replace(/y/g, 'Y');\n    var matchDayInDate = datetimeformat.match(/d/g);\n    if (matchDayInDate && matchDayInDate.length < 3) datetimeformat = datetimeformat.replace(/d/g, 'D');\n    return datetimeformat;\n  },\n\n\n  /**\n   * Sort an array of strings (alphabetical order)\n   * \n   * @since 3.8.0\n   */\n  sortAlphabeticallyArray: function sortAlphabeticallyArray(arr) {\n    return arr.sort(function (a, b) {\n      return a.localeCompare(b, undefined, { sensitivity: 'base' });\n    });\n  },\n\n\n  /**\n   * Sort an array of numbers (natural order)\n   * \n   * @since 3.8.0\n   */\n  sortNumericArray: function sortNumericArray(arr) {\n    var ascending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    return arr.sort(function (a, b) {\n      return ascending ? a - b : b - a;\n    });\n  }\n};\n\nmodule.exports = utils;\n\n},{\"app/constant\":4,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/utils/geo\":64}],68:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    truefnc = _require.truefnc;\n\nvar InputValidators = {\n  validators: {\n    float: function float() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var float = Number(1 * value);\n        return !Number.isNaN(float);\n      };\n    },\n    integer: function integer() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var integer = 1 * value;\n        return !_.isNaN(integer) ? Number.isSafeInteger(integer) && integer <= 2147483647 : false;\n      };\n    },\n    checkbox: function checkbox() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var values = this.options.values || [];\n        return values.indexOf(value) !== -1;\n      };\n    },\n    datetimepicker: function datetimepicker() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value, options) {\n        var fielddatetimeformat = options.fielddatetimeformat;\n        return moment(value, fielddatetimeformat, true).isValid();\n      };\n    },\n    text: function text() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    string: function string() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    radio: function radio() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    default: function _default() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    range: function range() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var min = options.min,\n          max = options.max;\n\n      this.validate = function (value) {\n        value = 1 * value;\n        return value >= min && value <= max;\n      };\n    }\n  },\n\n  get: function get(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var Validator = this.validators[type] || this.validators.default;\n    return new Validator(options);\n  }\n};\n\nmodule.exports = InputValidators;\n\n},{\"core/utils/utils\":67}],69:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Queque = require('core/workflow/queque');\n\n//Class Flow of workflow step by step\nfunction Flow() {\n  var steps = [];\n  var inputs = void 0;\n  var counter = 0;\n  var context = null;\n  var d = void 0;\n  var _workflow = void 0;\n  this.queques = {\n    end: new Queque(),\n    micro: new Queque()\n  };\n  //start workflow\n  this.start = function (workflow) {\n    d = $.Deferred();\n    if (counter > 0) {\n      console.log(\"reset workflow before restarting\");\n    }\n    _workflow = workflow;\n    inputs = workflow.getInputs();\n    context = workflow.getContext();\n    steps = workflow.getSteps();\n    // check if there are steps\n    if (steps && steps.length) {\n      //run step (first)\n      this.runStep(steps[0], inputs, context);\n    }\n    // return a promise that will be reolved if all step go right\n    return d.promise();\n  };\n\n  //run step\n  this.runStep = function (step, inputs) {\n    var _this = this;\n\n    //run step that run task\n    _workflow.setMessages({\n      help: step.state.help\n    });\n    var runMicroTasks = this.queques.micro.getLength();\n    step.run(inputs, context, this.queques).then(function (outputs) {\n      runMicroTasks && _this.queques.micro.run();\n      _this.onDone(outputs);\n    }).fail(function (error) {\n      return _this.onError(error);\n    });\n  };\n\n  //check if all step are resolved\n  this.onDone = function (outputs) {\n    counter++;\n    if (counter === steps.length) {\n      counter = 0;\n      d.resolve(outputs);\n      return;\n    }\n    this.runStep(steps[counter], outputs);\n  };\n\n  // in case of error\n  this.onError = function (err) {\n    counter = 0;\n    this.clearQueques();\n    d.reject(err);\n  };\n\n  // stop flow\n  this.stop = function () {\n    var d = $.Deferred();\n    steps[counter].isRunning() ? steps[counter].stop() : null;\n    this.clearQueques();\n    if (counter > 0) {\n      // set counter to 0\n      counter = 0;\n      // reject flow\n      d.reject();\n    } else {\n      //reject to force rollback session\n      d.resolve();\n    }\n    return d.promise();\n  };\n  base(this);\n}\n\ninherit(Flow, G3WObject);\n\nvar proto = Flow.prototype;\n\nproto.clearQueques = function () {\n  this.queques.micro.clear();\n  this.queques.end.clear();\n};\n\nmodule.exports = Flow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"core/workflow/queque\":70}],70:[function(require,module,exports){\nfunction Queque() {\n  this.tasks = [];\n}\n\nvar proto = Queque.prototype;\n\nproto.addTask = function (task) {\n  this.tasks.push(task);\n};\n\nproto.run = function () {\n  var reverse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  while (this.tasks.length) {\n    var task = reverse ? this.tasks.pop() : this.tasks.shift();\n    task();\n  }\n};\n\nproto.flush = function () {\n  return this.tasks.splice(0);\n};\n\nproto.getLength = function () {\n  return this.tasks.length;\n};\n\nproto.clear = function () {\n  this.run();\n  this.tasks = [];\n};\n\nmodule.exports = Queque;\n\n},{}],71:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Step() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$task = options.task,\n      task = _options$task === undefined ? null : _options$task,\n      _options$outputs = options.outputs,\n      outputs = _options$outputs === undefined ? null : _options$outputs,\n      escKeyPressEventHandler = options.escKeyPressEventHandler;\n\n  this._inputs = inputs;\n  this._context = context;\n  this._task = task;\n  this._outputs = outputs;\n  //dynamic state of step\n  this.state = {\n    id: options.id || null,\n    name: options.name || null,\n    help: options.help || null, // help to show wat the user has to do\n    running: false, // running\n    error: null, // error\n    message: options.message || null // message\n  };\n  escKeyPressEventHandler && this.registerEscKeyEvent(escKeyPressEventHandler);\n}\n\ninherit(Step, G3WObject);\n\nvar proto = Step.prototype;\n\n//bind interrupt event on keys escape pressed\n\nproto.escKeyUpHandler = function (evt) {\n  var _evt$data = evt.data,\n      task = _evt$data.task,\n      callback = _evt$data.callback;\n\n  if (evt.key === 'Escape') callback({\n    task: task\n  });\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n  $(document).on('keyup', {\n    callback: callback,\n    task: this.getTask()\n  }, this.escKeyUpHandler);\n};\n\nproto.registerEscKeyEvent = function (callback) {\n  var _this = this;\n\n  this.on('run', function () {\n    return _this.bindEscKeyUp(callback);\n  });\n  this.on('stop', function () {\n    return _this.unbindEscKeyUp();\n  });\n};\n\n// End of handle key esc pressed\n\n// method to start task\nproto.run = function (inputs, context, queques) {\n  var _this2 = this;\n\n  //emit run\n  this.emit('run', {\n    inputs: inputs,\n    context: context\n  });\n  var d = $.Deferred();\n  if (this._task) {\n    try {\n      // change state to running\n      this.state.running = true;\n      this._task.setInputs(inputs);\n      this._task.setContext(context);\n      this._task.run(inputs, context, queques).then(function (outputs) {\n        _this2.stop();\n        d.resolve(outputs);\n      }).fail(function (err) {\n        _this2.stop();\n        d.reject(err);\n      });\n    } catch (err) {\n      console.log(err);\n      this.state.error = err;\n      this.state.error = 'Problem ..';\n      this.stop();\n      d.reject(err);\n    }\n  }\n  return d.promise();\n};\n\n// stop step\nproto.stop = function () {\n  // stop task\n  this._task.stop(this._inputs, this._context);\n  //emit run\n  // running to false\n  this.state.running = false;\n  this.emit('stop');\n  this._task.setInputs(null);\n  this._task.setContext(null);\n};\n\n// revert task\nproto.revert = function () {\n  if (this._task && this._task.revert) this._task.revert();\n};\n\n//panic\nproto.panic = function () {\n  if (this._task && this._task.panic) this._task.panic();\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getHelp = function () {\n  return this.state.help;\n};\n\nproto.getError = function () {\n  return this.state.error;\n};\n\nproto.getMessage = function () {\n  return this.state.message;\n};\n\nproto.isRunning = function () {\n  return this.state.running;\n};\n\nproto.setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setTask = function (task) {\n  this._task = task;\n};\n\nproto.getTask = function () {\n  return this._task;\n};\n\nproto.setOutputs = function (outputs) {\n  this._outputs = outputs;\n};\n\nproto.getOutputs = function () {\n  return this._outputs;\n};\n\nStep.MESSAGES = {\n  help: null\n};\n\nmodule.exports = Step;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],72:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Task() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.state = {\n    usermessagesteps: {}\n  };\n}\n\ninherit(Task, G3WObject);\n\nvar proto = Task.prototype;\n\n/**\n * Set and get task usefult properties used to run\n */\n\nproto.setInputs = function (inputs) {\n  this.inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this.inputs;\n};\n\nproto.setContext = function (context) {\n  return this.context = context;\n};\n\nproto.getContext = function () {\n  return this.context;\n};\n\nproto.revert = function () {\n  console.log('Revert to implemente ');\n};\n\nproto.panic = function () {\n  console.log('Panic to implement ..');\n};\n\nproto.stop = function () {\n  console.log('Task Stop to implement ..');\n};\n\nproto.run = function () {\n  console.log('Wrong. This method has to be overwrite from task');\n};\n\nproto.setRoot = function (task) {\n  this.state.root = task;\n};\n\nproto.getUserMessageSteps = function () {\n  return this.state.usermessagesteps;\n};\n\nproto.setUserMessageSteps = function () {\n  var steps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.usermessagesteps = steps;\n};\n\nproto.setUserMessageStepDone = function (type) {\n  if (type) this.state.usermessagesteps[type].done = true;\n};\n\nmodule.exports = Task;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],73:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\nvar Flow = require('core/workflow/flow');\n\nvar _require2 = require('core/workflow/step'),\n    MESSAGES = _require2.MESSAGES;\n\nvar createUserMessageStepsFactory = require('gui/workflow/createUserMessageStepsFactory');\n\n//Class to manage flow of steps\nfunction Workflow() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$flow = options.flow,\n      flow = _options$flow === undefined ? new Flow() : _options$flow,\n      _options$steps = options.steps,\n      steps = _options$steps === undefined ? [] : _options$steps,\n      _options$runOnce = options.runOnce,\n      runOnce = _options$runOnce === undefined ? false : _options$runOnce;\n\n  base(this);\n  this._promise = null;\n  // inputs mandatory to work with editing\n  this._inputs = inputs;\n  this._context = context;\n  // flow object to control the flow\n  this._flow = flow;\n  // all steps of flow\n  this._steps = steps;\n  // if is child of another workflow\n  this._child = null;\n  // stack workflowindex\n  this._stackIndex = null;\n  // stop when flow stop\n  this.runOnce = runOnce;\n  this._messages = MESSAGES;\n  this._userMessageSteps = this._steps.reduce(function (messagesSteps, step) {\n    var usermessagesteps = step.getTask().getUserMessageSteps();\n    return usermessagesteps && _extends({}, messagesSteps, usermessagesteps) || messagesSteps;\n  }, {});\n}\n\ninherit(Workflow, G3WObject);\n\nvar proto = Workflow.prototype;\n\nproto.getContextService = function () {\n  var context = this.getContext();\n  return context.service;\n};\n\nproto.setContextService = function (service) {\n  var context = this.getContext();\n  context.service = service;\n};\n\nproto.getStackIndex = function () {\n  return this._stackIndex;\n};\n\nproto.addChild = function (workflow) {\n  if (this._child) this._child.addChild(workflow);else this._child = workflow;\n};\n\nproto.removeChild = function () {\n  if (this._child) {\n    var index = this._child.getStackIndex();\n    _workflows2.default.removeAt(index);\n  }\n  this._child = null;\n};\n\nproto.setInput = function (_ref) {\n  var key = _ref.key,\n      value = _ref.value;\n\n  this._inputs[key] = value;\n};\n\n/**\n * maybe unused method. Remove\n * @param inputs\n * @private\n */\nproto._setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setContext = function (context) {\n  this._context = context;\n};\n\nproto.getContext = function () {\n  return this._context;\n};\n\nproto.getFlow = function () {\n  return this._flow;\n};\n\nproto.setFlow = function (flow) {\n  this._flow = flow;\n};\n\nproto.addStep = function (step) {\n  this._steps.push(step);\n};\n\nproto.setSteps = function (steps) {\n  this._steps = steps;\n};\n\nproto.getSteps = function () {\n  return this._steps;\n};\n\nproto.getStep = function (index) {\n  return this._steps[index];\n};\n\nproto.setMessages = function (messages) {\n  Object.assign(this._messages, messages);\n};\n\nproto.getMessages = function () {\n  return this._messages;\n};\n\nproto.clearMessages = function () {\n  this._messages.help = null;\n  this._isThereUserMessaggeSteps() && this.clearUserMessagesSteps();\n};\n\nproto.getLastStep = function () {\n  var length = this._steps.length;\n  return length ? this._steps[length - 1] : null;\n};\n\nproto.getRunningStep = function () {\n  return this._steps.find(function (step) {\n    return step.isRunning();\n  });\n};\n\n//stop all workflow children\nproto._stopChild = function () {\n  return this._child ? this._child.stop() : resolve();\n};\n\nproto._isThereUserMessaggeSteps = function () {\n  return Object.keys(this._userMessageSteps).length;\n};\n\nproto.reject = function () {\n  this._promise && this._promise.reject();\n};\n\nproto.resolve = function () {\n  this._promise && this._promise.resolve();\n};\n\n// start workflow\nproto.start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._promise = d;\n  this._inputs = options.inputs;\n  this._context = options.context || {};\n  var isChild = this._context.isChild || false;\n  //check if are workflow running and if need to stop child\n  if (_workflows2.default.getLength() && _workflows2.default.getCurrent() !== this) {\n    !isChild && _workflows2.default.getCurrent().addChild(this);\n  }\n  this._stackIndex = _workflows2.default.push(this);\n  this._flow = options.flow || this._flow;\n  this._steps = options.steps || this._steps;\n  var showUserMessage = this._isThereUserMessaggeSteps();\n  if (showUserMessage) {\n    var stepsComponent = createUserMessageStepsFactory({\n      steps: this._userMessageSteps\n    });\n    _gui2.default.showUserMessage({\n      title: 'sdk.workflow.steps.title',\n      type: 'tool',\n      position: 'left',\n      size: 'small',\n      closable: false,\n      hooks: {\n        body: stepsComponent\n      }\n    });\n  }\n\n  this._flow.start(this).then(function (outputs) {\n    showUserMessage && setTimeout(function () {\n      _this.clearUserMessagesSteps();\n      d.resolve(outputs);\n    }, 500) || d.resolve(outputs);\n  }).fail(function (error) {\n    showUserMessage && _this.clearUserMessagesSteps();\n    d.reject(error);\n  }).always(function () {\n    _this.runOnce && _this.stop();\n  });\n  this.emit('start');\n  return d.promise();\n};\n\n// stop workflow during flow\nproto.stop = function () {\n  var _this2 = this;\n\n  this._promise = null;\n  var d = $.Deferred();\n  // stop child workflow\n  this._stopChild()\n  // in every case remove child\n  .always(function () {\n    _this2.removeChild();\n    _workflows2.default.removeAt(_this2.getStackIndex());\n    // call stop flow\n    _this2._flow.stop().then(function () {\n      return d.resolve();\n    }).fail(function (err) {\n      return d.reject(err);\n    }).always(function () {\n      return _this2.clearMessages();\n    });\n  });\n  this.emit('stop');\n  return d.promise();\n};\n\nproto.clearUserMessagesSteps = function () {\n  this._resetUserMessaggeStepsDone();\n  _gui2.default.closeUserMessage();\n};\n\nproto._resetUserMessaggeStepsDone = function () {\n  var _this3 = this;\n\n  Object.keys(this._userMessageSteps).forEach(function (type) {\n    var userMessageSteps = _this3._userMessageSteps[type];\n    userMessageSteps.done = false;\n    if (userMessageSteps.buttonnext) userMessageSteps.buttonnext.disabled = true;\n  });\n};\n\nmodule.exports = Workflow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"core/workflow/flow\":69,\"core/workflow/step\":71,\"gui/workflow/createUserMessageStepsFactory\":191,\"services/gui\":356,\"services/workflows\":367}],74:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//SPATIAL METHODS USED TO FIND FEATURES\nvar SPATIALMETHODS = exports.SPATIALMETHODS = ['intersects', 'within'];\n\n/**\n * MAIN VUE INSTANCE USED TO WATCH OBJECT CHANGES OR TO EMIT EVENTS\n * \n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar VM = exports.VM = new Vue();\n\n},{}],75:[function(require,module,exports){\nvar Control = require('g3w-ol/controls/control');\n\nfunction AddLayersControl() {\n  var options = {\n    name: \"addlayer\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    label: \"\\uE907\"\n  };\n  Control.call(this, options);\n  this._layerstore = null;\n}\n\nol.inherits(AddLayersControl, Control);\n\nvar proto = AddLayersControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  $(this.element).on('click', function () {\n    return _this.dispatchEvent('addlayer');\n  });\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nproto.getLayersSore = function () {\n  return this._layerstore;\n};\n\nproto.setLayersStore = function (layersStore) {\n  this._layerstore = layersStore;\n};\n\nmodule.exports = AddLayersControl;\n\n},{\"g3w-ol/controls/control\":78}],76:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar AreaIteraction = require('g3w-ol/interactions/areainteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar AreaControl = function AreaControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.area.tooltip\",\n    label: '\\uE909',\n    clickmap: true, // set ClickMap\n    interactionClass: AreaIteraction\n  };\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(AreaControl, MeasureControl);\n\nmodule.exports = AreaControl;\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/areainteraction\":99}],77:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol'); /**\n                                                                         * @file\n                                                                         * @since v3.8\n                                                                         */\n\nvar _require = require('core/utils/ol'),\n    merge = _require.merge;\n\nvar _require2 = require('core/utils/geo'),\n    Geometry = _require2.Geometry;\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar BaseQueryPolygonControl = function BaseQueryPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options = options,\n      _options$spatialMetho = _options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho,\n      onSelectlayer = _options.onSelectlayer,\n      interactionClass = _options.interactionClass;\n\n\n  var default_options = {\n    offline: false,\n    // update selected layer\n    onSelectlayer: onSelectlayer,\n    clickmap: true, // set ClickMap\n    interactionClass: interactionClass,\n    spatialMethod: spatialMethod,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    onhover: true\n  };\n\n  options = merge(options, default_options);\n\n  options.geometryTypes = VALIDGEOMETRIES;\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(BaseQueryPolygonControl, InteractionControl);\n\nmodule.exports = BaseQueryPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":65,\"g3w-ol/constants\":74,\"g3w-ol/controls/interactioncontrol\":82}],78:[function(require,module,exports){\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('g3w-ol/controls/utils'),\n    layout = _require.layout;\n\nvar Control = function Control() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$name = options.name,\n      name = _options$name === undefined ? \"\" : _options$name,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? false : _options$enabled;\n\n  this._enabled = enabled;\n  this.offline = options.offline !== undefined ? options.offline : true;\n  this.name = name.split(' ').join('-').toLowerCase();\n  this.id = this.name + '_' + Math.floor(Math.random() * 1000000);\n  this.eventKeys = {}; // store eventKey and original havenHandler\n  /*\n    tl: top-left\n    tr: top-right\n    bl: bottom-left\n    bt: bottom-right\n   */\n  this.positionCode = options.position || 'tl';\n  this.priority = options.priority || 0;\n  if (!options.element) {\n    var className = \"ol-\" + this.name.split(' ').join('-').toLowerCase();\n    var customClass = options.customClass;\n    var tipLabel = options.tipLabel || this.name;\n    var label = options.label || '';\n    var mapControlButtonVue = Vue.extend({\n      functional: true,\n      render: function render(h) {\n        var _class;\n\n        return h('div', {\n          class: (_class = {}, _defineProperty(_class, className, !!className), _defineProperty(_class, 'ol-unselectable', true), _defineProperty(_class, 'ol-control', true), _class)\n        }, [h('button', {\n          attrs: {\n            type: 'button'\n          },\n          directives: [{\n            name: 't-tooltip',\n            value: tipLabel\n          }]\n        }, [label, h('i', {\n          class: _defineProperty({}, customClass, !!customClass)\n        })])]);\n      }\n    });\n    var mapControlButtonDOMElement = new mapControlButtonVue().$mount().$el;\n    options.element = mapControlButtonDOMElement;\n  }\n  var buttonClickHandler = options.buttonClickHandler || Control.prototype._handleClick.bind(this);\n  $(options.element).on('click', buttonClickHandler);\n  ol.control.Control.call(this, options);\n  this.setVisible(visible);\n  this._postRender();\n};\n\nol.inherits(Control, ol.control.Control);\n\nvar proto = Control.prototype;\n\n//return if clickmap\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\nproto.setEventKey = function (_ref) {\n  var eventType = _ref.eventType,\n      eventKey = _ref.eventKey;\n\n  this.eventKeys[eventType] = {\n    eventKey: eventKey,\n    originalHandler: eventKey.listener\n  };\n};\n\n/**\n * Reset original handler method of control event.\n * \n * @param {string} eventType\n */\nproto.resetOriginalHandlerEvent = function (eventType) {\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, this.eventKeys[eventType].originalHandler);\n  }\n};\n\n/**\n * Override original handler method of control event.\n * \n * @param {string} eventType\n * @param {() => {}} handler\n */\nproto.overwriteEventHandler = function (_ref2) {\n  var eventType = _ref2.eventType,\n      handler = _ref2.handler;\n\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, handler);\n  }\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  position['bottom'] = positionCode.indexOf('b') > -1 ? true : false;\n  position['right'] = positionCode.indexOf('r') > -1 ? true : false;\n  return position;\n};\n\n/**\n * Method to handle toggle map controls\n * @param event\n */\nproto._handleClick = function (event) {\n  var _this = this;\n\n  event.preventDefault();\n  var map = this.getMap();\n  var resetControl = null;\n  // remove all the other, eventually toggled, interactioncontrols\n  var controls = map.getControls();\n  this._toggled && controls.forEach(function (control) {\n    if (control.id && control.toggle && control.id !== _this.id) {\n      control.toggle(false);\n      if (control.name === 'reset') resetControl = control;\n    }\n  });\n  if (!this._toggled && resetControl) resetControl.toggle(true);\n  this.dispatchEvent('controlclick');\n};\n\n//shift of control position\nproto.shiftPosition = function (position) {\n  $(this.element).css(hWhere, position + 'px');\n};\n\n// layout handler\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var element = $(this.element);\n    layout({ map: map, position: position, element: element });\n  }\n};\n\n// change layout of controls // overwrite to customize beahviour\nproto.changelayout = function (map) {};\n\n//called when a control is added ore removed to map (added: map is an ol.Map instance , removed map is null)\nproto.setMap = function (map) {\n  if (map) {\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n/**\n *\n */\nproto.showControl = function () {\n  $(this.element).show();\n};\n\n//hide control and move all controls that sit on his right position\nproto.hideControl = function () {\n  var position = $(this.element).position().left;\n  var controlWidth = $(this.element).outerWidth();\n  var newPosition = position;\n  var controls = $(this.element).siblings('.ol-control-tl');\n  controls.each(function () {\n    if ($(this).position().left > position) {\n      newPosition = $(this).position().left;\n      if (controlWidth > $(this).outerWidth()) {\n        position = position + (controlWidth - $(this).outerWidth());\n      }\n      $(this).css('left', position + 'px');\n      position = newPosition;\n      controlWidth = $(this).outerWidth();\n    }\n  });\n  $(this.element).hide();\n};\n\n/**\n * Toggle pointer events and `g3w-ol-disabled` class on map control button\n * \n * @param {boolean} enabled wheter the map control button is clickable\n */\nproto.setEnable = function (enabled) {\n  $(this.element).find('button').first().toggleClass('g3w-ol-disabled', !enabled);\n  if (!enabled && this._interaction) {\n    this._interaction.setActive(false);\n  }\n  this._enabled = enabled;\n};\n\nproto.getEnable = function () {\n  return this._enabled;\n};\n\nproto.setVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._visible = visible;\n  $(this.element)[visible ? 'show' : 'hide']();\n};\n\nproto.isVisible = function () {\n  return this._visible;\n};\n\nproto._postRender = function () {};\n\nmodule.exports = Control;\n\n},{\"g3w-ol/controls/utils\":96}],79:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Control = require('./control');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    XHR = _require.XHR;\n\nvar Projections = require('g3w-ol/projection/projections');\n/**\n * Classes for all element of dom control\n * @type {{country: string, hidden: string, city: string, road: string, spin: string, namespace: string, inputText: {container: string, result: string, input: string, reset: string, control: string}, olControl: string, inputResetId: string, inputQueryId: string}}\n */\nvar cssClasses = {\n  namespace: \"ol-geocoder\",\n  spin: \"gcd-pseudo-rotate\",\n  hidden: \"gcd-hidden\",\n  inputQueryId: \"gcd-input-query\",\n  inputResetId: \"gcd-input-reset\",\n  country: \"gcd-country\",\n  city: \"gcd-city\",\n  road: \"gcd-road\",\n  olControl: \"ol-control\",\n  inputText: {\n    container: \"gcd-txt-container\",\n    control: \"gcd-txt-control\",\n    input: \"gcd-txt-input\",\n    reset: \"gcd-txt-reset\",\n    result: \"gcd-txt-result\"\n  }\n};\n\nvar utils = {\n  isNumeric: function isNumeric(str) {\n    return (/^\\d+$/.test(str)\n    );\n  },\n  classRegex: function classRegex(classname) {\n    return new RegExp(\"(^|\\\\s+) \" + classname + \" (\\\\s+|$)\");\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to remove a class.\n   */\n  addClass: function addClass(element, classname, timeout) {\n    var _this = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this.addClass(each, classname);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (!this.hasClass(element, array[i])) this._addClass(element, array[i], timeout);\n    }\n  },\n  _addClass: function _addClass(el, klass, timeout) {\n    var _this2 = this;\n\n    // use native if available\n    if (el.classList) el.classList.add(klass);else el.className = (el.className + ' ' + klass).trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this2._removeClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to add a class.\n   */\n  removeClass: function removeClass(element, classname, timeout) {\n    var _this3 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this3.removeClass(each, classname, timeout);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (this.hasClass(element, array[i])) this._removeClass(element, array[i], timeout);\n    }\n  },\n  _removeClass: function _removeClass(el, klass, timeout) {\n    var _this4 = this;\n\n    if (el.classList) el.classList.remove(klass);else el.className = el.className.replace(this.classRegex(klass), ' ').trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this4._addClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element} element DOM node.\n   * @param {String} classname Classname.\n   * @return {Boolean}\n   */\n  hasClass: function hasClass(element, c) {\n    // use native if available\n    return element.classList ? element.classList.contains(c) : this.classRegex(c).test(element.className);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String} classname Classe.\n   */\n  toggleClass: function toggleClass(element, classname) {\n    var _this5 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this5.toggleClass(each, classname);\n      });\n      return;\n    }\n    // use native if available\n    if (element.classList) element.classList.toggle(classname);else {\n      if (this.hasClass(element, classname)) this._removeClass(element, classname);else this._addClass(element, classname);\n    }\n  },\n\n  /**\n   * Abstraction to querySelectorAll for increased\n   * performance and greater usability\n   * @param {String} selector\n   * @param {Element} context (optional)\n   * @param {Boolean} find_all (optional)\n   * @return (find_all) {Element} : {Array}\n   */\n  find: function find(selector, context, find_all) {\n    if (context === void 0) context = window.document;\n    var simpleRe = /^(#?[\\w-]+|\\.[\\w-.]+)$/,\n        periodRe = /\\./g,\n        slice = Array.prototype.slice,\n        matches = [];\n    // Redirect call to the more performant function\n    // if it's a simple selector and return an array\n    // for easier usage\n    if (simpleRe.test(selector)) {\n      switch (selector[0]) {\n        case '#':\n          matches = [this.$(selector.substr(1))];\n          break;\n        case '.':\n          matches = slice.call(context.getElementsByClassName(selector.substr(1).replace(periodRe, ' ')));\n          break;\n        default:\n          matches = slice.call(context.getElementsByTagName(selector));\n      }\n    } else {\n      // If not a simple selector, query the DOM as usual\n      // and return an array for easier usage\n      matches = slice.call(context.querySelectorAll(selector));\n    }\n    return find_all ? matches : matches[0];\n  },\n  $: function $(id) {\n    id = id[0] === '#' ? id.substr(1, id.length) : id;\n    return document.getElementById(id);\n  },\n  isElement: function isElement(obj) {\n    // DOM, Level2\n    if ('HTMLElement' in window) return !!obj && obj instanceof HTMLElement;\n    // Older browsers\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.nodeType === 1 && !!obj.nodeName;\n  },\n  getAllChildren: function getAllChildren(node, tag) {\n    return [].slice.call(node.getElementsByTagName(tag));\n  },\n  isEmpty: function isEmpty(str) {\n    return !str || 0 === str.length;\n  },\n  emptyArray: function emptyArray(array) {\n    while (array.length) {\n      array.pop();\n    }\n  },\n  anyMatchInArray: function anyMatchInArray(source, target) {\n    return source.some(function (each) {\n      return target.indexOf(each) >= 0;\n    });\n  },\n  everyMatchInArrayy: function everyMatchInArrayy(arr1, arr2) {\n    return arr2.every(function (each) {\n      return arr1.indexOf(each) >= 0;\n    });\n  },\n  anyItemHasValue: function anyItemHasValue(obj, has) {\n    var _this6 = this;\n\n    if (has === undefined) has = false;\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n      if (!_this6.isEmpty(obj[key])) {\n        has = true;\n      }\n    });\n    return has;\n  },\n  removeAllChildren: function removeAllChildren(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n  removeAll: function removeAll(collection) {\n    var node = void 0;\n    while (node = collection[0]) {\n      node.parentNode.removeChild(node);\n    }\n  },\n  getChildren: function getChildren(node, tag) {\n    return [].filter.call(node.childNodes, function (el) {\n      return tag ? el.nodeType === 1 && el.tagName.toLowerCase() === tag : el.nodeType === 1;\n    });\n  },\n  template: function template(html, row) {\n    var _this7 = this;\n\n    return html.replace(/\\{ *([\\w_-]+) *\\}/g, function (htm, key) {\n      var value = row[key] === undefined ? '' : row[key];\n      return _this7.htmlEscape(value);\n    });\n  },\n  htmlEscape: function htmlEscape(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n  },\n  createElement: function createElement(node, html) {\n    var elem = void 0;\n    if (Array.isArray(node)) {\n      elem = document.createElement(node[0]);\n      if (node[1].id) elem.id = node[1].id;\n      if (node[1].classname) elem.className = node[1].classname;\n      if (node[1].attr) {\n        var attr = node[1].attr;\n        if (Array.isArray(attr)) {\n          var i = -1;\n          while (++i < attr.length) {\n            elem.setAttribute(attr[i].name, attr[i].value);\n          }\n        } else elem.setAttribute(attr.name, attr.value);\n      }\n    } else elem = document.createElement(node);\n    elem.innerHTML = html;\n    var frag = document.createDocumentFragment();\n    while (elem.childNodes[0]) {\n      frag.appendChild(elem.childNodes[0]);\n    }\n    elem.appendChild(frag);\n    return elem;\n  }\n};\n\n/**\n * Providers\n */\n\nvar Nominatim = function () {\n  function Nominatim() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Nominatim);\n\n    this.id = 'Nominatim (OSM)';\n    this.active = true;\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://nominatim.openstreetmap.org/search/',\n      params: {\n        q: '',\n        format: 'json',\n        addressdetails: 1,\n        limit: 10\n      },\n      extent: extent,\n      viewbox: extent.join(',')\n    };\n  }\n\n  _createClass(Nominatim, [{\n    key: 'getParameters',\n    value: function getParameters(options) {\n      var _settings = this.settings,\n          url = _settings.url,\n          viewbox = _settings.viewbox,\n          limit = _settings.params.limit;\n\n      return {\n        url: url,\n        params: {\n          q: options.query,\n          format: 'json',\n          addressdetails: 1,\n          limit: options.limit || limit,\n          viewbox: viewbox,\n          bounded: 1\n        }\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this8 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var results = response.filter(function (place) {\n        return ol.extent.containsXY(_this8.settings.extent, place.lon, place.lat);\n      }).map(function (result) {\n        return {\n          lon: result.lon,\n          lat: result.lat,\n          address: {\n            name: result.address.neighbourhood || '',\n            road: result.address.road || '',\n            postcode: result.address.postcode,\n            city: result.address.city || result.address.town,\n            state: result.address.state,\n            country: result.address.country\n          },\n          original: {\n            formatted: result.display_name,\n            details: result.address\n          }\n        };\n      });\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Nominatim;\n}();\n\nvar Google = function () {\n  function Google() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Google);\n\n    this.id = 'Google';\n    this.active = _applicationState2.default.keys.vendorkeys.google !== undefined; // PUT HERE A CONDITION TO ACTIVATE OR NOT GOODGLE GEOCODING PROVIDER\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://maps.googleapis.com/maps/api/geocode/json',\n      extent: extent,\n      viewbox: extent[1] + ',' + extent[0] + '|' + extent[3] + ',' + extent[2]\n    };\n  }\n\n  _createClass(Google, [{\n    key: 'getParameters',\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var language = options.lang;\n      var _settings2 = this.settings,\n          url = _settings2.url,\n          viewbox = _settings2.viewbox;\n\n      var params = {\n        address: options.query,\n        key: _applicationState2.default.keys.vendorkeys.google,\n        bounds: viewbox,\n        language: language\n      };\n\n      return {\n        url: url,\n        params: params\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this9 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var results = []; // Set  to be an Array\n\n      if (response.status === 'OK') {\n        results = response.results.filter(function (result) {\n          return ol.extent.containsXY(_this9.settings.extent, result.geometry.location.lng, result.geometry.location.lat);\n        }).map(function (result) {\n          var name = void 0,\n              road = void 0,\n              city = void 0,\n              postcode = void 0,\n              state = void 0,\n              country = void 0;\n          result.address_components.forEach(function (_ref) {\n            var types = _ref.types,\n                short_name = _ref.short_name,\n                long_name = _ref.long_name;\n\n            if (types.find(function (type) {\n              return type === 'route';\n            })) name = long_name;else if (types.find(function (type) {\n              return type === 'locality';\n            })) city = long_name;else if (types.find(function (type) {\n              return type === 'country';\n            })) country = long_name;\n          });\n          return {\n            lon: result.geometry.location.lng,\n            lat: result.geometry.location.lat,\n            address: {\n              name: name,\n              road: road,\n              postcode: '',\n              city: city,\n              state: state,\n              country: country\n            },\n            original: {\n              formatted: result.display_name,\n              details: result.address\n            }\n          };\n        });\n      } else if (response.status === 'REQUEST_DENIED') {\n        /* disable google geocoding provider on API key error */\n        this.active = false;\n      }\n\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}();\n\n/**\n * Geocoding class\n * @param options\n * @constructor\n */\n\n\nfunction GeocodingControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.options = {\n    provider: 'osm',\n    placeholder: options.placeholder || 'Città, indirizzo ... ',\n    noresults: options.noresults || 'Nessun risultato ',\n    notresponseserver: options.notresponseserver || 'Il server non risponde',\n    lang: _applicationState2.default.language || 'it-IT',\n    limit: options.limit || 5,\n    keepOpen: true,\n    preventDefault: false,\n    autoComplete: false,\n    autoCompleteMinLength: 4,\n    debug: false,\n    viewbox: options.bbox,\n    bounded: 1,\n    mapCrs: options.mapCrs,\n    fontIcon: _gui2.default.getFontClass('search')\n  };\n\n  var _options = this.options,\n      placeholder = _options.placeholder,\n      fontIcon = _options.fontIcon,\n      mapCrs = _options.mapCrs,\n      viewbox = _options.viewbox;\n  /**\n   * Providers\n   * @type []\n   */\n\n  this.providers = [new Google({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  }), new Nominatim({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  })];\n\n  /**\n   * Layer to show marker after search\n   * IN FUTURE SET AS CONTROL UTILITY (at moment duplicate also in GEOLOCATION CONTROL)\n   */\n\n  this.layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: '\\uF3C5',\n        font: '900 3em \"Font Awesome 5 Free\"',\n        stroke: new ol.style.Stroke({\n          color: 'red',\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 0,0, 0.7)'\n        })\n      })\n    })\n  });\n\n  this.projection;\n\n  var containerClass = cssClasses.namespace + ' ' + cssClasses.inputText.container;\n  var self = this;\n\n  var GeocoderVueContainer = Vue.extend({\n    functional: true,\n    render: function render(h) {\n      return h('div', { class: _defineProperty({}, containerClass, true) }, [h('div', {\n        class: _defineProperty({}, cssClasses.inputText.control, true)\n      }, [h('input', {\n        attrs: {\n          type: 'text',\n          id: cssClasses.inputQueryId,\n          autocomplete: 'off'\n        },\n        class: _defineProperty({}, cssClasses.inputText.input, true),\n        directives: [{\n          name: 't-placeholder',\n          value: placeholder\n        }]\n      }), h('button', {\n        attrs: {\n          type: 'button',\n          id: 'search_nominatim'\n        },\n        class: {\n          btn: true\n        },\n        on: {\n          click: function click() {\n            var value = $('input.' + cssClasses.inputText.input).val();\n            self.query(value);\n          }\n        }\n      }, [h('i', {\n        attrs: {\n          'aria-hidden': true\n        },\n        style: {\n          color: '#ffffff'\n        },\n        class: _defineProperty({}, fontIcon, true)\n      })]), h('button', {\n        attrs: {\n          type: 'button',\n          id: cssClasses.inputResetId\n        },\n        class: _defineProperty({}, cssClasses.inputText.reset + '  ' + cssClasses.hidden, true)\n      })]), h('ul', {\n        class: _defineProperty({}, cssClasses.inputText.result, true)\n      })]);\n    }\n  });\n  this.container = new GeocoderVueContainer().$mount().$el;\n  this.lastQuery = '';\n  this.registeredListeners = {\n    mapClick: false\n  };\n\n  this.showMarker = function (coordinates) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { transform: true };\n    var transform = options.transform;\n\n    this.hideMarker();\n    coordinates = transform ? ol.proj.transform(coordinates, 'EPSG:4326', this.getMap().getView().getProjection()) : coordinates;\n    var geometry = new ol.geom.Point(coordinates);\n    var feature = new ol.Feature(geometry);\n    this.layer.getSource().addFeature(feature);\n    this.getMap().addLayer(this.layer);\n    _gui2.default.getService('map').zoomToGeometry(geometry);\n  };\n\n  this.hideMarker = function () {\n    this.layer.getSource().clear();\n    this.getMap().removeLayer(this.layer);\n  };\n  /**\n   * Methods\n   */\n  this.createControl = function () {\n    var _this10 = this;\n\n    var timeout = void 0,\n        lastQuery = void 0;\n    this.control = utils.find('.' + cssClasses.inputText.control, this.container);\n    this.input = utils.find('.' + cssClasses.inputText.input, this.container);\n    this.reset = utils.find('.' + cssClasses.inputText.reset, this.container);\n    this.result = utils.find('.' + cssClasses.inputText.result, this.container);\n    var query = function query(evt) {\n      var value = evt.target.value.trim();\n      var hit = evt.key ? evt.key === 'Enter' : evt.which ? evt.which === 13 : evt.keyCode ? evt.keyCode === 13 : false;\n      if (hit) {\n        evt.preventDefault();\n        _this10.query(value);\n      }\n    };\n    var reset = function reset() {\n      _this10.input.focus();\n      _this10.input.value = '';\n      _this10.lastQuery = '';\n      utils.addClass(_this10.reset, cssClasses.hidden);\n      _this10.clearResults();\n    };\n    var handleValue = function handleValue(evt) {\n      var value = evt.target.value.trim();\n      value.length ? utils.removeClass(_this10.reset, cssClasses.hidden) : utils.addClass(_this10.reset, cssClasses.hidden);\n      if (_this10.options.autoComplete && value !== lastQuery) {\n        lastQuery = value;\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          return value.length >= _this10.options.autoCompleteMinLength && _this10.query(value);\n        }, 200);\n      }\n    };\n    this.input.addEventListener('keyup', query, false);\n    this.input.addEventListener('input', handleValue, false);\n    this.reset.addEventListener('click', reset, false);\n  };\n  this.query = function (q) {\n    var _this11 = this;\n\n    /**\n     * Clear source\n     */\n    this.hideMarker();\n    return new Promise(function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var isNumber, coordinates, transform, _q$split, _q$split2, x, y, epsg, promises, providers, responses;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isNumber = function isNumber(value) {\n                  return toRawType(value) === 'Number' && !Number.isNaN(value);\n                };\n\n                coordinates = null;\n                transform = false;\n\n                if (q) {\n                  _q$split = q.split(','), _q$split2 = _slicedToArray(_q$split, 3), x = _q$split2[0], y = _q$split2[1], epsg = _q$split2[2];\n\n                  coordinates = isNumber(1 * x) && isNumber(1 * y) ? [1 * x, 1 * y] : null;\n                  try {\n                    /**\n                     * check if is sett epsg code and if is register on project\n                     */\n                    if (epsg && Projections.get('EPSG:' + epsg.trim())) {\n                      coordinates = ol.proj.transform(coordinates, Projections.get('EPSG:' + epsg.trim()), 'EPSG:4326');\n                      transform = true;\n                    }\n                  } catch (err) {}\n                }\n\n                if (!coordinates) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this11.showMarker(coordinates, {\n                  transform: transform\n                });\n                resolve(coordinates);\n                _context.next = 19;\n                break;\n\n              case 9:\n                if (!(_this11.lastQuery === q && _this11.result.firstChild)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 11:\n                promises = [];\n                /**\n                 * For loop to active Providers\n                 */\n\n                providers = _this11.providers.filter(function (provider) {\n                  return provider.active;\n                });\n\n                providers.forEach(function (provider) {\n                  var _provider$getParamete = provider.getParameters({\n                    query: q,\n                    lang: _this11.options.lang,\n                    countrycodes: _this11.options.countrycodes,\n                    limit: _this11.options.limit\n                  }),\n                      url = _provider$getParamete.url,\n                      params = _provider$getParamete.params;\n\n                  _this11.lastQuery = q;\n                  _this11.clearResults();\n                  utils.addClass(_this11.reset, cssClasses.spin);\n                  promises.push(XHR.get({\n                    url: url,\n                    params: params\n                  }));\n                });\n                _context.next = 16;\n                return Promise.allSettled(promises);\n\n              case 16:\n                responses = _context.sent;\n\n                responses.forEach(function (_ref3, index) {\n                  var status = _ref3.status,\n                      response = _ref3.value;\n\n                  if (status === 'fulfilled') {\n                    var _providers$index$hand = providers[index].handleResponse(response),\n                        header = _providers$index$hand.header,\n                        results = _providers$index$hand.results;\n\n                    if (providers[index].active) {\n                      _this11.createList({\n                        header: header,\n                        results: results\n                      });\n                    }\n                  }\n                });\n                utils.removeClass(_this11.reset, cssClasses.spin);\n\n              case 19:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this11);\n      }));\n\n      return function (_x8, _x9) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n  this.createList = function () {\n    var _this12 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        header = _ref4.header,\n        _ref4$results = _ref4.results,\n        results = _ref4$results === undefined ? {} : _ref4$results;\n\n    var ul = this.result;\n    ul.appendChild(this.createHeaderProviderResults(header));\n    if (results.length) {\n      results.forEach(function (result) {\n        var addressHtml = _this12.addressTemplate(result.address),\n            html = ['<a href=\"#\">', addressHtml, '</a>'].join(''),\n            li = utils.createElement('li', html);\n        li.addEventListener('click', function (evt) {\n          evt.preventDefault();\n          _this12.chosen(result, addressHtml, result.address, result.original);\n        }, false);\n        ul.appendChild(li);\n      });\n    } else {\n      var noresults = this.options.noresults;\n\n      var elementVue = Vue.extend({\n        functional: true,\n        render: function render(h) {\n          return h('li', {\n            class: {\n              'nominatim-noresult': true\n            },\n            directives: [{ name: 't', value: noresults }]\n          });\n        }\n      });\n      var li = new elementVue().$mount().$el;\n      ul.appendChild(li);\n    }\n  };\n  this.chosen = function (place, addressHtml, addressObj, addressOriginal) {\n    var coord = [parseFloat(place.lon), parseFloat(place.lat)];\n    this.options.keepOpen === false && this.clearResults(true);\n    this.showMarker(coord);\n  };\n  this.createHeaderProviderResults = function () {\n    var header = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var headerNodeElement = '\\n      <div style=\"display: flex; justify-content: space-between; padding: 5px\">\\n        <span  style=\"color: #FFFFFF; font-weight: bold\">' + header.title + '</span>\\n      </div>';\n    var li = utils.createElement('li', headerNodeElement);\n    li.classList.add(\"skin-background-color\");\n    return li;\n  };\n\n  this.addressTemplate = function (address) {\n    var html = [];\n    if (address.name) html.push(['<div class=\"', cssClasses.road, '\">{name}</div>'].join(''));\n    if (address.road || address.building || address.house_number) {\n      html.push(['<div class=\"', cssClasses.road, '\">{building} {road} {house_number}</div>'].join(''));\n    }\n    if (address.city || address.town || address.village) {\n      html.push(['<div class=\"', cssClasses.city, '\">{postcode} {city} {town} {village}</div>'].join(''));\n    }\n    if (address.state || address.country) {\n      html.push(['<div class=\"', cssClasses.country, '\">{state} {country}</div>'].join(''));\n    }\n    return utils.template(html.join('<br>'), address);\n  };\n  this.expand = function () {\n    var _this13 = this;\n\n    utils.removeClass(this.input, cssClasses.spin);\n    utils.addClass(this.control, cssClasses.glass.expanded);\n    setTimeout(function () {\n      return _this13.input.focus();\n    }, 100);\n  };\n  this.collapse = function () {\n    this.input.value = '';\n    this.input.blur();\n    utils.addClass(this.reset, cssClasses.hidden);\n    this.clearResults();\n  };\n\n  this.clearResults = function () {\n    utils.removeAllChildren(this.result);\n    this.hideMarker();\n  };\n  this.getSource = function () {\n    return this.layer.getSource();\n  };\n  this.addLayer = function () {\n    var _this14 = this;\n\n    var map = this.getMap();\n    var layer = map.getLayers().find(function (layer) {\n      return layer === _this14.layer;\n    });\n    !layer && map.addLayer(this.layer);\n  };\n  /**\n   * End methods\n   */\n\n  this.createControl();\n\n  Control.call(this, {\n    element: this.container,\n    name: \"nominatim\",\n    offline: false\n  });\n}\n\nol.inherits(GeocodingControl, Control);\n\nmodule.exports = GeocodingControl;\n\n},{\"./control\":78,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":109,\"services/gui\":356,\"store/application-state\":368}],80:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nfunction GeolocationControl() {\n  var options = {\n    visible: false, // set initial to false. Is set visible if is autorized\n    offline: false,\n    name: \"geolocation\",\n    tipLabel: \"sdk.mapcontrols.geolocation.tooltip\",\n    label: \"\\uE904\"\n  };\n  this._layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: \"\\uF3C5\",\n        font: '900 3em \"Font Awesome 5 Free\"',\n        fill: new ol.style.Fill({\n          color: 'red'\n        })\n      })\n    })\n  });\n  InteractionControl.call(this, options);\n}\n\nol.inherits(GeolocationControl, InteractionControl);\n\nvar proto = GeolocationControl.prototype;\n\n/**\n * Method to add market position layer and feature point always on top of map\n * @param map\n * @param coordinates\n * @param show\n * @private\n */\nproto._showMarker = function (_ref) {\n  var map = _ref.map,\n      coordinates = _ref.coordinates,\n      _ref$show = _ref.show,\n      show = _ref$show === undefined ? true : _ref$show;\n\n  //in case of control is initialized\n  if (this._layer) {\n    this._layer.getSource().clear();\n    if (show) {\n      map.getView().setCenter(coordinates);\n      var feature = new ol.Feature({\n        geometry: new ol.geom.Point(coordinates)\n      });\n      this._layer.getSource().addFeature(feature);\n      map.addLayer(this._layer);\n    } else map.removeLayer(this._layer);\n  }\n};\n\nproto.getMap = function () {\n  return InteractionControl.prototype.getMap.call(this);\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  var toggledKeyEvent = void 0; // key toggled event handler\n  InteractionControl.prototype.setMap.call(this, map);\n\n  var geolocation = new ol.Geolocation({\n    projection: map.getView().getProjection(),\n    tracking: true, // set tracking\n    trackingOptions: {\n      enableHighAccuracy: true\n    }\n  });\n\n  geolocation.on('change:position', function () {\n    var coordinates = geolocation.getPosition();\n    if (coordinates) {\n      if (!_this.isVisible()) {\n        _this.setVisible(true);\n        $(_this.element).removeClass('g3w-ol-disabled');\n        geolocation.dispatchEvent('authorized');\n      }\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    } else _this.hideControl(); // remove control from map control flow\n  });\n\n  geolocation.once('error', function (evt) {\n    _this.hideControl();\n    _this._layer = null;\n    evt.code !== 1 && _this.dispatchEvent('error');\n    ol.Observable.unByKey(toggledKeyEvent);\n    toggledKeyEvent = null;\n  });\n\n  //only when authorized register toogled event\n  geolocation.once('authorized', function () {\n    toggledKeyEvent = _this.on('toggled', function () {\n      var coordinates = geolocation.getPosition();\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    });\n  });\n};\n\nmodule.exports = GeolocationControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],81:[function(require,module,exports){\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\n\nfunction GeoScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.name = \"maptoimagegeo\";\n  options.tipLabel = \"Geo Screenshot\";\n  options.label = \"\\uE900\";\n  ScreenshotControl.call(this, options);\n}\n\nol.inherits(GeoScreenshotControl, ScreenshotControl);\n\nmodule.exports = GeoScreenshotControl;\n\n},{\"g3w-ol/controls/screenshotcontrol\":94}],82:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar Control = require('g3w-ol/controls/control');\n\nvar InteractionControl = function InteractionControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? true : _options$enabled,\n      _options$toggled = options.toggled,\n      toggled = _options$toggled === undefined ? false : _options$toggled,\n      _options$clickmap = options.clickmap,\n      clickmap = _options$clickmap === undefined ? false : _options$clickmap,\n      _options$interactionC = options.interactionClass,\n      interactionClass = _options$interactionC === undefined ? null : _options$interactionC,\n      _options$autountoggle = options.autountoggle,\n      autountoggle = _options$autountoggle === undefined ? false : _options$autountoggle,\n      _options$geometryType = options.geometryTypes,\n      geometryTypes = _options$geometryType === undefined ? [] : _options$geometryType,\n      _options$onhover = options.onhover,\n      onhover = _options$onhover === undefined ? false : _options$onhover,\n      _options$help = options.help,\n      help = _options$help === undefined ? null : _options$help,\n      toggledTool = options.toggledTool,\n      _options$interactionC2 = options.interactionClassOptions,\n      interactionClassOptions = _options$interactionC2 === undefined ? {} : _options$interactionC2,\n      _options$layers = options.layers,\n      layers = _options$layers === undefined ? [] : _options$layers,\n      spatialMethod = options.spatialMethod;\n\n  /**\n   * Project layers dependencies\n   * \n   * @since 3.8.0\n   */\n\n  this.layers = layers;\n\n  /**\n   * @since 3.8.0\n   */\n  this.unwatches = [];\n\n  this.listenLayersVisibilityChange();\n\n  this._visible = visible;\n\n  this._toggled = false;\n\n  /**\n   * Check if interact with map\n   */\n  this.clickmap = clickmap;\n\n  this._interactionClass = interactionClass;\n\n  this._interaction = null;\n\n  this._autountoggle = autountoggle;\n\n  /**\n   * Array of types geometries\n   */\n  this._geometryTypes = geometryTypes;\n\n  this._onhover = onhover;\n\n  this._help = help;\n\n  /**\n   * Used to show help info button\n   */\n  this._helpButton;\n\n  /**\n   * Used to show toolbutton\n   */\n  this._toolButton;\n\n  /**\n   * @type { 'intersect' | 'within' }\n   */\n  this.spatialMethod = spatialMethod;\n\n  this.toggledTool;\n\n  this._interactionClassOptions = interactionClassOptions;\n\n  options.buttonClickHandler = InteractionControl.prototype._handleClick.bind(this);\n\n  Control.call(this, options);\n\n  // in case of toggled true, then ... ?\n  if (true === toggled) {\n    this.on('setMap', function () {\n      return _this.toggle(toggled);\n    });\n  }\n\n  // create an help message\n  if (this._help) {\n    this._createModalHelp();\n  }\n\n  // create tool\n  if (toggledTool) {\n    this.createControlTool(toggledTool);\n  }\n\n  // set enabled\n  this.setEnable(enabled);\n\n  // check if spatial method is set\n  if (this.spatialMethod) {\n    this.handleChangeSpatialMethod(this.spatialMethod);\n  }\n};\n\nol.inherits(InteractionControl, Control);\n\nvar proto = InteractionControl.prototype;\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onSelectLayer = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.runSpatialQuery = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.clear = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onAddExternalLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref.layer,\n      unWatches = _ref.unWatches;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.handleSelectedLayer = function (event) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n * \n * @param {{ type: {string}, data: any}} layer event\n * \n * @since 3.8.0\n */\nproto.handleExternalSelectedLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since v3.8.0\n */\nproto.listenLayersVisibilityChange = function () {};\n\n/**\n * method override by subclasses\n *\n * @since 3.8.0\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  var visible = this.checkVisibile(layers);\n  this.setVisible(visible);\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\n/**\n * Enable map control dom\n */\nproto.enable = function () {\n  $(this.element).removeClass('g3w-disabled');\n};\n\nproto.disable = function () {\n  $(this.element).addClass('g3w-disabled');\n};\n\n/**\n * @param {{ type: {'spatialMethod' | 'custom'}, component: unknown, how: {'toggled' | 'hover'} }} toggledTool \n */\nproto.createControlTool = function () {\n  var _this2 = this;\n\n  var toggledTool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * how can be {\n   *  'toggled'(default) => show tools when control is toggled\n   *  'hover' =>  (show button tool as info help)\n   * }\n   */\n  var type = toggledTool.type,\n      component = toggledTool.component,\n      _toggledTool$how = toggledTool.how,\n      how = _toggledTool$how === undefined ? \"toggled\" : _toggledTool$how;\n\n  switch (type) {\n    case 'spatialMethod':\n      var method = this.getSpatialMethod();\n      this.toggledTool = {\n        data: function data() {\n          this.methods = _constants.SPATIALMETHODS;\n          return {\n            method: method\n          };\n        },\n\n        template: '\\n          <div style=\"width: 100%; padding: 5px;\">\\n            <select ref=\"select\" style=\"width: 100%\"  :search=\"false\" v-select2=\"\\'method\\'\">\\n              <option v-for=\"method in methods\">{{method}}</option>\\n            </select>\\n          </div>',\n        watch: {\n          'method': function method(_method) {\n            return _this2.setSpatialMethod(_method);\n          }\n        },\n        created: function created() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(false);\n        },\n        beforeDestroy: function beforeDestroy() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(true);\n        }\n      };\n      break;\n    case 'custom':\n      this.toggledTool = component;\n      break;\n    // if we want to create a button (as info on hover)\n  }\n  switch (how) {\n    case 'hover':\n      this._createToolOnHoverButton();\n      break;\n  }\n};\n\nproto._createToolOnHoverButton = function () {\n  var _this3 = this;\n\n  if (this._onhover) {\n    this._toolButton = $('<span style=\"display:none\" class=\"tool_mapcontrol_button\"><i class=\"' + _gui2.default.getFontClass('tool') + '\"></i></span>');\n    $(this.element).prepend(this._toolButton);\n    this._toolButton.on('click', function (event) {\n      event.stopPropagation();\n      _this3.showToggledTool(true);\n    });\n    $(this.element).hover(function () {\n      return _this3._toggled && _this3._toolButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this3._toolButton.hide();\n    });\n  }\n};\n\nproto.showToggledTool = function () {\n  var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (show) {\n    _gui2.default.showUserMessage({\n      title: '',\n      type: 'tool',\n      size: 'small',\n      closable: this._toolButton ? true : false,\n      hooks: {\n        body: this.toggledTool\n      }\n    });\n  } else _gui2.default.closeUserMessage();\n};\n\n/**\n * Show help message\n */\nproto._showModalHelp = function () {\n  _gui2.default.showModalDialog({\n    title: t(this._help.title),\n    message: t(this._help.message)\n  });\n};\n\n/**\n * Create modal help\n */\nproto._createModalHelp = function () {\n  var _this4 = this;\n\n  if (this._onhover) {\n    this._helpButton = $('<span style=\"display:none\" class=\"info_mapcontrol_button\">i</span>');\n    $(this.element).prepend(this._helpButton);\n    this._helpButton.on('click', function (event) {\n      event.stopPropagation();\n      _this4._showModalHelp();\n    });\n    $(this.element).hover(function () {\n      return _this4._helpButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this4._helpButton.hide();\n    });\n  }\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\n/**\n * Get dom bottom\n * \n * @returns {JQuery<HTMLElement> | jQuery | HTMLElement}\n */\nproto.getControlBottom = function () {\n  return $(this.element).find('button').first();\n};\n\nproto.addClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.addClass(className);\n};\n\nproto.removeClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.removeClass(className);\n};\n\n/**\n * Set button status (pressed / not pressed)\n * \n * @param {boolean} [toggled]\n * \n * @fires toggled event\n */\nproto.toggle = function () {\n  var toggled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this._toggled;\n\n\n  // skip if button is already toggled or un-toggled\n  if (this._toggled === toggled) {\n    return;\n  }\n\n  this._toggled = toggled;\n\n  // TODO: simplify this by removing all that short circuiting logic\n  if (toggled) {\n    this._interaction && this._interaction.setActive(true);\n    this.addClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.show();\n  } else {\n    this._help && this._helpButton.hide();\n    this._interaction && this._interaction.setActive(false);\n    this.removeClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.hide();\n    this.toggledTool && this.showToggledTool(false);\n  }\n\n  if (undefined === this._toolButton && this.toggledTool) {\n    this.showToggledTool(this._toggled);\n  }\n\n  this.dispatchEvent({ type: 'toggled', toggled: toggled });\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.setGeometryTypes = function (types) {\n  this._geometryTypes = types;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @fires setMap event\n */\nproto.setMap = function (map) {\n\n  Control.prototype.setMap.call(this, map);\n\n  if (!this._interaction && this._interactionClass) {\n    this._interaction = new this._interactionClass(this._interactionClassOptions);\n    map.addInteraction(this._interaction);\n    this._interaction.setActive(false);\n  }\n\n  /** @since 3.8.0 */\n  this.dispatchEvent({ type: 'setMap', map: map });\n};\n\nproto._handleClick = function (evt) {\n  if (this._enabled) {\n    this.toggle();\n    Control.prototype._handleClick.call(this, evt);\n  }\n};\n\nproto.getInteraction = function () {\n  return this._interaction;\n};\n\n/**\n * Method to set filter operation intersect or Contains\n */\nproto.setSpatialMethod = function () {\n  var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'intersects';\n\n  this.spatialMethod = method;\n  this.dispatchEvent({\n    type: 'change-spatial-method',\n    spatialMethod: this.spatialMethod\n  });\n};\n\nproto.getSpatialMethod = function () {\n  return this.spatialMethod;\n};\n\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.setSelectedLayer = function (layer) {\n  _mapControls2.default.setSelectedLayer(layer);\n};\n\n/**\n * @since 3.8.0\n */\nproto.getSelectedLayer = function () {\n  return _mapControls2.default.getSelectedLayer();\n};\n\n/**\n * @since 3.8.0\n */\nproto.getExternalLayers = function () {\n  return _mapControls2.default.getExternalLayers();\n};\n\n/**\n * @param { 'intersects' | 'within' } spatialMethod\n * \n * @listens change-spatial-method\n * \n * @since 3.8.0\n */\nproto.handleChangeSpatialMethod = function (spatialMethod) {\n  var _this5 = this;\n\n  var eventKey = null;\n\n  var unlistenSpatialMethodChange = function unlistenSpatialMethodChange() {\n    ol.Observable.unByKey(eventKey);\n    eventKey = null;\n  };\n\n  this.on('toggled', function (_ref2) {\n    var toggled = _ref2.toggled;\n\n    if (true === toggled) {\n      eventKey = _this5.on('change-spatial-method', _this5.runSpatialQuery);\n    } else if (null !== eventKey) {\n      unlistenSpatialMethodChange();\n      // reset to default\n      _this5.setSpatialMethod(spatialMethod);\n      _this5.clear();\n    }\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.watchLayer = function (expOrFn, callback) {\n  return _constants.VM.$watch(expOrFn, callback);\n};\n\n/**\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.isSelectedLayerVisible = function () {\n  return 'function' === typeof this.getSelectedLayer().isVisible ? this.getSelectedLayer().isVisible() // in case of a project project\n  : this.getSelectedLayer().visible // in case of external layer\n  ;\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleProjectLayer = function () {\n  return !!(this.layers.length > 0 && this.layers.find(function (layer) {\n    return layer.isVisible();\n  }));\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.getExternalLayers()` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleExternalLayer = function () {\n  var _this6 = this;\n\n  return !!this.getExternalLayers().find(function (layer) {\n    return layer !== _this6.layer && true === layer.visible;\n  });\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` or `this.getExternalLayers()` is visible\n * \n * @since 3.8.0\n */\nproto.hasVisibleLayers = function () {\n  return !!(this.hasVisibleProjectLayer() || this.hasVisibleExternalLayer());\n};\n\n/**\n * @returns {boolean} whether selectedLayer is not external\n * \n * @since 3.8.0\n */\nproto.addExternalLayerToResult = function () {\n  var _this7 = this;\n\n  return null === this.getSelectedLayer() || \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this7.getSelectedLayer();\n  });\n};\n\n/**\n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function () {\n  var _this8 = this;\n\n  return null !== this.getSelectedLayer() && \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this8.getSelectedLayer();\n  });\n};\n\nmodule.exports = InteractionControl;\n\n},{\"core/i18n/i18n.service\":13,\"g3w-ol/constants\":74,\"g3w-ol/controls/control\":78,\"services/gui\":356,\"store/map-controls\":371}],83:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar LenghtIteraction = require('g3w-ol/interactions/lengthinteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar LengthControl = function LengthControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.length.tooltip\",\n    label: '\\uE908',\n    clickmap: true, // set ClickMap\n    interactionClass: LenghtIteraction\n  };\n\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(LengthControl, MeasureControl);\n\nmodule.exports = LengthControl;\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/lengthinteraction\":101}],84:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar MeasureControl = function MeasureControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._map = null;\n  InteractionControl.call(this, options);\n};\n\nol.inherits(MeasureControl, InteractionControl);\n\nvar proto = MeasureControl.prototype;\n\n/**\n * @param {ol.Map} map \n */\nproto.setMap = function (map) {\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @param {boolean} toggle \n */\nproto.toggle = function (toggle) {\n\n  InteractionControl.prototype.toggle.call(this, toggle);\n\n  // clean up measurements (if it was activated)\n  if (!this.isToggled() && this.getInteraction()) {\n    this.getInteraction().clear();\n  }\n};\n\nmodule.exports = MeasureControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],85:[function(require,module,exports){\nvar MousePositionControl = function MousePositionControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.target = options.target || 'mouse-position-control';\n  ol.control.MousePosition.call(this, options);\n};\n\nol.inherits(MousePositionControl, ol.control.MousePosition);\n\nmodule.exports = MousePositionControl;\n\nvar proto = MousePositionControl.prototype;\n\nproto.offline = true;\n\nproto.setEnable = function (bool) {\n  bool ? $(this.element) : $(this.element);\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    $(this.element).removeClass('ol-control');\n    ol.control.MousePosition.prototype.setMap.call(this, map);\n  }\n};\n\n},{}],86:[function(require,module,exports){\nvar OLControl = function OLControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._control = null;\n  this.positionCode = options.position || 'tl';\n  switch (options.type) {\n    case 'zoom':\n      this._control = new ol.control.Zoom(options);\n      break;\n    case 'zoomtoextent':\n      this._control = new ol.control.ZoomToExtent(options);\n      break;\n    case 'scaleline':\n      this._control = new ol.control.ScaleLine(options);\n      break;\n    case 'overview':\n      this._control = new ol.control.OverviewMap(options);\n      break;\n  }\n\n  $(this._control.element).addClass(\"ol-control-\" + this.positionCode);\n\n  ol.control.Control.call(this, {\n    element: this._control.element\n  });\n};\n\n// subclass of OpenLayer Control\nol.inherits(OLControl, ol.control.Control);\n\nmodule.exports = OLControl;\n\nvar proto = OLControl.prototype;\n\nproto.offline = true;\n\n/**\n * Return Ol Control\n * @returns {*}\n */\nproto.getOlControl = function () {\n  return this._control;\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  return position;\n};\n\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var viewPort = map.getViewport();\n    var previusControls = $(viewPort).find('.ol-control-' + this.positionCode);\n    if (previusControls.length) {\n      previusControl = previusControls.last();\n      var previousOffset = position.left ? previusControl.position().left : previusControl.position().right;\n      var hWhere = position.left ? 'left' : 'right';\n      var previousWidth = previusControl[0].offsetWidth;\n      var hOffset = $(this.element).position()[hWhere] + previousOffset + previousWidth + 2;\n      $(this.element).css(hWhere, hOffset + 'px');\n    }\n  }\n};\n\nproto.changelayout = function () {};\n\nproto.showHide = function () {\n  $(this.element).toggle();\n};\n\nproto.setMap = function (map) {\n  this.layout(map);\n  this._control.setMap(map);\n};\n\n},{}],87:[function(require,module,exports){\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction OnClickControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._originalonlick = null;\n  this._onclick = options.onclick;\n  Control.call(this, options);\n}\n\nol.inherits(OnClickControl, Control);\n\nvar proto = OnClickControl.prototype;\n\nproto.overwriteOnClickEvent = function (clickHandler) {\n  this._originalonlick = this._originalonlick || this._onclick;\n  this._onclick = clickHandler;\n};\n\nproto.resetOriginalOnClickEvent = function () {\n  this._onclick = this._originalonlick || this._onclick;\n  this._originalonlick = null;\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  var controlElement = $(this.element);\n  var buttonControl = controlElement.children('button');\n  var cliccked = false;\n  controlElement.on('click', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cliccked) {\n              _context.next = 9;\n              break;\n            }\n\n            cliccked = true;\n            buttonControl.addClass('g3w-ol-disabled');\n            _context.t0 = _this._onclick;\n\n            if (!_context.t0) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return _this._onclick();\n\n          case 7:\n            buttonControl.removeClass('g3w-ol-disabled');\n            cliccked = false;\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n};\n\nmodule.exports = OnClickControl;\n\n},{\"g3w-ol/controls/control\":78}],88:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\n/**\n * Catalog layers (TOC) properties that need to be satisfied\n */\nvar layersFilterObject = {\n  SELECTED_OR_ALL: true, // selected or all\n  FILTERABLE: true, // see: src/app/core/layers/layer.js#L925\n  VISIBLE: true // need to be visible\n};\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryBBoxControl = function QueryBBoxControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$spatialMetho = options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho;\n\n  /**\n   * @FIXME add description\n   */\n\n  this._startCoordinate = null;\n\n  /**\n   * @FIXME add description\n   */\n  this.unwatches = [];\n\n  /**\n   * @FIXME add description\n   */\n  var layers = _gui2.default.getService('map').filterableLayersAvailable(condition) || [];\n  layers.forEach(function (layer) {\n    return layer.setTocHighlightable(true);\n  });\n\n  var _options = _extends({}, options, {\n    layers: layers,\n    offline: false,\n    name: \"querybbox\",\n    tipLabel: \"sdk.mapcontrols.querybybbox.tooltip\",\n    label: options.label || '\\uE902',\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.DragBox,\n    onhover: true,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    spatialMethod: spatialMethod,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  InteractionControl.call(this, _options);\n\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store bbox coordinates\n   * \n   * @type {ol.coordinate}\n   */\n  this.bbox = null;\n\n  /**\n   * Set `layer.tochighlightable` to external layer to show highlight class\n   * \n   * @since 3.8.0\n   */\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n    _this.getExternalLayers().forEach(function (layer) {\n      return layer.tochighlightable = toggled;\n    });\n  });\n};\n\nol.inherits(QueryBBoxControl, InteractionControl);\n\nvar proto = QueryBBoxControl.prototype;\n\n/**\n * @deprecated since 3.7\n * \n * @param layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(this.hasVisibleLayers());\n  this.listenLayersVisibilityChange();\n};\n\nproto.checkVisible = function () {\n  return this.layers.length > 0 || this.getExternalLayers().length > 0;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.DragBox~boxstart\n * @listens ol.interaction.DragBox~boxend\n */\nproto.setMap = function (map) {\n  var _this2 = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('boxstart', function (evt) {\n    return _this2._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', throttle(function (evt) {\n\n    _this2.bbox = ol.extent.boundingExtent([_this2._startCoordinate, evt.coordinate]);\n\n    _this2.dispatchEvent({ type: 'bboxend', extent: _this2.bbox });\n\n    _this2._startCoordinate = null;\n\n    if (_this2._autountoggle) {\n      _this2.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'bboxend',\n    eventKey: this.on('bboxend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this3 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this3.unwatches.push(_this3.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (true === layer.state.selected) {\n        _this3.setEnable(visible);\n      } else {\n        _this3.setEnable(_this3.hasVisibleLayers());\n      }\n      _this3.toggle(_this3.isToggled() && _this3.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(null === this.bbox)) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt('return');\n\n        case 2:\n          _gui2.default.closeOpenSideBarComponent();\n          _context.prev = 3;\n          _context.next = 6;\n          return _data2.default.getData('query:bbox', {\n            inputs: {\n              bbox: this.bbox,\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              addExternal: this.addExternalLayerToResult(),\n              layersFilterObject: layersFilterObject,\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              condition: condition,\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            }\n          });\n\n        case 6:\n          _context.next = 11;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context['catch'](3);\n\n          console.warn('Error running spatial query: ', _context.t0);\n\n        case 11:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 8]]);\n}));\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref3) {\n  var _this4 = this;\n\n  var layer = _ref3.layer,\n      unWatches = _ref3.unWatches;\n\n  //set layer property\n  layer.tochighlightable = this.isToggled() && this.getEnable();\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this4.setEnable(true === selected ? layer.visible : _this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function () {\n    _this4.setEnable(_this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.bbox = null;\n};\n\nmodule.exports = QueryBBoxControl;\n\n},{\"core/utils/utils\":67,\"g3w-ol/constants\":74,\"g3w-ol/controls/interactioncontrol\":82,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],89:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.8\n                                                                                                                                                                                                                                                                   */\n\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\n\nvar QueryByDrawPolygonControl = function QueryByDrawPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = _gui2.default.getService('map').filterableLayersAvailable({\n    filtrable: {\n      ows: 'WFS'\n    }\n  }) || [];\n\n  var _options = _extends({}, options, {\n    name: \"querybydrawpolygon\",\n    tipLabel: \"sdk.mapcontrols.querybydrawpolygon.tooltip\",\n    customClass: _gui2.default.getFontClass('draw'),\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.Draw,\n    interactionClassOptions: {\n      type: 'Polygon'\n    },\n    layers: layers,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store drawed ol.Feature\n   */\n  this.feature = null;\n};\n\nol.inherits(QueryByDrawPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByDrawPolygonControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.Draw~drawend\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('drawend', throttle(function (evt) {\n    _this.feature = evt.feature;\n    _this.dispatchEvent({ type: 'drawend', feature: _this.feature });\n    if (_this._autountoggle) {\n      _this.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'drawend',\n    eventKey: this.on('drawend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      // check if a selectedLayer i set\n      if (null === _this2.getSelectedLayer()) {\n        _this2.setEnable(_this2.hasVisibleLayers());\n      } else {\n        // enable control only if current changed visible layer is true or\n        // if at least one layer (not selected) is visible\n        _this2.setEnable(_this2.isSelectedLayerVisible());\n      }\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref) {\n  var _this3 = this;\n\n  var layer = _ref.layer,\n      unWatches = _ref.unWatches;\n\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this3.setEnable(true === selected ? layer.visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function (visible) {\n    _this3.setEnable(true === layer.selected ? visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          _context.prev = 1;\n          _context.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: 'Draw',\n              feature: this.feature,\n              excludeSelected: null === this.getSelectedLayer(),\n              external: {\n                add: this.addExternalLayerToResult(),\n                filter: {\n                  SELECTED: this.isExternalLayerSelected()\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod()\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref3) {\n                var _ref3$error = _ref3.error,\n                    error = _ref3$error === undefined ? false : _ref3$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context['catch'](1);\n\n          console.warn(_context.t0);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[1, 6]]);\n}));\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.feature = null;\n};\n\nmodule.exports = QueryByDrawPolygonControl;\n\n},{\"core/utils/utils\":67,\"g3w-ol/controls/basequerypolygoncontrol\":77,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],90:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar _require2 = require('core/utils/geo'),\n    getMapLayersByFilter = _require2.getMapLayersByFilter,\n    Geometry = _require2.Geometry;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryByPolygonControl = function QueryByPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\n  var controlQuerableLayers = getMapLayersByFilter({ QUERYABLE: true, SELECTED_OR_ALL: true });\n  var controlFiltrableLayers = _gui2.default.getService('map').filterableLayersAvailable(condition);\n\n  var _options = _extends({}, options, {\n    offline: false,\n    enabled: false,\n    name: \"querybypolygon\",\n    tipLabel: \"sdk.mapcontrols.querybypolygon.tooltip\",\n    label: options.label || '\\uE903',\n    interactionClass: PickCoordinatesInteraction,\n    layers: controlFiltrableLayers.length ? [].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(controlFiltrableLayers), _toConsumableArray(controlQuerableLayers))))) : [],\n    help: {\n      title: \"sdk.mapcontrols.querybypolygon.help.title\",\n      message: \"sdk.mapcontrols.querybypolygon.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n\n  /**\n   * Data needed to runSpatialQuery\n   */\n  this.data = {\n    layer: null,\n    feature: null,\n    coordinates: null\n  };\n};\n\nol.inherits(QueryByPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByPolygonControl.prototype;\n\n/**\n * @deprecated since 3.7.0. Will be removed in 3.9.0\n * \n * @param {unknown[]} layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * Check visibiliy of control\n * \n * @param layers\n * \n * @returns {boolean}\n */\nproto.checkVisibile = function (layers) {\n  // if no layer or just one\n  if (!layers.length || 1 === layers.length) {\n    return false;\n  }\n\n  // get all layers that haven't the geometries above filterable\n  var filterableLayers = layers.filter(function (layer) {\n    return layer.isFilterable();\n  });\n  // get all layer that have the valid geometries\n  var queryableLayers = layers.filter(function (layer) {\n    return -1 !== VALIDGEOMETRIES.indexOf(layer.getGeometryType());\n  });\n\n  if (1 === queryableLayers.length && 1 === filterableLayers.length) {\n    return filterableLayers[0] !== queryableLayers[0];\n  }\n\n  return queryableLayers.length > 0 && filterableLayers.length > 0;\n};\n\n/**\n * @param {ol.Map} map \n * \n * @listens PickCoordinatesInteraction~picked\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('picked', throttle(function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(evt) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.data.coordinates = evt.coordinate;\n\n              _this.dispatchEvent({ type: 'picked', coordinates: _this.data.coordinates });\n\n              if (_this._autountoggle) {\n                _this.toggle();\n              }\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x3) {\n      return _ref.apply(this, arguments);\n    };\n  }()));\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.getPolygonFeatureFromCoordinates)\n  });\n\n  this.setEnable(false);\n};\n\n/**\n * @param layer\n * \n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer && layer.isQueryable() && -1 !== this.getGeometryTypes().indexOf(layer.getGeometryType())) {\n    this.setEnable(this.isThereVisibleLayerNotSelected());\n    this.toggle(this.isToggled() && this.getEnable());\n  } else {\n    this.setEnable(false);\n    this.toggle(false);\n  }\n};\n\n/**\n * @since 3.8.0 \n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (layer === _this2.getSelectedLayer()) {\n        _this2.setEnable(visible && _this2.isThereVisibleLayerNotSelected());\n      } else {\n        _this2.setEnable(_this2.isThereVisibleLayerNotSelected());\n      }\n      // enable control only if current changed visible layer is true or\n      // if at least one layer (not selected) is visible\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<boolean>}\n * \n * @since 3.8.0\n */\nproto.getPolygonFeatureFromCoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          // ask for coordinates\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _data2.default.getData('query:coordinates', {\n            inputs: {\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              coordinates: this.data.coordinates\n            },\n            outputs: {\n              // whether to show picked coordinates on map\n              show: function show(_ref4) {\n                var _ref4$data = _ref4.data,\n                    data = _ref4$data === undefined ? [] : _ref4$data,\n                    query = _ref4.query;\n\n                var show = data.length === 0;\n                // set query coordinates to null in case to avoid `externalvector` added to query response\n                query.coordinates = show ? query.coordinates : null;\n                return show;\n              }\n            }\n          });\n\n        case 4:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n\n          if (data.length && data[0].features.length) {\n            this.data.feature = data[0].features[0];\n            this.data.layer = data[0].layer;\n            this.runSpatialQuery();\n          }\n          _context2.next = 13;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2['catch'](1);\n\n          console.warn('Error running spatial query:', _context2.t0);\n\n        case 13:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[1, 10]]);\n}));\n\n/**\n * @returns {boolean} whether at least a visible layer not selected\n * \n * @since 3.8.0\n */\nproto.isThereVisibleLayerNotSelected = function () {\n  var _this3 = this;\n\n  return !!(\n  // check if user has selected a layer\n  this.getSelectedLayer() &&\n  // check if current selected layer is visible\n  this.isSelectedLayerVisible() && (\n  // check if at least one layer is visible (project or external layer)\n  !!this.layers.find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && layer.isVisible() && layer.isFilterable(condition.filtrable);\n  }) || this.getExternalLayers().find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && true === layer.visible;\n  })));\n};\n\n/**\n * @deprecated since v3.8.0. Will be removed in v4.0.0. Use `QueryByPolygonControl::listenLayersVisibilityChange()` instead.\n */\nproto.listenPolygonLayersChange = function () {\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref5) {\n  var _this4 = this;\n\n  var layer = _ref5.layer,\n      unWatches = _ref5.unWatches;\n\n\n  // watch `layer.selected` property only on Polygon layers (in order to enable/disable map control)\n  if (Geometry.isPolygonGeometryType(layer.geometryType)) {\n    unWatches.push(this.watchLayer(function () {\n      return layer.selected;\n    }, // watch `layer.selected` property\n    function (selected) {\n      if (true === selected) {\n        _this4.setEnable(layer.visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(false);\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n\n    unWatches.push(this.watchLayer(function () {\n      return layer.visible;\n    }, // watch `layer.visible` property\n    function (visible) {\n      if (layer.selected) {\n        _this4.setEnable(visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(_this4.isThereVisibleLayerNotSelected());\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n  }\n\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * Execute query Polygon request to server\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (null !== this.data.coordinates && null !== this.data.feature && null !== this.data.layer) {\n            _context3.next = 2;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 2:\n          _context3.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: this.data.layer.getName ? this.data.layer.getName() : this.data.layer.get('name'),\n              excludeSelected: true,\n              feature: this.data.feature,\n              external: {\n                add: true,\n                filter: {\n                  SELECTED: false\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref7) {\n                var _ref7$error = _ref7.error,\n                    error = _ref7$error === undefined ? false : _ref7$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * @since v3.8.0\n */\nproto.clear = function () {\n  this.data.layer = this.data.feature = this.data.coordinates = null;\n};\n\nmodule.exports = QueryByPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/controls/basequerypolygoncontrol\":77,\"g3w-ol/interactions/pickcoordinatesinteraction\":103,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],91:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar QueryControl = function QueryControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    name: \"querylayer\",\n    tipLabel: \"sdk.mapcontrols.query.tooltip\",\n    label: options.label || '\\uEA0F',\n    clickmap: true, // set ClickMap\n    interactionClass: PickCoordinatesInteraction\n  };\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(QueryControl, InteractionControl);\n\nvar proto = QueryControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens InteractionControl~toggled\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  var eventSingleClickKey = null;\n\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n\n    if (true !== toggled) {\n      ol.Observable.unByKey(eventSingleClickKey);\n      eventSingleClickKey = null;\n    } else if (null === eventSingleClickKey && map) {\n      // register click on map event. It use to dispatch picked event by control\n      eventSingleClickKey = map.on('singleclick', throttle(function (evt) {\n        return _this.dispatchEvent({ type: 'picked', coordinates: evt.coordinate });\n      }));\n    }\n  });\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.runQuery)\n  });\n\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @since 3.8.0\n * @param event\n */\nproto.runQuery = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var coordinates = _ref2.coordinates;\n    var project;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _gui2.default.closeOpenSideBarComponent();\n            _context.prev = 1;\n            project = _projects2.default.getCurrentProject();\n            _context.next = 5;\n            return _data2.default.getData('query:coordinates', {\n              inputs: {\n                coordinates: coordinates,\n                feature_count: project.getQueryFeatureCount(),\n                query_point_tolerance: project.getQueryPointTolerance(),\n                multilayers: project.isQueryMultiLayers(this.name)\n              }\n            });\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](1);\n\n            console.warn('Error running spatial query: ', _context.t0);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 7]]);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nmodule.exports = QueryControl;\n\n},{\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":103,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],92:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ResetControl = function ResetControl(options) {\n  this._toggled = true;\n  this._startCoordinate = null;\n  var _options = {\n    name: \"reset\",\n    tipLabel: \"Pan\",\n    label: '\\uE901'\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(ResetControl, InteractionControl);\n\nmodule.exports = ResetControl;\n\nvar proto = ResetControl.prototype;\n\nproto._postRender = function () {\n  this.toggle(true);\n};\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/interactioncontrol\":82}],93:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    getResolutionFromScale = _require2.getResolutionFromScale,\n    getScaleFromResolution = _require2.getScaleFromResolution;\n\nvar ScaleControl = function ScaleControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.isMobile = options.isMobile || false;\n  options.target = 'scale-control';\n  ol.control.Control.call(this, options);\n};\n\nol.inherits(ScaleControl, ol.control.Control);\n\nmodule.exports = ScaleControl;\n\nvar proto = ScaleControl.prototype;\n\nproto.offline = true;\n\n// called from map when layout change\nproto.changelayout = function (map) {\n  var position = this.position;\n  var element = $(this.element);\n};\n\nproto.layout = function (map) {\n  var self = this;\n  var isMapResolutionChanged = false;\n  var selectedOnClick = false;\n  var element = $(this.element);\n  var select2 = element.children('select').select2({\n    tags: true,\n    dropdownParent: $(map.getTargetElement()),\n    width: '120px',\n    height: '20px',\n    language: {\n      noResults: function noResults(params) {\n        return t(\"sdk.mapcontrols.scale.no_valid_scale\");\n      }\n    },\n    minimumResultsForSearch: this.isMobile ? -1 : 0,\n    createTag: function createTag(params) {\n      var newTag = null;\n      var scale = void 0;\n      // Don't offset to create a tag if there is no @ symbol\n      if (params.term.indexOf('1:') !== -1) {\n        // Return null to disable tag creation\n        scale = params.term.split('1:')[1];\n      } else if (Number.isInteger(Number(params.term)) && Number(params.term) > 0) {\n        scale = Number(params.term);\n        if (1 * scale <= self.scales[0]) {\n          newTag = {\n            id: scale,\n            text: '1:' + params.term,\n            new: true\n          };\n          deleteLastCustomScale();\n        }\n      }\n      return newTag;\n    }\n  });\n  //get change mapsize to close\n  map.on('change:size', function () {\n    return select2.select2('close');\n  });\n  function deleteLastCustomScale() {\n    select2.find('option').each(function (index, option) {\n      return self.scales.indexOf(1 * option.value) === -1 && $(option).remove();\n    });\n  }\n\n  function addCustomTag(data) {\n    if (select2.find(\"option[value='\" + data.id + \"']\").length) select2.val(data.id).trigger('change');else {\n      deleteLastCustomScale();\n      var newOption = new Option(data.text, data.id, true, true);\n      select2.append(newOption).trigger('change');\n    }\n  }\n\n  map.on('moveend', function () {\n    if (isMapResolutionChanged) {\n      var view = this.getView();\n      var resolution = view.getResolution();\n      var mapUnits = view.getProjection().getUnits();\n      var scale = parseInt(getScaleFromResolution(resolution, mapUnits));\n      var data = {\n        id: scale,\n        text: '1:' + scale,\n        new: true\n      };\n      addCustomTag(data);\n      isMapResolutionChanged = false;\n    } else selectedOnClick = false;\n  });\n  var setChangeResolutionHandler = function setChangeResolutionHandler() {\n    map.getView().on('change:resolution', function () {\n      return isMapResolutionChanged = !selectedOnClick;\n    });\n  };\n  setChangeResolutionHandler();\n\n  map.on('change:view', function () {\n    return setChangeResolutionHandler();\n  });\n\n  select2.on('select2:select', function (e) {\n    selectedOnClick = true;\n    var data = e.params.data;\n    if (data.new) {\n      deleteLastCustomScale();\n      addCustomTag(data);\n    }\n    var mapUnits = map.getView().getProjection().getUnits();\n    var scale = 1 * data.id;\n    var resolution = getResolutionFromScale(scale, mapUnits);\n    map.getView().setResolution(resolution);\n  });\n};\n\nproto._setScales = function (map) {\n  var mapUnits = map.getView().getProjection().getUnits();\n  var currentResolution = map.getView().getResolution();\n  var currentScale = parseInt(getScaleFromResolution(currentResolution, mapUnits));\n  this.scales = _constant.PRINT_SCALES.map(function (scale) {\n    return scale.value;\n  }).filter(function (scale) {\n    return scale < currentScale;\n  });\n  this.scales.unshift(currentScale);\n  this._createControl();\n};\n\nproto._createControl = function () {\n  var controlDomElement = document.createElement('div');\n  var select = document.createElement('select');\n  var optgroup = document.createElement('optgroup');\n  optgroup.label = '';\n  this.scales.forEach(function (scale, index) {\n    var option = document.createElement('option');\n    option.value = scale;\n    option.text = '1:' + scale;\n    option.selected = index === 0 ? true : false;\n    optgroup.appendChild(option);\n  });\n  select.appendChild(optgroup);\n  if (!this.isMobile) {\n    var optgroup_custom = document.createElement('optgroup');\n    optgroup_custom.label = 'Custom';\n    select.appendChild(optgroup_custom);\n  }\n  controlDomElement.appendChild(select);\n  // set element of control (it is necessary to visualize it)\n  this.element = controlDomElement;\n  $(this.element).css('height', '20px');\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    this._setScales(map);\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/ol\":65}],94:[function(require,module,exports){\nvar OnClickControl = require('g3w-ol/controls/onclickcontrol');\n\nfunction ScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.layers = options.layers || [];\n  var visible = this.checkVisible(this.layers);\n  options.visible = visible;\n  options.name = options.name || \"maptoimage\";\n  options.tipLabel = options.tipLabel || \"Screenshot\";\n  options.label = options.label || \"\\uE90F\";\n  options.toggled = false;\n  OnClickControl.call(this, options);\n}\n\nol.inherits(ScreenshotControl, OnClickControl);\n\nvar proto = ScreenshotControl.prototype;\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var visible = this.checkVisible(layers);\n  this.setVisible(visible);\n};\n\nproto.checkVisible = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var find = layers.find(function (layer) {\n    return layer.isExternalWMS ? layer.isExternalWMS() : false;\n  });\n  return !find;\n};\n\nmodule.exports = ScreenshotControl;\n\n},{\"g3w-ol/controls/onclickcontrol\":87}],95:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar utils = require('core/utils/ol');\nvar StreetViewComponent = require('gui/streetview/vue/streetview');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar GoogleStreetViewApiUrl = 'https://maps.googleapis.com/maps/api/';\n\nvar StreetViewControl = function StreetViewControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    visible: true, // always visible. Only change behavior if exist or not\n    name: \"streetview\",\n    tipLabel: \"StreetView\",\n    clickmap: true, // set ClickMap\n    label: '\\uE905',\n    interactionClass: PickCoordinatesInteraction\n  };\n  /**\n   * Check Google Key\n   * */\n\n  this.key = _applicationState2.default.keys.vendorkeys.google;\n  this.keyError;\n  if (this.key) {\n    XHR.get({\n      url: GoogleStreetViewApiUrl + 'streetview?location=0,0&size=456x456&key=' + this.key\n    }).catch(function (error) {\n      return _this.keyError = error.responseText;\n    });\n  }\n  //get script script\n  $script(GoogleStreetViewApiUrl + 'js?' + (this.key ? 'key=' + this.key : ''));\n\n  /***/\n\n  this._sv = null;\n  this._panorama = null;\n  this._map = null;\n  this._projection = null;\n  this._lastposition = null;\n  this._streetViewFeature = new ol.Feature();\n  var streetVectorSource = new ol.source.Vector({ features: [] });\n  this.active = false;\n  this._layer = new ol.layer.Vector({\n    source: streetVectorSource,\n    style: function style(feature) {\n      var coordinates = feature.getGeometry().getCoordinates();\n      this._lastposition = this._lastposition ? this._lastposition : coordinates;\n      var dx = coordinates[0] - this._lastposition[0];\n      var dy = coordinates[1] - this._lastposition[1];\n      var rotation = -Math.atan2(dy, dx);\n      var styles = [new ol.style.Style({\n        text: new ol.style.Text({\n          text: '\\uE905',\n          font: 'bold 18px icomoon',\n          fill: new ol.style.Fill({\n            color: '#ffffff'\n          })\n        })\n      }), new ol.style.Style({\n        image: new ol.style.Icon({\n          src: '/static/client/images/streetviewarrow.png',\n          rotation: rotation\n        })\n      })];\n      this._lastposition = coordinates;\n      return styles;\n    }\n  });\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(StreetViewControl, InteractionControl);\n\nvar proto = StreetViewControl.prototype;\n\nproto.setProjection = function (projection) {\n  this._projection = projection;\n};\n\nproto.setPosition = function (position) {\n  var _this2 = this;\n\n  var self = this;\n  this.active = true;\n  var pixel = void 0;\n  if (!this._sv) this._sv = new google.maps.StreetViewService();\n  this._sv.getPanorama({ location: position }, function (data, status) {\n    self._panorama = new google.maps.StreetViewPanorama(document.getElementById('streetview'), {\n      imageDateControl: true\n    });\n    /**\n     * Listen on position change\n    */\n    self._panorama.addListener('position_changed', function () {\n      if (self.isToggled()) {\n        var lnglat = ol.proj.transform([this.getPosition().lng(), this.getPosition().lat()], 'EPSG:4326', self._projection.getCode());\n        self._streetViewFeature.setGeometry(new ol.geom.Point(lnglat));\n        pixel = self._map.getPixelFromCoordinate(lnglat);\n        if (pixel[0] + 15 > self._map.getSize()[0] || pixel[1] + 15 > self._map.getSize()[1] || pixel[0] < 15 || pixel[1] < 15) {\n          self._map.getView().setCenter(lnglat);\n        }\n      }\n    });\n    if (data && data.location) {\n      self._panorama.setPov({\n        pitch: 0,\n        heading: 0\n      });\n\n      self._panorama.setPosition(data.location.latLng);\n    }\n  }).then(function (response) {\n    if (response === undefined) {\n      _gui2.default.closeContent();\n    }\n  }).catch(function () {\n    return _this2.toggle();\n  });\n};\n\nproto.setMap = function (map) {\n  var _this3 = this;\n\n  this._map = map;\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this.setProjection(this._map.getView().getProjection());\n  this._map.addLayer(this._layer);\n\n  this._interaction.on('picked', function (_ref) {\n    var coordinate = _ref.coordinate;\n\n    _this3.showStreetView(coordinate);\n    _this3._autountoggle && _this3.toggle();\n  });\n};\n\n/**\n * Method to show StreetView depending of key and keyError\n * @param coordinate\n */\nproto.showStreetView = function (coordinate) {\n  var _ol$proj$transform = ol.proj.transform(coordinate, this._map.getView().getProjection().getCode(), 'EPSG:4326'),\n      _ol$proj$transform2 = _slicedToArray(_ol$proj$transform, 2),\n      lng = _ol$proj$transform2[0],\n      lat = _ol$proj$transform2[1];\n\n  if (this.key) {\n    _gui2.default.setContent({\n      content: new StreetViewComponent({\n        keyError: this.keyError\n      }),\n      title: 'StreetView'\n    });\n    !this.keyError && this.setPosition({\n      lng: lng, lat: lat\n    });\n  } else {\n    this._streetViewFeature.setGeometry(new ol.geom.Point(coordinate));\n    window.open('https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=' + lat + ',' + lng);\n  }\n};\n\nproto.clearMarker = function () {\n  this._streetViewFeature.setGeometry(null);\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._streetViewFeature.setGeometry(null);\n  this.clearMarker();\n  this._panorama = null;\n  this.active && _gui2.default.closeContent();\n  this.active = false;\n};\n\nproto.toggle = function (toggle) {\n  InteractionControl.prototype.toggle.call(this, toggle);\n  if (!this.isToggled()) this.clear();else this._layer.getSource().addFeatures([this._streetViewFeature]);\n};\n\nmodule.exports = StreetViewControl;\n\n},{\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":103,\"gui/streetview/vue/streetview\":179,\"services/gui\":356,\"store/application-state\":368}],96:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TOPOFFSET = 35;\n\nmodule.exports = {\n  layout: function layout(_ref) {\n    var map = _ref.map,\n        position = _ref.position,\n        element = _ref.element;\n  },\n  changeLayoutBottomControl: function changeLayoutBottomControl(_ref2) {\n    var map = _ref2.map,\n        position = _ref2.position,\n        element = _ref2.element,\n        _ref2$isMobile = _ref2.isMobile,\n        isMobile = _ref2$isMobile === undefined ? false : _ref2$isMobile;\n\n    var viewPort = map.getViewport();\n    var positionCode = (position['top'] ? 't' : 'b') + (position['left'] ? 'l' : 'r');\n    var previusControls = $(viewPort).find('.ol-control-' + positionCode + ':visible');\n    if (previusControls.length) {\n      var previusControl = void 0;\n      previusControls.each(function (index, elem) {\n        if (elem != element[0]) previusControl = $(elem);else return false;\n      });\n      if (previusControl && positionCode === 'br') {\n        if (!isMobile) {\n          var previousTopPosition = previusControl.position().top;\n          var elementTopPosition = element.position().top;\n          if (previousTopPosition - elementTopPosition != TOPOFFSET) {\n            var hOffset = previousTopPosition - TOPOFFSET;\n            element.css('top', hOffset + 'px');\n          }\n        } else {\n          var previusControlWidth = previusControl.width();\n          var previousLeftPosition = previusControlWidth < 10 ? 130 : previusControlWidth + 20;\n          element.css('right', previousLeftPosition + 'px');\n          element.css('bottom', '15px');\n        }\n      }\n    }\n  },\n\n  // method to create user message tool fro map control\n  createControlUserMessageTool: function createControlUserMessageTool() {\n    var tool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      hooks: {\n        body: {\n          template: '<div>\\n                <div >\\n                  <input type=\"radio\" name=\"radio\" id=\"g3w-map_theme-0\" class=\"magic-radio\" value=\"view1\">\\n                  <label  for=\"g3w-map_theme-0\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>Intersect</span>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input  type=\"radio\" name=\"radio\" id=\"_cotains\" class=\"magic-radio\" value=\"view2\">\\n                  <label  for=\"g3w-map_theme-1\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>view2</span>\\n                  </label>\\n                </div>\\n              </div>'\n        }\n      },\n      title: 'Scelgli il tipo di operazione'\n    };\n\n    _gui2.default.showUserMessage({\n      type: 'tool',\n      message: tool.message,\n      size: tool.size || 'small', // small, medium\n      title: tool.title || '',\n      hooks: tool.hooks\n    });\n  }\n};\n\n},{\"services/gui\":356}],97:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ZoomBoxControl = function ZoomBoxControl(options) {\n  this._startCoordinate = null;\n  var _options = {\n    name: \"zoombox\",\n    tipLabel: \"Zoom to box\",\n    label: \"\\uE901\",\n    interactionClass: ol.interaction.DragBox\n  };\n  options = Object.assign({}, options, _options);\n  InteractionControl.call(this, options);\n};\nol.inherits(ZoomBoxControl, InteractionControl);\nmodule.exports = ZoomBoxControl;\n\nvar proto = ZoomBoxControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('boxstart', function (evt) {\n    return _this._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', function (evt) {\n    var start_coordinate = _this._startCoordinate;\n    var end_coordinate = evt.coordinate;\n    var extent = ol.extent.boundingExtent([start_coordinate, end_coordinate]);\n    _this.dispatchEvent({\n      type: 'zoomend',\n      extent: extent\n    });\n    _this._startCoordinate = null;\n    _this._autountoggle && _this.toggle();\n  });\n};\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],98:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar maphelpers = require('g3w-ol/map/maphelpers');\n\nvar helpers = utils.merge({}, maphelpers);\n\nmodule.exports = {\n  helpers: helpers\n};\n\n},{\"core/utils/ol\":65,\"g3w-ol/map/maphelpers\":107}],99:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// Area\nvar AreaIteraction = function AreaIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"Polygon\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(AreaIteraction, MeasureInteraction);\n\nmodule.exports = AreaIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":102}],100:[function(require,module,exports){\nvar DeleteInteractionEvent = function DeleteInteractionEvent(type, layer, features, coordinate) {\n  this.type = type;\n  this.features = features;\n  this.coordinate = coordinate;\n};\n\nvar DeleteInteraction = function DeleteInteraction(options) {\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: DeleteInteraction.handleDownEvent_,\n    handleMoveEvent: DeleteInteraction.handleMoveEvent_,\n    handleUpEvent: DeleteInteraction.handleUpEvent_,\n    handleEvent: DeleteInteraction.handleEvent_\n  });\n\n  this.previousCursor_ = undefined;\n  this.startCursor_ = undefined;\n  this.lastCoordinate_ = null;\n  this.features_ = options.features !== undefined ? options.features : null;\n  this.layer_ = options.layer !== undefined ? options.layer : null;\n  this.map_ = null;\n};\n\nol.inherits(DeleteInteraction, ol.interaction.Pointer);\n\nDeleteInteraction.handleEvent_ = function (mapBrowserEvent) {\n  if (mapBrowserEvent.type == 'keydown') {\n    if (this.features_.getArray().length && mapBrowserEvent.originalEvent.keyCode == 46) {\n      // an event can be string or an object with attribute type\n      this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n      return true;\n    }\n  } else {\n    return ol.interaction.Pointer.handleEvent.call(this, mapBrowserEvent);\n  }\n};\n\nDeleteInteraction.handleDownEvent_ = function (event) {\n  this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  if (this.lastFeature_) {\n    DeleteInteraction.handleMoveEvent_.call(this, event);\n    this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n    return true;\n  }\n  return false;\n};\n\nDeleteInteraction.handleMoveEvent_ = function (event) {\n  var _this = this;\n\n  this.map_ = event.map;\n  var elem = this.map_.getTargetElement();\n  if (this.startCursor_ === undefined) {\n    this.startCursor_ = elem.style.cursor;\n  }\n  var intersectingFeature = this.map_.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\n    ///check if is the same layero of editing\n    feature = layer == _this.layer_ ? feature : null;\n    return feature;\n  });\n  if (intersectingFeature) {\n    this.previousCursor_ = elem.style.cursor;\n    elem.style.cursor = 'pointer';\n  } else {\n    elem.style.cursor = this.previousCursor_ !== undefined ? this.previousCursor_ : '';\n    this.previousCursor_ = undefined;\n  }\n};\n\nDeleteInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var found = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    return feature;\n  });\n  if (this.features_ && _.includes(this.features_.getArray(), intersectingFeature)) {\n    found = intersectingFeature;\n  }\n  return found;\n};\n\nDeleteInteraction.prototype.clear = function () {\n  var elem = void 0;\n  if (this.map_) {\n    elem = this.map_.getTargetElement();\n    elem.style.cursor = this.startCursor_;\n  }\n};\n\nmodule.exports = DeleteInteraction;\n\n},{}],101:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// LenghtInteracion\nvar LengthIteraction = function LengthIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"LineString\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(LengthIteraction, MeasureInteraction);\n\nmodule.exports = LengthIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":102}],102:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    createMeasureTooltip = _require2.createMeasureTooltip,\n    setMeasureTooltipStatic = _require2.setMeasureTooltipStatic,\n    removeMeasureTooltip = _require2.removeMeasureTooltip,\n    needUseSphereMethods = _require2.needUseSphereMethods;\n\nvar MeasureIteraction = function MeasureIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._helpTooltip;\n  this._measureTooltipElement;\n  this._measureTooltip;\n  this._featureGeometryChangelistener;\n  this._poinOnMapMoveListener;\n  this.testTooltip;\n  this._helpMsg = options.help;\n  this._projection = options.projection;\n  this.feature = options.feature;\n  var drawColor = options.drawColor || 'rgba(0, 0, 0, 0.5)';\n  var useSphereMethods = needUseSphereMethods(this._projection);\n  var measureStyle = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: 'rgba(255, 255, 255, 0.2)'\n    }),\n    stroke: new ol.style.Stroke({\n      color: drawColor,\n      lineDash: [10, 10],\n      width: 3\n    }),\n    image: new ol.style.Circle({\n      radius: 5,\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.7)'\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.2)'\n      })\n    })\n  });\n  var geometryType = options.geometryType || 'LineString';\n  var source = new ol.source.Vector();\n  this._helpTooltipElement;\n  this._map = null;\n  this._feature = null;\n  this._layer = new ol.layer.Vector({\n    source: source,\n    style: function style() {\n      var styles = [\n      // linestring\n      new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          lineDash: [10, 10],\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 255, 255, 0.2)'\n        })\n      })];\n      return styles;\n    }\n  });\n\n  ol.interaction.Draw.call(this, {\n    source: source,\n    type: geometryType,\n    style: measureStyle\n  });\n  this.set('beforeRemove', this.clear);\n  this.set('layer', this._layer);\n  // register event on two action\n  this.on('drawstart', this._drawStart);\n  this.on('drawend', this._drawEnd);\n};\n\nol.inherits(MeasureIteraction, ol.interaction.Draw);\n\nvar proto = MeasureIteraction.prototype;\n\nproto.setDrawMessage = function (message) {\n  this._helpMsg = message;\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._clearMessagesAndListeners();\n  if (this._map) {\n    removeMeasureTooltip(_extends({\n      map: this._map\n    }, this.measureTooltip));\n    this.measureTooltip = null;\n    this._map.removeLayer(this._layer);\n  }\n};\n\nproto._clearMessagesAndListeners = function () {\n  this._feature = null;\n  // unset tooltip so that a new one can be created\n  if (this._map) {\n    this._measureTooltipElement = null;\n    this._helpTooltipElement.innerHTML = '';\n    this._helpTooltipElement.classList.add('hidden');\n    ol.Observable.unByKey(this._featureGeometryChangelistener);\n    ol.Observable.unByKey(this._poinOnMapMoveListener);\n    $(document).off('keydown', this._keyDownEventHandler);\n  }\n};\n\nproto._removeLastPoint = function (event) {\n  var geom = this._feature.getGeometry();\n  if (event.keyCode === 46) {\n    if (geom instanceof ol.geom.Polygon && geom.getCoordinates()[0].length > 2) {\n      this.removeLastPoint();\n    } else if (geom instanceof ol.geom.LineString && geom.getCoordinates().length > 1) {\n      this.removeLastPoint();\n    }\n  }\n};\n\n//drawStart function\nproto._drawStart = function (evt) {\n  var _this = this;\n\n  this._map = this.getMap();\n  this._map.removeLayer(this._layer);\n  this._feature = evt.feature;\n  this.feature && this._feature.setGeometry(this.feature.getGeometry());\n  this._keyDownEventHandler = this._removeLastPoint.bind(this);\n  $(document).on('keydown', this._keyDownEventHandler);\n  this._layer.getSource().clear();\n  this._poinOnMapMoveListener = this._map.on('pointermove', function (evt) {\n    if (evt.dragging) return;\n    if (_this._feature && _this._helpMsg) {\n      var helpMsg = t(_this._helpMsg);\n      _this._helpTooltipElement.innerHTML = helpMsg;\n      _this._helpTooltip.setPosition(evt.coordinate);\n      _this._helpTooltipElement.classList.remove('hidden');\n    }\n  });\n  this._createHelpTooltip();\n  this._createMeasureTooltip();\n};\n\nproto._drawEnd = function () {\n  var tooltip = this.measureTooltip.tooltip;\n\n  setMeasureTooltipStatic(tooltip);\n  this._clearMessagesAndListeners();\n  this._map.addLayer(this._layer);\n};\n\n/**\n * Creates a new help tooltip\n */\nproto._createHelpTooltip = function () {\n  this._helpTooltipElement && this._helpTooltipElement.parentNode.removeChild(this._helpTooltipElement);\n  this._helpTooltip && this._map.removeOverlay(this._helpTooltip);\n  this._helpTooltipElement = document.createElement('div');\n  this._helpTooltipElement.className = 'mtooltip hidden';\n  this._helpTooltip = new ol.Overlay({\n    element: this._helpTooltipElement,\n    offset: [15, 0],\n    positioning: 'center-left'\n  });\n  this._map.addOverlay(this._helpTooltip);\n};\n\n/**\n * Creates a new measure tooltip\n */\nproto._createMeasureTooltip = function () {\n  this.measureTooltip && removeMeasureTooltip(_extends({}, this.measureTooltip, {\n    map: this._map\n  }));\n  this.measureTooltip = createMeasureTooltip({\n    map: this._map,\n    feature: this._feature\n  });\n};\n// END MEASURE CONTROLS //\n\nmodule.exports = MeasureIteraction;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/ol\":65}],103:[function(require,module,exports){\nvar PickCoordinatesEventType = {\n  PICKED: 'picked'\n};\n\nvar PickCoordinatesEvent = function PickCoordinatesEvent(type, coordinate) {\n  this.type = type;\n  this.coordinate = coordinate;\n};\n\nvar PickCoordinatesInteraction = function PickCoordinatesInteraction(options) {\n  this.previousCursor_ = null;\n  this._centerMap = null;\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickCoordinatesInteraction.handleDownEvent_,\n    handleUpEvent: PickCoordinatesInteraction.handleUpEvent_,\n    handleMoveEvent: PickCoordinatesInteraction.handleMoveEvent_\n  });\n};\n\nol.inherits(PickCoordinatesInteraction, ol.interaction.Pointer);\n\nPickCoordinatesInteraction.handleDownEvent_ = function (event) {\n  var _this = this;\n\n  this._centerMap = event.map.getView().getCenter();\n  // set timeout to avoid to block pan\n  setTimeout(function () {\n    if (_this._centerMap === event.map.getView().getCenter()) {\n      PickCoordinatesInteraction.handleUpEvent_.call(_this, event);\n    }\n  }, 300);\n  // return false to avoid  start of drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleUpEvent_ = function (event) {\n  this.dispatchEvent(new PickCoordinatesEvent(PickCoordinatesEventType.PICKED, event.coordinate));\n  // it used to stop drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  elem.style.cursor = 'pointer';\n  return true;\n};\n\nPickCoordinatesInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickCoordinatesInteraction.prototype.setActive = function (active) {\n  var map = this.getMap();\n  if (map) {\n    var elem = map.getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setActive.call(this, active);\n};\n\nPickCoordinatesInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickCoordinatesInteraction;\n\n},{}],104:[function(require,module,exports){\nvar PickFeatureEventType = {\n  PICKED: 'picked'\n};\n\nvar PickFeatureEvent = function PickFeatureEvent(type, coordinate, layer, feature) {\n  this.type = type;\n  this.feature = feature;\n  this.coordinate = coordinate;\n  this.layer = layer;\n};\n\nvar PickFeatureInteraction = function PickFeatureInteraction() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickFeatureInteraction.handleDownEvent_,\n    handleUpEvent: PickFeatureInteraction.handleUpEvent_,\n    handleMoveEvent: PickFeatureInteraction.handleMoveEvent_\n  });\n  var features = options.features;\n\n  this.features_ = Array.isArray(features) && features.length && features || null;\n  this.layers_ = options.layers || null;\n  this.pickedFeature_ = null;\n  this.pickedLayer_ = null;\n  this.layerFilter_ = function (layer) {\n    var include = _.includes(_this.layers_, layer);\n    _this.pickedLayer_ = include && layer;\n    return include;\n  };\n};\nol.inherits(PickFeatureInteraction, ol.interaction.Pointer);\n\nPickFeatureInteraction.handleDownEvent_ = function (event) {\n  this.pickedFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  return this.pickedFeature_;\n};\n\nPickFeatureInteraction.handleUpEvent_ = function (event) {\n  if (this.pickedFeature_) {\n    this.dispatchEvent(new PickFeatureEvent(PickFeatureEventType.PICKED, event.coordinate, this.pickedLayer_, this.pickedFeature_));\n  }\n  return true;\n};\n\nPickFeatureInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  var intersectingFeature = this.featuresAtPixel_(event.pixel, event.map);\n  elem.style.cursor = intersectingFeature ? 'pointer' : '';\n};\n\nPickFeatureInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var _this2 = this;\n\n  var featureFound = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    if (_this2.features_) {\n      if (_this2.features_.indexOf(feature) > -1) return feature;else return null;\n    }\n    return feature;\n  }, {\n    layerFilter: this.layerFilter_,\n    hitTolerance: isMobile && isMobile.any ? 10 : 0\n  });\n  if (intersectingFeature) featureFound = intersectingFeature;\n  return featureFound;\n};\n\nPickFeatureInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickFeatureInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickFeatureInteraction;\n\n},{}],105:[function(require,module,exports){\nvar RasterLayers = require('g3w-ol/layers/rasters');\nvar BaseLayers = {};\n\nBaseLayers.OSM = {};\n\nBaseLayers.OSM.get = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      title = _ref.title,\n      id = _ref.id,\n      url = _ref.url;\n\n  return new ol.layer.Tile({\n    source: new ol.source.OSM({\n      url: url\n    }),\n    id: id || 'osm',\n    title: title || 'OSM',\n    basemap: true\n  });\n};\n\nBaseLayers.TMS = {\n  get: function get() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$visible = _ref2.visible,\n        visible = _ref2$visible === undefined ? false : _ref2$visible,\n        _ref2$url = _ref2.url,\n        url = _ref2$url === undefined ? null : _ref2$url,\n        _ref2$source_type = _ref2.source_type,\n        source_type = _ref2$source_type === undefined ? \"xyz\" : _ref2$source_type,\n        minZoom = _ref2.minZoom,\n        maxZoom = _ref2.maxZoom,\n        projection = _ref2.projection,\n        attributions = _ref2.attributions,\n        _ref2$crossOrigin = _ref2.crossOrigin,\n        crossOrigin = _ref2$crossOrigin === undefined ? 'anonymous' : _ref2$crossOrigin;\n\n    var layer = void 0;\n    switch (source_type) {\n      case 'xyz':\n        layer = RasterLayers.XYZLayer({\n          url: url,\n          visible: visible,\n          minZoom: minZoom,\n          maxZoom: maxZoom,\n          attributions: attributions,\n          projection: projection,\n          crossOrigin: crossOrigin\n        });\n        break;\n      case 'arcgismapserver':\n        layer = RasterLayers.TiledArgisMapServer({\n          url: url,\n          visible: visible,\n          projection: projection,\n          attributions: attributions\n        });\n        break;\n      default:\n    }\n    return layer;\n  }\n};\n\nBaseLayers.WMS = {\n  get: function get(_ref3) {\n    var url = _ref3.url,\n        projection = _ref3.projection,\n        attributions = _ref3.attributions,\n        layers = _ref3.layers,\n        _ref3$singleTile = _ref3.singleTile,\n        singleTile = _ref3$singleTile === undefined ? false : _ref3$singleTile,\n        _ref3$opacity = _ref3.opacity,\n        opacity = _ref3$opacity === undefined ? 1 : _ref3$opacity;\n\n    return RasterLayers.WMSLayer({\n      url: url,\n      projection: projection,\n      attributions: attributions,\n      layers: layers,\n      tiled: singleTile,\n      opacity: opacity\n    });\n  }\n};\n\nBaseLayers.WMTS = {\n  get: function get() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        layer = _ref4.layer,\n        visible = _ref4.visible,\n        attributions = _ref4.attributions,\n        matrixSet = _ref4.matrixSet,\n        projection = _ref4.projection,\n        requestEncoding = _ref4.requestEncoding,\n        _ref4$style = _ref4.style,\n        style = _ref4$style === undefined ? 'default' : _ref4$style,\n        _ref4$format = _ref4.format,\n        format = _ref4$format === undefined ? 'image/png' : _ref4$format,\n        _ref4$opacity = _ref4.opacity,\n        opacity = _ref4$opacity === undefined ? 0.7 : _ref4$opacity;\n\n    var projectionExtent = projection.getExtent();\n    var resolutions = new Array(14);\n    var size = ol.extent.getWidth(projectionExtent) / 256;\n    var matrixIds = new Array(14);\n    for (var z = 0; z < 14; ++z) {\n      // generate resolutions and matrixIds arrays for this WMTS\n      resolutions[z] = size / Math.pow(2, z);\n      matrixIds[z] = z;\n    }\n    return new ol.layer.Tile({\n      opacity: opacity,\n      source: new ol.source.WMTS({\n        url: url,\n        projection: projection,\n        layer: layer,\n        matrixSet: matrixSet,\n        requestEncoding: requestEncoding,\n        format: format,\n        attributions: attributions,\n        tileGrid: new ol.tilegrid.WMTS({\n          origin: ol.extent.getTopLeft(projectionExtent),\n          resolutions: resolutions,\n          matrixIds: matrixIds\n        }),\n        style: style\n      })\n    });\n  }\n};\n\nBaseLayers.BING = {};\n\nBaseLayers.BING.get = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var imagerySet = config.imagerySet || 'Aerial'; // 'Road', 'AerialWithLabels', 'Aerial'\n  return new ol.layer.Tile({\n    name: imagerySet,\n    visible: false,\n    preload: Infinity,\n    source: new ol.source.BingMaps({\n      imagerySet: imagerySet,\n      key: config.key\n    }),\n    basemap: true\n  });\n};\n\nmodule.exports = BaseLayers;\n\n},{\"g3w-ol/layers/rasters\":106}],106:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar DPI = require('core/utils/ol').getDPI();\n\nvar RasterLayers = {};\n\nvar loadImageTileFunction = function loadImageTileFunction(_ref) {\n  var _ref$method = _ref.method,\n      method = _ref$method === undefined ? 'GET' : _ref$method,\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'image' : _ref$type,\n      _ref$sourceOptions = _ref.sourceOptions,\n      sourceOptions = _ref$sourceOptions === undefined ? {} : _ref$sourceOptions;\n\n  window.URL = window.URL || window.webkitURL;\n  sourceOptions[type + 'LoadFunction'] = function (imageTile, url) {\n    var xhr = new XMLHttpRequest();\n\n    var _url$split = url.split('?'),\n        _url$split2 = _slicedToArray(_url$split, 2),\n        _url = _url$split2[0],\n        params = _url$split2[1];\n\n    xhr.open(method, method === 'POST' && _url || url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n      var data = this.response;\n      if (data !== undefined) imageTile.getImage().src = window.URL.createObjectURL(data);else imageTile.setState(ol.TileState.ERROR);\n    };\n    xhr.onerror = function () {\n      image.setState(ol.TileState.ERROR);\n    };\n    xhr.send(method === 'POST' && params);\n  };\n};\n\nRasterLayers.TiledWMSLayer = function (layerObj, extraParams) {\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams || {},\n    tiled: true\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMSLayer = function (layerObj) {\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams,\n    method: method\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMTSLayer = function (layerObj, extraParams) {\n  var optionsFromCapabilities = ol.source.WMTS.optionsFromCapabilities;\n  return new ol.layer.Tile({\n    opacity: 1,\n    source: new ol.source.WMTS(options)\n  });\n};\n\nRasterLayers.ImageArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  return new ol.layer.Image({\n    source: new ol.source.ImageArcGISRest({\n      ratio: options.ratio,\n      params: {\n        FORMAT: options.format\n      },\n      url: options.url\n    })\n  });\n};\n\nRasterLayers.TiledArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var url = options.url,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      extent = options.extent,\n      projection = options.projection,\n      attributions = options.attributions,\n      crossOrigin = options.crossOrigin;\n\n  var source = new ol.source.TileArcGISRest({\n    url: url,\n    projection: projection,\n    attributions: attributions,\n    crossOrigin: crossOrigin\n  });\n  return new ol.layer.Tile({\n    extent: extent,\n    visible: visible,\n    source: source\n  });\n};\n\nRasterLayers._WMSLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var layerObj = options.layerObj,\n      _options$method = options.method,\n      method = _options$method === undefined ? 'GET' : _options$method,\n      extraParams = options.extraParams,\n      _options$tiled = options.tiled,\n      tiled = _options$tiled === undefined ? false : _options$tiled;\n  var _layerObj$iframe_inte = layerObj.iframe_internal,\n      iframe_internal = _layerObj$iframe_inte === undefined ? false : _layerObj$iframe_inte,\n      _layerObj$layers = layerObj.layers,\n      layers = _layerObj$layers === undefined ? '' : _layerObj$layers,\n      _layerObj$version = layerObj.version,\n      version = _layerObj$version === undefined ? '1.3.0' : _layerObj$version,\n      _layerObj$sld_version = layerObj.sld_version,\n      sld_version = _layerObj$sld_version === undefined ? '1.1.0' : _layerObj$sld_version,\n      id = layerObj.id,\n      name = layerObj.name,\n      _layerObj$opacity = layerObj.opacity,\n      opacity = _layerObj$opacity === undefined ? 1.0 : _layerObj$opacity,\n      visible = layerObj.visible,\n      extent = layerObj.extent,\n      maxResolution = layerObj.maxResolution,\n      format = layerObj.format;\n\n\n  var params = {\n    LAYERS: layers,\n    VERSION: version,\n    TRANSPARENT: true,\n    SLD_VERSION: sld_version,\n    DPI: DPI\n  };\n\n  /**\n   * Check if not undefined otherwise FORMAT parameter is not send\n   * \n   * @since 3.7.11\n   */\n  if (\"undefined\" !== typeof format) {\n    params.FORMAT = format;\n  }\n\n  var sourceOptions = {\n    url: layerObj.url,\n    params: Object.assign({}, params, extraParams),\n    ratio: 1,\n    projection: layerObj.projection ? layerObj.projection.getCode() : null\n  };\n\n  if (iframe_internal || 'POST' === method) {\n    loadImageTileFunction({ method: method, sourceOptions: sourceOptions, type: 'image' });\n  }\n\n  var imageOptions = {\n    id: id,\n    name: name,\n    opacity: opacity,\n    visible: visible,\n    extent: extent,\n    maxResolution: maxResolution\n  };\n\n  if (tiled) {\n    imageOptions.source = new ol.source.TileWMS(sourceOptions);\n    return new ol.layer.Tile(imageOptions);\n  }\n\n  imageOptions.source = new ol.source.ImageWMS(sourceOptions);\n  return new ol.layer.Image(imageOptions);\n};\n\nRasterLayers.XYZLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var iframe_internal = options.iframe_internal || false;\n  var url = options.url,\n      projection = options.projection,\n      maxZoom = options.maxZoom,\n      minZoom = options.minZoom,\n      _options$visible2 = options.visible,\n      visible = _options$visible2 === undefined ? true : _options$visible2,\n      crossOrigin = options.crossOrigin;\n\n  if (!url) return;\n  var sourceOptions = {\n    url: url,\n    maxZoom: maxZoom,\n    minZoom: minZoom,\n    projection: projection,\n    crossOrigin: crossOrigin\n  };\n  if (iframe_internal) loadImageTileFunction({\n    method: method,\n    type: 'tile',\n    sourceOptions: sourceOptions\n  });\n\n  if (projection.getUnits() === 'degrees') {\n    var extent = projection.getExtent();\n    var resolutions = ol.tilegrid.createXYZ({ extent: extent, maxZoom: maxZoom }).getResolutions();\n    // needed to remove the first resolutis because in this version of ol createXYZ doesn't  accept maxResolution options .\n    // The extent of EPSG:4326 is not squared [-180, -90, 180, 90] as EPSG:3857 so the resolution is calculate by Math.max(width(extent)/tileSize,Height(extent)/tileSize)\n    // we need to calculate to Math.min instead so we have to remove the first resolution\n    resolutions.splice(0, 1);\n    //////////////////////////////////////////\n    sourceOptions.tileGrid = new ol.tilegrid.TileGrid({\n      extent: extent,\n      resolutions: resolutions\n    });\n  }\n\n  var source = new ol.source.XYZ(sourceOptions);\n  return new ol.layer.Tile({\n    visible: visible,\n    projection: projection,\n    source: source\n  });\n};\n\nmodule.exports = RasterLayers;\n\n},{\"core/utils/ol\":65}],107:[function(require,module,exports){\nvar BaseLayers = require('../layers/bases');\n\nvar MapHelpers = {\n  createViewer: function createViewer() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new _Viewer(opts);\n  }\n};\n\nvar _Viewer = function _Viewer() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var controls = ol.control.defaults({\n    attribution: false,\n    zoom: false\n  });\n\n  var interactions = ol.interaction.defaults().extend([new ol.interaction.DragRotate()]);\n  interactions.removeAt(1); // remove douclickzoom\n  var view = opts.view instanceof ol.View ? opts.view : new ol.View(opts.view);\n  var options = {\n    controls: controls,\n    interactions: interactions,\n    ol3Logo: false,\n    view: view,\n    keyboardEventTarget: document\n  };\n  options.target = opts.id;\n  var map = new ol.Map(options);\n  this.map = map;\n};\n\n_Viewer.prototype.destroy = function () {\n  if (this.map) {\n    this.map.dispose();\n    this.map = null;\n  }\n};\n\n_Viewer.prototype.getView = function () {\n  return this.map.getView();\n};\n\n_Viewer.prototype.updateMap = function (mapObject) {};\n\n_Viewer.prototype.updateView = function () {};\n\n_Viewer.prototype.getMap = function () {\n  return this.map;\n};\n\n_Viewer.prototype.setTarget = function (id) {\n  this.map.setTarget(id);\n};\n\n_Viewer.prototype.zoomTo = function (coordinate, zoom) {\n  var view = this.map.getView();\n  view.setCenter(coordinate);\n  view.setZoom(zoom);\n};\n\n_Viewer.prototype.goTo = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var zoom = options.zoom || false;\n  var view = this.map.getView();\n  var panAnimation = void 0;\n  var duration = 300;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: duration,\n      center: coordinates\n    };\n    if (zoom) {\n      zoomAnimation = {\n        duration: duration,\n        zoom: zoom\n      };\n    } else {\n      zoomAnimation = {\n        duration: duration,\n        resolution: view.getResolution()\n      };\n    }\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    if (zoom) {\n      view.setZoom(zoom);\n    }\n  }\n};\n\n_Viewer.prototype.goToRes = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var view = this.map.getView();\n  var resolution = options.resolution || view.getResolution();\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: 200,\n      center: coordinates\n    };\n    zoomAnimation = {\n      duration: 200,\n      resolution: resolution\n    };\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    view.setResolution(resolution);\n  }\n};\n\n_Viewer.prototype.fit = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var view = this.map.getView();\n  var animate = options.animate || true;\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  var duration = 200;\n  if (animate) {\n    panAnimation = view.animate({\n      duration: duration,\n      center: view.getCenter()\n    });\n    zoomAnimation = view.animate({\n      duration: duration,\n      resolution: view.getResolution()\n    });\n  }\n\n  if (options.animate) {\n    delete options.animate; // non lo passo al metodo di OL3 perché è un'opzione interna\n  }\n  options.constrainResolution = options.constrainResolution === undefined && true || options.constrainResolution;\n  options.size = this.map.getSize();\n  view.fit(geometry, options);\n};\n\n_Viewer.prototype.getZoom = function () {\n  var view = this.map.getView();\n  return view.getZoom();\n};\n\n_Viewer.prototype.getResolution = function () {\n  var view = this.map.getView();\n  return view.getResolution();\n};\n\n_Viewer.prototype.getCenter = function () {\n  var view = this.map.getView();\n  return view.getCenter();\n};\n\n_Viewer.prototype.getBBOX = function () {\n  return this.map.getView().calculateExtent(this.map.getSize());\n};\n\n_Viewer.prototype.getLayerByName = function (layerName) {\n  var layers = this.map.getLayers();\n  var length = layers.getLength();\n  for (var i = 0; i < length; i++) {\n    if (layerName === layers.item(i).get('name')) {\n      return layers.item(i);\n    }\n  }\n  return null;\n};\n\n_Viewer.prototype.removeLayerByName = function (layerName) {\n  var layer = this.getLayerByName(layerName);\n  if (layer) {\n    this.map.removeLayer(layer);\n    layer = undefined;\n  }\n};\n\n_Viewer.prototype.getActiveLayers = function () {\n  var activelayers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap !== true && props.visible) {\n      activelayers.push(layer);\n    }\n  });\n\n  return activelayers;\n};\n\n_Viewer.prototype.removeLayers = function () {\n  this.map.getLayers().clear();\n};\n\n_Viewer.prototype.getLayersNoBase = function () {\n  var layers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap != true) {\n      layers.push(layer);\n    }\n  });\n\n  return layers;\n};\n\n_Viewer.prototype.addBaseLayer = function (type) {\n  var layer = void 0;\n  type ? layer = BaseLayers[type] : layer = BaseLayers.BING.Aerial;\n  this.map.addLayer(layer);\n};\n\n_Viewer.prototype.changeBaseLayer = function (layerName) {\n  var baseLayer = this.getLayerByName(layername);\n  var layers = this.map.getLayers();\n  layers.insertAt(0, baseLayer);\n};\n\nmodule.exports = MapHelpers;\n\n},{\"../layers/bases\":105}],108:[function(require,module,exports){\nvar Projection = function Projection() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!options.crs) return null;\n  // structure of information crs from server set on each layer and base layer\n  var _options$crs = options.crs,\n      epsg = _options$crs.epsg,\n      proj4def = _options$crs.proj4,\n      _options$crs$geograph = _options$crs.geographic,\n      geographic = _options$crs$geograph === undefined ? false : _options$crs$geograph,\n      _options$crs$axisinve = _options$crs.axisinverted,\n      axisinverted = _options$crs$axisinve === undefined ? false : _options$crs$axisinve,\n      extent = _options$crs.extent;\n\n  proj4def && proj4.defs(epsg, proj4def);\n  this._axisOrientation = axisinverted ? 'neu' : 'enu';\n  var degrees = geographic;\n  ol.proj.Projection.call(this, {\n    code: epsg,\n    extent: extent,\n    axisOrientation: this._axisOrientation,\n    units: degrees ? 'degrees' : 'm'\n  });\n};\n\nol.inherits(Projection, ol.proj.Projection);\n\nvar proto = Projection.prototype;\n\nproto.getAxisOrientation = function () {\n  return this._axisOrientation;\n};\n\nproto.isInvertedAxisOrientation = function () {\n  return this._axisOrientation === 'neu';\n};\n\nproto.getOlProjection = function () {};\n\nmodule.exports = Projection;\n\n},{}],109:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar Projection = require('./projection');\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    normalizeEpsg = _require2.normalizeEpsg;\n\nvar Projections = {\n\n  /**\n   * @since v3.8\n   */\n  isRegistered: function isRegistered(epsg) {\n    return ol.proj.get(epsg);\n  },\n  get: function get() {\n    var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var cachedProjection = this.isRegistered(crs.epsg);\n    if (cachedProjection) return cachedProjection;\n    var projection = new Projection({\n      crs: crs\n    });\n    ol.proj.addProjection(projection);\n    ol.proj.proj4.register(proj4);\n    return projection;\n  },\n\n\n  /**\n   * Check and register epsg\n   * \n   * @param epsg : \"EPSG:<CODE>\" Ex. \"EPSG:4326\"\n   * @returns {Promise<Projection>}\n   * @since v3.8\n   */\n  registerProjection: function registerProjection(epsg) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var projection = _this.isRegistered(epsg);\n      // check if already register\n      if (projection) resolve(projection);else {\n        XHR.get({ url: '' + _constant.API_BASE_URLS.CRS + epsg.split(':')[1] }).then(function (_ref) {\n          var result = _ref.result,\n              data = _ref.data;\n\n          if (result) {\n            data.epsg = normalizeEpsg(data.epsg);\n            projection = _this.get(data);\n            ol.proj.proj4.register(proj4);\n            resolve(projection);\n          }\n        }).catch(function (err) {\n          return reject(err);\n        });\n      }\n    });\n  }\n};\n\nmodule.exports = Projections;\n\n},{\"./projection\":108,\"constant\":4,\"core/utils/geo\":64,\"core/utils/utils\":67}],110:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction CatalogService() {\n  var _this2 = this;\n\n  this.state = {\n    prstate: _projects2.default.state,\n    highlightlayers: false,\n    external: {\n      wms: [], // added by wms cside bar component\n      vector: [] // added to map controls for the moment\n    },\n    layerstrees: [],\n    layersgroups: []\n  };\n\n  this.setters = {\n\n    /**\n     * @param {{ layer: unknown, type: 'vector' }}\n     * \n     * @fires CatalogService~addExternalLayer\n     * \n     * @since 3.8.0\n     */\n    addExternalLayer: function addExternalLayer() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          _ref$type = _ref.type,\n          type = _ref$type === undefined ? 'vector' : _ref$type;\n\n      layer.removable = true;\n      this.state.external[type].push(layer);\n    },\n\n\n    /**\n     * @param {{ name: string, type: 'vector' }}\n     * \n     * @fires CatalogService~removeExternalLayer\n     * \n     * @since 3.8.0\n     */\n    removeExternalLayer: function removeExternalLayer() {\n      var _this = this;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref2.name,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n      this.state.external[type].filter(function (layer, index) {\n        if (layer.name === name) {\n          _this.state.external[type].splice(index, 1);\n          return true;\n        }\n      });\n    },\n\n\n    /**\n     * @param {{ layer: unknown, type: unknown, selected: unknown }}\n     * \n     * @fires CatalogService~setSelectedExternalLayer\n     * \n     * @since 3.8.0\n     */\n    setSelectedExternalLayer: function setSelectedExternalLayer(_ref3) {\n      var layer = _ref3.layer,\n          type = _ref3.type,\n          selected = _ref3.selected;\n\n      this.state.external[type].forEach(function (externalLayer) {\n        if (typeof externalLayer.selected != \"undefined\") externalLayer.selected = layer === externalLayer ? selected : false;\n      });\n    }\n  };\n\n  base(this);\n  var layersStores = _catalogLayers2.default.getLayersStores();\n\n  layersStores.forEach(function (layersStore) {\n    return _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('addLayersStore', function (layersStore) {\n    _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('removeLayersStore', function (layersStore) {\n    _this2.state.layerstrees.find(function (layersTree, idx) {\n      if (layersTree.storeid === layersStore.getId()) {\n        _this2.state.layerstrees.splice(idx, 1);\n        return true;\n      }\n    });\n  });\n  _catalogLayers2.default.onafter('removeLayersStores', function () {\n    _this2.state.layerstrees.forEach(function (layersTree, idx) {\n      _this2.state.layerstrees.splice(idx, 1);\n    });\n  });\n}\n\ninherit(CatalogService, G3WObject);\n\nvar proto = CatalogService.prototype;\n\nproto.createLayersGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$title = _ref4.title,\n      title = _ref4$title === undefined ? 'Layers Group' : _ref4$title,\n      _ref4$layers = _ref4.layers,\n      layers = _ref4$layers === undefined ? [] : _ref4$layers;\n\n  var nodes = [];\n  layers.forEach(function (layer) {\n    return nodes.push(layer);\n  });\n  return {\n    title: title,\n    nodes: nodes\n  };\n};\n\nproto.getMajorQgisVersion = function () {\n  return _projects2.default.getCurrentProject().getQgisVersion({\n    type: 'major'\n  });\n};\n\n// method to add a custom layers group\nproto.addLayersGroup = function (layersGroup) {\n  this.state.layersgroups.push(layersGroup);\n};\n\nproto.addLayersStoreToLayersTrees = function (layersStore) {\n  this.state.layerstrees.push({\n    tree: layersStore.getLayersTree(),\n    storeid: layersStore.getId()\n  });\n};\n\nproto.changeMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(map_theme) {\n    var currentProject, rootNode, layerstree, changeMapThemeProjectObj;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // set is changing project view\n            _application2.default.changeProjectView(true);\n            currentProject = this.state.prstate.currentProject;\n            rootNode = this.state.layerstrees[0];\n\n            rootNode.checked = true;\n            layerstree = rootNode.tree[0].nodes;\n            _context.next = 7;\n            return currentProject.setLayersTreePropertiesFromMapTheme({\n              map_theme: map_theme,\n              layerstree: layerstree,\n              rootNode: rootNode\n            });\n\n          case 7:\n            changeMapThemeProjectObj = _context.sent;\n\n            _application2.default.changeProjectView(false);\n            return _context.abrupt('return', changeMapThemeProjectObj);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayers = function (_ref6) {\n  var _ref6$type = _ref6.type,\n      type = _ref6$type === undefined ? 'vector' : _ref6$type;\n\n  return this.state.external[type];\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalSelectedLayers = function (_ref7) {\n  var _ref7$type = _ref7.type,\n      type = _ref7$type === undefined ? 'vector' : _ref7$type;\n\n  return this.getExternalLayers({ type: type }).filter(function (layer) {\n    return layer.selected;\n  });\n};\n\n/**\n * @param {{ id: string, type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayerById = function (_ref8) {\n  var id = _ref8.id,\n      _ref8$type = _ref8.type,\n      type = _ref8$type === undefined ? 'vector' : _ref8$type;\n\n  return this.state.external[type].find(function (layer) {\n    return layer.id === id;\n  });\n};\n\n/**\n * @param {{ id: string, type: unknown }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function (_ref9) {\n  var id = _ref9.id,\n      type = _ref9.type;\n\n  var externalLayer = this.getExternalLayerById({ id: id, type: type });\n  return externalLayer && externalLayer.selected;\n};\n\nmodule.exports = CatalogService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":346,\"store/catalog-layers\":369,\"store/projects\":374}],111:[function(require,module,exports){\nvar _Catalog = require('components/Catalog.vue');\n\nvar catalogComponentOptions = _interopRequireWildcard(_Catalog);\n\nvar _CatalogLayersGroup = require('components/CatalogLayersGroup.vue');\n\nvar catalogLayersGroupComponentOptions = _interopRequireWildcard(_CatalogLayersGroup);\n\nvar _CatalogTristateTree = require('components/CatalogTristateTree.vue');\n\nvar catalogTristateTreeComponentOptions = _interopRequireWildcard(_CatalogTristateTree);\n\nvar _CatalogLayersLegend = require('components/CatalogLayersLegend.vue');\n\nvar catalogLayersLegendComponentOptions = _interopRequireWildcard(_CatalogLayersLegend);\n\nvar _CatalogLayersLegendItems = require('components/CatalogLayersLegendItems.vue');\n\nvar catalogLayersLegendItemsComponentOptions = _interopRequireWildcard(_CatalogLayersLegendItems);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/catalog/catalogservice');\n\nvar InternalComponent = Vue.extend(catalogComponentOptions);\n\nVue.component('g3w-catalog', catalogComponentOptions);\nVue.component('layers-group', catalogLayersGroupComponentOptions);\nVue.component('tristate-tree', catalogTristateTreeComponentOptions);\nVue.component('layerslegend', catalogLayersLegendComponentOptions);\nVue.component('layerslegend-items', catalogLayersLegendItemsComponentOptions);\n\nfunction CatalogComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.resizable = true;\n  base(this, options);\n  var legend = options.config.legend;\n\n  this.title = \"catalog\";\n  this.mapComponentId = options.mapcomponentid;\n  var service = options.service || new Service();\n  this.setService(service);\n  this.setInternalComponent(new InternalComponent({\n    service: service,\n    legend: legend\n  }));\n  this.internalComponent.state = this.getService().state;\n  var listenToMapVisibility = function listenToMapVisibility(map) {\n    var mapService = map.getService();\n    _this.state.visible = !mapService.state.hidden;\n    mapService.onafter('setHidden', function (hidden) {\n      _this.state.visible = !mapService.state.hidden;\n      _this.state.expanded = true;\n    });\n  };\n  if (this.mapComponentId) {\n    var map = _gui2.default.getComponent(this.mapComponentId);\n    !map && _components2.default.on('componentregistered', function (component) {\n      return component.getId() === _this.mapComponentId && listenToMapVisibility(component);\n    }) || listenToMapVisibility(map);\n  }\n}\n\ninherit(CatalogComponent, Component);\n\nmodule.exports = CatalogComponent;\n\n},{\"components/Catalog.vue\":194,\"components/CatalogLayersGroup.vue\":198,\"components/CatalogLayersLegend.vue\":199,\"components/CatalogLayersLegendItems.vue\":200,\"components/CatalogTristateTree.vue\":201,\"core/utils/utils\":67,\"gui/catalog/catalogservice\":110,\"gui/component/component\":114,\"services/gui\":356,\"store/components\":370}],112:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar CatalogEventHub = new Vue();\n\nexports.default = CatalogEventHub;\n\n},{}],113:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Chartsfactory = {\n  CHARTS: {\n    c3: {\n      lineXY: _C3XYLine2.default\n    }\n  },\n  /*\n  * type: <library(es:c3)>:<chartType:(es.lineXY)>\n  * */\n  build: function build() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref.type,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    var _type$split = type.split(':'),\n        _type$split2 = _slicedToArray(_type$split, 2),\n        _type$split2$ = _type$split2[0],\n        library = _type$split2$ === undefined ? 'c3' : _type$split2$,\n        _type$split2$2 = _type$split2[1],\n        chartType = _type$split2$2 === undefined ? 'lineXY' : _type$split2$2;\n\n    var chartVue = this.CHARTS[library][chartType];\n    return Object.assign(hooks, chartVue);\n  }\n};\n\nmodule.exports = Chartsfactory;\n\n},{\"components/C3XYLine.vue\":193}],114:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge,\n    noop = _require.noop,\n    capitalize_first_letter = _require.capitalize_first_letter,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar VUECOMPONENTSATTRIBUTES = ['methods', 'computed', 'data', 'components'];\n\n// class component\nvar Component = function Component() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._firstLayout = true;\n  // internal VUE component\n  this.internalComponent = null;\n  this._components = [];\n  var _options$id = options.id,\n      id = _options$id === undefined ? Math.random() * 1000 : _options$id,\n      _options$title = options.title,\n      title = _options$title === undefined ? '' : _options$title,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$open = options.open,\n      open = _options$open === undefined ? false : _options$open,\n      _options$resizable = options.resizable,\n      resizable = _options$resizable === undefined ? false : _options$resizable,\n      _options$info = options.info,\n      info = _options$info === undefined ? null : _options$info,\n      _options$loading = options.loading,\n      loading = _options$loading === undefined ? false : _options$loading,\n      _options$disabled = options.disabled,\n      disabled = _options$disabled === undefined ? false : _options$disabled,\n      _options$closewhensho = options.closewhenshowviewportcontent,\n      closewhenshowviewportcontent = _options$closewhensho === undefined ? true : _options$closewhensho;\n\n  this.id = id;\n  this.title = title;\n  this.state = {\n    visible: visible, // visibile\n    open: open, // open,\n    resizable: resizable,\n    info: info,\n    loading: loading,\n    disabled: disabled,\n    closewhenshowviewportcontent: closewhenshowviewportcontent,\n    sizes: {\n      width: 0,\n      height: 0\n    }\n  };\n  //setters\n  this.setters = {\n    setOpen: function setOpen(bool) {\n      this.state.open = bool;\n      this._setOpen(bool);\n    },\n    setVisible: function setVisible(bool) {\n      this.state.visible = bool;\n      this._setVisible(bool);\n    },\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.loading = bool;\n    },\n    setDisabled: function setDisabled() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.disabled = bool;\n    },\n    reload: function reload() {\n      this._reload();\n    }\n  };\n  merge(this, options);\n  base(this);\n  // add events options\n  this.events = options.events;\n  this.events && this.handleEventsComponent();\n};\n\ninherit(Component, G3WObject);\n\nvar proto = Component.prototype;\n\nproto.init = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.vueComponent = this.createVueComponent(options.vueComponentObject);\n  this._components = options.components || [];\n  var service = options.service || noop;\n  var template = options.template,\n      propsData = options.propsData;\n\n  this.setService(service);\n  this._service.init ? this._service.init(options) : null;\n  template && this.setInternalComponentTemplate(template);\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: this._service,\n      template: template,\n      propsData: propsData\n    });\n    this.internalComponent.state = this.getService().state;\n  };\n  this.setInternalComponent();\n};\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.setId = function (id) {\n  this.id = id;\n};\n\nproto.getOpen = function () {\n  return this.state.open;\n};\n\nproto.closeWhenViewportContentIsOpen = function () {\n  return this.getOpen() && this.state.closewhenshowviewportcontent;\n};\n\nproto.getVisible = function () {\n  return this.state.visible;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  this.state.title = title;\n};\n\nproto.getService = function () {\n  return this._service;\n};\n\nproto.setService = function (service) {\n  this._service = service;\n};\n\nproto.handleEventsComponent = function () {\n  var _events = this.events,\n      open = _events.open,\n      visible = _events.visible;\n\n  if (open) {\n    var _open$when = open.when,\n        when = _open$when === undefined ? \"after\" : _open$when,\n        _open$cb = open.cb,\n        cb = _open$cb === undefined ? function () {} : _open$cb,\n        _open$guiEvents = open.guiEvents,\n        guiEvents = _open$guiEvents === undefined ? [] : _open$guiEvents;\n\n    this['on' + when]('setOpen', function (bool) {\n      return cb(bool);\n    });\n  }\n};\n\nproto.insertComponentAt = function (index, Component) {\n  this._components.splice(index, 0, Component);\n};\n\nproto.removeCompomentAt = function (index) {\n  this._components.splice(index, 1);\n};\n\nproto.addComponent = function (Component) {\n  this._components.push(Component);\n};\n\nproto.popComponent = function () {\n  return this._components.pop();\n};\n\nproto.removeComponent = function (Component) {\n  var _this = this;\n\n  this._components.forEach(function (component, index) {\n    if (component === Component) {\n      _this.splice(index, 1);\n      return false;\n    }\n  });\n};\n\nproto.setComponents = function (components) {\n  this._components = Array.isArray(components) ? components : [];\n};\n\nproto.exendComponents = function (components) {\n  _.merge(this._components, components);\n};\n\nproto.getInternalComponent = function () {\n  return this.internalComponent;\n};\n\nproto.setInternalComponent = function (internalComponent) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!internalComponent && this.internalComponentClass) this.internalComponent = new this.internalComponentClass();else this.internalComponent = internalComponent;\n  var _options$events = options.events,\n      events = _options$events === undefined ? [] : _options$events;\n\n  events.forEach(function (event) {\n    var name = event.name,\n        handler = event.handler;\n\n    _this2.internalComponent.$on(name, function (data) {\n      return handler && handler(data) || _this2['set' + capitalize_first_letter(name)](data);\n    });\n  });\n};\n\nproto.createVueComponent = function (vueObjOptions) {\n  return _.cloneDeep(vueObjOptions);\n};\n\nproto.addInternalComponentData = function (data) {\n  _.merge(this.internalComponent, data);\n};\n\nproto.overwriteServiceMethod = function (methodName, method) {\n  this._service[methodName] = method;\n};\n\nproto.overwriteServiceMethods = function (methodsOptions) {\n  var _this3 = this;\n\n  Object.entries(methodsOptions).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        methodName = _ref2[0],\n        method = _ref2[1];\n\n    return _this3.overwriteServiceMethod(methodName, method);\n  });\n};\n\nproto.extendService = function (serviceOptions) {\n  this._service && merge(this._service, serviceOptions);\n};\n\nproto.extendInternalComponent = function (internalComponentOptions) {\n  var _this4 = this;\n\n  if (this.vueComponent) {\n    Object.entries(internalComponentOptions).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (VUECOMPONENTSATTRIBUTES.indexOf(key) > -1) {\n        switch (key) {\n          case 'methods':\n            _this4.extendInternalComponentMethods(value);\n            break;\n          case 'components':\n            _this4.extendInternalComponentComponents(value);\n            break;\n          default:\n            merge(_this4.vueComponent[key], value);\n        }\n      }\n    });\n  } else this.vueComponent = internalComponentOptions;\n};\n\nproto.extendInternalComponentComponents = function (components) {\n  components && merge(this.vueComponent.components, components);\n};\n\nproto.extendComponents = function (components) {\n  this.extendInternalComponentComponents(components);\n};\n\nproto.addComponent = function (component) {\n  if (component) this.vueComponent.components[component.key] = component.value;\n};\n\nproto.extendInternalComponentMethods = function (methods) {\n  if (methods) {\n    Object.entries(methods).forEach.forEach(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          value = _ref6[1];\n\n      return !(value instanceof Function) && delete methods[key];\n    });\n    merge(this.vueComponent.methods, methods);\n  }\n};\n\nproto.extendInternalComponentComputed = function (computed) {\n  if (computed) {\n    Object.entries(computed).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          value = _ref8[1];\n\n      return !(value instanceof Function) && delete computed[key];\n    });\n    merge(this.vueComponent.computed, computed);\n  }\n};\n\nproto.setInternalComponentTemplate = function (template) {\n  if (template) this.vueComponent.template = template;\n};\n\nproto.getInternalTemplate = function () {\n  return this.vueComponent.template;\n};\n\nproto.destroy = function () {};\n\nproto.click = function () {};\n\n// hook function to show componet\nproto.show = function () {};\n\nproto._setOpen = function (bool) {};\n\nproto._setVisible = function () {};\n\nproto._reload = function () {};\n\nproto.mount = function (parent, append) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  if (!this.internalComponent) this.setInternalComponent();\n  if (append) {\n    var iCinstance = this.internalComponent.$mount();\n    $(parent).append(iCinstance.$el);\n  } else this.internalComponent.$mount(parent);\n  this.internalComponent.$nextTick(function () {\n    $(parent).localize();\n    _this5.emit('ready');\n    d.resolve(true);\n  });\n  // emit mount event\n  this.emit('mount');\n  return d.promise();\n};\n\nproto.unmount = function () {\n  if (!this.internalComponent) return resolve();\n  if (this.state.resizable) this.internalComponent.$off('resize-component', this.internalComponent.layout);\n  this.state.open = false;\n  // destroy vue component\n  this.internalComponent.$destroy(true);\n  // remove dom element\n  $(this.internalComponent.$el).remove();\n  // set internal componet to null (for GC)\n  this.internalComponent = null;\n  // emit unmount event\n  this.emit('unmount');\n  return resolve();\n};\n\nproto.ismount = function () {\n  return this.internalComponent && this.internalComponent.$el;\n};\n\nproto.layout = function (width, height) {\n  var _this6 = this;\n\n  if (this.state.resizable && this._firstLayout) {\n    this.internalComponent.$on('resize-component', this.internalComponent.layout);\n    this._firstLayout = false;\n  }\n  this.internalComponent.$nextTick(function () {\n    _this6.internalComponent.$emit('resize-component', {\n      width: width,\n      height: height\n    });\n  });\n  // emit layout event\n  this.emit('layout');\n};\n\nmodule.exports = Component;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],115:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Component = require('gui/component/component');\n\nvar ComponentsFactory = {\n  // build a componet\n  build: function build(_ref) {\n    var vueComponentObject = _ref.vueComponentObject,\n        service = _ref.service,\n        propsData = _ref.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var component = new Component(options);\n    component.init({\n      vueComponentObject: vueComponentObject,\n      service: service,\n      propsData: propsData\n    });\n    return component;\n  },\n\n  //buildSidebarComponent and add to sidebar\n  buildSidebar: function buildSidebar(_ref2) {\n    var vueComponentObject = _ref2.vueComponentObject,\n        service = _ref2.service,\n        propsData = _ref2.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = options.id,\n        title = options.title,\n        _options$open = options.open,\n        open = _options$open === undefined ? false : _options$open,\n        _options$collapsible = options.collapsible,\n        collapsible = _options$collapsible === undefined ? true : _options$collapsible,\n        _options$isolate = options.isolate,\n        isolate = _options$isolate === undefined ? false : _options$isolate,\n        _options$mobile = options.mobile,\n        mobile = _options$mobile === undefined ? true : _options$mobile,\n        _options$iconConfig = options.iconConfig,\n        iconConfig = _options$iconConfig === undefined ? {} : _options$iconConfig,\n        _options$events = options.events,\n        events = _options$events === undefined ? {} : _options$events,\n        _options$sidebarOptio = options.sidebarOptions,\n        sidebarOptions = _options$sidebarOptio === undefined ? { position: 1 } : _options$sidebarOptio;\n\n\n    var component = this.build({ vueComponentObject: vueComponentObject }, {\n      id: id,\n      title: title,\n      open: open,\n      collapsible: collapsible,\n      isolate: isolate,\n      iconColor: iconConfig.color && iconConfig.color,\n      icon: iconConfig.icon && _gui2.default.getFontClass(iconConfig.icon),\n      mobile: mobile,\n      events: events\n    });\n\n    _gui2.default.addComponent(component, 'sidebar', sidebarOptions);\n    return component;\n  }\n};\n\nmodule.exports = ComponentsFactory;\n\n},{\"gui/component/component\":114,\"services/gui\":356}],116:[function(require,module,exports){\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nmodule.exports = {\n  matcher: function matcher(params, data) {\n    var searchItem = params.term ? params.term.toLowerCase() : params.term;\n    // If there are no search terms, return all of the data\n    if ($.trim(searchItem) === '') return data;\n    // Do not display the item if there is no 'text' property\n    if (typeof data.text === 'undefined') return null;\n    // `params.term` should be the term that is used for searching\n    // `data.text` is the text that is displayed for the data object\n    if (data.text.toLowerCase().indexOf(searchItem) > -1) {\n      var modifiedData = $.extend({}, data, true);\n      // You can return modified objects from here\n      // This includes matching the `children` how you want in nested data sets\n      return modifiedData;\n    }\n    // Return `null` if the term should not be displayed\n    return null;\n  },\n  language: {\n    noResults: function noResults() {\n      return t(\"sdk.search.no_results\");\n    },\n    errorLoading: function errorLoading() {\n      return t(\"sdk.search.error_loading\");\n    },\n    searching: function searching() {\n      return t(\"sdk.search.searching\");\n    },\n    inputTooShort: function inputTooShort(args) {\n      var remainingChars = args.minimum - args.input.length;\n      return t(\"sdk.search.autocomplete.inputshort.pre\") + ' ' + remainingChars + ' ' + t(\"sdk.search.autocomplete.inputshort.post\");\n    }\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],117:[function(require,module,exports){\nvar _FieldText = require('components/FieldText.vue');\n\nvar _FieldText2 = _interopRequireDefault(_FieldText);\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldImage = require('components/FieldImage.vue');\n\nvar _FieldImage2 = _interopRequireDefault(_FieldImage);\n\nvar _FieldGeo = require('components/FieldGeo.vue');\n\nvar _FieldGeo2 = _interopRequireDefault(_FieldGeo);\n\nvar _FieldMedia = require('components/FieldMedia.vue');\n\nvar _FieldMedia2 = _interopRequireDefault(_FieldMedia);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = {\n  simple_field: _FieldText2.default,\n  text_field: _FieldText2.default,\n  link_field: _FieldLink2.default,\n  image_field: _FieldImage2.default,\n  geo_field: _FieldGeo2.default,\n  photo_field: _FieldImage2.default,\n  media_field: _FieldMedia2.default,\n  vue_field: _FieldVue2.default\n};\n\nmodule.exports = Fields;\n\n},{\"components/FieldGeo.vue\":204,\"components/FieldImage.vue\":205,\"components/FieldLink.vue\":206,\"components/FieldMedia.vue\":207,\"components/FieldText.vue\":208,\"components/FieldVue.vue\":209}],118:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('./fields');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar URLPattern = /^(https?:\\/\\/[^\\s]+)/g;\nvar PhotoPattern = /[^\\s]+.(png|jpg|jpeg|gif)$/g;\n\nvar FieldType = {\n  SIMPLE: 'simple',\n  GEO: 'geo',\n  LINK: 'link',\n  PHOTO: 'photo',\n  PHOTOLINK: \"photolink\",\n  IMAGE: 'image',\n  POINTLINK: 'pointlink',\n  ROUTE: 'route',\n  VUE: 'vue'\n};\n\nmodule.exports = {\n  /**\n   * Get Type field from field value\n   * field : Object contain the value of the field\n   * @param field\n   * @returns {string}\n   */\n  getType: function getType(field) {\n    var type = field.type;\n    if (type !== 'vue') {\n      var fieldValue = field.value;\n      var value = fieldValue && toRawType(fieldValue) === 'Object' && !fieldValue.coordinates && !fieldValue.vue ? fieldValue.value : fieldValue;\n      if (!value) type = FieldType.SIMPLE;else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\n        if (value.coordinates) type = FieldType.GEO;else if (value.vue) type = FieldType.VUE;\n      } else if (value && Array.isArray(value)) {\n        if (value.length && value[0].photo) type = FieldType.PHOTO;else type = FieldType.SIMPLE;\n      } else if (value.toString().toLowerCase().match(PhotoPattern)) {\n        type = FieldType.PHOTO;\n      } else if (value.toString().match(URLPattern)) {\n        type = FieldType.LINK;\n      } else type = FieldType.SIMPLE;\n    }\n    return type + '_field';\n  },\n  isSimple: function isSimple(field) {\n    return this.getType(field) === FieldType.SIMPLE + '_field';\n  },\n  isLink: function isLink(field) {\n    return this.getType(field) === FieldType.LINK + '_field';\n  },\n  isImage: function isImage(field) {\n    return this.getType(field) === FieldType.IMAGE + '_field';\n  },\n  isPhoto: function isPhoto(field) {\n    return this.getType(field) === FieldType.PHOTO + '_field';\n  },\n  isVue: function isVue(field) {\n    return this.getType(field) === FieldType.VUE + '_field';\n  },\n\n  /**\n   * Method to add a new field type to Fields\n   * @param type\n   * @param field\n   */\n  add: function add(_ref) {\n    var type = _ref.type,\n        field = _ref.field;\n\n    Fields[type] = field;\n  },\n\n  /**\n   * Remove field from Fields list\n   * @param type\n   */\n  remove: function remove(type) {\n    delete Fields[type];\n  },\n\n  /**\n   * chenge type of field (example to set vue type)\n   * @param layerId\n   * @param field\n   */\n  changeConfigFieldType: function changeConfigFieldType(_ref2) {\n    var layerId = _ref2.layerId,\n        _ref2$field = _ref2.field,\n        field = _ref2$field === undefined ? {} : _ref2$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.changeConfigFieldType(field);\n  },\n\n  /**\n   * Reset origin type\n   * @param layerId\n   * @param field\n   */\n  resetConfigFieldType: function resetConfigFieldType(_ref3) {\n    var layerId = _ref3.layerId,\n        _ref3$field = _ref3.field,\n        field = _ref3$field === undefined ? {} : _ref3$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.resetConfigField(field);\n  }\n};\n\n},{\"./fields\":117,\"core/utils/utils\":67,\"store/catalog-layers\":369}],119:[function(require,module,exports){\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction FormService() {\n  var _this = this;\n\n  this.state = null;\n  this.eventBus = new Vue();\n  /**\n   * property used to force some state property to force to be a certain value.\n   * It set fro example by child form service to form service parent\n   * @type {{valid: boolean, update: boolean}}\n   */\n  this.force = {\n    update: false,\n    valid: false // NOT USED FOR THE MOMENT\n  };\n  this.layer;\n  this.setters = {\n    setInitForm: function setInitForm() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setInitForm(options);\n    },\n    setFormStructure: function setFormStructure(formStructure) {\n      this.state.formstructure = formStructure;\n    },\n\n    // setter change fields\n    setFormFields: function setFormFields() {\n      var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.fields = fields;\n      this.handleFieldsWithExpression(fields);\n    },\n    setupFields: function setupFields() {\n      this._setupFields();\n    },\n\n    // setter insert data into form\n    setFormData: function setFormData(fields) {\n      this.setFormFields(fields);\n    },\n\n    // setter single field\n    setField: function setField(field) {},\n\n    // settere state\n    setState: function setState(state) {\n      this._setState(state);\n    },\n\n    // setter add action\n    addActionsForForm: function addActionsForForm(actions) {},\n    postRender: function postRender(element) {\n      // hook for listener to chenge DOM\n    }\n  };\n  base(this);\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._setInitForm(options);\n  };\n  // init form options passed for example by editor\n  this._setInitForm = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fields = options.fields,\n        feature = options.feature,\n        parentData = options.parentData,\n        layer = options.layer,\n        _options$title = options.title,\n        title = _options$title === undefined ? 'Form' : _options$title,\n        formId = options.formId,\n        name = options.name,\n        _options$buttons = options.buttons,\n        buttons = _options$buttons === undefined ? {} : _options$buttons,\n        context_inputs = options.context_inputs,\n        isnew = options.isnew,\n        _options$footer = options.footer,\n        footer = _options$footer === undefined ? {} : _options$footer,\n        headerComponent = options.headerComponent;\n\n    this.layer = layer;\n    // need to be cloned\n    this.feature = feature.clone();\n    this.title = title;\n    this.formId = formId;\n    this.name = name;\n    this.buttons = buttons;\n    this.context_inputs = context_inputs;\n    this.parentData = parentData;\n    this.headerComponent = headerComponent;\n    // Property used to set forced update state of the service\n    //Used fro example from child form to set update also parent service\n    this.state = {\n      layerid: layer.getId(),\n      loading: false,\n      components: [],\n      disabledcomponents: [],\n      component: null,\n      headers: [],\n      currentheaderid: null,\n      fields: null,\n      buttons: this.buttons,\n      disabled: false,\n      isnew: isnew,\n      valid: true, // global form validation state. True at beginning\n      update: feature.isNew(), // set update in case or not is a new feature\n      // when input change will be update\n      tovalidate: {},\n      feature: feature,\n      componentstovalidate: {},\n      footer: footer,\n      ready: false\n    };\n    this.force.update = feature.isNew();\n    this.filter_expression_fields_dependencies = {}; // expression fields dependencies from filter_expression\n    this.default_expression_fields_dependencies = {};\n    this.setFormFields(fields);\n    if (this.layer && options.formStructure) {\n      var formstructure = this.layer.getLayerEditingFormStructure(fields);\n      this.setFormStructure(formstructure);\n    }\n  };\n  this.eventBus.$on('set-loading-form', function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return _this.state.loading = bool;\n  });\n}\n\ninherit(FormService, G3WObject);\n\nvar proto = FormService.prototype;\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.ready = bool;\n};\n\n/**\n * Method called when an input change value\n * @param input\n */\nproto.changeInput = function (input) {\n  this.evaluateFilterExpressionFields(input);\n  this.evaluateDefaultExpressionFields(input);\n  this.isValid(input);\n  this.isUpdated(input);\n};\n\n/**\n * Method to check if form is updated base on change on input\n * @param input\n */\nproto.isUpdated = function (input) {\n  this.state.update = this.force.update || (!this.state.update ? input.update : !!this.state.fields.find(function (field) {\n    return field.update;\n  }));\n};\n\n/**\n *\n */\nproto.setUpdate = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$force = options.force,\n      force = _options$force === undefined ? false : _options$force;\n\n  this.force.update = force;\n  this.state.update = this.force.update || bool;\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateDefaultExpressionFields = function () {\n  var _this2 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var default_expression_fields_dependencies = this.default_expression_fields_dependencies[input.name];\n  if (default_expression_fields_dependencies) {\n    this.feature.set(input.name, input.value);\n    default_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this2._getField(expression_dependency_field);\n      var qgs_layer_id = _this2.layer.getId();\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        parentData: _this2.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this2.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateFilterExpressionFields = function () {\n  var _this3 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filter_expression_fields_dependencies = this.filter_expression_fields_dependencies[input.name];\n  if (filter_expression_fields_dependencies) {\n    //need in case of init form service where filter_expression option has\n    //referencing_fields or referenced_columns from another layer\n    var fieldForm = this._getField(input.name);\n    fieldForm && this.feature.set(fieldForm.name, fieldForm.value);\n    filter_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this3._getField(expression_dependency_field);\n      var qgs_layer_id = _this3.layer.getId();\n      _inputservice2.default.handleFilterExpressionFormInput({\n        parentData: _this3.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this3.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to handle expression on\n * @param fields\n */\nproto.handleFieldsWithExpression = function () {\n  var _this4 = this;\n\n  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fields.forEach(function (field) {\n    var _field$input$options = field.input.options,\n        options = _field$input$options === undefined ? {} : _field$input$options;\n    /**\n     * Case of a field that has a filter_expression value object\n     */\n\n    if (options.filter_expression) {\n      var filter_expression_dependency_fields = new Set();\n      var _options$filter_expre = options.filter_expression,\n          _options$filter_expre2 = _options$filter_expre.referencing_fields,\n          referencing_fields = _options$filter_expre2 === undefined ? [] : _options$filter_expre2,\n          _options$filter_expre3 = _options$filter_expre.referenced_columns,\n          referenced_columns = _options$filter_expre3 === undefined ? [] : _options$filter_expre3;\n\n      [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n        return filter_expression_dependency_fields.add(dependency_field);\n      });\n      filter_expression_dependency_fields.forEach(function (dependency_field) {\n        if (_this4.filter_expression_fields_dependencies[dependency_field] === undefined) _this4.filter_expression_fields_dependencies[dependency_field] = [];\n        _this4.filter_expression_fields_dependencies[dependency_field].push(field.name);\n      });\n    }\n    /**\n     * Case of a field that has a default_value object and check if apply_on_update only\n     */\n    if (options.default_expression) {\n      var _options$default_expr = options.default_expression,\n          _options$default_expr2 = _options$default_expr.referencing_fields,\n          _referencing_fields = _options$default_expr2 === undefined ? [] : _options$default_expr2,\n          _options$default_expr3 = _options$default_expr.referenced_columns,\n          _referenced_columns = _options$default_expr3 === undefined ? [] : _options$default_expr3,\n          _options$default_expr4 = _options$default_expr.apply_on_update,\n          apply_on_update = _options$default_expr4 === undefined ? false : _options$default_expr4;\n      /**\n       * In case on apply_on_update true always listend dependenencies change\n       * otherwise only for new Feature\n       */\n\n\n      if (apply_on_update || _this4.state.isnew) {\n        var default_expression_dependency_fields = new Set();\n        [].concat(_toConsumableArray(_referenced_columns), _toConsumableArray(_referencing_fields)).forEach(function (dependency_field) {\n          return default_expression_dependency_fields.add(dependency_field);\n        });\n        default_expression_dependency_fields.forEach(function (dependency_field) {\n          if (_this4.default_expression_fields_dependencies[dependency_field] === undefined) _this4.default_expression_fields_dependencies[dependency_field] = [];\n          _this4.default_expression_fields_dependencies[dependency_field].push(field.name);\n        });\n      }\n    }\n  });\n  // start to evaluate filter expression field\n  Object.keys(this.filter_expression_fields_dependencies).forEach(function (name) {\n    _this4.evaluateFilterExpressionFields({\n      name: name\n    });\n  });\n};\n\nproto.setCurrentFormPercentage = function (perc) {\n  this.layer.setFormPercentage(perc);\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.setValidComponent = function (_ref) {\n  var id = _ref.id,\n      valid = _ref.valid;\n\n  this.state.componentstovalidate[id] = valid;\n  this.isValid();\n};\n\nproto.getValidComponent = function (id) {\n  return this.state.componentstovalidate[id];\n};\n\n// Every input send to form it valid value that will change the general state of form\nproto.isValid = function (input) {\n  var _this5 = this;\n\n  if (input) {\n    // check mutually\n    if (input.validate.mutually) {\n      if (!input.validate.required) {\n        if (!input.validate.empty) {\n          input.validate._valid = input.validate.valid;\n          input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n            return previous && _this5.state.tovalidate[inputname].validate.empty;\n          }, true);\n          input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n        } else {\n          input.value = null;\n          input.validate.mutually_valid = true;\n          input.validate.valid = true;\n          input.validate._valid = true;\n          var countNoTEmptyInputName = [];\n          for (var i = input.validate.mutually.length; i--;) {\n            var inputname = input.validate.mutually[i];\n            !this.state.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n          }\n          if (countNoTEmptyInputName.length < 2) {\n            countNoTEmptyInputName.forEach(function (inputname) {\n              _this5.state.tovalidate[inputname].validate.mutually_valid = true;\n              _this5.state.tovalidate[inputname].validate.valid = true;\n              setTimeout(function () {\n                _this5.state.tovalidate[inputname].validate.valid = _this5.state.tovalidate[inputname].validate._valid;\n                _this5.state.valid = _this5.state.valid && _this5.state.tovalidate[inputname].validate.valid;\n              });\n            });\n          }\n        }\n      }\n      //check if min_field or max_field is set\n    } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n      var input_name = input.validate.min_field || input.validate.max_field;\n      input.validate.valid = input.validate.min_field ? this.state.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.state.tovalidate[input.validate.min_field].value : this.state.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.state.tovalidate[input.validate.max_field].value;\n      if (input.validate.valid) this.state.tovalidate[input_name].validate.valid = true;\n    }\n  }\n  this.state.valid = Object.values(this.state.tovalidate).reduce(function (previous, input) {\n    return previous && input.validate.valid;\n  }, true) && Object.values(this.state.componentstovalidate).reduce(function (previous, valid) {\n    return previous && valid;\n  }, true);\n};\n\nproto.addComponents = function () {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var component = _step.value;\n\n      this.addComponent(component);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addComponent = function (component) {\n  var id = component.id,\n      title = component.title,\n      name = component.name,\n      icon = component.icon,\n      valid = component.valid,\n      headerComponent = component.headerComponent,\n      _component$header = component.header,\n      header = _component$header === undefined ? true : _component$header;\n\n  if (valid !== undefined) {\n    this.state.componentstovalidate[id] = valid;\n    this.state.valid = this.state.valid && valid;\n    this.eventBus.$emit('add-component-validate', {\n      id: id,\n      valid: valid\n    });\n  }\n  // we can set a component that can be part of headers (tabs or not)\n  if (header) {\n    this.state.headers.push({ title: title, name: name, id: id, icon: icon, component: headerComponent });\n    this.state.currentheaderid = this.state.currentheaderid || id;\n  }\n\n  this.state.components.push(component);\n};\n\nproto.replaceComponent = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      component = _ref2.component;\n\n  var index = this.state.components.findIndex(function (component) {\n    return component.id === id;\n  });\n  this.state.components.splice(index, 1, component);\n};\n\nproto.disableComponent = function (_ref3) {\n  var id = _ref3.id,\n      disabled = _ref3.disabled;\n\n  if (disabled) this.state.disabledcomponents.push(id);else this.state.disabledcomponents = this.state.disabledcomponents.filter(function (disableId) {\n    return disabledId !== id;\n  });\n};\n\nproto.setCurrentComponentById = function (id) {\n  if (this.state.disabledcomponents.indexOf(id) === -1) {\n    this.setIdHeader(id);\n    this.state.component = this.state.components.find(function (component) {\n      return component.id === id;\n    }).component;\n    return this.state.component;\n  }\n};\n\n/**\n * setRootComponent (is form )\n */\nproto.setRootComponent = function () {\n  this.state.component = this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.getRootComponent = function () {\n  return this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.isRootComponent = function (component) {\n  return this.getRootComponent() == component;\n};\n\nproto.getComponentById = function (id) {\n  return this.state.components.find(function (component) {\n    return component.id === id;\n  });\n};\n\nproto.setComponent = function (component) {\n  this.state.component = component;\n};\n\nproto.addedComponentTo = function () {\n  var formcomponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'body';\n\n  this.state.addedcomponentto[formcomponent] = true;\n};\n\nproto.addToValidate = function (input) {\n  this.state.tovalidate[input.name] = input;\n  // check if is mounted on form gui otherwise leave form component to run is Valid whe form is mounted on dom\n  this.state.ready && this.isValid(input);\n};\n\nproto.removeToValidate = function (input) {\n  delete this.state.tovalidate[input.name];\n  this.isValid();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._setState = function (state) {\n  this.state = state;\n};\n\nproto.getFields = function () {\n  return this.state.fields;\n};\n\nproto._getField = function (fieldName) {\n  return this.state.fields.find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEventBus = function () {\n  return this.eventBus;\n};\n\nproto.setIdHeader = function (id) {\n  this.state.currentheaderid = id;\n};\n\nproto.getContext = function () {\n  return this.context_inputs.context;\n};\n\nproto.getSession = function () {\n  return this.getContext().session;\n};\n\nproto.getInputs = function () {\n  return this.context_inputs.inputs;\n};\n\n/**\n * handleRelation\n */\n\nproto.handleRelation = function (_ref4) {\n  //OVERWRITE BY  PLUGIN EDITING PLUGIN\n\n  var relationId = _ref4.relationId,\n      feature = _ref4.feature;\n};\n\n//method to clear all the open thinghs opened by service\nproto.clearAll = function () {\n  this.eventBus.$off('addtovalidate');\n  this.eventBus.$off('set-main-component');\n  this.eventBus.$off('set-loading-form');\n  this.eventBus.$off('component-validation');\n  this.eventBus.$off('disable-component');\n};\n\nmodule.exports = FormService;\n\n},{\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/utils/utils\":67}],120:[function(require,module,exports){\nvar _Form = require('components/Form.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Form);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/form/formservice');\n\nfunction FormComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$id = options.id,\n      id = _options$id === undefined ? 'form' : _options$id,\n      name = options.name,\n      title = options.title,\n      headerComponent = options.headerComponent;\n\n  base(this, options);\n  options.service = options.service ? new options.service() : new Service();\n  options.vueComponentObject = options.vueComponentObject || vueComponentOptions;\n  //set element of the form\n  var components = options.components || [{\n    id: id,\n    title: title,\n    name: name,\n    root: true,\n    component: _FormBody2.default,\n    headerComponent: headerComponent\n  }];\n  options.perc = options.layer.getFormPercentage() !== null ? options.layer.getFormPercentage() : options.perc;\n  // initialize component\n  this.init(options);\n  this.getService().addComponents(components);\n  this.getService().setComponent(components[0].component);\n  /**\n   * Used to add component to form body\n   * @param component\n   */\n  this.addBodyFormComponent = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        component = _ref.component,\n        _ref$where = _ref.where,\n        where = _ref$where === undefined ? 'after' : _ref$where;\n\n    this.getInternalComponent().body.components[where].push(component);\n  };\n\n  this.addBodyFormComponents = function () {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$components = _ref2.components,\n        components = _ref2$components === undefined ? [] : _ref2$components,\n        _ref2$where = _ref2.where,\n        where = _ref2$where === undefined ? \"after\" : _ref2$where;\n\n    components.forEach(function (component) {\n      return _this.addBodyFormComponent({\n        component: component,\n        where: where\n      });\n    });\n  };\n\n  this.addFormComponents = function () {\n    var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.getService().addComponents(components);\n  };\n\n  this.addFormComponent = function (component) {\n    component && this.getService().addComponent(component);\n  };\n  // some utilities methods\n  this.addDependecyComponents = function (components) {\n    this.getService().addDependecyComponents(components);\n  };\n  this.addComponentBeforeBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(1, Component);\n  };\n\n  this.addComponentAfterBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(2, Component)\n  };\n\n  this.addComponentBeforeFooter = function () {\n    //TODO\n  };\n\n  this.addComponentAfterFooter = function (Component) {\n    //TODO\n  };\n  // overwrite father mount method.\n  this.mount = function (parent, append) {\n    return base(this, 'mount', parent, append).then(function () {\n      // set modal window to true\n      _gui2.default.setModal(true);\n    });\n  };\n\n  this.layout = function () {\n    this.internalComponent.reloadLayout();\n  };\n}\n\ninherit(FormComponent, Component);\n\nmodule.exports = FormComponent;\n\n},{\"components/Form.vue\":211,\"components/FormBody.vue\":212,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/form/formservice\":119,\"services/gui\":356}],121:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction CheckBoxService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var value = options.state.input.options.values.find(function (value) {\n    return value.checked === false;\n  });\n  options.validatorOptions = {\n    values: options.state.input.options.values.map(function (value) {\n      return value;\n    })\n  };\n  if (options.state.value === null && !options.state.forceNull) options.state.value = value.value;\n  base(this, options);\n}\n\ninherit(CheckBoxService, Service);\n\nvar proto = CheckBoxService.prototype;\n\nproto.convertCheckedToValue = function (checked) {\n  checked = checked === null || checked === undefined ? false : checked;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.checked === checked;\n  });\n  this.state.value = option.value;\n  return this.state.value;\n};\n\nproto.convertValueToChecked = function () {\n  var valueToCheck = this.state.value;\n  if (valueToCheck === null || valueToCheck === undefined) return false;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.value == valueToCheck;\n  });\n  if (option === undefined) {\n    option = this.state.input.options.values.find(function (value) {\n      return value.checked === false;\n    });\n    this.state.value = option.value;\n  }\n  return option.checked;\n};\n\nmodule.exports = CheckBoxService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144}],122:[function(require,module,exports){\nvar _InputCheckbox = require('components/InputCheckbox.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputCheckbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar CheckBoxInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = CheckBoxInput;\n\n},{\"components/InputCheckbox.vue\":232}],123:[function(require,module,exports){\nvar _InputColor = require('components/InputColor.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputColor.vue\":233}],124:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nvar Service = require('gui/inputs/service');\n\nfunction DateTimePickerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.validatorOptions = {};\n  base(this, options);\n}\n\ninherit(DateTimePickerService, Service);\n\nvar proto = DateTimePickerService.prototype;\n\nproto.getLocale = function () {\n  var applicationConfig = _application2.default.getConfig();\n  return applicationConfig.user.i18n ? applicationConfig.user.i18n : 'en';\n};\n\nproto.convertQGISDateTimeFormatToMoment = function (datetimeformat) {\n  return convertQGISDateTimeFormatToMoment(datetimeformat);\n};\n\nproto.setValidatorOptions = function (options) {\n  this.validatorOptions = options;\n};\n\nmodule.exports = DateTimePickerService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144,\"services/application\":346}],125:[function(require,module,exports){\nvar _InputDateTimePicker = require('components/InputDateTimePicker.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputDateTimePicker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DateTimePickerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = DateTimePickerInput;\n\n},{\"components/InputDateTimePicker.vue\":234}],126:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction FloatService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(FloatService, Service);\n\nmodule.exports = FloatService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144}],127:[function(require,module,exports){\nvar _InputFloat = require('components/InputFloat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputFloat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar FloatInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = FloatInput;\n\n},{\"components/InputFloat.vue\":235}],128:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputBase = require('components/InputBase.vue');\n\nvar _InputBase2 = _interopRequireDefault(_InputBase);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputServices = require('./services');\n\nvar Input = {\n  props: ['state'],\n  mixins: [_mixins.baseInputMixin],\n  components: {\n    'baseinput': _InputBase2.default\n  },\n  watch: {\n    'notvalid': function notvalid(_notvalid) {\n      _notvalid && this.service.setErrorMessage(this.state);\n    },\n    'state.value': function stateValue() {\n      this.state.input.options.default_expression && this.change();\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.service = new InputServices[this.state.input.type]({\n      state: this.state\n    });\n    this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      return _this.service.setErrorMessage(_this.state);\n    });\n    this.state.editable && this.state.validate.required && this.service.validate();\n    this.$emit('addinput', this.state);\n    /**\n     * in case of input value is fill with default value option we need to emit changeinput event\n     * without check validation. Example:\n     * {\n        \"name\": \"id\",\n        \"type\": \"integer\",\n        \"label\": \"id\",\n        \"editable\": false,\n        \"validate\": {\n            \"required\": true,\n            \"unique\": true\n        },\n        \"pk\": true,\n        \"default\": \"nextval('g3wsuite.zone_id_seq'::regclass)\",\n        \"input\": {\n            \"type\": \"text\",\n            \"options\": {}\n        }\n      }\n     in this case if we start a validation, it fail because default value is a string while input is interger\n     */\n    this.state.value_from_default_value && this.$emit('changeinput', this.state);\n  },\n  destroyed: function destroyed() {\n    // emit remove input to form (in case for example tab visibility condition)\n    this.$emit('removeinput', this.state);\n  }\n};\n\nmodule.exports = Input;\n\n},{\"./services\":145,\"components/InputBase.vue\":231,\"mixins\":338,\"store/application-state\":368}],129:[function(require,module,exports){\nvar InputsComponents = {\n  'text_input': require('./text/vue/text'),\n  'texthtml_input': require('./texthtml/vue/texthtml'),\n  'textarea_input': require('./textarea/vue/textarea'),\n  'integer_input': require('./integer/vue/integer'),\n  'string_input': require('./text/vue/text'), //temporary\n  'float_input': require('./float/vue/float'),\n  'radio_input': require('./radio/vue/radio'),\n  'check_input': require('./checkbox/vue/checkbox'),\n  'range_input': require('./range/vue/range'),\n  'datetimepicker_input': require('./datetimepicker/vue/datetimepicker'),\n  'unique_input': require('./unique/vue/unique'),\n  'select_input': require('./select/vue/select'),\n  'media_input': require('./media/vue/media'),\n  'select_autocomplete_input': require('./select/vue/select'),\n  'picklayer_input': require('./picklayer/vue/picklayer'),\n  'color_input': require('./color/vue/color'),\n  'slider_input': require('./sliderrange/vue/sliderrange'),\n  'lonlat_input': require('./lonlat/vue/lonlat')\n};\n\nmodule.exports = InputsComponents;\n\n},{\"./checkbox/vue/checkbox\":122,\"./color/vue/color\":123,\"./datetimepicker/vue/datetimepicker\":125,\"./float/vue/float\":127,\"./integer/vue/integer\":131,\"./lonlat/vue/lonlat\":133,\"./media/vue/media\":135,\"./picklayer/vue/picklayer\":137,\"./radio/vue/radio\":139,\"./range/vue/range\":141,\"./select/vue/select\":143,\"./sliderrange/vue/sliderrange\":147,\"./text/vue/text\":148,\"./textarea/vue/textarea\":149,\"./texthtml/vue/texthtml\":150,\"./unique/vue/unique\":152}],130:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction IntegerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(IntegerService, Service);\n\nmodule.exports = IntegerService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144}],131:[function(require,module,exports){\nvar _InputInteger = require('components/InputInteger.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputInteger);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar IntegerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = IntegerInput;\n\n},{\"components/InputInteger.vue\":238}],132:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction LonLatService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.coordinatebutton;\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.mapEpsg = this.mapService.getCrs();\n  this.mapControlToggleEventHandler = function (evt) {\n    if (evt.target.isToggled() && evt.target.isClickMap()) {\n      _this.coordinatebutton.active && _this.toggleGetCoordinate();\n    }\n  };\n  this.map = _gui2.default.getComponent('map').getService().getMap();\n  this.outputEpsg = this.state.epsg || this.mapEpsg;\n  this.eventMapKey;\n}\n\ninherit(LonLatService, Service);\n\nvar proto = LonLatService.prototype;\n\nproto.setCoordinateButtonReactiveObject = function (coordinatebutton) {\n  this.coordinatebutton = coordinatebutton;\n};\n\nproto.validate = function () {\n  if (this.state.values.lon < -180) this.state.values.lon = -180;else if (this.state.values.lon > 180) this.state.values.lon = 180;\n  if (this.state.values.lat < -90) this.state.values.lon = -90;else if (this.state.values.lat > 90) this.state.values.lon = 90;\n  this.state.validate.valid = !Number.isNaN(1 * this.state.values.lon);\n};\n\nproto.toggleGetCoordinate = function () {\n  this.coordinatebutton.active = !this.coordinatebutton.active;\n  this.coordinatebutton.active ? this.startToGetCoordinates() : this.stopToGetCoordinates();\n};\n\nproto.startToGetCoordinates = function () {\n  var _this2 = this;\n\n  this.mapService.deactiveMapControls();\n  this.mapService.on('mapcontrol:toggled', this.mapControlToggleEventHandler);\n  this.eventMapKey = this.map.on('click', function (evt) {\n    evt.originalEvent.stopPropagation();\n    evt.preventDefault();\n    var coordinate = _this2.mapEpsg !== _this2.outputEpsg ? ol.proj.transform(evt.coordinate, _this2.mapEpsg, _this2.outputEpsg) : evt.coordinate;\n    _this2.state.value = [coordinate];\n\n    var _coordinate = _slicedToArray(coordinate, 2),\n        lon = _coordinate[0],\n        lat = _coordinate[1];\n\n    _this2.state.values.lon = lon;\n    _this2.state.values.lat = lat;\n  });\n};\n\nproto.stopToGetCoordinates = function () {\n  ol.Observable.unByKey(this.eventMapKey);\n  this.mapService.off('mapcontrol:toggled', this.mapControlToggleEventHandler);\n};\n\nproto.clear = function () {\n  this.stopToGetCoordinates();\n};\n\nmodule.exports = LonLatService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144,\"services/gui\":356}],133:[function(require,module,exports){\nvar _InputLonLat = require('components/InputLonLat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputLonLat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar LatLontInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = LatLontInput;\n\n},{\"components/InputLonLat.vue\":239}],134:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction MediaService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(MediaService, Service);\n\nmodule.exports = MediaService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144}],135:[function(require,module,exports){\nvar _InputMedia = require('components/InputMedia.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputMedia);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar MediaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = MediaInput;\n\n},{\"components/InputMedia.vue\":240}],136:[function(require,module,exports){\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar _require = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require.getQueryLayersPromisesByCoordinates;\n\nfunction PickLayerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.pick_type = options.pick_type || 'wms';\n  this.ispicked = false;\n  this.fields = options.fields || [options.value];\n  this.layerId = options.layer_id;\n  this.mapService = _gui2.default.getService('map');\n  this.interaction = this.pick_type === 'map' ? new PickFeatureInteraction({\n    layers: [this.mapService.getLayerById(this.layerId)]\n  }) : new PickCoordinatesInteraction();\n}\n\nvar proto = PickLayerService.prototype;\n\nproto.isPicked = function () {\n  return this.ispicked;\n};\n\n//bind interrupt event\nproto.escKeyUpHandler = function (_ref) {\n  var keyCode = _ref.keyCode,\n      owner = _ref.data.owner;\n\n  keyCode === 27 && owner.unpick();\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  $(document).on('keyup', { owner: this }, this.escKeyUpHandler);\n};\n\nproto.pick = function () {\n  var _this = this;\n\n  return new Promise(function (resolve, reject) {\n    _this.bindEscKeyUp();\n    var values = {};\n    _this.ispicked = true;\n    var afterPick = function afterPick(feature) {\n      if (feature) {\n        var attributes = feature.getProperties();\n        _this.fields.forEach(function (field) {\n          values[field] = attributes[field];\n        });\n        resolve(values);\n      } else reject();\n      _this.ispicked = false;\n      _this.unpick();\n    };\n    _gui2.default.setModal(false);\n    _this.mapService.addInteraction(_this.interaction);\n    _this.interaction.once('picked', function (event) {\n      if (_this.pick_type === 'map') {\n        var feature = event.feature;\n        afterPick(feature);\n      } else if (_this.pick_type === 'wms') {\n        var layer = _mapLayers2.default.getLayerById(_this.layerId);\n        if (layer) {\n          getQueryLayersPromisesByCoordinates([layer], {\n            map: _this.mapService.getMap(),\n            feature_count: 1,\n            coordinates: event.coordinate\n          }).then(function (response) {\n            var _response$0$data = response[0].data,\n                data = _response$0$data === undefined ? [] : _response$0$data;\n\n            var feature = data.length && data[0].features[0] || null;\n            afterPick(feature);\n          });\n        }\n      }\n    });\n  });\n};\n\nproto.unpick = function () {\n  this.mapService.removeInteraction(this.interaction);\n  _gui2.default.setModal(true);\n  this.unbindEscKeyUp();\n  this.ispicked = false;\n};\n\nproto.clear = function () {\n  this.isPicked() && this.unpick();\n  this.mapService = this.interaction = this.field = null;\n};\n\nmodule.exports = PickLayerService;\n\n},{\"core/utils/geo\":64,\"g3w-ol/interactions/pickcoordinatesinteraction\":103,\"g3w-ol/interactions/pickfeatureinteraction\":104,\"services/gui\":356,\"store/map-layers\":372}],137:[function(require,module,exports){\nvar _InputPickLayer = require('components/InputPickLayer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputPickLayer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PickLayerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = PickLayerInput;\n\n},{\"components/InputPickLayer.vue\":241}],138:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction RadioService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(RadioService, Service);\n\nmodule.exports = RadioService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144}],139:[function(require,module,exports){\nvar _InputRadio = require('components/InputRadio.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRadio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RadioInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RadioInput;\n\n},{\"components/InputRadio.vue\":242}],140:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction RangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$state$input$ = options.state.input.options.values[0],\n      min = _options$state$input$.min,\n      max = _options$state$input$.max;\n\n  options.state.info = '[MIN: ' + min + ' - MAX: ' + max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * min,\n    max: 1 * max\n  });\n  this.setValidator(validator);\n}\n\ninherit(RangeService, Service);\n\nvar proto = Service.prototype;\n\nproto.isValueInRange = function (value, min, max) {\n  return value <= max && value >= min;\n};\n\nmodule.exports = RangeService;\n\n},{\"core/utils/utils\":67,\"core/utils/validators\":68,\"gui/inputs/service\":144}],141:[function(require,module,exports){\nvar _InputRange = require('components/InputRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputRange.vue\":243}],142:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction SelectService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.layer = null;\n}\n\ninherit(SelectService, Service);\n\nvar proto = SelectService.prototype;\n\nproto._getLayerById = function (layer_id) {\n  return _catalogLayers2.default.getLayerById(layer_id);\n};\n\nproto.addValue = function (value) {\n  this.state.input.options.values.push(value);\n};\n\nproto.getKeyByValue = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      search = _ref.search;\n\n  var options = this.state.input.options;\n  var value = options.value,\n      key = options.key;\n\n  this.getData({\n    key: value,\n    value: key,\n    search: search\n  }).then(function (arrayValues) {\n    var _arrayValues = _slicedToArray(arrayValues, 1),\n        _value = _arrayValues[0];\n\n    var key = _value.$value,\n        value = _value.text;\n\n    _this.addValue({\n      key: key,\n      value: value\n    });\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\n\nproto.getData = function () {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$layer_id = _ref2.layer_id,\n      layer_id = _ref2$layer_id === undefined ? this.state.input.options.layer_id : _ref2$layer_id,\n      _ref2$key = _ref2.key,\n      key = _ref2$key === undefined ? this.state.input.options.key : _ref2$key,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === undefined ? this.state.input.options.value : _ref2$value,\n      search = _ref2.search;\n\n  var search_value = (key + '|' + search).trim();\n  return new Promise(function (resolve, reject) {\n    if (!_this2._layer) _this2._layer = _this2._getLayerById(layer_id);\n    _this2._layer.getDataTable({\n      suggest: search_value,\n      ordering: key\n    }).then(function (response) {\n      var values = [];\n      var features = response.features;\n      for (var i = 0; i < features.length; i++) {\n        values.push({\n          text: features[i].properties[key],\n          id: i,\n          $value: features[i].properties[value]\n        });\n      }\n      resolve(values);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nmodule.exports = SelectService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144,\"store/catalog-layers\":369}],143:[function(require,module,exports){\nvar _InputSelect = require('components/InputSelect.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSelect);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar SelectInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = SelectInput;\n\n},{\"components/InputSelect.vue\":244}],144:[function(require,module,exports){\nvar Validators = require('core/utils/validators');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nfunction Service() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // set state of input\n  this.state = options.state || {};\n  // type of input\n  //this.state.validate.required && this.setValue(this.state.value);\n  /*\n  * set starting value of input based on value or default value on options\n   */\n  this.setValue(this.state.value);\n  this.setEmpty(this.state.value);\n  var type = this.state.type;\n  var validatorOptions = options.validatorOptions || this.state.input.options || {};\n  // useful for the validator to validate input\n  this._validator = Validators.get(type, validatorOptions);\n  this.setErrorMessage(options.state);\n}\n\nvar proto = Service.prototype;\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getValue = function () {\n  return this.state.value;\n};\n\nproto.setValue = function (value) {\n  if (value === null || value === undefined) {\n    if (Array.isArray(this.state.input.options)) {\n      if (this.state.input.options[0].default) this.state.value = this.state.input.options[0].default;else if (Array.isArray(this.state.input.options.values)) {\n        if (this.state.input.options.values.length) {\n          this.state.value = this.state.input.options.values[0] && this.state.input.options.values[0].value || this.state.input.options.values[0];\n        }\n      }\n    } else {\n      //check if we can state.check get_default_value from input.options.default is set\n      if (this.state.get_default_value && typeof this.state.input.options.default !== \"undefined\" && this.state.input.options.default !== null) {\n        this.state.value = this.state.input.options.default;\n        this.state.value_from_default_value = true;\n      }\n    }\n  }\n};\n\nproto.addValueToValues = function (value) {\n  this.state.input.options.values.unshift(value);\n};\n\nproto._getValidatorType = function () {\n  return this.state.type;\n};\n\nproto.setState = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = _.isObject(state) ? state : {};\n};\n\n// return validator\nproto.getValidator = function () {\n  return this._validator;\n};\n\nproto.setValidator = function (validator) {\n  this._validator = validator;\n};\n\nproto.setEmpty = function () {\n  this.state.validate.empty = !(Array.isArray(this.state.value) && this.state.value.length || !_.isEmpty(_.trim(this.state.value)));\n};\n\n// general method to check the value of the state is valid or not\nproto.validate = function () {\n  if (this.state.validate.empty) {\n    this.state.validate.empty = true;\n    this.state.value = null;\n    this.state.validate.unique = true;\n    // check if require or check validation\n    this.state.validate.valid = this.state.validate.required ? false : this._validator.validate(this.state.value);\n  } else {\n    if (this.state.input.type === 'integer' || this.state.input.type === 'float') {\n      if (+this.state.value < 0) {\n        this.state.value = null;\n        this.state.validate.empty = true;\n        this.state.validate.valid = !this.state.validate.required;\n      } else this.state.validate.valid = this._validator.validate(this.state.value);\n    }\n    if (this.state.validate.exclude_values && this.state.validate.exclude_values.size) {\n      this.state.validate.valid = !this.state.validate.exclude_values.has(this.state.value);\n    } else this.state.validate.valid = this._validator.validate(this.state.value);\n  }\n  return this.state.validate.valid;\n};\n\nproto.setErrorMessage = function (input) {\n  var message = void 0;\n  if (input.validate.mutually && !input.validate.mutually_valid) this.state.validate.message = t(\"sdk.form.inputs.input_validation_mutually_exclusive\") + ' ( ' + input.validate.mutually.join(',') + ' )';else if (input.validate.max_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_max_field\") + ' (' + input.validate.max_field + ')';else if (input.validate.min_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_min_field\") + ' (' + input.validate.min_field + ')';else if (input.validate.unique && input.validate.exclude_values && input.validate.exclude_values.size) this.state.validate.message = '' + t(\"sdk.form.inputs.input_validation_exclude_values\");else if (input.validate.required) {\n    message = t(\"sdk.form.inputs.input_validation_error\") + ' ( ' + t(\"sdk.form.inputs.\" + input.type) + ' )';\n    if (this.state.info) {\n      message = message + '\\n                 <div>\\n                  <b>' + this.state.info + '</b>\\n                 </div>         \\n      ';\n    }\n    this.state.validate.message = this.state.info || message;\n  } else this.state.validate.message = this.state.info;\n};\n/**\n * Method to set update\n */\nproto.setUpdate = function () {\n  var _state = this.state,\n      value = _state.value,\n      _value = _state._value;\n\n  if (this.state.input.type === 'media' && toRawType(value) !== 'Object' && toRawType(_value) !== 'Object') {\n    this.state.update = value.value != _value.value;\n  } else this.state.update = value != _value;\n};\n\nmodule.exports = Service;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"core/utils/validators\":68}],145:[function(require,module,exports){\nvar InputsServices = {\n  'text': require('./service'),\n  'textarea': require('./service'),\n  'texthtml': require('./service'),\n  'integer': require('./integer/service'),\n  'string': require('./service'),\n  'float': require('./float/service'),\n  'radio': require('./radio/service'),\n  'check': require('./checkbox/service'),\n  'range': require('./range/service'),\n  'datetimepicker': require('./datetimepicker/service'),\n  'unique': require('./unique/service'),\n  'select': require('./select/service'),\n  'media': require('./media/service'),\n  'select_autocomplete': require('./select/service'),\n  'picklayer': require('./service'),\n  'color': require('./service'),\n  'slider': require('./sliderrange/service'),\n  'lonlat': require('./lonlat/service')\n};\n\nmodule.exports = InputsServices;\n\n},{\"./checkbox/service\":121,\"./datetimepicker/service\":124,\"./float/service\":126,\"./integer/service\":130,\"./lonlat/service\":132,\"./media/service\":134,\"./radio/service\":138,\"./range/service\":140,\"./select/service\":142,\"./service\":144,\"./sliderrange/service\":146,\"./unique/service\":151}],146:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction SliderRangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var state = options.state;\n\n  options.state.info = '[MIN: ' + state.input.options.min + ' - MAX: ' + state.input.options.max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * state.input.options.min,\n    max: 1 * state.input.options.max\n  });\n  this.setValidator(validator);\n  this.validate = function () {\n    this.state.value = 1 * this.state.value;\n    this.state.validate.valid = this.state.value >= this.state.input.options.min || this.state.value <= this.state.input.options.max;\n  };\n}\n\ninherit(SliderRangeService, Service);\n\nvar proto = SliderRangeService.prototype;\n\nproto.changeInfoMessage = function () {\n  this.state.info = '[MIN: ' + this.state.input.options.min + ' - MAX: ' + this.state.input.options.max + ']';\n};\n\nmodule.exports = SliderRangeService;\n\n},{\"core/utils/utils\":67,\"core/utils/validators\":68,\"gui/inputs/service\":144}],147:[function(require,module,exports){\nvar _InputSliderRange = require('components/InputSliderRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSliderRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputSliderRange.vue\":245}],148:[function(require,module,exports){\nvar _InputText = require('components/InputText.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputText);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputText.vue\":246}],149:[function(require,module,exports){\nvar _InputTextArea = require('components/InputTextArea.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextArea);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextAreaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextAreaInput;\n\n},{\"components/InputTextArea.vue\":247}],150:[function(require,module,exports){\nvar _InputTextHtml = require('components/InputTextHtml.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextHtml);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextHtmlInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextHtmlInput;\n\n},{\"components/InputTextHtml.vue\":248}],151:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction UniqueService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(UniqueService, Service);\n\nmodule.exports = UniqueService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":144}],152:[function(require,module,exports){\nvar _InputUnique = require('components/InputUnique.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputUnique);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar UniqueInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = UniqueInput;\n\n},{\"components/InputUnique.vue\":249}],153:[function(require,module,exports){\nvar ResetControl = require('g3w-ol/controls/resetcontrol');\nvar QueryControl = require('g3w-ol/controls/querycontrol');\nvar ZoomBoxControl = require('g3w-ol/controls/zoomboxcontrol');\nvar QueryBBoxControl = require('g3w-ol/controls/querybboxcontrol');\nvar QueryByPolygonControl = require('g3w-ol/controls/querybypolygoncontrol');\nvar GeolocationControl = require('g3w-ol/controls/geolocationcontrol');\nvar StreetViewControl = require('g3w-ol/controls/streetviewcontrol');\nvar AddLayersControl = require('g3w-ol/controls/addlayers');\nvar LengthControl = require('g3w-ol/controls/lengthcontrol');\nvar AreaControl = require('g3w-ol/controls/areacontrol');\nvar OLControl = require('g3w-ol/controls/olcontrol');\nvar GeocodingControl = require('g3w-ol/controls/geocodingcontrol');\nvar MousePositionControl = require('g3w-ol/controls/mousepositioncontrol');\nvar ScaleControl = require('g3w-ol/controls/scalecontrol');\nvar OnClikControl = require('g3w-ol/controls/onclickcontrol');\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\nvar geoScreenshotControl = require('g3w-ol/controls/geoscreenshotcontrol');\nvar QueryByDrawPolygonControl = require('g3w-ol/controls/querybydrawpolygoncontrol');\n\nvar ControlsFactory = {\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var ControlClass = ControlsFactory.CONTROLS[options.type];\n    if (ControlClass) return new ControlClass(options);\n  }\n};\n\nControlsFactory.CONTROLS = {\n  'reset': ResetControl,\n  'zoombox': ZoomBoxControl,\n  'zoomtoextent': OLControl,\n  'query': QueryControl,\n  'querybbox': QueryBBoxControl,\n  'querybypolygon': QueryByPolygonControl,\n  'geolocation': GeolocationControl,\n  'streetview': StreetViewControl,\n  'zoom': OLControl,\n  'scaleline': OLControl,\n  'overview': OLControl,\n  'nominatim': GeocodingControl, // temporary fro backward compatibility\n  'geocoding': GeocodingControl,\n  'addlayers': AddLayersControl,\n  'length': LengthControl,\n  'area': AreaControl,\n  'mouseposition': MousePositionControl,\n  'scale': ScaleControl,\n  'onclick': OnClikControl,\n  'screenshot': ScreenshotControl,\n  'geoscreenshot': geoScreenshotControl,\n  'querybydrawpolygon': QueryByDrawPolygonControl\n};\n\nmodule.exports = ControlsFactory;\n\n},{\"g3w-ol/controls/addlayers\":75,\"g3w-ol/controls/areacontrol\":76,\"g3w-ol/controls/geocodingcontrol\":79,\"g3w-ol/controls/geolocationcontrol\":80,\"g3w-ol/controls/geoscreenshotcontrol\":81,\"g3w-ol/controls/lengthcontrol\":83,\"g3w-ol/controls/mousepositioncontrol\":85,\"g3w-ol/controls/olcontrol\":86,\"g3w-ol/controls/onclickcontrol\":87,\"g3w-ol/controls/querybboxcontrol\":88,\"g3w-ol/controls/querybydrawpolygoncontrol\":89,\"g3w-ol/controls/querybypolygoncontrol\":90,\"g3w-ol/controls/querycontrol\":91,\"g3w-ol/controls/resetcontrol\":92,\"g3w-ol/controls/scalecontrol\":93,\"g3w-ol/controls/screenshotcontrol\":94,\"g3w-ol/controls/streetviewcontrol\":95,\"g3w-ol/controls/zoomboxcontrol\":97}],154:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _wms = require('gui/wms/vue/wms');\n\nvar _wms2 = _interopRequireDefault(_wms);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    copyUrl = _require2.copyUrl,\n    uniqueId = _require2.uniqueId,\n    throttle = _require2.throttle,\n    toRawType = _require2.toRawType,\n    createFilterFromString = _require2.createFilterFromString;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    createVectorLayerFromFile = _require3.createVectorLayerFromFile,\n    createWMSLayer = _require3.createWMSLayer,\n    createSelectedStyle = _require3.createSelectedStyle,\n    getMapLayersByFilter = _require3.getMapLayersByFilter,\n    getGeoTIFFfromServer = _require3.getGeoTIFFfromServer;\n\nvar WFSProvider = require('core/layers/providers/wfsprovider');\nvar olhelpers = require('g3w-ol/g3w.ol').helpers;\n\nvar _require4 = require('core/utils/ol'),\n    getScaleFromResolution = _require4.getScaleFromResolution,\n    getResolutionFromScale = _require4.getResolutionFromScale;\n\nvar ControlsFactory = require('gui/map/control/factory');\nvar VectorLayer = require('core/layers/vectorlayer');\n\nvar SETTINGS = {\n  zoom: {\n    maxScale: 1000\n  },\n  animation: {\n    duration: 2000\n  }\n};\n\nfunction MapService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {\n    mapUnits: 'm',\n    bbox: [],\n    hidemaps: [],\n    resolution: null,\n    center: null,\n    loading: false,\n    hidden: true,\n    scale: 0,\n    mapcontrolsalignement: 'rv',\n    mapcontrolDOM: null,\n    mapcontrolready: false,\n    mapcontrolSizes: {\n      height: 47,\n      width: 47,\n      minWidth: 47,\n      minHeight: 47\n    },\n    mapControl: {\n      grid: [],\n      length: 0,\n      currentIndex: 0,\n      update: true,\n      disabled: false\n    },\n    map_info: {\n      info: null,\n      style: null\n    },\n    mapunits: ['metric']\n  };\n  this.id = 'MapService';\n  this.viewer = null;\n  this.target = options.target || null;\n  this.layersCount = 0; // useful to set Zindex to layer order on map\n  this.maps_container = options.maps_container || null;\n  this._layersStoresEventKeys = {};\n  this._keyEvents = {\n    ol: [],\n    g3wobject: [],\n    eventemitter: []\n  };\n  this.project = null;\n  this._mapControls = [];\n  this._changeMapMapControls = [];\n  this._mapLayers = [];\n  this._externalMapLayers = [];\n  this._externalLayers = [];\n  // array where store interactions added from plugin or external from application\n  this._externalInteractions = [];\n  this.mapBaseLayers = {};\n  /**\n   * Default layers are OL layers that are add to map by default.\n   * Are used to show selection Features and/or highlight Layer feature\n   */\n  this.defaultsLayers = {\n    _style: {\n      highlightLayer: {\n        color: undefined\n      },\n      selectionLayer: {\n        color: 'red'\n      }\n    },\n    highlightLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.highlightLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    }),\n    selectionLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.selectionLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    })\n  };\n  this.layersExtraParams = {};\n  this._greyListenerKey = null;\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n  this.config = options.config || _application2.default.getConfig();\n  this._howManyAreLoading = 0;\n  this._layersLoadingError = false;\n  // function to show spinner layers\n  this._incrementLoaders = function () {\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadstart');\n      _gui2.default.showSpinner({\n        container: $('#map-spinner'),\n        id: 'maploadspinner',\n        style: 'transparent'\n      });\n    }\n    _this._howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    _this._howManyAreLoading -= 1;\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadend');\n      _gui2.default.hideSpinner('maploadspinner');\n    }\n  };\n\n  this._mapLayerLoadError = function () {\n    if (!_this._layersLoadingError) {\n      _gui2.default.notify.warning('sdk.errors.layers.load');\n      _this._layersLoadingError = true;\n    }\n    _this._decrementLoaders();\n  };\n  if (options.project) this.project = options.project;else {\n    this.project = _projects2.default.getCurrentProject();\n    //on after setting current project\n    var keysetCurrentProject = _projects2.default.onafter('setCurrentProject', function (project) {\n      _this.removeLayers();\n      _this._removeListeners();\n      // check if reload same project\n      var isSameProject = _this.project.getId() === project.getId();\n      _this.project = project;\n      var changeProjectCallBack = function changeProjectCallBack() {\n        _this._resetView();\n        _this._setupAllLayers();\n        _this._checkMapControls();\n        _this.setUpMapOlEvents();\n        _this.setupCustomMapParamsToLegendUrl();\n      };\n      _application2.default.isIframe() && changeProjectCallBack();\n      isSameProject ? changeProjectCallBack() : _this.getMap().once('change:size', changeProjectCallBack);\n    });\n    this._keyEvents.g3wobject.push({\n      who: _projects2.default,\n      setter: 'setCurrentProject',\n      key: keysetCurrentProject\n    });\n  }\n  this._setupListeners();\n  this._marker = null;\n  this._bboxLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({})\n  });\n  this.debounces = {\n    setupCustomMapParamsToLegendUrl: {\n      fnc: function fnc() {\n        _this._setupCustomMapParamsToLegendUrl.apply(_this, arguments);\n      },\n      delay: 1000\n    }\n  };\n  this.setters = {\n    setupControls: function setupControls() {\n      return this._setupControls();\n    },\n    addHideMap: function addHideMap() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          ratio = _ref.ratio,\n          _ref$layers = _ref.layers,\n          layers = _ref$layers === undefined ? [] : _ref$layers,\n          _ref$mainview = _ref.mainview,\n          mainview = _ref$mainview === undefined ? false : _ref$mainview,\n          _ref$switchable = _ref.switchable,\n          switchable = _ref$switchable === undefined ? false : _ref$switchable;\n\n      var id = 'hidemap_' + Date.now();\n      var idMap = {\n        id: id,\n        map: null,\n        switchable: switchable\n      };\n      this.state.hidemaps.push(idMap);\n      return idMap;\n    },\n    updateMapView: function updateMapView(bbox, resolution, center) {\n      this.state.bbox = bbox;\n      this.state.resolution = resolution;\n      this.state.center = center;\n      this.updateMapLayers();\n    },\n    setHidden: function setHidden(bool) {\n      this.state.hidden = bool;\n    },\n    setupViewer: function setupViewer(width, height) {\n      if (width === 0 || height === 0) return;\n      if (this.viewer) {\n        this.viewer.destroy();\n        this.viewer = null;\n      }\n      this._setupViewer(width, height);\n      this.state.bbox = this.viewer.getBBOX();\n      this.state.resolution = this.viewer.getResolution();\n      this.state.center = this.viewer.getCenter();\n      this._setupAllLayers();\n      this.setUpMapOlEvents();\n      this.emit('viewerset');\n    },\n    controlClick: function controlClick(mapcontrol) {\n      var info = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    },\n    loadExternalLayer: function loadExternalLayer(layer) {},\n    // used in general to alert external layer is  loaded\n    unloadExternalLayer: function unloadExternalLayer(layer) {}\n  };\n\n  this._onCatalogSelectLayer = function (layer) {\n    _mapControls2.default.catalogSelectedLayer(layer);\n  };\n\n  this.on('cataloglayerselected', this._onCatalogSelectLayer);\n\n  this._keyEvents.eventemitter.push({\n    event: 'cataloglayerselected',\n    listener: this._onCatalogSelectLayer\n  });\n\n  var extraParamsSet = function extraParamsSet(extraParams, update) {\n    update && _this.getMapLayers().forEach(function (mapLayer) {\n      return mapLayer.update(_this.state, extraParams);\n    });\n  };\n\n  this.on('extraParamsSet', extraParamsSet);\n\n  this._keyEvents.eventemitter.push({\n    event: 'extraParamsSet',\n    listener: extraParamsSet\n  });\n\n  this.once('viewerset', function () {\n    //CHECK IF MAPLAYESRSTOREREGISTRY HAS LAYERSTORE\n    _mapLayers2.default.getLayersStores().forEach(function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTEN ON EVERY ADDED LAYERSSTORE\n    _mapLayers2.default.onafter('addLayersStore', function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTENER ON REMOVE LAYERSTORE\n    _mapLayers2.default.onafter('removeLayersStore', function (layerStore) {\n      _this._removeEventsKeysToLayersStore(layerStore);\n    });\n  });\n\n  base(this);\n}\n\ninherit(MapService, G3WObject);\n\nvar proto = MapService.prototype;\n\nproto.setUpMapOlEvents = function () {\n  var _this2 = this;\n\n  var dynamicLegend = this.project.getContextBaseLegend();\n  // set change resolution\n  this._keyEvents.ol.forEach(function (keyEvent) {\n    return ol.Observable.unByKey(keyEvent);\n  });\n  var keyolchangeresolution = this.viewer.map.getView().on(\"change:resolution\", function (evt) {\n    _this2._updateMapView();\n    dynamicLegend && _this2.setupCustomMapParamsToLegendUrl();\n  });\n  this._keyEvents.ol.push(keyolchangeresolution);\n  if (dynamicLegend) {\n    var keyolmoveeend = this.viewer.map.on(\"moveend\", function (evt) {\n      return _this2.setupCustomMapParamsToLegendUrl();\n    });\n    this._keyEvents.ol.push(keyolmoveeend);\n  } else this.setupCustomMapParamsToLegendUrl(); //set always to show legend at start\n};\n\n//clear methods to remove all listeners events\nproto.clear = function () {\n  var _this3 = this;\n\n  Object.keys(this._keyEvents).forEach(function (type) {\n    switch (type) {\n      case 'ol':\n        _this3._keyEvents[type].forEach(function (keyEvent) {\n          return ol.Observable.unByKey(keyEvent);\n        });\n        break;\n      case 'g3wobject':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var who = eventObject.who,\n              setter = eventObject.setter,\n              key = eventObject.key;\n\n          who.un(setter, key);\n        });\n        break;\n      case 'eventemitter':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var event = eventObject.event,\n              listener = eventObject.listener;\n\n          _this3.removeListener(event, listener);\n        });\n        break;\n    }\n  });\n  this._keyEvents = null;\n  _mapLayers2.default.getLayersStores().forEach(function (layerStore) {\n    _this3._removeEventsKeysToLayersStore(layerStore);\n  });\n};\n\nproto.showMapSpinner = function () {\n  _gui2.default.showSpinner({\n    container: $('#map-spinner'),\n    id: 'maploadspinner',\n    style: 'transparent'\n  });\n};\n\nproto.hideMapSpinner = function () {\n  _gui2.default.hideSpinner('maploadspinner');\n};\n\nproto.getScaleFromExtent = function (extent) {\n  var resolution = this.getMap().getView().getResolutionForExtent(extent, this.getMap().getSize());\n  var scale = getScaleFromResolution(resolution, this.getMapUnits());\n  return scale;\n};\n\nproto._addHideMap = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      ratio = _ref2.ratio,\n      _ref2$layers = _ref2.layers,\n      layers = _ref2$layers === undefined ? [] : _ref2$layers,\n      _ref2$mainview = _ref2.mainview,\n      mainview = _ref2$mainview === undefined ? false : _ref2$mainview;\n\n  var idMap = this.state.hidemaps[this.state.hidemaps.length - 1];\n  var view = this.getMap().getView();\n  var view_options = {\n    projection: view.getProjection(),\n    center: view.getCenter(),\n    resolution: this.getResolution()\n  };\n  var viewer = olhelpers.createViewer({\n    id: idMap.id,\n    view: mainview ? view : view_options\n  });\n  // set Map\n  idMap.map = viewer.getMap();\n  // in case of rate\n  if (ratio) {\n    var _idMap$map$getSize = idMap.map.getSize(),\n        _idMap$map$getSize2 = _slicedToArray(_idMap$map$getSize, 2),\n        width = _idMap$map$getSize2[0],\n        height = _idMap$map$getSize2[1];\n\n    idMap.map.setSize([width, width * ratio]);\n  }\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    idMap.map.addLayer(layer);\n  }\n  return idMap.map;\n};\n\nproto.removeHideMap = function (id) {\n  var index = void 0;\n  for (var i = 0; i < this.state.hidemaps.length; i++) {\n    if (id === this.state.hidemaps[i].id) {\n      index = i;\n      break;\n    }\n  }\n  index !== undefined && this.state.hidemaps.splice(index, 1);\n};\n\nproto._showHideMapElement = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref3.map,\n      _ref3$show = _ref3.show,\n      show = _ref3$show === undefined ? false : _ref3$show;\n\n  show ? $(map.getTargetElement()).addClass('show') : $(map.getTargetElement()).removeClass('show');\n};\n\nproto.createMapImage = function () {\n  var _this4 = this;\n\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref4.map,\n      background = _ref4.background;\n\n  return new Promise(function (resolve, reject) {\n    try {\n      var canvas = _this4.getMapCanvas(map);\n      if (navigator.msSaveBlob) resolve(canvas.msToBlob());else canvas.toBlob(function (blob) {\n        return resolve(blob);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nproto.getApplicationAttribution = function () {\n  var _config$group = this.config.group,\n      header_terms_of_use_link = _config$group.header_terms_of_use_link,\n      header_terms_of_use_text = _config$group.header_terms_of_use_text;\n\n  if (header_terms_of_use_text) {\n    return header_terms_of_use_link ? '<a href=\"' + header_terms_of_use_link + '\">' + header_terms_of_use_text + '</a>' : '<span class=\"skin-color\" style=\"font-weight: bold\">' + header_terms_of_use_text + '</span>';\n  } else return false;\n};\n\nproto.slaveOf = function (mapService, sameLayers) {\n  sameLayers = sameLayers || false;\n};\n\nproto.setLayersExtraParams = function (params, update) {\n  this.layersExtraParams = _.assign(this.layersExtraParams, params);\n  this.emit('extraParamsSet', params, update);\n};\n\nproto.getProject = function () {\n  return this.project;\n};\n\nproto.getMap = function () {\n  try {\n    return this.viewer.map;\n  } catch (err) {}\n};\n\nproto.getMapCanvas = function (map) {\n  var viewport = map ? map.getViewport() : $('#' + this.maps_container + ' .g3w-map').last().children('.ol-viewport')[0];\n  return $(viewport).children('canvas')[0];\n};\n\nproto.getProjection = function () {\n  return this.project.getProjection();\n};\n\nproto.isMapHidden = function () {\n  return this.state.hidden;\n};\n\nproto.isAxisOrientationInverted = function () {\n  return this.getProjection().getAxisOrientation() === 'neu' ? true : false;\n};\n\nproto.getCrs = function () {\n  return this.getProjection().getCode();\n};\n\nproto.getViewerElement = function () {\n  return this.viewer.map.getTargetElement();\n};\n\nproto.getViewport = function () {\n  return this.viewer.map.getViewport();\n};\n\nproto.getResolution = function () {\n  return this.viewer.map.getView().getResolution();\n};\n\nproto.getEpsg = function () {\n  return this.viewer.map.getView().getProjection().getCode();\n};\n\nproto.getGetFeatureInfoUrlForLayer = function (layer, coordinates, resolution, epsg, params) {\n  var mapLayer = this.getMapLayerForLayer(layer);\n  return mapLayer.getGetFeatureInfoUrl(coordinates, resolution, epsg, params);\n};\n\n/**\n * Show Marker on map\n * @param coordinates\n * @param duration\n */\nproto.showMarker = function (coordinates) {\n  var _this5 = this;\n\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n\n  this._marker.setPosition(coordinates);\n  setTimeout(function () {\n    return _this5._marker.setPosition();\n  }, duration);\n};\n\n// return layer by name\nproto.getLayerByName = function (name) {\n  return this.getMap().getLayers().getArray().find(function (lyr) {\n    return lyr.get('name') === name;\n  });\n};\n\n// return layer by id\nproto.getLayerById = function (id) {\n  return this.getMap().getLayers().getArray().find(function (layer) {\n    return layer.get('id') === id;\n  });\n};\n\n// method do get all feature from vector layer based on coordinates\nproto.getVectorLayerFeaturesFromCoordinates = function (layerId, coordinates) {\n  var intersectGeom = void 0;\n  var features = [];\n  var map = this.getMap();\n  var vectorLayer = this.getLayerById(layerId);\n  if (Array.isArray(coordinates)) {\n    if (coordinates.length === 2) {\n      var pixel = map.getPixelFromCoordinate(coordinates);\n      map.forEachFeatureAtPixel(pixel, function (feature) {\n        return features.push(feature);\n      }, {\n        layerFilter: function layerFilter(layer) {\n          return layer === vectorLayer;\n        }\n      });\n    } else if (coordinates.length === 4) {\n      intersectGeom = ol.geom.Polygon.fromExtent(coordinates);\n      switch (vectorLayer.constructor) {\n        case VectorLayer:\n          features = vectorLayer.getIntersectedFeatures(intersectGeom);\n          break;\n        case ol.layer.Vector:\n          vectorLayer.getSource().getFeatures().forEach(function (feature) {\n            intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n          });\n          break;\n      }\n    }\n  } else if (coordinates instanceof ol.geom.Polygon || coordinates instanceof ol.geom.MultiPolygon) {\n    intersectGeom = coordinates;\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(intersectGeom);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n  }\n  return features;\n};\n\nproto.getQueryLayerByCoordinates = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref5.layer,\n      coordinates = _ref5.coordinates;\n\n  var mapProjection = this.getProjection();\n  var resolution = this.getResolution();\n  return new Promise(function (resolve, reject) {\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      return resolve(response);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nproto.getQueryLayerPromiseByCoordinates = function () {\n  var _this6 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref6.layer,\n      coordinates = _ref6.coordinates;\n\n  return new Promise(function (resolve, reject) {\n    var mapProjection = _this6.getProjection();\n    var resolution = _this6.getResolution();\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      resolve(response);\n    }).fail(function (error) {\n      reject(error);\n    });\n  });\n};\n\n//setup controls\n/*\n  layout : {\n    lv: <options> h : horizontal (default), v vertical\n    lh: <options> h: horizontal: v vertical (default)\n  }\n */\n\nproto.activeMapControl = function (controlName) {\n  var mapControl = this._mapControls.find(function (control) {\n    return control.type === controlName;\n  });\n  var control = mapControl.control;\n  !control.isToggled() ? control.toggle() : null;\n};\n\nproto.createMapControl = function (type) {\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      id = _ref7.id,\n      _ref7$add = _ref7.add,\n      add = _ref7$add === undefined ? true : _ref7$add,\n      _ref7$toggled = _ref7.toggled,\n      toggled = _ref7$toggled === undefined ? false : _ref7$toggled,\n      visible = _ref7.visible,\n      _ref7$options = _ref7.options,\n      options = _ref7$options === undefined ? {} : _ref7$options;\n\n  id = id || type;\n  var control = ControlsFactory.create(_extends({\n    type: type,\n    toggled: toggled\n  }, options));\n  visible = visible === undefined ? control.isVisible ? control.isVisible() : true : visible;\n  control && this.addControl(id, type, control, add, visible);\n  return control;\n};\n\nproto.addScaleLineUnits = function () {\n  var _this7 = this;\n\n  var units = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  units.forEach(function (unit) {\n    return _this7.state.mapunits.push(unit);\n  });\n};\n\nproto.changeScaleLineUnit = function (unit) {\n  var scalelinecontrol = this.getMapControlByType({\n    type: 'scaleline'\n  });\n  scalelinecontrol && scalelinecontrol.getOlControl().setUnits(unit);\n};\n\nproto.showAddLayerModal = function () {\n  this.emit('addexternallayer');\n};\n\nproto._checkMapControls = function () {\n  this._changeMapMapControls.forEach(function (_ref8) {\n    var control = _ref8.control,\n        getLayers = _ref8.getLayers;\n\n    var layers = getLayers();\n    control.change(layers);\n  });\n};\n\nproto._setupControls = function () {\n  var _this8 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  this.getMapLayers().forEach(function (mapLayer) {\n    return mapLayer.getSource().setAttributions(_this8.getApplicationAttribution());\n  });\n  // check if base layer is set. If true add attribution control\n  if (this.getApplicationAttribution() || baseLayers.length) {\n    var attributionControl = new ol.control.Attribution({\n      collapsible: false,\n      target: 'map_footer_left'\n    });\n    this.getMap().addControl(attributionControl);\n  }\n\n  if (this.config && this.config.mapcontrols) {\n    var mapcontrols = this.config.mapcontrols;\n    //common spatial methods for map controls\n    var spatialMethod = 'intersects';\n    mapcontrols.forEach(function (mapcontrol) {\n      var control = void 0;\n      // mapcontrol can be a String or object with options\n      var controlType = toRawType(mapcontrol) === 'String' ? mapcontrol : mapcontrol.name;\n      switch (controlType) {\n        case 'reset':\n          if (!isMobile.any) {\n            control = ControlsFactory.create({\n              type: controlType\n            });\n          }\n          _this8.addControl(controlType, control, false);\n          break;\n        case 'zoom':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              zoomInLabel: '\\uE98A',\n              zoomOutLabel: '\\uE98B'\n            }\n          });\n          break;\n        case 'zoombox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('zoomend', function (e) {\n              _this8.viewer.fit(e.extent);\n            });\n          }\n          break;\n        case 'zoomtoextent':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              label: '\\uE98C',\n              extent: _this8.project.state.initextent\n            }\n          });\n          break;\n        case 'mouseposition':\n          if (!isMobile.any) {\n            var coordinateLabels = _this8.getProjection().getUnits() === 'm' ? ['X', 'Y'] : ['Lng', 'Lat'];\n            var crs = _this8.getCrs();\n            control = _this8.createMapControl(controlType, {\n              add: false,\n              options: {\n                coordinateFormat: function coordinateFormat(coordinate) {\n                  return ol.coordinate.format(coordinate, '\\xA0' + coordinateLabels[0] + ': {x}, ' + coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + crs + ']\\xA0', 4);\n                },\n\n                undefinedHTML: false,\n                projection: _this8.getCrs()\n              }\n            });\n            if (_this8.getEpsg() !== 'EPSG:4326') {\n              var mapEspg = _this8.getEpsg();\n              var _coordinateLabels = ['Lng', 'Lat'];\n              var _crs = _this8.getCrs();\n              control = _this8.createMapControl(controlType, {\n                add: false,\n                options: {\n                  target: 'mouse-position-control-epsg-4326',\n                  coordinateFormat: function coordinateFormat(coordinate) {\n                    coordinate = ol.proj.transform(coordinate, mapEspg, 'EPSG:4326');\n                    return ol.coordinate.format(coordinate, '\\xA0' + _coordinateLabels[0] + ': {x}, ' + _coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + _crs + ']\\xA0', 4);\n                  },\n\n                  undefinedHTML: false,\n                  projection: _this8.getCrs()\n                }\n              });\n            }\n          }\n          break;\n        case 'screenshot':\n        case 'geoscreenshot':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                layers: _mapLayers2.default.getLayers(),\n                onclick: function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                    var caller_download_id, blobImage, url, _bbox, csrfmiddlewaretoken, geoTIFF;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            // Start download show Image\n                            caller_download_id = _application2.default.setDownload(true);\n                            _context.prev = 1;\n                            _context.next = 4;\n                            return _this8.createMapImage();\n\n                          case 4:\n                            blobImage = _context.sent;\n\n                            if (!(controlType === 'screenshot')) {\n                              _context.next = 9;\n                              break;\n                            }\n\n                            saveAs(blobImage, 'map_' + Date.now() + '.png');\n                            _context.next = 22;\n                            break;\n\n                          case 9:\n                            url = '/' + _this8.project.getType() + '/api/asgeotiff/' + _this8.project.getId() + '/';\n                            _bbox = _this8.getMapBBOX().toString();\n                            csrfmiddlewaretoken = _this8.getCookie('csrftoken');\n                            _context.prev = 12;\n                            _context.next = 15;\n                            return getGeoTIFFfromServer({\n                              url: url,\n                              params: {\n                                image: blobImage,\n                                csrfmiddlewaretoken: csrfmiddlewaretoken,\n                                bbox: _bbox\n                              },\n                              method: \"POST\"\n                            });\n\n                          case 15:\n                            geoTIFF = _context.sent;\n\n                            saveAs(geoTIFF, 'map_' + Date.now() + '.tif');\n                            _context.next = 22;\n                            break;\n\n                          case 19:\n                            _context.prev = 19;\n                            _context.t0 = _context['catch'](12);\n\n                            console.log(_context.t0);\n\n                          case 22:\n                            _context.next = 27;\n                            break;\n\n                          case 24:\n                            _context.prev = 24;\n                            _context.t1 = _context['catch'](1);\n\n                            _gui2.default.showUserMessage({\n                              type: 'alert',\n                              message: t(\"mapcontrols.screenshot.error\"),\n                              autoclose: true\n                            });\n\n                          case 27:\n                            // Stop download show Image\n                            _application2.default.setDownload(false, caller_download_id);\n                            return _context.abrupt('return', true);\n\n                          case 29:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this8, [[1, 24], [12, 19]]);\n                  }));\n\n                  function onclick() {\n                    return _ref9.apply(this, arguments);\n                  }\n\n                  return onclick;\n                }()\n              }\n            });\n          }\n          break;\n        case 'scale':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              coordinateFormat: ol.coordinate.createStringXY(4),\n              projection: _this8.getCrs(),\n              isMobile: isMobile.any\n            }\n          });\n          break;\n        case 'query':\n          control = _this8.createMapControl(controlType, {\n            add: true,\n            toggled: true\n          });\n          break;\n        case 'querybypolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybbox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybydrawpolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'streetview':\n          // streetview\n          control = _this8.createMapControl(controlType, {});\n          break;\n        case 'scaleline':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              position: 'br'\n            }\n          });\n          break;\n        case 'overview':\n          if (!isMobile.any) {\n            if (!_this8.config.overviewproject) return;\n            var overviewProjectGid = _this8.config.overviewproject.gid;\n            if (overviewProjectGid) {\n              _projects2.default.getProject(overviewProjectGid).then(function (project) {\n                var overViewMapLayers = _this8.getOverviewMapLayers(project);\n                var viewOptions = _this8._calculateViewOptions({\n                  width: 200, // at moment hardcoded\n                  height: 150,\n                  project: project\n                });\n                var view = new ol.View(viewOptions);\n                var mainView = _this8.getMap().getView();\n                view.on('change:center', function () {\n                  var currentCenter = this.getCenter();\n                  var center = mainView.constrainCenter(currentCenter);\n                  center[0] !== currentCenter[0] || center[1] !== currentCenter[1] && view.setCenter(center);\n                });\n                control = _this8.createMapControl(controlType, {\n                  add: false,\n                  options: {\n                    position: 'bl',\n                    className: 'ol-overviewmap ol-custom-overviewmap',\n                    collapseLabel: $('<span class=\"' + _gui2.default.getFontClass('arrow-left') + '\"></span>')[0],\n                    label: $('<span class=\"' + _gui2.default.getFontClass('arrow-right') + '\"></span>')[0],\n                    collapsed: false,\n                    layers: overViewMapLayers,\n                    view: view\n                  }\n                });\n              });\n            }\n          }\n          break;\n        case 'geocoding':\n        case 'nominatim':\n          var _project$state = _this8.project.state,\n              bbox = _project$state.extent,\n              _mapCrs = _project$state.crs.epsg;\n\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              isMobile: isMobile.any,\n              bbox: bbox,\n              mapCrs: _mapCrs,\n              placeholder: \"mapcontrols.nominatim.placeholder\",\n              noresults: \"mapcontrols.nominatim.noresults\",\n              notresponseserver: \"mapcontrols.nominatim.notresponseserver\"\n            }\n          });\n          break;\n        case 'geolocation':\n          control = _this8.createMapControl(controlType);\n          control.on('click', throttle(function (evt) {\n            return _this8.showMarker(evt.coordinates);\n          }));\n          control.on('error', function (evt) {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: \"mapcontrols.geolocations.error\",\n              autoclose: true\n            });\n          });\n          break;\n        case 'addlayers':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('addlayer', function () {\n              return _this8.emit('addexternallayer');\n            });\n          }\n          break;\n        case 'length':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.length.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.length.help'\n                }\n              }\n            });\n          }\n          break;\n        case 'area':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.area.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.area.help'\n                }\n              }\n            });\n          }\n          break;\n      }\n    });\n    return this.getMapControls();\n  }\n};\n\n/**\n *  Set ZIndex layer from fa stack\n */\nproto.setZIndexLayer = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref10.layer,\n      _ref10$zindex = _ref10.zindex,\n      zindex = _ref10$zindex === undefined ? this.getMap().getLayers().getLength() : _ref10$zindex;\n\n  layer && layer.setZIndex(zindex);\n};\n\n/**\n *\n * Get map stack layer position\n */\nproto.getLayerZindex = function (layer) {\n  return layer && layer.getZIndex();\n};\n\nproto.getCenter = function () {\n  var map = this.getMap();\n  return map.getView().getCenter();\n};\n\n/**\n *\n *method to zoom to feature\n */\nproto.zoomToFid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var zoom_to_fid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '|';\n\n  var _zoom_to_fid$split, _zoom_to_fid$split2, layerId, fid, layer, _ref12, _ref12$data, data, feature;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _zoom_to_fid$split = zoom_to_fid.split(separator), _zoom_to_fid$split2 = _slicedToArray(_zoom_to_fid$split, 2), layerId = _zoom_to_fid$split2[0], fid = _zoom_to_fid$split2[1];\n\n          if (!(layerId !== undefined && fid !== undefined)) {\n            _context2.next = 10;\n            break;\n          }\n\n          layer = this.project.getLayerById(layerId);\n          _context2.next = 5;\n          return _data2.default.getData('search:fids', {\n            inputs: {\n              layer: layer,\n              fids: [fid]\n            },\n            outputs: {\n              show: {\n                loading: false,\n                condition: function condition() {\n                  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                      _ref13$data = _ref13.data,\n                      data = _ref13$data === undefined ? [] : _ref13$data;\n\n                  return data[0] && data[0].features.length > 0;\n                }\n              }\n            }\n          });\n\n        case 5:\n          _ref12 = _context2.sent;\n          _ref12$data = _ref12.data;\n          data = _ref12$data === undefined ? [] : _ref12$data;\n          feature = data[0] && data[0].features[0];\n\n          feature && this.zoomToFeatures([feature]);\n\n        case 10:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * Method to handele ztf url parameter\n * @param zoom_to_feature\n */\nproto.handleZoomToFeaturesUrlParameter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$zoom_to_featur = _ref15.zoom_to_features,\n      zoom_to_features = _ref15$zoom_to_featur === undefined ? '' : _ref15$zoom_to_featur,\n      _ref15$search_endpoin = _ref15.search_endpoint,\n      search_endpoint = _ref15$search_endpoin === undefined ? 'api' : _ref15$search_endpoin;\n\n  var _zoom_to_features$spl, _zoom_to_features$spl2, layerNameorIdorOrigname, fieldsValuesSearch, projectLayer, layer, filter, _ref16, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _zoom_to_features$spl = zoom_to_features.split(':'), _zoom_to_features$spl2 = _slicedToArray(_zoom_to_features$spl, 2), layerNameorIdorOrigname = _zoom_to_features$spl2[0], fieldsValuesSearch = _zoom_to_features$spl2[1];\n\n          if (!(layerNameorIdorOrigname && fieldsValuesSearch)) {\n            _context3.next = 12;\n            break;\n          }\n\n          projectLayer = this.project.getLayers().find(function (layer) {\n            return layer.id === layerNameorIdorOrigname || layer.name === layerNameorIdorOrigname || layer.origname === layerNameorIdorOrigname;\n          });\n\n          if (!projectLayer) {\n            _context3.next = 12;\n            break;\n          }\n\n          layer = this.project.getLayerById(projectLayer.id);\n          filter = createFilterFromString({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            filter: fieldsValuesSearch\n          });\n          _context3.next = 9;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              filter: filter,\n              search_endpoint: search_endpoint\n            },\n            outputs: {\n              show: {\n                loading: false\n              }\n            }\n          });\n\n        case 9:\n          _ref16 = _context3.sent;\n          data = _ref16.data;\n\n          data && data[0] && data[0].features && this.zoomToFeatures(data[0].features);\n\n        case 12:\n          _context3.next = 17;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3['catch'](0);\n\n          console.log(_context3.t0);\n\n        case 17:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 14]]);\n}));\n\nproto.getMapExtent = function () {\n  var map = this.getMap();\n  return map.getView().calculateExtent(map.getSize());\n};\n\nproto.addMapExtentUrlParameterToUrl = function (url) {\n  url = new URL(url);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.getMapExtentUrl = function () {\n  var url = new URL(location.href);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.createCopyMapExtentUrl = function () {\n  var url = this.getMapExtentUrl();\n  copyUrl(url);\n};\n\nproto._setMapControlsGrid = function (length) {\n  var grid = this.state.mapControl.grid;\n  if (length < 2) {\n    var rC = grid[grid.length - 1];\n    grid.push({\n      rows: rC.rows * 2,\n      columns: 2\n    });\n    return;\n  }\n  if (length === 2) {\n    if (grid.length) {\n      var _rC = grid[grid.length - 1];\n      grid.push({\n        rows: _rC.columns,\n        columns: _rC.rows\n      });\n    } else {\n      grid.push({\n        rows: 1,\n        columns: 2\n      });\n    }\n  } else if (length === 3) {\n    var _rC2 = grid[grid.length - 1];\n    grid.push({\n      rows: 2 * _rC2.rows,\n      columns: length\n    });\n  } else {\n    grid.push({\n      rows: grid.length + 1 + (Number.isInteger(length) ? 0 : 1),\n      columns: Number.isInteger(length) ? length : parseInt(length) + 1\n    });\n    var _length = Number.isInteger(length) ? length : parseInt(length);\n    this._setMapControlsGrid(_length / 2);\n  }\n};\n\nproto._setMapControlsInsideContainerLenght = function () {\n  var _this9 = this;\n\n  this.state.mapControl.length = 1;\n  // count the mapcontrol inside g3w-map-control container\n  this._mapControls.forEach(function (control) {\n    var map = _this9.getMap();\n    _this9.state.mapControl.length += control.mapcontrol ? control.id === 'zoom' ? 2 : 1 : 0;\n    control.control.changelayout ? control.control.changelayout(map) : null;\n  });\n  // add 1 id odd number\n  this.state.mapControl.length += this.state.mapControl.length % 2;\n  this.state.mapControl.grid = [];\n  this._setMapControlsGrid(this.state.mapControl.length);\n};\n\n/**\n * Get filtrable layer. Get parameter to custom filter Object\n */\nproto.filterableLayersAvailable = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = getMapLayersByFilter({\n    FILTERABLE: true,\n    SELECTED_OR_ALL: true\n  }, options);\n  return layers.filter(function (layer) {\n    return layer.getProvider('filter') instanceof WFSProvider;\n  });\n};\n\nproto.setMapControlsAlignement = function () {\n  var alignement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rv';\n\n  this.state.mapcontrolsalignement = alignement;\n};\n\nproto.getMapControlsAlignement = function () {\n  return this.state.mapcontrolsalignement;\n};\n\nproto.isMapControlsVerticalAlignement = function () {\n  return this.state.mapcontrolsalignement.indexOf('v') !== -1;\n};\n\nproto.setMapControlsVerticalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsHorizontalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'h';\n};\n\nproto.flipControlsHorizontally = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] === 'r' ? 'l' + this.state.mapcontrolsalignement[1] : 'r' + this.state.mapcontrolsalignement[1];\n};\n\nproto.flipMapControlsVertically = function () {\n  this.state.mapcontrolsalignment = this.state.mapcontrolsalignement[1] === 'v' ? this.state.mapcontrolsalignement[0] + 'h' : this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsContainer = function (mapControlDom) {\n  this.state.mapcontrolDOM = mapControlDom;\n};\n\nproto._updateMapControlsLayout = function () {\n  var _this10 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref17.width,\n      height = _ref17.height;\n\n  // case mobile open keyboard\n  width == 0 || height == 0 ? this.state.mapcontrolDOM.css('z-index', 0) : this.state.mapcontrolDOM.css('z-index', 1);\n  // update only when all control are ready\n  if (this.state.mapcontrolready && this.state.mapControl.update) {\n    var changedAndMoreSpace = {\n      changed: false,\n      space: false\n    };\n    // count the mapcontrol insied g3w-map-control container\n    this._mapControls.forEach(function (control) {\n      var map = _this10.getMap();\n      control.control.changelayout ? control.control.changelayout(map) : null;\n    });\n    // check if is vertical\n    if (this.isMapControlsVerticalAlignement()) {\n      var handleVerticalMapControlDOMElements = function handleVerticalMapControlDOMElements() {\n        var mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n        // get bottom controls\n        var bottomMapControls = $('.ol-control-b' + _this10.getMapControlsAlignement()[0]);\n        var bottomMapControlTop = bottomMapControls.length ? $(bottomMapControls[bottomMapControls.length - 1]).position().top : height;\n        var freeSpace = bottomMapControlTop > 0 ? bottomMapControlTop - mapControslHeight : height - mapControslHeight;\n        if (freeSpace < 10) {\n          _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === _this10.state.mapControl.grid.length - 1 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex + 1;\n          changedAndMoreSpace.changed = true;\n        } else {\n          // check if there enough space to expand map controls\n          /**\n           Add 15 px of offset. Need to find a better solution in future\n           */\n          var nextHeight = 15 + (_this10.state.mapControl.currentIndex > 0 ? _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex - 1].columns * _this10.state.mapcontrolSizes.minWidth - mapControslHeight : mapControslHeight);\n          if (freeSpace > nextHeight) {\n            changedAndMoreSpace.changed = true;\n            changedAndMoreSpace.space = true;\n            _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === 0 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex - 1;\n          }\n        }\n        if (changedAndMoreSpace.changed) {\n          var _mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n          var mapControlsWidth = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].rows * _this10.state.mapcontrolSizes.minWidth;\n          _this10.state.mapcontrolDOM.css('height', _mapControslHeight + 'px');\n          _this10.state.mapcontrolDOM.css('width', mapControlsWidth + 'px');\n          changedAndMoreSpace.changed = false;\n          changedAndMoreSpace.space && setTimeout(function () {\n            return handleVerticalMapControlDOMElements();\n          });\n        }\n      };\n      handleVerticalMapControlDOMElements();\n    } else isMobile.any && this.setMapControlsAlignement('rv');\n  }\n};\n\n/**\n *\n * @param control\n * @param visible\n * @private\n */\nproto._setMapControlVisible = function (_ref18) {\n  var control = _ref18.control,\n      _ref18$visible = _ref18.visible,\n      visible = _ref18$visible === undefined ? true : _ref18$visible;\n\n  control && control.setVisible(visible);\n};\n\nproto._addControlToMapControls = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var controlElement = control.element;\n  if (!visible) control.element.style.display = \"none\";\n  $('.g3w-map-controls').append(controlElement);\n};\n\nproto.getMapControlByType = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref19.type;\n\n  var mapControl = this._mapControls.find(function (mapControl) {\n    return type === mapControl.type;\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n *\n *\n * @param id\n * @param type\n * @param control\n * @param addToMapControls\n * @param visible\n */\nproto.addControl = function (id, type, control) {\n  var _this11 = this;\n\n  var addToMapControls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var visible = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n  this.state.mapcontrolready = false;\n  this.viewer.map.addControl(control);\n  control.on('toggled', function (evt) {\n    return _this11.emit('mapcontrol:toggled', evt);\n  });\n  this._mapControls.push({\n    id: id,\n    type: type,\n    control: control,\n    visible: visible,\n    mapcontrol: addToMapControls && visible\n  });\n  control.on('controlclick', function (evt) {\n    var mapcontrol = evt.target;\n\n    var info = {\n      clickmap: mapcontrol.isClickMap && mapcontrol.isClickMap() || false\n    };\n    info.clickmap && _this11._externalInteractions.forEach(function (interaction) {\n      return interaction.setActive(false);\n    });\n    _this11.controlClick(mapcontrol, info);\n  });\n  var buttonControl = $(control.element).find('button');\n  buttonControl.tooltip({\n    placement: 'bottom',\n    trigger: _gui2.default.isMobile() ? 'click' : 'hover'\n  });\n  // in case of mobile hide tooltip after click\n  _gui2.default.isMobile() && buttonControl.on('shown.bs.tooltip', function () {\n    var _this12 = this;\n\n    setTimeout(function () {\n      return $(_this12).tooltip('hide');\n    }, 600);\n  });\n  if (addToMapControls) this._addControlToMapControls(control, visible);else {\n    var $mapElement = $('#' + this.getMap().getTarget());\n    this._updateMapControlsLayout({\n      width: $mapElement.width(),\n      height: $mapElement.height()\n    });\n  }\n  _mapControls2.default.registerControl(type, control);\n  this._setMapControlsInsideContainerLenght();\n  this.state.mapcontrolready = true;\n};\n\nproto.showControl = function (type) {\n  this.showControls([type]);\n};\n\nproto.hideControl = function (type) {\n  this.hideControls([type]);\n};\n\nproto.showControls = function (types) {\n  this.toggleControls(true, types);\n};\n\nproto.hideControls = function (types) {\n  this.toggleControls(false, types);\n};\n\nproto.showAllControls = function () {\n  this.toggleControls(true);\n};\n\nproto.hideAllControls = function () {\n  this.toggleControls(false);\n};\n\nproto.toggleControls = function (toggle, types) {\n  this._removeControls();\n  this._mapControls.forEach(function (controlObj) {\n    if (types) {\n      if (types.indexOf(controlObj.type) > -1) controlObj.visible = toggle;\n    } else controlObj.visible = toggle;\n  });\n  this._layoutControls();\n};\n\nproto._layoutControls = function () {\n  var _this13 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.visible) _this13.viewer.map.addControl(controlObj.control);\n  });\n};\n\nproto.getMapControls = function () {\n  return this._mapControls;\n};\n\nproto.removeControlById = function (id) {\n  var _this14 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (id === controlObj.id) {\n      _this14._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this14.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto.removeControl = function (type) {\n  var _this15 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (type === controlObj.type) {\n      _this15._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this15.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto._removeControls = function () {\n  var _this16 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    return _this16.viewer.map.removeControl(controlObj.control);\n  });\n};\n\n/**\n * untoggle mapcontrol\n * @param close GUI content\n * @private\n */\nproto._unToggleControls = function () {\n  var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref20$close = _ref20.close,\n      close = _ref20$close === undefined ? true : _ref20$close;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.control.isToggled && controlObj.control.isToggled()) {\n      controlObj.control.toggle(false);\n      close && _gui2.default.closeContent();\n    }\n  });\n};\n\nproto.deactiveMapControls = function () {\n  this._unToggleControls({\n    close: false\n  });\n};\n\n/**\n *\n * Method to disable\n */\nproto.disableClickMapControls = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._mapControls.forEach(function (controlObj) {\n    var control = controlObj.control;\n\n    var clickmap = control.isClickMap ? control.isClickMap() : false;\n    if (clickmap) {\n      control.isToggled() && control.toggle();\n      control[bool ? 'disable' : 'enable']();\n    }\n  });\n};\n\nproto.addMapLayers = function (mapLayers) {\n  var _this17 = this;\n\n  mapLayers.reverse().forEach(function (mapLayer) {\n    return _this17.addMapLayer(mapLayer);\n  });\n};\n\nproto._setupCustomMapParamsToLegendUrl = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (bool) {\n    var map = this.getMap();\n    var size = map && map.getSize().filter(function (value) {\n      return value > 0;\n    }) || null;\n    var bbox = size && size.length === 2 ? map.getView().calculateExtent(size) : this.project.state.initextent;\n    // in case of axis orientation inverted i need to inverted the axis\n    bbox = map.getView().getProjection().getAxisOrientation() === \"neu\" ? [bbox[1], bbox[0], bbox[3], bbox[2]] : bbox;\n    var crs = this.getEpsg();\n    //setup initial legend parameter\n    this.getMapLayers().forEach(function (mapLayer) {\n      mapLayer.setupCustomMapParamsToLegendUrl && mapLayer.setupCustomMapParamsToLegendUrl({\n        crs: crs,\n        bbox: bbox\n      });\n    });\n    this.emit('change-map-legend-params');\n  }\n};\n\nproto.addMapLayer = function (mapLayer) {\n  this._mapLayers.push(mapLayer);\n  this.addLayerToMap(mapLayer);\n};\n\nproto.getMapLayerByLayerId = function (layerId) {\n  return this.getMapLayers().find(function (mapLayer) {\n    return mapLayer.getLayerConfigs().find(function (layer) {\n      return layer.getId() === layerId;\n    });\n  });\n};\n\nproto.getMapLayers = function () {\n  return this._mapLayers;\n};\n\nproto.getBaseLayers = function () {\n  return this.mapBaseLayers;\n};\n\nproto.getMapLayerForLayer = function (layer) {\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayers = this.getMapLayers();\n  var mapLayer = mapLayers.find(function (mapLayer) {\n    return mapLayer.getId() === multilayerId;\n  });\n  return mapLayer;\n};\n\nproto.getProjectLayer = function (layerId) {\n  return _mapLayers2.default.getLayerById(layerId);\n};\n\nproto._setSettings = function () {\n  var ZOOM = _constant.MAP_SETTINGS.ZOOM;\n\n  var maxScale = this.getScaleFromExtent(this.project.state.initextent);\n  // settings maxScale\n  ZOOM.maxScale = ZOOM.maxScale > maxScale ? maxScale : ZOOM.maxScale;\n};\n\nproto._resetView = function () {\n  var _viewer$map$getSize = this.viewer.map.getSize(),\n      _viewer$map$getSize2 = _slicedToArray(_viewer$map$getSize, 2),\n      width = _viewer$map$getSize2[0],\n      height = _viewer$map$getSize2[1];\n\n  var extent = this.project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var minyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, minyRes) > this.viewer.map.getView().getMaxResolution() ? Math.max(maxxRes, minyRes) : this.viewer.map.getView().getMaxResolution();\n  var view = new ol.View({\n    extent: extent,\n    projection: this.viewer.map.getView().getProjection(),\n    center: this.viewer.map.getView().getCenter(),\n    resolution: this.viewer.map.getView().getResolution(),\n    maxResolution: maxResolution\n  });\n  this._setSettings();\n  this.viewer.map.setView(view);\n};\n\nproto._calculateViewOptions = function () {\n  var _this18 = this;\n\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      project = _ref21.project,\n      width = _ref21.width,\n      height = _ref21.height;\n\n  var searchParams = new URLSearchParams(location.search);\n  var map_extent = searchParams.get('map_extent');\n  var zoom_to_fid = searchParams.get('zoom_to_fid');\n  var zoom_to_features = searchParams.get('ztf'); // zoom to features\n  var lat_lon = searchParams.get('lat') && searchParams.get('lon') && {\n    lat: 1 * searchParams.get('lat'),\n    lon: 1 * searchParams.get('lon')\n  };\n  var x_y = searchParams.get('x') && searchParams.get('y') && {\n    x: 1 * searchParams.get('x'),\n    y: 1 * searchParams.get('y')\n  };\n  if (zoom_to_fid) this.zoomToFid(zoom_to_fid);else if (zoom_to_features) this.handleZoomToFeaturesUrlParameter({ zoom_to_features: zoom_to_features });else if (lat_lon && !Number.isNaN(lat_lon.lat) && !Number.isNaN(lat_lon.lon)) {\n    setTimeout(function () {\n      var geometry = new ol.geom.Point(ol.proj.transform([lat_lon.lon, lat_lon.lat], 'EPSG:4326', _this18.getEpsg()));\n      if (geometry.getExtent()) _this18.zoomToGeometry(geometry);\n    });\n  } else if (x_y && !Number.isNaN(x_y.x) && !Number.isNaN(x_y.y)) setTimeout(function () {\n    var geometry = new ol.geom.Point([x_y.x, x_y.y]);\n    _this18.zoomToGeometry(geometry);\n  });\n  var initextent = map_extent ? map_extent.split(',').map(function (coordinate) {\n    return 1 * coordinate;\n  }) : project.state.initextent;\n  var projection = this.getProjection();\n  var extent = project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var maxyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, maxyRes);\n  var initxRes = ol.extent.getWidth(initextent) / width;\n  var inityRes = ol.extent.getHeight(initextent) / height;\n  var resolution = Math.max(initxRes, inityRes);\n  var center = ol.extent.getCenter(initextent);\n  return {\n    projection: projection,\n    center: center,\n    extent: extent,\n    maxResolution: maxResolution,\n    resolution: resolution\n  };\n};\n\n// set view based on project config\nproto._setupViewer = function (width, height) {\n  var _this19 = this;\n\n  this.viewer = olhelpers.createViewer({\n    id: this.target,\n    view: this._calculateViewOptions({\n      width: width,\n      height: height,\n      project: this.project\n    })\n  });\n  this._setSettings();\n  this.state.size = this.viewer.map.getSize();\n  //set mapunit\n  this.state.mapUnits = this.viewer.map.getView().getProjection().getUnits();\n\n  if (this.config.background_color) {\n    $('#' + this.target).css('background-color', this.config.background_color);\n  }\n\n  $(this.viewer.map.getViewport()).prepend('<div id=\"map-spinner\" style=\"position:absolute; top: 50%; right: 50%\"></div>');\n\n  this.viewer.map.getInteractions().forEach(function (interaction) {\n    return _this19._watchInteraction(interaction);\n  });\n\n  this.viewer.map.getInteractions().on('add', function (interaction) {\n    return _this19._watchInteraction(interaction.element);\n  });\n\n  this.viewer.map.getInteractions().on('remove', function (interaction) {\n    //this._onRemoveInteraction(interaction););\n  });\n\n  this._marker = new ol.Overlay({\n    position: null,\n    positioning: 'center-center',\n    element: document.getElementById('marker'),\n    stopEvent: false\n  });\n\n  this.viewer.map.addOverlay(this._marker);\n\n  /**\n   *\n   * Register map addLayer\n   *\n   */\n  this.viewer.map.getLayers().on('add', function (evt) {\n    var layer = evt.element;\n\n    var basemap = layer.get('basemap');\n    var position = layer.get('position');\n    var zindex = basemap && 0;\n    if (position && position === 'bottom') zindex = 0;\n    zindex = _this19.setLayerZIndex({\n      layer: layer,\n      zindex: zindex\n    });\n    _this19.moveDefaultLayersOnTop(zindex);\n  });\n\n  this.viewer.map.getLayers().on('remove', function (evt) {\n    var layer = evt.element;\n\n    var layerZIndex = layer.getZIndex();\n    if (layerZIndex === _this19.layersCount) _this19.layersCount -= 1;\n  });\n};\n\nproto.getMapUnits = function () {\n  return this.state.mapUnits;\n};\n\nproto._removeListeners = function () {\n  this._setBaseLayerListenerKey && this.project.un('setBaseLayer', this._setBaseLayerListenerKey);\n};\n\n// remove all events of layersStore\nproto._removeEventsKeysToLayersStore = function (layerStore) {\n  var layerStoreId = layerStore.getId();\n  if (this._layersStoresEventKeys[layerStoreId]) {\n    this._layersStoresEventKeys[layerStoreId].forEach(function (eventObj) {\n      Object.entries(eventObj).forEach(function (_ref22) {\n        var _ref23 = _slicedToArray(_ref22, 2),\n            event = _ref23[0],\n            eventKey = _ref23[1];\n\n        return layerStore.un(event, eventKey);\n      });\n    });\n    delete this._layersStoresEventKeys[layerStoreId];\n  }\n};\n\n// register all events of layersStore and relative keys\nproto._setUpEventsKeysToLayersStore = function (layerStore) {\n  var _this20 = this;\n\n  var layerStoreId = layerStore.getId();\n  // check if already store a key of events\n  this._layersStoresEventKeys[layerStoreId] = [];\n  //ADD LAYER\n  var addLayerKey = layerStore.onafter('addLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var mapLayer = layer.getMapLayer();\n      _this20.addLayerToMap(mapLayer);\n    }\n  });\n  this._layersStoresEventKeys[layerStoreId].push({\n    addLayer: addLayerKey\n  });\n  // REMOVE LAYER\n  var removeLayerKey = layerStore.onafter('removeLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var olLayer = layer.getOLLayer();\n      _this20.viewer.map.removeLayer(olLayer);\n    }\n  });\n\n  this._layersStoresEventKeys[layerStoreId].push({\n    removeLayer: removeLayerKey\n  });\n};\n\nproto._setupListeners = function () {\n  var _this21 = this;\n\n  this._setBaseLayerListenerKey = this.project.onafter('setBaseLayer', function () {\n    _this21.updateMapLayers();\n  });\n};\n\n// SETUP ALL LAYERS\nproto._setupAllLayers = function () {\n  this._setupBaseLayers();\n  this._setupMapLayers();\n  this._setupVectorLayers();\n  this._setUpDefaultLayers();\n};\n\n//SETUP BASELAYERS\nproto._setupBaseLayers = function () {\n  var _this22 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  if (!baseLayers.length) return;\n  baseLayers.forEach(function (layer) {\n    var baseMapLayer = layer.getMapLayer();\n    _this22.registerMapLayerListeners(baseMapLayer);\n    _this22.mapBaseLayers[layer.getId()] = baseMapLayer;\n  });\n  var reverseBaseLayers = Object.values(this.mapBaseLayers).reverse();\n  reverseBaseLayers.forEach(function (baseMapLayer) {\n    baseMapLayer.update(_this22.state, _this22.layersExtraParams);\n    _this22.addLayerToMap(baseMapLayer);\n  });\n};\n\n//SETUP MAPLAYERS\nproto._setupMapLayers = function () {\n  var _this23 = this;\n\n  // get all geolayers exclude baselayers and eventually vector layers\n  var layers = getMapLayersByFilter({\n    BASELAYER: false,\n    VECTORLAYER: false\n  });\n  this._setMapProjectionToLayers(layers);\n  //group layer by mutilayer (multilayer property of layer on project configuration)\n  // nee to split time series to group to speed up eventualli time seriesries loading of single layer\n  var qtimeseries_multilayerid_split_values = {};\n  var multiLayers = _.groupBy(layers, function (layer) {\n    var multiLayerId = layer.getMultiLayerId();\n    if (layer.isQtimeseries()) {\n      qtimeseries_multilayerid_split_values[multiLayerId] = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? 0 : qtimeseries_multilayerid_split_values[multiLayerId] + 1;\n      multiLayerId = multiLayerId + '_' + qtimeseries_multilayerid_split_values[multiLayerId];\n    } else multiLayerId = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? multiLayerId : multiLayerId + '_' + (qtimeseries_multilayerid_split_values[multiLayerId] + 1);\n    return multiLayerId;\n  });\n  qtimeseries_multilayerid_split_values = null; // delete to garbage collector\n  var mapLayers = [];\n  Object.entries(multiLayers).forEach(function (_ref24) {\n    var _ref25 = _slicedToArray(_ref24, 2),\n        id = _ref25[0],\n        layers = _ref25[1];\n\n    var multilayerId = 'layer_' + id;\n    var mapLayer = void 0;\n    var layer = layers[0] || [];\n    if (layers.length === 1) {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection(),\n        /**\n         * @since 3.7.11\n         */\n        format: layer.getSource() && layer.getSource().format\n      }, {});\n      mapLayer.addLayer(layer);\n      mapLayers.push(mapLayer);\n    } else {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, _this23.layersExtraParams);\n      layers.reverse().forEach(function (sub_layer) {\n        return mapLayer.addLayer(sub_layer);\n      });\n      mapLayers.push(mapLayer);\n    }\n    _this23.registerMapLayerListeners(mapLayer);\n  });\n  this.addMapLayers(mapLayers);\n  this.updateMapLayers();\n  return mapLayers;\n};\n\n//SETUP VECTORLAYERS\nproto._setupVectorLayers = function () {\n  var _this24 = this;\n\n  var layers = getMapLayersByFilter({\n    VECTORLAYER: true\n  });\n  this._setMapProjectionToLayers(layers);\n  layers.forEach(function (layer) {\n    var mapVectorLayer = layer.getMapLayer();\n    _this24.addLayerToMap(mapVectorLayer);\n  });\n};\n\nproto._setUpDefaultLayers = function () {\n  // follow the order that i want\n  this.getMap().addLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().addLayer(this.defaultsLayers.selectionLayer);\n};\n\n/**\n * Method to set Default layers (selectionLayer, and highlightLayer)\n * always on top of layers stack of map to be always visible\n */\nproto.moveDefaultLayersOnTop = function (zindex) {\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.highlightLayer,\n    zindex: zindex + 1\n  });\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.selectionLayer,\n    zindex: zindex + 2\n  });\n};\n\nproto.removeDefaultLayers = function () {\n  this.defaultsLayers.highlightLayer.getSource().clear();\n  this.defaultsLayers.selectionLayer.getSource().clear();\n  this.getMap().removeLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().removeLayer(this.defaultsLayers.selectionLayer);\n};\n\nproto.setDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = style;\n};\n\nproto.resetDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = {\n    color: type === 'highlightLayer' ? undefined : 'red'\n  };\n};\n\nproto.removeLayers = function () {\n  this._removeBaseLayers();\n  this._removeMapLayers();\n  this.removeExternalLayers();\n  this.removeDefaultLayers();\n};\n\nproto.removeAllLayers = function () {\n  this.viewer.removeLayers();\n};\n\n//set ad increase layerIndex\nproto.setLayerZIndex = function (_ref26) {\n  var layer = _ref26.layer,\n      _ref26$zindex = _ref26.zindex,\n      zindex = _ref26$zindex === undefined ? this.layersCount += 1 : _ref26$zindex;\n\n  layer.setZIndex(zindex);\n  return zindex;\n};\n\n/**\n * Add olLayer to mapLayer\n * @param layer\n */\nproto.addLayerToMap = function (layer) {\n  var olLayer = layer.getOLLayer();\n  olLayer && this.getMap().addLayer(olLayer);\n};\n\nproto._setMapProjectionToLayers = function (layers) {\n  var _this25 = this;\n\n  // setup mapProjection on ech layers\n  layers.forEach(function (layer) {\n    return layer.setMapProjection(_this25.getProjection());\n  });\n};\n\nproto.createMapLayer = function (layer) {\n  layer.setMapProjection(this.getProjection());\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayer = layer.getMapLayer({\n    id: multilayerId,\n    projection: this.getProjection()\n  }, this.layersExtraParams);\n  mapLayer.addLayer(layer);\n  return mapLayer;\n};\n\nproto.getOverviewMapLayers = function (project) {\n  var WMSLayer = require('core/layers/map/wmslayer');\n  var projectLayers = project.getLayersStore().getLayers({\n    GEOLAYER: true,\n    BASELAYER: false\n  });\n  var multiLayers = _.groupBy(projectLayers, function (layer) {\n    return layer.getMultiLayerId();\n  });\n  var overviewMapLayers = [];\n\n  Object.entries(multiLayers).forEach(function (_ref27) {\n    var _ref28 = _slicedToArray(_ref27, 2),\n        id = _ref28[0],\n        layers = _ref28[1];\n\n    var multilayerId = 'overview_layer_' + id;\n    var tiled = layers[0].state.tiled;\n    var config = {\n      url: project.getWmsUrl(),\n      id: multilayerId,\n      tiled: tiled\n    };\n    var mapLayer = new WMSLayer(config);\n    layers.reverse().forEach(function (layer) {\n      return mapLayer.addLayer(layer);\n    });\n    overviewMapLayers.push(mapLayer.getOLLayer(true));\n  });\n  return overviewMapLayers.reverse();\n};\n\n/**\n * method to update MapLayer\n * @param mapLayer\n * @param options\n */\nproto.updateMapLayer = function (mapLayer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var _ref29 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref29$showSpinner = _ref29.showSpinner,\n      showSpinner = _ref29$showSpinner === undefined ? true : _ref29$showSpinner;\n\n  // if force add g3w_time parameter to force request of map layer from server\n  if (options.force) options.g3w_time = Date.now();\n  if (showSpinner !== mapLayer.showSpinnerWhenLoading) {\n    mapLayer.showSpinnerWhenLoading = showSpinner;\n    this[showSpinner ? 'registerMapLayerLoadingEvents' : 'unregisterMapLayerLoadingEvents'](mapLayer);\n  }\n  mapLayer.update(this.state, options);\n  return mapLayer;\n};\n\n// run update function on each mapLayer\nproto.updateMapLayers = function () {\n  var _this26 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    return _this26.updateMapLayer(mapLayer, options);\n  });\n  var baseLayers = this.getBaseLayers();\n  //updatebase layer\n  Object.values(baseLayers).forEach(function (baseLayer) {\n    return baseLayer.update(_this26.state, _this26.layersExtraParams);\n  });\n};\n\n// register map Layer listeners of creation\nproto.registerMapLayerListeners = function (mapLayer) {\n  var _this27 = this;\n\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  this.registerMapLayerLoadingEvents(mapLayer);\n  //listen change filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.onbefore('change', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n    layer.on('filtertokenchange', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n  });\n  ///\n};\n\n/** Methos to register and unregister map loadmap\n *\n * */\nproto.registerMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.on('loadstart', this._incrementLoaders);\n  mapLayer.on('loadend', this._decrementLoaders);\n  mapLayer.on('loaderror', this._mapLayerLoadError);\n};\n\nproto.unregisterMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.off('loadstart', this._incrementLoaders);\n  mapLayer.off('loadend', this._decrementLoaders);\n  mapLayer.off('loaderror', this._mapLayerLoadError);\n};\n\n/**\n * End\n */\n\n// unregister listeners of mapLayers creation\nproto.unregisterMapLayerListeners = function (mapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this.unregisterMapLayerLoadingEvents(mapLayer);\n  // try to remove layer filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.un('change');\n    layer.removeEvent('filtertokenchange');\n  });\n};\n\nproto.setTarget = function (elId) {\n  this.target = elId;\n};\n\nproto.getCurrentToggledMapControl = function () {\n  var mapControl = this._mapControls.find(function (_ref30) {\n    var control = _ref30.control;\n    return control && control.isToggled && control.isToggled();\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n * close: param to close eventually right content open\n * @param interaction\n * @param options is an object contain: {\n *   active: If set new interaction active or not\n *   active: If set new interaction active or not\n *   close: if close eventually GUI Content (es. result right content )\n * }\n * return object having current toggled control if there is a toggled mapcontrol\n */\nproto.addInteraction = function (interaction) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { active: true, close: true };\n  var _options$active = options.active,\n      active = _options$active === undefined ? true : _options$active;\n\n  var control = this.getCurrentToggledMapControl();\n  var toggled = control && control.isToggled && control.isToggled() || false;\n  var untoggleMapControls = control && control.isClickMap ? control.isClickMap() : true;\n  untoggleMapControls && active && this._unToggleControls(options);\n  this.getMap().addInteraction(interaction);\n  interaction.setActive(active);\n  this._externalInteractions.push(interaction);\n  return {\n    control: control,\n    toggled: toggled // return current toggled map control if toggled\n  };\n};\n\nproto.removeInteraction = function (interaction) {\n  interaction && interaction.setActive(false);\n  this.viewer.map.removeInteraction(interaction);\n  this._externalInteractions = this._externalInteractions.filter(function (_interaction) {\n    return interaction !== _interaction;\n  });\n};\n\nproto._watchInteraction = function (interaction) {\n  var _this28 = this;\n\n  interaction.on('change:active', function (e) {\n    if (e.target instanceof ol.interaction.Pointer && e.target.getActive()) {\n      _this28.emit('mapcontrol:active', e.target);\n    }\n  });\n};\n\n/**\n * Show map Info\n * @param info\n */\nproto.showMapInfo = function () {\n  var _ref31 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      info = _ref31.info,\n      style = _ref31.style;\n\n  this.state.map_info.info = info;\n  this.state.map_info.style = style || this.state.map_info.style;\n};\n\nproto.hideMapInfo = function () {\n  this.state.map_info.info = null;\n  this.state.map_info.style = null;\n};\n\nproto.zoomTo = function (coordinate) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n\n  this.viewer.zoomTo(coordinate, zoom);\n};\n\nproto.goTo = function (coordinates, zoom) {\n  var options = {\n    zoom: zoom || 6\n  };\n  this.viewer.goTo(coordinates, options);\n};\n\nproto.goToRes = function (coordinates, resolution) {\n  this.viewer.goToRes(coordinates, {\n    resolution: resolution\n  });\n};\n\nproto.getGeometryAndExtentFromFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var extent = void 0;\n  var geometryType = void 0;\n  var geometry = void 0;\n  var coordinates = void 0;\n  var geometryCoordinates = [];\n  for (var i = 0; i < features.length; i++) {\n    var feature = features[i];\n    var _geometry = feature.getGeometry ? feature.getGeometry() : feature.geometry;\n    if (_geometry) {\n      if (_geometry instanceof ol.geom.Geometry) {\n        var featureExtent = [].concat(_toConsumableArray(_geometry.getExtent()));\n        extent = !extent ? featureExtent : ol.extent.extend(extent, featureExtent);\n        geometryType = geometryType ? geometryType : _geometry.getType();\n        coordinates = _geometry.getCoordinates();\n        if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n      } else {\n        var _featureExtent = feature.bbox;\n        extent = !extent ? _featureExtent : ol.extent.extend(extent, _featureExtent);\n        geometryType = _geometry.type;\n        coordinates = _geometry.coordinates;\n      }\n      if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n    }\n  }\n  try {\n    var olClassGeomType = geometryType.includes('Multi') ? geometryType : 'Multi' + geometryType;\n    geometry = new ol.geom[olClassGeomType](geometryCoordinates);\n    if (extent === undefined) extent = geometry.getExtent();\n  } catch (err) {}\n  return {\n    extent: extent,\n    geometry: geometry\n  };\n};\n\nproto.highlightFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _getGeometryAndExtent = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent.geometry;\n  //force zoom false\n\n\n  options.zoom = false;\n  this.highlightGeometry(geometry, options);\n};\n\n/**\n * Zoom methods\n */\n\nproto.zoomToGeometry = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var extent = geometry && geometry.getExtent();\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  extent && this.zoomToExtent(extent, options);\n};\n\nproto.zoomToFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var _getGeometryAndExtent2 = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent2.geometry,\n      extent = _getGeometryAndExtent2.extent;\n\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  return extent && this.zoomToExtent(extent, options) || Promise.resolve();\n};\n\n/**\n * @param   { ol.extent }                                          extent\n * @param   {{ force?: boolean, highLightGeometry?: ol.geometry }} [options={}]\n * @returns { Promise<void> }\n */\nproto.zoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.goToRes(ol.extent.getCenter(extent), this.getResolutionForZoomToExtent(extent, { force: options.force || false }));\n  if (options.highLightGeometry) {\n    return this.highlightGeometry(options.highLightGeometry, { zoom: false, duration: options.duration });\n  }\n  return Promise.resolve();\n};\n\nproto.zoomToProjectInitExtent = function () {\n  this.zoomToExtent(this.project.state.initextent);\n};\n\n/**\n * End zoom methods\n */\n\nproto.compareExtentWithProjectMaxExtent = function (extent) {\n  var projectExtent = this.project.state.extent;\n  var inside = ol.extent.containsExtent(projectExtent, extent);\n  return inside ? extent : projectExtent;\n};\n\n/**\n * @param   {[ minx: number, miny: number, maxx: number, maxy: number ]} extent\n * @param   {{ force?: boolean }} [options] if force is undefined calculate `resolution` from given `extent`\n * @returns {number} resolution (in pixels?)\n */\nproto.getResolutionForZoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var map = this.getMap();\n\n  // if outside project extent, return max resolution\n  if (false === ol.extent.containsExtent(this.project.state.extent, extent)) {\n    return map.getView().getResolutionForExtent(this.project.state.extent, map.getSize());\n  }\n\n  var extentResolution = map.getView().getResolutionForExtent(extent, map.getSize()); // resolution of request extent\n\n  // retrive resolution from given `extent`\n  if (true === options.force) {\n    return extentResolution;\n  }\n\n  // calculate main resolutions from map\n  var resolution = void 0;\n  var currentResolution = map.getView().getResolution();\n  var maxResolution = getResolutionFromScale(_constant.MAP_SETTINGS.ZOOM.maxScale, this.getMapUnits()); // max resolution of the map\n  resolution = extentResolution > maxResolution ? extentResolution : maxResolution;\n  resolution = currentResolution < resolution && currentResolution > extentResolution ? currentResolution : resolution;\n  return resolution;\n};\n\nproto.goToBBox = function (bbox) {\n  var epsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getEpsg();\n\n  bbox = epsg === this.getEpsg() ? bbox : ol.proj.transformExtent(bbox, epsg, this.getEpsg());\n  this.viewer.fit(this.compareExtentWithProjectMaxExtent(bbox));\n};\n\nproto.goToWGS84 = function (coordinates, zoom) {\n  coordinates = ol.proj.transform(coordinates, 'EPSG:4326', this.project.state.crs.epsg);\n  this.goTo(coordinates, zoom);\n};\n\nproto.extentToWGS84 = function (extent) {\n  return ol.proj.transformExtent(extent, this.project.state.crs.epsg, 'EPSG:4326');\n};\n\nproto.getResolutionForMeters = function (meters) {\n  var viewport = this.viewer.map.getViewport();\n  return meters / Math.max(viewport.clientWidth, viewport.clientHeight);\n};\n\nvar animatingHighlight = false;\n\n/*\n* geometries = array of geometries\n* action: add, clear, remove :\n*                             add: feature/features to selectionLayer. If selectionLayer doesn't exist create a  new vector layer.\n*                             clear: remove selectionLayer\n*                             remove: remove feature from selection layer. If no more feature are in selectionLayer it will be removed\n* */\nproto.setSelectionFeatures = function () {\n  var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'add';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var feature = options.feature,\n      color = options.color;\n\n  color && this.setDefaultLayerStyle('selectionLayer', {\n    color: color\n  });\n  var source = this.defaultsLayers.selectionLayer.getSource();\n  switch (action) {\n    case 'add':\n      source.addFeature(feature);\n      break;\n    case 'remove':\n      source.removeFeature(feature);\n      break;\n    case 'update':\n      var id = feature.getId();\n      var addedFeature = source.getFeatureById(id);\n      addedFeature.setGeometry(feature.getGeometry());\n      break;\n    case 'clear':\n      source.clear();\n      break;\n  }\n};\n\nproto.clearSelectionFeatures = function () {\n  this.defaultsLayers.selectionLayer.getSource().clear();\n};\n\nproto.seSelectionLayerVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.defaultsLayers.selectionLayer.setVisible(visible);\n};\n\nproto.highlightGeometry = function (geometryObj) {\n  var _this29 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new Promise(function (resolve, reject) {\n    var color = options.color;\n\n    _this29.clearHighlightGeometry();\n    _this29.setDefaultLayerStyle('highlightLayer', {\n      color: color\n    });\n    var zoom = typeof options.zoom === 'boolean' ? options.zoom : true;\n    var hide = options.hide;\n    if (hide) hide = typeof hide === 'function' ? hide : null;\n    var customStyle = options.style;\n    var defaultStyle = function defaultStyle(feature) {\n      var styles = [];\n      var geometryType = feature.getGeometry().getType();\n      var style = createSelectedStyle({\n        geometryType: geometryType,\n        color: color,\n        fill: false\n      });\n      styles.push(style);\n      return styles;\n    };\n    var ANIMATION = _constant.MAP_SETTINGS.ANIMATION;\n\n    var highlight = typeof options.highlight == 'boolean' ? options.highlight : true;\n    var duration = options.duration || ANIMATION.duration;\n    var geometry = void 0;\n    if (geometryObj instanceof ol.geom.Geometry) geometry = geometryObj;else {\n      var format = new ol.format.GeoJSON();\n      geometry = format.readGeometry(geometryObj);\n    }\n    if (zoom) {\n      var extent = geometry.getExtent();\n      _this29.zoomToExtent(extent);\n    }\n    if (highlight) {\n      var feature = new ol.Feature({\n        geometry: geometry\n      });\n      var highlightLayer = _this29.defaultsLayers.highlightLayer;\n      customStyle && highlightLayer.setStyle(customStyle);\n      highlightLayer.getSource().addFeature(feature);\n      if (hide) {\n        var callback = function callback() {\n          highlightLayer.getSource().clear();\n          customStyle && highlightLayer.setStyle(defaultStyle);\n          resolve();\n        };\n        hide(callback);\n      } else if (duration) {\n        if (duration !== Infinity) {\n          animatingHighlight = true;\n          setTimeout(function () {\n            highlightLayer.getSource().clear();\n            customStyle && highlightLayer.setStyle(defaultStyle);\n            animatingHighlight = false;\n            resolve();\n          }, duration);\n        }\n      }\n    } else resolve();\n  });\n};\n\nproto.clearHighlightGeometry = function () {\n  !animatingHighlight && this.defaultsLayers.highlightLayer.getSource().clear();\n  this.resetDefaultLayerStyle('highlightLayer');\n};\n\n/**\n * Force to referesh map\n * @param options\n */\nproto.refreshMap = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { force: true };\n\n  this.updateMapLayers(options);\n};\n\n// called when layout (window) resize\nproto.layout = function (_ref32) {\n  var width = _ref32.width,\n      height = _ref32.height;\n\n  var is_hidden = width <= 0 || height <= 0;\n  if (!this.viewer) {\n    this.setupViewer(width, height);\n    if (this.viewer) {\n      this.setupControls();\n      this.emit('ready');\n    }\n  } else {\n    if (!is_hidden) {\n      this.getMap().updateSize();\n      this.state.hidemaps.forEach(function (hidemap) {\n        return hidemap.map.updateSize();\n      });\n      this._updateMapView();\n    }\n  }\n  this.setHidden(is_hidden);\n  this._mapControls.length && this._updateMapControlsLayout({ width: width, height: height });\n};\n\n//remove BaseLayers\nproto._removeBaseLayers = function () {\n  var _this30 = this;\n\n  Object.keys(this.mapBaseLayers).forEach(function (baseLayerId) {\n    _this30.viewer.map.removeLayer(_this30.mapBaseLayers[baseLayerId].getOLLayer());\n  });\n};\n\n// function to remove maplayers\nproto._removeMapLayers = function () {\n  var _this31 = this;\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    _this31.unregisterMapLayerListeners(mapLayer);\n    _this31.viewer.map.removeLayer(mapLayer.getOLLayer());\n  });\n  this._mapLayers = [];\n};\n\nproto.getMapBBOX = function () {\n  return this.viewer.getBBOX();\n};\n\nproto._updateMapView = function () {\n  var bbox = this.viewer.getBBOX();\n  var resolution = this.viewer.getResolution();\n  var center = this.viewer.getCenter();\n  var size = this.getMap().getSize();\n  this.updateMapView(bbox, resolution, center, size);\n};\n\nproto.getMapSize = function () {\n  var map = this.viewer.map;\n  return map.getSize();\n};\n\nproto.setInnerGreyCoverScale = function (scale) {\n  this._drawShadow.scale = scale;\n};\n\nproto._resetDrawShadowInner = function () {\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n};\n\nproto.setInnerGreyCoverBBox = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var map = this.viewer.map;\n  var type = options.type || 'coordinate';\n  var inner = options.inner || null;\n  var rotation = options.rotation;\n  var scale = options.scale;\n  var lowerLeftInner = void 0;\n  var upperRightInner = void 0;\n  if (inner) {\n    switch (type) {\n      case 'coordinate':\n        lowerLeftInner = map.getPixelFromCoordinate([inner[0], inner[1]]);\n        upperRightInner = map.getPixelFromCoordinate([inner[2], inner[3]]);\n        break;\n      case 'pixel':\n        lowerLeftInner = [inner[0], inner[1]];\n        upperRightInner = [inner[2], inner[3]];\n        break;\n    }\n    var y_min = lowerLeftInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_min = lowerLeftInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    var y_max = upperRightInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_max = upperRightInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    this._drawShadow.inner[0] = x_min;\n    this._drawShadow.inner[1] = y_min;\n    this._drawShadow.inner[2] = x_max;\n    this._drawShadow.inner[3] = y_max;\n  }\n  if (_.isNil(scale)) this._drawShadow.scale = this._drawShadow.scale || 1;else this._drawShadow.scale = scale;\n\n  if (_.isNil(rotation)) this._drawShadow.rotation = this._drawShadow.rotation || 0;else this._drawShadow.rotation = rotation;\n\n  this._drawShadow.outer && map.render();\n};\n\n// grey map precompose mapcompose\nproto.startDrawGreyCover = function (message) {\n  var _this32 = this;\n\n  // after rendering the layer, restore the canvas context\n  var map = this.viewer.map;\n  var x_min = void 0,\n      x_max = void 0,\n      y_min = void 0,\n      y_max = void 0,\n      rotation = void 0,\n      scale = void 0;\n  this.stopDrawGreyCover();\n  var postcompose = function postcompose(evt) {\n    var ctx = evt.context;\n    var size = _this32.getMap().getSize();\n    // Inner polygon,must be counter-clockwise\n    var height = size[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var width = size[0] * ol.has.DEVICE_PIXEL_RATIO;\n    _this32._drawShadow.outer = [0, 0, width, height];\n    ctx.restore();\n    ctx.beginPath();\n    // Outside polygon, must be clockwise\n    ctx.moveTo(0, 0);\n    ctx.lineTo(width, 0);\n    ctx.lineTo(width, height);\n    ctx.lineTo(0, height);\n    ctx.lineTo(0, 0);\n    ctx.closePath();\n    // end external bbox (map is cover)\n    if (_this32._drawShadow.inner.length) {\n      ctx.save();\n      x_min = _this32._drawShadow.inner[0];\n      y_min = _this32._drawShadow.inner[3];\n      x_max = _this32._drawShadow.inner[2];\n      y_max = _this32._drawShadow.inner[1];\n      rotation = _this32._drawShadow.rotation;\n      scale = _this32._drawShadow.scale;\n      // Inner polygon,must be counter-clockwise antiorario\n      ctx.translate((x_max + x_min) / 2, (y_max + y_min) / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.moveTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.closePath();\n      // end inner bbox\n    }\n    ctx.fillStyle = 'rgba(0, 5, 25, 0.40)';\n    ctx.fill();\n    if (message) {\n      ctx.font = \"bold 25px Arial\";\n      ctx.fillStyle = \"#ffffff\";\n      ctx.textAlign = \"center\";\n      var arrayMessages = message.split('\\n');\n      for (var i = 0; i < arrayMessages.length; i++) {\n        ctx.fillText(arrayMessages[i], width / 2, height / 2 + 30 * i);\n      }\n      //ctx.fillText(message,width/2, height/2);\n    }\n    ctx.restore();\n  };\n  this._greyListenerKey = map.on('postcompose', postcompose);\n};\n\nproto.stopDrawGreyCover = function () {\n  var map = this.getMap();\n  if (this._greyListenerKey) {\n    ol.Observable.unByKey(this._greyListenerKey);\n    this._greyListenerKey = null;\n    this._drawShadow.inner.length && this._resetDrawShadowInner();\n  }\n  map.render();\n};\n\nproto.removeExternalLayers = function () {\n  var _this33 = this;\n\n  this._externalLayers.forEach(function (layer) {\n    var name = layer.get('name');\n    _this33.removeExternalLayer(name);\n  });\n  this._externalLayers = [];\n};\n\nproto.changeLayerVisibility = function (_ref33) {\n  var id = _ref33.id,\n      _ref33$external = _ref33.external,\n      external = _ref33$external === undefined ? false : _ref33$external,\n      visible = _ref33.visible;\n\n  var layer = this.getLayerById(id);\n  if (layer) {\n    layer.setVisible(visible);\n    this.emit('change-layer-visibility', { id: id, visible: visible });\n  }\n};\n\nproto.changeLayerOpacity = function () {\n  var _ref34 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref34.id,\n      _ref34$opacity = _ref34.opacity,\n      opacity = _ref34$opacity === undefined ? 1 : _ref34$opacity;\n\n  var layer = this.getLayerById(id);\n  layer && layer.setOpacity(opacity);\n  this.emit('change-layer-opacity', { id: id, opacity: opacity });\n};\n\nproto.changeLayerMapPosition = function (_ref35) {\n  var id = _ref35.id,\n      _ref35$position = _ref35.position,\n      position = _ref35$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref35$position;\n\n  var layer = this.getLayerById(id);\n  switch (position) {\n    case 'top':\n      layer.setZIndex(this.layersCount);\n      break;\n    case 'bottom':\n      layer.setZIndex(0);\n      break;\n  }\n  this.emit('change-layer-position-map', { id: id, position: position });\n};\n\n/**\n * Remove externla layer\n * @param name\n */\nproto.removeExternalLayer = function (name) {\n  var _this34 = this;\n\n  var layer = this.getLayerByName(name);\n  var catalogService = _gui2.default.getService('catalog');\n  var QueryResultService = _gui2.default.getService('queryresults');\n  QueryResultService.unregisterVectorLayer(layer);\n  this.viewer.map.removeLayer(layer);\n  var type = layer._type || 'vector';\n  catalogService.removeExternalLayer({\n    name: name,\n    type: type\n  });\n  if (type == 'wms') this._externalMapLayers = this._externalMapLayers.filter(function (externalMapLayer) {\n    if (externalMapLayer.getId() === layer.id) _this34.unregisterMapLayerListeners(externalMapLayer, layer.projectLayer);\n    return externalMapLayer.getId() !== layer.id;\n  });\n  this._externalLayers = this._externalLayers.filter(function (externalLayer) {\n    return externalLayer.get('id') !== layer.get('id');\n  });\n  this.unloadExternalLayer(layer);\n  this.emit('remove-external-layer', name);\n};\n\n/**\n * Add wms external layer to mapo\n * @param url\n * @param layers\n * @param name\n * @param projection\n * @param position\n * @returns {Promise<unknown>}\n */\nproto.addExternalWMSLayer = function () {\n  var _this35 = this;\n\n  var _ref36 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref36.url,\n      layers = _ref36.layers,\n      name = _ref36.name,\n      _ref36$epsg = _ref36.epsg,\n      epsg = _ref36$epsg === undefined ? this.getEpsg() : _ref36$epsg,\n      _ref36$position = _ref36.position,\n      position = _ref36$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref36$position,\n      opacity = _ref36.opacity,\n      _ref36$visible = _ref36.visible,\n      visible = _ref36$visible === undefined ? true : _ref36$visible;\n\n  var projection = ol.proj.get(epsg);\n  return new Promise(function (resolve, reject) {\n    var _createWMSLayer = createWMSLayer({\n      name: name,\n      url: url,\n      layers: layers,\n      projection: projection\n    }),\n        wmslayer = _createWMSLayer.wmslayer,\n        olLayer = _createWMSLayer.olLayer;\n\n    wmslayer.once('loadend', function () {\n      resolve(wmslayer);\n    });\n\n    wmslayer.once('loaderror', function (err) {\n      reject(err);\n    });\n\n    /**\n     * add to map\n     */\n    _this35.addExternalLayer(olLayer, {\n      position: position,\n      opacity: opacity,\n      visible: visible\n    });\n\n    /**\n     * cal register and other thing to alert that new map layer is added\n     */\n    _this35.addExternalMapLayer(wmslayer, false);\n  });\n};\n\n/**\n *\n * Return extanla layers added to map\n * @returns {[]|*[]|T[]}\n */\nproto.getExternalLayers = function () {\n  return this._externalLayers;\n};\n\nproto.addExternalMapLayer = function (externalMapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this._externalMapLayers.push(externalMapLayer);\n  this.registerMapLayerListeners(externalMapLayer, projectLayer);\n};\n\n/**\n * Add an external layer to the map (eg. ZIP, KMZ, GPX, ...)\n * \n * @param { ol.layer.Vector | ol.layer.Image | unknown } externalLayer\n * @param {{ position: unknown, opacity: number, visible: boolean, crs: unknown, type: unknown, download: unknown }} options\n * \n * @returns { Promise<unknown> }\n */\nproto.addExternalLayer = function () {\n  var _ref37 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(externalLayer) {\n    var _this36 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var vectorLayer, name, data, color, style, type, crs, _options$position, position, _options$opacity, opacity, _options$visible, visible, map, catalogService, QueryResultService, _color, _style, loadExternalLayer, layer;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            vectorLayer = void 0, name = void 0, data = void 0, color = void 0, style = void 0, type = void 0, crs = void 0;\n            _options$position = options.position, position = _options$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _options$position, _options$opacity = options.opacity, opacity = _options$opacity === undefined ? 1 : _options$opacity, _options$visible = options.visible, visible = _options$visible === undefined ? true : _options$visible;\n            map = this.viewer.map;\n            catalogService = _gui2.default.getService('catalog');\n            QueryResultService = _gui2.default.getService('queryresults');\n\n            /**\n             * EXTERNAL VECTOR LAYER\n             */\n\n            if (externalLayer instanceof ol.layer.Vector) {\n              _color = void 0;\n\n\n              if (undefined === externalLayer.get('id')) {\n                externalLayer.set('id', uniqueId());\n              }\n\n              vectorLayer = externalLayer;\n              vectorLayer.filter = { // used by `selection` for query result purpose ?\n                active: false // UNUSUED - it means not yet implemented?\n              };\n              vectorLayer.selection = {\n                active: false,\n                features: []\n              };\n\n              try {\n                _style = externalLayer.getStyle();\n\n                _color = _style._g3w_options ? _style._g3w_options.color : 'blue'; //setted by geo utils create style function\n              } catch (err) {\n                _color = 'blue';\n              }\n\n              name = vectorLayer.get('name') || vectorLayer.get('id');\n              type = 'vector';\n              externalLayer = {\n                id: externalLayer.get('id'),\n                name: name,\n                projectLayer: false,\n                title: name,\n                removable: true,\n                external: true,\n                crs: options.crs,\n                type: options.type,\n                _type: type,\n                download: options.download || false,\n                visible: visible,\n                checked: true,\n                position: position,\n                opacity: opacity,\n                color: _color,\n                filter: vectorLayer.filter,\n                selection: vectorLayer.selection,\n                tochighlightable: false //@since 3.8.0\n              };\n            }\n\n            /**\n             * EXTERNAL IMAGE LAYER\n             */\n            else if (externalLayer instanceof ol.layer.Image) {\n                type = 'wms';\n                name = externalLayer.get('name');\n                externalLayer.id = externalLayer.get('id');\n                externalLayer.removable = true;\n                externalLayer.projectLayer = false;\n                externalLayer.name = name;\n                externalLayer.title = name;\n                externalLayer._type = type;\n                externalLayer.opacity = opacity;\n                externalLayer.position = position;\n                externalLayer.external = true;\n                externalLayer.checked = visible;\n              }\n\n              /**\n               * UKNOWN EXTERNAL LAYER TYPE ?\n               */\n              else {\n                  name = externalLayer.name;\n                  type = externalLayer.type;\n                  crs = externalLayer.crs;\n                  data = externalLayer.data;\n                  color = externalLayer.color;\n                }\n\n            loadExternalLayer = function loadExternalLayer(layer, type) {\n              var extent = void 0;\n              // skip if is not a valid layer\n              if (!layer) {\n                return Promise.reject();\n              }\n              if (type === 'vector') {\n                var features = layer.getSource().getFeatures();\n                if (features.length) {\n                  var id = 0;\n                  // add id value\n                  features.forEach(function (feature) {\n                    feature.setId(id++);\n                  });\n                  externalLayer.geometryType = features[0].getGeometry().getType();\n                  externalLayer.selected = false;\n                }\n                extent = layer.getSource().getExtent();\n                externalLayer.bbox = { minx: extent[0], miny: extent[1], maxx: extent[2], maxy: extent[3] };\n              }\n              layer.set('position', position);\n              layer.setOpacity(opacity);\n              layer.setVisible(visible);\n              map.addLayer(layer);\n              _this36._externalLayers.push(layer);\n              QueryResultService.registerVectorLayer(layer);\n              catalogService.addExternalLayer({ layer: externalLayer, type: type });\n              if (extent) {\n                map.getView().fit(extent);\n              }\n              _this36.loadExternalLayer(layer);\n              return Promise.resolve(layer);\n            };\n\n            layer = this.getLayerByName(name);\n\n            if (layer) {\n              _context4.next = 20;\n              break;\n            }\n\n            _context4.t0 = type;\n            _context4.next = _context4.t0 === 'vector' ? 12 : _context4.t0 === 'wms' ? 13 : 14;\n            break;\n\n          case 12:\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer, type));\n\n          case 13:\n            return _context4.abrupt('return', loadExternalLayer(externalLayer, type));\n\n          case 14:\n            _context4.next = 16;\n            return createVectorLayerFromFile({ name: name, type: type, crs: crs, mapCrs: mapCrs, data: data, style: style });\n\n          case 16:\n            vectorLayer = _context4.sent;\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer));\n\n          case 18:\n            _context4.next = 21;\n            break;\n\n          case 20:\n            _gui2.default.notify.warning(\"layer_is_added\", false);\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x55) {\n    return _ref37.apply(this, arguments);\n  };\n}();\n\nproto.setExternalLayerStyle = function (color, field) {\n  color = color.rgba;\n  color = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n  var defaultStyle = {\n    'Point': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'LineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'Polygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPoint': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'MultiLineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPolygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    })\n  };\n  var styleFunction = function styleFunction(feature, resolution) {\n    var featureStyleFunction = feature.getStyleFunction();\n    return featureStyleFunction ? featureStyleFunction.call(feature, resolution) : defaultStyle[feature.getGeometry().getType()];\n  };\n  return styleFunction;\n};\n\nmodule.exports = MapService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/map/wmslayer\":45,\"core/layers/providers/wfsprovider\":53,\"core/layers/vectorlayer\":57,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/g3w.ol\":98,\"gui/map/control/factory\":153,\"gui/wms/vue/wms\":190,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/map-controls\":371,\"store/map-layers\":372,\"store/projects\":374}],155:[function(require,module,exports){\nvar _Map = require('components/Map.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Map);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    merge = _require.merge,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar MapService = require('gui/map/mapservice');\n\n// interanl registration\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nVue.component('g3w-map', vueComponentOptions);\n\nfunction MapComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"map-component\";\n  this.title = \"Map Component\";\n  var target = options.target || \"map\";\n  var maps_container = options.maps_container || \"g3w-maps\";\n  options.target = target;\n  options.maps_container = maps_container;\n  var service = new MapService(options);\n  this.setService(service);\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: service,\n    target: target,\n    maps_container: maps_container\n  });\n  /**\n   * add Vue get cookie method\n   *\n   */\n  service.getCookie = this.internalComponent.$cookie.get;\n}\n\ninherit(MapComponent, Component);\n\nvar proto = MapComponent.prototype;\n\nproto.layout = function (width, height) {\n  $('#' + this.target).height(height);\n  $('#' + this.target).width(width);\n  this._service.layout({ width: width, height: height });\n};\n\nmodule.exports = MapComponent;\n\n},{\"components/Map.vue\":251,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/map/mapservice\":154}],156:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectMetadataComponent = require('gui/metadata/vue/components/project/project');\n\nvar METADATAGROUPS = {\n  general: ['title', 'name', 'description', 'abstract', 'keywords', 'fees', 'accessconstraints', 'contactinformation', 'wms_url'],\n  spatial: ['crs', 'extent'],\n  layers: ['layers']\n};\n\nfunction MetadataService() {\n  this.content = null;\n  this.show = false;\n  this.state = {\n    name: '',\n    groups: {}\n  };\n  this._buildProjectGroupMetadata();\n}\n\ninherit(MetadataService, G3WObject);\n\nvar proto = MetadataService.prototype;\n\nproto._buildProjectGroupMetadata = function () {\n  var project = _projects2.default.getCurrentProject().getState();\n  this.state.name = project.title;\n  var groups = {};\n  Object.entries(METADATAGROUPS).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        groupName = _ref2[0],\n        value = _ref2[1];\n\n    groups[groupName] = {};\n    value.forEach(function (field) {\n      var fieldValue = project.metadata && project.metadata[field] ? project.metadata[field] : project[field];\n      if (!!fieldValue) {\n        groups[groupName][field] = {\n          label: ['sdk', 'metadata', 'groups', groupName, 'fields', field].join('.'),\n          value: fieldValue\n        };\n      }\n    });\n  });\n  this.state.groups = groups;\n};\n\nproto.getProjectMetadata = function () {\n  return this.state;\n};\n\nproto.getLayersMetadata = function () {\n  return this.state.groups.layers;\n};\n\nproto.getLayerMetadata = function (id) {\n  var layerMetadata = this.state.groups.layers.filter(function (layer) {\n    return layer.id === id;\n  });\n  return layerMetadata[0];\n};\n\nproto.showMetadata = function (bool) {\n  this.show = bool;\n  if (this.show) {\n    this.content = new ProjectMetadataComponent({\n      state: this.getProjectMetadata(),\n      service: this\n    });\n    _gui2.default.setContent({\n      content: this.content,\n      title: \"sdk.metadata.title\",\n      perc: 100\n    });\n    this.show = true;\n  } else _gui2.default.closeContent();\n};\n\nproto.reload = function () {\n  this.emit('reload');\n  this._buildProjectGroupMetadata();\n};\n\nmodule.exports = MetadataService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/metadata/vue/components/project/project\":157,\"services/gui\":356,\"store/projects\":374}],157:[function(require,module,exports){\nvar _MetadataProject = require('components/MetadataProject.vue');\n\nvar _MetadataProject2 = _interopRequireDefault(_MetadataProject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nfunction ProjectMetadataComponent() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$state = _ref.state,\n      state = _ref$state === undefined ? {} : _ref$state,\n      service = _ref.service;\n\n  base(this);\n  var vueComponent = Vue.extend(_MetadataProject2.default);\n  this.setService(service);\n  this.internalComponent = new vueComponent({\n    state: state\n  });\n  this.layout = function () {};\n}\n\ninherit(ProjectMetadataComponent, Component);\n\nmodule.exports = ProjectMetadataComponent;\n\n},{\"components/MetadataProject.vue\":258,\"core/utils/utils\":67,\"gui/component/component\":114}],158:[function(require,module,exports){\nvar _Metadata = require('components/Metadata.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Metadata);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar MetadataService = require('gui/metadata/metadataservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar MetadataComponent = function MetadataComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.metadata.title\";\n  var service = options.service || new MetadataService(options);\n  this.setService(service);\n  this._service.on('reload', function () {\n    _this.setOpen(false);\n  });\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n  this._setOpen = function (bool) {\n    this._service.showMetadata(bool);\n  };\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(MetadataComponent, Component);\n\nmodule.exports = MetadataComponent;\n\n},{\"components/Metadata.vue\":256,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/metadata/metadataservice\":156,\"services/gui\":356}],159:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    resolvedValue = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar Panel = function Panel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id || null;\n  this.title = options.title || '';\n  this.internalPanel = options.panel || null;\n  this.service = options.service;\n};\n\ninherit(Panel, G3WObject);\n\nvar proto = Panel.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setService = function (service) {\n  this.service = service;\n};\n\nproto.getInternalPanel = function () {\n  return this.internalPanel;\n};\n\nproto.setInternalPanel = function (internalPanel) {\n  this.internalPanel = internalPanel;\n};\n\nproto.show = function () {\n  _gui2.default.showPanel(this);\n};\n\nproto.close = function () {\n  _gui2.default.closePanel();\n};\n\nproto.mount = function (parent) {\n  var panel = this.internalPanel;\n  var iCinstance = panel.$mount();\n  $(parent).append(iCinstance.$el);\n  iCinstance.$nextTick(function () {\n    $(parent).localize();\n    panel.onShow && panel.onShow();\n  });\n  return resolvedValue(true);\n};\n\nproto.unmount = function () {\n  var panel = this.internalPanel;\n  var d = $.Deferred();\n  panel.$destroy(true);\n  $(panel.$el).remove();\n  panel.onClose && panel.onClose();\n  this.internalComponent = null;\n  d.resolve();\n  return d.promise();\n};\n\nproto.onResize = function (parentWidth, parentHeight) {};\n\nmodule.exports = Panel;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/gui\":356}],160:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    downloadFile = _require.downloadFile;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar G3WObject = require('core/g3wobject');\nvar PrintService = require('core/print/printservice');\n\nvar _require3 = require('core/utils/ol'),\n    getScaleFromResolution = _require3.getScaleFromResolution,\n    getResolutionFromScale = _require3.getResolutionFromScale,\n    getMetersFromDegrees = _require3.getMetersFromDegrees;\n\nvar PrintPage = require('gui/print/vue/printpage');\n\nfunction PrintComponentService() {\n  base(this);\n  this.printService = new PrintService();\n  this._initialized = false;\n  this.state = {\n    loading: false\n  };\n  this._moveMapKeyEvent = null;\n  this._page = null;\n  this._mapService = null;\n  this._map = null;\n  this._mapUnits;\n  this._scalesResolutions = {};\n  this.init = function () {\n    this._project = _projects2.default.getCurrentProject();\n    this.state.print = this._project.getPrint() || [];\n    this.state.visible = this.state.print.length > 0;\n    this.state.isShow = false;\n    this.state.url = null;\n    this.state.output = {\n      url: null,\n      method: this._project.getOwsMethod(),\n      layers: true,\n      format: null,\n      loading: false,\n      type: null\n    };\n    this.state.printextent = {\n      minx: [0, 0],\n      miny: [0, 0],\n      maxx: [0, 0],\n      maxy: [0, 0]\n    };\n    this.state.visible && this.setInitState();\n  };\n}\n\ninherit(PrintComponentService, G3WObject);\n\nvar proto = PrintComponentService.prototype;\n\nproto.setInitState = function () {\n  this.state.template = this.state.print[0].name;\n  this.state.atlas = this.state.print[0].atlas;\n  this.state.atlasValues = [];\n  this.state.rotation = 0;\n  this.state.inner = [0, 0, 0, 0];\n  this.state.center = null;\n  this.state.size = null;\n  this.state.scale = _constant.PRINT_SCALES;\n  this.state.scala = null;\n  this.state.dpis = _constant.PRINT_RESOLUTIONS;\n  this.state.dpi = _constant.PRINT_RESOLUTIONS[0];\n  this.state.formats = _constant.PRINT_FORMATS;\n  this.state.output.format = _constant.PRINT_FORMATS[0].value;\n  this.state.maps = this.state.print[0].maps;\n  // label section\n  this.state.labels = this.state.print[0].labels;\n};\n\nproto.changeTemplate = function () {\n  var _this = this;\n\n  if (!this.state.template) return;\n  var isPreviousAtlas = this.state.atlas;\n\n  var _state$print$find = this.state.print.find(function (print) {\n    return print.name === _this.state.template;\n  }),\n      atlas = _state$print$find.atlas,\n      maps = _state$print$find.maps,\n      labels = _state$print$find.labels;\n\n  this.state.maps = maps;\n  this.state.atlas = atlas;\n  this.state.labels = labels;\n  this.state.atlasValues = [];\n  this.state.atlas ? this._clearPrint() : isPreviousAtlas ? this.showPrintArea(true) : this._setPrintArea();\n};\n\nproto.changeScale = function () {\n  this.state.scala && this._setPrintArea();\n};\n\nproto.changeRotation = function () {\n  this._mapService.setInnerGreyCoverBBox({\n    rotation: this.state.rotation\n  });\n};\n\nproto._getPrintExtent = function () {\n  var _ref = [].concat(_toConsumableArray(this.state.printextent.lowerleft), _toConsumableArray(this.state.printextent.upperright)),\n      minx = _ref[0],\n      miny = _ref[1],\n      maxx = _ref[2],\n      maxy = _ref[3];\n\n  var extent = this._mapService.isAxisOrientationInverted() ? [miny, minx, maxy, maxx] : [minx, miny, maxx, maxy];\n  return extent.join();\n};\n\nproto.getOverviewExtent = function () {\n  var extent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var xmin = extent.xmin,\n      xmax = extent.xmax,\n      ymin = extent.ymin,\n      ymax = extent.ymax;\n\n  var overviewextent = this._mapService.isAxisOrientationInverted() ? [ymin, xmin, ymax, xmax] : [xmin, ymin, xmax, ymax];\n  return overviewextent.join();\n};\n\nproto._getOptionsPrint = function () {\n  var _this2 = this;\n\n  var is_maps_preset_theme = false;\n  var maps = this.state.maps.map(function (map) {\n    is_maps_preset_theme = is_maps_preset_theme || map.preset_theme !== undefined;\n    return {\n      name: map.name,\n      preset_theme: map.preset_theme,\n      scale: map.overview ? map.scale : _this2.state.scala,\n      extent: map.overview ? _this2.getOverviewExtent(map.extent) : _this2._getPrintExtent()\n    };\n  });\n  var options = {\n    rotation: this.state.rotation,\n    dpi: this.state.dpi,\n    template: this.state.template,\n    maps: maps,\n    scale: this.state.scala,\n    format: this.state.output.format,\n    labels: this.state.labels,\n    is_maps_preset_theme: is_maps_preset_theme\n  };\n\n  return options;\n};\n\nproto.setPrintAreaAfterCloseContent = function () {\n  this._map.once('postrender', this._setPrintArea.bind(this));\n  this.stopLoading();\n};\n\nproto.print = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve, reject) {\n    //disable sidebar\n    _gui2.default.disableSideBar(true);\n    if (_this3.state.atlas) {\n      var caller_download_id = _application2.default.setDownload(true);\n      _this3.state.loading = true;\n      _this3.printService.printAtlas({\n        template: _this3.state.template,\n        field: _this3.state.atlas.field_name || '$id',\n        values: _this3.state.atlasValues,\n        download: true\n      }).then(function (_ref2) {\n        var url = _ref2.url;\n\n        downloadFile({\n          url: url,\n          filename: _this3.state.template,\n          mime_type: 'application/pdf'\n        }).then(function () {\n          resolve();\n        }).catch(function (error) {\n          _this3.showError(error);\n          reject();\n        }).finally(function () {\n          _this3.state.loading = false;\n          _application2.default.setDownload(false, caller_download_id);\n          _gui2.default.disableSideBar(false);\n        });\n      });\n    } else {\n      _this3.state.output.url = null;\n      _this3.state.output.layers = true;\n      _this3._page = new PrintPage({\n        service: _this3\n      });\n      _gui2.default.setContent({\n        content: _this3._page,\n        title: 'print',\n        perc: 100\n      });\n      var options = _this3._getOptionsPrint();\n      _this3.printService.print(options, method = _this3.state.output.method).then(function (data) {\n        _this3.state.output.url = data.url;\n        _this3.state.output.layers = data.layers;\n        _this3.state.output.mime_type = data.mime_type;\n        resolve();\n      }).catch(function (err) {\n        _this3.showError();\n        reject(err);\n      }).finally(function () {\n        // in case of no layers\n        !_this3.state.output.layers && _gui2.default.disableSideBar(false);\n      });\n    }\n  });\n};\n\nproto.startLoading = function () {\n  this.state.output.loading = true;\n};\n\nproto.stopLoading = function () {\n  this.state.output.loading = false;\n};\n\nproto.showError = function (error) {\n  _gui2.default.notify.error(error || t(\"info.server_error\"));\n  _gui2.default.closeContent();\n};\n\nproto._calculateInternalPrintExtent = function () {\n  var resolution = this._map.getView().getResolution();\n  var scala = parseFloat(this.state.scala);\n\n  var _state$maps$find = this.state.maps.find(function (map) {\n    return !map.overview;\n  }),\n      height = _state$maps$find.h,\n      width = _state$maps$find.w;\n\n  var resolutionInMeters = this._mapService.getMapUnits() === 'm' ? resolution : getMetersFromDegrees(resolution);\n  var w = width / 1000.0 * scala / resolutionInMeters;\n  var h = height / 1000.0 * scala / resolutionInMeters;\n  // get current map center ( in pixel)\n  var center = [this.state.size[0] / 2, // X\n  this.state.size[1] / 2 // Y\n  ];\n  // Calculate the inner bbox in pixel\n  var xmin = center[0] - w / 2;\n  var ymin = center[1] - h / 2;\n  var xmax = center[0] + w / 2;\n  var ymax = center[1] + h / 2;\n  this.state.printextent.lowerleft = this._map.getCoordinateFromPixel([xmin, ymax]) ? this._map.getCoordinateFromPixel([xmin, ymax]) : this.state.printextent.lowerleft;\n  this.state.printextent.upperright = this._map.getCoordinateFromPixel([xmax, ymin]) ? this._map.getCoordinateFromPixel([xmax, ymin]) : this.state.printextent.upperright;\n  this.state.inner = [xmin, ymax, xmax, ymin];\n};\n\nproto._setPrintArea = function () {\n  this.state.size = this._map.getSize();\n  var resolution = this._map.getView().getResolution();\n  this.state.currentScala = getScaleFromResolution(resolution, this._mapUnits);\n  this.state.center = this._map.getView().getCenter();\n  this._calculateInternalPrintExtent();\n  this._mapService.setInnerGreyCoverBBox({\n    type: 'pixel',\n    inner: this.state.inner,\n    rotation: this.state.rotation\n  });\n};\n\nproto._clearPrint = function () {\n  var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ol.Observable.unByKey(this._moveMapKeyEvent);\n  this._moveMapKeyEvent = null;\n  this._mapService.stopDrawGreyCover();\n};\n\nproto._setAllScalesBasedOnMaxResolution = function (maxResolution) {\n  var _this4 = this;\n\n  var resolution = maxResolution;\n  var mapScala = getScaleFromResolution(resolution, this._mapUnits);\n  var orderScales = _.orderBy(this.state.scale, ['value'], ['desc']);\n  var scale = [];\n  var addedFirstHighestScale = false;\n  var handleScala = function handleScala(scala) {\n    scale.push(scala);\n    resolution = getResolutionFromScale(scala.value, _this4._mapUnits);\n    _this4._scalesResolutions[scala.value] = resolution;\n    resolution = resolution / 2;\n  };\n  orderScales.forEach(function (scala, index) {\n    if (mapScala > scala.value) {\n      if (!addedFirstHighestScale) {\n        var higherScale = orderScales[index - 1];\n        handleScala(higherScale);\n        addedFirstHighestScale = true;\n      }\n      handleScala(scala);\n    }\n  });\n  this.state.scale = scale;\n};\n\nproto._setInitialScalaSelect = function () {\n  this.state.scala = this.state.scale[0].value;\n  $('#scala').val(this.state.scala);\n};\n\nproto._setCurrentScala = function (resolution) {\n  var _this5 = this;\n\n  Object.entries(this._scalesResolutions).find(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        scala = _ref4[0],\n        res = _ref4[1];\n\n    if (resolution <= res) {\n      _this5.state.scala = scala;\n      return true;\n    }\n  });\n};\n\nproto._setMoveendMapEvent = function () {\n  this._moveMapKeyEvent = this._map.on('moveend', this._setPrintArea.bind(this));\n};\n\nproto._showPrintArea = function () {\n  if (this.state.atlas === undefined) {\n    this._setPrintArea();\n    this._mapService.startDrawGreyCover();\n  }\n};\n\nproto._initPrintConfig = function () {\n  if (!this._initialized) {\n    var maxResolution = this._map.getView().getMaxResolution();\n    this._setAllScalesBasedOnMaxResolution(maxResolution);\n    this._initialized = true;\n  }\n  var resolution = this._map.getView().getResolution();\n  this._setCurrentScala(resolution);\n};\n\nproto.showPrintArea = function (bool) {\n  var _this6 = this;\n\n  // close content if open\n  this.state.isShow = bool;\n  _gui2.default.closeContent().then(function (mapComponent) {\n    setTimeout(function () {\n      _this6._mapService = mapComponent.getService();\n      _this6._mapUnits = _this6._mapService.getMapUnits();\n      _this6._mapService.getMap().once('postrender', function (evt) {\n        _this6._map = evt.map;\n        if (bool) {\n          _this6._setMoveendMapEvent();\n          _this6._initPrintConfig();\n          _this6._showPrintArea();\n        } else _this6._clearPrint();\n      });\n      _this6._mapService.getMap().renderSync();\n    });\n  });\n};\n\nproto.reload = function () {\n  var _this7 = this;\n\n  this._project = _projects2.default.getCurrentProject();\n  this._mapService = _gui2.default.getService('map');\n  this._map = this._mapService.viewer.map;\n  this.state.print = this._project.state.print || [];\n  this.state.visible = this.state.print.length > 0;\n  if (this.state.visible) {\n    this.state.template = this.state.print[0].name;\n    !this._initialized && this.init();\n    this._initPrintConfig();\n    this._mapService.on('changeviewaftercurrentproject', function () {\n      var maxResolution = _this7._map.getView().getMaxResolution();\n      _this7.state.scale = _constant.PRINT_SCALES;\n      _this7._setAllScalesBasedOnMaxResolution(maxResolution);\n    });\n  } else this._clearPrint();\n};\n\nmodule.exports = PrintComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/print/printservice\":60,\"core/utils/ol\":65,\"core/utils/utils\":67,\"gui/print/vue/printpage\":162,\"services/application\":346,\"services/gui\":356,\"store/projects\":374}],161:[function(require,module,exports){\nvar _Print = require('components/Print.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Print);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar PrintService = require('gui/print/printservice');\n\nfunction PrintComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"print\";\n  this.vueComponent = vueComponentOptions;\n  this.internalComponent = null;\n  var service = options.service || new PrintService();\n  this.setService(service);\n  // init service\n  this._service.init();\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.state.visible = service.state.visible;\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n\n  this._reload = function () {\n    var service = this.getService();\n    service.reload();\n    this.state.visible = service.state.visible;\n  };\n\n  this._setOpen = function (bool) {\n    this._service.showPrintArea(bool);\n  };\n}\n\ninherit(PrintComponent, Component);\n\nmodule.exports = PrintComponent;\n\n},{\"components/Print.vue\":267,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/print/printservice\":160}],162:[function(require,module,exports){\nvar _PrintPage = require('components/PrintPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_PrintPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar PrintPage = function PrintPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var service = options.service;\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = service.state.output;\n  this.unmount = function () {\n    this.getService().setPrintAreaAfterCloseContent();\n    return base(this, 'unmount');\n  };\n};\n\ninherit(PrintPage, Component);\n\nmodule.exports = PrintPage;\n\n},{\"components/PrintPage.vue\":269,\"core/utils/utils\":67,\"gui/component/component\":114}],163:[function(require,module,exports){\nvar _ProjectsMenu = require('components/ProjectsMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ProjectsMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction MenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = options.title || \"menu\";\n  this.state.visible = true;\n  this.state.menuitems = options.menuitems;\n  var host = options.host;\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: this,\n    host: host\n  });\n  this.internalComponent.state = this.state;\n}\ninherit(MenuComponent, Component);\n\nvar proto = MenuComponent.prototype;\n\nproto.trigger = function (item) {};\n\nmodule.exports = MenuComponent;\n\n},{\"components/ProjectsMenu.vue\":271,\"core/utils/utils\":67,\"gui/component/component\":114}],164:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MenuComponent = require('gui/projectsmenu/menu');\n\nfunction ProjectsMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'projectsmenu';\n  base(this, options);\n  this.state.menuitems = [];\n  var host = options.host;\n  var projects = options.projects || _projects2.default.getListableProjects();\n  this.state.menuitems = projects.map(function (project) {\n    return {\n      title: project.title,\n      description: project.description,\n      thumbnail: project.thumbnail,\n      gid: project.gid,\n      cbk: options.cbk || function () {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var gid = options.gid;\n\n        return _application2.default.changeProject({\n          gid: gid,\n          host: host\n        });\n      }\n    };\n  });\n}\n\ninherit(ProjectsMenuComponent, MenuComponent);\n\nmodule.exports = ProjectsMenuComponent;\n\n},{\"core/utils/utils\":67,\"gui/projectsmenu/menu\":163,\"services/application\":346,\"store/projects\":374}],165:[function(require,module,exports){\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\nvar QueryBuilderPanel = require('gui/querybuilder/vue/panel/querybuilderpanel');\n\nvar QuerybuilderUIfactory = {\n  type: null,\n  show: function show() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$type = _ref.type,\n        type = _ref$type === undefined ? 'sidebar' : _ref$type,\n        options = _ref.options;\n\n    var QueryBuilderInstance = void 0;\n    this.type = this.type === null ? type : this.type;\n    if (this.type === 'modal') {\n      QueryBuilderInstance = new QueryBuilder({\n        options: options\n      });\n      var queryBuilderDom = QueryBuilderInstance.$mount().$el;\n      GUI.showModalDialog({\n        title: 'Query Builder',\n        message: queryBuilderDom,\n        className: \"modal-background-dark \"\n      });\n    } else {\n      var panel = new QueryBuilderPanel({\n        options: options\n      });\n      QueryBuilderInstance = panel.getInternalPanel();\n      panel.show();\n    }\n    return QueryBuilderInstance;\n  }\n};\n\nmodule.exports = QuerybuilderUIfactory;\n\n},{\"gui/querybuilder/vue/panel/querybuilderpanel\":166,\"gui/querybuilder/vue/querybuilder\":167}],166:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Panel = require('gui/panel');\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\n\nfunction QueryBuilderPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.title = 'Query Builder';\n  base(this, options);\n  var internalPanel = new QueryBuilder(options);\n  this.setInternalPanel(internalPanel);\n}\n\ninherit(QueryBuilderPanel, Panel);\n\nmodule.exports = QueryBuilderPanel;\n\n},{\"core/utils/utils\":67,\"gui/panel\":159,\"gui/querybuilder/vue/querybuilder\":167}],167:[function(require,module,exports){\nvar _QueryBuilder = require('components/QueryBuilder.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryBuilder);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar QueryBuilder = Vue.extend(vueComponentOptions);\n\nmodule.exports = QueryBuilder;\n\n},{\"components/QueryBuilder.vue\":272}],168:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constant = require('constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _QueryResultsActionQueryPolygonCSVAttributes = require('components/QueryResultsActionQueryPolygonCSVAttributes.vue');\n\nvar _QueryResultsActionQueryPolygonCSVAttributes2 = _interopRequireDefault(_QueryResultsActionQueryPolygonCSVAttributes);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop,\n    downloadFile = _require.downloadFile,\n    throttle = _require.throttle,\n    getUniqueDomId = _require.getUniqueDomId,\n    copyUrl = _require.copyUrl;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject,\n    intersects = _require2.intersects,\n    within = _require2.within;\n\nvar _require3 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require3.getAlphanumericPropertiesFromFeature,\n    createFeatureFromGeometry = _require3.createFeatureFromGeometry,\n    createFeatureFromBBOX = _require3.createFeatureFromBBOX,\n    createFeatureFromCoordinates = _require3.createFeatureFromCoordinates;\n\nvar _require4 = require('core/i18n/i18n.service'),\n    t = _require4.t;\n\nvar Layer = require('core/layers/layer');\nvar G3WObject = require('core/g3wobject');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar PrintService = require('core/print/printservice');\nvar RelationsPage = require('gui/relations/vue/relationspage');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\n//used to get and set vue reactivity to queryresultservice\nvar VM = new Vue();\n\nfunction QueryResultsService() {\n  var _this = this;\n\n  this.printService = new PrintService();\n  this._currentLayerIds = [];\n\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this._project = project;\n    _this._setRelations(project);\n    _this._setAtlasActions(project);\n    _this.state.download_data = false;\n    _this.plotLayerIds = [];\n  });\n  this.unlistenerlayeractionevents = [];\n  this._actions = {\n    'zoomto': QueryResultsService.zoomToElement,\n    'highlightgeometry': this.highlightGeometry.bind(this),\n    'clearHighlightGeometry': this.clearHighlightGeometry.bind(this)\n  };\n  this._relations = [];\n  this._atlas = [];\n  this.plotLayerIds = [];\n  var project = this._project = _projects2.default.getCurrentProject();\n  // userful to set right order for query result based on toc order layers\n  this._projectLayerIds = this._project.getConfigLayers().map(function (layer) {\n    return layer.id;\n  });\n  // set reactive state\n  this.state = {\n    zoomToResult: true,\n    components: [],\n    layers: [],\n    changed: false,\n    query: null,\n    type: 'ows', // or api in case of search\n    layersactions: {},\n    actiontools: {}, // addd action tools (for features)\n    currentactiontools: {}, // current action tools contain component of a specific action (for example download)\n    currentactionfeaturelayer: {}, // contain current action that expose component vue (it useful to comprare id other action is toggled and expose component)\n    layeractiontool: {},\n    layersFeaturesBoxes: {},\n    layerscustomcomponents: {} // used to show a custom component for a layer\n  };\n  this.init = function () {\n    this.clearState();\n  };\n\n  /**\n  * Vector layer used by query result to show query\n  * request as coordinates, bbox, polygon, etc ..\n  * \n  * @type {ol.layer.Vector}\n  */\n  this.resultsQueryLayer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: function style(feature) {\n      var fill = new ol.style.Fill({ color: 'rgba(0, 0, 255, 0.7)' });\n      var stroke = new ol.style.Stroke({ color: 'blue', width: 3 });\n      if ('Point' === feature.getGeometry().getType()) {\n        return new ol.style.Style({\n          text: new ol.style.Text({ text: '\\uF3C5', font: '900 3em \"Font Awesome 5 Free\"', fill: fill, stroke: stroke })\n        });\n      }\n      return new ol.style.Style({ stroke: stroke });\n    }\n  });\n\n  this._vectorLayers = [];\n  this._addFeaturesLayerResultInteraction = {\n    id: null, // reference to current layer\n    interaction: null, // interaction bind to layer,\n    mapcontrol: null, // add current toggled map control if toggled\n    toggleeventhandler: null\n  };\n\n  this.setters = {\n\n    /**\n     * Hook method called when response is handled by Data Provider\n     * \n     * @param queryResponse\n     * @param {{ add: boolean }} options `add` is used to know if is a new query request or add/remove query request\n     */\n    setQueryResponse: function setQueryResponse(queryResponse) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n\n\n      // set mandatory queryResponse fields\n      if (!queryResponse.data) queryResponse.data = [];\n      if (!queryResponse.query) queryResponse.query = { external: { add: false, filter: { SELECTED: false } } };\n      if (!queryResponse.query.external) queryResponse.query.external = { add: false, filter: { SELECTED: false } };\n\n      // whether add response to current results using addLayerFeaturesToResultsAction\n      if (!options.add) {\n        // in case of new request results reset the query otherwise maintain the previous request\n        this.clearState();\n        this.state.query = queryResponse.query;\n        this.state.type = queryResponse.type;\n\n        // if true add external layers to response\n        if (true === queryResponse.query.external.add) {\n          this._addVectorLayersDataToQueryResponse(queryResponse);\n        }\n\n        switch (this.state.query.type) {\n          case 'coordinates':\n            this.showCoordinates(this.state.query.coordinates);break;\n          case 'bbox':\n            this.showBBOX(this.state.query.bbox);break;\n          case 'polygon':\n            this.state.query.geometry && this.showGeometry(this.state.query.geometry);break;\n        }\n      }\n\n      this.setLayersData(this._digestFeaturesForLayers(queryResponse.data), options);\n    },\n\n\n    /**\n     * method to add layer and feature for response\n     * @param layers\n     * @param options\n     */\n    setLayersData: function setLayersData(layers) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n      var add = options.add;\n\n      if (!add) {\n        // here set the right order of result layers based on toc\n        this._currentLayerIds = layers.map(function (layer) {\n          return layer.id;\n        });\n        this._orderResponseByProjectLayers(layers);\n      }\n      layers.forEach(function (layer) {\n        // in case of a new request query\n        if (!add) _this2.state.layers.push(layer);\n        //get features from add pick layer\n        else _this2.updateLayerResultFeatures(layer);\n      });\n      this.setActionsForLayers(layers, { add: add });\n      this.state.changed = true;\n    },\n\n    /**\n     * Method\n     * @param component\n     */\n    addComponent: function addComponent(component) {\n      this._addComponent(component);\n    },\n\n    /**\n     *\n     */\n    addActionsForLayers: function addActionsForLayers(actions, layers) {},\n\n    /**\n     *\n     * @param element\n     */\n    postRender: function postRender(element) {},\n\n    /**\n     *\n     */\n    closeComponent: function closeComponent() {},\n\n    /**\n     *\n     * @param layer\n     */\n    changeLayerResult: function changeLayerResult(layer) {\n      this._changeLayerResult(layer);\n    },\n\n    /**\n     *\n     */\n    activeMapInteraction: function activeMapInteraction() {},\n\n    /**\n     *  setter hook to relation table\n     */\n    editFeature: function editFeature() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          feature = _ref.feature;\n    },\n\n    /**\n     * Method to listen open/close feature info data content.\n     * @param open\n     * @param layer\n     * @param feature\n     * @param container\n     */\n    openCloseFeatureResult: function openCloseFeatureResult() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          open = _ref2.open,\n          layer = _ref2.layer,\n          feature = _ref2.feature,\n          container = _ref2.container;\n    }\n  };\n\n  base(this);\n\n  this.addLayersPlotIds = function () {\n    var layerIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.plotLayerIds = layerIds;\n  };\n\n  this.getPlotIds = function () {\n    return this.plotLayerIds;\n  };\n\n  this.findPlotId = function (id) {\n    return this.plotLayerIds.find(function (plotId) {\n      return plotId == id;\n    });\n  };\n\n  this._setRelations(project);\n  this._setAtlasActions(project);\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    var perc = options.perc;\n\n    _this.mapService = _this.mapService || _application2.default.getApplicationService('map');\n    if (perc === 100 && _gui2.default.isMobile()) {\n      _this._asyncFnc.zoomToLayerFeaturesExtent.async = true;\n      _this._asyncFnc.goToGeometry.async = true;\n    }\n  });\n}\n\n// Make the public service en Event Emitter\ninherit(QueryResultsService, G3WObject);\n\nvar proto = QueryResultsService.prototype;\n\n/**\n * Method to register for plugin or other component of application to add custom component on result for each layer feature or layer\n * @param id unique id identification\n * @param layerId Layer id of layer\n * @param component custom component\n * @param type feature or layer\n */\nproto.registerCustomComponent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$id = _ref3.id,\n      id = _ref3$id === undefined ? getUniqueDomId() : _ref3$id,\n      layerId = _ref3.layerId,\n      component = _ref3.component,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'feature' : _ref3$type,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === undefined ? 'after' : _ref3$position;\n\n  if (this.state.layerscustomcomponents[layerId] === undefined) this.state.layerscustomcomponents[layerId] = {\n    layer: {\n      before: [],\n      after: []\n    },\n    feature: {\n      before: [],\n      after: []\n    }\n  };\n  this.state.layerscustomcomponents[layerId][type][position].push({\n    id: id,\n    component: component\n  });\n  return id;\n};\n\n/**\n * To check position\n * @param id\n * @param layerId\n * @param type\n */\nproto.unRegisterCustomComponent = function (_ref4) {\n  var _this3 = this;\n\n  var id = _ref4.id,\n      layerId = _ref4.layerId,\n      type = _ref4.type,\n      position = _ref4.position;\n\n  if (position) this.state.layerscustomcomponents[layerId][type][position] = this.state.layerscustomcomponents[layerId][type][position].filter(function (_ref5) {\n    var componentId = _ref5.id;\n    return componentId !== id;\n  });else Object.keys(this.state.layerscustomcomponents[layerId][type]).forEach(function (position) {\n    _this3.state.layerscustomcomponents[layerId][type][position] = _this3.state.layerscustomcomponents[layerId][type][position].filter(function (_ref6) {\n      var componentId = _ref6.id;\n      return componentId !== id;\n    });\n  });\n};\n\n/**\n * Method to add a feature to current layer result\n * @param layer\n * @param feature\n */\nproto.addFeatureLayerToResult = function (layer, feature) {\n  this.state.layersFeaturesBoxes[this.getBoxId(layer, feature)].collapsed = true;\n};\n\n/**\n * Method to remove a feature from current layer result\n * @param layer\n * @param feature\n */\nproto.removeFeatureLayerFromResult = function (layer, feature) {\n  var id = layer.id,\n      external = layer.external;\n\n  this.updateLayerResultFeatures({\n    id: id,\n    external: external,\n    features: [feature]\n  });\n};\n\n/**\n * Method wrapper for download\n */\n\nproto.downloadApplicationWrapper = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(downloadFnc) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var download_caller_id;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            download_caller_id = _application2.default.setDownload(true);\n\n            _gui2.default.setLoadingContent(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return downloadFnc(options);\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context.t0 || 'server_error',\n              textMessage: _context.t0 ? true : false\n            });\n\n          case 10:\n            _application2.default.setDownload(false, download_caller_id);\n            _gui2.default.setLoadingContent(false);\n\n          case 12:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 7]]);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Based on layer response check if features layer are to add or remove to current state.layers results\n * @param layer\n * @since v3.8.0\n */\nproto.updateLayerResultFeatures = function (layer) {\n  var _this4 = this;\n\n  //extract features from layer object\n  var _layer$features = layer.features,\n      features = _layer$features === undefined ? [] : _layer$features;\n  // get layer from current state.layers showed on result\n\n  var findLayer = this.state.layers.find(function (_layer) {\n    return _layer.id === layer.id;\n  });\n  // if get features and find layer\n  if (findLayer && features.length) {\n    // get id external layer or not (external is a layer added by mapcontrol addexternlayer)\n    var external = findLayer.external;\n    // is array of idexes od features that we has to remove from state.layer because is already loaded\n\n    var removeFeatureIndexes = [];\n    // get id of the features\n    var features_ids = features.map(function (feature) {\n      return !external ? feature.attributes[_constant.G3W_FID] : feature.id;\n    });\n    // loop nad filter the features that we had to remove)\n    findLayer.features = findLayer.features.filter(function (feature) {\n      var indexFindFeature = features_ids.indexOf(!external ? feature.attributes[_constant.G3W_FID] : feature.id);\n      // check if need to filter or not\n      var filtered = indexFindFeature === -1;\n      if (!filtered) {\n        removeFeatureIndexes.push(indexFindFeature);\n        var featureRemoved = features[indexFindFeature];\n        _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n        setTimeout(function () {\n          return delete _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, featureRemoved)];\n        });\n      } else _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n      return filtered;\n    });\n    // filter features to add\n    features = features.filter(function (feature, index) {\n      return removeFeatureIndexes.indexOf(index) === -1;\n    });\n    // check if new feature ha to be added\n    if (features.length) {\n      var newlayerfeatures = [].concat(_toConsumableArray(findLayer.features), _toConsumableArray(features));\n      findLayer.features = newlayerfeatures;\n    }\n    //in case of removed features\n    if (findLayer.features.length === 1 && this.state.layersFeaturesBoxes[this.getBoxId(findLayer, findLayer.features[0])])\n      // used to do all vue reactive thing before update layers\n      setTimeout(function () {\n        return _this4.state.layersFeaturesBoxes[_this4.getBoxId(findLayer, findLayer.features[0])].collapsed = false;\n      });\n    // in case no more features on layer remove interaction pickcoordinate to get result from map\n    this.checkIfLayerHasNoFeatures(findLayer);\n  }\n  // hightlight new feature\n  this.state.layers.length === 1 && this.highlightFeaturesPermanently(this.state.layers[0]);\n  this.changeLayerResult(findLayer);\n};\n\n/**\n * @deprecated since v3.8. Will be deleted in 4.x. Use QueryResultsService::updateLayerResultFeatures(layer) instead\n */\nproto.addRemoveFeaturesToLayerResult = proto.updateLayerResultFeatures;\n\n/**\n * Method called when layer result features for example is changed\n * @param layer\n */\nproto._changeLayerResult = function (layer) {\n  var layeractions = this.state.layersactions[layer.id];\n  // call if present change mthod to action\n  layeractions.forEach(function (action) {\n    return action.change && action.change(layer);\n  });\n  //reset layer current actions tools\n  this.resetCurrentActionToolsLayer(layer);\n};\n\n/**\n * Check and do action if layer has no features after delete feature(s\n */\nproto.checkIfLayerHasNoFeatures = function (layer) {\n  var _this5 = this;\n\n  if (layer.features.length === 0) {\n    // used to do all vue reactive thing before update layers\n    setTimeout(function () {\n      _this5.state.layers = _this5.state.layers.filter(function (_layer) {\n        return _layer.id !== layer.id;\n      });\n      _this5.clearHighlightGeometry(layer);\n      _this5.removeAddFeaturesLayerResultInteraction({\n        toggle: true\n      });\n    });\n  }\n};\n\n/**\n * Method to create boxid identify to query result hmtl\n * @param layer\n * @param feature\n * @param relation_index\n * @returns {string}\n */\nproto.getBoxId = function (layer, feature, relation_index) {\n  return relation_index !== null && relation_index !== undefined ? layer.id + '_' + feature.id + '_' + relation_index : layer.id + '_' + feature.id;\n};\n\nproto.setActionsForLayers = function (layers) {\n  var _this6 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n  var add = options.add;\n\n  if (!add) {\n    this.unlistenerlayeractionevents = [];\n    layers.forEach(function (layer) {\n      /**\n       * set eventually layer action tool and need to be reactive\n       * @type {{}}\n       */\n      _this6.state.layeractiontool[layer.id] = Vue.observable({\n        component: null,\n        config: null\n      });\n      var currentactiontoolslayer = {};\n      var currentationfeaturelayer = {};\n      layer.features.forEach(function (feature, index) {\n        currentactiontoolslayer[index] = null;\n        currentationfeaturelayer[index] = null;\n      });\n      _this6.state.currentactiontools[layer.id] = Vue.observable(currentactiontoolslayer);\n      _this6.state.currentactionfeaturelayer[layer.id] = Vue.observable(currentationfeaturelayer);\n      var is_external_layer_or_wms = layer.external || (layer.source ? layer.source.type === 'wms' : false);\n      if (!_this6.state.layersactions[layer.id]) _this6.state.layersactions[layer.id] = [];\n      /**\n       * An action is an object contains\n       * {\n       * id: Unique action Id => required True\n          download: if is action download or not => required False\n          class: calss fontawsome to show icon => required True,\n          state: need to be reactive. Used for example to toggled state of action icon => required False\n          hint: Tooltip text => required False\n          init: Method called when action is loaded => required False\n          clear: Method called before clear the service. Used for example to clear unwatch => require False\n          change: Method called when feature of layer is changed\n          cbk: Method called when action is cliccked => required True\n          }\n       *\n       * }\n       */\n\n      //in case of geometry\n      if (layer.hasgeometry) {\n        _this6.state.layersactions[layer.id].push({\n          id: 'gotogeometry',\n          download: false,\n          mouseover: true,\n          class: _gui2.default.getFontClass('marker'),\n          hint: 'sdk.mapcontrols.query.actions.zoom_to_feature.hint',\n          cbk: throttle(_this6.goToGeometry.bind(_this6))\n        });\n      }\n      // in case of relations\n      if (_this6._relations) {\n        var relations = _this6._relations[layer.id] && _this6._relations[layer.id].filter(function (relation) {\n          return relation.type === 'MANY';\n        });\n        if (relations && relations.length) {\n          var chartRelationIds = [];\n          relations.forEach(function (relation) {\n            var id = _this6.plotLayerIds.find(function (id) {\n              return id === relation.referencingLayer;\n            });\n            id && chartRelationIds.push(id);\n          });\n\n          _this6.state.layersactions[layer.id].push({\n            id: 'show-query-relations',\n            download: false,\n            class: _gui2.default.getFontClass('relation'),\n            hint: 'sdk.mapcontrols.query.actions.relations.hint',\n            cbk: _this6.showQueryRelations,\n            relations: relations,\n            chartRelationIds: chartRelationIds\n          });\n          var _state = _this6.createActionState({\n            layer: layer\n          });\n          chartRelationIds.length && _this6.state.layersactions[layer.id].push({\n            id: 'show-plots-relations',\n            download: false,\n            opened: true,\n            class: _gui2.default.getFontClass('chart'),\n            state: _state,\n            hint: 'sdk.mapcontrols.query.actions.relations_charts.hint',\n            cbk: throttle(_this6.showRelationsChart.bind(_this6, chartRelationIds))\n          });\n        }\n      }\n      /**\n       *\n       * Check if layer has atlas\n       */\n      _this6.getAtlasByLayerId(layer.id).length && _this6.state.layersactions[layer.id].push({\n        id: 'printatlas',\n        download: true,\n        class: _gui2.default.getFontClass('print'),\n        hint: 'sdk.tooltips.atlas',\n        cbk: _this6.printAtlas.bind(_this6)\n      });\n      var state = _this6.createActionState({\n        layer: layer\n      });\n      if (layer.downloads.length === 1) {\n        var _layer$downloads = _slicedToArray(layer.downloads, 1),\n            format = _layer$downloads[0];\n\n        var _cbk = _this6.downloadFeatures.bind(_this6, format);\n        layer[format] = Vue.observable({\n          active: false\n        });\n        _this6.state.layersactions[layer.id].push({\n          id: 'download_' + format + '_feature',\n          download: true,\n          state: state,\n          class: _gui2.default.getFontClass('download'),\n          hint: 'sdk.tooltips.download_' + format,\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            if (action.state.toggled[index]) _cbk(layer, feature, action, index);else _this6.setCurrentActionLayerFeatureTool({\n              index: index,\n              action: action,\n              layer: layer\n            });\n          }\n        });\n      } else if (layer.downloads.length > 1) {\n        // SET CONSTANT TO AVOID TO CHANGE ALL THINGS\n        var ACTIONTOOLSDOWNLOADFORMATS = _QueryResultsActionDownloadFormats2.default.name;\n        var downloads = [];\n        layer.downloads.forEach(function (format) {\n          downloads.push({\n            id: 'download_' + format + '_feature',\n            download: true,\n            format: format,\n            class: _gui2.default.getFontClass(format),\n            hint: 'sdk.tooltips.download_' + format,\n            cbk: function cbk(layer, feature, action, index) {\n              //used to untoggle downloads action\n              _this6.downloadFeatures(format, layer, feature, action, index);\n              var downloadsaction = _this6.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              if (_this6.state.query.type !== 'polygon') downloadsaction.cbk(layer, feature, downloadsaction, index);\n            }\n          });\n        });\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] = _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] || {};\n        // set config of actionstools\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS][layer.id] = {\n          downloads: downloads // ARE DOWNLOAD ACTIONS,\n        };\n        // used to\n        //check if has download actions\n        _this6.state.layersactions[layer.id].push({\n          id: 'downloads',\n          download: true,\n          class: _gui2.default.getFontClass('download'),\n          state: state,\n          toggleable: true,\n          hint: 'Downloads',\n          change: function change(_ref8) {\n            var _this7 = this;\n\n            var features = _ref8.features;\n\n            features.forEach(function (feature, index) {\n              if (_this7.state.toggled[index] === undefined) VM.$set(_this7.state.toggled, index, false);else _this7.state.toggled[index] = false;\n            });\n          },\n\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            _this6.setCurrentActionLayerFeatureTool({\n              layer: layer,\n              index: index,\n              action: action,\n              component: action.state.toggled[index] ? _QueryResultsActionDownloadFormats2.default : null\n            });\n          }\n        });\n      }\n      /*\n      Check if si external layer or wms\n       */\n      !is_external_layer_or_wms && _this6.state.layersactions[layer.id].push({\n        id: 'removefeaturefromresult',\n        download: false,\n        mouseover: true,\n        class: _gui2.default.getFontClass('minus-square'),\n        style: {\n          color: 'red'\n        },\n        hint: 'sdk.mapcontrols.query.actions.remove_feature_from_results.hint',\n        cbk: _this6.removeFeatureLayerFromResult.bind(_this6)\n      });\n\n      /**\n       * check if selection is active\n       */\n      if (layer.selection.active !== undefined) {\n        // selection action\n        var _state2 = _this6.createActionState({\n          layer: layer\n        });\n\n        _this6.state.layersactions[layer.id].push({\n          id: 'selection',\n          download: false,\n          class: _gui2.default.getFontClass('success'),\n          hint: 'sdk.mapcontrols.query.actions.add_selection.hint',\n          state: _state2,\n          init: function init() {\n            var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                feature = _ref9.feature,\n                index = _ref9.index,\n                action = _ref9.action;\n\n            typeof layer.selection.active !== \"undefined\" && _this6.checkFeatureSelection({\n              layer: layer,\n              index: index,\n              feature: feature,\n              action: action\n            });\n          },\n          cbk: throttle(_this6.addToSelection.bind(_this6))\n        });\n        /*\n        * In case of external layer don't listen selection event\n        * */\n        _this6.listenClearSelection(layer, 'selection');\n        //end selection action\n      }\n      /*\n        If not wms of external layer show copy link to feature\n       */\n      !is_external_layer_or_wms && layer.hasgeometry && _this6.state.layersactions[layer.id].push({\n        id: 'link_zoom_to_fid',\n        download: false,\n        class: _gui2.default.getFontClass('link'),\n        hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint',\n        hint_change: {\n          hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint_change',\n          duration: 1000\n        },\n        cbk: _this6.copyZoomToFidUrl.bind(_this6)\n      });\n      layer.editable && !layer.inediting && _this6.state.layersactions[layer.id].push({\n        id: 'editing',\n        class: _gui2.default.getFontClass('pencil'),\n        hint: 'Editing',\n        cbk: function cbk(layer, feature) {\n          _this6.editFeature({\n            layer: layer,\n            feature: feature\n          });\n        }\n      });\n    });\n    this.addActionsForLayers(this.state.layersactions, this.state.layers);\n  }\n};\n\nproto.createActionState = function (_ref10) {\n  var layer = _ref10.layer,\n      _ref10$dynamicPropert = _ref10.dynamicProperties,\n      dynamicProperties = _ref10$dynamicPropert === undefined ? ['toggled'] : _ref10$dynamicPropert;\n\n  // check number of download formats\n  var propertiesObject = dynamicProperties.reduce(function (accumulator, property) {\n    accumulator[property] = {};\n    return accumulator;\n  }, {});\n  layer.features.map(function (feature, index) {\n    Object.keys(propertiesObject).forEach(function (property) {\n      propertiesObject[property][index] = null;\n    });\n  });\n  return Vue.observable(propertiesObject);\n};\n\n/**\n * Method to get action referred to layer getting the acion id\n * @param layer layer linked to action\n * @param id action id\n * @returns {*}\n */\nproto.getActionLayerById = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref11.layer,\n      id = _ref11.id;\n\n  return this.state.layersactions[layer.id].find(function (action) {\n    return action.id === id;\n  });\n};\n\n/**\n * Set current layer action tool in feature\n * @param layer current layer\n * @param index feature index\n * @param value component value or null\n */\nproto.setCurrentActionLayerFeatureTool = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref12.layer,\n      action = _ref12.action,\n      index = _ref12.index,\n      _ref12$component = _ref12.component,\n      component = _ref12$component === undefined ? null : _ref12$component;\n\n  if (component) {\n    if (this.state.currentactiontools[layer.id][index] && action.id !== this.state.currentactionfeaturelayer[layer.id][index].id && this.state.currentactionfeaturelayer[layer.id][index].toggleable) this.state.currentactionfeaturelayer[layer.id][index].state.toggled[index] = false;\n    this.state.currentactionfeaturelayer[layer.id][index] = action;\n  } else this.state.currentactionfeaturelayer[layer.id][index] = null;\n  this.state.currentactiontools[layer.id][index] = component;\n};\n\nproto.addCurrentActionToolsLayer = function (_ref13) {\n  var id = _ref13.id,\n      layer = _ref13.layer,\n      _ref13$config = _ref13.config,\n      config = _ref13$config === undefined ? {} : _ref13$config;\n\n  this.state.actiontools[id] = {};\n  this.state.actiontools[id][layer.id] = config;\n};\n\n/**\n * Reset current action tools on layer when feature layer change\n * @param layer\n */\nproto.resetCurrentActionToolsLayer = function (layer) {\n  var _this8 = this;\n\n  layer.features.forEach(function (feature, index) {\n    if (_this8.state.currentactiontools[layer.id]) {\n      if (_this8.state.currentactiontools[layer.id][index] === undefined) Vue.set(_this8.state.currentactiontools[layer.id], index, null);else _this8.state.currentactiontools[layer.id][index] = null;\n      _this8.state.currentactionfeaturelayer[layer.id][index] = null;\n    }\n  });\n};\n\n/**\n *\n */\nproto.setLayerActionTool = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref14.layer,\n      _ref14$component = _ref14.component,\n      component = _ref14$component === undefined ? null : _ref14$component,\n      _ref14$config = _ref14.config,\n      config = _ref14$config === undefined ? null : _ref14$config;\n\n  this.state.layeractiontool[layer.id].component = component;\n  this.state.layeractiontool[layer.id].config = config;\n};\n\n/**\n * Method copy zoomtofid url\n * @param layer\n * @param feature\n */\nproto.copyZoomToFidUrl = function (layer, feature, action) {\n  var fid = feature.attributes[_constant.G3W_FID];\n  var url = new URL(location.href);\n  var zoom_to_fid = layer.id + '|' + fid;\n  url.searchParams.set('zoom_to_fid', zoom_to_fid);\n  copyUrl(url.toString());\n  action.hint_changed = true;\n};\n\n/**\n * Clear all\n */\nproto.clear = function () {\n  this.runAsyncTodo();\n  this.unlistenerEventsActions();\n  this.mapService.clearHighlightGeometry();\n  this.resultsQueryLayer.getSource().clear();\n  this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n  this._asyncFnc = null;\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  this.clearState();\n  this.closeComponent();\n  this.removeQueryResultLayerFromMap();\n};\n\nproto.getCurrentLayersIds = function () {\n  return this._currentLayerIds;\n};\n\nproto.runAsyncTodo = function () {\n  this._asyncFnc.todo();\n};\n\nproto._orderResponseByProjectLayers = function (layers) {\n  var _this9 = this;\n\n  layers.sort(function (layerA, layerB) {\n    var aIndex = _this9._projectLayerIds.indexOf(layerA.id);\n    var bIndex = _this9._projectLayerIds.indexOf(layerB.id);\n    return aIndex > bIndex ? 1 : -1;\n  });\n};\n\nproto.setZoomToResults = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.zoomToResult = bool;\n};\n\nproto.highlightFeaturesPermanently = function (layer) {\n  var features = layer.features;\n\n  this.mapService.highlightFeatures(features, {\n    duration: Infinity\n  });\n};\n\n/**\n * Check if one layer result\n * @returns {boolean}\n */\nproto.isOneLayerResult = function () {\n  return this.state.layers.length === 1;\n};\n\n/**\n *\n * @param toggle boolean If true toggle true the mapcontrol\n */\nproto.removeAddFeaturesLayerResultInteraction = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$toggle = _ref15.toggle,\n      toggle = _ref15$toggle === undefined ? false : _ref15$toggle;\n\n  if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  this._addFeaturesLayerResultInteraction.interaction = null;\n  this._addFeaturesLayerResultInteraction.id = null;\n  // check if map control query map is register and if toggled\n  toggle && this._addFeaturesLayerResultInteraction.mapcontrol && this._addFeaturesLayerResultInteraction.mapcontrol.toggle(true);\n  this._addFeaturesLayerResultInteraction.mapcontrol = null;\n  this._addFeaturesLayerResultInteraction.toggleeventhandler && this.mapService.off('mapcontrol:toggled', this._addFeaturesLayerResultInteraction.toggleeventhandler);\n  this._addFeaturesLayerResultInteraction.toggleeventhandler = null;\n};\n\n/**\n *\n * Adde feature to Features results\n * @param layer\n */\nproto.addLayerFeaturesToResultsAction = function (layer) {\n  var _this10 = this;\n\n  /**\n   * Check if layer is current layer to add or clear previous\n   */\n  if (this._addFeaturesLayerResultInteraction.id !== null && this._addFeaturesLayerResultInteraction.id !== layer.id) {\n    var _layer2 = this.state.layers.find(function (layer) {\n      return layer.id === _this10._addFeaturesLayerResultInteraction.id;\n    });\n    if (_layer2) _layer2.addfeaturesresults.active = false;\n    //remove previous add result interaction\n    if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  }\n  this._addFeaturesLayerResultInteraction.id = layer.id;\n  layer.addfeaturesresults.active = !layer.addfeaturesresults.active;\n  if (layer.addfeaturesresults.active) {\n    this.activeMapInteraction(); // useful o send an event\n    var external = layer.external;\n\n    if (!this._addFeaturesLayerResultInteraction.mapcontrol) this._addFeaturesLayerResultInteraction.mapcontrol = this.mapService.getCurrentToggledMapControl();\n    this._addFeaturesLayerResultInteraction.interaction = new PickCoordinatesInteraction();\n    this.mapService.addInteraction(this._addFeaturesLayerResultInteraction.interaction, {\n      close: false\n    });\n    this._addFeaturesLayerResultInteraction.interaction.on('picked', function () {\n      var _ref16 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(evt) {\n        var coordinates, vectorLayer, responseObject;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                coordinates = evt.coordinate;\n\n                if (external) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _data2.default.getData('query:coordinates', {\n                  inputs: {\n                    coordinates: coordinates,\n                    query_point_tolerance: _this10._project.getQueryPointTolerance(),\n                    layerIds: [layer.id],\n                    multilayers: false\n                  }, outputs: {\n                    show: {\n                      add: true\n                    }\n                  }\n                });\n\n              case 4:\n                _context2.next = 9;\n                break;\n\n              case 6:\n                vectorLayer = _this10._vectorLayers.find(function (vectorLayer) {\n                  return layer.id === vectorLayer.get('id');\n                });\n                responseObject = _this10.getVectorLayerFeaturesFromQueryRequest(vectorLayer, {\n                  coordinates: coordinates\n                });\n\n                _this10.setQueryResponse({\n                  data: [responseObject],\n                  query: {\n                    coordinates: coordinates\n                  }\n                }, { add: true });\n\n              case 9:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this10);\n      }));\n\n      return function (_x16) {\n        return _ref16.apply(this, arguments);\n      };\n    }());\n    var eventHandler = function eventHandler(evt) {\n      if (evt.target.isToggled() && evt.target.isClickMap()) layer.addfeaturesresults.active = false;\n    };\n    this._addFeaturesLayerResultInteraction.toggleeventhandler = eventHandler;\n    this.mapService.once('mapcontrol:toggled', eventHandler);\n  } else this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n};\n\nproto.deactiveQueryInteractions = function () {\n  this.state.layers.forEach(function (layer) {\n    if (layer.addfeaturesresults) layer.addfeaturesresults.active = false;\n  });\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.zoomToLayerFeaturesExtent = function (layer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var features = layer.features;\n\n  options.highlight = !this.isOneLayerResult();\n  if (this._asyncFnc.zoomToLayerFeaturesExtent.async) this._asyncFnc.todo = this.mapService.zoomToFeatures.bind(this.mapService, features, options);else this.mapService.zoomToFeatures(features, options);\n};\n\nproto.clearState = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.layers.splice(0);\n  this.state.query = null;\n  this.state.querytitle = \"\";\n  this.state.changed = false;\n  // clear action if present\n  Object.values(this.state.layersactions).forEach(function (layeractions) {\n    return layeractions.forEach(function (action) {\n      return action.clear && action.clear();\n    });\n  });\n  this.state.layersactions = {};\n  this.state.actiontools = {};\n  this.state.layeractiontool = {};\n  // current action tools\n  this.state.currentactiontools = {};\n  this.state.layersFeaturesBoxes = {};\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state = state;\n};\n\nproto._setRelations = function (project) {\n  var projectRelations = project.getRelations();\n  this._relations = projectRelations ? _.groupBy(projectRelations, 'referencedLayer') : [];\n};\n\nproto.getAtlasByLayerId = function (layerId) {\n  return this._atlas.filter(function (atlas) {\n    return atlas.atlas.qgs_layer_id === layerId;\n  });\n};\n\nproto._setAtlasActions = function (project) {\n  this._atlas = project.getPrint().filter(function (printconfig) {\n    return printconfig.atlas;\n  }) || [];\n};\n\nproto.setTitle = function (querytitle) {\n  this.state.querytitle = querytitle || \"\";\n};\n\nproto.reset = function () {\n  this.clearState();\n};\n\n/**\n * Method that convert response from Data Provider to a Query Result component data structure\n * @param featuresForLayers: Array contains for each layer features\n * @returns {[]}\n * @private\n */\nproto._digestFeaturesForLayers = function (featuresForLayers) {\n  var _this11 = this;\n\n  var id = 0;\n  featuresForLayers = featuresForLayers || [];\n  var layers = [];\n  var layerAttributes = void 0,\n      layerRelationsAttributes = void 0,\n      layerTitle = void 0,\n      layerId = void 0;\n  var _handleFeatureFoLayer = function _handleFeatureFoLayer(featuresForLayer) {\n    var _layerObj;\n\n    var formStructure = void 0;\n    var sourceType = void 0;\n    var source = void 0;\n    var extractRelations = false;\n    var external = false;\n    var editable = false;\n    var inediting = false;\n    var layer = featuresForLayer.layer;\n    var downloads = [];\n    var infoformats = [];\n    var infoformat = void 0;\n    var filter = {};\n    var selection = {};\n    if (layer instanceof Layer) {\n      editable = layer.isEditable();\n      inediting = layer.isInEditing();\n      source = layer.getSource();\n      infoformats = layer.getInfoFormats(); // add infoformats property\n      infoformat = layer.getInfoFormat();\n      // set selection filter and relation if not wms\n      if ([Layer.SourceTypes.WMS, Layer.SourceTypes.WCS, Layer.SourceTypes.WMST].indexOf(layer.getSourceType()) === -1) {\n        filter = layer.state.filter;\n        selection = layer.state.selection;\n        extractRelations = true;\n      }\n      downloads = layer.getDownloadableFormats();\n      try {\n        sourceType = layer.getSourceType();\n      } catch (err) {}\n      // sanitize attributes layer only if is ows\n      layerAttributes = _this11.state.type === 'ows' ? layer.getAttributes().map(function (attribute) {\n        var sanitizeAttribute = _extends({}, attribute);\n        sanitizeAttribute.name = sanitizeAttribute.name.replace(/ /g, '_');\n        return sanitizeAttribute;\n      }) : layer.getAttributes();\n\n      layerRelationsAttributes = [];\n      layerTitle = layer.getTitle();\n      layerId = layer.getId();\n      if (layer.hasFormStructure()) {\n        var structure = layer.getLayerEditingFormStructure();\n        if (_this11._relations && _this11._relations.length) {\n          var getRelationFieldsFromFormStructure = function getRelationFieldsFromFormStructure(node) {\n            if (!node.nodes) {\n              node.name ? node.relation = true : null;\n            } else {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = node.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _node = _step.value;\n\n                  getRelationFieldsFromFormStructure(_node);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          };\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = structure[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var node = _step2.value;\n\n              getRelationFieldsFromFormStructure(node);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n        var fields = layer.getFields().filter(function (field) {\n          return field.show;\n        }); // get features show\n        formStructure = {\n          structure: structure,\n          fields: fields\n        };\n      }\n    } else if (layer instanceof ol.layer.Vector) {\n      selection = layer.selection;\n      layerAttributes = layer.getProperties();\n      layerRelationsAttributes = [];\n      layerTitle = layer.get('name');\n      layerId = layer.get('id');\n      external = true;\n    } else if (typeof layer === 'string' || layer instanceof String) {\n      sourceType = Layer.LayerTypes.VECTOR;\n      var feature = featuresForLayer.features[0];\n      layerAttributes = feature ? feature.getProperties() : [];\n      layerRelationsAttributes = [];\n      var split_layer_name = layer.split('_');\n      layerTitle = split_layer_name.length > 4 ? split_layer_name.slice(0, split_layer_name.length - 4).join(' ') : layer;\n      layerId = layer;\n      external = true;\n    }\n    var layerObj = (_layerObj = {\n      title: layerTitle,\n      id: layerId,\n      infoformat: infoformat,\n      infoformats: infoformats,\n      attributes: [],\n      features: [],\n      hasgeometry: false,\n      atlas: _this11.getAtlasByLayerId(layerId),\n      source: source,\n      downloads: downloads,\n      show: true,\n      filter: filter,\n      addfeaturesresults: {\n        active: false\n      }\n    }, _defineProperty(_layerObj, _QueryResultsActionDownloadFormats2.default.name, {\n      active: false\n    }), _defineProperty(_layerObj, 'external', external), _defineProperty(_layerObj, 'editable', editable), _defineProperty(_layerObj, 'inediting', inediting), _defineProperty(_layerObj, 'selection', selection), _defineProperty(_layerObj, 'expandable', true), _defineProperty(_layerObj, 'hasImageField', false), _defineProperty(_layerObj, 'relationsattributes', layerRelationsAttributes), _defineProperty(_layerObj, 'formStructure', formStructure), _defineProperty(_layerObj, 'error', ''), _defineProperty(_layerObj, 'rawdata', null), _defineProperty(_layerObj, 'loading', false), _layerObj);\n    if (featuresForLayer.rawdata) {\n      layerObj.rawdata = featuresForLayer.rawdata;\n      layers.push(layerObj);\n    } else if (featuresForLayer.features && featuresForLayer.features.length) {\n      var layerSpecialAttributesName = layer instanceof Layer ? layerAttributes.filter(function (attribute) {\n        try {\n          return attribute.name[0] === '_' || Number.isInteger(1 * attribute.name[0]);\n        } catch (e) {\n          return false;\n        }\n      }).map(function (attribute) {\n        return {\n          alias: attribute.name.replace(/_/, ''),\n          name: attribute.name\n        };\n      }) : [];\n      layerSpecialAttributesName.length && featuresForLayer.features.forEach(function (feature) {\n        return _this11._setSpecialAttributesFeatureProperty(layerSpecialAttributesName, feature);\n      });\n      layerObj.attributes = _this11._parseAttributes(layerAttributes, featuresForLayer.features[0], sourceType);\n      layerObj.attributes.forEach(function (attribute) {\n        if (formStructure) {\n          var relationField = layer.getFields().find(function (field) {\n            return field.name === attribute.name;\n          }); // need to check all field also show false\n          !relationField && formStructure.fields.push(attribute);\n        }\n        if (attribute.type === 'image') layerObj.hasImageField = true;\n      });\n      featuresForLayer.features.forEach(function (feature) {\n        var _getFeatureProperties = _this11.getFeaturePropertiesAndGeometry(feature),\n            fid = _getFeatureProperties.id,\n            geometry = _getFeatureProperties.geometry,\n            attributes = _getFeatureProperties.properties,\n            selection = _getFeatureProperties.selection;\n\n        if (geometry) layerObj.hasgeometry = true;\n        var featureObj = {\n          id: layerObj.external ? feature.getId() : fid,\n          attributes: attributes,\n          geometry: geometry,\n          selection: selection,\n          show: true\n        };\n        layerObj.features.push(featureObj);\n        id += 1;\n      });\n      layers.push(layerObj);\n    } else if (featuresForLayer.error) layerObj.error = featuresForLayer.error;\n  };\n  featuresForLayers.forEach(function (featuresForLayer) {\n    if (!Array.isArray(featuresForLayer)) _handleFeatureFoLayer(featuresForLayer);else featuresForLayer.forEach(function (featuresForLayer) {\n      return _handleFeatureFoLayer(featuresForLayer);\n    });\n  });\n  return layers;\n};\n\n/**\n * Method to set special attributes\n * @param layerSpecialAttributesName\n * @param feature\n * @private\n */\nproto._setSpecialAttributesFeatureProperty = function (layerSpecialAttributesName, feature) {\n  // get feature properties get from server request\n  var featureAttributes = feature.getProperties();\n  // get attributes special keys\n  var featureAttributesNames = Object.keys(featureAttributes);\n  if (layerSpecialAttributesName.length) {\n    layerSpecialAttributesName.forEach(function (attributeObj) {\n      featureAttributesNames.find(function (featureAttribute) {\n        if (featureAttribute === attributeObj.alias) {\n          feature.set(attributeObj.name, feature.get(featureAttribute));\n          return true;\n        }\n      });\n    });\n  }\n};\n\n/**\n * Method to get properties geometry and id from different type of fetaure\n * @param feature\n * @returns {{geometry: (undefined|*|null|ol.Feature), id: *, properties: string[]}|{geometry: *, id: *, properties: *}}\n */\nproto.getFeaturePropertiesAndGeometry = function (feature) {\n  if (feature instanceof ol.Feature) {\n    return {\n      selection: feature.selection,\n      properties: feature.getProperties(),\n      geometry: feature.getGeometry(),\n      id: feature.getId()\n    };\n  } else {\n    var selection = feature.selection,\n        properties = feature.properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    return {\n      selection: selection,\n      properties: properties,\n      geometry: geometry,\n      id: id\n    };\n  }\n};\n\n/**\n * parse attributre to show on result based on field\n * @param layerAttributes\n * @param feature\n * @param sourceType\n * @returns {{name: T, show: boolean, label: T}[]|*}\n * @private\n */\nproto._parseAttributes = function (layerAttributes, feature, sourceType) {\n  var _getFeatureProperties2 = this.getFeaturePropertiesAndGeometry(feature),\n      featureAttributes = _getFeatureProperties2.properties;\n\n  var featureAttributesNames = Object.keys(featureAttributes);\n  featureAttributesNames = getAlphanumericPropertiesFromFeature(featureAttributesNames);\n  if (layerAttributes && layerAttributes.length) {\n    var attributes = layerAttributes.filter(function (attribute) {\n      return featureAttributesNames.indexOf(attribute.name) > -1;\n    });\n    return attributes;\n  } else {\n    var _Layer$SourceTypes = Layer.SourceTypes,\n        GDAL = _Layer$SourceTypes.GDAL,\n        WMS = _Layer$SourceTypes.WMS,\n        WCS = _Layer$SourceTypes.WCS,\n        WMST = _Layer$SourceTypes.WMST;\n\n    var showSourcesTypes = [GDAL, WMS, WCS, WMST];\n    return featureAttributesNames.map(function (featureAttributesName) {\n      return {\n        name: featureAttributesName,\n        label: featureAttributesName,\n        show: featureAttributesName !== _constant.G3W_FID && (sourceType === undefined || showSourcesTypes.indexOf(sourceType) !== -1),\n        type: 'varchar'\n      };\n    });\n  }\n};\n\nproto.trigger = function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(actionId, layer, feature, index, container) {\n    var actionMethod, layerActions, action;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            actionMethod = this._actions[actionId];\n\n            actionMethod && actionMethod(layer, feature, index);\n\n            if (!layer) {\n              _context3.next = 10;\n              break;\n            }\n\n            layerActions = this.state.layersactions[layer.id];\n\n            if (!layerActions) {\n              _context3.next = 10;\n              break;\n            }\n\n            action = layerActions.find(function (layerAction) {\n              return layerAction.id === actionId;\n            });\n            _context3.t0 = action;\n\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 10;\n            return this.triggerLayerAction(action, layer, feature, index, container);\n\n          case 10:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x19, _x20, _x21, _x22, _x23) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\nproto.triggerLayerAction = function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(action, layer, feature, index, container) {\n    var url, urlTemplate;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.t0 = action.cbk;\n\n            if (!_context4.t0) {\n              _context4.next = 4;\n              break;\n            }\n\n            _context4.next = 4;\n            return action.cbk(layer, feature, action, index, container);\n\n          case 4:\n            if (action.route) {\n              url = void 0;\n              urlTemplate = action.route;\n\n              url = urlTemplate.replace(/{(\\w*)}/g, function (m, key) {\n                return feature.attributes.hasOwnProperty(key) ? feature.attributes[key] : \"\";\n              });\n              url && url !== '' && _gui2.default.goto(url);\n            }\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x24, _x25, _x26, _x27, _x28) {\n    return _ref18.apply(this, arguments);\n  };\n}();\n\nproto.registerVectorLayer = function (vectorLayer) {\n  this._vectorLayers.indexOf(vectorLayer) === -1 && this._vectorLayers.push(vectorLayer);\n};\n\nproto.unregisterVectorLayer = function (vectorLayer) {\n  var _this12 = this;\n\n  this._vectorLayers = this._vectorLayers.filter(function (layer) {\n    _this12.state.layers = _this12.state.layers && _this12.state.layers.filter(function (layer) {\n      return layer.id !== vectorLayer.get('id');\n    });\n    return layer !== vectorLayer;\n  });\n};\n\nproto.getVectorLayerFeaturesFromQueryRequest = function (vectorLayer) {\n  var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var coordinates = query.coordinates,\n      bbox = query.bbox,\n      geometry = query.geometry,\n      _query$filterConfig = query.filterConfig,\n      filterConfig = _query$filterConfig === undefined ? {} : _query$filterConfig; // extract information about query type\n\n  var features = [];\n\n  // case query coordinates\n  if (coordinates && Array.isArray(coordinates)) {\n    var pixel = this.mapService.viewer.map.getPixelFromCoordinate(coordinates);\n    this.mapService.viewer.map.forEachFeatureAtPixel(pixel, function (feature, layer) {\n      features.push(feature);\n    }, {\n      layerFilter: function layerFilter(layer) {\n        return layer === vectorLayer;\n      }\n    });\n  }\n\n  // TODO: rewrite this in order to avoid nested else-if conditions\n  else {\n\n      // case query bbox\n      if (bbox && Array.isArray(bbox)) {\n        //set geometry has Polygon\n        geometry = ol.geom.Polygon.fromExtent(bbox);\n      }\n\n      // check query geometry (Polygon or MultiPolygon)\n      if (geometry instanceof ol.geom.Polygon || geometry instanceof ol.geom.MultiPolygon) {\n        switch (vectorLayer.constructor) {\n          case VectorLayer:\n            features = vectorLayer.getIntersectedFeatures(geometry);\n            break;\n          case ol.layer.Vector:\n            vectorLayer.getSource().getFeatures().forEach(function (feature) {\n              var add = void 0;\n              switch (filterConfig.spatialMethod) {\n                case 'intersects':\n                  add = intersects(geometry, feature.getGeometry());break;\n                case 'within':\n                  add = within(geometry, feature.getGeometry());break;\n                default:\n                  add = geometry.intersectsExtent(feature.getGeometry().getExtent());break;\n              }\n              if (true === add) {\n                features.push(feature);\n              }\n            });\n            break;\n        }\n      }\n    }\n\n  return {\n    features: features,\n    layer: vectorLayer\n  };\n};\n\n/**\n * @TODO add description (eg. what is a vector layer ?)\n */\nproto._addVectorLayersDataToQueryResponse = function (queryResponse) {\n  var _this13 = this;\n\n  var catalogService = _gui2.default.getService('catalog');\n\n  /** @type { boolean | undefined } */\n  var isExternalFilterSelected = queryResponse.query.external.filter.SELECTED;\n\n  // add visible layers to query response (vector layers)\n  this._vectorLayers.forEach(function (layer) {\n    var isLayerSelected = catalogService.isExternalLayerSelected({ id: layer.get('id'), type: 'vector' });\n    if (layer.getVisible() && ( // TODO: extract this into `layer.isSomething()` ?\n    true === isLayerSelected && true === isExternalFilterSelected || false === isLayerSelected && false === isExternalFilterSelected || \"undefined\" === typeof isExternalFilterSelected)) {\n      queryResponse.data.push(_this13.getVectorLayerFeaturesFromQueryRequest(layer, queryResponse.query));\n    }\n  });\n};\n\n//function to add custom component in query result\nproto._addComponent = function (component) {\n  this.state.components.push(component);\n};\n\nproto._printSingleAtlas = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$atlas = _ref19.atlas,\n      atlas = _ref19$atlas === undefined ? {} : _ref19$atlas,\n      _ref19$features = _ref19.features,\n      features = _ref19$features === undefined ? [] : _ref19$features;\n\n  // TODO: make it easier to understand.. (what variables are declared? which ones are aliased?)\n  var template = atlas.name,\n      _atlas$atlas$field_na = atlas.atlas.field_name,\n      field_name = _atlas$atlas$field_na === undefined ? '' : _atlas$atlas$field_na;\n\n\n  field_name = field_name || '$id';\n\n  var values = features.map(function (feat) {\n    return feat.attributes[field_name === '$id' ? _constant.G3W_FID : field_name];\n  });\n  var download_caller_id = _application2.default.setDownload(true);\n\n  return this.printService.printAtlas({\n    field: field_name,\n    values: values,\n    template: template,\n    download: true\n  }).then(function (_ref20) {\n    var url = _ref20.url;\n\n    downloadFile({ url: url, filename: template, mime_type: 'application/pdf' }).catch(function (error) {\n      _gui2.default.showUserMessage({ type: 'alert', error: error });\n    }).finally(function () {\n      _application2.default.setDownload(false, download_caller_id);_gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.showChart = function (ids, container, relationData) {\n  this.emit('show-chart', ids, container, relationData);\n};\n\nproto.hideChart = function (container) {\n  this.emit('hide-chart', container);\n};\n\nproto.showRelationsChart = function () {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var layer = arguments[1];\n  var feature = arguments[2];\n  var action = arguments[3];\n  var index = arguments[4];\n  var container = arguments[5];\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  if (action.state.toggled[index]) {\n    var relations = this._relations[layer.id];\n    var relationData = {\n      relations: relations,\n      fid: feature.attributes[_constant.G3W_FID],\n      height: 400\n    };\n    this.emit('show-chart', ids, container, relationData);\n  } else this.hideChart(container);\n};\n\nproto.printAtlas = function (layer, feature) {\n  var _this14 = this;\n\n  var layerId = layer.id,\n      features = layer.features;\n\n  var inputAtlasAttr = 'g3w_atlas_index';\n  features = feature ? [feature] : features;\n  var atlasLayer = this.getAtlasByLayerId(layerId);\n  if (atlasLayer.length > 1) {\n    var inputs = '';\n    atlasLayer.forEach(function (atlas, index) {\n      var id = getUniqueDomId();\n      inputs += '<input id=\"' + id + '\" ' + inputAtlasAttr + '=\"' + index + '\" class=\"magic-radio\" type=\"radio\" name=\"template\" value=\"' + atlas.name + '\"/>\\n                 <label for=\"' + id + '\">' + atlas.name + '</label>\\n                 <br>';\n    });\n\n    _gui2.default.showModalDialog({\n      title: t('sdk.atlas.template_dialog.title'),\n      message: inputs,\n      buttons: {\n        success: {\n          label: \"OK\",\n          className: \"skin-button\",\n          callback: function callback() {\n            var index = $('input[name=\"template\"]:checked').attr(inputAtlasAttr);\n            if (index !== null || index !== undefined) {\n              var atlas = atlasLayer[index];\n              _this14._printSingleAtlas({\n                atlas: atlas,\n                features: features\n              });\n            }\n          }\n        }\n      }\n    });\n  } else this._printSingleAtlas({\n    atlas: atlasLayer[0],\n    features: features\n  });\n};\n\n/**\n * Method that in case\n * @param layer\n */\nproto.showLayerDownloadFormats = function (layer) {\n  var layerKey = _QueryResultsActionDownloadFormats2.default.name;\n  layer[layerKey].active = !layer[layerKey].active;\n  this.setLayerActionTool({\n    layer: layer,\n    component: layer[layerKey].active ? _QueryResultsActionDownloadFormats2.default : null,\n    config: layer[layerKey].active ? this.state.actiontools[layerKey][layer.id] : null\n  });\n};\n\n/**\n *\n * @param type\n * @param layerId\n * @param features\n */\nproto.downloadFeatures = function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(type, layer) {\n    var features = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var _this15 = this;\n\n    var action = arguments[3];\n    var index = arguments[4];\n\n    var layerId, _state$query, query, data, runDownload, downloadsactions, fid, polygonLayer, config;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            layerId = layer.id;\n            _state$query = this.state.query, query = _state$query === undefined ? {} : _state$query;\n\n            features = features ? Array.isArray(features) ? features : [features] : features;\n            data = {\n              fids: features.map(function (feature) {\n                return feature.attributes[_constant.G3W_FID];\n              }).join(',')\n            };\n            /**\n             * is a function that che be called in case of querybypolygon\n             * @param active\n             */\n\n            runDownload = function () {\n              var _ref22 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n                var active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n                var projectLayer, download_caller_id, downloadsactions;\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (features.length > 1) {\n                          layer[_QueryResultsActionDownloadFormats2.default.name].active = active;\n                          _this15.setLayerActionTool({\n                            layer: layer\n                          });\n                        }\n                        projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n                        download_caller_id = _application2.default.setDownload(true);\n\n                        _gui2.default.setLoadingContent(true);\n                        _context5.prev = 4;\n                        _context5.next = 7;\n                        return projectLayer.getDownloadFilefromDownloadDataType(type, {\n                          data: data\n                        });\n\n                      case 7:\n                        _context5.t0 = _context5.sent;\n\n                        if (_context5.t0) {\n                          _context5.next = 10;\n                          break;\n                        }\n\n                        Promise.resolve();\n\n                      case 10:\n                        _context5.next = 15;\n                        break;\n\n                      case 12:\n                        _context5.prev = 12;\n                        _context5.t1 = _context5['catch'](4);\n\n                        _gui2.default.notify.error(_context5.t1 || t(\"info.server_error\"));\n\n                      case 15:\n                        _application2.default.setDownload(false, download_caller_id);\n                        _gui2.default.setLoadingContent(false);\n                        downloadsactions = _this15.state.layersactions[layer.id].find(function (action) {\n                          return action.id === 'downloads';\n                        });\n\n                        if (features.length > 1) {\n                          if (downloadsactions === undefined) {\n                            layer[type].active = false;\n                            _this15.setLayerActionTool({\n                              layer: layer\n                            });\n                          } else layer[_QueryResultsActionDownloadFormats2.default.name].active = false;\n                        } else {\n                          if (downloadsactions === undefined) action.state.toggled[index] = false;else downloadsactions.state.toggled[index] = false;\n                          _this15.setCurrentActionLayerFeatureTool({\n                            index: index,\n                            action: action,\n                            layer: layer\n                          });\n                        }\n\n                      case 19:\n                      case 'end':\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5, _this15, [[4, 12]]);\n              }));\n\n              return function runDownload() {\n                return _ref22.apply(this, arguments);\n              };\n            }();\n\n            if (query.type === 'polygon') {\n              //check if multidownload if present\n              downloadsactions = this.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              fid = query.fid, polygonLayer = query.layer;\n              config = {\n                choices: [{\n                  id: getUniqueDomId(),\n                  type: 'feature',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature.label'\n                }, {\n                  id: getUniqueDomId(),\n                  type: 'polygon',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature_polygon.label'\n                }],\n                download: function download(type) {\n                  // choose between only feature attribute or also polygon attibute\n                  if (type === 'polygon') {\n                    // id type polygon add paramateres to api download\n                    data.sbp_qgs_layer_id = polygonLayer.getId();\n                    data.sbp_fid = fid;\n                  } else {\n                    // force to remove\n                    delete data.sbp_fid;\n                    delete data.sbp_qgs_layer_id;\n                  }\n                  runDownload(true);\n                }\n              };\n\n              if (features.length === 1) {\n                if (downloadsactions === undefined) {\n                  action.state.toggled[index] = true;\n                }\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name] = this.state.actiontools[layerId] || {};\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name][layerId] = config;\n                this.setCurrentActionLayerFeatureTool({\n                  layer: layer,\n                  index: index,\n                  action: action,\n                  component: _QueryResultsActionQueryPolygonCSVAttributes2.default\n                });\n              } else {\n                if (downloadsactions === undefined) {\n                  layer[type].active = !layer[type].active;\n                  if (layer[type].active) {\n                    this.setLayerActionTool({\n                      layer: layer,\n                      component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                      config: config\n                    });\n                  } else this.setLayerActionTool({\n                    layer: layer\n                  });\n                } else {\n                  this.setLayerActionTool({\n                    layer: layer,\n                    component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                    config: config\n                  });\n                }\n              }\n            } else runDownload();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x33, _x34) {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\nproto.downloadGpx = function () {\n  var _this16 = this;\n\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref23.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getGpx({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this16.layerMenu.loading.shp = false;\n    _this16._hideMenu();\n  });\n};\n\nproto.downloadXls = function () {\n  var _this17 = this;\n\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref24.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getXls({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this17.layerMenu.loading.shp = false;\n    _this17._hideMenu();\n  });\n};\n\nproto.listenClearSelection = function (layer, actionId) {\n  var _this18 = this;\n\n  if (!layer.external) {\n    var _layer = _catalogLayers2.default.getLayerById(layer.id);\n    var handler = function handler() {\n      var action = _this18.state.layersactions[layer.id].find(function (action) {\n        return action.id === actionId;\n      });\n      layer.features.forEach(function (feature, index) {\n        return action.state.toggled[index] = false;\n      });\n    };\n    _layer.on('unselectionall', handler);\n    this.unlistenerlayeractionevents.push({\n      layer: _layer,\n      event: 'unselectionall',\n      handler: handler\n    });\n  } else {\n    layer.features.forEach(function (feature) {\n      var selectionFeature = layer.selection.features.find(function (selectionFeature) {\n        return feature.id === selectionFeature.getId();\n      });\n      feature.selection = selectionFeature ? selectionFeature.selection : {\n        selected: false\n      };\n    });\n  }\n};\n\nproto.clearSelectionExtenalLayer = function (layer) {\n  var _this19 = this;\n\n  layer.selection.active = false;\n  var action = this.state.layersactions[layer.id] && this.state.layersactions[layer.id].find(function (action) {\n    return action.id === 'selection';\n  });\n  layer.selection.features.forEach(function (feature, index) {\n    if (feature.selection.selected) {\n      feature.selection.selected = false;\n      if (action) action.state.toggled[index] = false;\n      _this19.mapService.setSelectionFeatures('remove', {\n        feature: feature\n      });\n    }\n  });\n};\n\nproto.unlistenerEventsActions = function () {\n  this.unlistenerlayeractionevents.forEach(function (obj) {\n    return obj.layer.off(obj.event, obj.handler);\n  });\n  this.unlistenerlayeractionevents = [];\n};\n\nproto.addRemoveFilter = function (layer) {\n  var _layer = _catalogLayers2.default.getLayerById(layer.id);\n  _layer.toggleFilterToken();\n};\n\n/**\n *\n * @param layer\n */\nproto.selectionFeaturesLayer = function (layer) {\n  var _this20 = this;\n\n  var layerId = layer.id;\n  var action = this.state.layersactions[layerId].find(function (action) {\n    return action.id === 'selection';\n  });\n  var bool = Object.values(action.state.toggled).reduce(function (acculmulator, value) {\n    return acculmulator && value;\n  }, true);\n  var _layer = !layer.external ? _catalogLayers2.default.getLayerById(layerId) : layer;\n  layer.features.forEach(function (feature, index) {\n    action.state.toggled[index] = !bool;\n    _this20._addRemoveSelectionFeature(_layer, feature, index, bool ? 'remove' : 'add');\n  });\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param index\n * @param force\n * @returns {Promise<void>}\n * @private\n */\nproto._addRemoveSelectionFeature = function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(layer, feature, index, force) {\n    var selectionFeature, fid, hasAlreadySelectioned, currentLayer;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof layer.external !== \"undefined\" && layer.external)) {\n              _context7.next = 12;\n              break;\n            }\n\n            if (typeof layer.selection.features === \"undefined\") layer.selection.features = {};\n            if (!layer.selection.features.find(function (selectionFeature) {\n              return selectionFeature.getId() === feature.id;\n            })) {\n              /***\n               * Feature used in selection tool action\n               */\n              selectionFeature = createFeatureFromFeatureObject({\n                feature: feature,\n                id: feature.id\n              });\n\n              selectionFeature.__layerId = layer.id;\n              selectionFeature.selection = feature.selection;\n              layer.selection.features.push(selectionFeature);\n            }\n\n            if (!(force === 'add' && feature.selection.selected || force === 'remove' && !feature.selection.selected)) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt('return');\n\n          case 7:\n            feature.selection.selected = !feature.selection.selected;\n\n          case 8:\n            this.mapService.setSelectionFeatures(feature.selection.selected ? 'add' : 'remove', {\n              feature: layer.selection.features.find(function (selectionFeature) {\n                return feature.id === selectionFeature.getId();\n              })\n            });\n            /*\n            * Set selection layer active based on features selection selected properties\n             */\n            layer.selection.active = layer.selection.features.reduce(function (accumulator, feature) {\n              return accumulator || feature.selection.selected;\n            }, false);\n            _context7.next = 28;\n            break;\n\n          case 12:\n            // case of project layer on TOC\n            fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n            hasAlreadySelectioned = layer.getFilterActive() || layer.hasSelectionFid(fid);\n\n            if (!hasAlreadySelectioned) {\n              if (feature && feature.geometry && !layer.getOlSelectionFeature(fid)) {\n                layer.addOlSelectionFeature({\n                  id: fid,\n                  feature: feature\n                });\n              }\n            }\n\n            if (!(force === undefined)) {\n              _context7.next = 19;\n              break;\n            }\n\n            layer[hasAlreadySelectioned ? 'excludeSelectionFid' : 'includeSelectionFid'](fid);\n            _context7.next = 27;\n            break;\n\n          case 19:\n            if (!(!hasAlreadySelectioned && force === 'add')) {\n              _context7.next = 24;\n              break;\n            }\n\n            _context7.next = 22;\n            return layer.includeSelectionFid(fid);\n\n          case 22:\n            _context7.next = 27;\n            break;\n\n          case 24:\n            if (!(hasAlreadySelectioned && force === 'remove')) {\n              _context7.next = 27;\n              break;\n            }\n\n            _context7.next = 27;\n            return layer.excludeSelectionFid(fid);\n\n          case 27:\n            if (layer.getFilterActive()) {\n              currentLayer = this.state.layers.find(function (_layer) {\n                return _layer.id === layer.getId();\n              });\n\n              layer.getSelectionFids().size > 0 && currentLayer && currentLayer.features.splice(index, 1);\n              this.mapService.clearHighlightGeometry();\n              this.state.layers.length === 1 && !this.state.layers[0].features.length && this.state.layers.splice(0);\n            }\n\n          case 28:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x38, _x39, _x40, _x41) {\n    return _ref25.apply(this, arguments);\n  };\n}();\n\n/**\n * Initial check of selection active on layer\n * @param layer\n * @param feature\n * @param index\n * @param action\n */\nproto.checkFeatureSelection = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref26.layer,\n      feature = _ref26.feature,\n      index = _ref26.index,\n      action = _ref26.action;\n\n  if (!layer.external) {\n    var projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n    if (feature) {\n      var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n      action.state.toggled[index] = projectLayer.getFilterActive() || projectLayer.hasSelectionFid(fid);\n    }\n  } else {\n    action.state.toggled[index] = feature.selection.selected;\n  }\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param action\n * @param index\n */\nproto.addToSelection = function (layer, feature, action, index) {\n  var _layer$external = layer.external,\n      external = _layer$external === undefined ? false : _layer$external;\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  var _layer = !external ? _catalogLayers2.default.getLayerById(layer.id) : layer;\n  this._addRemoveSelectionFeature(_layer, feature, index);\n};\n\nproto.removeQueryResultLayerFromMap = function () {\n  this.resultsQueryLayer.getSource().clear();\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n};\n\n/**\n * Show layerQuery result on map\n */\nproto.addQueryResultsLayerToMap = function (_ref27) {\n  var feature = _ref27.feature;\n\n\n  this.removeQueryResultLayerFromMap();\n\n  this.resultsQueryLayer.getSource().addFeature(feature);\n  this.mapService.getMap().addLayer(this.resultsQueryLayer);\n\n  // make sure that layer is on top of other map.\n  this.mapService.setZIndexLayer({ layer: this.resultsQueryLayer });\n};\n\n/**\n *\n  Show featureFormCoordinates\n */\nproto.showCoordinates = function (coordinates) {\n  var feature = createFeatureFromCoordinates(coordinates);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show BBox\n * @param bbox\n */\nproto.showBBOX = function (bbox) {\n  var feature = createFeatureFromBBOX(bbox);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show Geometry\n * @param geometry\n */\nproto.showGeometry = function (geometry) {\n  var feature = createFeatureFromGeometry({\n    geometry: geometry\n  });\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n *\n * @param layer\n * @param feature\n */\nproto.goToGeometry = function (layer, feature) {\n  var _this21 = this;\n\n  if (feature.geometry) {\n    var handlerOptions = {\n      mapServiceMethod: this.isOneLayerResult() ? 'zoomToFeatures' : 'highlightGeometry',\n      firstParam: this.isOneLayerResult() ? [feature] : feature.geometry,\n      options: this.isOneLayerResult() ? {} : {\n        layerId: layer.id,\n        duration: 1500\n      }\n    };\n    if (this._asyncFnc.goToGeometry.async) this._asyncFnc.todo = this.mapService[handlerOptions.mapServiceMethod].bind(this.mapService, handlerOptions.firstParam, handlerOptions.options);else setTimeout(function () {\n      return _this21.mapService[handlerOptions.mapServiceMethod](handlerOptions.firstParam, handlerOptions.options);\n    });\n  }\n};\n\n//save layer result\nproto.saveLayerResult = function () {\n  var _ref28 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref28.layer,\n      _ref28$type = _ref28.type,\n      type = _ref28$type === undefined ? 'csv' : _ref28$type;\n\n  this.downloadFeatures(type, layer, layer.features);\n};\n\nproto.highlightGeometry = function (layer, feature) {\n  feature.geometry && this.mapService.highlightGeometry(feature.geometry, {\n    layerId: layer.id,\n    zoom: false,\n    duration: Infinity\n  });\n};\n\nproto.clearHighlightGeometry = function (layer) {\n  this.mapService.clearHighlightGeometry();\n  this.isOneLayerResult() && this.highlightFeaturesPermanently(layer);\n};\n\n/**\n * method to handle show Relation on result\n * @param relationId,\n * layerId : current layer fathre id\n * feature: current feature father id\n */\nproto.showRelation = function () {\n  var _ref29 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relation = _ref29.relation,\n      layerId = _ref29.layerId,\n      feature = _ref29.feature;\n\n  var relationId = relation.name,\n      nmRelationId = relation.nmRelationId;\n\n  var chartRelationIds = [];\n  var projectRelation = this._project.getRelationById(relationId);\n  var nmRelation = this._project.getRelationById(nmRelationId);\n  this.findPlotId(projectRelation.referencingLayer) && chartRelationIds.push(projectRelation.referencingLayer);\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      currentview: 'relation',\n      relations: [projectRelation],\n      chartRelationIds: chartRelationIds,\n      nmRelation: nmRelation,\n      feature: feature,\n      layer: {\n        id: layerId\n      }\n    }),\n    crumb: {\n      title: projectRelation.name\n    },\n    title: projectRelation.name,\n    closable: false\n  });\n};\n\nproto.showQueryRelations = function (layer, feature, action) {\n\n  _gui2.default.changeCurrentContentOptions({\n    crumb: {\n      title: layer.title\n    }\n  });\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      relations: action.relations,\n      chartRelationIds: action.chartRelationIds,\n      feature: feature,\n      layer: layer\n    }),\n    backonclose: true,\n    title: _constant.LIST_OF_RELATIONS_TITLE,\n    id: _constant.LIST_OF_RELATIONS_ID,\n    crumb: {\n      title: _constant.LIST_OF_RELATIONS_TITLE,\n      trigger: null\n    },\n    closable: false\n  });\n};\n\nmodule.exports = QueryResultsService;\n\n},{\"components/QueryResultsActionDownloadFormats.vue\":276,\"components/QueryResultsActionQueryPolygonCSVAttributes.vue\":278,\"constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/layers/vectorlayer\":57,\"core/print/printservice\":60,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/interactions/pickcoordinatesinteraction\":103,\"gui/relations/vue/relationspage\":172,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],169:[function(require,module,exports){\nvar _QueryResults = require('components/QueryResults.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryResults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar QueryResultsService = require('gui/queryresults/queryresultsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction QueryResultsComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"queryresults\";\n  this.title = \"Query Results\";\n  this._service = new QueryResultsService();\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      queryResultsService: this._service\n    });\n    this.internalComponent.querytitle = this._service.state.querytitle;\n  };\n\n  this.getElement = function () {\n    if (this.internalComponent) return this.internalComponent.$el;\n  };\n\n  this._service.onafter('setLayersData', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            !_this.internalComponent && _this.setInternalComponent();\n            _context.next = 3;\n            return _this.internalComponent.$nextTick();\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n\n  this.layout = function (width, height) {};\n  this.unmount = function () {\n    this.getService().closeComponent();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(QueryResultsComponent, Component);\n\nmodule.exports = QueryResultsComponent;\n\n},{\"components/QueryResults.vue\":274,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/queryresults/queryresultsservice\":168}],170:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsComponentService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {};\n  this._options = {};\n  base(this);\n}\n\ninherit(RelationsComponentService, G3WObject);\n\nvar proto = RelationsComponentService.prototype;\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._options = options;\n  return _relations2.default.getRelations(options);\n};\n\nproto.getRelationsNM = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var nmRelation = _ref.nmRelation,\n        features = _ref.features;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _relations2.default.getRelationsNM({\n              nmRelation: nmRelation,\n              features: features\n            });\n\n          case 2:\n            return _context.abrupt('return', _context.sent);\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nproto.saveRelations = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(type) {\n    var caller_download_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this._options.type = type;\n            caller_download_id = _application2.default.setDownload(true);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _relations2.default.save(this._options);\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context2.t0 || \"info.server_error\",\n              closable: true\n            });\n\n          case 10:\n            _application2.default.setDownload(false, caller_download_id);\n\n          case 11:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[2, 7]]);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nproto.buildRelationTable = function () {\n  var relations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var id = arguments[1];\n\n  var layer = _application2.default.getCurrentProject().getLayerById(id);\n  var headers = layer.getTableHeaders();\n  var columns = null;\n  var rows = [];\n  var rows_fid = [];\n  var fields = void 0;\n  if (relations.length) {\n    var attributes = Object.keys(relations[0].attributes);\n    columns = headers.filter(function (header) {\n      return attributes.indexOf(header.name) !== -1;\n    });\n    rows = relations.map(function (relation) {\n      rows_fid.push(relation.attributes[_constant.G3W_FID]);\n      return columns.map(function (column) {\n        return relation.attributes[column.name];\n      });\n    });\n    fields = columns;\n    columns = columns.map(function (column) {\n      return column.label;\n    });\n  }\n  return {\n    columns: columns,\n    rows: rows,\n    rows_fid: rows_fid,\n    features: relations,\n    fields: fields,\n    formStructure: layer.getLayerEditingFormStructure(),\n    rowFormStructure: null,\n    layerId: layer.getId()\n  };\n};\n\nmodule.exports = RelationsComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":346,\"services/gui\":356,\"services/relations\":362}],171:[function(require,module,exports){\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nmodule.exports = new Vue();\n\n},{}],172:[function(require,module,exports){\nvar _RelationsPage = require('components/RelationsPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_RelationsPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/relations/relationsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar RelationsPage = function RelationsPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  var service = options.service || new Service();\n  var layer = options.layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? null : _options$relation,\n      _options$relations = options.relations,\n      relations = _options$relations === undefined ? [] : _options$relations,\n      _options$feature = options.feature,\n      feature = _options$feature === undefined ? null : _options$feature,\n      _options$table = options.table,\n      table = _options$table === undefined ? null : _options$table,\n      _options$chartRelatio = options.chartRelationIds,\n      chartRelationIds = _options$chartRelatio === undefined ? [] : _options$chartRelatio,\n      nmRelation = options.nmRelation,\n      _options$currentview = options.currentview,\n      currentview = _options$currentview === undefined ? \"relations\" : _options$currentview;\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    previousview: currentview,\n    service: service,\n    relations: relations,\n    relation: relation,\n    nmRelation: nmRelation,\n    chartRelationIds: chartRelationIds,\n    feature: feature,\n    currentview: currentview,\n    layer: layer,\n    table: table\n  });\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(RelationsPage, Component);\n\nmodule.exports = RelationsPage;\n\n},{\"components/RelationsPage.vue\":284,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/relations/relationsservice\":170}],173:[function(require,module,exports){\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\n\nfunction Service() {\n  base(this);\n  var currentProjectState = _projects2.default.getCurrentProject().state;\n  this.title = currentProjectState.search_title || \"search\";\n  this.init = function (searchesObject) {\n    this.state.searches = searchesObject || currentProjectState.search;\n  };\n  this.state = {\n    searches: [],\n    searchtools: [],\n    querybuildersearches: _querybuilder2.default.getCurrentProjectItems()\n  };\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.removeItem = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref.type,\n      index = _ref.index;\n\n  switch (type) {\n    case 'querybuilder':\n      this.state.querybuildersearches.splice(index, 1);\n      break;\n  }\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.showPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var panel = new SearchPanel(config);\n  panel.show();\n  return panel;\n};\n\nproto.cleanSearchPanels = function () {\n  this.state.panels = {};\n};\n\nproto.stop = function () {\n  var d = $.Deferred();\n  d.resolve();\n  return d.promise();\n};\n\nproto.addTool = function (searchTool) {\n  this.state.searchtools.push(searchTool);\n};\n\nproto.addTools = function (searchTools) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = searchTools[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var searchTool = _step.value;\n\n      this.addTool(searchTool);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addQueryBuilderSearch = function (querybuildersearch) {\n  this.state.querybuildersearches.push(querybuildersearch);\n};\n\nproto.removeTool = function (searchTool) {};\n\nproto.removeTools = function () {\n  this.state.searchtools.splice(0);\n};\n\nproto.reload = function () {\n  this.state.searches = _projects2.default.getCurrentProject().state.search;\n  this.state.querybuildersearches = _querybuilder2.default.getCurrentProjectItems();\n};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/search/vue/panel/searchpanel\":174,\"services/querybuilder\":361,\"store/projects\":374}],174:[function(require,module,exports){\nvar _SearchPanel = require('components/SearchPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SearchPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\nvar Service = require('gui/search/vue/panel/searchservice');\n\nvar SearchPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = options.service || new Service(options);\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'search';\n  var SearchPanel = options.component || SearchPanelComponent;\n  var internalPanel = new SearchPanel({\n    service: service\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(SearchPanel, Panel);\n\nmodule.exports = SearchPanel;\n\n},{\"components/SearchPanel.vue\":287,\"core/utils/utils\":67,\"gui/panel\":159,\"gui/search/vue/panel/searchservice\":175}],175:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType,\n    getUniqueDomId = _require.getUniqueDomId,\n    createFilterFormInputs = _require.createFilterFormInputs,\n    createSingleFieldParameter = _require.createSingleFieldParameter,\n    isEmptyObject = _require.isEmptyObject,\n    sortAlphabeticallyArray = _require.sortAlphabeticallyArray,\n    sortNumericArray = _require.sortNumericArray;\n\nvar G3WObject = require('core/g3wobject');\n\nvar NONVALIDVALUES = [null, undefined, _constant.SEARCH_ALLVALUE];\n\nfunction SearchService() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.debounces = {\n    run: {\n      fnc: function fnc() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (_gui2.default.isMobile()) {\n          var _mapService$getMap$ge = _this.mapService.getMap().getSize(),\n              _mapService$getMap$ge2 = _slicedToArray(_mapService$getMap$ge, 2),\n              width = _mapService$getMap$ge2[0],\n              heigth = _mapService$getMap$ge2[1];\n\n          if (width === 0 || heigth === 0) {\n            _gui2.default.hideSidebar();\n            setTimeout(function () {\n              _this._run.apply(_this, args);\n            }, 600);\n          } else _this._run.apply(_this, args);\n        } else _this._run.apply(_this, args);\n      }\n    }\n  };\n  base(this);\n  // reactivity data\n  this.state = {\n    title: null,\n    forminputs: [],\n    loading: {},\n    searching: false\n  };\n  this.config = config;\n  var _config = this.config,\n      type = _config.type,\n      _config$options = _config.options,\n      options = _config$options === undefined ? {} : _config$options;\n\n  var layerid = options.querylayerid || options.layerid || null;\n  var otherquerylayerids = options.otherquerylayerids || [];\n  var filter = options.filter || [];\n  this.inputdependance = {};\n  this.inputdependencies = {};\n  this.cachedependencies = {};\n  this.project = _projects2.default.getCurrentProject();\n  this.mapService = _gui2.default.getService('map');\n  this.searchLayer = null;\n  this.filter = null;\n  this.inputs = [];\n  this.state.title = config.name;\n  this.search_endpoint = config.search_endpoint;\n  this.url = options.queryurl;\n  this.filter = options.filter;\n  /*\n   type:\n     search: search default ,\n     search_1n in case of 1:N\n  */\n  this.type = type || 'search';\n  this.return = options.return || 'data';\n  this.show = this.return === 'data' && this.type === 'search';\n  this.searchLayer = _catalogLayers2.default.getLayerById(layerid);\n  // store layers that will be searchable for that form search. First one is layer owner of the search setted on admin\n  this.searchLayers = [layerid].concat(_toConsumableArray(otherquerylayerids)).map(function (layerid) {\n    return _catalogLayers2.default.getLayerById(layerid);\n  });\n  // stat to create the form search structure\n  this.createInputsFormFromFilter({ filter: filter });\n}\n\ninherit(SearchService, G3WObject);\n\nvar proto = SearchService.prototype;\n\n/**\n * Start Method to create right search structure for search form\n * @param filter\n * @returns {Promise<void>}\n */\nproto.createInputsFormFromFilter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$filter = _ref2.filter,\n      filter = _ref2$filter === undefined ? [] : _ref2$filter;\n\n  var filterLenght, _loop, index;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          filterLenght = filter.length - 1;\n\n          _loop = function _loop(index) {\n            var input = filter[index];\n            var forminput = {\n              label: input.label,\n              attribute: input.attribute,\n              type: input.input.type || 'textfield',\n              options: _extends({}, input.input.options),\n              value: null,\n              operator: input.op,\n              logicop: index === filterLenght ? null : input.logicop,\n              id: input.id || getUniqueDomId(),\n              loading: false,\n              widget: null\n            };\n            //check if has a dependance\n            var _forminput$options = forminput.options,\n                dependance = _forminput$options.dependance,\n                dependance_strict = _forminput$options.dependance_strict;\n\n            if (forminput.type === 'selectfield' || forminput.type === 'autocompletefield') {\n              // to be sure set values options to empty array if undefined\n              forminput.loading = forminput.type !== 'autocompletefield';\n              var promise = new Promise(function (resolve, reject) {\n                if (forminput.options.values === undefined) forminput.options.values = [];else if (dependance) {\n                  // in case of dependence load right now\n                  if (!dependance_strict) _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });else {\n                    forminput.loading = false;\n                    resolve();\n                  }\n                } else {\n                  // no dependance\n                  _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });\n                }\n              });\n              if (dependance) {\n                //set dependance of input\n                _this2.inputdependance[forminput.attribute] = dependance;\n                _this2.state.loading[dependance] = false;\n                // set disabled false for back compatibility\n                forminput.options.disabled = dependance_strict;\n                /**\n                 * Set dependance between input\n                 */\n                _this2.setInputDependencies({\n                  master: dependance,\n                  slave: forminput\n                });\n                /**\n                 * Set widget type for fill dependency\n                 */\n                if (forminput.options.values.length) {\n                  forminput.widget = 'valuemap';\n                  forminput.options._values = [].concat(_toConsumableArray(forminput.options.values));\n                } else if (forminput.options.layer_id) {\n                  forminput.widget = 'valuerelation';\n                }\n              }\n              promise.then(function () {\n                if (forminput.type !== 'autocompletefield') {\n                  if (forminput.options.values.length) forminput.options.values[0].value !== _constant.SEARCH_ALLVALUE && forminput.options.values.unshift({ value: _constant.SEARCH_ALLVALUE });else forminput.options.values.push({ value: _constant.SEARCH_ALLVALUE });\n                  forminput.value = _constant.SEARCH_ALLVALUE;\n                }\n              });\n            }\n            // ad form inputs to list of search input\n            _this2.state.forminputs.push(forminput);\n          };\n\n          for (index = 0; index <= filterLenght; index++) {\n            _loop(index);\n          }\n\n        case 3:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\n/**\n * Get return type\n */\n\nproto.getReturnType = function () {\n  return this.return;\n};\n\n/**\n * Set return type\n */\n\nproto.setReturnType = function () {\n  var returnType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n\n  this.return = returnType;\n  //set show only in case return === 'data'\n  this.show = this.return === 'data';\n};\n\nproto.getAutoFieldDependeciesParamField = function (field) {\n  var fieldDependency = this.getCurrentFieldDependance(field);\n  if (fieldDependency) {\n    var _Object$entries$ = _slicedToArray(Object.entries(fieldDependency)[0], 2),\n        _field = _Object$entries$[0],\n        value = _Object$entries$[1];\n\n    return this.createFieldsDependenciesAutocompleteParameter({ field: _field, value: value });\n  }\n};\n\nproto.createFieldsDependenciesAutocompleteParameter = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$fields = _ref3.fields,\n      fields = _ref3$fields === undefined ? [] : _ref3$fields,\n      field = _ref3.field,\n      value = _ref3.value;\n\n  var dependendency = this.getCurrentFieldDependance(field);\n  if (value !== undefined) {\n    var fieldParam = createSingleFieldParameter({\n      field: field,\n      value: value,\n      operator: this.getFilterInputFromField(field).op\n    });\n    fields.push(fieldParam);\n  }\n  if (dependendency) {\n    var _Object$entries$2 = _slicedToArray(Object.entries(dependendency)[0], 2),\n        _field2 = _Object$entries$2[0],\n        _value = _Object$entries$2[1];\n    // In case of some input dependeny are not filled\n\n\n    if (typeof _value !== \"undefined\") {\n      // need to set to lower case for api purpose\n      var _getFilterInputFromFi = this.getFilterInputFromField(_field2),\n          op = _getFilterInputFromFi.op,\n          logicop = _getFilterInputFromFi.logicop;\n\n      if (fields.length) fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value) + '|' + logicop.toLowerCase());else fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value));\n    }\n    return this.createFieldsDependenciesAutocompleteParameter({\n      fields: fields,\n      field: _field2\n    });\n  }\n  return fields.length && fields.join() || undefined;\n};\n\n/**\n * Request to server value for a specific select field\n * \n * @param field form input\n * \n * @returns {Promise<[]>}\n */\nproto.getValuesFromField = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(field) {\n    var uniqueValues;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!field.options.layer_id) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 3;\n            return this.getUniqueValuesFromField({ field: field, unique: field.attribute });\n\n          case 3:\n            uniqueValues = _context2.sent;\n            return _context2.abrupt('return', this.getValueRelationValues(field,\n            // filter\n            createFilterFormInputs({\n              layer: _catalogLayers2.default.getLayerById(field.options.layer_id),\n              search_endpoint: this.getSearchEndPoint(),\n              inputs: uniqueValues.map(function (value) {\n                return { value: value, attribute: field.options.value, logicop: \"OR\", operator: \"eq\" };\n              })\n            })));\n\n          case 5:\n            if (!field.options.values.length) {\n              _context2.next = 7;\n              break;\n            }\n\n            return _context2.abrupt('return', this.getValueMapValues(field));\n\n          case 7:\n            return _context2.abrupt('return', this.getUniqueValuesFromField({ field: field, unique: field.attribute }));\n\n          case 8:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.getValueRelationValues = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(field, filter) {\n    var _field$options, layer_id, key, value, layer, _ref6, _ref6$data, data, features, values;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _field$options = field.options, layer_id = _field$options.layer_id, key = _field$options.key, value = _field$options.value;\n            layer = _catalogLayers2.default.getLayerById(layer_id);\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _data3.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: this.getSearchEndPoint(),\n                filter: filter,\n                ordering: key\n              },\n              outputs: false\n            });\n\n          case 5:\n            _ref6 = _context3.sent;\n            _ref6$data = _ref6.data;\n            data = _ref6$data === undefined ? [] : _ref6$data;\n            features = data && data[0] && data[0].features || [];\n            values = [];\n\n            features.forEach(function (feature) {\n              values.push({\n                key: feature.get(key),\n                value: feature.get(value)\n              });\n            });\n            return _context3.abrupt('return', values);\n\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3['catch'](2);\n            return _context3.abrupt('return', []);\n\n          case 17:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 14]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Return values map\n * @param field\n * @returns {Promise<*>}\n */\nproto.getValueMapValues = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(field) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', field.options.values.filter(function (value) {\n              return value !== _constant.SEARCH_ALLVALUE;\n            }));\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * @param layer\n * @param {{ suggest, unique, ordering }} options\n * \n * @returns {Promise}\n * \n * @since 3.8.0\n */\nproto.getLayerFilterData = function (layer, _ref8) {\n  var suggest = _ref8.suggest,\n      unique = _ref8.unique,\n      ordering = _ref8.ordering;\n\n  return layer.getFilterData({ suggest: suggest, unique: unique, ordering: ordering });\n};\n\n/**\n * @param layers\n * @param options\n * \n * @returns {Promise<*>}\n * \n * @since 3.8.0\n */\nproto.getLayersFilterData = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(layers) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var data_promises, data;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return Promise.allSettled(layers.map(function (layer) {\n              return _this3.getLayerFilterData(layer, options);\n            }));\n\n          case 2:\n            data_promises = _context5.sent;\n\n            // get unique value from each layers\n            data = Array.from(data_promises.filter(function (_ref10) {\n              var status = _ref10.status;\n              return 'fulfilled' === status;\n            }).reduce(function (accumulator, _ref11) {\n              var _ref11$value = _ref11.value,\n                  value = _ref11$value === undefined ? [] : _ref11$value;\n              return new Set([].concat(_toConsumableArray(accumulator), _toConsumableArray(value)));\n            }, []));\n            //check if is not empty array\n\n            _context5.t0 = data.length && _typeof(data[0]);\n            _context5.next = _context5.t0 === 'string' ? 7 : _context5.t0 === 'number' ? 8 : 9;\n            break;\n\n          case 7:\n            return _context5.abrupt('return', sortAlphabeticallyArray(data));\n\n          case 8:\n            return _context5.abrupt('return', sortNumericArray(data));\n\n          case 9:\n            return _context5.abrupt('return', data);\n\n          case 10:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  return function (_x10) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\n/**\n * Method to get unique values from field\n * @param field\n * @param value\n * @param unique\n * @returns {Promise<[]>}\n */\nproto.getUniqueValuesFromField = function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(_ref12) {\n    var field = _ref12.field,\n        value = _ref12.value,\n        unique = _ref12.unique;\n    var data, options;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            data = [];\n            _context6.prev = 1;\n            options = {\n              suggest: value !== undefined ? field + '|' + value : undefined,\n              unique: unique,\n              ordering: field.attribute\n            };\n            /**\n             * In case of single layer to search\n             */\n\n            if (!(this.searchLayers.length === 1)) {\n              _context6.next = 9;\n              break;\n            }\n\n            _context6.next = 6;\n            return this.getLayerFilterData(this.searchLayer, options);\n\n          case 6:\n            data = _context6.sent;\n            _context6.next = 12;\n            break;\n\n          case 9:\n            _context6.next = 11;\n            return this.getLayersFilterData(this.searchLayers, options);\n\n          case 11:\n            data = _context6.sent;\n\n          case 12:\n            _context6.next = 16;\n            break;\n\n          case 14:\n            _context6.prev = 14;\n            _context6.t0 = _context6['catch'](1);\n\n          case 16:\n            return _context6.abrupt('return', data);\n\n          case 17:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this, [[1, 14]]);\n  }));\n\n  return function (_x11) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\nproto.autocompleteRequest = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref15.field,\n      value = _ref15.value;\n\n  var data, options;\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          data = [];\n          _context7.prev = 1;\n          options = {\n            field: this.getAutoFieldDependeciesParamField(field),\n            suggest: field + '|' + value,\n            unique: field\n          };\n\n          if (!(this.searchLayers.length === 1)) {\n            _context7.next = 9;\n            break;\n          }\n\n          _context7.next = 6;\n          return this.getLayerFilterData(this.searchLayer, options);\n\n        case 6:\n          data = _context7.sent;\n          _context7.next = 12;\n          break;\n\n        case 9:\n          _context7.next = 11;\n          return this.getLayersFilterData(this.searchLayers, options);\n\n        case 11:\n          data = _context7.sent;\n\n        case 12:\n          _context7.next = 17;\n          break;\n\n        case 14:\n          _context7.prev = 14;\n          _context7.t0 = _context7['catch'](1);\n\n          console.log(_context7.t0);\n\n        case 17:\n          return _context7.abrupt('return', data.map(function (value) {\n            return {\n              id: value,\n              text: value\n            };\n          }));\n\n        case 18:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this, [[1, 14]]);\n}));\n\n/**\n * Method to run search\n * @param filter\n * @param search_endpoint\n * @param queryUrl\n * @param feature_count\n * @param show\n * @returns {Promise<void|unknown>}\n */\nproto.doSearch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      filter = _ref17.filter,\n      _ref17$search_endpoin = _ref17.search_endpoint,\n      search_endpoint = _ref17$search_endpoin === undefined ? this.getSearchEndPoint() : _ref17$search_endpoin,\n      _ref17$queryUrl = _ref17.queryUrl,\n      queryUrl = _ref17$queryUrl === undefined ? this.url : _ref17$queryUrl,\n      _ref17$feature_count = _ref17.feature_count,\n      feature_count = _ref17$feature_count === undefined ? 10000 : _ref17$feature_count,\n      _ref17$show = _ref17.show,\n      show = _ref17$show === undefined ? this.show : _ref17$show;\n\n  var data, relationId, _ref18, _ref18$features, features, relation, inputs, referencedLayer, _relation$fieldRef, referencedField, referencingField, uniqueValues, layer, _filter, dataPromise, SearchPanel, add_panel;\n\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          filter = filter || this.createFilter();\n          // call a generic method of layer\n          data = void 0;\n\n          this.state.searching = true;\n          _context8.prev = 3;\n          _context8.next = 6;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: this.searchLayers,\n              search_endpoint: search_endpoint,\n              filter: filter,\n              queryUrl: queryUrl,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count,\n              raw: this.return === 'search' // parameter to get raw response\n            },\n            outputs: show && {\n              title: this.state.title\n            }\n          });\n\n        case 6:\n          data = _context8.sent;\n\n          if (!show) {\n            _context8.next = 11;\n            break;\n          }\n\n          // in case of autozoom_query\n          if (this.project.state.autozoom_query && data && data.data.length === 1) {\n            this.mapService.zoomToFeatures(data.data[0].features);\n          }\n          _context8.next = 38;\n          break;\n\n        case 11:\n          if (!(this.type === 'search_1n')) {\n            _context8.next = 31;\n            break;\n          }\n\n          relationId = this.config.options.search_1n_relationid;\n          _ref18 = data.data[0] || {}, _ref18$features = _ref18.features, features = _ref18$features === undefined ? [] : _ref18$features;\n          // check if has features on result\n\n          if (!features.length) {\n            _context8.next = 28;\n            break;\n          }\n\n          relation = this.project.getRelationById(relationId);\n          inputs = [];\n\n          if (!relation) {\n            _context8.next = 26;\n            break;\n          }\n\n          referencedLayer = relation.referencedLayer, _relation$fieldRef = relation.fieldRef, referencedField = _relation$fieldRef.referencedField, referencingField = _relation$fieldRef.referencingField;\n          uniqueValues = new Set();\n\n          features.forEach(function (feature) {\n            var value = feature.getProperties()[referencingField];\n            if (!uniqueValues.has(value)) {\n              uniqueValues.add(value);\n              inputs.push({\n                attribute: referencedField,\n                logicop: \"OR\",\n                operator: \"eq\",\n                value: value\n              });\n            }\n          });\n          layer = this.project.getLayerById(referencedLayer);\n          _filter = createFilterFormInputs({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            inputs: inputs\n          });\n          _context8.next = 25;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              search_endpoint: search_endpoint,\n              filter: _filter,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count\n            },\n            outputs: {\n              title: this.state.title\n            }\n          });\n\n        case 25:\n          data = _context8.sent;\n\n        case 26:\n          _context8.next = 29;\n          break;\n\n        case 28:\n          _data3.default.showEmptyOutputs();\n\n        case 29:\n          _context8.next = 38;\n          break;\n\n        case 31:\n          _context8.t0 = this.return;\n          _context8.next = _context8.t0 === 'search' ? 34 : 38;\n          break;\n\n        case 34:\n          _gui2.default.closeContent();\n          // in case of api get first response on array\n          data = data.data[0].data;\n          if (isEmptyObject(data)) {\n            dataPromise = Promise.resolve({});\n\n            _data3.default.showCustomOutputDataPromise(dataPromise);\n          } else {\n            SearchPanel = require('gui/search/vue/panel/searchpanel');\n            add_panel = new SearchPanel(data);\n\n            add_panel.show();\n          }\n          return _context8.abrupt('break', 38);\n\n        case 38:\n          _context8.next = 42;\n          break;\n\n        case 40:\n          _context8.prev = 40;\n          _context8.t1 = _context8['catch'](3);\n\n        case 42:\n          this.state.searching = false;\n          return _context8.abrupt('return', data);\n\n        case 44:\n        case 'end':\n          return _context8.stop();\n      }\n    }\n  }, _callee8, this, [[3, 40]]);\n}));\n\nproto.filterValidFormInputs = function () {\n  return this.state.forminputs.filter(function (input) {\n    return NONVALIDVALUES.indexOf(input.value) === -1 && input.value.toString().trim() !== '';\n  });\n};\n\n/**\n *\n * @returns {string|*|string}\n */\nproto.getSearchEndPoint = function () {\n  return this.search_endpoint || this.searchLayer.getSearchEndPoint();\n};\n\n/*\n* type wms, vector (for vector api)\n* */\nproto.createFilter = function () {\n  var search_endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSearchEndPoint();\n\n  var inputs = this.filterValidFormInputs();\n  return createFilterFormInputs({\n    layer: this.searchLayers,\n    inputs: inputs,\n    search_endpoint: search_endpoint\n  });\n};\n\nproto._run = function () {\n  this.doSearch();\n};\n\n/**\n * Method called when input search change\n * @param id\n * @param value\n */\nproto.changeInput = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref19.id,\n      value = _ref19.value;\n\n  var input = this.state.forminputs.find(function (input) {\n    return id == input.id;\n  });\n  input.value = value;\n};\n\nproto.createQueryFilterFromConfig = function (_ref20) {\n  var filter = _ref20.filter;\n\n  var queryFilter = void 0;\n  function createOperatorObject(inputObj) {\n    for (var _operator in inputObj) {\n      var input = inputObj[_operator];\n      if (Array.isArray(input)) {\n        createBooleanObject(_operator, input);\n        break;\n      }\n    }\n    var field = inputObj.attribute;\n    var operator = inputObj.op;\n    var evalObject = {};\n    evalObject[operator] = {};\n    evalObject[operator][field] = null;\n    return evalObject;\n  }\n\n  function createBooleanObject(booleanOperator) {\n    var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var booleanObject = {};\n    booleanObject[booleanOperator] = [];\n    inputs.forEach(function (input) {\n      booleanObject[booleanOperator].push(createOperatorObject(input));\n    });\n    return booleanObject;\n  }\n\n  for (var operator in filter) {\n    var inputs = filter[operator];\n    queryFilter = createBooleanObject(operator, inputs);\n  }\n  return queryFilter;\n};\n\nproto.getFilterInputFromField = function (field) {\n  return this.filter.find(function (input) {\n    return input.attribute === field;\n  });\n};\n\nproto._getExpressionOperatorFromInput = function (field) {\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  return dependanceCascadeField ? dependanceCascadeField.op : null;\n};\n\nproto._getCascadeDependanciesFilter = function (field) {\n  var dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  var dependance = dependanceCascadeField.input.options.dependance;\n  if (dependance) {\n    dependencies.unshift(dependance);\n    this._getCascadeDependanciesFilter(dependance, dependencies);\n  }\n  return dependencies;\n};\n\n/**\n * Check if a field has a dependance\n * @param field\n * @returns {{}}\n */\nproto.getCurrentFieldDependance = function (field) {\n  var dependance = this.inputdependance[field];\n  // found a dependance\n  if (dependance) {\n    // check if as value\n    if (this.cachedependencies[dependance] && this.cachedependencies[dependance]._currentValue !== _constant.SEARCH_ALLVALUE) return _defineProperty({}, dependance, this.cachedependencies[dependance]._currentValue);\n    // otherwise se value of dependance undefined so it no add on list o field dependance\n    else return _defineProperty({}, dependance, undefined);\n  }\n  return dependance;\n};\n\n// check the current value of dependance\nproto.getDependanceCurrentValue = function (field) {\n  var dependance = this.inputdependance[field];\n  return dependance ? this.cachedependencies[dependance]._currentValue : this.state.forminputs.find(function (forminput) {\n    return forminput.attribute === field;\n  }).value;\n};\n\n// fill all dependencies inputs based on value\nproto.fillDependencyInputs = function () {\n  var _this4 = this;\n\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref23.field,\n      _ref23$subscribers = _ref23.subscribers,\n      subscribers = _ref23$subscribers === undefined ? [] : _ref23$subscribers,\n      _ref23$value = _ref23.value,\n      value = _ref23$value === undefined ? _constant.SEARCH_ALLVALUE : _ref23$value;\n\n  var isRoot = this.inputdependance[field] === undefined;\n  //check id inpute father is valid to search on subscribers\n  var invalidValue = value === _constant.SEARCH_ALLVALUE || value === null || value === undefined || value.toString().trim() === '';\n  return new Promise(function (resolve, reject) {\n    //loop over dependencies fields inputs\n    subscribers.forEach(function (subscribe) {\n      // in case of autocomplete reset values to empty array\n      if (subscribe.type === 'autocompletefield') subscribe.options.values.splice(0);else {\n        //set starting all values\n        if (subscribe.options._allvalues === undefined) subscribe.options._allvalues = [].concat(_toConsumableArray(subscribe.options.values));\n        //case of father is set an empty invalid value (all value example)\n        if (invalidValue) {\n          //subscribe has to set all valaues\n          subscribe.options.values.splice(0);\n          setTimeout(function () {\n            return subscribe.options.values = [].concat(_toConsumableArray(subscribe.options._allvalues));\n          });\n        } else subscribe.options.values.splice(1); //otherwise has to get first __ALL_VALUE\n      }\n      subscribe.value = subscribe.type !== 'selectfield' ? _constant.SEARCH_ALLVALUE : null;\n    });\n    // check i cache field values are set\n    _this4.cachedependencies[field] = _this4.cachedependencies[field] || {};\n    _this4.cachedependencies[field]._currentValue = value;\n    var notAutocompleteSubscribers = subscribers.filter(function (subscribe) {\n      return subscribe.type !== 'autocompletefield';\n    });\n    if (value && value !== _constant.SEARCH_ALLVALUE) {\n      var isCached = void 0;\n      var rootValues = void 0;\n      if (isRoot) {\n        var cachedValue = _this4.cachedependencies[field] && _this4.cachedependencies[field][value];\n        isCached = cachedValue !== undefined;\n        rootValues = isCached && cachedValue;\n      } else {\n        var dependenceCurrentValue = _this4.getDependanceCurrentValue(field);\n        var _cachedValue = _this4.cachedependencies[field] && _this4.cachedependencies[field][dependenceCurrentValue] && _this4.cachedependencies[field][dependenceCurrentValue][value];\n        isCached = _cachedValue !== undefined;\n        rootValues = isCached && _cachedValue;\n      }\n      if (isCached) {\n        for (var i = 0; i < subscribers.length; i++) {\n          var subscribe = subscribers[i];\n          var values = rootValues[subscribe.attribute];\n          if (values && values.length) {\n            for (var _i = 0; _i < values.length; _i++) {\n              subscribe.options.values.push(values[_i]);\n            }\n          }\n          // set disabled false to dependence field\n          subscribe.options.disabled = false;\n          resolve();\n        }\n      } else {\n        _this4.state.loading[field] = true;\n        if (isRoot) _this4.cachedependencies[field][value] = _this4.cachedependencies[field][value] || {};else {\n          var dependenceValue = _this4.getDependanceCurrentValue(field);\n          _this4.cachedependencies[field][dependenceValue] = _this4.cachedependencies[field][dependenceValue] || {};\n          _this4.cachedependencies[field][dependenceValue][value] = _this4.cachedependencies[field][dependenceValue][value] || {};\n        }\n        // exclude autocomplete subscribers\n        if (notAutocompleteSubscribers.length) {\n          var fieldParams = _this4.createFieldsDependenciesAutocompleteParameter({\n            field: field,\n            value: value\n          });\n          //need to set undefined because if we has a subscribe input with valuerelations widget i need to extract the value of the field to get\n          // filter data from relation layer\n          _this4.searchLayer.getFilterData({\n            field: fieldParams\n          }).then(function () {\n            var _ref24 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(data) {\n              var parentData, _loop2, _i2;\n\n              return regeneratorRuntime.wrap(function _callee9$(_context10) {\n                while (1) {\n                  switch (_context10.prev = _context10.next) {\n                    case 0:\n                      parentData = data.data[0].features || [];\n                      _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i2) {\n                        var subscribe, attribute, widget, uniqueValues, _values, _data, filter, _values2, _dependenceValue;\n\n                        return regeneratorRuntime.wrap(function _loop2$(_context9) {\n                          while (1) {\n                            switch (_context9.prev = _context9.next) {\n                              case 0:\n                                subscribe = notAutocompleteSubscribers[_i2];\n                                attribute = subscribe.attribute, widget = subscribe.widget;\n                                uniqueValues = new Set();\n                                // case value map\n\n                                if (!(widget === 'valuemap')) {\n                                  _context9.next = 11;\n                                  break;\n                                }\n\n                                _values = [].concat(_toConsumableArray(subscribe.options._values));\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _data = [].concat(_toConsumableArray(uniqueValues));\n\n                                _values = _values.filter(function (_ref25) {\n                                  var key = _ref25.key;\n                                  return _data.indexOf(key) !== -1;\n                                });\n                                _values.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context9.next = 29;\n                                break;\n\n                              case 11:\n                                if (!(widget === 'valuerelation')) {\n                                  _context9.next = 27;\n                                  break;\n                                }\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n\n                                if (!(uniqueValues.size > 0)) {\n                                  _context9.next = 25;\n                                  break;\n                                }\n\n                                filter = createSingleFieldParameter({\n                                  field: subscribe.options.key,\n                                  value: [].concat(_toConsumableArray(uniqueValues))\n                                });\n                                _context9.prev = 15;\n                                _context9.next = 18;\n                                return _this4.getValueRelationValues(subscribe, filter);\n\n                              case 18:\n                                _values2 = _context9.sent;\n\n                                _values2.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context9.next = 25;\n                                break;\n\n                              case 22:\n                                _context9.prev = 22;\n                                _context9.t0 = _context9['catch'](15);\n                                console.log(_context9.t0);\n\n                              case 25:\n                                _context9.next = 29;\n                                break;\n\n                              case 27:\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _this4.valuesToKeysValues([].concat(_toConsumableArray(uniqueValues)).sort()).forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n\n                              case 29:\n                                if (isRoot) _this4.cachedependencies[field][value][subscribe.attribute] = subscribe.options.values.slice(1);else {\n                                  _dependenceValue = _this4.getDependanceCurrentValue(field);\n\n                                  _this4.cachedependencies[field][_dependenceValue][value][subscribe.attribute] = subscribe.options.values.slice(1);\n                                }\n                                subscribe.options.disabled = false;\n\n                              case 31:\n                              case 'end':\n                                return _context9.stop();\n                            }\n                          }\n                        }, _loop2, _this4, [[15, 22]]);\n                      });\n                      _i2 = 0;\n\n                    case 3:\n                      if (!(_i2 < notAutocompleteSubscribers.length)) {\n                        _context10.next = 8;\n                        break;\n                      }\n\n                      return _context10.delegateYield(_loop2(_i2), 't0', 5);\n\n                    case 5:\n                      _i2++;\n                      _context10.next = 3;\n                      break;\n\n                    case 8:\n                    case 'end':\n                      return _context10.stop();\n                  }\n                }\n              }, _callee9, _this4);\n            }));\n\n            return function (_x19) {\n              return _ref24.apply(this, arguments);\n            };\n          }()).catch(function (error) {\n            return reject(error);\n          }).finally(function () {\n            _this4.state.loading[field] = false;\n            resolve();\n          });\n        } else {\n          //set disable\n          subscribers.forEach(function (subscribe) {\n            if (subscribe.options.dependance_strict) subscribe.options.disabled = false;\n          });\n          _this4.state.loading[field] = false;\n          resolve();\n        }\n      }\n    } else {\n      subscribers.forEach(function (subscribe) {\n        return subscribe.options.disabled = subscribe.options.dependance_strict;\n      });\n      resolve();\n    }\n  });\n};\n\nproto.getDependencies = function (field) {\n  return this.inputdependencies[field] || [];\n};\n\nproto.setInputDependencies = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      master = _ref26.master,\n      slave = _ref26.slave;\n\n  this.inputdependencies[master] = this.inputdependencies[master] !== undefined ? this.inputdependencies[master] : [];\n  this.inputdependencies[master].push(slave);\n};\n\n//set key value for select\nproto.valuesToKeysValues = function (values) {\n  if (values.length) {\n    var type = toRawType(values[0]);\n    values = type !== 'Object' ? values.map(function (value) {\n      return {\n        key: value,\n        value: value\n      };\n    }) : values;\n  }\n  return values;\n};\n\nproto.createQueryFilterObject = function () {\n  var _ref27 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref27$ogcService = _ref27.ogcService,\n      ogcService = _ref27$ogcService === undefined ? 'wms' : _ref27$ogcService,\n      _ref27$filter = _ref27.filter,\n      filter = _ref27$filter === undefined ? {} : _ref27$filter;\n\n  var info = this.getInfoFromLayer(ogcService);\n  Object.assign(info, {\n    ogcService: ogcService,\n    filter: filter\n  });\n  return info;\n};\n\nproto.getInfoFromLayer = function (ogcService) {\n  var queryUrl = ogcService === 'wfs' ? this.searchLayer.getProject().getWmsUrl() : this.searchLayer.getQueryUrl();\n  return {\n    url: queryUrl,\n    layers: [],\n    infoFormat: this.searchLayer.getInfoFormat(ogcService),\n    crs: this.searchLayer.getCrs(),\n    serverType: this.searchLayer.getServerType()\n  };\n};\n\nproto.setSearchLayer = function (layer) {\n  this.searchLayer = layer;\n};\n\nproto.getSearchLayer = function () {\n  return this.searchLayer;\n};\n\nproto.clear = function () {\n  this.state = null;\n};\n\nmodule.exports = SearchService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/search/vue/panel/searchpanel\":174,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],176:[function(require,module,exports){\nvar _Search = require('components/Search.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Search);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/search/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"search\";\n  this._service = options.service || new Service();\n  this._service.init();\n  this.title = this._service.getTitle();\n  this.internalComponent = new InternalComponent({\n    service: this._service\n  });\n  this.internalComponent.state = this._service.state;\n  this.state.visible = true;\n  this._reload = function () {\n    this._service.reload();\n  };\n  this.unmount = function () {\n    this._searches_searchtools.$destroy();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(SearchComponent, Component);\n\nmodule.exports = SearchComponent;\n\n},{\"components/Search.vue\":285,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/search/service\":173}],177:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nexports.default = new Vue();\n\n},{}],178:[function(require,module,exports){\nvar _SpatialBookMarks = require('components/SpatialBookMarks.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SpatialBookMarks);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @file\n * @since v3.8\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar SpatialBookMarksComponent = function SpatialBookMarksComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.spatialbookmarks.title\";\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent();\n    return this.internalComponent;\n  };\n\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(SpatialBookMarksComponent, Component);\n\nmodule.exports = SpatialBookMarksComponent;\n\n},{\"components/SpatialBookMarks.vue\":295,\"core/utils/utils\":67,\"gui/component/component\":114,\"services/gui\":356}],179:[function(require,module,exports){\nvar _StreetView = require('components/StreetView.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_StreetView);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar StreetViewComponent = function StreetViewComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var keyError = options.keyError;\n\n  var internalComponent = new InternalComponent({\n    keyError: keyError\n  });\n  this.setInternalComponent(internalComponent);\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n};\n\ninherit(StreetViewComponent, Component);\n\nmodule.exports = StreetViewComponent;\n\n},{\"components/StreetView.vue\":296,\"core/utils/utils\":67,\"gui/component/component\":114}],180:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('core/utils/geo'),\n    coordinatesToGeometry = _require3.coordinatesToGeometry;\n\nvar _require4 = require('core/layers/layer'),\n    SELECTION_STATE = _require4.SELECTION_STATE;\n\nvar PAGELENGTHS = [10, 25, 50];\n\nvar TableService = function TableService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.currentPage = 0; // number of pages\n  this.layer = options.layer;\n  this.formatter = options.formatter;\n  var headers = this.getHeaders();\n  this.allfeaturesnumber;\n  this.nopaginationsfilter = [];\n  this.selectedfeaturesfid = this.layer.getSelectionFids();\n  this.geolayer = this.layer.isGeoLayer();\n  this.relationsGeometry = [];\n  !this.geolayer && this.layer.getRelations().getArray().forEach(function (relation) {\n    var relationLayer = _catalogLayers2.default.getLayerById(relation.getChild());\n    if (relationLayer.isGeoLayer()) {\n      _this.relationsGeometry.push({\n        layer: relationLayer,\n        child_field: relation.getChildField(),\n        field: relation.getFatherField(),\n        features: {}\n      });\n    }\n  });\n  this.projection = this.geolayer ? this.layer.getProjection() : null;\n  this.mapService = _gui2.default.getService('map');\n  this.getAll = false;\n  this.paginationfilter = false;\n  this.mapBBoxEventHandlerKey = {\n    key: null,\n    cb: null\n  };\n  this.clearAllSelection = function () {\n    _this.state.features.forEach(function (feature) {\n      return feature.selected = false;\n    });\n    _this.state.tools.show = false;\n    _this.state.selectAll = false;\n  };\n  this.state = {\n    pageLengths: PAGELENGTHS,\n    pageLength: this.layer.getAttributeTablePageLength() || PAGELENGTHS[0],\n    features: [],\n    title: this.layer.getTitle(),\n    headers: headers,\n    geometry: true,\n    loading: false,\n    allfeatures: 0,\n    pagination: !this.getAll,\n    selectAll: false,\n    nofilteredrow: false,\n    tools: {\n      geolayer: {\n        show: this.geolayer,\n        active: false,\n        in_bbox: void 0\n      },\n      show: false,\n      filter: this.layer.state.filter\n    }\n  };\n  // pagination filter features\n  this._async = {\n    state: false,\n    fnc: noop\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    _this._async.state = options.perc === 100;\n  });\n  this.layer.on('unselectionall', this.clearAllSelection);\n  this.filterChangeHandler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref2.type;\n\n    var data, emitRedraw;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _this.allfeaturesnumber = undefined;\n            data = [];\n            // emit redraw if in_bbox filter or not select all\n\n            emitRedraw = type === 'in_bbox' || !_this.selectedfeaturesfid.has(SELECTION_STATE.ALL);\n\n            if (_this.state.pagination) {\n              _context.next = 12;\n              break;\n            }\n\n            if (!emitRedraw) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _this.reloadData();\n\n          case 7:\n            _context.t0 = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t0 = [];\n\n          case 11:\n            data = _context.t0;\n\n          case 12:\n            emitRedraw && _this.emit('redraw', data);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n  this.layer.on('filtertokenchange', this.filterChangeHandler);\n};\n\ninherit(TableService, G3WObject);\n\nvar proto = TableService.prototype;\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return this.layer.toggleFilterToken();\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.getHeaders = function () {\n  //add null as firs vale of header because need to add a custom input selector fro datatable purpose\n  return [null].concat(_toConsumableArray(this.layer.getTableHeaders()));\n};\n\n// function need to work with pagination\nproto.setDataForDataTable = function () {\n  var _this2 = this;\n\n  var data = [];\n  this.state.features.forEach(function (feature) {\n    var attributes = feature.attributes ? feature.attributes : feature.properties;\n    var values = [null];\n    _this2.state.headers.forEach(function (header) {\n      if (header) {\n        var value = attributes[header.name];\n        header.value = value;\n        //header.label = undefined; // removed label\n        values.push(value);\n      }\n    });\n    data.push(values);\n  });\n  return data;\n};\n\nproto.addRemoveSelectedFeature = function (feature) {\n  feature.selected = !feature.selected;\n  if (this.state.selectAll) {\n    this.state.selectAll = false;\n    this.layer.excludeSelectionFid(feature.id, this.state.pagination);\n  } else if (this.selectedfeaturesfid.has(SELECTION_STATE.EXCLUDE)) {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var size = this.selectedfeaturesfid.size;\n    if (size === 1) {\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n      this.state.selectAll = true;\n    } else if (size - 1 === this.state.features.length) this.layer.clearSelectionFids();\n  } else {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var _size = this.selectedfeaturesfid.size;\n    if (_size === this.allfeaturesnumber) {\n      this.state.selectAll = true;\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n    }\n  }\n  this.state.tools.show = this.selectedfeaturesfid.size > 0;\n  if (!this.state.pagination) {\n    if (this.nopaginationsfilter.length) {\n      this.state.selectAll = this.state.features.filter(function (feature) {\n        return feature.selected;\n      }).length === this.nopaginationsfilter.length;\n    }\n  }\n};\n\nproto.createFeatureForSelection = function (feature) {\n  return {\n    attributes: feature.attributes ? feature.attributes : feature.properties,\n    geometry: this._returnGeometry(feature)\n  };\n};\n\nproto.getAllFeatures = function (params) {\n  var _this3 = this;\n\n  _gui2.default.setLoadingContent(true);\n  return new Promise(function (resolve, reject) {\n    _this3.layer.getDataTable(params || {}).then(function (data) {\n      var features = data.features;\n\n      if (_this3.geolayer && features) {\n        if (!params) {\n          var LoadedFeaturesId = _this3.state.features.map(function (feature) {\n            return feature.id;\n          });\n          features.forEach(function (feature) {\n            if (LoadedFeaturesId.indexOf(feature.id) === -1) {\n              feature.geometry && _this3.layer.addOlSelectionFeature({\n                id: feature.id,\n                feature: _this3.createFeatureForSelection(feature)\n              });\n            }\n          });\n          _this3.getAll = true;\n        }\n        resolve(features);\n      }\n    }).fail(function () {\n      return reject();\n    }).always(function () {\n      return _gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.switchSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _this4 = this;\n\n  var selected, filterFeatures, _selected;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (this.state.pagination) {\n            _context3.next = 4;\n            break;\n          }\n\n          // no pagination\n          if (this.nopaginationsfilter.length) {\n            //filtered\n            selected = false;\n            filterFeatures = [];\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this4.nopaginationsfilter.indexOf(index) !== -1) filterFeatures.push(feature);\n              feature.selected = !feature.selected;\n              _this4.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n              selected = selected || feature.selected;\n            });\n            this.state.tools.show = selected;\n            this.checkSelectAll(filterFeatures);\n          } else {\n            // no filter\n            this.state.features.forEach(function (feature) {\n              feature.selected = !feature.selected;\n            });\n            this.layer.invertSelectionFids();\n            this.checkSelectAll();\n            this.state.tools.show = this.selectedfeaturesfid.size > 0;\n          }\n          _context3.next = 13;\n          break;\n\n        case 4:\n          // pagination\n          _selected = false;\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = !feature.selected;\n            _selected = feature.selected;\n          });\n          _context3.t0 = !this.getAll;\n\n          if (!_context3.t0) {\n            _context3.next = 10;\n            break;\n          }\n\n          _context3.next = 10;\n          return this.getAllFeatures();\n\n        case 10:\n          this.state.selectAll = this.paginationfilter ? _selected : this.state.selectAll;\n          this.layer.invertSelectionFids();\n          this.state.tools.show = this.selectedfeaturesfid.size > 0;\n\n        case 13:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\nproto.clearLayerSelection = function () {\n  this.layer.clearSelectionFids();\n};\n\n/**\n * Called when alla selected feature is checked\n * @returns {Promise<void>}\n */\nproto.selectAllFeatures = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  var _this5 = this;\n\n  var selected, _paginationParams, search, ordering, formatter, in_bbox, features;\n\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // set inverse of selectAll\n          this.state.selectAll = !this.state.selectAll;\n\n          if (this.state.pagination) {\n            _context4.next = 5;\n            break;\n          }\n\n          //no pagination no filter\n          if (this.nopaginationsfilter.length) {\n            //check if filter is set (no pagination)\n            selected = false;\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this5.nopaginationsfilter.indexOf(index) !== -1) {\n                feature.selected = _this5.state.selectAll;\n                _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n                selected = selected || feature.selected;\n              }\n            });\n            this.state.tools.show = selected;\n          } else {\n            this.state.tools.show = this.state.selectAll;\n            this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n            this.state.features.forEach(function (feature) {\n              return feature.selected = _this5.state.selectAll;\n            });\n          }\n          _context4.next = 25;\n          break;\n\n        case 5:\n          if (!this.paginationfilter) {\n            _context4.next = 18;\n            break;\n          }\n\n          if (!(this.state.featurescount >= this.state.allfeatures)) {\n            _context4.next = 10;\n            break;\n          }\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = _this5.state.selectAll;\n            _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n          _context4.next = 15;\n          break;\n\n        case 10:\n          _paginationParams = this.paginationParams, search = _paginationParams.search, ordering = _paginationParams.ordering, formatter = _paginationParams.formatter, in_bbox = _paginationParams.in_bbox;\n          _context4.next = 13;\n          return this.getAllFeatures({\n            search: search,\n            ordering: ordering,\n            formatter: formatter,\n            in_bbox: in_bbox\n          });\n\n        case 13:\n          features = _context4.sent;\n\n          features.forEach(function (feature) {\n            !_this5.getAll && _this5.geolayer && feature.geometry && _this5.layer.addOlSelectionFeature({\n              id: feature.id,\n              feature: _this5.createFeatureForSelection(feature)\n            });\n            _this5.layer[_this5.state.selectAll ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n\n        case 15:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.next = 24;\n          break;\n\n        case 18:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.t0 = !this.getAll;\n\n          if (!_context4.t0) {\n            _context4.next = 23;\n            break;\n          }\n\n          _context4.next = 23;\n          return this.getAllFeatures();\n\n        case 23:\n          this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n\n        case 24:\n          this.state.tools.show = this.state.selectAll || this.selectedfeaturesfid.size > 0;\n\n        case 25:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this);\n}));\n\n/**\n * Method to set filtered features\n * @param featuresIndex\n */\nproto.setFilteredFeature = function (featuresIndex) {\n  var _this6 = this;\n\n  this.nopaginationsfilter = featuresIndex;\n  this.checkSelectAll(featuresIndex.length === this.allfeaturesnumber || featuresIndex.length === 0 ? undefined : this.nopaginationsfilter.map(function (index) {\n    return _this6.state.features[index];\n  }));\n};\n\nproto.setAttributeTablePageLength = function (length) {\n  this.layer.setAttributeTablePageLength(length);\n};\n\n/**\n * Main method to get data table layer\n * @param start\n * @param order\n * @param length\n * @param columns\n * @param search\n * @param firstCall\n * @returns {Promise<unknown>}\n */\nproto.getData = function () {\n  var _this7 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$start = _ref6.start,\n      start = _ref6$start === undefined ? 0 : _ref6$start,\n      _ref6$order = _ref6.order,\n      order = _ref6$order === undefined ? [] : _ref6$order,\n      _ref6$length = _ref6.length,\n      length = _ref6$length === undefined ? this.state.pageLength : _ref6$length,\n      _ref6$columns = _ref6.columns,\n      columns = _ref6$columns === undefined ? [] : _ref6$columns,\n      _ref6$search = _ref6.search,\n      search = _ref6$search === undefined ? { value: null } : _ref6$search,\n      _ref6$firstCall = _ref6.firstCall,\n      firstCall = _ref6$firstCall === undefined ? false : _ref6$firstCall;\n\n  // reset features before load\n  _gui2.default.setLoadingContent(true);\n  this.setAttributeTablePageLength(length);\n  return new Promise(function (resolve, reject) {\n    if (!_this7.state.headers.length) resolve({\n      data: [],\n      recordsTotal: 0,\n      recordsFiltered: 0\n    });else {\n      var searchText = search.value && search.value.length > 0 ? search.value : null;\n      _this7.state.features.splice(0);\n      if (!order.length) {\n        order.push({\n          column: 1,\n          dir: 'asc'\n        });\n      }\n      var ordering = order[0].dir === 'asc' ? _this7.state.headers[order[0].column].name : '-' + _this7.state.headers[order[0].column].name;\n      _this7.currentPage = start === 0 || _this7.state.pagination && _this7.state.tools.filter.active ? 1 : start / length + 1;\n      var in_bbox = _this7.state.tools.geolayer.in_bbox;\n      var field = _this7.state.pagination ? columns.filter(function (column) {\n        return column.search && column.search.value;\n      }).map(function (column) {\n        return column.name + '|ilike|' + column.search.value + '|and';\n      }).join(',') : undefined;\n      _this7.paginationParams = {\n        field: field || undefined,\n        page: _this7.currentPage,\n        page_size: length,\n        search: searchText,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter,\n        ordering: ordering\n      };\n      var getDataPromise = _this7.state.pagination ? _this7.layer.getDataTable(_this7.paginationParams) : _this7.layer.getDataTable({\n        ordering: ordering,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter\n      });\n      getDataPromise.then(function (data) {\n        var _data$features = data.features,\n            features = _data$features === undefined ? [] : _data$features;\n\n        _this7.state.allfeatures = data.count || _this7.state.features.length;\n        _this7.state.featurescount = features.length;\n        _this7.allfeaturesnumber = _this7.allfeaturesnumber === undefined ? data.count : _this7.allfeaturesnumber;\n        _this7.paginationfilter = data.count !== _this7.allfeaturesnumber;\n        _this7.state.pagination = firstCall ? _this7.state.tools.filter.active || features.length < _this7.allfeaturesnumber : _this7.state.pagination;\n        _this7.addFeatures(features);\n        resolve({\n          data: _this7.setDataForDataTable(),\n          recordsFiltered: data.count,\n          recordsTotal: data.count\n        });\n      }).fail(function (err) {\n        _gui2.default.notify.error(t(\"info.server_error\"));\n        reject(err);\n      }).always(function () {\n        _gui2.default.setLoadingContent(false);\n      });\n    }\n  });\n};\n\nproto.setInBBoxParam = function () {\n  this.state.tools.geolayer.in_bbox = this.state.tools.geolayer.active ? this.mapService.getMapBBOX().join(',') : void 0;\n};\n\nproto.resetMapBBoxEventHandlerKey = function () {\n  ol.Observable.unByKey(this.mapBBoxEventHandlerKey.key);\n  this.mapBBoxEventHandlerKey.key = null;\n  this.mapBBoxEventHandlerKey.cb = null;\n};\n\nproto.getDataFromBBOX = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _this8 = this;\n\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          this.state.tools.geolayer.active = !this.state.tools.geolayer.active;\n          if (this.state.tools.geolayer.active) {\n            this.mapBBoxEventHandlerKey.cb = this.state.pagination ? function () {\n              _this8.setInBBoxParam();\n              _this8.emit('ajax-reload');\n            } : _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n              return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      _this8.setInBBoxParam();\n                      _this8.filterChangeHandler({\n                        type: 'in_bbox'\n                      });\n\n                    case 2:\n                    case 'end':\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5, _this8);\n            }));\n            this.mapBBoxEventHandlerKey.key = this.mapService.getMap().on('moveend', this.mapBBoxEventHandlerKey.cb);\n            this.mapBBoxEventHandlerKey.cb();\n          } else {\n            this.mapBBoxEventHandlerKey.cb && this.mapBBoxEventHandlerKey.cb();\n            this.resetMapBBoxEventHandlerKey();\n          }\n\n        case 2:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this);\n}));\n\nproto.addFeature = function (feature) {\n  var tableFeature = {\n    id: feature.id,\n    selected: this.state.tools.filter.active || this.layer.hasSelectionFid(feature.id),\n    attributes: feature.attributes ? feature.attributes : feature.properties\n  };\n  if (this.geolayer && feature.geometry) {\n    this.layer.getOlSelectionFeature(tableFeature.id) || this.layer.addOlSelectionFeature({\n      id: tableFeature.id,\n      feature: this.createFeatureForSelection(feature)\n    });\n    tableFeature.geometry = feature.geometry;\n  }\n  this.state.features.push(tableFeature);\n};\n\nproto.checkSelectAll = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.features;\n\n  this.state.selectAll = this.selectedfeaturesfid.has(SELECTION_STATE.ALL) || features.length && features.reduce(function (accumulator, feature) {\n    return accumulator && feature.selected;\n  }, true);\n};\n\nproto.addFeatures = function () {\n  var _this9 = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this9.addFeature(feature);\n  });\n  this.state.tools.show = this.layer.getFilterActive() || this.selectedfeaturesfid.size > 0;\n  this.checkSelectAll();\n};\n\nproto.reloadData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var pagination = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var tabledata, _tabledata$data, data, reloadData;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          this.state.features.splice(0);\n          this.state.pagination = pagination;\n          _context7.next = 4;\n          return this.getData();\n\n        case 4:\n          tabledata = _context7.sent;\n          _tabledata$data = tabledata.data, data = _tabledata$data === undefined ? [] : _tabledata$data, reloadData = tabledata.reloadData;\n          return _context7.abrupt('return', data);\n\n        case 7:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this);\n}));\n\nproto._setLayout = function () {\n  //TODO\n};\n\nproto._returnGeometry = function (feature) {\n  var geometry = void 0;\n  if (feature.attributes) geometry = feature.geometry;else if (feature.geometry) geometry = coordinatesToGeometry(feature.geometry.type, feature.geometry.coordinates);\n  return geometry;\n};\n\nproto.zoomAndHighLightFeature = function (feature) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var geometry = feature.geometry;\n  if (geometry) {\n    if (this._async.state) this._async.fnc = this.mapService.highlightGeometry.bind(mapService, geometry, { zoom: zoom });else this.mapService.highlightGeometry(geometry, { zoom: zoom });\n  }\n};\n\n/**\n * Zoom to eventually features relation\n */\nproto.zoomAndHighLightGeometryRelationFeatures = function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(feature) {\n    var _this10 = this;\n\n    var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var features, promises, values, promisesData;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!this.relationsGeometry.length) {\n              _context8.next = 10;\n              break;\n            }\n\n            features = [];\n            promises = [];\n            values = []; // usefult to check if add or not\n\n            this.relationsGeometry.forEach(function (_ref11) {\n              var layer = _ref11.layer,\n                  child_field = _ref11.child_field,\n                  field = _ref11.field,\n                  features = _ref11.features;\n\n              var value = feature.attributes[field];\n              values.push(value);\n              if (features[value] === undefined) {\n                var promise = void 0;\n                if (zoom) {\n                  promise = _data2.default.getData('search:features', {\n                    inputs: {\n                      layer: layer,\n                      filter: child_field + '|eq|' + value,\n                      formatter: 1, // set formatter to 1\n                      search_endpoint: 'api'\n                    },\n                    outputs: false\n                  });\n                } else promise = Promise.reject();\n                promises.push(promise);\n              } else promises.push(Promise.resolve({\n                data: [{\n                  features: features[value]\n                }]\n              }));\n            });\n            _context8.next = 7;\n            return Promise.allSettled(promises);\n\n          case 7:\n            promisesData = _context8.sent;\n\n            promisesData.forEach(function (_ref12, index) {\n              var status = _ref12.status,\n                  value = _ref12.value;\n\n              if (status === 'fulfilled') {\n                var _features = value.data[0] ? value.data[0].features : [];\n                _features.forEach(function (feature) {\n                  return features.push(feature);\n                });\n                if (_this10.relationsGeometry[index].features[values[index]] === undefined) {\n                  _this10.relationsGeometry[index].features[values[index]] = _features;\n                }\n              }\n            });\n            zoom ? this.mapService.zoomToFeatures(features, {\n              highlight: true\n            }) : this.mapService.highlightFeatures(features);\n\n          case 10:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n\n  return function (_x9) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nproto.clear = function () {\n  var _this11 = this;\n\n  this.layer.off('unselectionall', this.clearAllSelection);\n  this.layer.off('filtertokenchange', this.filterChangeHandler);\n  this.resetMapBBoxEventHandlerKey();\n  this.allfeaturesnumber = null;\n  this.mapService = null;\n  this._async.state && setTimeout(function () {\n    _this11._async.fnc();\n    _this11._async.state = false;\n    _this11._async.fnc = noop;\n  });\n};\n\nmodule.exports = TableService;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369}],181:[function(require,module,exports){\nvar _Table = require('components/Table.vue');\n\nvar _Table2 = _interopRequireDefault(_Table);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit;\n\nvar Component = require('gui/component/component');\nvar TableService = require('gui/table/tableservice');\n\nvar InternalComponent = Vue.extend(_Table2.default);\n\nvar TableComponent = function TableComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.id = \"openattributetable\";\n  var layer = options.layer,\n      formatter = options.formatter;\n\n  var service = options.service || new TableService({\n    layer: layer,\n    formatter: formatter\n  });\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n\n  service.on('redraw', function () {\n    _this.layout();\n  });\n\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(TableComponent, Component);\n\nvar proto = TableComponent.prototype;\n\n// overwrite show method\nproto.show = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = this.getService();\n  // close all sidebar open component\n  _gui2.default.closeOpenSideBarComponent();\n  service.getData({ firstCall: true }).then(function () {\n    _gui2.default.showContent({\n      content: _this2,\n      perc: 50,\n      split: _gui2.default.isMobile() ? 'h' : 'v',\n      push: false,\n      title: options.title\n    });\n  }).catch(function (err) {\n    return _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    return _this2.emit('show');\n  });\n};\n\nproto.unmount = function () {\n  var _this3 = this;\n\n  return base(this, 'unmount').then(function () {\n    _this3._service.clear();\n  });\n};\n\nmodule.exports = TableComponent;\n\n},{\"components/Table.vue\":297,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/table/tableservice\":180,\"services/gui\":356}],182:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"error-initial-page skin-background-color\\\">\\n  <template v-if=\\\"isMobile()\\\">\\n    <h3 class=\\\"oops\\\">Oops!</h3>\\n    <h5 class=\\\"cause\\\">{{messages.error}}</h5>\\n    <h6 class=\\\"at-moment\\\">{{ messages.at_moment }}</h6>\\n    <h4 class=\\\"f5\\\">{{ messages.f5}}</h4>\\n  </template>\\n  <template v-else>\\n    <h1 class=\\\"oops\\\">Oops!</h1>\\n    <h1 class=\\\"cause\\\">{{messages.error}}</h1>\\n    <h3 class=\\\"at-moment\\\">{{ messages.at_moment }}</h3>\\n    <h2 class=\\\"f5\\\">{{ messages.f5}}</h2>\\n  </template>\\n\\n</div>\\n\";\n\n},{}],183:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = null;\n  this.state = _extends({}, options, {\n    toolsGroups: [],\n    visible: false,\n    loading: false\n  });\n  this.setters = {\n    addTool: function addTool(tool, groupName) {\n      tool.state = tool.state ? tool.state : {\n        type: null,\n        message: null\n      };\n      return this._addTool(tool, groupName);\n    },\n    addTools: function addTools(tools, groupName) {\n      return this._addTools(tools, groupName);\n    },\n    addToolGroup: function addToolGroup(order, name) {\n      return this._addToolGroup(order, name);\n    },\n    removeToolGroup: function removeToolGroup(name) {\n      return this._removeToolGroup(name);\n    },\n    removeTools: function removeTools() {\n      return this._removeTools();\n    }\n  };\n\n  base(this);\n\n  var project = _projects2.default.getCurrentProject();\n\n  var _project$getState = project.getState(),\n      _project$getState$too = _project$getState.tools,\n      tools = _project$getState$too === undefined ? {} : _project$getState$too;\n\n  var _loop = function _loop(toolName) {\n    var groupName = toolName.toUpperCase();\n    _this.addToolGroup(0, groupName);\n    var _tools = tools[toolName].map(function (tool) {\n      return {\n        name: tool.name,\n        action: ToolsService.ACTIONS[toolName].bind(null, tool)\n      };\n    });\n    _this.addTools(_tools, { position: 0, title: groupName });\n  };\n\n  for (var toolName in tools) {\n    _loop(toolName);\n  }\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.reload = function () {\n  this.removeTools();\n};\n\nproto._addTool = function (tool, _ref) {\n  var order = _ref.position,\n      name = _ref.title;\n\n  var group = this._addToolGroup(order, name);\n  if (tool.action === undefined && tool.type) tool.action = Service.ACTIONS[tool.type] ? Service.ACTIONS[tool.type].bind(null, tool.options) : function () {};\n  group.tools.push(tool);\n};\n\nproto._addTools = function (tools, groupName) {\n  var _this2 = this;\n\n  tools.forEach(function (tool) {\n    return _this2.addTool(tool, groupName);\n  });\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto._removeTool = function (toolIdx) {\n  this.state.toolsGroups = this.state.toolsGroups.splice(toolIdx, 1);\n};\n\nproto._removeTools = function () {\n  this.state.toolsGroups.splice(0);\n};\n\nproto.updateToolsGroup = function (order, groupConfig) {\n  Vue.set(this.state.toolsGroups, order, groupConfig);\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._removeToolGroup = function (name) {\n  this.state.toolsGroups = this.state.toolsGroups.filter(function (group) {\n    return group.name !== name;\n  });\n};\n\nproto._addToolGroup = function (order, name) {\n  var group = this.state.toolsGroups.find(function (_group) {\n    return _group.name === name;\n  });\n  if (!group) {\n    group = {\n      name: name,\n      tools: []\n    };\n    this.state.toolsGroups.splice(order, 0, group);\n  }\n  return group;\n};\n\nproto.setToolState = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      _ref2$state = _ref2.state,\n      state = _ref2$state === undefined ? { type: null, message: null } : _ref2$state;\n\n  this.state.toolsGroups.find(function (toolGroup) {\n    var tool = toolGroup.tools.find(function (tool) {\n      return tool.name === id;\n    });\n    if (tool) {\n      tool.state.type = state.type;\n      tool.state.message = state.message;\n      return true;\n    }\n  });\n};\n\nService.ACTIONS = {};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"store/projects\":374}],184:[function(require,module,exports){\nvar _Tools = require('components/Tools.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Tools);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar ToolsService = require('gui/tools/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new ToolsService(options);\n  this.title = \"tools\";\n\n  var internalComponent = new InternalComponent({\n    toolsService: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent, {\n    events: [{ name: 'visible' }]\n  });\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/Tools.vue\":302,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/tools/service\":183,\"services/gui\":356}],185:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Component = require('gui/component/component');\nvar Panel = require('gui/panel');\n\n//Barstack Class\n// It used to mount panels stack\n// on top of each parent\nfunction BarStack() {\n  this._parent = null;\n  // barstack state. It store the panels array\n  this.state = {\n    contentsdata: []\n  };\n}\n\ninherit(BarStack, G3WObject);\n\nvar proto = BarStack.prototype;\n\n// push componenet on top of parent\nproto.push = function (content) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // parent identify the DOM element where insert (append o meno) the component/panel\n  this._parent = options.parent;\n  // call barstack mount method\n  return this._mount(content, options);\n};\n\n// remove last component from stack\nproto.pop = function () {\n  var _this = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var content = this.state.contentsdata.slice(-1)[0].content;\n    this._unmount(content).then(function () {\n      var content = _this.state.contentsdata.pop();\n      d.resolve(content);\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\n// clear all stack\nproto.clear = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var unmountRequests = [];\n    this.state.contentsdata.forEach(function (data) {\n      unmountRequests.push(_this2._unmount(data.content));\n    });\n    $.when(unmountRequests).then(function () {\n      _this2.state.contentsdata.splice(0, _this2.state.contentsdata.length);\n      d.resolve();\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\nproto.getContentData = function () {\n  return this.state.contentsdata;\n};\n\nproto.getCurrentContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 1];\n};\n\nproto.getPreviousContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 2];\n};\n\n// mount component\nproto._mount = function (content, options) {\n  // check the type of content:\n  // JQuery type\n  if (content instanceof jQuery) return this._setJqueryContent(content);\n  //String\n  else if (_.isString(content)) {\n      var jqueryEl = $(content);\n      if (!jqueryEl.length) jqueryEl = $('<div>' + content + '</div>');\n      return this._setJqueryContent(jqueryEl);\n    }\n    // Vue\n    else if (content.mount && typeof content.mount == 'function') {\n        this._checkDuplicateVueContent(content); // if already exist it removed before based on id\n        return this._setVueContent(content, options);\n      }\n      // DOM\n      else return this._setDOMContent(content);\n};\n\n// JQuery append jQuery component\nproto._setJqueryContent = function (content, options) {\n  $(this._parent).append(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n//Append DOM element\nproto._setDOMContent = function (content, options) {\n  this._parent.appendChild(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n// Mount component to parent\nproto._setVueContent = function (content) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  var append = options.append || false;\n  content.mount(this._parent, append).then(function () {\n    $(_this3._parent).localize();\n    // Insert the content into the array with the following attributes:\n    // content: component object\n    // options: es. title, perc etc ...\n    _this3.state.contentsdata.push({\n      content: content,\n      options: options\n    });\n    d.resolve(content);\n  });\n  return d.promise();\n};\n\n// Check duplicate Vue Content\nproto._checkDuplicateVueContent = function (content) {\n  var _this4 = this;\n\n  var idxToRemove = null;\n  var id = content.getId();\n  this.state.contentsdata.forEach(function (data, idx) {\n    if (data.content.getId && data.content.getId() == id) idxToRemove = idx;\n  });\n  if (!_.isNull(idxToRemove)) {\n    var data = this.state.contentsdata[idxToRemove];\n    data.content.unmount().then(function () {\n      return _this4.state.contentsdata.splice(idxToRemove, 1);\n    });\n  }\n};\n\n// unmount component\nproto._unmount = function (content) {\n  var d = $.Deferred();\n  if (content instanceof Component || content instanceof Panel) {\n    content.unmount().then(function () {\n      return d.resolve();\n    });\n  } else {\n    $(this._parent).empty();\n    d.resolve();\n  }\n  return d.promise();\n};\n\nproto.forEach = function (cbk) {\n  this.state.contentsdata.forEach(function (data) {\n    return cbk(data.content);\n  });\n};\n\n// Get lenght / numbero of element stored in stack\nproto.getLength = function () {\n  return this.state.contentsdata.length;\n};\n\nmodule.exports = BarStack;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/panel\":159}],186:[function(require,module,exports){\nmodule.exports = {\n  barstack: require('./barstack')\n};\n\n},{\"./barstack\":185}],187:[function(require,module,exports){\nvar _ViewportContentsViewer = require('components/ViewportContentsViewer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ViewportContentsViewer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar Component = require('gui/component/component');\n\n// Internal Component (VUE) of the content of the  viewport\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ContentsViewerComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.stack = new Stack();\n  this.setService(this);\n  this.title = \"contents\";\n  this.contentsdata = this.stack.state.contentsdata;\n  this.state.visible = true;\n  var internalComponent = new InternalComponent({\n    service: this\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = this.state;\n}\n\ninherit(ContentsViewerComponent, Component);\n\nvar proto = ContentsViewerComponent.prototype;\n\nproto.setContent = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$push = options.push,\n      push = _options$push === undefined ? false : _options$push,\n      content = options.content,\n      crumb = options.crumb;\n\n  var d = $.Deferred();\n  // clean the stack every time, sure to have just one component.\n  // Use barstack because it handle the logic og mounting component on DOM\n  if (push) {\n    this.addContent(content, options).then(function () {\n      return d.resolve(options);\n    });\n  } else {\n    // clear stack\n    this.clearContents().then(function () {\n      _this.addContent(content, options).then(function () {\n        return d.resolve(options);\n      });\n    });\n  }\n\n  this.setOpen(true);\n  return d.promise();\n};\n\nproto.addContent = function (content) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // parent element is the internal element\n  options.parent = this.internalComponent.$el;\n  options.append = true;\n  var promise = this.stack.push(content, options);\n  promise.then(function () {\n    // get stack content\n    _this2.contentsdata = _this2.stack.state.contentsdata;\n    // update the visibility of the others components\n    _this2.updateContentVisibility();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// remove content from stack\nproto.removeContent = function () {\n  this.setOpen(false);\n  return this.clearContents();\n};\n\n// used by  viewport.js\nproto.popContent = function () {\n  var _this3 = this;\n\n  return this.stack.pop().then(function () {\n    // update the content of contentsdata only after stack is updated\n    _this3.contentsdata = _this3.stack.state.contentsdata;\n    _this3.updateContentVisibility();\n  });\n};\n\n// get component through class\nproto.getComponentByClass = function (componentClass) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content instanceof componentClass) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\n// get component by component id\nproto.getComponentById = function (id) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content.id == id) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\nproto.getContentData = function () {\n  return this.stack.getContentData();\n};\n\n// get current contentdata\nproto.getCurrentContentData = function () {\n  return this.stack.getCurrentContentData();\n};\n\n// get  previuos contentdata\nproto.getPreviousContentData = function () {\n  return this.stack.getPreviousContentData();\n};\n\n// update visibility of the components of content\nproto.updateContentVisibility = function () {\n  // hide each elements but not the last one\n  var contentsEls = $(this.internalComponent.$el).children();\n  contentsEls.hide();\n  contentsEls.last().show();\n};\n\n// stack clear because if we want the contentComponente stack\n// it has to be empty stack\nproto.clearContents = function () {\n  var _this4 = this;\n\n  return this.stack.clear().then(function () {\n    return _this4.contentsdata = _this4.stack.state.contentsdata;\n  });\n};\n\n// Set layout of the content each time\n// Parameters are: height and with of the parent content\nproto.layout = function (parentWidth, parentHeight) {\n  var _this5 = this;\n\n  var el = $(this.internalComponent.$el);\n  //run the callback only after that vue state is updated\n  Vue.nextTick(function () {\n    var contentsdata = _this5.stack.state.contentsdata;\n    // el.parent() is div g3w-view-content\n    var height = el.parent().height() - el.siblings('.close-panel-block').outerHeight(true) - el.siblings('.content_breadcrumb').outerHeight(true) - 10; // margin 10 from bottom\n    el.height(height);\n    el.children().first().height(height);\n    contentsdata.forEach(function (data) {\n      //check each componentstored in stack\n      if (typeof data.content.layout == 'function') {\n        //call function layout of each component that are stored into the stack\n        data.content.layout(parentWidth + 0.5, height);\n      }\n    });\n  });\n};\n\nmodule.exports = ContentsViewerComponent;\n\n},{\"components/ViewportContentsViewer.vue\":305,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/utils/utils\":186}],188:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _wmslayerspanel = require('gui/wms/vue/panel/wmslayerspanel');\n\nvar _wmslayerspanel2 = _interopRequireDefault(_wmslayerspanel);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$wmsurls = options.wmsurls,\n      wmsurls = _options$wmsurls === undefined ? [] : _options$wmsurls;\n\n  this.projectId = _projects2.default.getCurrentProject().getId(); // get current project id used to store data or get data to current project\n  this.panel;\n  this.state = {\n    adminwmsurls: wmsurls, // coming from admin wmsurls\n    localwmsurls: [] // contain array of object {id, url}\n  };\n  this.loadClientWmsUrls().then(function (urls) {\n    return _this.state.localwmsurls = urls;\n  });\n  _projects2.default.onafter('setCurrentProject', function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(project) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.projectId = project.getId();\n              _this.state.adminwmsurls = project.wmsurls || [];\n              _context.next = 4;\n              return _this.loadClientWmsUrls();\n\n            case 4:\n              _this.state.localwmsurls = _context.sent;\n\n            case 5:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\n\nvar proto = Service.prototype;\n\n/**\n * Getting Wms Urls from local browser storage\n */\nproto.loadClientWmsUrls = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _this2 = this;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          data = this.getLocalWMSData();\n\n          if (data === undefined) {\n            data = {\n              urls: [], // unique url fro wms\n              wms: {} // object contain url as key and array of layers bind to url\n            };\n            this.updateLocalWMSData(data);\n          }\n          _context2.next = 4;\n          return _gui2.default.isReady();\n\n        case 4:\n          setTimeout(function () {\n            var mapService = _gui2.default.getService('map');\n            mapService.on('remove-external-layer', function (name) {\n              return _this2.deleteWms(name);\n            });\n            mapService.on('change-layer-position-map', function () {\n              var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref3.id,\n                  position = _ref3.position;\n\n              return _this2.changeLayerData(name, {\n                key: 'position',\n                value: position\n              });\n            });\n            mapService.on('change-layer-opacity', function () {\n              var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref4.id,\n                  opacity = _ref4.opacity;\n\n              return _this2.changeLayerData(name, {\n                key: 'opacity',\n                value: opacity\n              });\n            });\n            mapService.on('change-layer-visibility', function () {\n              var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref5.id,\n                  visible = _ref5.visible;\n\n              return _this2.changeLayerData(name, {\n                key: 'visible',\n                value: visible\n              });\n            });\n\n            // load eventually data\n            Object.keys(data.wms).forEach(function (url) {\n              data.wms[url].forEach(function (config) {\n                _this2.loadWMSLayerToMap(_extends({\n                  url: url\n                }, config));\n              });\n            });\n          });\n          return _context2.abrupt('return', data.urls);\n\n        case 6:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * General Method to change config of storage layer options as position, opacity\n * @param name\n * @param config\n */\nproto.changeLayerData = function (name) {\n  var attribute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers[index][attribute.key] = attribute.value;\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Create a common status object\n * @param error\n * @param added\n * @returns {{error, status: string}}\n */\nproto.getRequestStatusObject = function () {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$error = _ref6.error,\n      error = _ref6$error === undefined ? false : _ref6$error,\n      _ref6$added = _ref6.added,\n      added = _ref6$added === undefined ? false : _ref6$added;\n\n  return {\n    error: error,\n    added: added\n  };\n};\n\n/**\n * Add new\n * @param wmsurl\n * @returns {*}\n */\nproto.addNewUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id,\n      url = _ref8.url;\n\n  var find, status, response, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          find = this.state.localwmsurls.find(function (_ref9) {\n            var localid = _ref9.id,\n                localurl = _ref9.url;\n            return localurl == url || localid == id;\n          });\n          status = this.getRequestStatusObject({\n            added: !!find\n          });\n\n          if (find) {\n            _context3.next = 13;\n            break;\n          }\n\n          _context3.prev = 3;\n          _context3.next = 6;\n          return this.getWMSLayers(url);\n\n        case 6:\n          response = _context3.sent;\n\n          // if result (meaning response in done right)\n          if (response.result) {\n            data = this.getLocalWMSData();\n\n            this.state.localwmsurls.push({\n              id: id,\n              url: url\n            });\n            data.urls = this.state.localwmsurls;\n            this.updateLocalWMSData(data);\n            response.wmsurl = url;\n            this.showWmsLayersPanel(response);\n          } else status.error = true;\n          _context3.next = 13;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3['catch'](3);\n\n          status.error = true;\n\n        case 13:\n          return _context3.abrupt('return', status);\n\n        case 14:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[3, 10]]);\n}));\n\n/**\n * Delete WMS\n * @param name\n */\nproto.deleteWms = function (name) {\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers.splice(index, 1);\n      if (wmsConfigLayers.length == 0) delete data.wms[wmsurl];\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n/**\n * Method to find if name or layer of a specific url is already added\n * @param name\n * @param layers\n */\nproto.checkIfWMSAlreadyAdded = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref10.url,\n      _ref10$layers = _ref10.layers,\n      layers = _ref10$layers === undefined ? [] : _ref10$layers;\n\n  var added = false;\n  var data = this.getLocalWMSData();\n  if (data.wms[url]) {\n    added = !!data.wms[url].find(function (_ref11) {\n      var addedLayers = _ref11.layers;\n\n      var layersLength = layers.length;\n      if (addedLayers.length === layersLength) {\n        return layers.reduce(function (accumulator, layerName) {\n          return accumulator + addedLayers.indexOf(layerName) !== -1 ? 1 : 0;\n        }, 0) === layersLength;\n      }\n    });\n  }\n  return added;\n};\n\n/**\n * Delete url from local storage\n * @param wmsurl\n */\nproto.deleteWmsUrl = function (id) {\n  this.state.localwmsurls = this.state.localwmsurls.filter(function (_ref12) {\n    var localid = _ref12.id;\n    return id !== localid;\n  });\n  var data = this.getLocalWMSData();\n  data.urls = this.state.localwmsurls;\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Method to lad data from server and show wms layer panel\n * @param wmsurl\n * @returns {Promise<{added: boolean, error: boolean}>}\n */\nproto.loadWMSDataAndShowWmsLayersPanel = function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(url) {\n    var status, response;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            status = this.getRequestStatusObject();\n            _context4.prev = 1;\n            _context4.next = 4;\n            return this.getWMSLayers(url);\n\n          case 4:\n            response = _context4.sent;\n\n            status.error = !response.result;\n            if (response.result) {\n              response.wmsurl = url;\n              this.showWmsLayersPanel(response);\n            }\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4['catch'](1);\n\n            status.error = true;\n\n          case 12:\n            return _context4.abrupt('return', status);\n\n          case 13:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[1, 9]]);\n  }));\n\n  return function (_x10) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\n/**\n * show addding wma layers wms panel\n * @param wmsurl\n * @returns {WmsLayersPanel}\n */\nproto.showWmsLayersPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.panel = new _wmslayerspanel2.default({\n    service: this,\n    config: config\n  });\n  this.panel.show();\n  return this.panel;\n};\n\n/**\n * gettind data of wms url from server\n * @param url\n * @returns {Promise<{result: boolean, info_formats: [], layers: [], map_formats: [], abstract: null, title: null}>}\n */\nproto.getWMSLayers = function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(url) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            response = {\n              result: false,\n              layers: [],\n              info_formats: [],\n              abstract: null,\n              map_formats: [],\n              title: null\n            };\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _data2.default.getData('ows:wmsCapabilities', {\n              inputs: {\n                url: url\n              },\n              outputs: false\n            });\n\n          case 4:\n            response = _context5.sent;\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n            console.log(_context5.t0);\n\n          case 10:\n            if (!response.result) {\n              _context5.next = 12;\n              break;\n            }\n\n            return _context5.abrupt('return', response);\n\n          case 12:\n            return _context5.abrupt('return', response);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x12) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\nproto.loadWMSLayerToMap = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref15.url,\n      name = _ref15.name,\n      epsg = _ref15.epsg,\n      position = _ref15.position,\n      opacity = _ref15.opacity,\n      _ref15$visible = _ref15.visible,\n      visible = _ref15$visible === undefined ? true : _ref15$visible,\n      _ref15$layers = _ref15.layers,\n      layers = _ref15$layers === undefined ? [] : _ref15$layers;\n\n  var mapService = _gui2.default.getService('map');\n  return mapService.addExternalWMSLayer({\n    url: url,\n    name: name,\n    layers: layers,\n    epsg: epsg,\n    position: position,\n    visible: visible,\n    opacity: opacity\n  });\n};\n\n/**\n * Method to check if a layer is already added to map\n * @param url\n * @param name\n * @param epsg\n * @param position\n * @param layers\n * @returns {Promise<void>}\n */\nproto.addWMSlayer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref17.url,\n      _ref17$name = _ref17.name,\n      name = _ref17$name === undefined ? 'wms_' + uniqueId() : _ref17$name,\n      epsg = _ref17.epsg,\n      position = _ref17.position,\n      _ref17$layers = _ref17.layers,\n      layers = _ref17$layers === undefined ? [] : _ref17$layers,\n      _ref17$opacity = _ref17.opacity,\n      opacity = _ref17$opacity === undefined ? 1 : _ref17$opacity,\n      _ref17$visible = _ref17.visible,\n      visible = _ref17$visible === undefined ? true : _ref17$visible;\n\n  var data, wmsLayerConfig, mapService;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = this.getLocalWMSData();\n          wmsLayerConfig = {\n            url: url,\n            name: name,\n            layers: layers,\n            epsg: epsg,\n            position: position,\n            visible: visible,\n            opacity: opacity\n          };\n\n          if (data.wms[url] === undefined) data.wms[url] = [wmsLayerConfig];else data.wms[url].push(wmsLayerConfig);\n          this.updateLocalWMSData(data);\n          _context6.prev = 4;\n          _context6.next = 7;\n          return this.loadWMSLayerToMap(wmsLayerConfig);\n\n        case 7:\n          _context6.next = 15;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6['catch'](4);\n          mapService = _gui2.default.getService('map');\n\n          mapService.removeExternalLayer(name);\n          this.deleteWms(name);\n          setTimeout(function () {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: 'sidebar.wms.layer_add_error'\n            });\n          });\n\n        case 15:\n          this.panel.close();\n\n        case 16:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[4, 9]]);\n}));\n\n/**\n * Method to get local storage wms  data based on current projectId\n * @returns {*}\n */\nproto.getLocalWMSData = function () {\n  return _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) && _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM)[this.projectId];\n};\n\n/**\n * Method to update local storage data based on changes\n * @param data\n */\nproto.updateLocalWMSData = function (data) {\n  // in case for the firs time is non present set empty object\n  var alldata = _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) || {};\n  alldata[this.projectId] = data;\n  _application2.default.setLocalItem({\n    id: _constant.LOCALSTORAGE_EXTERNALWMS_ITEM,\n    data: alldata\n  });\n};\n\nproto.clear = function () {\n  this.panel = null;\n};\n\nexports.default = Service;\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"gui/wms/vue/panel/wmslayerspanel\":189,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],189:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _WMSLayersPanel = require('components/WMSLayersPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMSLayersPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\n\nvar WMSLayersPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction WmsLayersPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var service = options.service,\n      config = options.config;\n\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'sidebar.wms.panel.title';\n  var panel = WMSLayersPanelComponent;\n  var internalPanel = new panel({\n    service: service,\n    config: config\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(WmsLayersPanel, Panel);\n\nexports.default = WmsLayersPanel;\n\n},{\"components/WMSLayersPanel.vue\":307,\"core/utils/utils\":67,\"gui/panel\":159}],190:[function(require,module,exports){\nvar _WMS = require('components/WMS.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMS);\n\nvar _service = require('gui/wms/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new _service2.default(options);\n  this.title = \"WMS\";\n\n  var internalComponent = new InternalComponent({\n    service: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent);\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/WMS.vue\":306,\"core/utils/utils\":67,\"gui/component/component\":114,\"gui/wms/service\":188,\"services/gui\":356}],191:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nmodule.exports = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$steps = _ref.steps,\n      steps = _ref$steps === undefined ? {} : _ref$steps;\n\n  return {\n    data: function data() {\n      return {\n        steps: steps,\n        currentStep: 0\n      };\n    },\n\n    watch: {\n      steps: {\n        handler: function handler(steps) {\n          var _this = this;\n\n          Object.values(steps).find(function (step, index) {\n            if (!step.done) {\n              _this.currentStep = index;\n              return true;\n            }\n          });\n        },\n\n        deep: false\n      }\n    },\n    render: function render(h) {\n      var _this2 = this;\n\n      return h('ul', {\n        style: {\n          alignSelf: 'flex-start',\n          listStyle: 'none',\n          padding: (_applicationState2.default.ismobile ? 5 : 10) + 'px !important',\n          marginBottom: 0\n        }\n      }, Object.values(this.steps).map(function (step, index) {\n        var _class;\n\n        var state = {\n          current: !step.done && index === _this2.currentStep,\n          done: step.done,\n          todo: !step.done && index !== _this2.currentStep\n        };\n        return h('li', {\n          style: {\n            fontWeight: (step.done || !step.done && index === _this2.currentStep) && 'bold' || null,\n            marginBottom: '5px',\n            color: step.done && \"green\",\n            display: step.buttonnext && 'inline-flex'\n          }\n        }, [h('i', {\n          style: {\n            marginRight: '5px',\n            fontWeight: step.done && 'bold'\n          },\n          class: (_class = {}, _defineProperty(_class, _gui2.default.getFontClass('arrow-right'), state.current), _defineProperty(_class, _gui2.default.getFontClass('empty-circle'), state.todo), _defineProperty(_class, _gui2.default.getFontClass('success'), state.done), _class)\n        }), h('span', {\n          directives: [{\n            name: step.directive,\n            value: step.description\n          }],\n          style: {\n            display: step.buttonnext ? 'inline-flex' : 'inline',\n            flexDirection: step.buttonnext && 'row-reverse'\n          }\n        }), step.dynamic !== undefined && h('span', {\n          style: {\n            alignSelf: 'center',\n            padding: '3px'\n          }\n        }, step.dynamic), step.buttonnext && h('button', {\n          on: {\n            click: function click() {\n              step.done = true;\n              step.buttonnext.done();\n            }\n          },\n          directives: [{\n            name: 't',\n            value: 'sdk.workflow.next'\n          }],\n          style: {\n            fontWeight: 'bold'\n          },\n          class: {\n            btn: true,\n            'btn-success': true,\n            'g3w-disabled': step.buttonnext.disabled\n          }\n        })]);\n      }));\n    }\n  };\n};\n\n},{\"services/gui\":356,\"store/application-state\":368}],192:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueCookieLaw = require('vue-cookie-law');\n\nvar _vueCookieLaw2 = _interopRequireDefault(_vueCookieLaw);\n\nvar _HeaderItem = require('components/HeaderItem.vue');\n\nvar _HeaderItem2 = _interopRequireDefault(_HeaderItem);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nif (typeof jQuery === \"undefined\") {\n  throw new Error(\"LayoutManager requires jQuery\");\n}\n\n$.LayoutManager = $.LayoutManager || {\n  options: {\n    navbarMenuSlimscroll: true,\n    navbarMenuSlimscrollWidth: \"0px\",\n    navbarMenuHeight: \"200px\",\n    animationSpeed: 'fast',\n\n    sidebarToggleSelector: \"[data-toggle='offcanvas']\",\n\n    sidebarPushMenu: true,\n\n    sidebarSlimScroll: false,\n\n    sidebarExpandOnHover: false,\n\n    enableBoxRefresh: true,\n\n    enableFastclick: true,\n\n    enableControlSidebar: true,\n    controlSidebarOptions: {\n      toggleBtnSelector: \"[data-toggle='control-sidebar']\",\n\n      selector: \".control-sidebar\",\n\n      slide: true\n    },\n\n    enableBoxWidget: true,\n\n    boxWidgetOptions: {\n      boxWidgetIcons: {\n        collapse: 'fa-minus',\n\n        open: 'fa-plus',\n\n        remove: 'fa-times'\n      },\n      boxWidgetSelectors: {\n        remove: '[data-widget=\"remove\"]',\n\n        collapse: '[data-widget=\"collapse\"]'\n      }\n    },\n\n    directChat: {\n      enable: true,\n\n      contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\n    },\n\n    colors: {\n      lightBlue: \"#3c8dbc\",\n      red: \"#f56954\",\n      green: \"#00a65a\",\n      aqua: \"#00c0ef\",\n      yellow: \"#f39c12\",\n      blue: \"#0073b7\",\n      navy: \"#001F3F\",\n      teal: \"#39CCCC\",\n      olive: \"#3D9970\",\n      lime: \"#01FF70\",\n      orange: \"#FF851B\",\n      fuchsia: \"#F012BE\",\n      purple: \"#8E24AA\",\n      maroon: \"#D81B60\",\n      black: \"#222222\",\n      gray: \"#d2d6de\"\n    },\n\n    screenSizes: {\n      xs: 480,\n      sm: 768,\n      md: 992,\n      lg: 1200\n    }\n  },\n\n  _init: function _init() {\n    'use strict';\n\n    $.LayoutManager.layout = {\n      activate: function activate() {\n        var _this = this;\n        _this.fix();\n        _this.fixSidebar();\n        $(window, \".wrapper\").resize(function () {\n          _this.fix();\n          _this.fixSidebar();\n        });\n      },\n      fix: function fix() {\n        var neg = $('.main-header').outerHeight() + $('.main-footer').outerHeight();\n        var window_height = $(window).height();\n        var sidebar_height = $(\".sidebar\").height();\n\n        if ($(\"body\").hasClass(\"fixed\")) {\n          $(\".content-wrapper, .right-side\").css('min-height', window_height - $('.main-footer').outerHeight());\n          $(\".content-wrapper, .right-side\").css('height', window_height - $('.main-footer').outerHeight());\n        } else {\n          var postSetWidth = void 0;\n          if (window_height >= sidebar_height) {\n            $(\".content-wrapper, .right-side\").css('min-height', window_height - neg);\n            postSetWidth = window_height - neg;\n          } else {\n            $(\".content-wrapper, .right-side\").css('min-height', sidebar_height);\n            postSetWidth = sidebar_height;\n          }\n\n          var controlSidebar = $($.LayoutManager.options.controlSidebarOptions.selector);\n          if (typeof controlSidebar !== \"undefined\") {\n            if (controlSidebar.height() > postSetWidth) $(\".content-wrapper, .right-side\").css('min-height', controlSidebar.height());\n          }\n        }\n      },\n      fixSidebar: function fixSidebar() {\n        if (!$(\"body\").hasClass(\"fixed\")) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\".sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n          }\n          return;\n        } else if (typeof $.fn.slimScroll == 'undefined' && window.console) {\n          window.console.error(\"Error: the fixed layout requires the slimscroll plugin!\");\n        }\n\n        if ($.LayoutManager.options.sidebarSlimScroll && !isMobile.any) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\"#g3w-sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n\n            $(\"#g3w-sidebar\").slimScroll({\n              touchScrollStep: 50,\n              height: $(window).height() - $(\".navbar-header\").height() - 10 + \"px\",\n              color: \"rgba(255,255,255,0.7)\",\n              size: \"3px\"\n            });\n          }\n        } else {\n          $(\".sidebar\").css({ 'height': $(window).height() - $(\".navbar-header\").height() + \"px\" });\n          $(\".sidebar\").css('overflow-y', 'auto');\n        }\n      }\n    };\n\n    $.LayoutManager.pushMenu = {\n      activate: function activate(toggleBtn) {\n        var screenSizes = $.LayoutManager.options.screenSizes;\n\n        $(toggleBtn).on('click', function (e) {\n          e.preventDefault();\n\n          if ($(window).width() > screenSizes.sm - 1) {\n            if ($(\"body\").hasClass('sidebar-collapse')) {\n              $(\"body\").removeClass('sidebar-collapse').trigger('expanded.pushMenu');\n            } else {\n              $(\"body\").addClass('sidebar-collapse').trigger('collapsed.pushMenu');\n            }\n          } else {\n              if ($(\"body\").hasClass('sidebar-open')) {\n                $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n              } else {\n                $(\"body\").addClass('sidebar-open').trigger('expanded.pushMenu');\n              }\n            }\n        });\n\n        if ($.LayoutManager.options.sidebarExpandOnHover || $('body').hasClass('fixed') && $('body').hasClass('sidebar-mini')) {\n          this.expandOnHover();\n        }\n      },\n      expandOnHover: function expandOnHover() {\n        var _this = this;\n        var screenWidth = $.LayoutManager.options.screenSizes.sm - 1;\n\n        $('.main-sidebar').hover(function () {\n          if ($('body').hasClass('sidebar-mini') && $(\"body\").hasClass('sidebar-collapse') && $(window).width() > screenWidth) {\n            _this.expand();\n          }\n        }, function () {\n          if ($('body').hasClass('sidebar-mini') && $('body').hasClass('sidebar-expanded-on-hover') && $(window).width() > screenWidth) {\n            _this.collapse();\n          }\n        });\n      },\n      expand: function expand() {\n        $(\"body\").removeClass('sidebar-collapse').addClass('sidebar-expanded-on-hover');\n      },\n      collapse: function collapse() {\n        if ($('body').hasClass('sidebar-expanded-on-hover')) {\n          $('body').removeClass('sidebar-expanded-on-hover').addClass('sidebar-collapse');\n        }\n      }\n    };\n\n    $.LayoutManager.tree = function (menu) {\n      var _this = this;\n      var animationSpeed = $.LayoutManager.options.animationSpeed;\n\n      $(document).on('click', menu + ' li a', function (e) {\n        var $this = $(this);\n\n        var checkElement = $this.next();\n\n        if (checkElement.is('.treeview-menu') && checkElement.is(':visible')) {\n          checkElement.slideUp(animationSpeed, function () {\n            checkElement.parent(\"li.treeview\").removeClass(\"active\");\n            checkElement.removeClass('menu-open');\n          });\n        } else if (checkElement.is('.treeview-menu') && !checkElement.is(':visible')) {\n            var parent = $this.parents('ul').first();\n            var parent_li = $this.parent(\"li\");\n            var li_siblings = parent_li.siblings();\n            var parent_find_active;\n            var sidebar_content_height = parent.height() - parent.find('li.header').outerHeight();\n            var treeviewHeight = parent_li.outerHeight();\n            li_siblings.not('.header').each(function (index, el) {\n              treeviewHeight += $(el).find('a').outerHeight();\n            });\n            var section_height = sidebar_content_height - treeviewHeight;\n\n            var ul = parent.find('ul.treeview-menu:visible').slideUp(animationSpeed);\n\n            ul.removeClass('menu-open');\n\n            checkElement.slideDown(animationSpeed, function () {\n              checkElement.addClass('menu-open');\n              parent_find_active = parent.find('li.treeview.active');\n              parent_find_active.removeClass('active');\n              parent_li.addClass('active');\n\n              _this.layout.fix();\n            });\n          }\n\n        if (checkElement.is('.treeview-menu')) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    $.LayoutManager.floatBar = $.LayoutManager.controlSidebar = {\n      activate: function activate() {\n        var _this = this;\n\n        var o = $.LayoutManager.options.controlSidebarOptions;\n\n        var sidebar = $(o.selector);\n\n        var btn = $(o.toggleBtnSelector);\n\n        btn.on('click', function (e) {\n          e.preventDefault();\n\n          if (!sidebar.hasClass('control-sidebar-open') && !$('body').hasClass('control-sidebar-open')) {\n            _this.open(sidebar, o.slide);\n          } else {\n            _this.close(sidebar, o.slide);\n          }\n        });\n\n        var bg = $(\".control-sidebar-bg\");\n        _this._fix(bg);\n\n        if ($('body').hasClass('fixed')) {\n          _this._fixForFixed(sidebar);\n        } else {\n          if ($('.content-wrapper, .right-side').height() < sidebar.height()) {\n            _this._fixForContent(sidebar);\n          }\n        }\n      },\n      open: function open(sidebar, slide) {\n        if (slide) {\n          sidebar.addClass('control-sidebar-open');\n        } else {\n          $('body').addClass('control-sidebar-open');\n        }\n      },\n      close: function close(sidebar, slide) {\n        if (slide) {\n          sidebar.removeClass('control-sidebar-open');\n        } else {\n          $('body').removeClass('control-sidebar-open');\n        }\n      },\n      _fix: function _fix(sidebar) {\n        var _this = this;\n        if ($(\"body\").hasClass('layout-boxed')) {\n          sidebar.css('position', 'absolute');\n          sidebar.height($(\".wrapper\").height());\n          $(window).resize(function () {\n            _this._fix(sidebar);\n          });\n        } else {\n          sidebar.css({\n            'position': 'fixed',\n            'height': 'auto'\n          });\n        }\n      },\n      _fixForFixed: function _fixForFixed(sidebar) {\n        sidebar.css({\n          'position': 'fixed',\n          'max-height': '100%',\n\n          'padding-bottom': '50px'\n        });\n      },\n      _fixForContent: function _fixForContent(sidebar) {\n        $(\".content-wrapper, .right-side\").css('min-height', sidebar.height());\n      }\n    };\n\n    $.LayoutManager.boxWidget = {\n      selectors: $.LayoutManager.options.boxWidgetOptions.boxWidgetSelectors,\n      icons: $.LayoutManager.options.boxWidgetOptions.boxWidgetIcons,\n      animationSpeed: $.LayoutManager.options.animationSpeed,\n      activate: function activate(_box) {\n        var _this = this;\n        if (!_box) {\n          _box = document;\n        }\n\n        $(_box).on('click', _this.selectors.collapse, function (e) {\n          e.preventDefault();\n          _this.collapse($(this));\n        });\n\n        $(_box).on('click', _this.selectors.remove, function (e) {\n          e.preventDefault();\n          _this.remove($(this));\n        });\n      },\n      collapse: function collapse(element) {\n        var _this = this;\n\n        var box = element.parents(\".box\").first();\n\n        var box_content = box.find(\"> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer\");\n        if (!box.hasClass(\"collapsed-box\")) {\n          element.find(\".btn-collapser\").removeClass(_this.icons.collapse).addClass(_this.icons.open);\n\n          box_content.slideUp(_this.animationSpeed, function () {\n            box.addClass(\"collapsed-box\");\n          });\n        } else {\n          element.find(\".btn-collapser\").removeClass(_this.icons.open).addClass(_this.icons.collapse);\n\n          box_content.slideDown(_this.animationSpeed, function () {\n            box.removeClass(\"collapsed-box\");\n          });\n        }\n      },\n      remove: function remove(element) {\n        var box = element.parents(\".box\").first();\n        box.slideUp(this.animationSpeed);\n      }\n    };\n\n    return $.LayoutManager;\n  },\n\n  addRefreshButton: function addRefreshButton() {\n    \"use strict\";\n\n    $.fn.boxRefresh = function (options) {\n      var settings = $.extend({\n        trigger: \".refresh-btn\",\n\n        source: \"\",\n        onLoadStart: function onLoadStart(box) {\n          return box;\n        },\n        onLoadDone: function onLoadDone(box) {\n          return box;\n        }\n      }, options);\n\n      var overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>');\n\n      return this.each(function () {\n        if (settings.source === \"\") {\n          if (window.console) {\n            window.console.log(\"Please specify a source first - boxRefresh()\");\n          }\n          return;\n        }\n\n        var box = $(this);\n\n        var rBtn = box.find(settings.trigger).first();\n\n        rBtn.on('click', function (e) {\n          e.preventDefault();\n\n          start(box);\n\n          box.find(\".box-body\").load(settings.source, function () {\n            done(box);\n          });\n        });\n      });\n\n      function start(box) {\n        box.append(overlay);\n\n        settings.onLoadStart.call(box);\n      }\n\n      function done(box) {\n        box.find(overlay).remove();\n\n        settings.onLoadDone.call(box);\n      }\n    };\n    return $.LayoutManager;\n  },\n\n  activateBox: function activateBox() {\n    'use strict';\n\n    $.fn.activateBox = function () {\n      $.LayoutManager.boxWidget.activate(this);\n    };\n\n    return $.LayoutManager;\n  },\n\n  listCustomPlugin: function listCustomPlugin() {\n    'use strict';\n\n    $.fn.todolist = function (options) {\n      var settings = $.extend({\n        onCheck: function onCheck(ele) {\n          return ele;\n        },\n        onUncheck: function onUncheck(ele) {\n          return ele;\n        }\n      }, options);\n\n      return this.each(function () {\n\n        if (typeof $.fn.iCheck != 'undefined') {\n          $('input', this).on('ifChecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onCheck.call(ele);\n          });\n\n          $('input', this).on('ifUnchecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onUncheck.call(ele);\n          });\n        } else {\n          $('input', this).on('change', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            if ($('input', ele).is(\":checked\")) {\n              settings.onCheck.call(ele);\n            } else {\n              settings.onUncheck.call(ele);\n            }\n          });\n        }\n      });\n    };\n    return $.LayoutManager;\n  },\n\n  setup: function setup() {\n    \"use strict\";\n\n    $(\"body\").removeClass(\"hold-transition\");\n\n    if (typeof LayoutManagerOptions !== \"undefined\") {\n      $.extend(true, $.LayoutManager.options, LayoutManagerOptions);\n    }\n\n    var o = $.LayoutManager.options;\n\n    $.LayoutManager._init();\n\n    $.LayoutManager.layout.activate();\n\n    $.LayoutManager.tree('.sidebar');\n\n    if (o.enableControlSidebar) {\n      $.LayoutManager.controlSidebar.activate();\n    }\n\n    if (o.navbarMenuSlimscroll && typeof $.fn.slimscroll != 'undefined') {\n      $(\".navbar .menu\").slimscroll({\n        height: o.navbarMenuHeight,\n        alwaysVisible: false,\n        size: o.navbarMenuSlimscrollWidth\n      }).css(\"width\", \"100%\");\n    }\n\n    if (o.sidebarPushMenu) {\n      $.LayoutManager.pushMenu.activate(o.sidebarToggleSelector);\n    }\n\n    if (o.enableBoxWidget) {\n      $.LayoutManager.boxWidget.activate();\n    }\n\n    if (o.enableFastclick && typeof FastClick != 'undefined') {\n      FastClick.attach(document.body);\n    }\n\n    if (o.directChat.enable) {\n      $(document).on('click', o.directChat.contactToggleSelector, function () {\n        var box = $(this).parents('.direct-chat').first();\n        box.toggleClass('direct-chat-contacts-open');\n      });\n    }\n\n    $('.btn-group[data-toggle=\"btn-toggle\"]').each(function () {\n      var group = $(this);\n      $(this).find(\".btn\").on('click', function (e) {\n        group.find(\".btn.active\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n        e.preventDefault();\n      });\n    });\n\n    return $.LayoutManager.addRefreshButton().activateBox().listCustomPlugin();\n  },\n\n  loading: function loading(start) {\n    $('#initerror').remove();\n    start = _.isBoolean(start) ? start : true;\n    if (start) {\n      $('body').append('\\n          <div id=\"startingspinner\">\\n          <div class=\"double-bounce1\"></div>\\n          <div class=\"double-bounce2\"></div>\\n          </div>');\n    } else {\n      $('#startingspinner').remove();\n    }\n  }\n\n};\n\nvar layout = $.LayoutManager;\n\nexports.default = {\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      customcredits: false,\n      appState: _application2.default.getState(),\n      current_custom_modal_content: null,\n      language: null,\n      cookie_law_buttonText: t('cookie_law.buttonText')\n    };\n  },\n\n  components: {\n    HeaderItem: _HeaderItem2.default,\n    CookieLaw: _vueCookieLaw2.default\n  },\n  computed: {\n    app: function app() {\n      return this.appState.gui.app;\n    },\n    languages: function languages() {\n      var languages = Array.isArray(this.appconfig.i18n) && this.appconfig.i18n || [];\n      return languages.length > 1 && languages;\n    },\n    currentProject: function currentProject() {\n      return _projects2.default.getCurrentProject();\n    },\n    appconfig: function appconfig() {\n      return _application2.default.getConfig();\n    },\n    isIframe: function isIframe() {\n      return !!this.appconfig.group.layout.iframe;\n    },\n    urls: function urls() {\n      return this.appconfig.urls;\n    },\n    staticurl: function staticurl() {\n      return this.urls.staticurl;\n    },\n    powered_by: function powered_by() {\n      return this.appconfig.group.powered_by;\n    },\n    clienturl: function clienturl() {\n      return this.urls.clienturl;\n    },\n    g3w_suite_logo: function g3w_suite_logo() {\n      return this.clienturl + 'images/g3wsuite_logo.png';\n    },\n    credits_logo: function credits_logo() {\n      return this.clienturl + 'images/logo_gis3w_156_85.png';\n    },\n    logo_url: function logo_url() {\n      var logo_project_url = this.currentProject.getThumbnail();\n      return logo_project_url ? logo_project_url : '' + this.appconfig.mediaurl + this.appconfig.logo_img;\n    },\n    logo_link: function logo_link() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? logo_link : \"#\";\n    },\n    logo_link_target: function logo_link_target() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? \"_blank\" : \"\";\n    },\n    project_title: function project_title() {\n      return this.currentProject.getState().name;\n    },\n    user: function user() {\n      return this.appconfig.user && this.appconfig.user.username ? this.appconfig.user : null;\n    },\n    login_url: function login_url() {\n      return this.appconfig.user.login_url;\n    },\n    numberOfProjectsInGroup: function numberOfProjectsInGroup() {\n      return this.appconfig.projects.length;\n    },\n    frontendurl: function frontendurl() {\n      return this.urls.frontendurl;\n    },\n    main_title: function main_title() {\n      var main_title = this.appconfig.main_map_title;\n      var group_name = this.appconfig.group.name || this.appconfig.group.slug;\n      return main_title ? main_title + ' - ' + group_name : group_name;\n    }\n  },\n  methods: {\n    templateResultLanguages: function templateResultLanguages(state) {\n      if (!state.id) {\n        return state.text;\n      }\n      return $('\\n        <div style=\"font-weight: bold; display:flex; align-items: center; justify-content: space-around;\">\\n          <img src=\"' + this.staticurl + 'img/flags/' + state.element.value.toLowerCase() + '.png\" />\\n          <span style=\"margin-left: 5px;\">' + state.text + '</span> \\n        </span>');\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var max_width;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.isIframe) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                max_width = this.$refs.navbar_toggle.offsetWidth > 0 ? this.$refs.navbar.offsetWidth - this.$refs.navbar_toggle.offsetWidth : this.$refs.mainnavbar.offsetWidth - this.$refs['app-navbar-nav'].offsetWidth;\n\n                this.$refs.main_title_project_title.style.maxWidth = max_width - this.logoWidth - 15 + 'px';\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    showCustomModalContent: function showCustomModalContent(id) {\n      var _custom_modals$find = this.custom_modals.find(function (custommodal) {\n        return custommodal.id === id;\n      }),\n          content = _custom_modals$find.content;\n\n      this.current_custom_modal_content = content;\n    },\n    closePanel: function closePanel() {\n      sidebarService.closePanel();\n    },\n    getLogoLink: function getLogoLink() {\n      return this.appconfig.logo_link ? this.appconfig.logo_link : null;\n    },\n    openProjectsMenu: function openProjectsMenu() {\n      _gui2.default.openProjectsMenu();\n    }\n  },\n  watch: {\n    'language': function language(_language, currentlanguage) {\n      if (currentlanguage) {\n        _application2.default.changeLanguage(_language);\n        this.cookie_law_buttonText = t('cookie_law.buttonText');\n      }\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n    this.delayTime = 0;\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.language = this.appconfig._i18n.language;\n    this.custom_modals = [];\n    this.custom_header_items_position = {\n      0: [],\n      1: [],\n      2: [],\n      3: [],\n      4: []\n    };\n    this.customlinks = Array.isArray(this.appconfig.header_custom_links) ? this.appconfig.header_custom_links.filter(function (customitem) {\n      if (customitem !== null) {\n        var id = customitem.id = uniqueId();\n        customitem.type === 'modal' && _this2.custom_modals.push({\n          id: id,\n          content: customitem.content\n        });\n        var position = 1 * (customitem.position || 0);\n        position = position > 4 ? 4 : position < 0 || Number.isNaN(position) ? 0 : position;\n        _this2.custom_header_items_position[position].push(customitem);\n        return true;\n      }\n      return false;\n    }) : [];\n\n    !!this.appconfig.credits && $.get(this.appconfig.credits).then(function (credits) {\n      return _this2.customcredits = credits !== 'None' && credits;\n    });\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this3 = this;\n\n      var rightNavBarElements, elementLenght, i, controlsidebarEl, setFloatBarMaxHeight, setModalHeight;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setModalHeight = function setModalHeight() {\n                $('#g3w-modal-overlay').css('height', $(window).height());\n              };\n\n              setFloatBarMaxHeight = function setFloatBarMaxHeight() {\n                $(controlsidebarEl).css('max-height', $(window).innerHeight());\n                $('.g3w-sidebarpanel').css('height', $(window).height() - $(\"#main-navbar\").height());\n              };\n\n              this.logoWidth = 0;\n              _context2.next = 5;\n              return this.$nextTick();\n\n            case 5:\n              rightNavBarElements = !this.isIframe ? this.$refs.mainnavbar.getElementsByTagName('ul') : [];\n              elementLenght = rightNavBarElements.length;\n\n              this.rightNavbarWidth = 15;\n              for (i = 0; i < elementLenght; i++) {\n                this.rightNavbarWidth += rightNavBarElements.item(i).offsetWidth;\n              }\n              this.language = this.appconfig.user.i18n;\n              _context2.next = 12;\n              return this.$nextTick();\n\n            case 12:\n              !this.isIframe && this.$refs.img_logo.addEventListener('load', function () {\n                _this3.logoWidth = _this3.$refs.img_logo.offsetWidth + 15;\n                _this3.resize();\n              }, { once: true });\n\n              layout.loading(false);\n              layout.setup();\n\n              layout.pushMenu.expandOnHover();\n              layout.controlSidebar._fix($(\".control-sidebar-bg\"));\n              layout.controlSidebar._fix($(\".control-sidebar\"));\n              controlsidebarEl = layout.options.controlSidebarOptions.selector;\n\n              setFloatBarMaxHeight();\n\n              $(window).resize(function () {\n                setFloatBarMaxHeight();\n                setModalHeight();\n              });\n\n            case 21:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.app.disabled),expression:\"app.disabled\"}],staticClass:\"wrapper\"},[_c('cookie-law',{attrs:{\"theme\":\"dark-lime\",\"buttonText\":_vm.cookie_law_buttonText}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('cookie_law.message'),expression:\"'cookie_law.message'\"}],attrs:{\"slot\":\"message\"},slot:\"message\"})]),_vm._v(\" \"),(!_vm.isIframe)?_c('header',{staticClass:\"main-header\"},[_c('nav',{ref:\"navbar\",staticClass:\"navbar navbar-inverse navbar-fixed-top\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"navbar-header\"},[_c('button',{ref:\"navbar_toggle\",staticClass:\"navbar-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#main-navbar\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('ellips-v'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('a',{staticClass:\"sidebar-toggle\",attrs:{\"id\":\"g3w-small-screen-hamburger-sidebar\",\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"logo-wrapper\",class:{'mobile': _vm.isMobile()}},[(_vm.logo_url)?_c('a',{staticClass:\"project_logo_link\",attrs:{\"href\":_vm.logo_link,\"target\":_vm.logo_link_target}},[_c('img',{ref:\"img_logo\",staticClass:\"img-responsive\",staticStyle:{\"max-width\":\"250px\"},attrs:{\"src\":_vm.logo_url}})]):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"main_title_project_title\",staticClass:\"project_title_content\"},[_c('div',{staticClass:\"main_title\"},[_vm._v(_vm._s(_vm.main_title))]),_vm._v(\" \"),_c('div',{staticClass:\"sub_title\"},[_vm._v(_vm._s(_vm.project_title))])])])]),_vm._v(\" \"),_c('div',{ref:\"mainnavbar\",staticClass:\"collapse navbar-collapse\",staticStyle:{\"text-align\":\"center\",\"overflow\":\"hidden\",\"margin\":\"0 0\"},attrs:{\"id\":\"main-navbar\"}},[_c('navbarleftitems'),_vm._v(\" \"),_c('navbarrightitems'),_vm._v(\" \"),_c('ul',{ref:\"app-navbar-nav\",staticClass:\"nav navbar-nav navbar-right app-navbar-nav\"},[(!_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{attrs:{\"href\":_vm.login_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-in'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sign_in'),expression:\"'sign_in'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[0]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.numberOfProjectsInGroup > 1)?_c('li',{staticClass:\"dropdown user\",attrs:{\"id\":\"changemaps\"}},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"},on:{\"click\":_vm.openProjectsMenu}},[_c('i',{class:_vm.g3wtemplate.getFontClass('change-map'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('changemap'),expression:\"'changemap'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[1]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('user')}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-xs\"},[_vm._v(_vm._s(_vm.user.username))])]),_vm._v(\" \"),_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"user-header\"},[_c('p',[_vm._v(\"\\n                    \"+_vm._s(_vm.user.first_name)+\" \"+_vm._s(_vm.user.last_name)+\"\\n                  \")])]),_vm._v(\" \"),_c('li',{staticClass:\"user-footer\"},[(_vm.user.admin_url)?_c('div',{staticClass:\"pull-left\"},[_c('a',{staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.admin_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('folder')}),_vm._v(\" Admin\\n                    \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('logout'),expression:\"'logout'\"}],staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.logout_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-out'),staticStyle:{\"margin-right\":\"2px\"}})])])])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[2]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#credits\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('credits'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Credits\")])])]),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[3]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.languages)?_c('li',{staticClass:\"g3w-languages\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('language'),expression:\"'language'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.language),expression:\"language\"}],staticClass:\"form-control\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"130px\"},attrs:{\"templateSelection\":_vm.templateResultLanguages,\"templateResult\":_vm.templateResultLanguages},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.language=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.languages),function(lang){return _c('option',{key:lang[0],domProps:{\"value\":lang[0],\"selected\":lang[0] === _vm.language && 'selected'}},[_vm._v(\"\\n                  \"+_vm._s(lang[1])+\"\\n                \")])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.frontendurl)?_c('li',{staticClass:\"dropdown\"},[_c('a',{attrs:{\"href\":_vm.frontendurl}},[_c('span',[_c('i',{class:_vm.g3wtemplate.getFontClass('home')}),_vm._v(\" Home\")])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[4]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})})],2)],1)])])]):_vm._e(),_vm._v(\" \"),_c('sidebar'),_vm._v(\" \"),_c('div',{staticClass:\"content-wrapper\",style:({paddingTop: _vm.isIframe ? 0 : null})},[_c('viewport',{attrs:{\"appState\":_vm.appState}})],1),_vm._v(\" \"),_c('floatbar'),_vm._v(\" \"),_c('div',{staticClass:\"control-sidebar-bg\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":\"full-screen-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",\"aria-labelledby\":\"full-screen-modal\",\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"credits\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-around\",\"justify-items\":\"center\",\"align-items\":\"center\"}},[(!!_vm.customcredits)?_c('div',{staticClass:\"customcredits\",domProps:{\"innerHTML\":_vm._s(_vm.customcredits)}}):_vm._e(),_vm._v(\" \"),(_vm.powered_by)?_c('div',[_c('div',{staticClass:\"g3w-credits-block\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteFramework'),expression:\"'credits.g3wSuiteFramework'\"}],staticClass:\"credit-title-logo\",staticStyle:{\"background-color\":\"#95ad36\",\"padding\":\"5px\",\"border-radius\":\"3px\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://g3wsuite.it/\"}},[_c('img',{staticClass:\"g3w-suite-logo\",attrs:{\"src\":_vm.g3w_suite_logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteDescription'),expression:\"'credits.g3wSuiteDescription'\"}],staticStyle:{\"margin-top\":\"10px\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('credits.productOf'),expression:\"'credits.productOf'\",arg:\"pre\"}],staticClass:\"credit-title-logo g3w-credits-block\",staticStyle:{\"font-size\":\"1em\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('a',{staticStyle:{\"text-align\":\"center!important\"},attrs:{\"href\":\"http://www.gis3w.it\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"img-responsive center-block\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"width\":\"60\",\"src\":_vm.credits_logo,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('address',{staticStyle:{\"line-height\":\"1.3\",\"text-align\":\"center\",\"margin-top\":\"5px\",\"display\":\"flex\",\"justify-content\":\"center\"},attrs:{\"id\":\"address-credits\"}},[_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('marker'),staticStyle:{\"color\":\"#95ad36\",\"font-weight\":\"bold\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Montecatini Terme - Italy\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mobile'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  +39 393 8534336\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mail'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('a',{staticStyle:{\"color\":\"#000000\"},attrs:{\"href\":\"mailto:info@gis3w.it\"}},[_vm._v(\" info@gis3w.it\")])])])]):_vm._e()])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"custom_modal\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\",domProps:{\"innerHTML\":_vm._s(_vm.current_custom_modal_content)}})])])],1)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",staticStyle:{\"color\":\"#ffffff\",\"font-weight\":\"bold\",\"opacity\":\"1\",\"position\":\"absolute\",\"right\":\"25px\",\"top\":\"20px\"},attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\n},{\"components/HeaderItem.vue\":230,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"mixins\":338,\"services/application\":346,\"services/gui\":356,\"store/projects\":374,\"vue-cookie-law\":\"vue-cookie-law\"}],193:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  props: {\n    showdata: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      id: 'graphline' + getUniqueDomId(),\n      selectitems: [],\n      data: [],\n      components: [],\n      config: {\n        data: {\n          columns: [['x'], ['y']]\n        }\n      },\n      size: {\n        width: 0,\n        height: 0\n      }\n    };\n  },\n\n  methods: {\n    addComponent: function addComponent(component) {\n      this.components.push(component);\n    },\n    addComponents: function addComponents() {\n      var _this = this;\n\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      components.forEach(function (component) {\n        return _this.addComponent(component);\n      });\n    },\n    setConfig: function setConfig() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.config = config;\n    },\n    setDataOffset: function setDataOffset(offset) {\n      var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var data = this.getData();\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        item.value += offset;\n      }\n      if (render) {\n        this.resize();\n      }\n    },\n    getSelectedItems: function getSelectedItems() {\n      return this.selectitems;\n    },\n    selectItem: function selectItem(id) {\n      this.chart.select(['y'], [id]);\n    },\n    unselectItem: function unselectItem(id) {\n      this.chart.unselect(['y'], [id]);\n    },\n    selectItems: function selectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.select([y], ids);\n    },\n    unselectItems: function unselectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.unselect(['y'], ids);\n    },\n    unselectAll: function unselectAll() {\n      this.chart.unselect();\n    },\n    selectAll: function selectAll() {\n      this.chart.select();\n    },\n    getData: function getData() {\n      return this.data;\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            width = _ref2.width,\n            height = _ref2.height;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.chart.resize({\n                  width: width,\n                  height: height || $('#' + this.id).height() - 4\n                });\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    _setAllowedSpace: function _setAllowedSpace() {\n      if (this.components && this.components.length) this.size.height = document.querySelector('.g3wform_content').offsetHeight - this.$el.offsetHeight - document.querySelector('.g3wform_header').offsetHeight - 50;\n    },\n    _setMaxMin: function _setMaxMin(_ref3) {\n      var value = _ref3.value,\n          max = _ref3.max,\n          min = _ref3.min;\n\n      min = value ? +value : +min;\n      max = value ? +value : +max;\n      if (min < this.chart.axis.min().y) this.chart.axis.min(min);else if (max > this.chart.axis.max().y) this.chart.axis.max(max);else {\n        var dataValues = this.data.map(function (data) {\n          return +data.value;\n        });\n        this.chart.axis.max(Math.max.apply(Math, _toConsumableArray(dataValues)));\n        this.chart.axis.min(Math.min.apply(Math, _toConsumableArray(dataValues)));\n      }\n      this.resize();\n    },\n    changeItems: function changeItems(items) {\n      if (items.length === 1) this._setMaxMin(items[0].value);else {\n        var max = Math.max.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        var min = Math.min.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        this._setMaxMin({\n          max: max,\n          min: min\n        });\n      }\n      this.resize();\n    },\n    changeItem: function changeItem(_ref4) {\n      var item = _ref4.item,\n          _ref4$render = _ref4.render,\n          render = _ref4$render === undefined ? true : _ref4$render;\n\n      var value = item.value;\n      this._setMaxMin({ value: value });\n      if (render) {\n        this.resize();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _gui2.default.on('resize', _this2.resize);\n      var self = _this2;\n      _this2.config.data.onselected = function (evt) {\n        var _temp = [].concat(_toConsumableArray(self.selectitems), [evt]);\n        self.selectitems = _temp;\n      };\n      _this2.config.data.onunselected = function (evt) {\n        self.selectitems = self.selectitems.filter(function (selectitem) {\n          return selectitem.index !== evt.index;\n        });\n      };\n      _this2.chart = c3.generate(_extends({\n        bindto: '#' + _this2.id\n      }, _this2.config));\n      var data = _this2.chart.data()[0] ? _this2.chart.data()[0].values : [];\n      data.forEach(function (item) {\n        _this2.data.push(item);\n      });\n      _this2._setAllowedSpace();\n\n      _this2.$emit('chart-ready', _this2.chart);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.data = this.selectitems = null;\n    this.chart.destroy();\n    this.chart = null;\n    _gui2.default.off('resize', this.resize);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_wrapper\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"min-height\":\"200px\",\"background-color\":\"#ffffff\"},attrs:{\"id\":_vm.id}}),_vm._v(\" \"),_vm._l((_vm.components),function(component){return _c('div',[_c('span',{staticClass:\"divider\"}),_vm._v(\" \"),_c(component,{tag:\"component\",attrs:{\"data\":_vm.data,\"selectitems\":_vm.selectitems,\"size\":_vm.size},on:{\"change-item\":_vm.changeItem,\"change-items\":_vm.changeItems,\"select-item\":_vm.selectItem,\"select-all\":_vm.selectAll,\"unselect-all\":_vm.unselectAll,\"unselect-item\":_vm.unselectItem}})],1)})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"services/gui\":356}],194:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _CatalogChangeMapThemes = require('components/CatalogChangeMapThemes.vue');\n\nvar _CatalogChangeMapThemes2 = _interopRequireDefault(_CatalogChangeMapThemes);\n\nvar _CatalogLayerContextMenu = require('components/CatalogLayerContextMenu.vue');\n\nvar _CatalogLayerContextMenu2 = _interopRequireDefault(_CatalogLayerContextMenu);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar DEFAULT_ACTIVE_TAB = 'layers';\n\nexports.default = {\n  data: function data() {\n    var legend = this.$options.legend;\n    legend.place = _application2.default.getCurrentProject().getLegendPosition() || 'tab';\n    return {\n      state: null,\n      legend: legend,\n      showlegend: false,\n      currentBaseLayer: null,\n      activeTab: null,\n      loading: false\n    };\n  },\n\n  components: {\n    'changemapthemes': _CatalogChangeMapThemes2.default,\n    'cataloglayercontextmenu': _CatalogLayerContextMenu2.default\n  },\n  computed: {\n    showTocTools: function showTocTools() {\n      var _project$state$map_th = this.project.state.map_themes,\n          map_themes = _project$state$map_th === undefined ? [] : _project$state$map_th;\n\n      var show = map_themes.length > 1;\n      return show;\n    },\n    project: function project() {\n      return this.state.prstate.currentProject;\n    },\n    title: function title() {\n      return this.project.state.name;\n    },\n    baselayers: function baselayers() {\n      return this.project.state.baselayers;\n    },\n    hasBaseLayers: function hasBaseLayers() {\n      return this.project.state.baselayers.length > 0;\n    },\n    hasLayers: function hasLayers() {\n      var layerstresslength = 0;\n      this.state.layerstrees.forEach(function (layerstree) {\n        return layerstresslength += layerstree.tree.length;\n      });\n      return this.state.external.vector.length > 0 || layerstresslength > 0 || this.state.layersgroups.length > 0;\n    }\n  },\n  methods: {\n    changeMapTheme: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(map_theme) {\n        var changes, changeStyleLayersId;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.closeContent();\n                _context.next = 3;\n                return this.$options.service.changeMapTheme(map_theme);\n\n              case 3:\n                changes = _context.sent;\n                changeStyleLayersId = Object.keys(changes.layers).filter(function (layerId) {\n                  if (changes.layers[layerId].style) {\n                    if (!changes.layers[layerId].visible) {\n                      var layer = _catalogLayers2.default.getLayerById(layerId);\n\n                      layer.clearCategories();\n                      layer.change();\n                    }\n                    return true;\n                  }\n                });\n\n                this.legend.place === 'tab' ? _catalogeventhub2.default.$emit('layer-change-style') : changeStyleLayersId.forEach(function (layerId) {\n                  _catalogeventhub2.default.$emit('layer-change-style', {\n                    layerId: layerId\n                  });\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changeMapTheme(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return changeMapTheme;\n    }(),\n    delegationClickEventTab: function delegationClickEventTab(evt) {\n      this.activeTab = evt.target.attributes['aria-controls'] ? evt.target.attributes['aria-controls'].value : this.activeTab;\n    },\n    showLegend: function showLegend(bool) {\n      this.showlegend = bool;\n    },\n    setBaseLayer: function setBaseLayer(id) {\n      this.currentBaseLayer = id;\n      this.project.setBaseLayer(id);\n      _application2.default.setBaseLayerId(id);\n    },\n    getSrcBaseLayerImage: function getSrcBaseLayerImage(baseLayer) {\n      var type = baseLayer && baseLayer.servertype || baseLayer;\n      var image = void 0;\n      var customimage = false;\n      switch (type) {\n        case 'OSM':\n          image = 'osm.png';\n          break;\n        case 'Bing':\n          var subtype = baseLayer.source.subtype;\n          image = 'bing' + subtype + '.png';\n          break;\n        case 'TMS':\n        case 'WMTS':\n          if (baseLayer.icon) {\n            customimage = true;\n            image = baseLayer.icon;\n            break;\n          }\n        default:\n          image = 'nobaselayer.png';\n      }\n      return !customimage ? _gui2.default.getResourcesUrl() + 'images/' + image : image;\n    }\n  },\n  watch: {\n    'state.external.wms': function stateExternalWms(newlayers, oldlayers) {\n      if (oldlayers && newlayers.length === 0) {\n        this.activeTab = this.project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n      }\n    },\n\n    'state.prstate.currentProject': {\n      handler: function () {\n        var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(project, oldproject) {\n          var _this = this;\n\n          var activeTab;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  activeTab = project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n\n                  this.loading = activeTab === 'baselayers';\n                  _context2.next = 4;\n                  return this.$nextTick();\n\n                case 4:\n                  setTimeout(function () {\n                    _this.loading = false;\n                    _this.activeTab = activeTab;\n                  }, activeTab === 'baselayers' ? 500 : 0);\n\n                case 5:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function handler(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return handler;\n      }(),\n\n      immediate: false\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layerpositions = _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions();\n\n    _catalogeventhub2.default.$on('unselectionlayer', function (storeid, layerstree) {\n      if (layerstree.external) {\n        _gui2.default.getService('queryresults').clearSelectionExtenalLayer(layerstree);\n      } else {\n        _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).clearSelectionFids();\n      }\n    });\n\n    _catalogeventhub2.default.$on('activefiltertokenlayer', function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(storeid, layerstree) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).toggleFilterToken();\n\n              case 2:\n                layerstree.filter.active = _context3.sent;\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _catalogeventhub2.default.$on('treenodevisible', function (layer) {\n      _gui2.default.getService('map').emit('cataloglayervisible', layer);\n    });\n\n    _catalogeventhub2.default.$on('treenodeselected', function (storeid, node) {\n      var layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(node.id);\n\n      if (!layer.isSelected()) {\n        _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: null, type: 'vector', selected: false });\n      }\n      setTimeout(function () {\n        _catalogLayers2.default.getLayersStore(storeid).selectLayer(node.id, !layer.isSelected());\n\n        _gui2.default.getService('map').emit('cataloglayerselected', layer);\n      });\n    });\n\n    _catalogeventhub2.default.$on('treenodeexternalselected', function (layer) {\n      _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: layer, type: 'vector', selected: !layer.selected }).then(function () {\n        if (layer.selected) {\n          _catalogLayers2.default.getLayersStores().forEach(function (layer) {\n            layer.selectLayer(null, false);\n          });\n        }\n      });\n    });\n\n    _mapControls2.default.onafter('registerControl', function (id, control) {\n      if ('querybbox' === id) {\n        control.getInteraction().on('propertychange', function (evt) {\n          if ('active' === evt.key) _this2.state.highlightlayers = !evt.oldValue;\n        });\n      }\n    });\n  },\n  beforeMount: function beforeMount() {\n    this.currentBaseLayer = this.project.state.initbaselayer;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabbable-panel catalog\",attrs:{\"id\":\"catalog\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"tabbable-line\"},[_c('ul',{staticClass:\"nav nav-tabs catalalog-nav-tabs\",attrs:{\"role\":\"tablist\"},on:{\"!click\":function($event){return _vm.delegationClickEventTab($event)}}},[(_vm.hasLayers)?_c('li',{class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('data'),expression:\"'data'\"}],attrs:{\"href\":\"#layers\",\"aria-controls\":\"layers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"tree\"}})]):_vm._e(),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('li',{class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('externalwms'),expression:\"'externalwms'\"}],attrs:{\"href\":\"#externalwms\",\"aria-controls\":\"externalwms\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"externalwms\"}})]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('li',{class:{ active: _vm.activeTab === 'baselayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('baselayers'),expression:\"'baselayers'\"}],attrs:{\"href\":\"#baselayers\",\"aria-controls\":\"baselayers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"baselayers\"}})]):_vm._e(),_vm._v(\" \"),(_vm.legend.place ===  'tab' && _vm.showlegend)?_c('li',{class:{ active: _vm.activeTab === 'legend' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('legend'),expression:\"'legend'\"}],attrs:{\"href\":\"#legend\",\"aria-controls\":\"legend\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"legend\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content catalog-tab-content\"},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"tabpanel\",\"id\":\"layers\"}},[_c('helpdiv',{attrs:{\"message\":\"catalog_items.helptext\"}}),_vm._v(\" \"),(_vm.showTocTools)?_c('div',{staticStyle:{\"margin\":\"2px\"},attrs:{\"id\":\"g3w-catalog-toc-layers-toolbar\"}},[_c('changemapthemes',{key:_vm.project.state.gid,attrs:{\"map_themes\":_vm.project.state.map_themes},on:{\"change-map-theme\":_vm.changeMapTheme}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return _c('ul',{key:_layerstree.storeid,staticClass:\"tree-root root project-root\"},_vm._l((_layerstree.tree),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"highlightlayers\":_vm.state.highlightlayers,\"layerstree\":layerstree,\"parentFolder\":false,\"root\":true,\"legendplace\":_vm.legend.place,\"parent_mutually_exclusive\":false,\"storeid\":_layerstree.storeid}})}),1)}),_vm._v(\" \"),(_vm.state.external.vector.length)?_c('ul',{staticClass:\"g3w-external_layers-group\"},_vm._l((_vm.state.external.vector),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.vector,\"layerstree\":layerstree}})}),1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layersgroups),function(layersgroup){return _c('ul',[_c('layers-group',{attrs:{\"layersgroup\":layersgroup}})],1)})],2),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"tabpanel\",\"id\":\"externalwms\"}},[_c('ul',{staticClass:\"g3w-external_wms_layers-group\"},_vm._l((_vm.state.external.wms),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.wms,\"layerstree\":layerstree}})}),1)]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('div',{staticClass:\"tab-pane baselayers\",class:{ active: _vm.activeTab === 'baselayers' || !_vm.hasLayers },attrs:{\"role\":\"tabpanel\",\"id\":\"baselayers\"}},[_c('ul',{class:{'mobile': _vm.isMobile()},style:({gridTemplateColumns: (\"repeat(auto-fill, minmax(\" + (_vm.baselayers.length > 4 ? 80 : 120) + \"px, 1fr))\")}),attrs:{\"id\":\"baselayers-content\"}},[_vm._l((_vm.baselayers),function(baselayer){return (!baselayer.fixed)?_c('li',{key:baselayer.title},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === baselayer.id ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(baselayer)},on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(baselayer.id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"baseselayer-text text-center\"},[_vm._v(_vm._s(baselayer.title))])]):_vm._e()}),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(null)}}},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === null ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(null)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('nobaselayer'),expression:\"'nobaselayer'\"}],staticClass:\"baseselayer-text text-center\"})])],2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return (_vm.legend.place === 'tab')?_c('layerslegend',{key:_layerstree.id,attrs:{\"legend\":_vm.legend,\"active\":_vm.activeTab === 'legend',\"layerstree\":_layerstree},on:{\"showlegend\":_vm.showLegend}}):_vm._e()})],2)]),_vm._v(\" \"),_c('cataloglayercontextmenu',{attrs:{\"external\":_vm.state.external}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/CatalogChangeMapThemes.vue\":195,\"components/CatalogLayerContextMenu.vue\":196,\"gui/catalog/vue/catalogeventhub\":112,\"services/application\":346,\"services/gui\":356,\"store/catalog-layers\":369,\"store/map-controls\":371}],195:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"changemapthemes\",\n  data: function data() {\n    var collapsed = _projects2.default.getCurrentProject().state.toc_themes_init_status === 'collapsed';\n    var current_map_theme = this.map_themes.find(function (map_theme) {\n      return map_theme.default;\n    });\n    return {\n      current_map_theme: current_map_theme ? current_map_theme.theme : null,\n      collapsed: collapsed\n    };\n  },\n\n  props: {\n    map_themes: {\n      type: Array,\n      default: []\n    }\n  },\n  watch: {\n    'current_map_theme': {\n      immediate: false,\n      handler: function handler(map_theme) {\n        this.$emit('change-map-theme', map_theme);\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sidebar-menu\"},[_c('li',{staticClass:\"treeview sidebaritem skin-border-color\",staticStyle:{\"margin-bottom\":\"5px\",\"border-bottom\":\"2px solid\"},attrs:{\"id\":\"g3w-catalog-toc-views\"}},[_c('a',{ref:\"g3w-map-theme-ancor\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"5px 5px 5px 2px\"},attrs:{\"href\":\"#\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('caret-down'),staticStyle:{\"padding\":\"3px\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('eye'),staticStyle:{\"padding\":\"0 0 0 4px\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current_map_theme ),expression:\"current_map_theme \"}],staticClass:\"treeview-label g3w-long-text\",staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"normal\",\"text-overflow\":\"ellipsis\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.catalog.current_map_theme_prefix'),expression:\"'sdk.catalog.current_map_theme_prefix'\",arg:\"pre\"}],staticStyle:{\"color\":\"#cccccc !important\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(_vm._s(_vm.current_map_theme))])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.current_map_theme),expression:\"!current_map_theme\"}],staticClass:\"treeview-label\",staticStyle:{\"color\":\"#cccccc !important\",\"font-weight\":\"bold\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.choose_map_theme'),expression:\"'sdk.catalog.choose_map_theme'\"}]})])]),_vm._v(\" \"),_c('ul',{staticClass:\"treeview-menu\",class:{'menu-open': !_vm.collapsed},style:({display: _vm.collapsed ? 'none' : 'block'}),attrs:{\"id\":\"g3w-catalog-views\"}},[_c('li',{staticStyle:{\"padding\":\"5px 5px 5px 17px\"}},_vm._l((_vm.map_themes),function(map_theme,index){return _c('div',{key:map_theme.theme},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_map_theme),expression:\"current_map_theme\"}],staticClass:\"magic-radio\",attrs:{\"type\":\"radio\",\"name\":\"radio\",\"id\":(\"g3w-map_theme-\" + index)},domProps:{\"value\":map_theme.theme,\"checked\":map_theme.default,\"checked\":_vm._q(_vm.current_map_theme,map_theme.theme)},on:{\"change\":function($event){_vm.current_map_theme=map_theme.theme}}}),_vm._v(\" \"),_c('label',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":(\"g3w-map_theme-\" + index)}},[_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(map_theme.theme))])])])}),0)])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06d0cd43\"\n\n},{\"store/projects\":374}],196:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-7828b5c0]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _vueColor = require('vue-color');\n\nvar _LayerOpacityPicker = require('components/LayerOpacityPicker.vue');\n\nvar _LayerOpacityPicker2 = _interopRequireDefault(_LayerOpacityPicker);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar shpwrite = require('shp-write');\nvar TableComponent = require('gui/table/vue/table');\n\nvar OFFSETMENU = {\n  top: 50,\n  left: 15\n};\n\nexports.default = {\n  name: 'Cataloglayermenu',\n  props: {\n    external: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      layerMenu: {\n        show: false,\n        top: 0,\n        left: 0,\n        tooltip: false,\n        name: '',\n        layer: null,\n        loading: {\n          data_table: false,\n          shp: false,\n          csv: false,\n          gpx: false,\n          gpkg: false,\n          xls: false\n        },\n\n        colorMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          color: null\n        },\n\n        stylesMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          style: null,\n          default: null\n        },\n\n        metadatainfoMenu: {\n          show: false,\n          top: 0,\n          left: 0\n        }\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome,\n    'layer-opacity-picker': _LayerOpacityPicker2.default\n  },\n  directives: {\n    'click-outside-layer-menu': {\n      bind: function bind(el, binding, vnode) {\n        this.event = function (event) {\n          if (el === event.target || el.contains(event.target)) {\n            return;\n          }\n          event.stopPropagation();\n          vnode.context[binding.expression](event);\n        };\n        document.body.addEventListener('click', this.event, true);\n      },\n      unbind: function unbind(el) {\n        document.body.removeEventListener('click', this.event, true);\n      }\n    }\n\n  },\n  methods: {\n    addLayerMenuItem: function addLayerMenuItem() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.layerMenu = _extends({}, this.layerMenu, item);\n    },\n    _hideMenu: function _hideMenu() {\n      this.layerMenu.show = false;\n      this.layerMenu.styles = false;\n      this.layerMenu.loading.data_table = false;\n      this.layerMenu.loading.shp = false;\n      this.layerMenu.loading.csv = false;\n      this.layerMenu.loading.gpx = false;\n      this.layerMenu.loading.gpkg = false;\n      this.layerMenu.loading.xls = false;\n      this.layerMenu.loading.geotiff = false;\n    },\n    closeLayerMenu: function closeLayerMenu() {\n      var menu = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._hideMenu();\n      this.showColorMenu(false);\n      menu.show = false;\n    },\n    onbeforeDestroyChangeColor: function onbeforeDestroyChangeColor() {\n      this.$refs.color_picker.$off();\n    },\n    onChangeColor: function onChangeColor(val) {\n      var mapService = _gui2.default.getService('map');\n      this.layerMenu.layer.color = val;\n      var layer = mapService.getLayerByName(this.layerMenu.name);\n      var style = layer.getStyle();\n      style._g3w_options.color = val;\n      layer.setStyle(style);\n    },\n    canShowWmsUrl: function canShowWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer ? !!(!originalLayer.isType('table') && originalLayer.getFullWmsUrl()) : false;\n    },\n    canShowWfsUrl: function canShowWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer && !originalLayer.isType('table') && originalLayer.isWfsActive();\n    },\n    canDownloadXls: function canDownloadXls(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isXlsDownlodable() : false;\n    },\n    canDownloadGpx: function canDownloadGpx(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpxDownlodable() : false;\n    },\n    canDownloadGpkg: function canDownloadGpkg(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpkgDownlodable() : false;\n    },\n    canDownloadCsv: function canDownloadCsv(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isCsvDownlodable() : false;\n    },\n    canDownloadGeoTIFF: function canDownloadGeoTIFF(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGeoTIFFDownlodable() : false;\n    },\n    canDownloadShp: function canDownloadShp(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isShpDownlodable() : false;\n    },\n    getWmsUrl: function getWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWmsUrl();\n    },\n    getWfsUrl: function getWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWfsUrl();\n    },\n    copyUrl: function copyUrl() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          evt = _ref.evt,\n          layerId = _ref.layerId,\n          type = _ref.type;\n\n      var url = this['get' + type + 'Url'](layerId);\n      var ancorEement = document.createElement('a');\n      ancorEement.href = url;\n      var tempInput = document.createElement('input');\n      tempInput.value = ancorEement.href;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      $(evt.target).attr('data-original-title', t('sdk.catalog.menu.wms.copied')).tooltip('show');\n      $(evt.target).attr('title', this.copywmsurltooltip).tooltip('fixTitle');\n      document.body.removeChild(tempInput);\n      ancorEement = null;\n      setTimeout(function () {\n        return _this._hideMenu();\n      }, 600);\n    },\n    downloadGeoTIFF: function downloadGeoTIFF(layerId) {\n      var _this2 = this;\n\n      var map_extent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.geotiff = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGeoTIFF({\n        data: map_extent ? {\n          map_extent: _gui2.default.getService('map').getMapExtent().toString()\n        } : undefined\n      }).catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this2.layerMenu.loading.geotiff = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this2._hideMenu();\n      });\n    },\n    downloadShp: function downloadShp(layerId) {\n      var _this3 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.shp = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getShp().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this3.layerMenu.loading.shp = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this3._hideMenu();\n      });\n    },\n    downloadCsv: function downloadCsv(layerId) {\n      var _this4 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.csv = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getCsv().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this4.layerMenu.loading.csv = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this4._hideMenu();\n      });\n    },\n    downloadXls: function downloadXls(layerId) {\n      var _this5 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.xls = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getXls().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this5.layerMenu.loading.xls = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this5._hideMenu();\n      });\n    },\n    downloadGpx: function downloadGpx(layerId) {\n      var _this6 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpx = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpx().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this6.layerMenu.loading.gpx = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this6._hideMenu();\n      });\n    },\n    downloadGpkg: function downloadGpkg(layerId) {\n      var _this7 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpkg = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpkg().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this7.layerMenu.loading.gpkg = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this7._hideMenu();\n      });\n    },\n    changeLayerMapPosition: function changeLayerMapPosition(_ref2) {\n      var position = _ref2.position,\n          layer = _ref2.layer;\n\n      var mapService = _gui2.default.getService('map');\n      var changed = layer.position !== position;\n      if (changed) {\n        layer.position = position;\n        mapService.changeLayerMapPosition({\n          id: layer.id,\n          position: position\n        });\n        changed && this._hideMenu();\n      }\n    },\n    setWMSOpacity: function setWMSOpacity(_ref3) {\n      var _ref3$id = _ref3.id,\n          id = _ref3$id === undefined ? this.layerMenu.layer.id : _ref3$id,\n          opacity = _ref3.value;\n\n      this.layerMenu.layer.opacity = opacity;\n      var mapService = _gui2.default.getService('map');\n      mapService.changeLayerOpacity({\n        id: id,\n        opacity: opacity\n      });\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n      this._hideMenu();\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    getGeometryType: function getGeometryType(layerId) {\n      var external = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var geometryType = void 0;\n      if (external) {\n        var layer = this.external.vector.find(function (layer) {\n          return layer.id === layerId;\n        });\n        if (layer) geometryType = layer.geometryType;\n      } else {\n        var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n        geometryType = originalLayer.config.geometrytype;\n      }\n      geometryType = geometryType && geometryType !== 'NoGeometry' ? geometryType : '';\n      return geometryType;\n    },\n    downloadExternalShapefile: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer) {\n        var EPSG4326, mapService, vectorLayer, GeoJSONFormat, features, GeoJSONFile, name;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                EPSG4326 = 'EPSG:4326';\n\n                this.layerMenu.loading.shp = true;\n                mapService = _gui2.default.getService('map');\n                vectorLayer = mapService.getLayerByName(layer.name);\n                GeoJSONFormat = new ol.format.GeoJSON();\n                features = vectorLayer.getSource().getFeatures();\n\n                if (layer.crs !== EPSG4326) {\n                  features = features.map(function (feature) {\n                    var clonefeature = feature.clone();\n                    clonefeature.getGeometry().transform(layer.crs, EPSG4326);\n                    return clonefeature;\n                  });\n                }\n                GeoJSONFile = GeoJSONFormat.writeFeaturesObject(features, {\n                  featureProjection: EPSG4326\n                });\n                name = layer.name.split('.' + layer.type)[0];\n\n                shpwrite.download(GeoJSONFile, {\n                  folder: name,\n                  types: {\n                    point: name,\n                    mulipoint: name,\n                    polygon: name,\n                    multipolygon: name,\n                    line: name,\n                    polyline: name,\n                    multiline: name\n                  }\n                });\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.layerMenu.loading.shp = false;\n                this._hideMenu();\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function downloadExternalShapefile(_x6) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return downloadExternalShapefile;\n    }(),\n    showAttributeTable: function showAttributeTable(layerId) {\n      var _this8 = this;\n\n      this.layerMenu.loading.data_table = false;\n      _gui2.default.closeContent();\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      this.layerMenu.loading.data_table = true;\n      var tableContent = new TableComponent({\n        layer: layer,\n        formatter: 1\n      });\n      tableContent.on('show', function () {\n        _this8.isMobile() && _gui2.default.hideSidebar();\n        _this8.layerMenu.loading.data_table = false;\n        _this8._hideMenu();\n      });\n      tableContent.show({\n        title: layer.getName()\n      });\n    },\n    startEditing: function startEditing() {\n      var _this9 = this;\n\n      var layer = void 0;\n      var catallogLayersStores = _catalogLayers2.default.getLayersStores();\n      catallogLayersStores.forEach(function (layerStore) {\n        layer = layerStore.getLayerById(_this9.layerMenu.layer.id);\n        if (layer) {\n          layer.getLayerForEditing();\n          return false;\n        }\n      });\n    },\n    setCurrentLayerStyle: function setCurrentLayerStyle(index) {\n      var _this10 = this;\n\n      var changed = false;\n      this.layerMenu.layer.styles.forEach(function (style, idx) {\n        if (idx === index) {\n          _this10.layerMenu.stylesMenu.style = style.name;\n          changed = !style.current;\n          style.current = true;\n        } else style.current = false;\n      });\n      if (changed) {\n        var layerId = this.layerMenu.layer.id;\n        var layer = _catalogLayers2.default.getLayerById(this.layerMenu.layer.id);\n        if (layer) {\n          _catalogeventhub2.default.$emit('layer-change-style', {\n            layerId: layerId\n          });\n          layer.change();\n        }\n      }\n      this.closeLayerMenu(this.layerMenu.stylesMenu);\n    },\n    showSubMenuContext: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref5) {\n        var menu = _ref5.menu,\n            bool = _ref5.bool,\n            evt = _ref5.evt;\n        var elem, contextmenu, menuentry, submenu, height, maxH;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!bool) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                menu.top = elem.offset().top;\n                menu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                contextmenu = $(this.$refs['layer-menu']);\n                menuentry = $(evt.target);\n                submenu = menuentry.children('ul');\n                height = submenu.height();\n                maxH = contextmenu.height();\n\n                menu.maxHeight = height >= maxH ? maxH : null;\n                menu.overflowY = height >= maxH ? 'scroll' : null;\n                menu.top = (height >= maxH ? contextmenu : menuentry).offset().top;\n                menu.left = this.isMobile() ? 0 : menuentry.offset().left + menuentry.width() + (menuentry.outerWidth() - menuentry.width()) / 2 + OFFSETMENU.left;\n                _context2.next = 15;\n                return this.$nextTick();\n\n              case 15:\n                menu.show = bool;\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function showSubMenuContext(_x7) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return showSubMenuContext;\n    }(),\n    showStylesMenu: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.showSubMenuContext({\n                  menu: this.layerMenu.stylesMenu,\n                  bool: bool,\n                  evt: evt\n                });\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function showStylesMenu(_x8, _x9) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return showStylesMenu;\n    }(),\n    showMetadataInfo: function () {\n      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(bool, evt) {\n        var elem;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!bool) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                this.layerMenu.metadatainfoMenu.top = elem.offset().top;\n                this.layerMenu.metadatainfoMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                _context4.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                this.layerMenu.metadatainfoMenu.show = bool;\n\n              case 7:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function showMetadataInfo(_x10, _x11) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return showMetadataInfo;\n    }(),\n    showColorMenu: function showColorMenu(bool, evt) {\n      if (bool) {\n        var elem = $(evt.target);\n        var contextmenu = $(this.$refs['layer-menu']);\n        this.layerMenu.colorMenu.top = contextmenu.offset().top;\n        this.layerMenu.colorMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 - OFFSETMENU.left;\n      }\n      this.layerMenu.colorMenu.show = bool;\n    }\n  },\n  created: function created() {\n    var _this11 = this;\n\n    _catalogeventhub2.default.$on('showmenulayer', function () {\n      var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(layerstree, evt) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this11._hideMenu();\n                _context5.next = 3;\n                return _this11.$nextTick();\n\n              case 3:\n                _this11.layerMenu.left = evt.x;\n                _this11.layerMenu.name = layerstree.name;\n                _this11.layerMenu.layer = layerstree;\n                _this11.layerMenu.show = true;\n                _this11.layerMenu.colorMenu.color = layerstree.color;\n                _context5.next = 10;\n                return _this11.$nextTick();\n\n              case 10:\n                _this11.layerMenu.top = $(evt.target).offset().top - $(_this11.$refs['layer-menu']).height() + $(evt.target).height() / 2;\n                $('.catalog-menu-wms[data-toggle=\"tooltip\"]').tooltip();\n\n              case 12:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this11);\n      }));\n\n      return function (_x12, _x13) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.layerMenu.show)?_c('ul',{directives:[{name:\"click-outside-layer-menu\",rawName:\"v-click-outside-layer-menu\",value:(_vm.closeLayerMenu),expression:\"closeLayerMenu\"}],ref:\"layer-menu\",style:({top: _vm.layerMenu.top + 'px', left: _vm.layerMenu.left + 'px' }),attrs:{\"id\":\"layer-menu\",\"tabindex\":\"-1\"}},[_c('li',{staticClass:\"title\"},[_c('div',[_vm._v(_vm._s(_vm.layerMenu.layer.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"normal\",\"font-size\":\"0.8em\"}},[_vm._v(_vm._s(_vm.getGeometryType(_vm.layerMenu.layer.id, _vm.layerMenu.layer.external)))])]),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer)?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('layerspositions',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\"},attrs:{\"position\":_vm.layerMenu.layer.position},on:{\"layer-position-change\":function($event){return _vm.changeLayerMapPosition({position:$event, layer: _vm.layerMenu.layer})}}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.metadata && _vm.layerMenu.layer.metadata.abstract)?_c('li',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(false)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(true,  $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('info')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('Metadata'),expression:\"'Metadata'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.metadatainfoMenu.show),expression:\"layerMenu.metadatainfoMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\",\"padding-left\":\"0\",\"border-radius\":\"0 3px 3px 0\"},style:({ top: _vm.layerMenu.metadatainfoMenu.top + 'px', left: ((_vm.layerMenu.metadatainfoMenu.left+1) + \"px\") })},[_c('div',{staticClass:\"layer-menu-metadata-info\",staticStyle:{\"padding\":\"5px\"},domProps:{\"innerHTML\":_vm._s(_vm.layerMenu.layer.metadata.abstract)}})])]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.styles && _vm.layerMenu.layer.styles.length > 1)?_c('li',{staticClass:\"menu-icon\",on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(true,$event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('palette')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.styles'),expression:\"'catalog_items.contextmenu.styles'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.stylesMenu.show),expression:\"layerMenu.stylesMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"padding-left\":\"0\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\"},style:({ top: _vm.layerMenu.stylesMenu.top + 'px', left: ((_vm.layerMenu.stylesMenu.left) + \"px\"), maxHeight: _vm.layerMenu.stylesMenu.maxHeight + 'px', overflowY: _vm.layerMenu.stylesMenu.overflowY })},_vm._l((_vm.layerMenu.layer.styles),function(style,index){return _c('li',{key:style.name,on:{\"click\":function($event){$event.stopPropagation();return _vm.setCurrentLayerStyle(index)}}},[(style.current)?_c('span',{class:_vm.g3wtemplate.getFontClass('circle'),staticStyle:{\"font-size\":\"0.8em\"}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(style.name)+\"\\n          \"),(style.name === _vm.layerMenu.layer.defaultstyle && _vm.layerMenu.layer.styles.length > 1)?_c('span',[_vm._v(\"(\"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('default'),expression:\"'default'\"}]}),_vm._v(\")\")]):_vm._e()])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.visible)?_c('li',{staticClass:\"menu-icon\",staticStyle:{\"padding-right\":\"0\"}},[_c('layer-opacity-picker',{attrs:{\"layer\":_vm.layerMenu.layer},on:{\"init-menu-item\":_vm.addLayerMenuItem,\"show-menu-item\":_vm.showSubMenuContext}})],1):_vm._e(),_vm._v(\" \"),(_vm.canZoom(_vm.layerMenu.layer))?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.zoomToLayer(_vm.layerMenu.layer)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('search')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.zoomtolayer'),expression:\"'catalog_items.contextmenu.zoomtolayer'\"}],staticClass:\"item-text\"})]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.openattributetable)?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showAttributeTable(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.data_table}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('list')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.open_attribute_table'),expression:\"'catalog_items.contextmenu.open_attribute_table'\"}],staticClass:\"item-text\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(true,$event)}}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.vector_color_menu'),expression:\"'catalog_items.contextmenu.vector_color_menu'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),(_vm.layerMenu.colorMenu.show)?_c('ul',{staticStyle:{\"position\":\"fixed\"},style:({ top: _vm.layerMenu.colorMenu.top + 'px', left: _vm.layerMenu.colorMenu.left + 'px' })},[_c('li',{staticStyle:{\"padding\":\"0\"}},[_c('chrome-picker',{ref:\"color_picker\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"hook:beforeDestroy\":_vm.onbeforeDestroyChangeColor,\"input\":_vm.onChangeColor},model:{value:(_vm.layerMenu.colorMenu.color),callback:function ($$v) {_vm.$set(_vm.layerMenu.colorMenu, \"color\", $$v)},expression:\"layerMenu.colorMenu.color\"}})],1)]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadExternalShapefile(_vm.layerMenu.layer)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type === 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.setwmsopacity'),expression:\"'sdk.catalog.menu.setwmsopacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(_vm.layerMenu.layer.opacity))])]),_vm._v(\" \"),_c('range',{attrs:{\"value\":_vm.layerMenu.layer.opacity,\"min\":0,\"max\":1,\"step\":0.1,\"sync\":true},on:{\"changed\":_vm._hideMenu,\"change-range\":_vm.setWMSOpacity}})],1):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff'),expression:\"'sdk.catalog.menu.download.geotiff'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id, true)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff'),staticStyle:{\"color\":\"#777\"}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('crop'),staticStyle:{\"position\":\"absolute\",\"left\":\"-7px\",\"bottom\":\"8px\",\"font-size\":\"1.2em\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff_map_extent'),expression:\"'sdk.catalog.menu.download.geotiff_map_extent'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadShp(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadShp(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpx(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpx(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpx}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpx')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpx'),expression:\"'sdk.catalog.menu.download.gpx'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpkg(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpkg(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpkg}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpkg')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpkg'),expression:\"'sdk.catalog.menu.download.gpkg'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadCsv(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadCsv(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.csv}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('csv')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.csv'),expression:\"'sdk.catalog.menu.download.csv'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadXls(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadXls(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.xls}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('xls')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.xls'),expression:\"'sdk.catalog.menu.download.xls'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canShowWmsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wms'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WMS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWmsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e(),_vm._v(\" \"),(_vm.canShowWfsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wfs'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WFS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWfsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e()]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7828b5c0\"\n\n},{\"components/LayerOpacityPicker.vue\":250,\"core/i18n/i18n.service\":13,\"gui/catalog/vue/catalogeventhub\":112,\"gui/table/vue/table\":181,\"services/application\":346,\"services/gui\":356,\"shp-write\":\"shp-write\",\"store/catalog-layers\":369,\"vue-color\":\"vue-color\",\"vueify/lib/insert-css\":1}],197:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer-legend[data-v-fc3d03ea]{padding-left:36px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"layerlegend\",\n  props: {\n    legendplace: {\n      type: 'String'\n    },\n    layer: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      categories: []\n    };\n  },\n\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return \"undefined\" !== typeof this.layer.featurecount;\n    },\n    externallegend: function externallegend() {\n      return 'wms' === this.layer.source.type;\n    },\n    legend: function legend() {\n      return this.layer.legend;\n    },\n    show: function show() {\n      return this.layer.expanded && this.layer.visible && ('toc' === this.legendplace || 'tab' === this.legendplace && this.layer.categories);\n    }\n  },\n  methods: {\n    getWmsSourceLayerLegendUrl: function getWmsSourceLayerLegendUrl() {\n      return this.getProjectLayer().getLegendUrl({\n        width: 16,\n        height: 16\n      });\n    },\n    getProjectLayer: function getProjectLayer() {\n      return _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    isDisabled: function isDisabled(index) {\n      return this.categories[index].disabled;\n    },\n    showHideLayerCategory: function showHideLayerCategory(index) {\n      var projectLayer = this.getProjectLayer();\n      this.categories[index].checked = !this.categories[index].checked;\n      projectLayer.change();\n      if ('tab' === this.legendplace) {\n        this.layer.legend.change = true;\n      } else if (this.categories[index].checked && this.mapReady) {\n        this.setLayerCategories(false);\n      }\n    },\n    setError: function setError() {\n      this.legend.error = true;\n      this.legend.loading = false;\n    },\n    urlLoaded: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.legend.loading = false;\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function urlLoaded() {\n        return _ref.apply(this, arguments);\n      }\n\n      return urlLoaded;\n    }(),\n    handlerChangeLegend: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.externallegend) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 2:\n                if (!(options.layerId === this.layer.id)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                _context2.next = 5;\n                return this.setLayerCategories(true);\n\n              case 5:\n                if (!this.dynamic) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 8;\n                return this.setLayerCategories(false);\n\n              case 8:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handlerChangeLegend() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return handlerChangeLegend;\n    }(),\n    setLayerCategories: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var projectLayer, categories, _ref4, _ref4$nodes, nodes;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                projectLayer = this.getProjectLayer();\n                categories = projectLayer.getCategories();\n\n                if (!(all && categories)) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                this.categories = categories;\n                _context3.next = 13;\n                break;\n\n              case 7:\n                _context3.next = 9;\n                return projectLayer.getLegendGraphic({ all: all });\n\n              case 9:\n                _ref4 = _context3.sent;\n                _ref4$nodes = _ref4.nodes;\n                nodes = _ref4$nodes === undefined ? [] : _ref4$nodes;\n\n                if (all) {\n                  this._setAllLayerCategories(nodes);\n                } else {\n                  this._updateLayerCategories(nodes, categories);\n                }\n\n              case 13:\n                _context3.next = 18;\n                break;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3['catch'](0);\n\n                this.setError();\n\n              case 18:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 15]]);\n      }));\n\n      function setLayerCategories() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setLayerCategories;\n    }(),\n    _setAllLayerCategories: function _setAllLayerCategories(nodes) {\n      var projectLayer = this.getProjectLayer();\n\n      var categories = [];\n      nodes.forEach(function (_ref5) {\n        var icon = _ref5.icon,\n            title = _ref5.title,\n            ruleKey = _ref5.ruleKey,\n            checked = _ref5.checked,\n            _ref5$symbols = _ref5.symbols,\n            symbols = _ref5$symbols === undefined ? [] : _ref5$symbols;\n\n        if (icon) {\n          categories.push({ icon: icon, title: title, ruleKey: ruleKey, checked: checked, disabled: false });\n        } else {\n          symbols.forEach(function (symbol) {\n            symbol._checked = symbol.checked;\n            symbol.disabled = false;\n            categories.push(symbol);\n          });\n        }\n      });\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n    },\n    _updateLayerCategories: function _updateLayerCategories(nodes, categories) {\n      var projectLayer = this.getProjectLayer();\n\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n\n      if (nodes.length) {\n        nodes.forEach(function (_ref6) {\n          var icon = _ref6.icon,\n              title = _ref6.title,\n              _ref6$symbols = _ref6.symbols,\n              symbols = _ref6$symbols === undefined ? [] : _ref6$symbols;\n\n          if (icon) {\n            symbols = [{ icon: icon, title: title }];\n          }\n          categories.forEach(function (category) {\n            var find = symbols.find(function (symbol) {\n              return symbol.icon === category.icon && symbol.title === category.title;\n            });\n            var disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n            category.disabled = disabled && !find;\n          });\n        });\n      } else {\n        categories.forEach(function (category) {\n          return category.disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n        });\n      }\n    }\n  },\n  watch: {\n    'layer.visible': function layerVisible(visible) {\n      if (!this.externallegend && visible) {\n        this.setLayerCategories(!this.dynamic);\n      }\n    }\n  },\n\n  created: function () {\n    var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n              this.mapReady = false;\n              _catalogeventhub2.default.$on('layer-change-style', this.handlerChangeLegend);\n\n              if (this.layer.visible && this.layer.source && 'wms' !== this.layer.source.type) {\n                this.setLayerCategories(true).then(function () {\n                  if (_this.dynamic) {\n                    _gui2.default.getService('map').on('change-map-legend-params', _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n                      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                        while (1) {\n                          switch (_context4.prev = _context4.next) {\n                            case 0:\n                              _this.mapReady = true;\n                              if (_this.layer.visible && !_this.externallegend && ('toc' === _this.legendplace || _this.layer.categories)) {\n                                _this.setLayerCategories(false);\n                              }\n\n                            case 2:\n                            case 'end':\n                              return _context4.stop();\n                          }\n                        }\n                      }, _callee4, _this);\n                    })));\n                  }\n                });\n              }\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function created() {\n      return _ref7.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _catalogeventhub2.default.$off('layer-change-style', this.handlerChangeLegend);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"layer-legend\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[(_vm.legend)?_c('bar-loader',{attrs:{\"loading\":_vm.legend.loading}}):_vm._e(),_vm._v(\" \"),(_vm.externallegend)?_c('figure',[_c('img',{attrs:{\"src\":_vm.getWmsSourceLayerLegendUrl()}})]):_c('figure',_vm._l((_vm.categories),function(category,index){return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(category.disabled),expression:\"category.disabled\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"width\":\"100%\"}},[(category.ruleKey)?_c('span',{class:_vm.g3wtemplate.getFontClass(category.checked ? 'check': 'uncheck'),staticStyle:{\"padding-right\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showHideLayerCategory(index)}}}):_vm._e(),_vm._v(\" \"),(('toc' === _vm.legendplace))?_c('img',{attrs:{\"src\":category.icon && (\"data:image/png;base64,\" + (category.icon))},on:{\"error\":function($event){return _vm.setError()},\"load\":function($event){return _vm.urlLoaded()}}}):_vm._e(),_vm._v(\" \"),(('tab' === _vm.legendplace && category.ruleKey) || ('toc' === _vm.legendplace))?_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"padding-left\":\"3px\"}},[_c('span',[_vm._v(_vm._s(category.title))]),_vm._v(\" \"),(_vm.showfeaturecount && 'undefined' !== typeof category.ruleKey)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"\\n          [\"+_vm._s(_vm.layer.featurecount[category.ruleKey])+\"]\\n        \")]):_vm._e()]):_vm._e()])}),0)],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fc3d03ea\"\n\n},{\"gui/catalog/vue/catalogeventhub\":112,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374,\"vueify/lib/insert-css\":1}],198:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: {\n    layersgroup: {\n      type: Object\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"border\":\"1px solid #ffffff33\",\"margin\":\"5px\"}},[_c('h4',{staticStyle:{\"margin\":\"5px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layersgroup.title))]),_vm._v(\" \"),_vm._l((_vm.layersgroup.nodes),function(node){return _c('tristate-tree',{staticClass:\"item\",attrs:{\"layerstree\":node}})})],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],199:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['layerstree', 'legend', 'active'],\n  data: function data() {\n    return {};\n  },\n\n  computed: {\n    visiblelayers: function visiblelayers() {\n      var _visiblelayers = [];\n      var traverse = function traverse(obj) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var layer = _step.value;\n\n            if (!_.isNil(layer.id) && layer.visible && layer.geolayer && !layer.exclude_from_legend) {\n              _visiblelayers.push(layer);\n            }\n            if (!_.isNil(layer.nodes)) {\n              traverse(layer.nodes);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      };\n      traverse(this.layerstree.tree);\n      return _visiblelayers;\n    }\n  },\n  watch: {\n    'layerstree': {\n      handler: function handler(val, old) {},\n\n      deep: true\n    },\n    'visiblelayers': function visiblelayers(visibleLayers) {\n      this.$emit('showlegend', !!visibleLayers.length);\n    }\n  },\n  created: function created() {\n    this.$emit('showlegend', !!this.visiblelayers.length);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-pane\",class:{active:_vm.active},attrs:{\"role\":\"tabpanel\",\"id\":\"legend\"}},[_c('layerslegend-items',{attrs:{\"active\":_vm.active,\"legend\":_vm.legend,\"layers\":_vm.visiblelayers}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],200:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    layers: {\n      default: []\n    },\n    legend: {\n      type: Object\n    },\n    active: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      legendurls: []\n    };\n  },\n\n  watch: {\n    layers: {\n      handler: function handler() {\n        this.getLegendSrc();\n      },\n\n      immediate: false\n    },\n\n    active: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool) {\n        var changeLayersLegend;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!bool) {\n                  _context.next = 6;\n                  break;\n                }\n\n                changeLayersLegend = this.layers.filter(function (layer) {\n                  return layer.legend.change;\n                });\n\n                if (!(this.legendurls.length === 0 || this.dynamic || changeLayersLegend.length)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 5;\n                return this.getLegendSrc(this.layers);\n\n              case 5:\n                changeLayersLegend.forEach(function (layer) {\n                  return layer.legend.change = false;\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function active(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return active;\n    }()\n  },\n  methods: {\n    setError: function setError(legendurl) {\n      legendurl.error = true;\n      legendurl.loading = false;\n    },\n    urlLoaded: function urlLoaded(legendurl) {\n      legendurl.loading = false;\n    },\n    getLegendUrl: function getLegendUrl(layer) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var catalogLayer = _catalogLayers2.default.getLayerById(layer.id);\n      if (catalogLayer) {\n        return catalogLayer.getLegendUrl(params, {\n          all: !this.dynamic,\n          format: 'image/png',\n          categories: layer.categories\n        });\n      }\n    },\n    getLegendUrlParams: function getLegendUrlParams() {\n      var urlLayerName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var paramsUrl = '';\n      var params = {\n        LAYERS: [],\n        STYLES: [],\n        LEGEND_ON: [],\n        LEGEND_OFF: []\n      };\n\n      urlLayerName.reduce(function (_, layer) {\n        params.LAYERS.push(layer.layerName);\n        params.STYLES.push(layer.style);\n        if (layer.legend_on) {\n          params.LEGEND_ON.push(layer.legend_on);\n        }\n        if (layer.legend_off) {\n          params.LEGEND_OFF.push(layer.legend_off);\n        }\n        return params;\n      }, params);\n\n      paramsUrl += 'LAYERS=' + encodeURIComponent(params.LAYERS.join(','));\n      paramsUrl += '&STYLES=' + encodeURIComponent(params.STYLES.join(','));\n\n      if (params.LEGEND_ON.length) {\n        paramsUrl += '&LEGEND_ON=' + encodeURIComponent(params.LEGEND_ON.join(','));\n      }\n\n      if (params.LEGEND_OFF.length) {\n        paramsUrl += '&LEGEND_OFF=' + encodeURIComponent(params.LEGEND_OFF.join(','));\n      }\n\n      if (_application2.default.getFilterToken()) {\n        paramsUrl += '&filtertoken=' + _application2.default.getFilterToken();\n      }\n\n      return paramsUrl;\n    },\n    getLegendSrc: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var urlMethodsLayersName, self, layers, i, layer, style, urlLayersName, url, prefix, legend_on, legend_off, _url$split, _url$split2, _prefix$split, _prefix$split2, _prefix$split3, _prefix$split4, method, _urlLayersName, _url2, _loop, _url3;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.legendurls = [];\n\n                _context2.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                if (this.active) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 5:\n                urlMethodsLayersName = {\n                  GET: {},\n                  POST: {}\n                };\n                self = this;\n                layers = this.layers.filter(function (layer) {\n                  return layer.geolayer;\n                });\n                i = 0;\n\n              case 9:\n                if (!(i < layers.length)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                layer = layers[i];\n                style = Array.isArray(layer.styles) && layer.styles.find(function (style) {\n                  return style.current;\n                });\n                urlLayersName = layer.source && layer.source.url || layer.external ? urlMethodsLayersName.GET : urlMethodsLayersName[layer.ows_method];\n                url = '' + this.getLegendUrl(layer, this.legend.config);\n\n                if (!(\"undefined\" === typeof url)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                return _context2.abrupt('continue', 17);\n\n              case 16:\n                if (layer.source && layer.source.url) {\n                  urlLayersName[url] = [];\n                } else {\n                  prefix = void 0, legend_on = void 0, legend_off = void 0;\n                  _url$split = url.split('LAYER=');\n                  _url$split2 = _slicedToArray(_url$split, 2);\n                  prefix = _url$split2[0];\n                  layerName = _url$split2[1];\n                  _prefix$split = prefix.split('LEGEND_ON=');\n                  _prefix$split2 = _slicedToArray(_prefix$split, 2);\n                  prefix = _prefix$split2[0];\n                  legend_on = _prefix$split2[1];\n                  _prefix$split3 = prefix.split('LEGEND_OFF=');\n                  _prefix$split4 = _slicedToArray(_prefix$split3, 2);\n                  prefix = _prefix$split4[0];\n                  legend_off = _prefix$split4[1];\n\n\n                  if (!urlLayersName[prefix]) {\n                    urlLayersName[prefix] = [];\n                  }\n\n                  urlLayersName[prefix].unshift({\n                    layerName: layerName,\n                    style: style && style.name,\n                    legend_on: (legend_on || '').replace('&', ''),\n                    legend_off: (legend_off || '').replace('&', '') });\n                }\n\n              case 17:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 20:\n                for (method in urlMethodsLayersName) {\n                  _urlLayersName = urlMethodsLayersName[method];\n\n                  if ('GET' === method) {\n                    for (_url2 in _urlLayersName) {\n                      if (_urlLayersName[_url2].length) {\n                        _url2 += '' + this.getLegendUrlParams(_urlLayersName[_url2]);\n                      }\n                      this.legendurls.push({\n                        loading: true,\n                        error: false,\n                        url: _url2\n                      });\n                    }\n                  } else {\n                    _loop = function _loop(_url3) {\n                      var xhr = new XMLHttpRequest();\n                      var econdedParams = [];\n\n                      var _url3$split = _url3.split('?'),\n                          _url3$split2 = _slicedToArray(_url3$split, 2),\n                          _url = _url3$split2[0],\n                          params = _url3$split2[1];\n\n                      params = params.split('&');\n\n                      params.forEach(function (param) {\n                        var _param$split = param.split('='),\n                            _param$split2 = _slicedToArray(_param$split, 2),\n                            key = _param$split2[0],\n                            value = _param$split2[1];\n\n                        if (key) {\n                          econdedParams.push(key + '=' + encodeURIComponent(value));\n                        }\n                      });\n\n                      params = econdedParams.join('&') + '&' + _this.getLegendUrlParams(_urlLayersName[_url3]);\n\n                      var legendUrlObject = {\n                        loading: true,\n                        url: null,\n                        error: false\n                      };\n\n                      xhr.open('POST', _url);\n                      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                      xhr.responseType = 'blob';\n\n                      self.legendurls.push(legendUrlObject);\n\n                      xhr.onload = function () {\n                        if (undefined !== this.response) {\n                          legendUrlObject.url = window.URL.createObjectURL(this.response);\n                        }\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.onerror = function () {\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.send(params);\n                    };\n\n                    for (_url3 in _urlLayersName) {\n                      _loop(_url3);\n                    }\n                  }\n                }\n\n              case 21:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLegendSrc() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return getLegendSrc;\n    }()\n  },\n\n  created: function created() {\n    var _this2 = this;\n\n    this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n    this.mapReady = false;\n\n    _catalogeventhub2.default.$on('layer-change-style', function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2.getLegendSrc();\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.dynamic) {\n                _gui2.default.getService('map').on('change-map-legend-params', function () {\n                  _this3.mapReady = true;\n                  _this3.getLegendSrc();\n                });\n              } else {\n                this.mapReady = true;\n              }\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend-item\"},_vm._l((_vm.legendurls),function(legendurl){return _c('figure',[_c('bar-loader',{attrs:{\"loading\":legendurl.loading}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!legendurl.loading && !legendurl.error),expression:\"!legendurl.loading && !legendurl.error\"}],attrs:{\"src\":legendurl.url},on:{\"error\":function($event){return _vm.setError(legendurl)},\"load\":function($event){return _vm.urlLoaded(legendurl)}}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1)}),0)}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/catalog/vue/catalogeventhub\":112,\"services/application\":346,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],201:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CatalogLayerLegend = require('components/CatalogLayerLegend.vue');\n\nvar _CatalogLayerLegend2 = _interopRequireDefault(_CatalogLayerLegend);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    downloadFile = _require.downloadFile;\n\nvar CLICK_EVENT = {\n  count: 0,\n  timeoutID: null, handleClick: function handleClick(callback, context) {\n    CLICK_EVENT.count += 1;\n    if (!CLICK_EVENT.timeoutID) {\n      CLICK_EVENT.timeoutID = setTimeout(function () {\n        callback.call(context);\n        CLICK_EVENT.reset();\n      }, 300);\n    }\n  },\n  reset: function reset() {\n    CLICK_EVENT.count = 0;\n    CLICK_EVENT.timeoutID = null;\n  }\n};\n\nexports.default = {\n  props: ['layerstree', 'storeid', 'legend', 'legendplace', 'highlightlayers', 'parent_mutually_exclusive', 'parentFolder', 'externallayers', 'root', 'parent'],\n  components: {\n    'layerlegend': _CatalogLayerLegend2.default\n  },\n  data: function data() {\n    return {\n      expanded: this.layerstree.expanded,\n      isGroupChecked: true,\n      controltoggled: false,\n      n_childs: null,\n      filtered: false\n    };\n  },\n\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return \"undefined\" !== typeof this.layerstree.featurecount;\n    },\n    showLegendLayer: function showLegendLayer() {\n      return !this.layerstree.exclude_from_legend;\n    },\n    showLayerTocLegend: function showLayerTocLegend() {\n      return !this.isGroup && this.showLegendLayer && this.layerstree.geolayer;\n    },\n    isGroup: function isGroup() {\n      return !!this.layerstree.nodes;\n    },\n    legendlayerposition: function legendlayerposition() {\n      return this.showLegendLayer && this.layerstree.legend ? this.legendplace : 'tab';\n    },\n    showscalevisibilityclass: function showscalevisibilityclass() {\n      return !this.isGroup && this.layerstree.scalebasedvisibility;\n    },\n    showScaleVisibilityToolip: function showScaleVisibilityToolip() {\n      return this.showscalevisibilityclass && this.layerstree.disabled && this.layerstree.checked;\n    },\n    isTable: function isTable() {\n      return !this.isGroup && !this.layerstree.geolayer && !this.layerstree.external;\n    },\n    isHidden: function isHidden() {\n      return this.layerstree.hidden && true === this.layerstree.hidden;\n    },\n    selected: function selected() {\n      this.layerstree.selected = this.layerstree.disabled && this.layerstree.selected ? false : this.layerstree.selected;\n    },\n    isHighLight: function isHighLight() {\n      return this._isHighLightProjectLayer || this._isHighLightExternalLayer;\n    },\n    isInGrey: function isInGrey() {\n      return !this.isGroup && !this.isTable && !this.layerstree.external && (!this.layerstree.visible || this.layerstree.disabled);\n    },\n    getFeatureCount: function getFeatureCount() {\n      return Object.values(this.layerstree.featurecount).reduce(function (total, categoryFeatureCount) {\n        return total + 1 * categoryFeatureCount;\n      }, 0);\n    },\n    _isHighLightProjectLayer: function _isHighLightProjectLayer() {\n      return this.highlightlayers && !this.isGroup && _catalogLayers2.default.getLayerById(this.layerstree.id).getTocHighlightable() && this.layerstree.visible;\n    },\n    _isHighLightExternalLayer: function _isHighLightExternalLayer() {\n      return this.layerstree.external && this.layerstree.visible && \"vector\" && this.layerstree._type && true === this.layerstree.tochighlightable;\n    }\n  },\n  watch: {\n    'layerstree.disabled': function layerstreeDisabled(bool) {},\n    'layerstree.checked': function layerstreeChecked(n, o) {\n      if (this.isGroup) {\n        this.handleGroupChecked(this.layerstree);\n      } else {\n        this.handleLayerChecked(this.layerstree);\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      if (this.isGroup && !this.layerstree.checked) {\n        this.handleGroupChecked(this.layerstree);\n      }\n      if (this.isGroup && !this.root) {\n        this.layerstree.nodes.forEach(function (node) {\n          if (node.id && _this.parent_mutually_exclusive && !_this.layerstree.mutually_exclusive) {\n            node.uncheckable = true;\n          }\n        });\n      }\n    },\n    handleGroupChecked: function handleGroupChecked(group) {\n      var checked = group.checked,\n          parentGroup = group.parentGroup,\n          nodes = group.nodes;\n\n      var setAllLayersVisible = function setAllLayersVisible(_ref) {\n        var nodes = _ref.nodes,\n            visible = _ref.visible;\n\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.parentGroup.checked && node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(visible);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: visible && node.checked });\n          }\n        });\n      };\n      if (checked) {\n        var visible = parentGroup ? parentGroup.checked : true;\n        if (parentGroup && parentGroup.mutually_exclusive) {\n          parentGroup.nodes.forEach(function (node) {\n            node.checked = node.groupId === group.groupId;\n            if (node.checked) {\n              setAllLayersVisible({ nodes: node.nodes, visible: visible });\n            }\n          });\n        } else {\n          setAllLayersVisible({ nodes: nodes, visible: visible });\n        }\n        while (parentGroup) {\n          parentGroup.checked = parentGroup.root || parentGroup.checked;\n          parentGroup = parentGroup.parentGroup;\n        }\n      } else {\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(false);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: false });\n          }\n        });\n      }\n    },\n    handleLayerChecked: function handleLayerChecked(layerObject) {\n      var checked = layerObject.checked,\n          id = layerObject.id,\n          disabled = layerObject.disabled,\n          _layerObject$projectL = layerObject.projectLayer,\n          projectLayer = _layerObject$projectL === undefined ? false : _layerObject$projectL,\n          parentGroup = layerObject.parentGroup;\n\n      if (!projectLayer) {\n        layerObject.visible = checked;\n        _gui2.default.getService('map').changeLayerVisibility({ id: id, visible: checked });\n      } else {\n          var layer = _catalogLayers2.default.getLayerById(id);\n          if (checked) {\n            var visible = layer.setVisible(!disabled);\n            if (visible && 'toc' === this.legendplace) {\n              setTimeout(function () {\n                return _catalogeventhub2.default.$emit('layer-change-style', { layerId: id });\n              });\n            }\n            if (parentGroup.mutually_exclusive) {\n              parentGroup.nodes.forEach(function (node) {\n                return node.checked = node.id === id;\n              });\n            }\n            while (parentGroup) {\n              parentGroup.checked = true;\n              parentGroup = parentGroup.parentGroup;\n            }\n          } else {\n            layer.setVisible(false);\n          }\n          _catalogeventhub2.default.$emit('treenodevisible', layer);\n        }\n    },\n    toggleFilterLayer: function toggleFilterLayer() {\n      _catalogeventhub2.default.$emit('activefiltertokenlayer', this.storeid, this.layerstree);\n    },\n    clearSelection: function clearSelection() {\n      _catalogeventhub2.default.$emit('unselectionlayer', this.storeid, this.layerstree);\n    },\n    toggle: function toggle() {\n      this.layerstree.checked = !this.layerstree.checked;\n    },\n    expandCollapse: function expandCollapse() {\n      this.layerstree.expanded = !this.layerstree.expanded;\n    },\n    select: function select() {\n      if (this.layerstree.external && 'undefined' !== typeof this.layerstree.selected) {\n        _catalogeventhub2.default.$emit('treenodeexternalselected', this.layerstree);\n      } else if (!this.isGroup && !this.isTable) {\n        _catalogeventhub2.default.$emit('treenodeselected', this.storeid, this.layerstree);\n      }\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    onTreeItemClick: function onTreeItemClick() {\n      var _this2 = this;\n\n      if (this.isGroup || this.isTable) {\n        return;\n      }\n      CLICK_EVENT.handleClick(function () {\n        switch (CLICK_EVENT.count) {\n          case 1:\n            _this2.select();break;\n          case 2:\n            _this2.canZoom(_this2.layerstree) && _this2.zoomToLayer(_this2.layerstree);break;\n        }\n      }, this);\n    },\n    triClass: function triClass() {\n      return this.g3wtemplate.getFontClass(this.layerstree.checked ? 'check' : 'uncheck');\n    },\n    downloadExternalLayer: function downloadExternalLayer(download) {\n      if (download.file) {\n        downloadFile(download.file);\n      } else if (download.url) {}\n    },\n    removeExternalLayer: function removeExternalLayer(name, type) {\n      _gui2.default.getService('map').removeExternalLayer(name, wms);\n    },\n    showLayerMenu: function showLayerMenu(layerstree, evt) {\n      if (!this.isGroup && (this.layerstree.openattributetable || this.layerstree.downloadable || this.layerstree.geolayer || this.layerstree.external)) {\n        _catalogeventhub2.default.$emit('showmenulayer', layerstree, evt);\n      }\n    }\n  },\n\n  created: function created() {\n    this.init();\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('span.scalevisibility').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"tree-item\",class:{\n    selected: !_vm.isGroup || !_vm.isTable ? _vm.layerstree.selected : false,\n    itemmarginbottom: !_vm.isGroup,\n    disabled: _vm.isInGrey, group: _vm.isGroup\n  },style:({\n    marginLeft: !_vm.isGroup ? '5px' : '0'\n  }),on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showLayerMenu(_vm.layerstree, $event)},\"click\":function($event){$event.stopPropagation();return _vm.onTreeItemClick($event)}}},[(_vm.isGroup)?_c('span',{staticClass:\"root collapse-expande-collapse-icon\",class:[\n      { bold : _vm.isGroup },\n       _vm.g3wtemplate.getFontClass(_vm.layerstree.expanded ? 'caret-down' : 'caret-right')\n    ],staticStyle:{\"padding-right\":\"2px\"},on:{\"click\":_vm.expandCollapse}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('span',{class:[_vm.triClass()],staticStyle:{\"color\":\"#ffffff\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}}):(_vm.isTable)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],class:[\n      _vm.parentFolder ? 'child' : 'root',\n      _vm.g3wtemplate.getFontClass('table')\n    ],staticStyle:{\"padding-left\":\"18px\"}}):[(_vm.layerstree.external && _vm.layerstree.removable)?_c('span',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding-left\":\"1px\"},on:{\"click\":function($event){return _vm.removeExternalLayer(_vm.layerstree.name, _vm.layerstree._type)}}}):_vm._e(),_vm._v(\" \"),(_vm.layerstree.external && _vm.layerstree.download)?_c('span',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"color\":\"#ffffff\",\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.downloadExternalLayer(_vm.layerstree.download)}}}):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],staticClass:\"checkbox-layer\",class:_vm.parentFolder ? 'child' : 'root'},[('toc' === _vm.legendlayerposition || !_vm.isGroup && _vm.layerstree.categories)?_c('span',{staticClass:\"collapse-expande-collapse-icon\",class:_vm.g3wtemplate.getFontClass(_vm.layerstree.visible && _vm.layerstree.expanded ? 'caret-down' : 'caret-right'),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.expandCollapse($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{class:[\n          _vm.g3wtemplate.getFontClass(_vm.layerstree.checked ? 'check': 'uncheck'),\n          { 'toc-added-external-layer': (!_vm.layerstree.legend && _vm.layerstree.external) }\n        ],style:({\n          paddingLeft: ('toc' === _vm.legendlayerposition)\n            ? '5px'\n            : !_vm.isGroup && _vm.layerstree.categories\n              ? '5px'\n              : (!_vm.layerstree.legend && _vm.layerstree.external)\n                ? '1px'\n                : '18px'\n        }),on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}})])],_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden || _vm.isGroup),expression:\"!layerstree.hidden || isGroup\"}],staticClass:\"tree-node-title\",class:{\n      disabled: !_vm.layerstree.external && (_vm.layerstree.disabled || (_vm.layerstree.id && !_vm.layerstree.visible)),\n      bold: _vm.isGroup\n    }},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.text\",value:(_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale:\" + (_vm.layerstree.maxscale)) : ''),expression:\"showScaleVisibilityToolip ? `minscale:${layerstree.minscale} - maxscale:${layerstree.maxscale}` : ''\",modifiers:{\"text\":true}}],staticClass:\"skin-tooltip-top g3w-long-text\",class:{\n        highlightlayer: _vm.isHighLight,\n        scalevisibility: _vm.showscalevisibilityclass\n      },attrs:{\"data-placement\":\"top\",\"current-tooltip\":_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale: \" + (_vm.layerstree.maxscale)) : ''}},[_c('span',[_vm._v(_vm._s(_vm.layerstree.title))]),_vm._v(\" \"),(!_vm.isGroup && _vm.showfeaturecount)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[\"+_vm._s(_vm.getFeatureCount)+\"]\")]):_vm._e()]),_vm._v(\" \"),((!_vm.isGroup && _vm.layerstree.selection))?_c('div',[(_vm.layerstree.selection.active)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:_vm.g3wtemplate.getFontClass('success'),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.clearSelection($event)}}}):_vm._e(),_vm._v(\" \"),(!_vm.layerstree.external && (_vm.layerstree.selection.active || _vm.layerstree.filter.active))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.layerstree.filter.active ? 'active' : ''],attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.toggleFilterLayer($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.showLayerTocLegend)?_c('layerlegend',{attrs:{\"legendplace\":_vm.legendplace,\"layer\":_vm.layerstree}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerstree.expanded),expression:\"layerstree.expanded\"}],staticClass:\"tree-content-items group\",class:[(\"g3w-lendplace-\" + _vm.legendplace)]},_vm._l((_vm.layerstree.nodes),function(_layerstree){return _c('span',{key:_layerstree.id || _layerstree.groupId},[_c('tristate-tree',{attrs:{\"root\":false,\"legendConfig\":_vm.legend,\"legendplace\":_vm.legendplace,\"highlightlayers\":_vm.highlightlayers,\"parentFolder\":_vm.isGroup,\"layerstree\":_layerstree,\"storeid\":_vm.storeid,\"parent\":_vm.layerstree,\"parent_mutually_exclusive\":!!_vm.layerstree.mutually_exclusive}})],1)}),0):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/CatalogLayerLegend.vue\":197,\"core/utils/utils\":67,\"gui/catalog/vue/catalogeventhub\":112,\"services/gui\":356,\"store/catalog-layers\":369}],202:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field[data-v-6783d4c4]{background-color:transparent!important;padding-top:3px;padding-bottom:3px;display:flex;align-items:center}.value[data-v-6783d4c4]{position:relative}.field div[data-v-6783d4c4]{padding-left:3px;padding-right:3px}.field_value[data-v-6783d4c4]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"field\",\n  props: ['state']\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\",style:({fontSize: _vm.isMobile() && '0.8em'})},[(_vm.state.label)?_c('div',{staticClass:\"col-sm-6  field_label\"},[_vm._t(\"label\",[_vm._v(_vm._s(_vm.state.label))])],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"field_value\",class:[_vm.state.label ? 'col-sm-6' : null ]},[_vm._t(\"field\",[_c('span',{staticStyle:{\"word-wrap\":\"break-word\"},domProps:{\"innerHTML\":_vm._s(_vm.state.value)}})])],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6783d4c4\"\n\n},{\"vueify/lib/insert-css\":1}],203:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar fieldsService = require('gui/fields/fieldsservice');\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"g3w-field\",\n  props: {\n    state: {\n      required: true\n    },\n    feature: {\n      type: Object\n    }\n  },\n  components: _extends({}, Fields),\n  created: function created() {\n    this.type = fieldsService.getType(this.state);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.type,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-46843712\"\n\n},{\"gui/fields/fields\":117,\"gui/fields/fieldsservice\":118}],204:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-3362679d]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.font['eye-close'] : _vm.g3wtemplate.font['eye']],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3362679d\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":1}],205:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-70d2a0b2]{cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nexports.default = {\n  name: \"image\",\n  props: ['state'],\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null,\n      value: this.state.value.mime_type !== undefined ? this.state.value.value : this.state.value\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      return toRawType(value) === 'Object' ? value.photo : value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (toRawType(this.value) === 'Object') this.value.active = true;\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      return this.values.map(function (image) {\n        return { src: _this.getSrc(image) };\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"field\"},slot:\"field\"},[_vm._l((_vm.values),function(value,index){return _c('img',{staticClass:\"img-responsive\",staticStyle:{\"max-height\":\"50px\"},attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})}),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-70d2a0b2\"\n\n},{\"components/Field.vue\":202,\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],206:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_link[data-v-156f65de]{max-width:100%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"link\",\n  props: ['state'],\n  data: function data() {\n    return {\n      value: null\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  methods: {\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  created: function created() {\n    this.value = this.state.value && _typeof(this.state.value) === 'object' ? this.state.value.value : this.state.value;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.link_button'),expression:\"'info.link_button'\"}],staticClass:\"btn skin-button field_link\",attrs:{\"slot\":\"field\"},on:{\"click\":function($event){return _vm.openLink(_vm.value)}},slot:\"field\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-156f65de\"\n\n},{\"components/Field.vue\":202,\"vueify/lib/insert-css\":1}],207:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-media\",\n  mixins: [_mixins.mediaMixin],\n  props: ['state'],\n  computed: {\n    type: function type() {\n      return this.getMediaType(this.state.mime_type).type;\n    },\n    value: function value() {\n      return this.state.value;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"preview\"},[_c('a',{attrs:{\"href\":_vm.value,\"target\":\"_blank\"}},[_c('div',{staticClass:\"previewtype\",class:_vm.type},[_c('i',{staticClass:\"fa-2x\",class:_vm.g3wtemplate.font[_vm.type]})])]),_vm._v(\" \"),_c('div',{staticClass:\"filename\"},[_vm._v(_vm._s(_vm.filename))]),_vm._v(\" \"),_vm._t(\"default\")],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7b8309b0\"\n\n},{\"mixins\":338}],208:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_text_table[data-v-db21acde]{background-color:transparent!important}.field_text_table .field_label[data-v-db21acde]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"text\",\n  props: ['state'],\n  components: {\n    Field: _Field2.default\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-db21acde\"\n\n},{\"components/Field.vue\":202,\"vueify/lib/insert-css\":1}],209:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require(\"components/Field.vue\");\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"vuefield\",\n  props: {\n    feature: {\n      type: Object\n    },\n    state: {\n      type: Object,\n      default: {\n        value: null,\n        vueoptions: {\n          component: {}\n        }\n      }\n    }\n  },\n  components: {\n    Field: _Field2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"field\"},slot:\"field\"},[_c(_vm.state.vueoptions.component,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"value\":_vm.state.value}})],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-67a07f52\"\n\n},{\"components/Field.vue\":202}],210:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _floatbar = require(\"services/floatbar\");\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"Floatbar\",\n  data: function data() {\n    return {\n      stack: _floatbar2.default.stack.state\n    };\n  },\n\n  computed: {\n    panelsinstack: function panelsinstack() {\n      return this.stack.contentsdata.length > 0;\n    },\n    panelname: function panelname() {\n      var name = void 0;\n      if (this.stack.contentsdata.length) {\n        name = this.stack.contentsdata.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    },\n    closable: function closable() {\n      return _floatbar2.default.closable;\n    }\n  },\n  watch: {\n    \"stack.contentsdata\": function stackContentsdata() {\n      var children = $(\"#g3w-floatbarpanel-placeholder\").children();\n      children.forEach(function (child, index) {\n        if (index == children.length - 1) $(child).show();else $(child).hide();\n      });\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _floatbar2.default.closePanel();\n    }\n  }\n\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"control-sidebar control-sidebar-light\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"floatbar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"control-sidebar\",\"role\":\"button\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Expand\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\"},attrs:{\"id\":\"floatbar-spinner\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[(_vm.closable)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-12\"},[_c('button',{staticClass:\"pull-right close-panel-button\",class:_vm.g3wtemplate.getFontClass('close'),on:{\"click\":_vm.closePanel}})])]):_vm._e(),_vm._v(\" \"),(_vm.panelname)?_c('div',[_c('h4',{staticClass:\"g3w-floatbarpanel-name\"},[_vm._v(_vm._s(_vm.panelname))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3w-floatbarpanel-placeholder\",attrs:{\"id\":\"g3w-floatbarpanel-placeholder\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-29b017dd\"\n\n},{\"services/floatbar\":355}],211:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FormHeader = require('components/FormHeader.vue');\n\nvar _FormHeader2 = _interopRequireDefault(_FormHeader);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: {},\n      switchcomponent: false,\n      body: {\n        components: {\n          before: [],\n          after: []\n        }\n      }\n    };\n  },\n\n  components: {\n    g3wformheader: _FormHeader2.default,\n    G3wFormFooter: _FormFooter2.default\n  },\n  transitions: { 'addremovetransition': 'showhide' },\n  methods: {\n    isRootComponent: function isRootComponent(component) {\n      return this.$options.service.isRootComponent(component);\n    },\n    backToRoot: function backToRoot() {\n      this.$options.service.setRootComponent();\n    },\n    handleRelation: function handleRelation(relationId) {\n      this.$options.service.handleRelation(relationId);\n    },\n    disableComponent: function disableComponent(_ref) {\n      var id = _ref.id,\n          _ref$disabled = _ref.disabled,\n          disabled = _ref$disabled === undefined ? false : _ref$disabled;\n\n      this.$options.service.disableComponent({\n        id: id,\n        disabled: disabled\n      });\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$options.service.setCurrentFormPercentage(perc);\n    },\n    switchComponent: function switchComponent(id) {\n      this.switchcomponent = true;\n      this.$options.service.setCurrentComponentById(id);\n    },\n    changeInput: function changeInput(input) {\n      return this.$options.service.changeInput(input);\n    },\n    addToValidate: function addToValidate(input) {\n      this.$options.service.addToValidate(input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$options.service.removeToValidate(input);\n    },\n    reloadLayout: function reloadLayout() {\n      var height = $(this.$el).height();\n      if (!height) return;\n      var footerDOM = $(this.$refs.g3w_form_footer.$el);\n      var bodyFromDOM = $(this.$refs.g3wform_body);\n      var footerHeight = footerDOM.height() ? footerDOM.height() + 50 : 50;\n      var bodyHeight = height - ($(this.$refs.g3wformheader.$el).height() + footerHeight);\n      bodyFromDOM.height(bodyHeight);\n    }\n  },\n  updated: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.switchcomponent && setTimeout(function () {\n                return _this.switchcomponent = false;\n              }, 0);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function updated() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return updated;\n  }(),\n  created: function created() {\n    var _this2 = this;\n\n    this.$options.service.getEventBus().$on('set-main-component', function () {\n      _this2.switchComponent(0);\n    });\n    this.$options.service.getEventBus().$on('component-validation', function (_ref3) {\n      var id = _ref3.id,\n          valid = _ref3.valid;\n\n      _this2.$options.service.setValidComponent({\n        id: id,\n        valid: valid\n      });\n    });\n    this.$options.service.getEventBus().$on('addtovalidate', this.addToValidate);\n    this.$options.service.getEventBus().$on('disable-component', this.disableComponent);\n  },\n  mounted: function mounted() {\n    this.$options.service.isValid();\n    this.$options.service.setReady(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clearAll();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_content\",staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('g3wformheader',{ref:\"g3wformheader\",attrs:{\"currentid\":_vm.state.currentheaderid,\"headers\":_vm.state.headers,\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"resize-form\":_vm.resizeForm,\"clickheader\":_vm.switchComponent}}),_vm._v(\" \"),_c('div',{ref:\"g3wform_body\",staticClass:\"g3wform_body\"},[_vm._l((_vm.body.components.before),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})}),_vm._v(\" \"),_c('keep-alive',[_c(_vm.state.component,{tag:\"component\",attrs:{\"handleRelation\":_vm.handleRelation,\"state\":_vm.state},on:{\"hook:activated\":_vm.reloadLayout,\"addtovalidate\":_vm.addToValidate,\"removetovalidate\":_vm.removeToValidate,\"changeinput\":_vm.changeInput}})],1),_vm._v(\" \"),_vm._l((_vm.body.components.after),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})})],2),_vm._v(\" \"),_c('g3w-form-footer',{ref:\"g3w_form_footer\",attrs:{\"isRootComponent\":_vm.isRootComponent,\"backToRoot\":_vm.backToRoot,\"state\":_vm.state}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/FormFooter.vue\":213,\"components/FormHeader.vue\":214}],212:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = Vue.extend({\n  props: ['state', 'handleRelation'],\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  components: {\n    G3wFormInputs: _InputG3WFormInputs2.default\n  },\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.$emit('addtovalidate', input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$emit('removetovalidate', input);\n    },\n    changeInput: function changeInput(input) {\n      this.$emit('changeinput', input);\n    }\n  },\n  computed: {\n    hasFormStructure: function hasFormStructure() {\n      return !!this.state.formstructure;\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[(_vm.hasFormStructure)?[_c('tabs',{attrs:{\"layerid\":_vm.state.layerid,\"feature\":_vm.state.feature,\"handleRelation\":_vm.handleRelation,\"contenttype\":'editing',\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput,\"removeToValidate\":_vm.removeToValidate,\"tabs\":_vm.state.formstructure,\"fields\":_vm.state.fields}})]:[_c('g3w-form-inputs',{attrs:{\"state\":_vm.state,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})]],2)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/InputG3WFormInputs.vue\":237}],213:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = Vue.extend({\n  props: {\n    state: {\n      type: Object\n    },\n    backToRoot: {\n      type: Function,\n      default: function _default() {}\n    },\n    isRootComponent: {\n      type: Function\n    }\n  },\n  data: function data() {\n    this.originalbuttons = this.state.buttons.map(function (button) {\n      return _extends({}, button);\n    });\n    return {\n      id: \"footer\",\n      active: true,\n      show: true\n    };\n  },\n\n  computed: {\n    enableSave: function enableSave() {\n      return this.state.valid && this.state.update;\n    }\n  },\n  methods: {\n    exec: function exec(cbk) {\n      cbk instanceof Function ? cbk(this.state.fields) : function () {\n        return this.state.fields;\n      }();\n    },\n    btnEnabled: function btnEnabled(button) {\n      var _button$enabled = button.enabled,\n          enabled = _button$enabled === undefined ? true : _button$enabled,\n          type = button.type;\n\n      return enabled && (type !== 'save' || type === 'save' && this.enableSave);\n    },\n    isValid: function isValid() {\n      return this.state.valid;\n    }\n  },\n  watch: {\n    'state.component': function stateComponent(component) {\n      this.show = this.isRootComponent(component);\n    },\n\n    'state.update': {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.state.buttons.find(function (button, index) {\n          if (button.eventButtons && button.eventButtons.update) {\n            if (button.eventButtons.update[value]) {\n              _this.state.buttons.splice(index, 1, _extends({}, button, button.eventButtons.update[value]));\n            } else _this.state.buttons.splice(index, 1, _this.originalbuttons[index]);\n          }\n        });\n      }\n    }\n  },\n  activated: function activated() {\n    this.active = true;\n  },\n  deactivated: function deactivated() {\n    this.active = false;\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group g3wform_footer\"},[(_vm.show)?[_vm._t(\"default\",[_c('div',{staticStyle:{\"margin\":\"3px\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n        * \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}]}),_vm._v(\" \"),(_vm.state.footer.message)?_c('div',{style:([_vm.state.footer.style])},[_vm._v(_vm._s(_vm.state.footer.message))]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.state.buttons),function(button){return _c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.btnEnabled(button)),expression:\"!btnEnabled(button)\"},{name:\"t\",rawName:\"v-t\",value:(button.title),expression:\"button.title\"}],key:button.id,staticClass:\"btn \",class:[button.class],attrs:{\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exec(button.cbk)}}})})])]:[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}],staticClass:\"btn skin-button\",on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"prevet\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.backToRoot($event)}}})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],214:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Vue.extend({\n  props: {\n    headers: {\n      type: Array,\n      default: []\n    },\n    currentid: {\n      type: 'String'\n    },\n    update: {\n      type: Boolean\n    },\n    valid: {\n      type: Boolean\n    }\n  },\n  methods: {\n    click: function click(id) {\n      if (this.currentid !== id) this.$emit('clickheader', id);\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$emit('resize-form', perc);\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_header box-header with-border\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('section',{staticClass:\"g3wform_header_content\"},_vm._l((_vm.headers),function(header){return _c('span',{key:header.id,staticClass:\"title\",class:[{item_selected: _vm.currentid === header.id && _vm.headers.length > 1},[_vm.headers.length > 1 ? 'tabs' : 'one' ]],staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},style:({fontSize: _vm.isMobile() && '1em !important'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.click(header.id)}}},[(header.icon)?_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{class:header.icon})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:(header.title),expression:\"header.title\",arg:\"pre\"}],staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(header.name))]),_vm._v(\" \"),_c(header.component,{tag:\"component\",attrs:{\"valid\":_vm.valid,\"update\":_vm.update}})],1)}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{}],215:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"bar-loader\",\n  props: ['loading', 'color'],\n  render: function render(createElement) {\n    if (this.loading) {\n      return createElement('div', {\n        style: {\n          backgroundColor: this.color || '#FFFFFF',\n          border: 0\n        },\n        class: {\n          \"bar-loader\": true\n        }\n      });\n    }\n  }\n};\n\n},{}],216:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"datetime\",\n  props: {\n    type: {\n      type: String,\n      default: 'date' },\n    format: {\n      type: String,\n      default: 'YYYY-MM-DD'\n    },\n    minDate: {\n      default: false\n    },\n    maxDate: {\n      default: false\n    },\n    enabledDates: {\n      default: false\n    },\n    value: {},\n    label: {\n      default: 'Date'\n    }\n  },\n  data: function data() {\n    return {\n      datetimevalue: this.value\n    };\n  },\n\n  methods: {\n    changeInput: function changeInput(evt) {},\n    change: function change(value) {\n      var date = moment(value).format(this.format);\n      this.$emit('change', date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.datetimeinputelement = $(this.$refs.iddatetimepicker);\n              this.datetimeinputelement.datetimepicker({\n                minDate: this.minDate,\n                maxDate: this.maxDate,\n                defaultDate: this.datetimevalue,\n                useCurrent: false,\n                allowInputToggle: true,\n                enabledDates: this.enabledDates,\n                showClose: true,\n                format: this.format,\n                locale: _applicationState2.default.language,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  horizontal: 'right'\n                }\n              });\n              this.datetimeinputelement.on(\"dp.change\", function (_ref2) {\n                var date = _ref2.date;\n\n                _this.change(date);\n              });\n              this.datetimeinputelement.on(\"dp.hide\", function (evt) {});\n              _applicationState2.default.ismobile && setTimeout(function () {\n                return datetimeinputelement.blur();\n              });\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    value: function value(datetime) {\n      this.datetimevalue = datetime;\n      this.datetimeinputelement.data(\"DateTimePicker\").date(datetime);\n    },\n    minDate: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(mindatetime) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").minDate(mindatetime);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function minDate(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return minDate;\n    }(),\n    maxDate: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(maxdatetime) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").maxDate(maxdatetime);\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function maxDate(_x2) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return maxDate;\n    }(),\n    enabledDates: function enabledDates(dates) {\n      this.datetimeinputelement.data(\"DateTimePicker\").enabledDates(dates);\n    }\n  },\n  created: function created() {\n    this.id = getUniqueDomId();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"datimecontainer\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('div',{ref:\"iddatetimepicker\",staticClass:\"input-group date\"},[_c('input',{ref:\"idinputdatetimepiker\",staticClass:\"form-control\",attrs:{\"id\":_vm.id,\"type\":\"text\"},on:{\"change\":_vm.changeInput}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{staticClass:\"datetimeinput\",class:[_vm.type === 'time'? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-e7683bf8\"\n\n},{\"core/utils/utils\":67,\"store/application-state\":368}],217:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".divider[data-v-6409ddc0]{display:block;position:relative;padding:0;margin-bottom:5px;height:0;width:100%;max-height:0;font-size:1px;line-height:0;clear:both;border:none;border-bottom:2px solid #eee}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"divider\"\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"divider\"})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6409ddc0\"\n\n},{\"vueify/lib/insert-css\":1}],218:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".modal-content[data-v-38db7d79]{background:hsla(0,0%,100%,.6);border-radius:3px}.modal-dialog[data-v-38db7d79]{display:inline-block;text-align:left;vertical-align:middle}.modal[data-v-38db7d79]{text-align:center;padding:0!important}.modal[data-v-38db7d79]:before{content:\\\"\\\";display:inline-block;height:100%;vertical-align:middle;margin-right:-4px}.carousel .carousel-control span[data-v-38db7d79]{color:#3c8dbc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-images-gallery\",\n  props: {\n    images: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String,\n      default: 'gallery'\n    },\n    active: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      carouselId: 'carousel_' + Date.now()\n    };\n  },\n\n  methods: {\n    isActive: function isActive(src) {\n      return src === active;\n    },\n    isRelativePath: function isRelativePath(url) {\n      if (!_.startsWith(url, '/') && !_.startsWith(url, 'http')) {\n        return _projects2.default.getConfig().mediaurl + url;\n      }\n      return url;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"carousel slide\",attrs:{\"id\":_vm.carouselId,\"data-interval\":\"false\"}},[_c('div',{staticClass:\"carousel-inner\"},_vm._l((_vm.images),function(image,index){return _c('div',{staticClass:\"item\",class:_vm.active == index ? 'active' : ''},[_c('img',{staticStyle:{\"margin\":\"auto\"},attrs:{\"src\":_vm.isRelativePath(image.src)}})])}),0),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"left carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"prev\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"right carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"next\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-38db7d79\"\n\n},{\"store/projects\":374,\"vueify/lib/insert-css\":1}],219:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-ea8dc510]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.getFontClass('eye-close') : _vm.g3wtemplate.getFontClass('eye')],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ea8dc510\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":1}],220:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".help_div_container[data-v-5d3720b7]{color:#fff;text-align:justify;position:relative;border-radius:3px;margin:5px 2px;white-space:pre-line;background-color:#384246!important}.help_icon[data-v-5d3720b7]{text-align:center;font-size:.7em;margin-top:-4px;margin-left:-4px;background-color:#222d32;font-weight:700;color:#fff;position:absolute;top:0;left:0;width:15px;height:15px;box-shadow:0 3px 5px rgba(0,0,0,.5);border:1px solid #fff;border-radius:50%}.g3w-help-message-content[data-v-5d3720b7]{max-height:200px;padding:10px;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"helpdiv\",\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'info' }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"help_div_container\"},[_c('span',{staticClass:\"help_icon\"},[_vm._v(\"i\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"g3w-help-message-content\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5d3720b7\"\n\n},{\"vueify/lib/insert-css\":1}],221:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-b7d14a7c]{cursor:pointer}.g3w-image[data-v-b7d14a7c]{padding-left:0!important;min-width:100px;max-width:100%;cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-image\",\n  props: {\n    value: {}\n  },\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null\n    };\n  },\n\n  components: {\n    'g3w-images-gallery': _GlobalGallery2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n        return value.photo;\n      }\n      return value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (_typeof(this.value) === 'object') {\n        this.value.active = true;\n      }\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      var images = [];\n      this.values.forEach(function (image) {\n        images.push({\n          src: _this.getSrc(image)\n        });\n      });\n      return images;\n    }\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.values),function(value,index){return _c('div',{staticClass:\"g3w-image col-md-6 col-sm-12\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})])}),0),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b7d14a7c\"\n\n},{\"components/GlobalGallery.vue\":218,\"vueify/lib/insert-css\":1}],222:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-layer-positions[data-v-026784c2]{display:flex;flex-direction:column;margin:5px 0}.g3w-layer-positions-info-message[data-v-026784c2]{margin-bottom:5px;font-weight:700}.g3w-layer-positions-checkboxes[data-v-026784c2]{display:flex;justify-content:space-between}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"layerspositions\",\n  props: {\n    position: {\n      type: String,\n      default: _constant.MAP_SETTINGS.LAYER_POSITIONS.default\n    }\n  },\n  data: function data() {\n    return {\n      layerpositions: _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions()\n    };\n  },\n\n  methods: {\n    change: function change() {\n      this.$emit('layer-position-change', this.position);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.ids = {\n      layerpositions: getUniqueDomId()\n    };\n    this.layerpositions.forEach(function (layerposition) {\n      return _this.ids[layerposition] = getUniqueDomId();\n    });\n    this.change();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-layer-positions\",attrs:{\"id\":_vm.ids.layerpositions}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(\"layer_position.message\"),expression:\"`layer_position.message`\"}],staticClass:\"g3w-layer-positions-info-message\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-layer-positions-checkboxes\"},_vm._l((_vm.layerpositions),function(layerposition){return _c('div',{key:layerposition},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],staticClass:\"form-control magic-radio\",attrs:{\"type\":\"radio\",\"id\":_vm.ids[layerposition]},domProps:{\"value\":layerposition,\"checked\":_vm.position === layerposition,\"checked\":_vm._q(_vm.position,layerposition)},on:{\"change\":[function($event){_vm.position=layerposition},_vm.change]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"layer_position.\" + layerposition)),expression:\"`layer_position.${layerposition}`\"}],attrs:{\"for\":_vm.ids[layerposition]}})])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-026784c2\"\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],223:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"progressbar\",\n  props: ['progress'],\n  render: function render(createElement) {\n    if (this.progress !== null && this.progress !== undefined) {\n      return createElement('div', {\n        style: {\n          margin: '5px 0 5px 0',\n          width: '100%',\n          backgroundColor: '#FFFFFF',\n          border: 0,\n          borderRadius: '3px'\n        }\n      }, [createElement('div', {\n        style: {\n          width: (this.progress < 10 ? 10 : this.progress) + '%',\n          display: 'flex',\n          justifyContent: 'center',\n          fontWeight: 'bold'\n        },\n        class: {\n          'skin-background-color': true\n        }\n      }, [createElement('span', this.progress + '%')])]);\n    }\n  }\n};\n\n},{}],224:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".min-max-label[data-v-a8bbacb8]{align-self:end;font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"range\",\n  props: {\n    id: {\n      required: true\n    },\n\n    label: {\n      type: \"String\",\n      default: ''\n    },\n\n    min: {\n      type: Number,\n      default: 0\n    },\n\n    max: {\n      type: Number,\n      default: 10\n    },\n\n    step: {\n      type: Number,\n      default: 1\n    },\n\n    labelValue: {},\n\n    value: {\n      default: 0\n    },\n\n    sync: {\n      type: Boolean,\n      default: false\n    },\n\n    showValue: {\n      type: Boolean,\n      default: false\n    },\n\n    unit: {\n      type: String,\n      default: ''\n    }\n\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    changeBackGround: function changeBackGround(value) {\n      this.$refs['range-input'].style.backgroundSize = (value ? (value - this.min) * 100 / (this.max - this.min) : 0) + \"% 100%\";\n    },\n    setValue: function setValue(value) {\n      this.changedValue(value);\n    },\n    change: function change(evt) {\n      var value = 1 * evt.target.value;\n      this.changedValue(value);\n    },\n    emitChangeValue: function emitChangeValue(value) {\n      this.value = value;\n      this.$emit('change-range', {\n        id: this.id,\n        value: value\n      });\n    }\n  },\n  watch: {\n    value: function value(_value) {\n      this.changeBackGround(_value);\n      this.sync && this.emitChangeValue(_value);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.changedValue = this.sync ? function () {\n      return _this.$emit('changed');\n    } : debounce(function (value) {\n      _this.emitChangeValue(value);\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.changeBackGround(this.value);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"font-weight\":\"bold\"}},[_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.min))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin\":\"0 3px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticClass:\"skin-color\",staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"range-input\",attrs:{\"type\":\"range\",\"id\":_vm.id,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step},domProps:{\"value\":(_vm.value)},on:{\"change\":_vm.change,\"__r\":function($event){_vm.value=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.max))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])])]),_vm._v(\" \"),(_vm.showValue)?[_c('span',[_vm._v(_vm._s(_vm.value))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]:_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-a8bbacb8\"\n\n},{\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],225:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"g3w-resize\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    orientation: {\n      type: String,\n      required: true,\n      default: 'h'\n    },\n    where: {\n      type: 'string',\n      default: 'document'\n    },\n    moveFnc: {\n      type: Function,\n      default: function _default(evt) {\n        return console.log(evt);\n      }\n    },\n    style: {\n      type: Object,\n      default: {}\n    }\n  },\n  methods: {\n    wrapMoveFnc: function wrapMoveFnc(evt) {\n      this.domElementMoveListen.addEventListener('mouseup', this.stop, { once: true });\n      this.moveFnc(evt);\n    },\n    start: function start() {\n      this.domElementMoveListen.addEventListener('mousemove', this.wrapMoveFnc);\n    },\n    stop: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.domElementMoveListen.removeEventListener('mousemove', this.wrapMoveFnc);\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                _gui2.default.emit('resize');\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stop() {\n        return _ref.apply(this, arguments);\n      }\n\n      return stop;\n    }()\n  },\n  watch: {\n    'orientation': {\n      handler: function handler(orientation) {\n        this.style.cursor = orientation === 'v' ? 'ns-resize' : 'col-resize';\n      },\n\n      immediate: true\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.domElementMoveListen;\n              this.style = _extends({\n                minWidth: '5px',\n                backgroundColor: '#dddddd',\n                cursor: 'col-resize'\n              }, this.style);\n              _context2.t0 = this.where;\n              _context2.next = _context2.t0 === 'content' ? 5 : _context2.t0 === 'document' ? 7 : 7;\n              break;\n\n            case 5:\n              this.domElementMoveListen = document.getElementById('g3w-view-content');\n              return _context2.abrupt('break', 8);\n\n            case 7:\n              this.domElementMoveListen = document;\n\n            case 8:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.domElementMoveListen = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],style:(_vm.style),attrs:{\"id\":_vm.$attrs.id},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.start($event)}}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9cb98a46\"\n\n},{\"services/gui\":356}],226:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'resize-icon',\n    props: {\n        type: {\n            type: String,\n            default: 'h'\n        }\n    },\n    computed: function computed() {},\n\n    methods: {\n        toggleFull: function toggleFull() {\n            _gui2.default.toggleFullViewContent();\n            _gui2.default.emit('resize');\n        },\n        resetToDefault: function resetToDefault() {\n            _gui2.default.resetToDefaultContentPercentage();\n            _gui2.default.emit('resize');\n        }\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('enlange_reduce'),expression:\"'enlange_reduce'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass((\"resize-\" + _vm.type)),staticStyle:{\"cursor\":\"pointer\",\"margin-right\":\"3px\"},on:{\"click\":_vm.toggleFull}}),_vm._v(\" \"),_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('reset_default'),expression:\"'reset_default'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass(\"resize-default\"),staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.resetToDefault}})])}\n__vue__options__.staticRenderFns = []\n\n},{\"services/gui\":356}],227:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".br[data-v-8413fc94]{border-radius:8px}.card[data-v-8413fc94]{width:80%;padding:10px 20px;margin:50px auto}.item[data-v-8413fc94]{height:15px;background:#ccc;margin-top:15px}.item-light[data-v-8413fc94]{background:#ddd}.text80[data-v-8413fc94]{width:80%}.chart-wrapper[data-v-8413fc94]{height:50px;display:flex;align-items:baseline;margin-bottom:20px}.chart-item[data-v-8413fc94]{height:100%;width:15px;background:#ccc;margin-right:10px}.chart-item-80[data-v-8413fc94]{height:80%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"skeleton\",\n  mounted: function mounted() {\n    this.$nextTick(function () {});\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card br\"},[_c('div',{staticClass:\"chart-wrapper\"},[_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item chart-item-80 item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br chart-item-80\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item br text80\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br text80\"})])}]\n__vue__options__._scopeId = \"data-v-8413fc94\"\n\n},{\"vueify/lib/insert-css\":1}],228:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".formquerytabs[data-v-2cbd8ce7]{overflow:hidden!important;display:flex;flex-wrap:wrap}.formquerytabs>li[data-v-2cbd8ce7]{flex:1;display:flex}.formquerytabs>li>a[data-v-2cbd8ce7]{font-weight:700;flex:1}.tab-content[data-v-2cbd8ce7]{//margin-top:10px}.nav-tabs>li>a.mobile[data-v-2cbd8ce7]{padding:5px 10px}.tab_a[data-v-2cbd8ce7]{padding:5px;margin-right:0!important;//border:1px solid #eee;border-bottom:0;margin-bottom:3px;border-radius:3px 3px 0 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name$props$component;\n\nvar _tabservice = require('core/expression/tabservice');\n\nvar _tabservice2 = _interopRequireDefault(_tabservice);\n\nvar _GlobalTabsNode = require('components/GlobalTabsNode.vue');\n\nvar _GlobalTabsNode2 = _interopRequireDefault(_GlobalTabsNode);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = (_name$props$component = {\n  name: \"tabs\",\n  props: {\n    group: {\n      type: Boolean,\n      default: false\n    },\n    contenttype: {\n      default: 'query' },\n    layerid: {\n      required: true\n    },\n    tabs: {\n      required: true\n    },\n    feature: {\n      required: true\n    },\n    fields: {\n      required: true\n    },\n    addToValidate: Function,\n    removeToValidate: Function,\n    changeInput: Function,\n    showRelationByField: {\n      type: Boolean,\n      default: true\n    },\n    handleRelation: {\n      type: Function,\n      default: function _default() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            relation = _ref.relation,\n            layerId = _ref.layerId,\n            feature = _ref.feature;\n\n        return _gui2.default.getService('queryresults').showRelation({ relation: relation, layerId: layerId, feature: feature });\n      }\n    }\n  },\n  components: {\n    Node: _GlobalTabsNode2.default\n  },\n  data: function data() {\n    return {\n      ids: []\n    };\n  },\n\n  computed: {\n    required_fields: function required_fields() {\n      return this.contenttype === 'editing' && this.fields.filter(function (field) {\n        return field.validate.required;\n      }).map(function (field) {\n        return field.name;\n      });\n    },\n    show: function show() {\n      return this.tabs.reduce(function (accumulator, tab) {\n        return accumulator || tab.visible === undefined || !!tab.visible;\n      }, false);\n    }\n  },\n  methods: {\n    setVisibility: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(tab) {\n        var visible;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _tabservice2.default.getVisibility({\n                  qgs_layer_id: this.layerid,\n                  expression: tab.visibility_expression.expression,\n                  feature: this.feature,\n                  contenttype: this.contenttype\n                });\n\n              case 2:\n                visible = _context.sent;\n\n                tab.visible = visible;\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setVisibility(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return setVisibility;\n    }(),\n    setEditingRequireTab: function setEditingRequireTab(obj) {\n      var _this = this;\n\n      var required = false;\n      if (obj.nodes === undefined) required = this.required_fields.indexOf(obj.field_name) !== -1;else required = !!obj.nodes.find(function (node) {\n        return _this.setEditingRequireTab(node);\n      });\n      return required;\n    },\n    getField: function getField(fieldName) {\n      return this.fields.find(function (field) {\n        return field.name === fieldName;\n      });\n    }\n  }\n}, _defineProperty(_name$props$component, 'components', {\n  Node: _GlobalTabsNode2.default\n}), _defineProperty(_name$props$component, 'created', function () {\n  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var _loop, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, tab, nodes;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.unwatch = [];\n\n            _loop = function _loop(tab) {\n              if (tab.visibility_expression) {\n                if (tab.visible === undefined) _this2.$set(tab, 'visible', 0);\n                _this2.setVisibility(tab);\n              }\n              if (_this2.contenttype === 'editing') {\n                if (tab.required === undefined) tab.required = _this2.setEditingRequireTab(tab);\n                if (tab.visibility_expression) {\n                  tab.visibility_expression.referenced_columns.forEach(function (column) {\n                    var field = _this2.fields.find(function (field) {\n                      return field.name === column;\n                    });\n                    _this2.unwatch.push(_this2.$watch(function () {\n                      return field.value;\n                    }, function () {\n                      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n                        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                          while (1) {\n                            switch (_context2.prev = _context2.next) {\n                              case 0:\n                                _this2.feature.set(field.name, value);\n                                _this2.setVisibility(tab);\n\n                              case 2:\n                              case 'end':\n                                return _context2.stop();\n                            }\n                          }\n                        }, _callee2, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref4.apply(this, arguments);\n                      };\n                    }()));\n                  });\n                }\n              }\n              _this2.ids.push('tab_' + getUniqueDomId());\n            };\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context3.prev = 5;\n            for (_iterator = this.tabs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              tab = _step.value;\n\n              _loop(tab);\n            }\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3['catch'](5);\n            _didIteratorError = true;\n            _iteratorError = _context3.t0;\n\n          case 13:\n            _context3.prev = 13;\n            _context3.prev = 14;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 16:\n            _context3.prev = 16;\n\n            if (!_didIteratorError) {\n              _context3.next = 19;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 19:\n            return _context3.finish(16);\n\n          case 20:\n            return _context3.finish(13);\n\n          case 21:\n            this.root_tabs = [];\n            if (!this.group) {\n              nodes = [];\n\n              this.tabs.forEach(function (tab_node) {\n                if (tab_node.nodes) nodes.push(tab_node);else {\n                  if (nodes.length) {\n                    _this2.root_tabs.push([].concat(nodes));\n                    nodes.splice(0);\n                  }_this2.root_tabs.push({ nodes: [tab_node] });\n                }\n              });\n              if (nodes.length) this.root_tabs.push(nodes);\n            } else this.root_tabs = [this.tabs];\n\n          case 23:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[5, 9, 13, 21], [14,, 16, 20]]);\n  }));\n\n  function created() {\n    return _ref3.apply(this, arguments);\n  }\n\n  return created;\n}()), _defineProperty(_name$props$component, 'beforeDestroy', function beforeDestroy() {\n  this.unwatch.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatch = null;\n}), _name$props$component);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"tabs-wrapper\"},[_vm._l((_vm.root_tabs),function(root_tab){return [(Array.isArray(root_tab))?[_c('ul',{staticClass:\"formquerytabs nav nav-tabs\"},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('li',{class:{active: index === 0}},[_c('a',{staticClass:\"tab_a\",class:{'mobile': _vm.isMobile(), 'group-title': _vm.group},style:({fontSize: _vm.isMobile() ? '1.0em': ((_vm.group ? '1.1': '1.2') + \"em\")}),attrs:{\"data-toggle\":\"tab\",\"href\":(\"#\" + (_vm.ids[index]))}},[_vm._v(\"\\n              \"+_vm._s(tab.name)+\" \"),(_vm.contenttype === 'editing' && tab.required)?_c('span',{staticStyle:{\"padding-left\":\"3px\",\"font-size\":\"1.1em\"}},[_vm._v(\"*\")]):_vm._e()])]):_vm._e()]})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\",class:{editing: _vm.contenttype === 'editing'}},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('div',{staticClass:\"tab-pane fade\",class:{'in active': index === 0},attrs:{\"id\":_vm.ids[index]}},[_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":tab}})],1):_vm._e()]})],2)]:_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":root_tab}})]})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2cbd8ce7\"\n\n},{\"components/GlobalTabsNode.vue\":229,\"core/expression/tabservice\":11,\"core/utils/utils\":67,\"services/gui\":356,\"vueify/lib/insert-css\":1}],229:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tab-node[data-v-9685e2ee]{min-width:0;overflow:hidden}.title[data-v-9685e2ee]{font-weight:700;width:100%;color:#fff;padding:3px;margin-top:5px;margin-bottom:5px;border-radius:2px}.node-row[data-v-9685e2ee]{margin-bottom:0;column-gap:2px;margin-top:0;display:grid;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column}.row.mobile[data-v-9685e2ee]{margin-bottom:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"node\",\n  props: ['contenttype', 'node', 'fields', 'showTitle', 'addToValidate', 'removeToValidate', 'changeInput', 'layerid', 'feature', 'showRelationByField', 'handleRelation'],\n  components: _extends({\n    G3wInput: _InputG3W2.default\n  }, Fields),\n  data: function data() {\n    return {\n      context: this.contenttype,\n      editing_required: false\n    };\n  },\n\n  computed: {\n    filterNodes: function filterNodes() {\n      var _this = this;\n\n      var filterNodes = this.node.nodes && this.node.nodes.filter(function (node) {\n        if (_this.getNodeType(node) === 'group') {\n          return true;\n        } else if (!node.nodes && node.name && _this.getNodeType(node) != 'group') {\n          node.relation = true;\n          return true;\n        } else {\n          return !!_this.fields.find(function (field) {\n            var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n            return field.name === field_name || node.relation;\n          });\n        }\n      });\n      return filterNodes || [];\n    },\n    nodesLength: function nodesLength() {\n      return this.filterNodes.length;\n    },\n    rows: function rows() {\n      var rowCount = 1;\n      if (this.nodesLength === 0) rowCount = 0;else if (this.columnNumber <= this.nodesLength) {\n        var rest = this.nodesLength % this.columnNumber;\n        rowCount = Math.floor(this.nodesLength / this.columnNumber) + rest;\n      }\n      return rowCount;\n    },\n    columnNumber: function columnNumber() {\n      var columnCount = parseInt(this.node.columncount) ? parseInt(this.node.columncount) : 1;\n      return columnCount > this.nodesLength ? this.nodesLength : columnCount;\n    },\n    showGroupTile: function showGroupTile() {\n      return this.showTitle && this.node.showlabel && this.node.groupbox;\n    }\n  },\n  methods: {\n    loadingRelation: function loadingRelation(relation) {\n      var layer = _projects2.default.getCurrentProject().getLayerById(this.layerid);\n      var relation_project = layer.getRelationById(relation.name);\n      return relation_project.state;\n    },\n    isRelationDisabled: function isRelationDisabled(relation) {\n      return this.getRelationName(relation.name) === undefined || this.contenttype === 'editing' && this.isRelationChildLayerNotEditable(relation);\n    },\n    getRelationName: function getRelationName(relationId) {\n      var relation = _projects2.default.getCurrentProject().getRelationById(relationId);\n      return relation && relation.name;\n    },\n    isRelationChildLayerNotEditable: function isRelationChildLayerNotEditable(relation) {\n      var nmRelationId = relation.nmRelationId,\n          name = relation.name;\n\n      var currentProject = _projects2.default.getCurrentProject();\n      var projectRelation = currentProject.getRelationById(name);\n      var relationLayerId = projectRelation.referencingLayer;\n      var relationLayer = currentProject.getLayerById(relationLayerId);\n\n      return !relationLayer.isEditable();\n    },\n    getNodes: function getNodes(row) {\n      var startIndex = (row - 1) * this.columnNumber;\n      return this.filterNodes.slice(startIndex, this.columnNumber + startIndex);\n    },\n    getNode: function getNode(row, column) {\n      return this.getNodes(row)[column - 1];\n    },\n    getField: function getField(node) {\n      if (node.relation) return node;\n      var field = this.fields.find(function (field) {\n        var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n        return field.name === field_name;\n      });\n      return field;\n    },\n    getNodeType: function getNodeType(node) {\n      var type = node.groupbox || node.nodes ? 'group' : node.relation ? 'relation' : 'field';\n      if (type === 'field' && (node.alias === undefined || node.alias === '')) {\n        node.alias = node.field_name;\n      }\n      return type;\n    },\n    getComponent: function getComponent(field) {\n      if (field.relation) return;else if (field.query) return field.input.type;else return 'g3w-input';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-node group\"},[(_vm.showGroupTile)?_c('h5',{staticClass:\"title group-title\",class:{'mobile': _vm.isMobile()},style:({fontSize: _vm.isMobile() ? '1em' : '1.1em'})},[_vm._v(_vm._s(_vm.node.name))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.rows),function(row){return _c('div',{staticClass:\"node-row\",class:{'mobile': _vm.isMobile()}},[_vm._l((_vm.columnNumber),function(column){return [(_vm.getNode(row, column))?[(_vm.getNodeType(_vm.getNode(row, column)) === 'field')?_c(_vm.getComponent(_vm.getField(_vm.getNode(row, column))),{tag:\"component\",staticStyle:{\"padding\":\"5px 3px 5px 3px\"},attrs:{\"state\":_vm.getField(_vm.getNode(row, column)),\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"feature\":_vm.feature},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}):[(_vm.getNodeType(_vm.getNode(row, column)) === 'group')?_c('tabs',_vm._b({staticClass:\"sub-group\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"group\":true,\"tabs\":[_vm.getNode(row, column)]}},'tabs',_vm.$props,false)):[(_vm.showRelationByField)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isRelationDisabled(_vm.getNode(row, column)) || _vm.loadingRelation(_vm.getNode(row, column)).loading),expression:\"isRelationDisabled(getNode(row, column)) || loadingRelation(getNode(row, column)).loading\"}],style:({cursor: _vm.showRelationByField && 'pointer'}),on:{\"click\":function($event){$event.stopPropagation();_vm.handleRelation({relation: _vm.getNode(row, column), feature:_vm.feature, layerId: _vm.layerid})}}},[_c('bar-loader',{attrs:{\"loading\":_vm.loadingRelation(_vm.getNode(row, column)).loading}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"query_relation_field\"},[_c('i',{class:_vm.g3wtemplate.font[(\"\" + (_vm.context === 'query' ? 'relation' : 'pencil'))]})]),_vm._v(\" \"),_c('span',{staticClass:\"query_relation_field_message g3w-long-text\"},[_c('span',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\" \"+_vm._s(_vm.getRelationName(_vm.getNode(row, column).name)))])])])],1):_vm._e()]]]:_vm._e()]})],2)})],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9685e2ee\"\n\n},{\"components/InputG3W.vue\":236,\"gui/fields/fields\":117,\"services/gui\":356,\"store/projects\":374,\"vueify/lib/insert-css\":1}],230:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['state'],\n  methods: {\n    showCustomModal: function showCustomModal(id) {\n      this.$emit('show-custom-modal-content', id);\n    }\n  },\n  created: function created() {\n    this.state.type = this.state.type || 'link';\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"customheaderlink dropdown user user-menu\",attrs:{\"title\":_vm.state.title}},[(_vm.state.type === 'link')?_c('a',{staticClass:\"dropdown-toggle\",class:{ imagelink : !!_vm.state.img},attrs:{\"href\":_vm.state.url,\"target\":_vm.state.target}},[(_vm.state.img)?_c('img',{staticStyle:{\"max-height\":\"20px\"},attrs:{\"src\":_vm.state.img}}):_c('span',[(_vm.state.i18n)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.title),expression:\"state.title\"}]}):_c('span',[_vm._v(_vm._s(_vm.state.title))])])]):(_vm.state.type === 'modal')?_c('a',{staticClass:\"dropdown-toggle\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#custom_modal\"},on:{\"click\":function($event){return _vm.showCustomModal(_vm.state.id)}}},[_c('span',[_vm._v(_vm._s(_vm.state.title))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{}],231:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".control-label[data-v-cb533ff6]{text-align:left!important;padding-top:0!important;margin-bottom:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nexports.default = _extends({\n  name: \"InputBase\",\n  props: ['state']\n}, _mixins.baseInputMixin);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',{staticClass:\"form-group\"},[_vm._t(\"label\",[_c('label',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"col-sm-12 control-label\",attrs:{\"for\":_vm.state.name}},[_vm._v(_vm._s(_vm.state.label)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"),(_vm.showhelpicon)?_c('i',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['info'],staticStyle:{\"margin-left\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.showHideHelp}}):_vm._e(),_vm._v(\" \"),_vm._t(\"label-action\")],2)]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12\"},[_vm._t(\"loading\",[(_vm.loadingState === 'loading')?_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\"},attrs:{\"slot\":\"loading\"},slot:\"loading\"},[_c('bar-loader',{attrs:{\"loading\":\"true\"}})],1):_vm._e()]),_vm._v(\" \"),_vm._t(\"body\"),_vm._v(\" \"),_vm._t(\"message\",[(_vm.notvalid)?_c('p',{staticClass:\"g3w-long-text error-input-message\",staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.validate.message)}}):(_vm.state.info)?_c('p',{staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.info)}}):_vm._e()]),_vm._v(\" \"),(_vm.state.help && this.state.help.visible)?_c('div',{staticClass:\"g3w_input_help skin-background-color extralighten\",domProps:{\"innerHTML\":_vm._s(_vm.state.help.message)}}):_vm._e()],2)],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-cb533ff6\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":1}],232:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins],\n  data: function data() {\n    return {\n      value: null,\n      label: null,\n      id: getUniqueDomId() };\n  },\n\n  methods: {\n    setLabel: function setLabel() {\n      this.label = this.service.convertCheckedToValue(this.value);\n    },\n    setValue: function setValue() {\n      this.value = this.service.convertValueToChecked();\n    },\n    changeCheckBox: function changeCheckBox() {\n      this.setLabel();\n      this.widgetChanged();\n    },\n    stateValueChanged: function stateValueChanged() {\n      this.setValue();\n      this.setLabel();\n    }\n  },\n  created: function created() {\n    this.value = this.state.forceNull ? this.value : this.service.convertValueToChecked();\n  },\n  mounted: function mounted() {\n    if (!this.state.forceNull) this.setLabel();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticStyle:{\"height\":\"20px\",\"margin-top\":\"8px\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"magic-checkbox\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"tabIndex\":_vm.tabIndex,\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":[function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}},_vm.changeCheckBox]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label))])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":128,\"mixins\":338}],233:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"type\":\"color\",\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":128}],234:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins, _mixins.resizeMixin],\n  data: function data() {\n    var uniqueValue = getUniqueDomId();\n    return {\n      widget_container: {\n        top: 0,\n        left: 0\n      },\n      iddatetimepicker: 'datetimepicker_' + uniqueValue,\n      idinputdatetimepiker: 'inputdatetimepicker_' + uniqueValue,\n      changed: false\n    };\n  },\n\n  methods: {\n    resize: function resize() {\n      var domeDataPicker = $('#' + this.iddatetimepicker);\n      domeDataPicker && domeDataPicker.data(\"DateTimePicker\") && domeDataPicker.data(\"DateTimePicker\").hide();\n    },\n    timeOnly: function timeOnly() {\n      return !this.state.input.options.formats[0].date;\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      var datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(this.state.input.options.formats[0].displayformat);\n      var date = moment(value).format(datetimedisplayformat);\n      $('#' + this.iddatetimepicker).val(date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      var _state$input$options, _state$input$options$, formats, _state$input$options$2, layout, _formats$, minDate, maxDate, fieldformat, enabledDates, disabledDates, displayformat, useCurrent, fielddatetimeformat, date, locale, datetimedisplayformat, datetimefieldformat;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _state$input$options = this.state.input.options, _state$input$options$ = _state$input$options.formats, formats = _state$input$options$ === undefined ? [] : _state$input$options$, _state$input$options$2 = _state$input$options.layout, layout = _state$input$options$2 === undefined ? { vertical: \"top\", horizontal: \"left\" } : _state$input$options$2;\n              _formats$ = formats[0], minDate = _formats$.minDate, maxDate = _formats$.maxDate, fieldformat = _formats$.fieldformat, enabledDates = _formats$.enabledDates, disabledDates = _formats$.disabledDates, displayformat = _formats$.displayformat, useCurrent = _formats$.useCurrent;\n              _context2.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              fielddatetimeformat = fieldformat.replace(/y/g, 'Y').replace(/d/g, 'D');\n\n              this.service.setValidatorOptions({\n                fielddatetimeformat: fielddatetimeformat\n              });\n              date = moment(this.state.value, fielddatetimeformat, true).isValid() ? moment(this.state.value, fielddatetimeformat).toDate() : null;\n              locale = this.service.getLocale();\n              datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(displayformat);\n              datetimefieldformat = this.service.convertQGISDateTimeFormatToMoment(fieldformat);\n\n              $('#' + this.iddatetimepicker).datetimepicker({\n                defaultDate: date,\n                format: datetimedisplayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                enabledDates: enabledDates,\n                disabledDates: disabledDates,\n                useCurrent: useCurrent,\n                toolbarPlacement: 'top',\n                minDate: minDate,\n                maxDate: maxDate,\n                widgetParent: $(this.$refs.datimewidget_container),\n                widgetPositioning: {\n                  vertical: layout.vertical || 'top',\n                  horizontal: layout.horizontal || 'left'\n                },\n                showClose: true,\n                locale: locale\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.change\", function (evt) {\n                var newDate = $('#' + _this.idinputdatetimepiker).val();\n                _this.state.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, datetimedisplayformat).format(datetimefieldformat);\n                _this.widgetChanged();\n              });\n              $('#' + this.iddatetimepicker).on(\"dp.show\", function () {\n                var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(evt) {\n                  var _$refs$datetimepicker, top, left, width;\n\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return _this.$nextTick();\n\n                        case 2:\n                          _$refs$datetimepicker = _this.$refs.datetimepicker_body.getBoundingClientRect(), top = _$refs$datetimepicker.top, left = _$refs$datetimepicker.left, width = _$refs$datetimepicker.width;\n\n                          _this.widget_container.top = top;\n                          _this.widget_container.left = left - width;\n                          _this.$emit('datetimepickershow');\n\n                        case 6:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n              $('#' + this.iddatetimepicker).on(\"dp.hide\", function (evt) {\n                _this.$emit('datetimepickershow');\n              });\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.idinputdatetimepiker).blur();\n              });\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{ref:\"datetimepicker_body\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{ref:\"datimewidget_container\",staticStyle:{\"position\":\"fixed\",\"z-index\":\"10000\"},style:({top: ((_vm.widget_container.top) + \"px\"), left: ((_vm.widget_container.left) + \"px\")})}),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"input-group date\",attrs:{\"id\":_vm.iddatetimepicker}},[_c('input',{staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"id\":_vm.idinputdatetimepiker,\"tabIndex\":_vm.tabIndex,\"readonly\":!_vm.editable || _vm.isMobile() ? 'readonly' : null,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{class:[_vm.timeOnly() ? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":128,\"mixins\":338,\"store/application-state\":368}],235:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.state.step || 1,\"placeholder\":_vm.state.default},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":128}],236:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar Inputs = require('gui/inputs/inputs');\n\nexports.default = {\n  name: \"g3w-input\",\n  props: {\n    state: {\n      required: true\n    },\n    addToValidate: {\n      type: Function,\n      required: true\n    },\n    removeToValidate: {\n      type: Function,\n      required: true\n    },\n    changeInput: {\n      type: Function,\n      required: true\n    }\n  },\n  components: _extends({}, Inputs),\n  computed: {\n    type: function type() {\n      if (this.state.type !== 'child') return this.state.input.type ? this.state.input.type + '_input' : this.state.type + '_input';\n    }\n  },\n  created: function created() {\n    if (this.state.type !== 'child' && !this.state.input.options) this.state.input.options = {};\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',[(_vm.state.type !== 'child')?_c('div',[_c(_vm.type,{tag:\"component\",attrs:{\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"state\":_vm.state},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1):_c('div',{staticClass:\"skin-border-color field-child\",staticStyle:{\"border-top\":\"2px solid\"}},[_c('h4',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.label))]),_vm._v(\" \"),_c('div',[_vm._v(\" \"+_vm._s(_vm.state.description)+\" \")]),_vm._v(\" \"),_vm._l((_vm.state.fields),function(field){return _c('g3w-input',{key:field.name,attrs:{\"state\":field,\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})})],2)]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0fece3a7\"\n\n},{\"gui/inputs/inputs\":129}],237:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-for-inputs-required-inputs-message[data-v-06573254]{margin-bottom:5px;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center}.box-body[data-v-06573254]{padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3W = require(\"components/InputG3W.vue\");\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-form-inputs\",\n  props: {\n    state: {\n      type: Object,\n      default: {\n        fields: []\n      }\n    },\n    addToValidate: {\n      type: Function\n    },\n    changeInput: {\n      type: Function\n    },\n    show_required_field_message: {\n      type: Boolean,\n      default: false\n    }\n\n  },\n  components: {\n    G3wInput: _InputG3W2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[_vm._l((_vm.state.fields),function(field){return [_c('g3w-input',{attrs:{\"state\":field,\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput},on:{\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput}})]})],2),_vm._v(\" \"),(_vm.show_required_field_message)?_c('div',{attrs:{\"id\":\"g3w-for-inputs-required-inputs-message\"}},[_c('span',{staticClass:\"hide-cursor-caret-color\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}],staticClass:\"hide-cursor-caret-color\"})]):_vm._e()])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06573254\"\n\n},{\"components/InputG3W.vue\":236,\"vueify/lib/insert-css\":1}],238:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"type\":\"number\"},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":128}],239:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      lonId: getUniqueDomId(),\n      latId: getUniqueDomId(),\n      coordinatebutton: {\n        active: false\n      }\n    };\n  },\n\n  computed: {\n    getCoordinateActive: function getCoordinateActive() {\n      return this.service.state.getCoordinateActive;\n    }\n  },\n  methods: {\n    toggleGetCoordinate: function toggleGetCoordinate() {\n      this.service.toggleGetCoordinate();\n    },\n    changeLonLat: function changeLonLat() {\n      this.change();\n      this.setValue();\n    },\n    setValue: function setValue() {\n      this.state.value = [[1 * this.state.values.lon, 1 * this.state.values.lat]];\n    }\n  },\n  created: function created() {\n    this.state.values = this.state.values || { lon: 0, lat: 0 };\n    this.setValue();\n    this.service.setCoordinateButtonReactiveObject(this.coordinatebutton);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.$nextTick(function () {\n                $(_this.$refs['g3w-input-lat-lon']).tooltip({\n                  trigger: 'hover'\n                });\n              });\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"height\":\"35px\",\"margin-right\":\"12px\",\"margin-bottom\":\"5px\"}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.lonlat'),expression:\"'sdk.form.inputs.tooltips.lonlat'\"}],ref:\"g3w-input-lat-lon\",staticClass:\"action skin-tooltip-left skin-color skin-border-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"border-radius\":\"5px\",\"font-weight\":\"bold\",\"font-size\":\"20px\",\"cursor\":\"pointer\"},style:({border: _vm.coordinatebutton.active ? '2px solid' : 0}),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleGetCoordinate($event)}}})]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.lonId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lon)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lon),expression:\"state.values.lon\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.lonId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-180\",\"max\":\"180\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lon)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lon\", $event.target.value)}}})])]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.latId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lat)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lat),expression:\"state.values.lat\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.latId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-90\",\"max\":\"90\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lat)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lat\", $event.target.value)}}})])])],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":128}],240:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputMixins = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('gui/fields/fields'),\n    MediaField = _require3.media_field;\n\nexports.default = {\n  mixins: [InputMixins],\n  components: {\n    'g3w-media': MediaField\n  },\n  data: function data() {\n    return {\n      data: {\n        value: null,\n        mime_type: null\n      },\n      mediaid: 'media_' + getUniqueDomId(),\n      loading: false\n    };\n  },\n\n  methods: {\n    onClick: function onClick(e) {\n      document.getElementById(this.mediaid).click();\n    },\n    createImage: function createImage(file, field) {\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        field.value = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    checkFileSrc: function checkFileSrc(value) {\n      if (_.isNil(value)) {\n        value = '';\n      }\n      return value;\n    },\n    clearMedia: function clearMedia() {\n      this.data.value = this.data.mime_type = this.state.value = null;\n      this.change();\n    }\n  },\n  created: function created() {\n    if (this.state.value) {\n      this.data.value = this.state.value.value;\n      this.data.mime_type = this.state.value.mime_type;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var fieldName = this.state.name;\n    var formData = {\n      name: fieldName,\n      csrfmiddlewaretoken: this.$cookie.get('csrftoken')\n    };\n    this.$nextTick(function () {\n      $('#' + _this.mediaid).fileupload({\n        dataType: 'json',\n        formData: formData,\n        start: function start() {\n          _this.loading = true;\n        },\n        done: function done(e, data) {\n          var response = data.result[fieldName];\n          if (response) {\n            _this.data.value = response.value;\n            _this.data.mime_type = response.mime_type;\n            _this.state.value = _this.data;\n            _this.change();\n          }\n        },\n        fail: function fail() {\n          _gui2.default.notify.error(t(\"info.server_error\"));\n        },\n        always: function always() {\n          _this.loading = false;\n        }\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    $('#' + this.mediaid).fileupload('destroy');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"g3w_input_button skin-border-color\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"2px\",\"border-radius\":\"4px\",\"width\":\"100%\",\"cursor\":\"pointer\",\"text-align\":\"center\"},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fa-2x skin-color\",class:_vm.g3wtemplate.getFontClass('file-upload'),staticStyle:{\"padding\":\"5px\"}},[_c('input',{class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.mediaid,\"name\":_vm.state.name,\"tabIndex\":_vm.tabIndex,\"data-url\":_vm.state.input.options.uploadurl,\"type\":\"file\"}})])]),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('g3w-media',{attrs:{\"state\":_vm.data}},[_c('div',{staticClass:\"clearmedia\",on:{\"click\":function($event){return _vm.clearMedia()}}},[_c('i',{staticClass:\"g3w-icon\",class:_vm.g3wtemplate.font['trash-o']})])])],1)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/fields/fields\":117,\"gui/inputs/input\":128,\"services/gui\":356}],241:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\nvar Service = require('gui/inputs/picklayer/service');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    pickLayer: function pickLayer() {\n      var _this = this;\n\n      this.pickservice.pick().then(function (value) {\n        return _this.state.value = value;\n      }).catch(function () {});\n    },\n    unpick: function unpick() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return !_this2.pickservice.isPicked() && _this2.pickservice.unpick();\n      }, 200);\n    }\n  },\n  created: function created() {\n    this.pickservice = new Service(this.state.input.options);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pickservice.clear();\n    this.pickservice = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"left\":\"0\",\"top\":\"7px\",\"position\":\"absolute\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},style:({cursor: _vm.editable ? 'pointer': null}),attrs:{\"readonly\":\"readonly\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"click\":_vm.pickLayer,\"blur\":_vm.unpick}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":128,\"gui/inputs/picklayer/service\":136}],242:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      ids: [getUniqueDomId(), getUniqueDomId()],\n      name: 'name_' + getUniqueDomId(),\n      radio_value: this.state.value\n    };\n  },\n\n  watch: {\n    'radio_value': function radio_value() {\n      this.state.value = this.radio_value;\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},_vm._l((_vm.state.input.options.values),function(value,index){return _c('span',{key:value.key},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.radio_value),expression:\"radio_value\"}],staticClass:\"magic-radio\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"id\":_vm.ids[index],\"name\":_vm.name,\"tabIndex\":_vm.tabIndex,\"type\":\"radio\"},domProps:{\"value\":value.value,\"checked\":_vm._q(_vm.radio_value,value.value)},on:{\"change\":function($event){_vm.radio_value=value.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.ids[index]}},[_vm._v(_vm._s(value.key))])])}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":128}],243:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    var _state$input$options$ = this.state.input.options.values[0],\n        min = _state$input$options$.min,\n        max = _state$input$options$.max,\n        step = _state$input$options$.Step;\n\n    return {\n      min: min,\n      max: max,\n      step: step\n    };\n  },\n\n  methods: {\n    checkValue: function checkValue() {\n      var isEmpty = _.isEmpty(_.trim(this.state.value));\n\n      if (isEmpty && !this.state.validate.required) {\n        this.state.value = this.state.input.options.values[0].default;\n      }\n\n      this.state.validate.valid = !this.state.validate.required;\n\n      if (!isEmpty) {\n        this.state.validate.valid = this.service.getValidator().validate(this.state.value);\n      }\n\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.step},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==69){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.stopPropagation();}],\"change\":_vm.checkValue,\"blur\":_vm.checkValue,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":128}],244:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar PickLayerInputService = require('gui/inputs/picklayer/service');\nvar Layer = require('core/layers/layer');\nvar InputMixin = require('gui/inputs/input');\n\nvar G3W_SELECT2_NULL_VALUE = null;exports.default = {\n  mixins: [InputMixin, _mixins.selectMixin, _mixins.select2Mixin],\n  data: function data() {\n    return {\n      showPickLayer: false,\n      picked: false\n    };\n  },\n\n  computed: {\n    showNullOption: function showNullOption() {\n      return this.state.nullOption === undefined || this.state.nullOption === true;\n    },\n    select2NullValue: function select2NullValue() {\n      return this.showNullOption && G3W_SELECT2_NULL_VALUE;\n    }\n  },\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        var _this = this;\n\n        var changed, value, findvalue;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                changed = false;\n\n                if (!this.autocomplete) {\n                  value = void 0;\n\n                  if (values.length === 0) value = G3W_SELECT2_NULL_VALUE;else {\n                    findvalue = values.find(function (keyvalue) {\n                      return keyvalue.value == _this.state.value;\n                    });\n\n                    if (!findvalue) value = G3W_SELECT2_NULL_VALUE;else value = findvalue.value;\n                  }\n                  changed = value != this.state.value;\n                  this.state.value = value;\n                  this.setValue();\n                }\n                changed && this.change();\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  methods: {\n    pickLayerValue: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var values, field, value;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!this.picked) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                this.pickLayerInputService.unpick();\n                this.picked = false;\n                _context2.next = 16;\n                break;\n\n              case 6:\n                this.picked = true;\n                _context2.next = 9;\n                return this.pickLayerInputService.pick();\n\n              case 9:\n                values = _context2.sent;\n                field = this.state.input.options.value;\n                value = values[field];\n\n                this.select2.val(value).trigger('change');\n                this.changeSelect(value);\n                _gui2.default.showUserMessage({\n                  type: 'success',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 16:\n                _context2.next = 22;\n                break;\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2['catch'](0);\n\n                _gui2.default.showUserMessage({\n                  type: \"warning\",\n                  message: 'sdk.form.inputs.messages.errors.picklayer',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 22:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 18]]);\n      }));\n\n      function pickLayerValue() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return pickLayerValue;\n    }(),\n    setAndListenSelect2Change: function setAndListenSelect2Change() {\n      var _this2 = this;\n\n      this.select2.on('select2:select', function (event) {\n        var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n        value = _this2.showNullOption ? value === G3W_SELECT2_NULL_VALUE ? null : value.toString() : value.toString();\n        _this2.changeSelect(value);\n      });\n    }\n  },\n  created: function created() {\n    this.open = false;\n    if (this.state.input.type === 'select_autocomplete') {\n      var dependencyLayerId = this.state.input.options.layer_id;\n      try {\n        var dependencyLayer = _mapLayers2.default.getLayerById(dependencyLayerId).getEditingLayer() || _catalogLayers2.default.getLayerById(dependencyLayerId);\n        this.showPickLayer = dependencyLayer ? dependencyLayer.getType() !== Layer.LayerTypes.TABLE : false;\n        var _state$input$options = this.state.input.options,\n            field = _state$input$options.value,\n            layer_id = _state$input$options.layer_id;\n\n        var options = {\n          layer_id: layer_id,\n          fields: [field],\n          pick_type: dependencyLayer.isStarted && dependencyLayer.isStarted() && 'map' || null\n        };\n        this.pickLayerInputService = this.showPickLayer && new PickLayerInputService(options);\n      } catch (err) {}\n    }\n    this.autocomplete && this.state.value && this.service.getKeyByValue({\n      search: this.state.value\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var selectElement, language, dropdownParent;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.unwatch;\n              selectElement = $(this.$refs.select);\n              language = this.getLanguage();\n              dropdownParent = this.state.dropdownParent === undefined && $('#g3w-view-content');\n\n              if (this.autocomplete) {\n                this.select2 = selectElement.select2({\n                  minimumInputLength: 1,\n                  dropdownParent: dropdownParent,\n                  allowClear: this.showNullOption,\n                  language: language,\n                  ajax: {\n                    delay: 250,\n                    transport: function transport(params, success, failure) {\n                      var search = params.data.term;\n\n                      $('.select2-results__option.loading-results').siblings().hide();\n                      _this3.resetValues();\n                      _this3.service.getData({\n                        search: search\n                      }).then(function (values) {\n                        return success(values);\n                      }).catch(function (err) {\n                        return failure(err);\n                      });\n                    },\n                    processResults: function processResults(data, params) {\n                      params.page = params.page || 1;\n                      return {\n                        results: data,\n                        pagination: {\n                          more: false\n                        }\n                      };\n                    } }\n                });\n              } else this.select2 = selectElement.select2({\n                language: language,\n                dropdownParent: dropdownParent,\n                minimumResultsForSearch: this.isMobile() ? -1 : null\n              });\n              this.setAndListenSelect2Change();\n              this.setValue();\n\n            case 9:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.pickLayerInputService) {\n      this.pickLayerInputService.clear();\n      this.pickLayerInputService = null;\n    }\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[(_vm.showPickLayer)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.picklayer'),expression:\"'sdk.form.inputs.tooltips.picklayer'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"cursor\":\"pointer\",\"position\":\"relative\",\"top\":\"2px\",\"font-size\":\"1.2em\"},attrs:{\"slot\":\"label-action\",\"data-placement\":\"top\"},on:{\"click\":_vm.pickLayerValue},slot:\"label-action\"}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('select',{ref:\"select\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"}},[(_vm.showNullOption)?_c('option',{domProps:{\"value\":_vm.select2NullValue}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:_vm.getValue(value.value),domProps:{\"value\":_vm.getValue(value.value)}},[_vm._v(_vm._s(value.key))])})],2)]),_vm._v(\" \"),(_vm.loadingState === 'error')?_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"error-input-message\",attrs:{\"slot\":\"message\"},slot:\"message\"}):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/layers/layer\":34,\"gui/inputs/input\":128,\"gui/inputs/picklayer/service\":136,\"mixins\":338,\"services/gui\":356,\"store/catalog-layers\":369,\"store/map-layers\":372}],245:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  watch: {\n    'state.input.options.min': function stateInputOptionsMin() {\n      this.service.changeInfoMessage();\n    },\n    'state.input.options.max': function stateInputOptionsMax() {\n      this.service.changeInfoMessage();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.value))]),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"min\":_vm.state.input.options.min,\"max\":_vm.state.input.options.max,\"type\":\"range\",\"step\":_vm.state.input.options.step},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"__r\":function($event){return _vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":128}],246:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"keyup\":function($event){_vm.isMobile() ? _vm.mobileChange($event) : _vm.change()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":128}],247:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"textarea[data-v-3ac5abe4]{resize:none;border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('textarea',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"max-width\":\"100%\",\"min-width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"rows\":\"3\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"change\":_vm.change},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3ac5abe4\"\n\n},{\"gui/inputs/input\":128,\"vueify/lib/insert-css\":1}],248:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"button.ql-html{width:40px!important}button.ql-html:after{content:\\\"html\\\"}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    setupTableCustomTools: function setupTableCustomTools() {\n      var buttonColumnLeft = this.$el.querySelector('.ql-column-left');\n      buttonColumnLeft.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M10.205 12.456A.5.5 0 0 0 10.5 12V4a.5.5 0 0 0-.832-.374l-4.5 4a.5.5 0 0 0 0 .748l4.5 4a.5.5 0 0 0 .537.082z\"/></svg>';\n      buttonColumnLeft.title = \"Add column left\";\n\n      var buttonColumnRight = this.$el.querySelector('.ql-column-right');\n      buttonColumnRight.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M5.795 12.456A.5.5 0 0 1 5.5 12V4a.5.5 0 0 1 .832-.374l4.5 4a.5.5 0 0 1 0 .748l-4.5 4a.5.5 0 0 1-.537.082z\"/></svg>';\n      buttonColumnRight.title = \"Add column right\";\n\n      var buttonColumnRemove = this.$el.querySelector('.ql-column-remove');\n      buttonColumnRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/></svg>';\n      buttonColumnRemove.title = \"Remove column\";\n\n      var buttonRowAbove = this.$el.querySelector('.ql-row-above');\n      buttonRowAbove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-up-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z\"/></svg>';\n      buttonRowAbove.title = \"Add row above\";\n\n\n      var buttonRowBelow = this.$el.querySelector('.ql-row-below');\n      buttonRowBelow.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-down-square\" viewBox=\"0 0 16 16\"><path d=\"M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z\"/><path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z\"/></svg>';\n      buttonRowBelow.title = \"Add row below\";\n\n      var buttonRowRemove = this.$el.querySelector('.ql-row-remove');\n      buttonRowRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-dash-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/></svg>';\n      buttonRowRemove.title = \"Remove row\";\n    }\n  },\n  created: function created() {\n    this.edit_state = {\n      edit: false,\n      show_html: false\n    };\n\n    if (!this.state.edit_states) this.state.edit_states = [];\n    this.state.edit_states.push(this.edit_state);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var toolbarOptions;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toolbarOptions = [[{ header: [1, 2, 3, 4, 5, 6, false] }], [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }], [{ 'color': [] }, { 'background': [] }], ['bold', 'italic', 'underline', { 'list': 'ordered' }, { 'list': 'bullet' }, 'link', 'clean', 'html'], ['table', 'column-left', 'column-right', 'column-remove', 'row-above', 'row-below', 'row-remove']];\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.quill = new Quill(this.$refs.quill_editor, {\n                modules: {\n                  table: true,\n                  toolbar: {\n                    container: toolbarOptions,\n                    handlers: {\n                      html: function html() {\n                        _this.edit_state.show_html = !_this.edit_state.show_html;\n                        if (_this.edit_state.show_html) _this.quill.container.firstChild.innerText = _this.quill.container.firstChild.innerHTML;else _this.quill.container.firstChild.innerHTML = _this.quill.container.firstChild.innerText;\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                          for (var _iterator = _this.$el.querySelectorAll('.ql-formats')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var qlformat = _step.value;\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                              for (var _iterator2 = qlformat.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var child = _step2.value;\n\n                                if (!child.classList.contains('ql-html')) child.classList.toggle('g3w-disabled');else child.classList.toggle('skin-color');\n                              }\n                            } catch (err) {\n                              _didIteratorError2 = true;\n                              _iteratorError2 = err;\n                            } finally {\n                              try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                  _iterator2.return();\n                                }\n                              } finally {\n                                if (_didIteratorError2) {\n                                  throw _iteratorError2;\n                                }\n                              }\n                            }\n                          }\n                        } catch (err) {\n                          _didIteratorError = true;\n                          _iteratorError = err;\n                        } finally {\n                          try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                              _iterator.return();\n                            }\n                          } finally {\n                            if (_didIteratorError) {\n                              throw _iteratorError;\n                            }\n                          }\n                        }\n                      },\n                      'column-left': function columnLeft() {\n                        return _this.table.insertColumnLeft();\n                      },\n                      'column-right': function columnRight() {\n                        return _this.table.insertColumnRight();\n                      },\n                      'column-remove': function columnRemove() {\n                        return _this.table.deleteColumn();\n                      },\n                      'row-above': function rowAbove() {\n                        return _this.table.insertRowAbove();\n                      },\n                      'row-below': function rowBelow() {\n                        return _this.table.insertRowBelow();\n                      },\n                      'row-remove': function rowRemove() {\n                        return _this.table.deleteRow();\n                      }\n                    }\n\n                  }\n                },\n                theme: 'snow'\n              });\n              this.quill.container.firstChild.innerHTML = this.state.value;\n\n              this.table = this.quill.getModule('table');\n              this.setupTableCustomTools();\n\n              this.handler = function () {\n                _this.state.value = _this.edit_state.show_html ? _this.quill.container.firstChild.innerText : _this.quill.container.firstChild.innerHTML;\n                _this.edit_state.edit = true;\n                _this.change();\n                setTimeout(function () {\n                  return _this.edit_state.edit = false;\n                });\n              };\n\n              this.quill.on('text-change', this.handler);\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    'state.value': function stateValue(value) {\n      if (!this.edit_state.edit) {\n        if (this.edit_state.show_html) this.quill.container.firstChild.innerText = value;else this.quill.container.firstChild.innerHTML = value;\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.quill.off('text-change', this.handler);\n    this.handler = null;\n    this.quill = null;\n    this.edit_state.edit = false;\n    this.edit_state.show_html = false;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"state\":_vm.state}},[_c('div',{ref:\"quill_editor\",staticClass:\"form-control\",style:({border: _vm.novalid ? '1px solid reed' : '1px solid #ccc'}),attrs:{\"slot\":\"body\"},on:{\"keydown\":function($event){$event.stopPropagation();}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":128,\"vueify/lib/insert-css\":1}],249:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.selectMixin],\n  data: function data() {\n    var id = 'unique_' + getUniqueDomId();\n    return { id: id };\n  },\n\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.state.value = this.state.value ? this.state.value : null;\n                this.state.value !== null && values.indexOf(this.state.value) === -1 && this.service.addValueToValues(this.state.value);\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.state.value && this.select2.val(this.state.value).trigger('change');\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.state.input.options.editable) {\n                this.select2 = $('#' + this.id).select2({\n                  dropdownParent: $('#g3w-view-content'),\n                  tags: true,\n                  language: this.getLanguage()\n                });\n                this.select2.val(this.state.value).trigger('change');\n                this.select2.on('select2:select', function (event) {\n                  var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n                  _this.changeSelect(value);\n                });\n              }\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"id\":_vm.id,\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('option',{attrs:{\"value\":\"null\"}}),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:value,domProps:{\"value\":_vm.getValue(value)}},[_vm._v(_vm._s(_vm.getValue(value)))])})],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":128,\"mixins\":338}],250:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-41231f64]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n\n  name: 'Layeropacitypicker',\n\n  props: {\n    layer: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data: function data() {\n    return {\n      menu: {\n        show: false,\n        top: 0,\n        left: 0,\n        overflowY: 'none',\n        style: null,\n        default: null\n      }\n    };\n  },\n\n  methods: {\n    setLayerOpacity: function setLayerOpacity(_ref) {\n      var _ref$id = _ref.id,\n          id = _ref$id === undefined ? this.layer.id : _ref$id,\n          opacity = _ref.value;\n\n      if (this.layer.opacity == opacity) {\n        return;\n      }\n      this.layer.opacity = opacity;\n      var layer = _catalogLayers2.default.getLayerById(id);\n      if (layer) {\n        _catalogeventhub2.default.$emit('layer-change-opacity', { layerId: id });\n        layer.change();\n      }\n    },\n    showLayerOpacityMenu: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$emit('show-menu-item', { menu: this.menu, bool: bool, evt: evt });\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showLayerOpacityMenu(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return showLayerOpacityMenu;\n    }()\n  },\n\n  created: function created() {\n    this.$emit('init-menu-item', { layerOpacity: this.menu });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(false, $event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(true, $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('slider')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.layer_opacity'),expression:\"'catalog_items.contextmenu.layer_opacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layer && _vm.menu.show),expression:\"layer && menu.show\"}],style:({\n      top:             _vm.menu.top       + 'px',\n      left:            _vm.menu.left - 15 + 'px',\n      maxHeight:       _vm.menu.maxHeight + 'px',\n      overflowY:       _vm.menu.overflowY,\n      paddingLeft:     0,\n      position:        'fixed',\n      backgroundColor: '#FFF',\n      color:           '#000',\n     })},[_c('li',[_c('range',{attrs:{\"value\":_vm.layer.opacity,\"min\":0,\"max\":100,\"step\":1,\"sync\":false,\"showValue\":true,\"unit\":'%'},on:{\"change-range\":_vm.setLayerOpacity}})],1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-41231f64\"\n\n},{\"gui/catalog/vue/catalogeventhub\":112,\"store/catalog-layers\":369,\"vueify/lib/insert-css\":1}],251:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapAddLayer = require('components/MapAddLayer.vue');\n\nvar _MapAddLayer2 = _interopRequireDefault(_MapAddLayer);\n\nvar _MapFooter = require('components/MapFooter.vue');\n\nvar _MapFooter2 = _interopRequireDefault(_MapFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    var _$options = this.$options,\n        service = _$options.service,\n        target = _$options.target;\n\n    return {\n      target: target,\n      maps_container: this.$options.maps_container,\n      service: service,\n      hidemaps: service.state.hidemaps,\n      map_info: service.state.map_info\n    };\n  },\n\n  components: {\n    'addlayer': _MapAddLayer2.default,\n    MapFooter: _MapFooter2.default\n  },\n  computed: {\n    mapcontrolsalignement: function mapcontrolsalignement() {\n      return this.service.state.mapcontrolsalignement;\n    },\n    disableMapControls: function disableMapControls() {\n      return this.service.state.mapControl.disabled;\n    }\n  },\n  methods: {\n    showHideControls: function showHideControls() {\n      var mapControls = this.service.getMapControls();\n      mapControls.forEach(function (control) {\n        return control.type !== \"scaleline\" && control.control.showHide();\n      });\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.crs = this.service.getCrs();\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.service.setMapControlsContainer($(this.$refs['g3w-map-controls']));\n\n              this.service.onafter('addHideMap', _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                    ratio = _ref3.ratio,\n                    _ref3$layers = _ref3.layers,\n                    layers = _ref3$layers === undefined ? [] : _ref3$layers,\n                    _ref3$mainview = _ref3.mainview,\n                    mainview = _ref3$mainview === undefined ? false : _ref3$mainview,\n                    _ref3$switchable = _ref3.switchable,\n                    switchable = _ref3$switchable === undefined ? false : _ref3$switchable;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _this.$nextTick();\n\n                      case 2:\n                        _this.service._addHideMap({ ratio: ratio, layers: layers, mainview: mainview, switchable: switchable });\n\n                      case 3:\n                      case 'end':\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, _this);\n              })));\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.maps_container}},[_vm._l((_vm.hidemaps),function(hidemap){return _c('div',{key:hidemap.id,staticClass:\"g3w-map hidemap\",attrs:{\"id\":hidemap.id}})}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map\",attrs:{\"id\":_vm.target}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapControls),expression:\"disableMapControls\"}],ref:\"g3w-map-controls\",staticClass:\"g3w-map-controls\",class:_vm.mapcontrolsalignement,staticStyle:{\"display\":\"flex\"}}),_vm._v(\" \"),(_vm.map_info.info)?_c('div',{ref:\"g3w-map-info\",style:(_vm.map_info.style),attrs:{\"id\":\"g3w-map-info\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.map_info.info)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('addlayer',{attrs:{\"service\":_vm.service}})],1),_vm._v(\" \"),_c('map-footer',{attrs:{\"service\":_vm.service}})],2)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{attrs:{\"id\":\"marker\"}})])}]\n\n},{\"components/MapAddLayer.vue\":252,\"components/MapFooter.vue\":253}],252:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueColor = require('vue-color');\n\nvar _constant = require('app/constant');\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/geo'),\n    createVectorLayerFromFile = _require.createVectorLayerFromFile,\n    createStyleFunctionToVectorLayer = _require.createStyleFunctionToVectorLayer;\n\nvar SUPPORTED_FORMAT = ['zip', 'geojson', 'GEOJSON', 'kml', 'kmz', 'KMZ', 'KML', 'json', 'gpx', 'gml', 'csv'];\nvar CSV_SEPARATORS = [',', ';'];\n\n_vueColor.Chrome.mounted = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return this.$nextTick();\n\n        case 2:\n          $('.vue-color__chrome__toggle-btn').remove();\n          $('.vue-color__editable-input__label').remove();\n          $('.vue-color__chrome__saturation-wrap').css('padding-bottom', '100px');\n          $('.vue-color__chrome').css({\n            'box-shadow': '0 0 0 0',\n            'border': '1px solid #97A1A8'\n          });\n\n        case 6:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nexports.default = {\n  props: ['service'],\n  data: function data() {\n    var MAPEPSG = this.service.getCrs();\n    _constant.EPSG.find(function (epsg) {\n      return epsg === MAPEPSG;\n    }) === undefined && _constant.EPSG.unshift(MAPEPSG);\n    return {\n      vectorLayer: null,\n      options: _constant.EPSG,\n      error: false,\n      error_message: null,\n      position: null,\n      loading: false,\n      fields: [],\n      field: null,\n      accepted_extension: SUPPORTED_FORMAT.map(function (format) {\n        return '.' + format;\n      }).join(','),\n      csv: {\n        valid: false,\n        loading: false,\n        headers: [],\n        x: null,\n        y: null,\n        separators: CSV_SEPARATORS,\n        separator: CSV_SEPARATORS[0]\n      },\n      layer: {\n        name: null,\n        type: null,\n        crs: null,\n        mapCrs: null,\n        color: {\n          hex: '#194d33',\n          rgba: {\n            r: 25,\n            g: 77,\n            b: 51,\n            a: 1\n          },\n          a: 1\n        },\n        data: null,\n        visible: true,\n        title: null,\n        id: null,\n        external: true\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome\n  },\n  computed: {\n    csv_extension: function csv_extension() {\n      return this.layer.type === 'csv';\n    },\n    add: function add() {\n      return this.layer.data || this.csv.valid;\n    }\n  },\n  methods: {\n    setLayerMapPosition: function setLayerMapPosition(position) {\n      this.position = position;\n    },\n    setError: function setError(type) {\n      this.error_message = 'sdk.errors.' + type;\n      this.error = true;\n    },\n    clearError: function clearError() {\n      this.error = false;\n      this.error_message = null;\n    },\n    onChangeColor: function onChangeColor(val) {\n      this.layer.color = val;\n    },\n    onAddLayer: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n        var _this = this;\n\n        var reader, name, type, input_file, promiseData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                reader = new FileReader();\n                name = evt.target.files[0].name;\n                type = evt.target.files[0].name.split('.');\n\n                type = type[type.length - 1].toLowerCase();\n                input_file = $(this.$refs.input_file);\n\n                if (!(SUPPORTED_FORMAT.indexOf(type) !== -1)) {\n                  _context2.next = 32;\n                  break;\n                }\n\n                this.clearError();\n                this.layer.mapCrs = this.service.getEpsg();\n                this.layer.name = name;\n                this.layer.title = name;\n                this.layer.id = name;\n                this.layer.type = type;\n\n                if (!(this.layer.type === 'csv')) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                reader.onload = function (evt) {\n                  input_file.val(null);\n                  var csv_data = evt.target.result.split(/\\r\\n|\\n/).filter(function (row) {\n                    return row;\n                  });\n\n                  var _csv_data = _toArray(csv_data),\n                      headers = _csv_data[0],\n                      values = _csv_data.slice(1);\n\n                  var handle_csv_headers = function handle_csv_headers(separator) {\n                    var data = null;\n                    _this.csv.loading = true;\n                    var csv_headers = headers.split(separator);\n                    var headers_length = csv_headers.length;\n                    if (headers_length > 1) {\n                      _this.csv.headers = csv_headers;\n                      _this.fields = csv_headers;\n                      _this.csv.x = csv_headers[0];\n                      _this.csv.y = csv_headers[1];\n                      data = {\n                        headers: csv_headers,\n                        separator: separator,\n                        x: _this.csv.x,\n                        y: _this.csv.y,\n                        values: values\n                      };\n                      _this.csv.valid = true;\n                    } else {\n                      _this.csv.headers = _this.fields = [];\n                      _this.vectorLayer = null;\n                      _this.csv.valid = false;\n                      _this.fields.splice(0);\n                    }\n                    _this.csv.loading = false;\n                    return data;\n                  };\n                  _this.layer.data = handle_csv_headers(_this.csv.separator);\n                  _this.$watch('csv.separator', function (separator) {\n                    return _this.layer.data = handle_csv_headers(separator);\n                  });\n                };\n                reader.readAsText(evt.target.files[0]);\n                _context2.next = 30;\n                break;\n\n              case 17:\n                promiseData = new Promise(function (resolve, reject) {\n                  if (_this.layer.type === 'zip' || _this.layer.type === 'kmz') {\n                    var data = evt.target.files[0];\n                    input_file.val(null);\n                    resolve(data);\n                  } else {\n                    reader.onload = function (evt) {\n                      var data = evt.target.result;\n                      input_file.val(null);\n                      resolve(data);\n                    };\n                    reader.readAsText(evt.target.files[0]);\n                  }\n                });\n                _context2.next = 20;\n                return promiseData;\n\n              case 20:\n                this.layer.data = _context2.sent;\n                _context2.prev = 21;\n\n                this.fields.splice(0);_context2.next = 25;\n                return this.createVectorLayer();\n\n              case 25:\n                this.fields = this.vectorLayer.get('_fields');\n                _context2.next = 30;\n                break;\n\n              case 28:\n                _context2.prev = 28;\n                _context2.t0 = _context2['catch'](21);\n\n              case 30:\n                _context2.next = 33;\n                break;\n\n              case 32:\n                this.setError('unsupported_format');\n\n              case 33:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[21, 28]]);\n      }));\n\n      function onAddLayer(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onAddLayer;\n    }(),\n    createVectorLayer: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return createVectorLayerFromFile(this.layer);\n\n              case 3:\n                this.vectorLayer = _context3.sent;\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](0);\n                this.setError('add_external_layer');\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      function createVectorLayer() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return createVectorLayer;\n    }(),\n    addLayer: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var crs;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.layer.data || this.csv.valid)) {\n                  _context4.next = 27;\n                  break;\n                }\n\n                crs = this.layer.crs;\n                _context4.prev = 2;\n                _context4.prev = 3;\n                _context4.next = 6;\n                return Projections.registerProjection(crs);\n\n              case 6:\n                _context4.next = 12;\n                break;\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4['catch'](3);\n\n                this.setError(_context4.t0);\n                return _context4.abrupt('return');\n\n              case 12:\n\n                this.loading = true;\n                _context4.next = 15;\n                return createVectorLayerFromFile(this.layer);\n\n              case 15:\n                this.vectorLayer = _context4.sent;\n\n                this.vectorLayer.setStyle(createStyleFunctionToVectorLayer({\n                  color: this.layer.color,\n                  field: this.field\n                }));\n                _context4.next = 19;\n                return this.service.addExternalLayer(this.vectorLayer, {\n                  crs: this.layer.crs,\n                  type: this.layer.type,\n                  position: this.position\n                });\n\n              case 19:\n                $(this.$refs.modal_addlayer).modal('hide');\n                this.clear();\n\n                _context4.next = 26;\n                break;\n\n              case 23:\n                _context4.prev = 23;\n                _context4.t1 = _context4['catch'](2);\n\n                this.setError('add_external_layer');\n\n              case 26:\n                this.loading = false;\n\n              case 27:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 23], [3, 8]]);\n      }));\n\n      function addLayer() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return addLayer;\n    }(),\n    clear: function clear() {\n      this.clearError();\n      this.loading = false;\n      this.layer.name = null;\n      this.layer.title = null;\n      this.layer.id = null;\n      this.layer.type = null;\n      this.layer.crs = this.service.getCrs();\n      this.layer.color = {\n        hex: '#194d33',\n        rgba: { r: 25, g: 77, b: 51, a: 1 },\n        a: 1\n      };\n      this.layer.data = null;\n      this.vectorLayer = null;\n      this.fields = [];\n      this.field = null;\n      this.csv.valid = false;\n    },\n    clearLayer: function clearLayer() {\n      this.clear();\n    }\n  },\n  watch: {\n    'csv.x': function csvX(value) {\n      if (value) this.layer.data.x = value;\n    },\n    'csv.y': function csvY(value) {\n      if (value) this.layer.data.y = value;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layer.crs = this.service.getCrs();\n    this.service.on('addexternallayer', function () {\n      return _this2.modal.modal('show');\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.modal = $('#modal-addlayer').modal('hide');\n              this.modal.on('hide.bs.modal', function () {\n                _this3.clear();\n              });\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.clear();\n    this.modal.modal('hide');\n    this.modal.remove();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal_addlayer\",staticClass:\"modal fade\",attrs:{\"id\":\"modal-addlayer\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.header'),expression:\"'mapcontrols.add_layer_control.header'\"}],staticClass:\"modal-title\",staticStyle:{\"font-weight\":\"bold\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_projection'),expression:\"'mapcontrols.add_layer_control.select_projection'\"}],attrs:{\"for\":\"projection-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layer.crs),expression:\"layer.crs\"}],staticClass:\"form-control\",attrs:{\"id\":\"projection-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.layer, \"crs\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.options),function(option){return _c('option',{domProps:{\"value\":option}},[_vm._v(_vm._s(option))])}),0)]),_vm._v(\" \"),_c('layerspositions',{on:{\"layer-position-change\":function($event){return _vm.setLayerMapPosition($event)}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_color'),expression:\"'mapcontrols.add_layer_control.select_color'\"}],staticStyle:{\"font-weight\":\"700\"}}),_vm._v(\" \"),_c('chrome-picker',{staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},on:{\"input\":_vm.onChangeColor},model:{value:(_vm.layer.color),callback:function ($$v) {_vm.$set(_vm.layer, \"color\", $$v)},expression:\"layer.color\"}}),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('form',{attrs:{\"id\":\"addcustomlayer\"}},[_c('input',{ref:\"input_file\",attrs:{\"type\":\"file\",\"title\":\" \",\"accept\":_vm.accepted_extension},on:{\"change\":function($event){return _vm.onAddLayer($event)}}}),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.drag_layer'),expression:\"'mapcontrols.add_layer_control.drag_layer'\"}]}),_vm._v(\" \"),(_vm.layer.name)?_c('h4',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layer.name))]):_vm._e(),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"fa-5x\",class:_vm.g3wtemplate.getFontClass('cloud-upload'),attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[.gml, .geojson, .kml, .kmz ,.gpx, .csv, .zip(shapefile)]\")])]),_vm._v(\" \"),(_vm.csv_extension)?_c('div',{staticStyle:{\"padding\":\"15px\",\"border\":\"1px solid grey\",\"border-radius\":\"3px\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.csv.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"select_field\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_separator'),expression:\"'mapcontrols.add_layer_control.select_csv_separator'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.separator),expression:\"csv.separator\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-separator\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"separator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.separators),function(separator){return _c('option',{key:separator,domProps:{\"value\":separator}},[_vm._v(_vm._s(separator))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_x_field'),expression:\"'mapcontrols.add_layer_control.select_csv_x_field'\"}],attrs:{\"for\":\"g3w-select-x-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.x),expression:\"csv.x\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-x-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"x\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_y_field'),expression:\"'mapcontrols.add_layer_control.select_csv_y_field'\"}],attrs:{\"for\":\"g3w-select-y-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.y),expression:\"csv.y\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-y-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"y\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.fields || _vm.fields.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_field_to_show'),expression:\"'mapcontrols.add_layer_control.select_field_to_show'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.field),expression:\"field\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-field-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.field=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---\")]),_vm._v(\" \"),_vm._l((_vm.fields),function(field){return _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(_vm._s(field))])})],2)]),_vm._v(\" \"),(_vm.error)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.error_message),expression:\"error_message\"}],staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.2em\",\"background-color\":\"orange\",\"padding\":\"10px\",\"text-align\":\"center\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"}],staticClass:\"btn btn-success pull-left\",attrs:{\"type\":\"button\",\"disabled\":!_vm.add},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayer($event)}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('close'),expression:\"'close'\"}],staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}})])],1)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/geo\":64,\"g3w-ol/projection/projections\":109,\"vue-color\":\"vue-color\"}],253:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapFooterRight = require('components/MapFooterRight.vue');\n\nvar _MapFooterRight2 = _interopRequireDefault(_MapFooterRight);\n\nvar _MapFooterLeft = require('components/MapFooterLeft.vue');\n\nvar _MapFooterLeft2 = _interopRequireDefault(_MapFooterLeft);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  components: {\n    MapFooterRight: _MapFooterRight2.default,\n    MapFooterLeft: _MapFooterLeft2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skin-border-color\",attrs:{\"id\":\"map_footer\"}},[_c('map-footer-left'),_vm._v(\" \"),_c('map-footer-right',{attrs:{\"service\":_vm.service}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/MapFooterLeft.vue\":254,\"components/MapFooterRight.vue\":255}],254:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Mapfooter'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_left\"}},[_c('a',{staticStyle:{\"margin-left\":\"5px\",\"align-self\":\"center\"},attrs:{\"href\":\"https://g3wsuite.it/\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"height\":\"15\",\"src\":\"/static/client/images/g3wsuite_logo.png\",\"alt\":\"\"}})])])}]\n\n},{}],255:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      mouse: {\n        switch_icon: false,\n        epsg_4326: false,\n        tooltip: null\n      },\n      mapunit: _applicationState2.default.map.unit\n    };\n  },\n\n  computed: {\n    showmapunits: function showmapunits() {\n      return this.service.state.mapunits.length > 1;\n    }\n  },\n  methods: {\n    createCopyMapExtentUrl: function createCopyMapExtentUrl() {\n      this.service.createCopyMapExtentUrl();\n    },\n    switchMapsCoordinateTo4326: function switchMapsCoordinateTo4326() {\n      this.mouse.epsg_4326 = !this.mouse.epsg_4326;\n    }\n  },\n  watch: {\n    'mapunit': function mapunit(unit) {\n      _applicationState2.default.map.unit = unit;\n      this.service.changeScaleLineUnit(unit);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.service.once('ready', function () {\n                _this.mouse.switch_icon = _this.service.getMapControlByType({\n                  type: 'mouseposition'\n                }) && _this.service.getEpsg() !== 'EPSG:4326';\n                _this.mouse.tooltip = 'ESPG ' + _this.service.getCrs().split(':')[1] + ' <--> WGS84';\n              });\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_right\"}},[_c('div',{attrs:{\"id\":\"scale-control\"}}),_vm._v(\" \"),(_vm.mouse.switch_icon && !_vm.isMobile())?_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:(_vm.mouse.tooltip),expression:\"mouse.tooltip\",arg:\"top\",modifiers:{\"create\":true}}],attrs:{\"id\":\"switch-mouse-coordinate\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.switchMapsCoordinateTo4326($event)}}},[_c('span',{staticClass:\"skin-color hide-cursor-caret-color\",class:_vm.g3wtemplate.getFontClass('mouse')})]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mouse.epsg_4326),expression:\"!mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouse.epsg_4326),expression:\"mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control-epsg-4326\"}}),_vm._v(\" \"),(_vm.showmapunits)?_c('div',{attrs:{\"id\":\"scale-line-units\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapunit),expression:\"mapunit\"}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px 2px\",\"font-weight\":\"bold\",\"border\":\"0\",\"cursor\":\"pointer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.mapunit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.service.state.mapunits),function(unit){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"sdk.mapcontrols.scaleline.units.\" + unit)),expression:\"`sdk.mapcontrols.scaleline.units.${unit}`\"}],staticStyle:{\"font-weight\":\"bold\"},domProps:{\"value\":unit,\"selected\":_vm.mapunit === unit}})}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.tooltips.copy_map_extent_url'),expression:\"'sdk.tooltips.copy_map_extent_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"background-color\":\"#eeeeee\"},attrs:{\"id\":\"permalink\"}},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link'),on:{\"click\":function($event){$event.stopPropagation();return _vm.createCopyMapExtentUrl($event)}}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"store/application-state\":368}],256:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\n__vue__options__.staticRenderFns = []\n\n},{}],257:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer_header[data-v-fee105a8]{padding:5px;margin-bottom:0;margin-top:0;cursor:pointer}.layer-name[data-v-fee105a8]{font-weight:700}.layer-header-icon[data-v-fee105a8]{margin-right:10px;color:#999}.layer_header span.open-close[data-v-fee105a8]{position:absolute;right:5px;color:#999}.metadata-label[data-v-fee105a8]{font-weight:700;font-size:1.1em}.row[data-v-fee105a8]{padding:10px;border-bottom:1px solid #e2e2e2}.nav-tabs[data-v-fee105a8]{border-bottom:0 solid #ddd}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li.active>a[data-v-fee105a8]:focus,.nav-tabs>li.active>a[data-v-fee105a8]:hover{border-width:0}.nav-tabs>li>a[data-v-fee105a8]{border:none;color:#aeaeae}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li>a[data-v-fee105a8]:hover{border:none;background:transparent}.nav-tabs>li>a[data-v-fee105a8]:after{content:\\\"\\\";height:2px;position:absolute;width:100%;left:0;bottom:-1px;transition:all .25s ease 0s;transform:scale(0)}.nav-tabs>li.active>a[data-v-fee105a8]:after,.nav-tabs>li:hover>a[data-v-fee105a8]:after{transform:scale(1)}.tab-nav>li>a[data-v-fee105a8]:after{background:#21527d none repeat scroll 0 0;color:#fff}.tab-content[data-v-fee105a8]{margin:10px;background-color:#eee;overflow:auto}.spatial-tab[data-v-fee105a8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"layer\",\n  mixins: [_mixins.metadataMixin],\n  props: {\n    state: {}\n  },\n  data: function data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    isSpatial: function isSpatial() {\n      return this.state.geometrytype != 'NoGeometry';\n    }\n  },\n  methods: {\n    showHideInfo: function showHideInfo() {\n      this.show = !this.show;\n    }\n  },\n  mounted: function mounted() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-info\"},[_c('h4',{staticClass:\"layer_header\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#' + _vm.state.id},on:{\"click\":_vm.showHideInfo}},[_c('i',{staticClass:\"layer-header-icon action-button nohover\",class:[_vm.isSpatial ? _vm.g3wtemplate.font['map']: _vm.g3wtemplate.font['table']],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"layer-name\"},[_vm._v(_vm._s(_vm.state.name))]),_vm._v(\" \"),_c('span',{staticClass:\"action-button nohover open-close\",class:[_vm.show ? _vm.g3wtemplate.getFontClass('minus') :_vm.g3wtemplate.getFontClass('plus')]})]),_vm._v(\" \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":_vm.state.id}},[_c('ul',{staticClass:\"metadata-nav-tabs nav nav-tabs\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.general'),expression:\"'sdk.metadata.groups.layers.groups.general'\"}],attrs:{\"href\":'#layer_general_' + _vm.state.id,\"aria-controls\":\"general\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]),_vm._v(\" \"),(_vm.isSpatial)?_c('li',{staticClass:\"spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.spatial'),expression:\"'sdk.metadata.groups.layers.groups.spatial'\"}],attrs:{\"href\":'#layer_spatial_' + _vm.state.id,\"aria-controls\":\"profile\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane active\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_general_' + _vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findAttributeFormMetadataAttribute('title'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.title'),expression:\"'sdk.metadata.groups.layers.fields.subfields.title'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.metadata.title))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('name'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.name'),expression:\"'sdk.metadata.groups.layers.fields.subfields.name'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.name))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('source'))?_c('div',{staticClass:\"row metadata-layer-source\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.source'),expression:\"'sdk.metadata.groups.layers.fields.subfields.source'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label metadata-layer-source-value-key\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value metadata-layer-source-value\"},[_vm._v(_vm._s(_vm.state.source.type))])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('abstract'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.abstract'),expression:\"'sdk.metadata.groups.layers.fields.subfields.abstract'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",domProps:{\"innerHTML\":_vm._s( _vm.state.metadata.abstract)}})]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('keywords'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.keywords'),expression:\"'sdk.metadata.groups.layers.fields.subfields.keywords'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('div',[_vm._v(_vm._s(_vm.state.metadata.keywords.join(', ')))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('metadataurl') && _vm.state.metadata.metadataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.metadataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.metadataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.metadataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.metadataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('dataurl') && _vm.state.metadata.dataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.dataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.dataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.dataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.dataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('attributes'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.attributes'),expression:\"'sdk.metadata.groups.layers.fields.subfields.attributes'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",staticStyle:{\"overflow\":\"auto\"}},[_c('table',{staticClass:\"table table-striped\",staticStyle:{\"background-color\":\"#eeeeee !important\"}},[_c('thead',[_c('tr',_vm._l((_vm.state.metadata.attributes[0]),function(value,header){return _c('th',[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.state.metadata.attributes),function(attribute){return _c('tr',_vm._l((attribute),function(value,header){return _c('td',[_vm._v(_vm._s(value))])}),0)}),0)])])]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_spatial_'+_vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.crs'),expression:\"'sdk.metadata.groups.layers.fields.subfields.crs'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.crs.epsg))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('geometrytype'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.geometrytype'),expression:\"'sdk.metadata.groups.layers.fields.subfields.geometrytype'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.geometrytype))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('bbox'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.bbox'),expression:\"'sdk.metadata.groups.layers.fields.subfields.bbox'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.bbox),function(value,key){return _c('p',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"5px\"}},[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(value))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-label\"},[_vm._v(\"CRS\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.metadata.crs),function(crs){return _c('div',[_c('span',[_vm._v(_vm._s(crs))])])}),0)]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fee105a8\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":1}],258:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-nav-bar li a[data-v-0e556a34]{text-align:center}.metadata-nav-bar li a i[data-v-0e556a34]{margin-right:5px}.metadata-item-tab[data-v-0e556a34]{margin-right:10px;border-radius:3px;margin-bottom:10px}.metadata-body[data-v-0e556a34]{overflow-y:auto;overflow-x:hidden;padding-left:0;padding-right:0}.tab-title[data-v-0e556a34]{position:absolute;bottom:10px;right:auto}.row-info[data-v-0e556a34]{margin:0!important;padding-top:10px;padding-bottom:10px;border-bottom:1px solid #eee}.row-info .label[data-v-0e556a34]{font-weight:700}.h_90[data-v-0e556a34]{height:90%}.h_100[data-v-0e556a34]{height:100%}#project-catalog[data-v-0e556a34]{position:relative;overflow:auto}.nav-tabs-wrapper[data-v-0e556a34]{display:inline-block;margin-bottom:-6px;margin-left:1.25%;margin-right:1.25%;position:relative;width:100%}.nav-tabs[data-v-0e556a34]{border-bottom:0 none}.nav-stacked[data-v-0e556a34]{font-size:1.2em;font-weight:700;padding:10px 0}.nav-stacked li a[data-v-0e556a34]{color:#fff}.left-vertical-tabs[data-v-0e556a34]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _MetadataLayer = require('components/MetadataLayer.vue');\n\nvar _MetadataLayer2 = _interopRequireDefault(_MetadataLayer);\n\nvar _MetadataProjectTabContent = require('components/MetadataProjectTabContent.vue');\n\nvar _MetadataProjectTabContent2 = _interopRequireDefault(_MetadataProjectTabContent);\n\nvar _MetadataProjectBBoxContent = require('components/MetadataProjectBBoxContent.vue');\n\nvar _MetadataProjectBBoxContent2 = _interopRequireDefault(_MetadataProjectBBoxContent);\n\nvar _MetadataProjectContactsContent = require('components/MetadataProjectContactsContent.vue');\n\nvar _MetadataProjectContactsContent2 = _interopRequireDefault(_MetadataProjectContactsContent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"project\",\n  data: function data() {\n    return {\n      state: this.$options.state,\n      iconsClass: {\n        info: this.g3wtemplate.getFontClass(\"info-circle\"),\n        globe: this.g3wtemplate.getFontClass(\"globe\"),\n        bars: this.g3wtemplate.getFontClass(\"bars\")\n      }\n    };\n  },\n\n  components: {\n    'metadata-layer': _MetadataLayer2.default,\n    'metadata-tab-content': _MetadataProjectTabContent2.default,\n    'metadata-bbox-content': _MetadataProjectBBoxContent2.default,\n    'metadata-contacts-content': _MetadataProjectContactsContent2.default\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    },\n    setComponent: function setComponent(key) {\n      var component = void 0;\n      switch (key) {\n        case 'extent':\n          component = 'metadata-bbox-content';\n          break;\n        case 'contactinformation':\n          component = 'metadata-contacts-content';\n          break;\n        default:\n          component = 'metadata-tab-content';\n      }\n      return component;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-catalog\"}},[_c('div',{class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"padding\":\"0\"},attrs:{\"id\":\"project-catalog-container\"}},[_c('ul',{staticClass:\"nav nav-tabs metadata-nav-bar\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active\"},[_c('a',{staticClass:\"metadata-item-tab general\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#general\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.g3wtemplate.getFontClass('info'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.title'),expression:\"'sdk.metadata.groups.general.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab spatial\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#spatial\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.globe,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.spatial.title'),expression:\"'sdk.metadata.groups.spatial.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab layers\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#metadata_layers\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.bars,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.title'),expression:\"'sdk.metadata.groups.layers.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 metadata-body tab-content\"},[_c('div',{staticClass:\"tab-pane fade in active\",attrs:{\"id\":\"general\"}},[_vm._l((_vm.state.groups.general),function(data,key){return _c('div',{staticClass:\"row h_100 row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"spatial\"}},[_c('div',[_vm._l((_vm.state.groups.spatial),function(data,key){return _c('div',{staticClass:\"row row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"metadata_layers\"}},_vm._l((_vm.state.groups.layers.layers.value),function(layer){return _c('metadata-layer',{attrs:{\"state\":layer}})}),1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0e556a34\"\n\n},{\"components/MetadataLayer.vue\":257,\"components/MetadataProjectBBoxContent.vue\":259,\"components/MetadataProjectContactsContent.vue\":260,\"components/MetadataProjectTabContent.vue\":261,\"vueify/lib/insert-css\":1}],259:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-b715e0e8]{font-weight:700;font-size:1.1em}.bbox-labels[data-v-b715e0e8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"metadatabbox\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      bboxlabels: ['MINX', 'MINY', 'MAXX', 'MAXY']\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,index){return _c('div',[_c('span',{staticClass:\"bbox-labels\"},[_vm._v(_vm._s(_vm.bboxlabels[index]))]),_vm._v(\" \"+_vm._s(value)+\"\\n      \")])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b715e0e8\"\n\n},{\"vueify/lib/insert-css\":1}],260:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-60ad65fc]{font-weight:700;font-size:1.1em}.metadata-contact-label[data-v-60ad65fc]{font-weight:700}.contact-icon[data-v-60ad65fc]{margin-right:3px}.row[data-v-60ad65fc]{margin-bottom:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatacontatcs\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      iconsClass: {\n        contactelectronicmailaddress: this.g3wtemplate.getFontClass(\"mail\"),\n        personprimary: this.g3wtemplate.getFontClass(\"user\"),\n        contactvoicetelephone: this.g3wtemplate.getFontClass(\"mobile\")\n      }\n    };\n  },\n\n  methods: {\n    sanitizeValue: function sanitizeValue(value) {\n      if (value !== null && value !== undefined) {\n        if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n          value = Object.keys(value).length ? value : '';\n        } else if (Array.isArray(value)) {\n          value = value.length ? value : '';\n        }\n      }\n      return value;\n    },\n    geti18n: function geti18n(key) {}\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-contact-label\"},[_c('i',{staticClass:\"contact-icon\",class:_vm.iconsClass[key],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10\"},[(key === 'personprimary')?_vm._l((value),function(subvalue,key){return _c('div',[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}],staticClass:\"metadata-contact-label\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(subvalue))])])}):_c('div',[(key === 'contactelectronicmailaddress')?[_c('a',{staticStyle:{\"font-weight\":\"bold\"},attrs:{\"href\":'mailto:' + _vm.sanitizeValue(value)}},[_vm._v(_vm._s(_vm.sanitizeValue(value)))])]:[_vm._v(\"\\n              \"+_vm._s(_vm.sanitizeValue(value))+\"\\n            \")]],2)],2)])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-60ad65fc\"\n\n},{\"vueify/lib/insert-css\":1}],261:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-6b130710]{font-weight:700;font-size:1.1em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatatabcontent\",\n  props: {\n    data: {},\n    fieldName: {}\n  },\n  computed: {\n    arrayToString: function arrayToString() {\n      return this.data.value.join(', ');\n    }\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),(_vm.fieldName == 'keywords')?_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(\"\\n    \"+_vm._s(_vm.arrayToString)+\"\\n  \")]):(_vm.fieldName == 'wms_url')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm.data.value))])]):(!_vm.isArrayorObject(_vm.data.value))?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):(_vm.fieldName == 'abstract')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('span',[_vm._v(_vm._s(value))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6b130710\"\n\n},{\"vueify/lib/insert-css\":1}],262:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemLeft\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-left\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2c7478a1\"\n\n},{\"services/navbaritems\":360}],263:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemRight\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-right\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-c140951c\"\n\n},{\"services/navbaritems\":360}],264:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'download-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"download\",rawName:\"v-download.show\",modifiers:{\"show\":true}}],staticClass:\"skin-color\",attrs:{\"id\":\"download_notification\",\"title\":\"DOWNLOAD\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"padding\":\"3px\"}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],265:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'online-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"online\",rawName:\"v-online:hide\",arg:\"hide\"}],staticStyle:{\"color\":\"#999\"},attrs:{\"id\":\"offline_notification\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('wifi')}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"0.4em\"}},[_vm._v(\"offline\")])])}\n__vue__options__.staticRenderFns = []\n\n},{}],266:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'plugins-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"plugins\",rawName:\"v-plugins\"}],staticStyle:{\"color\":\"#994b10\"},attrs:{\"id\":\"plugins_notification\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('plugin')})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],267:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PrintSelectAtlasFieldValues = require('components/PrintSelectAtlasFieldValues.vue');\n\nvar _PrintSelectAtlasFieldValues2 = _interopRequireDefault(_PrintSelectAtlasFieldValues);\n\nvar _PrintFidAtlasValues = require('components/PrintFidAtlasValues.vue');\n\nvar _PrintFidAtlasValues2 = _interopRequireDefault(_PrintFidAtlasValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      button: {\n        class: \"btn-success\",\n        type: \"stampa\",\n        disabled: false\n      }\n    };\n  },\n\n  components: {\n    SelectAtlasFieldValues: _PrintSelectAtlasFieldValues2.default,\n    FidAtlasValues: _PrintFidAtlasValues2.default\n  },\n  computed: {\n    disabled: function disabled() {\n      return this.state.output.loading || !!this.state.atlas && this.state.atlasValues.length === 0;\n    }\n  },\n  methods: {\n    setDisabledPrintButton: function setDisabledPrintButton() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.button.disabled = bool;\n    },\n    setAtlasValues: function setAtlasValues() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.atlasValues = values;\n    },\n    onChangeTemplate: function onChangeTemplate() {\n      this.$options.service.changeTemplate();\n    },\n    onChangeScale: function onChangeScale() {\n      this.$options.service.changeScale();\n    },\n    onChangeFormat: function onChangeFormat() {},\n    onChangeDpi: function onChangeDpi() {},\n    onChangeRotation: function onChangeRotation(evt) {\n      if (this.state.rotation >= 0 && !_.isNil(this.state.rotation) && this.state.rotation != '') {\n        this.state.rotation = this.state.rotation > 360 ? 360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else if (this.state.rotation < 0) {\n        this.state.rotation = this.state.rotation < -360 ? -360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else {\n        this.state.rotation = 0;\n      }\n      this.$options.service.changeRotation();\n    },\n    print: function print() {\n      this.$options.service.print();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu\",attrs:{\"id\":\"print\"}},[_c('li',[_c('form',{staticClass:\"g3w-search-form form-horizonal\"},[_c('div',{staticClass:\"box-body\"},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}})],1),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.print.help\"}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.template'),expression:\"'sdk.print.template'\"}],attrs:{\"for\":\"templates\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.template),expression:\"state.template\"}],staticClass:\"form-control\",style:({marginBottom: this.state.atlas && '10px'}),attrs:{\"id\":\"templates\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"template\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeTemplate]}},_vm._l((_vm.state.print),function(print){return _c('option',{domProps:{\"value\":print.name}},[_vm._v(_vm._s(print.name))])}),0),_vm._v(\" \"),(!_vm.state.atlas)?[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.scale'),expression:\"'sdk.print.scale'\"}],attrs:{\"for\":\"scala\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.scala),expression:\"state.scala\"}],staticClass:\"form-control\",attrs:{\"id\":\"scala\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"scala\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeScale]}},_vm._l((_vm.state.scale),function(scala){return _c('option',{domProps:{\"value\":scala.value}},[_vm._v(_vm._s(scala.label))])}),0),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dpi\"}},[_vm._v(\"dpi\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.dpi),expression:\"state.dpi\"}],staticClass:\"form-control\",attrs:{\"id\":\"dpi\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"dpi\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeDpi]}},_vm._l((_vm.state.dpis),function(dpi){return _c('option',[_vm._v(_vm._s(dpi))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.rotation'),expression:\"'sdk.print.rotation'\"}],attrs:{\"for\":\"rotation\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.rotation),expression:\"state.rotation\"}],staticClass:\"form-control\",attrs:{\"min\":\"-360\",\"max\":\"360\",\"id\":\"rotation\",\"type\":\"number\"},domProps:{\"value\":(_vm.state.rotation)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"rotation\", $event.target.value)},_vm.onChangeRotation]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.format'),expression:\"'sdk.print.format'\"}],attrs:{\"for\":\"format\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.output.format),expression:\"state.output.format\"}],staticClass:\"form-control\",attrs:{\"id\":\"format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state.output, \"format\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.state.formats),function(format){return _c('option',{domProps:{\"value\":format.value}},[_vm._v(_vm._s(format.label))])}),0)]:(_vm.state.atlas.field_name)?[_c('select-atlas-field-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})]:[_c('fid-atlas-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})],_vm._v(\" \"),(_vm.state.labels && _vm.state.labels.length)?[_c('div',{staticClass:\"print-labels-content\",staticStyle:{\"margin-top\":\"5px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.labels'),expression:\"'sdk.print.labels'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.1em\",\"display\":\"block\",\"border-bottom\":\"2px solid #ffffff\",\"margin-bottom\":\"5px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"labels-input-content\",staticStyle:{\"max-height\":\"120px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.state.labels),function(label){return _c('span',{key:label.id},[_c('label',{attrs:{\"for\":(\"g3w_label_id_input_\" + (label.id))}},[_vm._v(_vm._s(label.id))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(label.text),expression:\"label.text\"}],staticClass:\"form-control\",attrs:{\"id\":(\"g3w_label_id_input_\" + (label.id))},domProps:{\"value\":(label.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(label, \"text\", $event.target.value)}}})])}),0)])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"box-footer\",staticStyle:{\"background-color\":\"transparent\"}},[_c('span',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.button.disabled),expression:\"button.disabled\"},{name:\"download\",rawName:\"v-download\"},{name:\"t\",rawName:\"v-t\",value:('create_print'),expression:\"'create_print'\"}],staticClass:\"sidebar-button-run btn\",staticStyle:{\"width\":\"100%\",\"font-weight\":\"bold\"},attrs:{\"id\":\"printbutton\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.print($event)}}})])])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/PrintFidAtlasValues.vue\":268,\"components/PrintSelectAtlasFieldValues.vue\":270}],268:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"fid-atlas-values\",\n  props: {\n    atlas: {\n      type: Object\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      value: ''\n    };\n  },\n\n  methods: {\n    validateValue: function validateValue(value) {\n      value = value && 1 * value;\n      return Number.isInteger(value) && value >= 0 && value < this.atlas.feature_count || null;\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.value = value;\n        var values = new Set();\n        var addValue = function addValue(value) {\n          return _this.validateValue(value) !== null && values.add(value);\n        };\n        var addRangeToValues = function addRangeToValues() {\n          var range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          var rangeLenght = range.length;\n          for (var i = 1; i < rangeLenght; i++) {\n            var start = range[i - 1];\n            var end = range[i];\n            for (var _i = start; _i < end; _i++) {\n              values.add(_i + '');\n            }\n          }\n          values.add(range[rangeLenght - 1]);\n        };\n        if (value) {\n          value.split(',').forEach(function (value) {\n            if (value) {\n              if (value.indexOf('-') !== -1) {\n                var _values = value.split('-');\n                var range = _values.filter(function (value) {\n                  return _this.validateValue(value) !== null;\n                });\n                if (range.length === _values.length) {\n                  var canAdd = range.reduce(function (bool, value, currentIndex) {\n                    return bool && (currentIndex === 0 || range[currentIndex - 1] <= value);\n                  }, true);\n                  canAdd && addRangeToValues(range);\n                }\n              } else addValue(value);\n            }\n          });\n        }\n        this.$emit('set-values', Array.from(values));\n        this.$emit('disable-print-button', value.trim() === '');\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.value = '';\n        this.$emit('set-values', []);\n        this.$emit('disable-print-button', true);\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.value = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_fid}},[_c('span',[_vm._v(\"fids [max: \"+_vm._s(_vm.atlas.feature_count - 1)+\"]\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.value)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\",\"color\":\"#ffffff\"},attrs:{\"id\":\"fid-print-atals-instruction\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_instruction'),expression:\"'sdk.print.fids_instruction'\"}],staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"id\":\"fids_intruction\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_example'),expression:\"'sdk.print.fids_example'\"}],staticStyle:{\"margin-top\":\"3px\",\"font-weight\":\"bold\"},attrs:{\"id\":\"fids_examples_values\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1dcb18ba\"\n\n},{}],269:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    imageToDataURL = _require.imageToDataURL;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      disableddownloadbutton: true,\n      downloadImageName: '',\n      format: null\n    };\n  },\n\n  computed: {\n    loading: function loading() {\n      return this.state.loading && this.state.layers;\n    }\n  },\n  methods: {\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableSideBar(bool);\n      this.state.loading = bool;\n      this.disableddownloadbutton = bool;\n    },\n    downloadImage: function downloadImage() {\n      var _this = this;\n\n      this.setLoading(true);\n      if (this.format === 'jpg' || this.format === 'png') {\n        this.downloadImageName = 'download.' + this.state.format;\n        imageToDataURL({\n          src: this.state.url,\n          type: 'image/' + this.state.format,\n          callback: function callback(url) {\n            return setTimeout(function () {\n              return _this.setLoading(false);\n            });\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    'state.url': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(url) {\n        var _this2 = this;\n\n        var timeOut;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!url) {\n                  _context.next = 6;\n                  break;\n                }\n\n                this.format = this.state.format;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                timeOut = setTimeout(function () {\n                  _this2.setLoading(false);\n                  _gui2.default.showUserMessage({\n                    type: 'alert',\n                    message: 'timeout'\n                  });\n                }, _constant.TIMEOUT);\n\n\n                $(this.$refs.printoutput).load(url, function (response, status) {\n                  _this2.$options.service.stopLoading();\n                  status === 'error' && _this2.$options.service.showError();\n                  clearTimeout(timeOut);\n                  _this2.setLoading(false);\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateUrl(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateUrl;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.state.layers && this.$options.service.startLoading();\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.state.url && this.state.method === 'POST' && window.URL.revokeObjectURL(this.state.url);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"position\":\"relative\"},attrs:{\"id\":\"print-output\"}},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1),_vm._v(\" \"),(_vm.format === 'pdf')?_c('iframe',{ref:\"printoutput\",staticStyle:{\"border\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"type\":_vm.state.mime_type,\"src\":_vm.state.url}}):(_vm.format === 'png')?_c('div',{staticClass:\"g3w-print-png-output\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"flex-end\",\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"},attrs:{\"id\":\"g3w-print-header\"}},[_c('div',{class:{'g3w-disabled': _vm.disableddownloadbutton}},[_c('a',{attrs:{\"href\":_vm.state.url,\"download\":_vm.downloadImageName}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('sdk.print.download_image'),expression:\"'sdk.print.download_image'\",modifiers:{\"create\":true}}],staticClass:\"btn skin-button skin-tooltip-left\",class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"font-weight\":\"bold\"},attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"role\":\"button\"},on:{\"click\":_vm.downloadImage}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.format==='png' && _vm.state.url),expression:\"format==='png' && state.url\"}],staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"relative\",\"overflow-y\":\"auto\"}},[_c('img',{ref:\"printoutput\",staticStyle:{\"height\":\"auto\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.state.url}})])]):_vm._e(),_vm._v(\" \"),(!_vm.state.layers)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.no_layers'),expression:\"'sdk.print.no_layers'\"}],staticStyle:{\"font-weight\":\"bold\"}}):_vm._e()],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"services/gui\":356}],270:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nexports.default = {\n  name: \"selectAtlasFieldValues\",\n  mixins: [_mixins.autocompleteMixin, _mixins.select2Mixin],\n  props: {\n    atlas: {\n      type: Object,\n      required: true\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    emitValues: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.$emit('set-values', this.values);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function emitValues() {\n        return _ref.apply(this, arguments);\n      }\n\n      return emitValues;\n    }()\n  },\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  watch: {\n    values: {\n      immediate: true,\n      handler: function handler(values) {\n        this.$emit('disable-print-button', values.length === 0);\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.select2 && this.select2.val(null).trigger('change');\n        this.values = [];\n        this.emitValues();\n      }\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this = this;\n\n      var _atlas, field, layerId;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              _atlas = this.atlas, field = _atlas.field_name, layerId = _atlas.qgs_layer_id;\n\n              setTimeout(function () {});\n              this.select2 = $('#print_atlas_autocomplete').select2(_extends({\n                width: '100%',\n                multiple: true,\n                dropdownParent: $(this.$el),\n                minimumInputLength: 1,\n                ajax: {\n                  delay: 500,\n                  transport: function () {\n                    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3, success, failure) {\n                      var value = _ref3.data.q;\n                      var data;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _context2.prev = 0;\n                              _context2.next = 3;\n                              return _this.autocompleteRequest({\n                                layerId: layerId,\n                                field: field,\n                                value: value\n                              });\n\n                            case 3:\n                              data = _context2.sent;\n\n                              success({ results: data });\n                              _context2.next = 10;\n                              break;\n\n                            case 7:\n                              _context2.prev = 7;\n                              _context2.t0 = _context2['catch'](0);\n\n                              failure(_context2.t0);\n\n                            case 10:\n                            case 'end':\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2, _this, [[0, 7]]);\n                    }));\n\n                    function transport(_x, _x2, _x3) {\n                      return _ref4.apply(this, arguments);\n                    }\n\n                    return transport;\n                  }()\n                }\n              }, autocompleteOptions));\n              this.select2.on('select2:select', function (evt) {\n                var value = evt.params.data.id;\n                _this.values.push(value);\n                _this.emitValues();\n              });\n              this.select2.on('select2:unselect', function () {\n                var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(evt) {\n                  var value;\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          value = evt.params.data.id;\n\n                          _this.values = _this.values.filter(function (currentValue) {\n                            return currentValue !== value;\n                          });\n                          _this.emitValues();\n\n                        case 3:\n                        case 'end':\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, _this);\n                }));\n\n                return function (_x4) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n\n            case 7:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.values = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_autocomplete}},[_c('span',[_vm._v(_vm._s(_vm.atlas.field_name))])]),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"name\":_vm.atlas.field_name,\"id\":\"print_atlas_autocomplete\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-40b097a4\"\n\n},{\"gui/external/select2/options/autocomplete\":116,\"mixins\":338}],271:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar t = require('core/i18n/i18n.service').t;\n\nvar fakeImage = '/static/client/images/FakeProjectThumb.png';\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      loading: false\n    };\n  },\n\n  methods: {\n    trigger: function trigger(item) {\n      if (item.cbk) {\n        _gui2.default.showFullModal({\n          show: true\n        });\n        _gui2.default.setLoadingContent(true);\n        var gid = item.gid;\n\n        item.cbk.call(item, {\n          gid: gid\n        }).then(function (promise) {\n          promise.then(function (project) {\n            return document.title = project.state.html_page_title;\n          }).fail(function () {\n            _gui2.default.notify.error(\"<h4>\" + t(\"error_map_loading\") + \"</h4>\" + \"<h5>\" + t(\"check_internet_connection_or_server_admin\") + \"</h5>\");\n          }).always(function () {\n            _gui2.default.showFullModal({\n              show: false\n            });\n            _gui2.default.setLoadingContent(false);\n          });\n        });\n      } else if (item.href) window.open(item.href, '_blank');else if (item.route) _gui2.default.goto(item.route);else console.log(\"No action for \" + item.title);\n    },\n    logoSrc: function logoSrc(src) {\n      var imageSrc = void 0;\n      if (src) {\n        imageSrc = src.indexOf(_projects2.default.config.mediaurl) !== -1 ? src : src.indexOf('static') === -1 && src.indexOf('media') === -1 ? '' + _projects2.default.config.mediaurl + src : fakeImage;\n      } else imageSrc = fakeImage;\n      return this.$options.host && '' + this.$options.host + imageSrc || imageSrc;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"menu-projects\"}},[_c('div',{staticClass:\"row row-equal\"},[_vm._l((_vm.state.menuitems),function(menuitem){return _c('div',{key:menuitem.title,staticClass:\"col-xs-12 col-sm-4 project-menu\",on:{\"click\":function($event){return _vm.trigger(menuitem)}}},[_c('div',{staticClass:\"project-menu-item-image\"},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.logoSrc(menuitem.thumbnail)}})]),_vm._v(\" \"),_c('div',{staticClass:\"project-menu-item-content\"},[_c('div',{staticClass:\"project-menu-item-text\"},[_c('h4',{staticClass:\"project-menu-item-title\"},[_vm._v(_vm._s(menuitem.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(menuitem.description)}})])])])}),_vm._v(\" \"),(!_vm.state.menuitems.length)?_c('div',{staticStyle:{\"margin-left\":\"15px\"}},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('no_other_projects'),expression:\"'no_other_projects'\"}]})]):_vm._e()],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"services/gui\":356,\"store/projects\":374}],272:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _constant = require('app/constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar operators = Object.values(_constant.FILTER_OPERATORS);\n\nexports.default = {\n  data: function data() {\n    var options = this.$options.options;\n    var edit = options !== undefined;\n    return {\n      edit: edit,\n      currentlayer: null,\n      message: '',\n      filter: edit ? options.filter : '',\n      loading: {\n        test: false,\n        values: false\n      },\n      values: [],\n      manual: true,\n      manualvalue: null,\n      select: {\n        field: null,\n        value: null\n      }\n    };\n  },\n\n  computed: {\n    fields: function fields() {\n      return this.currentlayer ? this.currentlayer.fields : [];\n    },\n    disabled: function disabled() {\n      return !this.filter;\n    }\n  },\n  watch: {\n    'select.field': function selectField() {\n      this.values = [];\n      this.manual = true;\n    }\n  },\n  methods: {\n    addToExpression: function addToExpression() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          value = _ref.value,\n          type = _ref.type;\n\n      switch (type) {\n        case 'operator':\n          value = ' ' + value + ' ';\n          break;\n        case 'field':\n          value = '\"' + value + '\"';\n          break;\n        case 'value':\n          value = '\\'' + value + '\\'';\n          break;\n      }\n      if (value) this.filter = '' + this.filter + value;\n    },\n    all: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading.values = true;\n                _context.prev = 1;\n                _context.next = 4;\n                return _querybuilder2.default.getValues({\n                  layerId: this.currentlayer.id,\n                  field: this.select.field\n                });\n\n              case 4:\n                this.values = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                this.loading.values = false;\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.manualvalue = null;\n                this.manual = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function all() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return all;\n    }(),\n    reset: function reset() {\n      this.filter = '';\n      this.message = '';\n      this.filterElement.previous = null;\n      this.filterElement.current = null;\n      this.filterElement.operator = null;\n    },\n    test: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var layerId, number_of_features;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                number_of_features = void 0;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _querybuilder2.default.test({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 6:\n                number_of_features = _context2.sent;\n\n                this.message = number_of_features !== undefined ? ' ' + number_of_features : '';\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2['catch'](3);\n\n                this.message = _context2.t0;\n\n              case 13:\n                this.loading.test = false;\n                _context2.next = 16;\n                return this.$nextTick();\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function test() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return test;\n    }(),\n    run: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var layerId, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                _context3.prev = 2;\n                _context3.next = 5;\n                return _querybuilder2.default.run({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 5:\n                response = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](2);\n\n              case 10:\n                this.loading.test = false;\n\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 8]]);\n      }));\n\n      function run() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return run;\n    }(),\n    save: function save() {\n      _querybuilder2.default.save({\n        layerId: this.currentlayer.id,\n        filter: this.filter,\n        projectId: this.projectId,\n        name: this.edit && this.$options.options.name,\n        id: this.edit && this.$options.options.id\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.filterElement = {\n      current: null,\n      previous: null,\n      operator: null\n    };\n    var project = _projects2.default.getCurrentProject();\n    this.layers = project.getLayers().filter(function (layer) {\n      return !layer.baselayer && layer.geometrytype && layer.geometrytype !== 'NoGeometry' && Array.isArray(layer.fields);\n    }).map(function (layer) {\n      var relations = project.getRelationsByLayerId({\n        layerId: layer.id,\n        type: 'ONE'\n      });\n      var excludejoinfields = [];\n      relations.forEach(function (relation) {\n        var customPrefix = relation.customPrefix;\n\n        var joinLayer = project.getLayerById(relation.referencingLayer);\n        customPrefix = customPrefix === undefined ? joinLayer.getName() + '_' : customPrefix;\n        var joinLayerFields = joinLayer.getFields().map(function (field) {\n          return '' + customPrefix + field.name;\n        });\n        excludejoinfields = [].concat(_toConsumableArray(excludejoinfields), _toConsumableArray(joinLayerFields));\n      });\n      return {\n        id: layer.id,\n        label: layer.name,\n        fields: layer.fields.filter(function (field) {\n          return field.show;\n        }).map(function (_ref5) {\n          var label = _ref5.label,\n              name = _ref5.name;\n          return {\n            label: label,\n            name: name\n          };\n        }).filter(function (field) {\n          return excludejoinfields.indexOf(field) === -1;\n        })\n      };\n    });\n    this.operators = operators;\n    this.currentlayer = this.edit ? this.layers.find(function (layer) {\n      return layer.id === _this.$options.options.layerId;\n    }) : this.layers[0];\n  },\n  mounted: function () {\n    var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this2 = this;\n\n      var index;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.select2 = $('#query_builder_layers_select').select2({\n                width: '100%'\n              });\n              if (this.edit) {\n                index = this.layers.indexOf(this.currentlayer);\n\n                this.select2.val(index);\n                this.select2.trigger('change');\n              }\n              this.select2.on('select2:select', function (evt) {\n                _this2.currentlayer = _this2.layers[evt.params.data.id];\n                _this2.select.field = null;\n                _this2.select.value = null;\n                _this2.reset();\n              });\n\n            case 5:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref6.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.select2.select2('destroy');\n    this.select2 = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"flex-wrap\":\"nowrap !important\"},attrs:{\"id\":\"query_builder\"}},[_c('div',{attrs:{\"id\":\"query_builder_header\"}}),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_layers\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.layers'),expression:\"'sdk.querybuilder.panel.layers'\"}],staticClass:\"querybuilder-title\"}),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"query_builder_layers_select\"}},_vm._l((_vm.layers),function(layer,index){return _c('option',{key:layer.label,staticClass:\"bold\",domProps:{\"value\":index}},[_vm._v(_vm._s(layer.label))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_fields\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.fields'),expression:\"'sdk.querybuilder.panel.fields'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_fields_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuilder-content\",attrs:{\"id\":\"query_builder_fields_content\"}},[_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',_vm._l((_vm.fields),function(ref){\nvar name = ref.name;\nvar label = ref.label;\nreturn _c('tr',{key:name,class:{'skin-background-color lighten': _vm.select.field===name},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.field = name},\"dblclick\":function($event){return _vm.addToExpression({value: name, type: 'field'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(label))])])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_values\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.values'),expression:\"'sdk.querybuilder.panel.values'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_values_title\"}}),_vm._v(\" \"),(!_vm.manual)?_c('div',{staticClass:\"querybuilder-content margin-between-element\",attrs:{\"id\":\"query_builder_values_content\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.values}}),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',[_vm._l((_vm.values),function(value){return _c('tr',{key:value,class:{'skin-background-color lighten': _vm.select.value===value},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.value = value},\"dblclick\":function($event){return _vm.addToExpression({value: value, type: 'value'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(value))])])}),_vm._v(\" \"),_vm._m(0)],2)])],1):_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"stretch\"},attrs:{\"id\":\"querybuilder-manual\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualvalue),expression:\"manualvalue\"}],staticClass:\"form-control\",staticStyle:{\"border\":\"0\"},attrs:{\"style\":\"border: 0;\"},domProps:{\"value\":(_vm.manualvalue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.manualvalue=$event.target.value}}}),_vm._v(\" \"),_c('span',{class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"1.2em\",\"background-color\":\"white\",\"color\":\"#000000\",\"padding\":\"9px\"},on:{\"click\":function($event){_vm.manualvalue && _vm.addToExpression({value: _vm.manualvalue, type: 'value'})}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content-end skin-color\",attrs:{\"id\":\"query_builder_values_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.manual'),expression:\"'sdk.querybuilder.panel.button.manual'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : _vm.manual},attrs:{\"id\":\"query_builder_values_buttons_sample\"},on:{\"click\":function($event){_vm.manual = true}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.all'),expression:\"'sdk.querybuilder.panel.button.all'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : !_vm.manual},attrs:{\"id\":\"query_builder_values_buttons_all\",\"disabled\":_vm.select.field === null},on:{\"click\":_vm.all}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"margin-top\":\"auto !important\"},attrs:{\"id\":\"query_builder_operators\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.operators'),expression:\"'sdk.querybuilder.panel.operators'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_operators_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content-wrap\",attrs:{\"id\":\"query_builder_operators_content\"}},_vm._l((_vm.operators),function(operator){return _c('button',{key:operator,staticClass:\"query_builder_button btn btn-secondary skin-color bold\",on:{\"click\":function($event){return _vm.addToExpression({value: operator, type: 'operator'})}}},[_vm._v(_vm._s(operator))])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_footer\"}},[_c('div',{attrs:{\"id\":\"query_builder_expression\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.expression'),expression:\"'sdk.querybuilder.panel.expression'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_expression_title\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_expression_content\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticStyle:{\"width\":\"100%\",\"resize\":\"none\",\"height\":\"100px\",\"color\":\"#000000\"},domProps:{\"value\":(_vm.filter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_message\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.test}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"},{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.messages.number_of_features'),expression:\"'sdk.querybuilder.messages.number_of_features'\"}],staticClass:\"bold skin-color\"}),_c('span',{staticClass:\"bold skin-color\"},[_vm._v(_vm._s(_vm.message))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content-end margin-between-element\",attrs:{\"id\":\"query_builder_footer_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.test'),expression:\"'sdk.querybuilder.panel.button.test'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.test}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.clear'),expression:\"'sdk.querybuilder.panel.button.clear'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",on:{\"click\":_vm.reset}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.run'),expression:\"'sdk.querybuilder.panel.button.run'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.run}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.save'),expression:\"'sdk.querybuilder.panel.button.save'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.save}})])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}})])}]\n\n},{\"app/constant\":4,\"services/querybuilder\":361,\"store/projects\":374}],273:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n\nexports.default = {\n  name: \"g3w-querybuilder-search\",\n  props: {\n    querybuildersearch: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      showinfo: false\n    };\n  },\n\n  methods: {\n    remove: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _querybuilder2.default.delete(this.querybuildersearch);\n\n              case 3:\n                this.$emit('delete');\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context['catch'](0);\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function remove() {\n        return _ref.apply(this, arguments);\n      }\n\n      return remove;\n    }(),\n    edit: function edit() {\n      QueryBuilderUIFactory.show({\n        options: {\n          id: this.querybuildersearch.id,\n          name: this.querybuildersearch.name,\n          layerId: this.querybuildersearch.layerId,\n          filter: this.querybuildersearch.filter\n        }\n      });\n    },\n    run: function run() {\n      var _this = this;\n\n      this.loading = true;\n      _querybuilder2.default.run({\n        layerId: this.querybuildersearch.layerId,\n        filter: this.querybuildersearch.filter\n      }).finally(function () {\n        _this.loading = false;\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuliserch-tools\",staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('filter'),staticStyle:{\"margin-right\":\"14px\",\"margin-left\":\"1px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.run'),expression:\"'sdk.querybuilder.search.run'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('run'),staticStyle:{\"color\":\"green\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.run($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.info'),expression:\"'sdk.querybuilder.search.info'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('info'),staticStyle:{\"color\":\"#FFFFFF\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showinfo=!_vm.showinfo}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.edit'),expression:\"'sdk.querybuilder.search.edit'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('pencil'),staticStyle:{\"color\":\"#307095\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.edit($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.delete'),expression:\"'sdk.querybuilder.search.delete'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showinfo),expression:\"showinfo\"}],staticClass:\"querybuildsearch-info\",staticStyle:{\"margin-top\":\"5px\"}},[_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"white-space\":\"pre\"}},[_vm._v(\"LAYER: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.layerName))])]),_vm._v(\" \"),_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"EXPRESSION: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.filter))])])])],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4002ad61\"\n\n},{\"gui/querybuilder/querybuilderuifactory\":165,\"services/querybuilder\":361}],274:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nvar _QueryResultsTableAttributeFieldValue = require('components/QueryResultsTableAttributeFieldValue.vue');\n\nvar _QueryResultsTableAttributeFieldValue2 = _interopRequireDefault(_QueryResultsTableAttributeFieldValue);\n\nvar _QueryResultsActionInfoFormats = require('components/QueryResultsActionInfoFormats.vue');\n\nvar _QueryResultsActionInfoFormats2 = _interopRequireDefault(_QueryResultsActionInfoFormats);\n\nvar _QueryResultsHeaderFeatureBody = require('components/QueryResultsHeaderFeatureBody.vue');\n\nvar _QueryResultsHeaderFeatureBody2 = _interopRequireDefault(_QueryResultsHeaderFeatureBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar maxSubsetLength = 3;\nvar headerExpandActionCellWidth = 10;\nvar headerActionsCellWidth = 10;\nvar HEADERTYPESFIELD = ['varchar', 'integer', 'float', 'date'];\n\nexports.default = {\n  data: function data() {\n    return {\n      state: this.$options.queryResultsService.state,\n      headerExpandActionCellWidth: headerExpandActionCellWidth,\n      headerActionsCellWidth: headerActionsCellWidth\n    };\n  },\n\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    TableAttributeFieldValue: _QueryResultsTableAttributeFieldValue2.default,\n    'infoformats': _QueryResultsActionInfoFormats2.default,\n    'header-feature-body': _QueryResultsHeaderFeatureBody2.default\n  },\n  computed: {\n    layersFeaturesBoxes: function layersFeaturesBoxes() {\n      return this.state.layersFeaturesBoxes;\n    },\n    onelayerresult: function onelayerresult() {\n      return this.state.layers.length === 1;\n    },\n    hasLayers: function hasLayers() {\n      return this.hasResults || !!this.state.components.length;\n    },\n    hasResults: function hasResults() {\n      return this.state.layers.length > 0;\n    },\n    info: function info() {\n      if (this.state.query) {\n        var query = this.state.query;\n        switch (query.type) {\n          case 'coordinates':\n            return {\n              icon: 'marker',\n              message: '  ' + query.coordinates[0] + ', ' + query.coordinates[1]\n            };\n          case 'bbox':\n            return {\n              icon: 'square',\n              message: '  [' + query.bbox.join(' , ') + ']'\n            };\n          case 'polygon':\n            return {\n              icon: 'draw',\n              message: query.layerName ? query.layerName + ' ' + (\"undefined\" !== typeof query.fid ? ' - Feature Id: ' + query.fid : '') : ' ' };\n          default:\n            console.warn('Unsupported query type:  ' + query.type);\n            break;\n        }\n      } else if (this.state.search) {}\n\n      return { icon: null, message: null };\n    }\n  },\n  methods: {\n    getLayerCustomComponents: function getLayerCustomComponents(layerId) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'feature';\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'after';\n\n      return this.state.layerscustomcomponents[layerId] && this.state.layerscustomcomponents[layerId][type] && this.state.layerscustomcomponents[layerId][type][position] || [];\n    },\n    getLayerField: function getLayerField(_ref) {\n      var layer = _ref.layer,\n          feature = _ref.feature,\n          fieldName = _ref.fieldName;\n\n      var layerField = layer.attributes.find(function (attribute) {\n        return attribute.name === fieldName;\n      });\n      var field = _extends({}, layerField, {\n        label: null,\n        value: feature.attributes[fieldName]\n      });\n      return field;\n    },\n    getQueryFields: function getQueryFields(layer, feature) {\n      var fields = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = layer.formStructure.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n\n          var _field = _extends({}, field);\n          _field.query = true;\n          _field.value = feature.attributes[field.name];\n          _field.input = {\n            type: '' + this.getFieldType(_field)\n          };\n          fields.push(_field);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return fields;\n    },\n    getColSpan: function getColSpan(layer) {\n      return this.attributesSubsetLength(layer) + (this.state.layersactions[layer.id].length ? 1 : 0) + !this.hasLayerOneFeature(layer) * 1;\n    },\n    getDownloadActions: function getDownloadActions(layer) {\n      return this.state.layersactions[layer.id].find(function (action) {\n        return action.formats;\n      });\n    },\n    addLayerFeaturesToResults: function addLayerFeaturesToResults(layer) {\n      this.$options.queryResultsService.addLayerFeaturesToResultsAction(layer);\n    },\n    showDownloadAction: function showDownloadAction(evt) {\n      var display = evt.target.children[0].style.display;\n      evt.target.children[0].style.display = display === 'none' ? 'inline-block' : 'none';\n    },\n    printAtlas: function printAtlas(layer) {\n      this.$options.queryResultsService.printAtlas(layer);\n    },\n    showLayerDownloadFormats: function showLayerDownloadFormats(layer) {\n      this.$options.queryResultsService.showLayerDownloadFormats(layer);\n    },\n    saveLayerResult: function saveLayerResult(layer) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"csv\";\n\n      this.$options.queryResultsService.saveLayerResult({ layer: layer, type: type });\n    },\n    hasLayerOneFeature: function hasLayerOneFeature(layer) {\n      return layer.features.length === 1;\n    },\n    addRemoveFilter: function addRemoveFilter(layer) {\n      this.$options.queryResultsService.addRemoveFilter(layer);\n    },\n    getContainerFromFeatureLayer: function getContainerFromFeatureLayer() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref2.layer,\n          index = _ref2.index;\n\n      return $('#' + layer.id + '_' + index + ' > td');\n    },\n    hasOneLayerAndOneFeature: function hasOneLayerAndOneFeature(layer) {\n      return this.hasLayerOneFeature(layer);\n    },\n    hasFormStructure: function hasFormStructure(layer) {\n      return !!layer.formStructure;\n    },\n    layerHasFeatures: function layerHasFeatures(layer) {\n      return layer.features && layer.features.length > 0 ? true : false;\n    },\n    selectionFeaturesLayer: function selectionFeaturesLayer(layer) {\n      this.$options.queryResultsService.selectionFeaturesLayer(layer);\n    },\n    layerHasActions: function layerHasActions(layer) {\n      return this.state.layersactions[layer.id].length > 0;\n    },\n    featureHasActions: function featureHasActions(layer, feature) {\n      return this.geometryAvailable(feature);\n    },\n    geometryAvailable: function geometryAvailable(feature) {\n      return feature.geometry ? true : false;\n    },\n    extractAttributesFromFirstTabOfFormStructureLayers: function extractAttributesFromFirstTabOfFormStructureLayers(layer) {\n      var _this = this;\n\n      var attributes = new Set();\n      var traverseStructure = function traverseStructure(item) {\n        if (item.nodes) item.nodes.forEach(function (node) {\n          return traverseStructure(node);\n        });else {\n          var field = layer.formStructure.fields.find(function (field) {\n            return field.name === item.field_name;\n          });\n          if (field) {\n            if (_this.state.type === 'ows') {\n              field = _extends({}, field);\n              field.name = field.name.replace(/ /g, '_');\n            }\n            attributes.add(field);\n          }\n        }\n      };\n      layer.formStructure.structure.length && layer.formStructure.structure.forEach(function (structure) {\n        return traverseStructure(structure);\n      });\n      return Array.from(attributes);\n    },\n    attributesSubset: function attributesSubset(layer) {\n      var attributes = this.hasFormStructure(layer) ? this.extractAttributesFromFirstTabOfFormStructureLayers(layer) : layer.attributes;\n      var _attributes = attributes.filter(function (attribute) {\n        return attribute.show && HEADERTYPESFIELD.indexOf(attribute.type) !== -1;\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return _attributes.slice(0, end);\n    },\n    relationsAttributesSubset: function relationsAttributesSubset(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        if (Array.isArray(value)) return;\n        attributes.push({ label: attribute, value: value });\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return attributes.slice(0, end);\n    },\n    relationsAttributes: function relationsAttributes(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        attributes.push({ label: attribute, value: value });\n      });\n      return attributes;\n    },\n    attributesSubsetLength: function attributesSubsetLength(layer) {\n      return this.attributesSubset(layer).length;\n    },\n    cellWidth: function cellWidth(index, layer) {\n      var headerLength = maxSubsetLength + this.state.layersactions[layer.id].length;\n      var subsetLength = this.attributesSubsetLength(layer);\n      var diff = headerLength - subsetLength;\n      var actionsCellWidth = layer.hasgeometry ? headerActionsCellWidth : 0;\n      var headerAttributeCellTotalWidth = 100 - headerExpandActionCellWidth - actionsCellWidth;\n      var baseCellWidth = headerAttributeCellTotalWidth / maxSubsetLength;\n      if (index === subsetLength - 1 && diff > 0) return baseCellWidth * (diff + 1);else return baseCellWidth;\n    },\n    featureBoxColspan: function featureBoxColspan(layer) {\n      var colspan = this.attributesSubsetLength(layer);\n      if (layer.expandable) colspan += 1;\n      if (layer.hasgeometry) colspan += 1;\n      return colspan;\n    },\n    relationsAttributesSubsetLength: function relationsAttributesSubsetLength(elements) {\n      return this.relationsAttributesSubset(elements).length;\n    },\n    getLayerFormStructure: function getLayerFormStructure(layer) {\n      return layer.formStructure.structure;\n    },\n    isAttributeOrTab: function isAttributeOrTab(layer, item) {\n      var isField = item.field_name !== undefined;\n      return {\n        type: isField && 'field' || 'tab',\n        item: isField && this.getLayerAttributeFromStructureItem(layer, item.field_name) || [item]\n      };\n    },\n    getLayerAttributeFromStructureItem: function getLayerAttributeFromStructureItem(layer, field_name) {\n      return layer.attributes.find(function (attribute) {\n        return attribute.name === field_name;\n      });\n    },\n    getLayerFeatureBox: function getLayerFeatureBox(layer, feature, relation_index) {\n      var _this2 = this;\n\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      if (this.layersFeaturesBoxes[boxid] === undefined) {\n        this.layersFeaturesBoxes[boxid] = Vue.observable({\n          collapsed: true\n        });\n        this.$watch(function () {\n          return _this2.layersFeaturesBoxes[boxid].collapsed;\n        }, function (collapsed) {\n          var index = layer.features.findIndex(function (_feature) {\n            return feature.id === _feature.id;\n          });\n          var container = _this2.getContainerFromFeatureLayer({\n            layer: layer,\n            index: index\n          });\n          _this2.$options.queryResultsService.openCloseFeatureResult({\n            open: !collapsed,\n            layer: layer,\n            feature: feature,\n            container: container\n          });\n        });\n        this.layersFeaturesBoxes[boxid].collapsed = layer.features.length > 1;\n      }\n      return this.layersFeaturesBoxes[boxid];\n    },\n    collapsedFeatureBox: function collapsedFeatureBox(layer, feature, relation_index) {\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      return this.layersFeaturesBoxes[boxid] ? this.layersFeaturesBoxes[boxid].collapsed : true;\n    },\n    showFeatureInfo: function showFeatureInfo(layer, boxid) {\n      this.$options.queryResultsService.emit('show-query-feature-info', {\n        layer: layer,\n        tabs: this.hasFormStructure(layer),\n        show: this.layersFeaturesBoxes[boxid] ? !this.layersFeaturesBoxes[boxid].collapsed : false\n      });\n    },\n    getBoxId: function getBoxId(layer, feature, relation_index) {\n      return this.$options.queryResultsService.getBoxId(layer, feature, relation_index);\n    },\n    toggleFeatureBox: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer, feature, relation_index) {\n        var boxid;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                boxid = this.getBoxId(layer, feature, relation_index);\n\n                this.layersFeaturesBoxes[boxid].collapsed = !this.layersFeaturesBoxes[boxid].collapsed;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.showFeatureInfo(layer, boxid);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toggleFeatureBox(_x5, _x6, _x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return toggleFeatureBox;\n    }(),\n    toggleFeatureBoxAndZoom: function toggleFeatureBoxAndZoom(layer, feature, relation_index) {\n      !this.hasLayerOneFeature(layer) && this.toggleFeatureBox(layer, feature, relation_index);\n    },\n    trigger: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(action, layer, feature, index) {\n        var container;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(action.opened && $('#' + layer.id + '_' + index).css('display') === 'none')) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.toggleFeatureBox(layer, feature);\n                _context2.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                container = this.getContainerFromFeatureLayer({ layer: layer, index: index });\n                _context2.next = 7;\n                return this.$options.queryResultsService.trigger(action.id, layer, feature, index, container);\n\n              case 7:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function trigger(_x8, _x9, _x10, _x11) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    showFullPhoto: function showFullPhoto(url) {\n      this.$options.queryResultsService.showFullPhoto(url);\n    },\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  watch: {\n    'state.layers': function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(layers) {\n        var _this3 = this;\n\n        var layer, feature, boxid;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layers.forEach(function (layer) {\n                  if (layer.attributes.length <= maxSubsetLength && !layer.hasImageField) layer.expandable = false;\n                  layer.features.forEach(function (feature) {\n                    _this3.getLayerFeatureBox(layer, feature);\n                    if (feature.attributes.relations) {\n                      var relations = feature.attributes.relations;\n                      relations.forEach(function (relation) {\n                        var boxid = layer.id + '_' + feature.id + '_' + relation.name;\n                        var elements = relation.elements;\n                        elements.forEach(function (element, index) {\n                          _this3.layersFeaturesBoxes[boxid + index] = {\n                            collapsed: true\n                          };\n                        });\n                      });\n                    }\n                  });\n                });\n\n                this.onelayerresult = layers.length === 1;\n\n                if (this.onelayerresult && this.hasLayerOneFeature(layers[0])) {\n                  layer = layers[0];\n                  feature = layer.features[0];\n                  boxid = this.getBoxId(layer, feature);\n\n                  this.$options.queryResultsService.onceafter('postRender', function () {\n                    _this3.showFeatureInfo(layer, boxid);\n                  });\n                }\n                requestAnimationFrame(function () {\n                  return _this3.$options.queryResultsService.postRender(_this3.$el);\n                });\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stateLayers(_x12) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return stateLayers;\n    }(),\n    onelayerresult: function onelayerresult(bool) {\n      bool && this.$options.queryResultsService.highlightFeaturesPermanently(this.state.layers[0]);\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.zoomToLayerFeaturesExtent = throttle(function (layer) {\n      _this4.$options.queryResultsService.zoomToLayerFeaturesExtent(layer, {\n        highlight: true\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.state.zoomToResult = true;\n    this.layersFeaturesBoxes = null;\n  },\n  destroyed: function destroyed() {\n    this.$options.queryResultsService.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"queryresults-wrapper\",attrs:{\"id\":\"search-results\"}},[(_vm.info.message)?_c('div',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"margin-bottom\":\"3px\",\"font-size\":\"1.1em\"}},[(_vm.info.icon)?_c('span',{staticClass:\"action-button skin-tooltip-bottom\",class:_vm.g3wtemplate.getFontClass(_vm.info.icon),on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.info.action($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.message))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"queryresults-container\"},[(_vm.state.layers.length)?[(_vm.hasLayers)?_c('ul',{staticClass:\"queryresults\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"queryresults\"}},[_vm._l((_vm.state.layers),function(layer){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.layerHasFeatures(layer) || layer.rawdata) && layer.show),expression:\"(layerHasFeatures(layer) || layer.rawdata) && layer.show\"}]},[_c('bar-loader',{attrs:{\"loading\":layer.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"box box-primary\"},[_c('div',{staticClass:\"box-header with-border\",class:{'mobile': _vm.isMobile()},attrs:{\"data-widget\":\"collapse\"}},[_c('div',{staticClass:\"box-title query-layer-title\",style:({fontSize: _vm.isMobile() && '1em !important'})},[_vm._v(_vm._s(layer.title)+\"\\n                \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!layer.rawdata),expression:\"!layer.rawdata\"}],staticClass:\"query-layer-feature-count\"},[_vm._v(\"(\"+_vm._s(layer.features.length)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-features-action\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('infoformats',{attrs:{\"layer\":layer}}),_vm._v(\" \"),(layer.features.length > 1)?[(layer.hasgeometry)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'),expression:\"'sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.zoomToLayerFeaturesExtent(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('marker')})]):_vm._e(),_vm._v(\" \"),(layer.atlas.length)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.atlas.hint'),expression:\"'sdk.mapcontrols.query.actions.atlas.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printAtlas(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('print')})]):_vm._e(),_vm._v(\" \"),(layer.downloads.length === 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:((\"sdk.mapcontrols.query.actions.download_features_\" + (layer.downloads[0]) + \".hint\")),expression:\"`sdk.mapcontrols.query.actions.download_features_${layer.downloads[0]}.hint`\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer[layer.downloads[0]].active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.saveLayerResult(layer, layer.downloads[0])}}})])]:(layer.downloads.length > 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('Downloads'),expression:\"'Downloads'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.downloadformats.active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayerDownloadFormats(layer)}}})])]:_vm._e()]:_vm._e(),_vm._v(\" \"),(layer.external || (layer.source && layer.source.type !== 'wms'))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_features_to_results.hint'),expression:\"'sdk.mapcontrols.query.actions.add_features_to_results.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.addfeaturesresults.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayerFeaturesToResults(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('plus-square')})]):_vm._e(),_vm._v(\" \"),(layer.features.length > 1 && (layer.external || (layer.source && layer.source.type !== 'wms')))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_selection.hint'),expression:\"'sdk.mapcontrols.query.actions.add_selection.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.selection.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectionFeaturesLayer(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('success')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(layer.selection.active && !layer.external),expression:\"layer.selection.active && !layer.external\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.filter.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addRemoveFilter(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('filter')})])],2),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-box-tool\",attrs:{\"data-widget\":\"collapse\"}},[_c('i',{staticClass:\"btn-collapser skin-color\",class:_vm.g3wtemplate.font['minus']})])]),_vm._v(\" \"),(_vm.state.layeractiontool[layer.id].component)?[_c('div',{staticClass:\"g3w-layer-action-tools with-border\",class:{'mobile': _vm.isMobile()},staticStyle:{\"padding\":\"5px\"}},[_c(_vm.state.layeractiontool[layer.id].component,{tag:\"component\",attrs:{\"layer\":layer,\"config\":_vm.state.layeractiontool[layer.id].config}})],1)]:_vm._e(),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'before')),function(ref){\nvar component = ref.component;\nreturn _c(component,{tag:\"component\",attrs:{\"layer\":layer}})}),_vm._v(\" \"),_c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[(layer.rawdata)?[_c('div',{staticClass:\"queryresults-text-html\",class:{text: layer.infoformat === 'text/plain'},domProps:{\"innerHTML\":_vm._s(layer.rawdata)}})]:(_vm.hasFormStructure(layer))?[_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_c('tbody',[_vm._l((layer.features),function(feature,index){return (feature.show)?[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('tabs',{attrs:{\"fields\":_vm.getQueryFields(layer, feature),\"layerid\":layer.id,\"feature\":feature,\"tabs\":_vm.getLayerFormStructure(layer)}})],1)]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})]:_vm._e()})],2)])]:_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_vm._l((layer.features),function(feature,index){return (feature.show)?_c('tbody',{key:feature.id},[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('table',{staticClass:\"feature_attributes\"},_vm._l((layer.attributes.filter(function (attribute) { return attribute.show; })),function(attribute){return _c('tr',[_c('td',{staticClass:\"attr-label\"},[_vm._v(_vm._s(attribute.label))]),_vm._v(\" \"),_c('td',{staticClass:\"attr-value\",attrs:{\"attribute\":attribute.name}},[_c('table-attribute-field-value',{attrs:{\"feature\":feature,\"field\":_vm.getLayerField({layer: layer, feature: feature, fieldName: attribute.name})}})],1)])}),0)])]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})],2):_c('tbody')})],2)],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer}})],1)})],2)],1)}),_vm._v(\" \"),_vm._l((_vm.state.components),function(component){return _c('li',[_c(component,{tag:\"component\",on:{\"showresults\":function($event){return _vm.showResults()}}})],1)})],2):_vm._e()]:[(_vm.state.changed)?_c('div',{staticClass:\"query-results-not-found\"},[_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.no_results'),expression:\"'info.no_results'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"text-align\":\"center\"}})]):_vm._e()]],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryResultsActionInfoFormats.vue\":277,\"components/QueryResultsHeaderFeatureBody.vue\":280,\"components/QueryResultsTableAttributeFieldValue.vue\":281,\"core/utils/utils\":67,\"mixins\":338}],275:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"action\",\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    action: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    clickAction: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(action, layer, feature, featureIndex, event) {\n        var element, originalDataTitle;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.trigger(action, layer, feature, featureIndex);\n\n              case 2:\n                if (action.hint_change) {\n                  element = $(event.target).parent();\n                  originalDataTitle = element.attr('data-original-title');\n\n                  element.attr('data-original-title', t(action.hint_change.hint));\n                  element.tooltip('show');\n                  setTimeout(function () {\n                    element.attr('data-original-title', originalDataTitle);\n                    element.tooltip('show');\n                  }, action.hint_change.duration || 600);\n                }\n                this.$emit('action-clicked', action);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickAction(_x, _x2, _x3, _x4, _x5) {\n        return _ref.apply(this, arguments);\n      }\n\n      return clickAction;\n    }()\n  },\n  created: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var show;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.action.init && this.action.init({ layer: this.layer, feature: this.feature, index: this.featureIndex, action: this.action });\n\n              if (!(typeof this.action.condition === 'function')) {\n                _context2.next = 11;\n                break;\n              }\n\n              show = this.action.condition({ layer: this.layer, feature: this.feature });\n\n              if (!(show instanceof Promise)) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 6;\n              return show;\n\n            case 6:\n              _context2.t0 = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 9:\n              _context2.t0 = show;\n\n            case 10:\n              this.show = _context2.t0;\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.action-button[data-toggle=\"tooltip\"]').tooltip();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\",value:(_vm.action.download),expression:\"action.download\"},{name:\"t-title\",rawName:\"v-t-title\",value:(_vm.action.hint),expression:\"action.hint\"}],staticClass:\"action-button skin-tooltip-right\",class:{'toggled': _vm.action.state && _vm.action.state.toggled[_vm.featureIndex] },attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.clickAction(_vm.action, _vm.layer, _vm.feature, _vm.featureIndex, $event)}}},[_c('span',{class:(\"action-button-icon \" + (_vm.action.class)),staticStyle:{\"padding\":\"2px\"},style:(_vm.action.style)})]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-8bfeb4ec\"\n\n},{\"core/i18n/i18n.service\":13}],276:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"downloadformats\",\n  data: function data() {\n    var download_format = this.config.downloads[0].format;\n    return {\n      download_format: download_format\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    download: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _download;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _download = this.config.downloads.find(function (action) {\n                  return action.format === _this.download_format;\n                });\n                _context.next = 4;\n                return _download.cbk(this.layer, this.feature ? this.feature : this.layer.features, _download, this.featureIndex);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function download() {\n        return _ref.apply(this, arguments);\n      }\n\n      return download;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-download-formats-content\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('download_format'),expression:\"'download_format'\"}],staticClass:\"form-control\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"search\":false}},_vm._l((_vm.config.downloads),function(download){return _c('option',{directives:[{name:\"download\",rawName:\"v-download\"}],key:download.id,domProps:{\"value\":download.format}},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(download.format))])])}),0),_vm._v(\" \"),_c('button',{directives:[{name:\"download\",rawName:\"v-download\"}],staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-72d7b8fa\"\n\n},{}],277:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/parsers'),\n    responseParser = _require.response;\n\nvar _require2 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature,\n    query = _require2.query;\n\nexports.default = {\n    name: 'Infoformats',\n    props: {\n        layer: {\n            type: Object,\n            required: true\n        }\n    },\n    data: function data() {\n        return {\n            infoformat: this.layer.infoformat\n        };\n    },\n\n    computed: {\n        infoformats: function infoformats() {\n            return this.layer.infoformats || [];\n        }\n    },\n    methods: {\n        reloadLayerDataWithChangedContentType: function () {\n            var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(contenttype) {\n                var _this = this;\n\n                var queryService, response, _responseParser$get, _responseParser$get2, data;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                queryService = _gui2.default.getService('queryresults');\n\n                                this.layer.loading = true;\n                                _context.prev = 2;\n                                _context.next = 5;\n                                return this.projectLayer.changeProxyDataAndReloadFromServer('wms', {\n                                    headers: {\n                                        'Content-Type': contenttype\n                                    },\n                                    params: {\n                                        INFO_FORMAT: contenttype\n                                    }\n                                });\n\n                            case 5:\n                                response = _context.sent;\n\n                                this.layer.infoformat = contenttype;\n                                this.projectLayer.setInfoFormat(this.layer.infoformat);\n                                _responseParser$get = responseParser.get(contenttype)({\n                                    layers: [this.projectLayer],\n                                    response: response\n                                }), _responseParser$get2 = _slicedToArray(_responseParser$get, 1), data = _responseParser$get2[0];\n\n                                if (!data.features) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                this.layer.rawdata = null;\n                                data.features.forEach(function (feature) {\n                                    var _queryService$getFeat = queryService.getFeaturePropertiesAndGeometry(feature),\n                                        fid = _queryService$getFeat.id,\n                                        geometry = _queryService$getFeat.geometry,\n                                        attributes = _queryService$getFeat.properties;\n\n                                    if (_this.layer.attributes.length === 0) {\n                                        _this.layer.hasgeometry = !!geometry;\n\n                                        queryService.setActionsForLayers([_this.layer]);\n                                        getAlphanumericPropertiesFromFeature(attributes).forEach(function (name) {\n                                            _this.layer.attributes.push({\n                                                name: name,\n                                                label: name,\n                                                show: true\n                                            });\n                                        });\n                                    }\n                                    var queryFeature = {\n                                        id: fid,\n                                        attributes: attributes,\n                                        geometry: geometry,\n                                        show: true\n                                    };\n                                    queryFeature.show = true;\n                                    _this.layer.features.push(queryFeature);\n                                });\n                                _context.next = 18;\n                                break;\n\n                            case 14:\n                                this.layer.features.splice(0);\n                                _context.next = 17;\n                                return this.$nextTick();\n\n                            case 17:\n                                this.layer.rawdata = data.rawdata;\n\n                            case 18:\n                                _context.next = 23;\n                                break;\n\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context['catch'](2);\n\n                                console.log(_context.t0);\n\n                            case 23:\n                                this.layer.loading = false;\n\n                            case 24:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[2, 20]]);\n            }));\n\n            function reloadLayerDataWithChangedContentType(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return reloadLayerDataWithChangedContentType;\n        }()\n    },\n    watch: {\n        'infoformat': function infoformat(value) {\n            this.reloadLayerDataWithChangedContentType(value);\n        }\n    },\n    created: function created() {\n        this.projectLayer = _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    beforeDestroy: function beforeDestroy() {\n        this.projectLayer && this.projectLayer.clearProxyData('wms');\n        this.projectLayer = null;\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.infoformats.length)?_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('infoformat'),expression:\"'infoformat'\"}],staticClass:\"skin-color\",attrs:{\"select2_value\":_vm.infoformat,\"search\":false}},_vm._l((_vm.infoformats),function(infoformat){return _c('option',{key:infoformat,domProps:{\"value\":infoformat}},[_vm._v(_vm._s(infoformat))])}),0):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/geo\":64,\"core/utils/parsers\":66,\"services/gui\":356,\"store/catalog-layers\":369}],278:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-polygonattributes-types-title[data-v-7fd19c11]{font-weight:700;padding:3px;color:#fff;margin:0 0 5px}.g3w-polygonattributes-types-content[data-v-7fd19c11]{display:flex;justify-content:space-between;padding:3px;border-radius:3px;border:1px solid #f4f4f4}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"querypolygonaddattributes\",\n  props: {\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      type: this.config.choices[0].type\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      _this.config.choices.forEach(function (choice) {\n        return $(_this.$refs[choice.type]).text(t(choice.label));\n      });\n      $(_this.$refs.g3w_select_feature_featurepolygon).select2().trigger('change');\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.mapcontrols.querybypolygon.download.title'),expression:\"'sdk.mapcontrols.querybypolygon.download.title'\"}],staticClass:\"skin-background-color g3w-polygonattributes-types-title\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-polygonattributes-types-content\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('type'),expression:\"'type'\"}],ref:\"g3w_select_feature_featurepolygon\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"search\":false}},_vm._l((_vm.config.choices),function(choice){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:(choice.label),expression:\"choice.label\"}],key:choice.type,ref:choice.type,refInFor:true,domProps:{\"value\":choice.type}})}),0),_vm._v(\" \"),_c('button',{staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.config.download(_vm.type)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7fd19c11\"\n\n},{\"core/i18n/i18n.service\":13,\"store/application-state\":368,\"vueify/lib/insert-css\":1}],279:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsAction = require(\"components/QueryResultsAction.vue\");\n\nvar _QueryResultsAction2 = _interopRequireDefault(_QueryResultsAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"actions\",\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    actions: {\n      type: Array,\n      default: []\n    }\n  },\n  components: {\n    action: _QueryResultsAction2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.actions.length)?_c('td',{staticClass:\"g3w-feature-actions\"},_vm._l((_vm.actions),function(action){return _c('action',_vm._b({key:action.id,attrs:{\"action\":action}},'action',_vm.$props,false))}),1):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ec80a64e\"\n\n},{\"components/QueryResultsAction.vue\":275}],280:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".noAttributes[data-v-137530c7]{display:flex;justify-content:flex-end}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsActions = require('components/QueryResultsActions.vue');\n\nvar _QueryResultsActions2 = _interopRequireDefault(_QueryResultsActions);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"headerfeaturebody\",\n  mixins: [_mixins.fieldsMixin],\n  props: {\n    toggleFeatureBoxAndZoom: {\n      type: Function\n    },\n    trigger: {\n      type: Function\n    },\n    hasLayerOneFeature: {\n      type: Function\n    },\n    boxLayerFeature: {\n      type: Object\n    },\n    getLayerField: {\n      type: Function\n    },\n    attributesSubset: {\n      type: Function\n    },\n    layer: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    },\n    index: {\n      type: Number\n    },\n    actions: {\n      type: Array\n    }\n  },\n  components: {\n    actions: _QueryResultsActions2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"featurebox-header\",class:[_vm.boxLayerFeature.collapsed ? '' : 'featurebox-header-open'],on:{\"click\":function($event){return _vm.toggleFeatureBoxAndZoom(_vm.layer,_vm.feature)},\"mouseover\":function($event){return _vm.trigger({id:'highlightgeometry'}, _vm.layer, _vm.feature, _vm.index)},\"mouseout\":function($event){return _vm.trigger({id:'clearHighlightGeometry'}, _vm.layer, _vm.feature, _vm.index)}}},[_c('actions',{attrs:{\"layer\":_vm.layer,\"featureIndex\":_vm.index,\"trigger\":_vm.trigger,\"feature\":_vm.feature,\"actions\":_vm.actions}}),_vm._v(\" \"),_vm._l((_vm.attributesSubset(_vm.layer)),function(attribute){return _c('td',{staticClass:\"attribute\"},[(_vm.isLink(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link')}):(_vm.isPhoto(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):(_vm.isImage(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):_c('span',[_vm._v(_vm._s(_vm.feature.attributes[attribute.name]))])])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(_vm.layer))?_c('td',{staticClass:\"collapsed\",class:{noAttributes: _vm.attributesSubset(_vm.layer).length === 0}},[_c('span',{staticClass:\"fa link morelink skin-color\",class:[_vm.boxLayerFeature.collapsed ? _vm.g3wtemplate.font['plus'] : _vm.g3wtemplate.font['minus']]})]):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-137530c7\"\n\n},{\"components/QueryResultsActions.vue\":279,\"mixins\":338,\"vueify/lib/insert-css\":1}],281:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"tableattributefieldvalue\",\n  props: {\n    field: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    }\n  },\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    'g3w-link': _FieldLink2.default,\n    'g3w-vue': _FieldVue2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVue(_vm.field))?_c('g3w-vue',{attrs:{\"feature\":_vm.feature,\"state\":_vm.field}}):(_vm.isSimple(_vm.field))?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.field.value)}}):(_vm.isPhoto(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isImage(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isLink(_vm.field))?_c('g3w-link',{attrs:{\"state\":{value: _vm.field.value}}}):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0a32e30e\"\n\n},{\"components/FieldLink.vue\":206,\"components/FieldVue.vue\":209,\"mixins\":338}],282:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nvar SIDEBARWIDTH = void 0;\n\nexports.default = {\n  props: ['table', 'feature', 'relation', 'previousview', 'showChartButton', 'cardinality'],\n  inject: ['relationnoback'],\n  mixins: [_mixins.fieldsMixin, _mixins.resizeMixin],\n  components: {\n    Field: _FieldG3W2.default\n  },\n  data: function data() {\n    return {\n      feature: null,\n      fields: null,\n      chart: false,\n      headercomponent: null,\n      downloadButton: null,\n      downloadLayer: {\n        state: null,\n        config: {\n          downloads: []\n        }\n      }\n    };\n  },\n\n  computed: {\n    showrelationslist: function showrelationslist() {\n      return this.previousview === 'relations' && !this.relationnoback;\n    },\n    one: function one() {\n      return this.relation.type === 'ONE';\n    }\n  },\n  methods: {\n    createTable: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        var layer, downloadformats, downloadformatsLength;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layer = _catalogLayers2.default.getLayerById(this.table.layerId);\n\n                this.isEditable = layer.isEditable() && !layer.isInEditing();\n                downloadformats = layer.isDownloadable() ? layer.getDownloadableFormats() : [];\n                downloadformatsLength = downloadformats.length;\n\n                if (downloadformatsLength > 0) {\n                  this.downloadButton = {\n                    toggled: false,\n                    tooltip: downloadformatsLength > 1 ? 'Downloads' : 'sdk.tooltips.download_' + downloadformats[0],\n                    handler: downloadformatsLength > 1 ? _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                      return regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _this.downloadButton.toggled = !_this.downloadButton.toggled;\n                              _this.downloadLayer.state = _this.downloadLayer.state || layer.state;\n                              _this.downloadLayer.config.downloads = _this.downloadLayer.config.downloads.length ? _this.downloadLayer.config.downloads : downloadformats.map(function (format) {\n                                return {\n                                  id: format,\n                                  format: format,\n                                  cbk: function cbk() {\n                                    _this.saveRelation(layer.getDownloadUrl(format));\n                                    _this.headercomponent = null;\n                                  },\n                                  download: true\n                                };\n                              });\n                              _this.headercomponent = _this.downloadButton.toggled ? _QueryResultsActionDownloadFormats2.default : null;\n\n                            case 4:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee, _this);\n                    })) : function () {\n                      return _this.saveRelation(layer.getDownloadUrl(downloadformats[0]));\n                    }\n                  };\n                }\n                RelationPageEventBus.$on('reload', function () {\n                  _this.reloadLayout();\n                });\n                this.showChart = throttle(_asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n                  var relationData;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _this.chart = !_this.chart;\n                          _context2.next = 3;\n                          return _this.$nextTick();\n\n                        case 3:\n                          _this.chartContainer = _this.chartContainer || $('#chart_content');\n                          relationData = {\n                            relations: [_this.relation],\n                            fid: _this.feature.attributes[_constant.G3W_FID]\n                          };\n\n                          _this.$emit(_this.chart ? 'show-chart' : 'hide-chart', _this.chartContainer, relationData);\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                })));\n                _context3.next = 9;\n                return this.$nextTick();\n\n              case 9:\n                SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n                this.relation.title = this.relation.name;\n\n                if (!this.one) {\n                  this.relationDataTable = $(this.$refs.relationtable).DataTable({\n                    \"pageLength\": 10,\n                    \"bLengthChange\": true,\n                    \"scrollResize\": true,\n                    \"scrollCollapse\": true,\n                    \"scrollX\": true,\n                    \"responsive\": true,\n                    \"order\": [this.table.formStructure ? 1 : 0, 'asc'],\n                    \"columnDefs\": [{ \"orderable\": !this.table.formStructure, \"targets\": 0 }]\n                  });\n                  this.tableHeaderHeight = $('.query-relation  div.dataTables_scrollHeadInner').height();\n                }\n\n                _gui2.default.on('pop-content', this.resize);\n\n              case 13:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function createTable() {\n        return _ref.apply(this, arguments);\n      }\n\n      return createTable;\n    }(),\n    resize: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var tableHeight, datatableBody, breadcrumbHeight, OtherElementHeight, width;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.$refs.query_relation && this.$refs.query_relation.parentNode.style.display !== 'none') {\n                  tableHeight = $(\".content\").height();\n                  datatableBody = $(this.$refs.query_relation).find('div.dataTables_scrollBody');\n                  breadcrumbHeight = $('.content_breadcrumb').outerHeight();\n                  OtherElementHeight = breadcrumbHeight + $('.navbar-header').outerHeight() + $('.close-panel-block').outerHeight() + $(this.$refs['relation-header']).outerHeight() + $('.dataTables_filter').last().outerHeight() + $('.dataTables_paginate.paging_simple_numbers').outerHeight() + $('.dataTables_scrollHead').last().outerHeight();\n\n                  datatableBody.height(tableHeight - this.tableHeaderHeight - OtherElementHeight);\n                  if (this.table.rowFormStructure) {\n                    width = datatableBody.width() - $(this.$refs.relationtable).find('tr.selected > td').outerWidth() - 20;\n\n                    $('.row-wrap-tabs > .tabs-wrapper').width(width);\n                  }\n                  this.reloadLayout();\n                }\n\n              case 1:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function resize() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    saveRelation: function saveRelation(type) {\n      this.$emit('save-relation', type);\n      this.downloadButton.toggled = false;\n    },\n    showFormStructureRow: function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, row) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.table.rowFormStructure = this.table.rowFormStructure === row ? null : row;\n                this.fields = this.getRowFields(row);\n                _context5.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#relationtable_wrapper div.dataTables_scrollBody').css('overflow-x', this.table.rowFormStructure ? 'hidden' : 'auto');\n                this.resize();\n\n              case 6:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function showFormStructureRow(_x, _x2) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return showFormStructureRow;\n    }(),\n    editFeature: function editFeature(index) {\n      var queryResultsService = _gui2.default.getService('queryresults');\n      queryResultsService.editFeature({\n        layer: {\n          id: this.table.layerId,\n          attributes: this.table.fields\n        },\n        feature: this.table.features[index]\n      });\n    },\n    getRowFields: function getRowFields(row) {\n      var _this2 = this;\n\n      return this.table.fields.map(function (field, index) {\n        field.value = row[index];\n        field.query = true;\n        field.input = {\n          type: '' + _this2.getFieldType(field)\n        };\n        return field;\n      });\n    },\n    reloadLayout: function reloadLayout() {\n      this.relationDataTable && this.relationDataTable.columns.adjust();\n    },\n    back: function back() {\n      this.$parent.setRelationsList();\n    },\n    fieldIs: function fieldIs(type, value) {\n      var fieldType = this.getFieldType(value);\n      return fieldType === type;\n    },\n    is: function is(type, value) {\n      return this.fieldIs(type, value);\n    },\n    moveFnc: function moveFnc(evt) {\n      var sidebarHeaderSize = $('.sidebar-collapse').length ? 0 : SIDEBARWIDTH;\n      var size = evt.pageX + 2 - sidebarHeaderSize;\n      this.$refs.tablecontent.style.width = size + 'px';\n      this.$refs.chartcontent.style.width = $(this.$refs.relationwrapper).width() - size - 10 + 'px';\n    }\n  },\n  watch: {\n    table: {\n      immediate: true,\n      handler: function handler(table) {\n        table && table.rows.length && this.createTable();\n      }\n    },\n    chart: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6() {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function chart() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return chart;\n    }(),\n    headercomponent: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function headercomponent() {\n        return _ref7.apply(this, arguments);\n      }\n\n      return headercomponent;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  beforeDestroy: function () {\n    var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (this.relationDataTable) {\n                this.relationDataTable.destroy();\n                this.relationDataTable = null;\n                this.chartContainer && this.$emit('hide-chart', this.chartContainer);\n                this.chartContainer = null;\n                this.tableHeaderHeight = null;\n                _gui2.default.off('pop-content', this.resize);\n              }\n\n            case 1:\n            case 'end':\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function beforeDestroy() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return beforeDestroy;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.table)?_c('div',{ref:\"query_relation\",staticClass:\"query-relation\",class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"margin-top\":\"3px\"}},[_c('div',{ref:\"relation-header\",staticClass:\"header skin-background-color lighten\",staticStyle:{\"padding\":\"3px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"width\":\"100%\"}},[_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"border-radius\":\"3px\"},style:({fontSize: _vm.isMobile() ? '1em' : '1.3em'})},[(_vm.showrelationslist)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('sdk.relations.back_to_relations'),expression:\"'sdk.relations.back_to_relations'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:_vm.g3wtemplate.getFontClass('exit'),staticStyle:{\"font-size\":\"0.8em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"relation-tile skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.relation.name))])]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{staticClass:\"relations-table-tools\",staticStyle:{\"font-size\":\"1.1em\",\"margin-bottom\":\"3px\"}},[(_vm.downloadButton)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.downloadButton.tooltip),expression:\"downloadButton.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('download'), {'toggled-white': _vm.downloadButton.toggled}],staticStyle:{\"padding\":\"5px\"},on:{\"click\":_vm.downloadButton.handler}}):_vm._e(),_vm._v(\" \"),(_vm.showChartButton)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('sdk.tooltips.show_chart'),expression:\"'sdk.tooltips.show_chart'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('chart'), _vm.chart ? 'toggled-white' : ''],staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showChart($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{ref:\"relationwrapper\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin-bottom\":\"5px\",\"margin-top\":\"3px\",\"height\":\"95%\"}},[_c('div',{ref:\"tablecontent\",style:({width: _vm.chart ? '70%' : '100%', marginRight: _vm.chart ? '8px' : '3px', position: 'relative' }),attrs:{\"id\":\"table_content\"}},[(_vm.headercomponent)?[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"margin-left\":\"auto\",\"margin-bottom\":\"5px\",\"margin-right\":\"4px\"}},[_c(_vm.headercomponent,{tag:\"component\",attrs:{\"layer\":_vm.downloadLayer.state,\"config\":_vm.downloadLayer.config}})],1)]:_vm._e(),_vm._v(\" \"),_c('table',{ref:\"relationtable\",staticClass:\"hover relationtable table table-striped row-border\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',{staticStyle:{\"height\":\"0! important\"}},[(_vm.table.formStructure || _vm.isEditable)?_c('th',{style:({minWidth: ((((1*!!_vm.table.formStructure) + (1*_vm.isEditable))*30) + \"px\"), padding: '0 !important' })}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.table.columns),function(column){return _c('th',[_vm._v(_vm._s(column))])})],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.table.rows),function(row,index){return _c('tr',{key:_vm.table.rows_fid[index],class:{'selected': _vm.table.rowFormStructure === row}},[(_vm.table.formStructure || _vm.isEditable)?_c('td',[(_vm.table.formStructure)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:(_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'),expression:\"table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:[_vm.table.rowFormStructure === row ? _vm.g3wtemplate.getFontClass('minus') :  _vm.g3wtemplate.getFontClass('table')],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"current-tooltip\":_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'},on:{\"click\":function($event){$event.stopPropagation();return _vm.showFormStructureRow($event, row)}}}):_vm._e(),_vm._v(\" \"),(_vm.isEditable)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('Edit'),expression:\"'Edit'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:_vm.g3wtemplate.getFontClass('pencil'),on:{\"click\":function($event){$event.stopPropagation();return _vm.editFeature(index)}}}):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.table.formStructure && _vm.table.rowFormStructure === row)?[_c('td',{staticClass:\"row-wrap-tabs\",attrs:{\"colspan\":_vm.table.columns.length}},[_c('tabs',{attrs:{\"layerid\":_vm.table.layerId,\"feature\":_vm.table.features[index],\"fields\":_vm.fields,\"tabs\":_vm.table.formStructure}})],1)]:_vm._l((row),function(value){return _c('td',[_c('field',{attrs:{\"state\":{value:value}}})],1)})],2)}),0)])],2),_vm._v(\" \"),_c('g3w-resize',{staticClass:\"skin-border-color lighten\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"0 1px 0 1px\"},attrs:{\"show\":_vm.chart,\"moveFnc\":_vm.moveFnc,\"where\":'content'}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chart),expression:\"chart\"}],ref:\"chartcontent\",style:({width: _vm.chart ? '30%' : '0', paddingBottom: '5px', marginBottom: '5px', marginLeft: '8px' }),attrs:{\"id\":\"chart_content\"}})],1):_c('div',{staticClass:\"dataTables_scrollBody\",staticStyle:{\"font-weight\":\"bold\",\"margin-top\":\"10px\",\"font-size\":\"1.1em\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.relations.no_relations_found'),expression:\"'sdk.relations.no_relations_found'\"}]})])]):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/FieldG3W.vue\":203,\"components/QueryResultsActionDownloadFormats.vue\":276,\"core/utils/utils\":67,\"gui/relations/vue/relationeventbus\":171,\"mixins\":338,\"services/gui\":356,\"store/catalog-layers\":369}],283:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".relation-grid-item[data-v-02f56b7e]{min-width:0;min-height:80px;border:2px solid;cursor:pointer;border-radius:4px;background-color:#fff;display:flex;align-items:center}.relation-grid-item[data-v-02f56b7e]:hover{background-color:transparent}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: ['relations', 'feature', 'loading'],\n  methods: {\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$parent.showRelation(relation);\n\n              case 2:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    featureInfo: function featureInfo() {\n      var infoFeatures = [];\n      var index = 0;\n      Object.entries(this.feature.attributes).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        if (index > 2) return false;\n        if (value && _.isString(value) && value.indexOf('/') === -1) {\n          infoFeatures.push({\n            key: key,\n            value: value\n          });\n          index += 1;\n        }\n      });\n      return infoFeatures;\n    }\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var relation;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(this.relations.length === 1)) {\n                _context2.next = 5;\n                break;\n              }\n\n              relation = this.relations[0];\n\n              relation.noback = true;\n              _context2.next = 5;\n              return this.showRelation(relation);\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.relations.length === 1) {\n      delete this.relations[0].noback;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations\",staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"header skin-background-color lighten\",staticStyle:{\"margin-bottom\":\"10px\",\"border-radius\":\"4px\",\"padding\":\"5px\"}},[_c('div',{staticClass:\"skin-color-dark\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.relations.list_of_relations_feature'),expression:\"'sdk.relations.list_of_relations_feature'\",arg:\"pre\"}],staticStyle:{\"font-size\":\"1.1em\"}}),_vm._v(\" \"),_vm._l((_vm.featureInfo()),function(info){return _c('span',[_c('b',[_vm._v(_vm._s(info.key))]),_vm._v(\": \"+_vm._s(info.value)+\" \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"query-relations-content\",staticStyle:{\"display\":\"grid\",\"grid-template-columns\":\"repeat(2, auto)\",\"grid-column-gap\":\"5px\",\"grid-row-gap\":\"5px\"}},_vm._l((_vm.relations),function(relation){return _c('div',{staticClass:\"skin-border-color relation-grid-item\",on:{\"click\":function($event){return _vm.showRelation(relation)}}},[_c('span',{staticClass:\"skin-color g3w-long-text\",staticStyle:{\"font-weight\":\"bold\",\"padding\":\"5px\"}},[_vm._v(_vm._s(relation.name))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-02f56b7e\"\n\n},{\"vueify/lib/insert-css\":1}],284:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _Relations = require('components/Relations.vue');\n\nvar _Relations2 = _interopRequireDefault(_Relations);\n\nvar _Relation = require('components/Relation.vue');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require.getFeaturesFromResponseVectorApi;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nexports.default = {\n  data: function data() {\n    this.chartRelationIds = this.$options.chartRelationIds || [];\n    var _$options = this.$options,\n        table = _$options.table,\n        _$options$relation = _$options.relation,\n        relation = _$options$relation === undefined ? null : _$options$relation,\n        relations = _$options.relations,\n        nmRelation = _$options.nmRelation,\n        feature = _$options.feature,\n        currentview = _$options.currentview,\n        service = _$options.service;\n\n    return {\n      loading: false,\n      state: null,\n      error: false,\n      table: table ? service.buildRelationTable(table) : null,\n      relation: relation,\n      relations: relations,\n      nmRelation: nmRelation,\n      showChartButton: false,\n      feature: feature,\n      currentview: currentview,\n      previousview: currentview\n    };\n  },\n  provide: function provide() {\n    return {\n      relationnoback: this.$options.relations.length === 1\n    };\n  },\n\n  components: {\n    'relations': _Relations2.default,\n    'relation': _Relation2.default\n  },\n  methods: {\n    saveRelations: function saveRelations(type) {\n      this.$options.service.saveRelations(type);\n    },\n    reloadLayout: function reloadLayout() {\n      RelationPageEventBus.$emit('reload');\n    },\n    showChart: function showChart(container, relationData) {\n      var relationLayerId = this.relation.referencingLayer;\n      _gui2.default.getService('queryresults').showChart([relationLayerId], container, relationData);\n    },\n    hideChart: function hideChart(container) {\n      _gui2.default.getService('queryresults').hideChart(container);\n    },\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        var relationLayerId, fid, response, relations;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                this.loading = true;\n                this.relation = relation;\n                relationLayerId = relation.referencingLayer;\n                fid = this.feature.attributes[_constant.G3W_FID];\n                _context.prev = 5;\n                _context.next = 8;\n                return this.$options.service.getRelations({\n                  layer: this.$options.layer,\n                  relation: relation,\n                  fid: fid\n                });\n\n              case 8:\n                response = _context.sent;\n                relations = getFeaturesFromResponseVectorApi(response, {\n                  type: 'result'\n                });\n\n                if (!this.nmRelation) {\n                  _context.next = 15;\n                  break;\n                }\n\n                relationLayerId = this.nmRelation.referencedLayer;\n                _context.next = 14;\n                return this.$options.service.getRelationsNM({\n                  nmRelation: this.nmRelation,\n                  features: relations\n                });\n\n              case 14:\n                relations = _context.sent;\n\n              case 15:\n                this.showChartButton = !!this.chartRelationIds.find(function (chartlayerid) {\n                  return chartlayerid === relationLayerId;\n                });\n                this.table = this.$options.service.buildRelationTable(relations, relationLayerId);\n\n                _gui2.default.changeCurrentContentOptions({\n                  title: relation.name,\n                  crumb: {\n                    title: relation.name\n                  }\n                });\n                _context.next = 20;\n                return this.$nextTick();\n\n              case 20:\n                this.previousview = this.currentview;\n                this.currentview = 'relation';\n                _context.next = 26;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context['catch'](5);\n\n              case 26:\n                _gui2.default.setLoadingContent(false);\n                this.loading = true;\n\n              case 28:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 24]]);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    setRelationsList: function setRelationsList() {\n      this.previousview = 'relation';\n      this.currentview = 'relations';\n      _gui2.default.changeCurrentContentOptions({\n        crumb: {\n          title: _constant.LIST_OF_RELATIONS_TITLE\n        }\n      });\n      this.loading = false;\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.currentview === 'relation' || this.relations.length === 1 && this.relations[0].type === 'ONE') this.showRelation(this.relations[0]);\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.relations.sort(function (_ref3, _ref4) {\n                var relationName1 = _ref3.name;\n                var relationName2 = _ref4.name;\n\n                if (relationName1 < relationName2) return -1;\n                if (relationName1 > relationName2) return 1;\n                return 0;\n              });\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              if (this.error) requestAnimationFrame(function () {\n                _gui2.default.popContent();\n              });\n              this.error = false;\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations-page\"},[_c(_vm.currentview,{ref:_vm.currentview,tag:\"component\",attrs:{\"loading\":_vm.loading,\"previousview\":_vm.previousview,\"showChartButton\":_vm.showChartButton,\"relations\":_vm.relations,\"relation\":_vm.relation,\"nmRelation\":_vm.nmRelation,\"feature\":_vm.feature,\"table\":_vm.table},on:{\"save-relation\":_vm.saveRelations,\"show-chart\":_vm.showChart,\"hide-chart\":_vm.hideChart}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Relation.vue\":282,\"components/Relations.vue\":283,\"constant\":4,\"core/utils/geo\":64,\"gui/relations/vue/relationeventbus\":171,\"services/gui\":356}],285:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nvar _QueryBuilderSearch = require('components/QueryBuilderSearch.vue');\n\nvar _QueryBuilderSearch2 = _interopRequireDefault(_QueryBuilderSearch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  components: {\n    'g3w-tool': _Tool2.default,\n    'g3w-search-querybuilder': _QueryBuilderSearch2.default\n  },\n  computed: {\n    show: function show() {\n      return this.state.searches.length + this.state.searchtools.length + this.state.querybuildersearches.length > 0;\n    }\n  },\n  methods: {\n    showPanel: function showPanel() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.$options.service.showPanel(config);\n    },\n    removeItem: function removeItem(_ref) {\n      var type = _ref.type,\n          index = _ref.index;\n\n      this.$options.service.removeItem({\n        type: type,\n        index: index\n      });\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.icon-search-action').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('ul',{staticClass:\"treeview-menu g3w-search g3w-tools menu-items\",attrs:{\"id\":\"g3w-search\"}},[_vm._l((_vm.state.searches),function(search){return _c('li',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.showPanel(search)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('empty-circle')}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(search.name))])])}),_vm._v(\" \"),_vm._l((_vm.state.searchtools),function(searchtool){return _c('li',[_c('g3w-tool',{attrs:{\"tool\":searchtool}})],1)}),_vm._v(\" \"),_vm._l((_vm.state.querybuildersearches),function(querybuildersearch,index){return _c('g3w-search-querybuilder',{key:querybuildersearch.id,attrs:{\"querybuildersearch\":querybuildersearch},on:{\"delete\":function($event){return _vm.removeItem({type:'querybuilder', index:index})}}})})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryBuilderSearch.vue\":273,\"components/Tool.vue\":301}],286:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nexports.default = {\n  name: 'Searchdatetime',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  created: function created() {\n    this.id = 'search_datetime_' + getUniqueDomId();\n  },\n\n  computed: {\n    time: function time() {\n      return this.forminput.options.format.time;\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var format, fieldformat, displayformat;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              format = this.forminput.options.format;\n              fieldformat = format.fieldformat, displayformat = format.displayformat;\n\n              fieldformat = convertQGISDateTimeFormatToMoment(fieldformat);\n              displayformat = convertQGISDateTimeFormatToMoment(displayformat);\n              $('#' + this.id).datetimepicker({\n                defaultDate: null,\n                format: displayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  vertical: 'bottom',\n                  horizontal: 'left'\n                },\n                showClose: true,\n                locale: _applicationState2.default.language || 'en'\n              });\n\n              $('#' + this.id).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.forminput.id).val();\n                _this.forminput.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, displayformat).format(fieldformat);\n                _this.$emit('change', _this.forminput);\n              });\n\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.forminput.id).blur();\n              });\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group date\",attrs:{\"id\":_vm.id}},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":_vm.forminput.id,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon skin-color\"},[_c('span',{class:_vm.g3wtemplate.getFontClass(_vm.time ? 'time': 'calendar')})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"store/application-state\":368}],287:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SearchSelect = require('components/SearchSelect2.vue');\n\nvar _SearchSelect2 = _interopRequireDefault(_SearchSelect);\n\nvar _SearchDatetime = require('components/SearchDatetime.vue');\n\nvar _SearchDatetime2 = _interopRequireDefault(_SearchDatetime);\n\nvar _SearchPanelLabel = require('components/SearchPanelLabel.vue');\n\nvar _SearchPanelLabel2 = _interopRequireDefault(_SearchPanelLabel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  components: {\n    Select2: _SearchSelect2.default,\n    SearchDatetime: _SearchDatetime2.default,\n    SearchPanelLabel: _SearchPanelLabel2.default\n  },\n  data: function data() {\n    return {\n      state: this.$options.service.state\n    };\n  },\n\n  methods: {\n    isSelectDisabled: function isSelectDisabled(forminput) {\n      return [this.state.loading[forminput.options.dependance], forminput.loading, forminput.options.disabled].reduce(function (disabled) {\n        var current = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        return disabled || current;\n      }, false);\n    },\n    onFocus: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(event) {\n        var top;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.isMobile()) {\n                  _context.next = 5;\n                  break;\n                }\n\n                top = $(event.target).position().top - 10;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                setTimeout(function () {\n                  return $('.sidebar').scrollTop(top);\n                }, 500);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onFocus(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return onFocus;\n    }(),\n    autocompleteRequest: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt('return', this.$options.service.autocompleteRequest(params));\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function autocompleteRequest() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }(),\n    changeDependencyFields: function changeDependencyFields(_ref3) {\n      var field = _ref3.attribute,\n          value = _ref3.value;\n\n      var subscribers = this.$options.service.getDependencies(field);\n      return subscribers.length ? this.$options.service.fillDependencyInputs({\n        field: field,\n        subscribers: subscribers,\n        value: value\n      }) : Promise.resolve();\n    },\n    changeNumericInput: function changeNumericInput(input) {\n      input.value = input.value || input.value === 0 ? input.value : null;\n      this.changeInput(input);\n    },\n    changeInput: function changeInput(input) {\n      var _this = this;\n\n      var id = input.id,\n          attribute = input.attribute,\n          value = input.value,\n          type = input.type;\n\n      try {\n        value = type === 'textfield' || type === 'textField' ? value : value.trim();\n      } catch (err) {}\n      this.$options.service.changeInput({ id: id, value: value });\n      this.state.searching = true;\n      this.changeDependencyFields({\n        attribute: attribute,\n        value: value\n      }).finally(function () {\n        _this.state.searching = false;\n      });\n    },\n    doSearch: function doSearch(event) {\n      event.preventDefault();\n      this.$options.service.run();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.searching),expression:\"state.searching\"}],staticClass:\"g3w-search-panel form-group\"},[_c('h4',{},[_c('b',[_vm._v(_vm._s(_vm.state.title))])]),_vm._v(\" \"),_vm._t(\"tools\"),_vm._v(\" \"),_vm._t(\"form\",[_c('form',{staticClass:\"g3w-search-form\"},[_vm._l((_vm.state.forminputs),function(forminput){return _c('span',{key:forminput.id},[(forminput.type === 'numberfield')?_c('div',{staticClass:\"form-group numeric\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"change\":function($event){return _vm.changeNumericInput(forminput)},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)},function($event){return _vm.changeNumericInput(forminput)}]}})],1):(forminput.type === 'textfield' || forminput.type === 'textField')?_c('div',{staticClass:\"form-group form-item-search  text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"focus\":_vm.onFocus,\"change\":function($event){return _vm.changeInput(forminput)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)}}})],1):(forminput.type === 'selectfield' || forminput.type === 'autocompletefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isSelectDisabled(forminput)),expression:\"isSelectDisabled(forminput)\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),(forminput.options.dependance)?_c('bar-loader',{attrs:{\"loading\":_vm.state.loading[forminput.options.dependance] || forminput.loading}}):_vm._e(),_vm._v(\" \"),_c('select2',{attrs:{\"forminput\":forminput,\"autocompleteRequest\":_vm.autocompleteRequest},on:{\"select-change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.type === 'datetimefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.loading[forminput.options.dependance] || false),expression:\"state.loading[forminput.options.dependance] || false\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('search-datetime',{attrs:{\"forminput\":forminput},on:{\"change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.logicop)?_c('div',{staticClass:\"search-logicop skin-border-color\"},[_c('h4',[_vm._v(_vm._s(forminput.logicop))])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('dosearch'),expression:\"'dosearch'\"}],staticClass:\"sidebar-button-run btn btn-block pull-right\",attrs:{\"id\":\"dosearch\",\"data-i18n\":\"dosearch\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.doSearch($event)}}})])],2)]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/SearchDatetime.vue\":286,\"components/SearchPanelLabel.vue\":288,\"components/SearchSelect2.vue\":289}],288:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nexports.default = {\n  name: 'Searchpanellabel',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  methods: {\n    getLabelOperator: function getLabelOperator(operator) {\n      return '[ ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' ]';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"search-label\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":_vm.forminput.id}},[_c('span',[_vm._v(_vm._s(_vm.forminput.label || _vm.forminput.attribute))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\"},[_vm._v(_vm._s(_vm.getLabelOperator(_vm.forminput.operator)))])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4}],289:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    debounce = _require2.debounce;\n\nexports.default = {\n  name: \"select2\",\n  props: ['forminput', 'autocompleteRequest'],\n  mixins: [_mixins.select2Mixin],\n  methods: {\n    emitChangeEvent: function emitChangeEvent(evt) {\n      var id = $(evt.target).attr('id');\n      var attribute = $(evt.target).attr('name');\n      var data = evt.params.data;\n      var value = data ? data.id : _constant.SEARCH_ALLVALUE;\n      this.$emit('select-change', {\n        id: id,\n        attribute: attribute,\n        value: value,\n        type: this.forminput.type\n      });\n    },\n    _initSelect2Element: function _initSelect2Element() {\n      var _this = this;\n\n      var _forminput = this.forminput,\n          type = _forminput.type,\n          attribute = _forminput.attribute,\n          options = _forminput.options;\n\n      var numdigaut = options.numdigaut && !Number.isNaN(1 * options.numdigaut) && 1 * options.numdigaut > 0 && 1 * options.numdigaut || 2;\n      var isAutocomplete = type === 'autocompletefield';\n      this.select2 = $(this.$el).select2(_extends({\n        width: '100%',\n        dropdownParent: $('.g3w-search-form:visible'),\n        minimumInputLength: isAutocomplete && numdigaut || 0,\n        allowClear: isAutocomplete,\n        placeholder: isAutocomplete ? '' : null,\n        ajax: isAutocomplete ? {\n          delay: 500,\n          transport: function () {\n            var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, success, failure) {\n              var value = _ref.data.q;\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return _this.autocompleteRequest({\n                        field: attribute,\n                        value: value\n                      });\n\n                    case 3:\n                      data = _context.sent;\n\n                      success({ results: data });\n                      _context.next = 10;\n                      break;\n\n                    case 7:\n                      _context.prev = 7;\n                      _context.t0 = _context['catch'](0);\n\n                      failure(_context.t0);\n\n                    case 10:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[0, 7]]);\n            }));\n\n            function transport(_x, _x2, _x3) {\n              return _ref2.apply(this, arguments);\n            }\n\n            return transport;\n          }()\n        } : null\n      }, autocompleteOptions));\n      this.select2.on('select2:select', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n      this.forminput.type === 'autocompletefield' && this.select2.on('select2:unselecting', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n    }\n  },\n  watch: {\n    'forminput.value': function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (value === _constant.SEARCH_ALLVALUE) {\n                  this.select2.val(value);\n                  this.select2.trigger('change');\n                }\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function forminputValue(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return forminputValue;\n    }()\n  },\n  created: function created() {\n    this.allvalue = _constant.SEARCH_ALLVALUE;\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this._initSelect2Element();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.forminput.options.disabled || _vm.forminput.loading),expression:\"forminput.options.disabled || forminput.loading\"}],staticClass:\"form-control\",attrs:{\"name\":_vm.forminput.attribute,\"id\":_vm.forminput.id}},_vm._l((_vm.forminput.options.values),function(keyvalue){return _c('option',{key:keyvalue.value,domProps:{\"value\":keyvalue.value}},[(keyvalue.value === _vm.allvalue )?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.search.all'),expression:\"'sdk.search.all'\"}]}):_c('span',[_vm._v(_vm._s(keyvalue.key))])])}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-525bb7b8\"\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/external/select2/options/autocomplete\":116,\"mixins\":338}],290:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"Sidebar\",\n  data: function data() {\n    return {\n      components: _sidebar2.default.state.components,\n      panels: _sidebar2.default.stack.state.contentsdata,\n      bOpen: true,\n      bPageMode: false,\n      header: t('main navigation'),\n      state: _sidebar2.default.state\n    };\n  },\n\n  computed: {\n    disabled: function disabled() {\n      return _applicationState2.default.gui.sidebar.disabled;\n    },\n    panelsinstack: function panelsinstack() {\n      return this.panels.length > 0;\n    },\n    showmainpanel: function showmainpanel() {\n      return this.components.length > 0 && !this.panelsinstack;\n    },\n    componentname: function componentname() {\n      return this.components.length ? this.components.slice(-1)[0].getTitle() : \"\";\n    },\n    panelname: function panelname() {\n      var name = \"\";\n      if (this.panels.length) {\n        name = this.panels.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _sidebar2.default.closePanel();\n    },\n    closeAllPanels: function closeAllPanels() {\n      _sidebar2.default.closeAllPanels();\n    }\n  },\n  created: function created() {\n    this.iframe = _applicationState2.default.iframe;\n    _eventbus2.default.$on('sidebaritemclick', function () {\n      return $('.sidebar-toggle').click();\n    });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-sidebar\",class:{ iframe: _vm.iframe, 'g3w-disabled': _vm.disabled }},[_c('a',{staticClass:\"sidebar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars')})]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar\",attrs:{\"id\":\"g3w-sidebar\"}},[_c('div',{attrs:{\"id\":\"disable-sidebar\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"line-height\":\"14px\",\"font-size\":\"1.5em\"},attrs:{\"id\":\"g3w-sidebarpanel-header-placeholder\"}},[_c('div',{staticStyle:{\"display\":\"flex\"},style:({justifyContent: _vm.state.gui.title ? 'space-between' : 'flex-end' })},[(_vm.state.gui.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.gui.title),expression:\"state.gui.title\"}],staticStyle:{\"display\":\"inline-block\",\"font-weight\":\"bold\"}}):_vm._e(),_vm._v(\" \"),_c('div',[(_vm.panels.length > 1)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('back'),expression:\"'back'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closePanel}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('close'),expression:\"'close'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closeAllPanels}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('close')})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-sidebarpanel-placeholder\",attrs:{\"id\":\"g3w-sidebarpanel-placeholder\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponents-content\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showmainpanel),expression:\"showmainpanel\"}],staticClass:\"sidebar-menu\",class:{'g3w-disabled': _vm.state.disabled},attrs:{\"id\":\"g3w-sidebarcomponents\"}})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b2170cb4\"\n\n},{\"core/i18n/i18n.service\":13,\"gui/sidebar/eventbus\":177,\"services/sidebar\":364,\"store/application-state\":368}],291:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _SidebarItemAction = require('components/SidebarItemAction.vue');\n\nvar _SidebarItemAction2 = _interopRequireDefault(_SidebarItemAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"SidebarItem\",\n  data: function data() {\n    return {\n      info: this.$options.info || {\n        state: null,\n        style: null,\n        class: null\n      },\n      main: true,\n      component: this.$options.component,\n      active: false,\n      title: '',\n      open: false,\n      icon: null,\n      iconColor: null,\n      collapsible: null\n    };\n  },\n\n  components: {\n    SidebarItemAction: _SidebarItemAction2.default\n  },\n  methods: {\n    onClickItem: function onClickItem(evt) {\n      var _this = this;\n\n      this.component.isolate && evt.stopPropagation();\n      if (!this.component.isolate) {\n        this.$options.service.state.components.forEach(function (component) {\n          if (component !== _this.component) {\n            if (component.getOpen()) {\n              component.click({\n                open: component.isolate\n              });\n            }\n          }\n        });\n        !this.component.collapsible && isMobile.any && _eventbus2.default.$emit('sidebaritemclick');\n      }\n      this.component.setOpen(!this.component.state.open);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.component.openClose = function () {\n      return _this2.$refs.anchor_click.click();\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.visible),expression:\"state.visible\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.disabled),expression:\"state.disabled\"}],staticClass:\"treeview sidebaritem\",class:{'active': _vm.open},attrs:{\"id\":_vm.component.id}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('a',{ref:\"anchor_click\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClickItem($event)}}},[_c('div',[_c('i',{class:_vm.icon,style:({color: _vm.iconColor})}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}],staticClass:\"treeview-label\"})]),_vm._v(\" \"),_c('div',[(_vm.info.state)?_c('span',{class:_vm.info.class,staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"font-weight\":\"bold\"},style:(_vm.info.style),attrs:{\"title\":_vm.info.tooltip}},[_vm._v(_vm._s(_vm.info.state))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return _c('sidebar-item-action',{key:action.id,attrs:{\"component\":_vm.component.internalComponent,\"action\":action}})})],2),_vm._v(\" \"),(_vm.collapsible)?_c('i',{staticClass:\"pull-right\",class:_vm.g3wtemplate.getFontClass('angle-left')}):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponent-placeholder\"}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2f606059\"\n\n},{\"components/SidebarItemAction.vue\":292,\"gui/sidebar/eventbus\":177}],292:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Sidebaritemaction',\n  props: {\n    action: {\n      type: Object,\n      required: true\n    },\n    component: {\n      type: Object\n    }\n  },\n  methods: {\n    triggerAction: function triggerAction() {\n      this.action.fnc(this.component);\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.action.tooltip),expression:\"action.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action skin-tooltip-left\",class:_vm.action.class,staticStyle:{\"font-weight\":\"bold\",\"padding\":\"3px\"},style:(_vm.action.style),on:{\"click\":function($event){$event.stopPropagation();return _vm.triggerAction($event)}}})}\n__vue__options__.staticRenderFns = []\n\n},{}],293:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SpatialBookMarkItem = require(\"components/SpatialBookMarkItem.vue\");\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    group: {\n      type: Object,\n\n      required: true\n    }\n  },\n  components: {\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default\n  },\n  methods: {},\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"font-weight\":\"bold\",\"width\":\"100%\"},style:({borderBottom: _vm.group.expanded ? '2px solid #2c3b41' : 'none'}),on:{\"click\":function($event){$event.stopPropagation();_vm.group.expanded = !_vm.group.expanded}}},[_c('span',{class:[_vm.g3wtemplate.getFontClass(_vm.group.expanded ? 'caret-down' : 'caret-right')],staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.group.name))])]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.group.expanded),expression:\"group.expanded\"}],staticStyle:{\"margin-left\":\"10px\"}},_vm._l((_vm.group.nodes),function(node){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":node}})}),1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-07ff686a\"\n\n},{\"components/SpatialBookMarkItem.vue\":294}],294:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".spatial-bookmark[data-v-fab34912]{display:flex;align-items:baseline;justify-content:space-between;padding:5px!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  props: {\n    bookmark: {\n      type: Object,\n\n      required: true\n    }\n  },\n  methods: {\n    removeBookMark: function removeBookMark() {},\n    gotoSpatialBookmark: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n        var extent = _ref.extent,\n            crs = _ref.crs;\n        var projection;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_gui2.default.getService('map').getEpsg().split('EPSG:')[1] !== crs.epsg)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return Projections.registerProjection('EPSG:' + crs.epsg);\n\n              case 3:\n                projection = _context.sent;\n\n                extent = ol.proj.transformExtent(extent, projection, _gui2.default.getService('map').getProjection());\n\n              case 5:\n                _gui2.default.getService('map').zoomToExtent(extent, { force: true });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function gotoSpatialBookmark(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return gotoSpatialBookmark;\n    }()\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"spatial-bookmark\",on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoSpatialBookmark(_vm.bookmark)}}},[_c('div',[_c('span',{class:_vm.g3wtemplate.getFontClass('bookmark'),staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"0.7em\"}}),_vm._v(\" \"),_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(_vm.bookmark.name))])]),_vm._v(\" \"),(_vm.bookmark.removable)?_c('span',{staticStyle:{\"color\":\"red\",\"margin\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove-bookmark', _vm.bookmark.id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash')})]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fab34912\"\n\n},{\"g3w-ol/projection/projections\":109,\"services/gui\":356,\"vueify/lib/insert-css\":1}],295:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content-bookmarks{font-weight:700;color:#fff;padding:5px;border-bottom:2px solid #fff;margin-bottom:5px}.container.add-bookmark-input p.error-input-message{color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _SpatialBookMarkGroup = require('components/SpatialBookMarkGroup.vue');\n\nvar _SpatialBookMarkGroup2 = _interopRequireDefault(_SpatialBookMarkGroup);\n\nvar _SpatialBookMarkItem = require('components/SpatialBookMarkItem.vue');\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nvar _InputText = require('components/InputText.vue');\n\nvar _InputText2 = _interopRequireDefault(_InputText);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar SPATIAL_BOOKMARKS_LOCALITEMS = _application2.default.getLocalItem(_constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id);\n\nexports.default = {\n  components: {\n    SpatialBookMarkGroup: _SpatialBookMarkGroup2.default,\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default,\n    InputText: _InputText2.default\n  },\n  data: function data() {\n    if (\"undefined\" === typeof SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()]) {\n      SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()] = [];\n    }\n    return {\n      showaddform: false,\n\n      project: {\n        show: true,\n        bookmarks: _projects2.default.getCurrentProject().getSpatialBookmarks()\n      },\n      user: {\n        show: true,\n        bookmarks: SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()]\n      },\n      addbookmarkinput: {\n        name: 'add-bookmark',\n        label: t('sdk.spatialbookmarks.input.name'),\n        value: null,\n        editable: true,\n        type: 'varchar',\n        input: {\n          type: 'text',\n          options: {}\n        },\n        visible: true,\n        validate: {\n          valid: false,\n          required: true\n        }\n      }\n    };\n  },\n\n  methods: {\n    addBookMark: function addBookMark() {\n      this.user.bookmarks.push({\n        id: uniqueId(),\n        name: this.addbookmarkinput.value,\n        extent: _gui2.default.getService('map').getMapExtent(),\n        removable: true,\n        crs: {\n          epsg: 1 * _gui2.default.getService('map').getCrs().split('EPSG:')[1]\n        }\n      });\n      this.saveUserBookMarks();\n      this.showaddform = false;\n    },\n    removeBookMark: function removeBookMark(id) {\n      this.user.bookmarks = this.user.bookmarks.filter(function (bookmark) {\n        return bookmark.id !== id;\n      });\n      this.saveUserBookMarks();\n    },\n    saveUserBookMarks: function saveUserBookMarks() {\n      SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()] = this.user.bookmarks;\n      _application2.default.setLocalItem({\n        id: _constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id,\n        data: SPATIAL_BOOKMARKS_LOCALITEMS\n      });\n    },\n    showAddForm: function showAddForm() {\n      this.addbookmarkinput.value = null;\n      this.showaddform = true;\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$on('close', function () {\n      _this.showaddform = false;\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-spatial-bookmarks menu-items\",class:{'g3w-tools': !_vm.showaddform},attrs:{\"id\":\"g3w-spatial-bookmarks\"}},[(_vm.showaddform)?[_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('close'),expression:\"'close'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('close'),staticStyle:{\"padding\":\"5px\",\"margin\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showaddform = false}}})]),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.spatialbookmarks.helptext\"}}),_vm._v(\" \"),_c('div',{staticClass:\"container add-bookmark-input\",staticStyle:{\"padding\":\"5px\",\"width\":\"100%\"}},[_c('input-text',{attrs:{\"state\":_vm.addbookmarkinput}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.addbookmarkinput.validate.valid),expression:\"!addbookmarkinput.validate.valid\"}],staticClass:\"sidebar-button-run btn btn-block\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addBookMark($event)}}})])],1)]:[_c('div',{staticClass:\"content-bookmarks\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.project.title'),expression:\"'sdk.spatialbookmarks.sections.project.title'\"}]})]),_vm._v(\" \"),_vm._l((_vm.project.bookmarks),function(bookmark){return [(bookmark.nodes)?_c('spatial-book-mark-group',{attrs:{\"group\":bookmark}}):_c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark}})]}),_vm._v(\" \"),_c('div',{staticClass:\"content-bookmarks\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"margin-top\":\"10px\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.user.title'),expression:\"'sdk.spatialbookmarks.sections.user.title'\"}],staticStyle:{\"font-weight\":\"bold\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('span',{staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"padding\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddForm($event)}}})]),_vm._v(\" \"),_vm._l((_vm.user.bookmarks),function(bookmark){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark},on:{\"remove-bookmark\":_vm.removeBookMark}})})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/InputText.vue\":246,\"components/SpatialBookMarkGroup.vue\":293,\"components/SpatialBookMarkItem.vue\":294,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"services/application\":346,\"services/gui\":356,\"store/projects\":374,\"vueify/lib/insert-css\":1}],296:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#streetview-error-key[data-v-06dad624]{display:flex;justify-content:center;align-items:center;font-weight:700;height:100%;padding:10px;background-color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"streetview\"}},[(_vm.$options.keyError)?_c('div',{attrs:{\"id\":\"streetview-error-key\"}},[_c('span',{staticClass:\"skin-color\"},[_vm._v(\" \"+_vm._s(_vm.$options.keyError))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06dad624\"\n\n},{\"vueify/lib/insert-css\":1}],297:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".geometry[data-v-b4d834d0]{cursor:pointer}#noheaders[data-v-b4d834d0]{background-color:#fff;font-weight:700;margin-top:10px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _TableBody = require('components/TableBody.vue');\n\nvar _TableBody2 = _interopRequireDefault(_TableBody);\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _TableToolbar = require('components/TableToolbar.vue');\n\nvar _TableToolbar2 = _interopRequireDefault(_TableToolbar);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nvar dataTable = void 0;\nvar fieldsComponents = [];\nvar eventHandlers = {\n  pagination: {},\n  nopagination: {}\n};\n\nexports.default = {\n  name: \"G3WTable\",\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      tableBodyComponent: null,\n      state: null,\n      table: null,\n      selectedRow: null\n    };\n  },\n\n  components: {\n    TableBody: _TableBody2.default\n  },\n  methods: {\n    getDataFromBBOX: function getDataFromBBOX() {\n      this.$options.service.getDataFromBBOX();\n    },\n    toggleFilterToken: function toggleFilterToken() {\n      this.$options.service.toggleFilterToken();\n    },\n    clearAllSelection: function clearAllSelection() {\n      this.$options.service.clearLayerSelection();\n    },\n    switchSelection: function switchSelection() {\n      this.$options.service.switchSelection();\n    },\n    selectAllRow: function selectAllRow() {\n      this.state.features.length && this.$options.service.selectAllFeatures();\n    },\n    _setLayout: function _setLayout() {\n      this.$options.service._setLayout();\n    },\n    zoomAndHighLightFeature: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(feature) {\n        var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!feature.geometry) {\n                  _context.next = 4;\n                  break;\n                }\n\n                this.$options.service.zoomAndHighLightFeature(feature, zoom);\n                _context.next = 6;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return this.$options.service.zoomAndHighLightGeometryRelationFeatures(feature, zoom);\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function zoomAndHighLightFeature(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return zoomAndHighLightFeature;\n    }(),\n    addRemoveSelectedFeature: function addRemoveSelectedFeature(feature) {\n      this.$options.service.addRemoveSelectedFeature(feature);\n    },\n    reloadLayout: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                dataTable && dataTable.columns.adjust();\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function reloadLayout() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return reloadLayout;\n    }(),\n    hasHeaders: function hasHeaders() {\n      return !!this.state.headers.length;\n    },\n    createdContentBody: function createdContentBody() {\n      var _this = this;\n\n      fieldsComponents = fieldsComponents.filter(function (fieldComponent) {\n        fieldComponent.$destroy();\n        return false;\n      });\n      var trDomeElements = dataTable.rows().nodes();\n\n      trDomeElements.each(function (rowElement, index) {\n        $(rowElement).css('cursor', 'pointer');\n        if (_this.state.features.length) {\n          var feature = _this.state.features[index];\n          var hasGeometry = !!feature.geometry;\n          $(rowElement).addClass('feature_attribute');\n          feature.selected && $(rowElement).addClass('selected');\n          $(rowElement).on('click', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature);\n          });\n          $(rowElement).on('mouseover', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature, false);\n          });\n          $(rowElement).children().each(function (index, element) {\n            var header = _this.state.headers[index];\n            var contentDOM = void 0;\n            if (header === null) {\n              var SelectRowClass = Vue.extend(_TableSelectRow2.default);\n              var SelectRowInstance = new SelectRowClass({\n                propsData: {\n                  feature: feature\n                }\n              });\n              SelectRowInstance.$on('selected', function (feature) {\n                return _this.$options.service.addRemoveSelectedFeature(feature);\n              });\n              _this.$watch(function () {\n                return feature.selected;\n              }, function (selected) {\n                selected ? $(rowElement).addClass('selected') : $(rowElement).removeClass('selected');\n              });\n              contentDOM = SelectRowInstance.$mount().$el;\n            } else {\n              var fieldClass = Vue.extend(_FieldG3W2.default);\n              var fieldInstance = new fieldClass({\n                propsData: {\n                  state: {\n                    value: feature.attributes[header.name]\n                  }\n                }\n              });\n              fieldInstance.$mount();\n              fieldsComponents.push(fieldInstance);\n              contentDOM = fieldInstance.$el;\n            }\n            $(element).html(contentDOM);\n          });\n        }\n      });\n      setTimeout(function () {\n        return _this.reloadLayout();\n      }, 0);\n    },\n    resize: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var tableHeight, tableHeaderHeight;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                tableHeight = $(\".content\").height();\n                tableHeaderHeight = $('#open_attribute_table  div.dataTables_scrollHeadInner').height();\n\n                $('#open_attribute_table  div.dataTables_scrollBody').height(tableHeight - tableHeaderHeight - 130);\n\n              case 5:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function resize() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return resize;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      var _this2 = this;\n\n      var hideElements, commonDataTableOptions, debounceSearch, G3WTableToolbarClass, G3WTableToolbarInstance;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.setContentKey = _gui2.default.onafter('setContent', this.resize);\n\n              hideElements = function hideElements() {\n                $('.dataTables_info, .dataTables_length').hide();\n                $('.dataTables_paginate').css({\n                  'display': 'flex',\n                  'justify-content': 'space-between',\n                  'font-size': '0.8em',\n                  'margin-top': '5px'\n                });\n                $('.dataTables_filter').css('float', 'right');\n                $('.dataTables_paginate').css('margin', '0');\n              };\n\n              _context7.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              this.first = false;\n              commonDataTableOptions = {\n                \"lengthMenu\": this.state.pageLengths,\n                \"pageLength\": this.state.pageLength,\n                \"scrollX\": true,\n                \"processing\": false,\n                \"scrollCollapse\": true,\n                \"sSearch\": false,\n                \"order\": [1, 'asc'],\n                \"dom\": 'l<\"#g3w-table-toolbar\">frtip',\n                \"columnDefs\": [{\n                  \"targets\": 0,\n                  \"orderable\": false,\n                  \"searchable\": false,\n                  \"width\": '1%'\n                }]\n              };\n\n              if (this.state.pagination) {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  \"columns\": this.state.headers,\n                  \"ajax\": debounce(function (data, callback) {\n                    var trDomeElements = $('#open_attribute_table table tr');\n                    trDomeElements.each(function (element) {\n                      $(element).off('click');\n                      $(element).off('mouseover');\n                    });\n                    _this2.$options.service.getData(data).then(function () {\n                      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(serverData) {\n                        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                          while (1) {\n                            switch (_context4.prev = _context4.next) {\n                              case 0:\n                                callback(serverData);\n                                _context4.next = 3;\n                                return _this2.$nextTick();\n\n                              case 3:\n                                _this2.createdContentBody();\n                                _this2.isMobile() && hideElements();\n\n                              case 5:\n                              case 'end':\n                                return _context4.stop();\n                            }\n                          }\n                        }, _callee4, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref5.apply(this, arguments);\n                      };\n                    }()).catch(function (error) {\n                      console.log(error);\n                    });\n                  }, 800),\n                  \"serverSide\": true,\n                  \"deferLoading\": this.state.allfeatures\n                }));\n                this.$options.service.on('ajax-reload', dataTable.ajax.reload);\n                this.changeColumn = debounce(function () {\n                  var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, index) {\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n\n                          case 1:\n                          case 'end':\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5, _this2);\n                  }));\n\n                  return function (_x4, _x5) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n              } else {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  searchDelay: 600\n                }));\n                debounceSearch = debounce(function () {\n                  _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n                }, 600);\n\n                eventHandlers.nopagination['search.dt'] = debounceSearch;\n                dataTable.on('search.dt', debounceSearch);\n                dataTable.on('length.dt', function (evt, settings, length) {\n                  _this2.$options.service.setAttributeTablePageLength(length);\n                });\n                this.changeColumn = debounce(function () {\n                  var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(event, index) {\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n                            _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n\n                          case 2:\n                          case 'end':\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6, _this2);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              }\n\n              this.isMobile() && hideElements();\n\n              G3WTableToolbarClass = Vue.extend(_TableToolbar2.default);\n              G3WTableToolbarInstance = new G3WTableToolbarClass({\n                propsData: {\n                  tools: this.state.tools,\n                  geolayer: this.state.geolayer,\n                  switchSelection: this.switchSelection,\n                  clearAllSelection: this.clearAllSelection,\n                  toggleFilterToken: this.toggleFilterToken,\n                  getDataFromBBOX: this.getDataFromBBOX\n                }\n              });\n\n\n              $('#g3w-table-toolbar').html(G3WTableToolbarInstance.$mount().$el);\n\n              this.$options.service.on('redraw', function (data) {\n                dataTable.clear();\n                dataTable.draw(false);\n                setTimeout(function () {\n                  dataTable.rows.add(data);\n                  dataTable.draw(false);\n                  _this2.createdContentBody();\n                  _this2.isMobile() && hideElements();\n                });\n              });\n\n            case 12:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clear();\n    this.$options.service.off('ajax-reload');\n    this.$options.service.off('redraw');\n    _gui2.default.un('setContent', this.setContentKey);\n    dataTable.destroy(true);\n    dataTable = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"id\":\"open_attribute_table\"}},[(_vm.hasHeaders())?_c('table',{ref:\"attribute_table\",staticClass:\"table table-striped row-border compact nowrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"layer_attribute_table\"}},[_c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_vm._l((_vm.state.headers),function(header,index){return (index > 0)?_c('th',[_c('input',{staticClass:\"form-control column-search\",staticStyle:{\"height\":\"25px\",\"min-width\":\"40px\",\"padding\":\"2px\"},attrs:{\"type\":\"text\",\"placeholder\":header.name},on:{\"keyup\":function($event){return _vm.changeColumn($event, index)}}})]):_vm._e()})],2),_vm._v(\" \"),_c('tr',_vm._l((_vm.state.headers),function(header,index){return _c('th',[(index === 0)?_c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"attribute_table_select_all_rows\",\"disabled\":_vm.state.nofilteredrow || _vm.state.features.length === 0},domProps:{\"checked\":_vm.state.selectAll}}),_vm._v(\" \"),_c('label',{staticStyle:{\"margin-bottom\":\"0 !important\"},attrs:{\"for\":\"attribute_table_select_all_rows\"},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.selectAllRow($event)}}},[_c('span',{staticStyle:{\"padding\":\"5px\"}})])]):_c('span',[_vm._v(_vm._s(header.label))])])}),0)]),_vm._v(\" \"),_c('table-body',{attrs:{\"headers\":_vm.state.headers,\"filter\":_vm.state.tools.filter,\"features\":_vm.state.features,\"addRemoveSelectedFeature\":_vm.addRemoveSelectedFeature,\"zoomAndHighLightFeature\":_vm.zoomAndHighLightFeature}})],1):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('dataTable.no_data'),expression:\"'dataTable.no_data'\"}],attrs:{\"id\":\"noheaders\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b4d834d0\"\n\n},{\"components/FieldG3W.vue\":203,\"components/TableBody.vue\":298,\"components/TableSelectRow.vue\":299,\"components/TableToolbar.vue\":300,\"core/utils/utils\":67,\"mixins\":338,\"services/gui\":356,\"vueify/lib/insert-css\":1}],298:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"table-body\",\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    features: {\n      required: true,\n      type: Array\n    },\n    zoomAndHighLightFeature: {\n      type: Function\n    },\n    addRemoveSelectedFeature: {\n      type: Function\n    },\n    filter: {\n      type: Object,\n      default: {\n        active: false\n      }\n    }\n  },\n  data: function data() {\n    return {\n      selectedRow: null\n    };\n  },\n\n  components: {\n    Field: _FieldG3W2.default,\n    SelectRow: _TableSelectRow2.default\n  },\n  methods: {\n    getField: function getField(feature, header) {\n      return {\n        value: feature.attributes[header.name],\n        label: undefined };\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',{attrs:{\"id\":\"table_body_attributes\"}},_vm._l((_vm.features),function(feature,index){return _c('tr',{key:feature.id,staticClass:\"feature_attribute\",class:[index %2 == 1 ? 'odd' : 'pair', {geometry: !!feature.geometry}, {'selected': feature.selected}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"role\":\"row\",\"selected\":_vm.selectedRow === index},on:{\"mouseover\":function($event){return _vm.zoomAndHighLightFeature(feature, false)},\"click\":function($event){return _vm.zoomAndHighLightFeature(feature, true)}}},_vm._l((_vm.headers),function(header,hindex){return _c('td',{attrs:{\"tab-index\":1}},[(hindex===0)?_c('select-row',{attrs:{\"feature\":feature},on:{\"selected\":_vm.addRemoveSelectedFeature}}):_c('field',{attrs:{\"feature\":feature,\"state\":_vm.getField(feature, header)}})],1)}),0)}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-521d3b4c\"\n\n},{\"components/FieldG3W.vue\":203,\"components/TableSelectRow.vue\":299}],299:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"select-row\",\n  props: {\n    feature: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      id: getUniqueDomId()\n    };\n  },\n\n  methods: {\n    select: function select() {\n      this.$emit('selected', this.feature);\n    }\n  },\n  destroyed: function destroyed() {\n    this.$off('selected');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":_vm.feature.selected}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select($event)}}},[_c('span')])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-f4034894\"\n\n},{\"core/utils/utils\":67}],300:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".action-button[data-v-4f671d73]{padding:4px}.action-button.toggled[data-v-4f671d73]{border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-table-toolbar\",\n  props: {\n    tools: {\n      type: Object\n    },\n    switchSelection: {\n      type: Function\n    },\n    clearAllSelection: {\n      type: Function\n    },\n    toggleFilterToken: {\n      type: Function\n    },\n    getDataFromBBOX: {\n      type: Function\n    }\n  },\n  computed: {\n    disableMapTool: function disableMapTool() {\n      return !this.tools.geolayer.active && _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel.height_100;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"1px\"}},[(_vm.tools.geolayer.show)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapTool),expression:\"disableMapTool\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.show_features_on_map'),expression:\"'layer_selection_filter.tools.show_features_on_map'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('map'), _vm.tools.geolayer.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getDataFromBBOX($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:_vm.g3wtemplate.getFontClass('clear'),attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clearAllSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.invert'),expression:\"'layer_selection_filter.tools.invert'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('invert'), _vm.tools.filter.active ? 'g3w-disabled': ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.tools.filter.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFilterToken($event)}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f671d73\"\n\n},{\"store/application-state\":368,\"vueify/lib/insert-css\":1}],301:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tool_disabled[data-v-31811884]{cursor:not-allowed}.tool_disabled>span[data-v-31811884]{color:#777}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AppState = _application2.default.getState();\n\nvar TOOLSTATE = {\n  alert: {\n    color: 'red'\n  },\n  info: {\n    color: 'blue'\n  },\n  warning: {\n    color: 'orange'\n  }\n};\n\nexports.default = {\n  name: \"g3w-tool\",\n  props: {\n    tool: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    fireAction: function fireAction(tool) {\n      this.tool.action(tool);\n    },\n    showToolStateMessage: function showToolStateMessage() {\n      _gui2.default.showModalDialog({\n        title: this.tool.state.type.toUpperCase(),\n        message: this.tool.state.message\n      });\n    }\n  },\n  computed: {\n    disabled: function disabled() {\n      return !this.tool.offline && !AppState.online || this.tool.loading || this.tool.disabled;\n    },\n    icon: function icon() {\n      return this.tool.icon || 'caret-right';\n    },\n    toolstatecolor: function toolstatecolor() {\n      return TOOLSTATE[this.tool.state.type].color;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tool.type === 'checkbox' )?_c('div',{staticClass:\"checkbox\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tool.isCheck),expression:\"tool.isCheck\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":_vm.tool.layerName,\"type\":\"checkbox\"},domProps:{\"value\":_vm.tool.layerName,\"checked\":Array.isArray(_vm.tool.isCheck)?_vm._i(_vm.tool.isCheck,_vm.tool.layerName)>-1:(_vm.tool.isCheck)},on:{\"click\":function($event){return _vm.fireAction(_vm.tool)},\"change\":function($event){var $$a=_vm.tool.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.tool.layerName,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tool, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tool, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tool, \"isCheck\", $$c)}}}}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.name)+\"\\n    \")])]):_c('div',{staticClass:\"tool\",class:{tool_disabled: _vm.disabled},staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){!_vm.disabled ? _vm.fireAction(_vm.tool) : null}}},[_c('bar-loader',{attrs:{\"loading\":_vm.tool.loading}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.icon)}),_vm._v(\" \"),(_vm.tool.html)?_c('span',[_c('i',{class:_vm.tool.html.icon}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.html.text || _vm.tool.name)+\"\\n    \")]):_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.tool.name),expression:\"tool.name\"}]}),_vm._v(\" \"),(_vm.tool.state.type)?_c('span',{staticStyle:{\"cursor\":\"pointer\",\"vertical-align\":\"center\",\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\",\"padding\":\"5px\"},style:({color: _vm.toolstatecolor}),on:{\"click\":function($event){$event.stopPropagation();return _vm.showToolStateMessage($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.tool.state.type)})]):_vm._e()],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-31811884\"\n\n},{\"services/application\":346,\"services/gui\":356,\"vueify/lib/insert-css\":1}],302:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  watch: {\n    'state.toolsGroups': {\n      handler: function handler(groups) {\n        this.$emit('visible', groups.length > 0);\n      }\n    }\n  },\n  components: {\n    G3wTool: _Tool2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"g3w-tools treeview-menu\"},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_vm._l((_vm.state.toolsGroups),function(group){return _c('li',{key:group.name},[_c('div',{staticClass:\"tool-header\"},[_c('i',{class:_vm.g3wtemplate.getFontClass('tool')}),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(group.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box\",attrs:{\"id\":group.name + '-tools'}},_vm._l((group.tools),function(tool){return _c('g3w-tool',{key:tool.name,attrs:{\"tool\":tool}})}),1)])})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Tool.vue\":301}],303:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".usermessage-content[data-v-57c4f706]{color:#fff;z-index:1000;position:absolute;line-height:normal;padding:3px;min-width:250px;box-shadow:0 3px 5px rgba(0,0,0,.3);-moz-box-shadow:0 3px 5px rgba(0,0,0,.3)}.usermessage-content.mobile[data-v-57c4f706]{padding:0;min-width:100%}.usermessage-header-content[data-v-57c4f706]{display:flex;align-items:baseline;justify-content:space-between;width:100%}.usermessage-header-icontype[data-v-57c4f706]{padding:10px 0 0 5px;font-weight:700;font-size:1.3em}.usermessage-content.mobile .usermessage-header-icontype[data-v-57c4f706]{padding:0 0 0 5px;font-size:1.1em}.usermessage-header-title[data-v-57c4f706],.usermessage-header-title h4[data-v-57c4f706]{font-weight:700;text-align:center}.usermessage-content.mobile .usermessage-header-title h4[data-v-57c4f706]{margin:0}.usermessage-header-subtitle[data-v-57c4f706]{font-weight:700;margin:5px}.usermessage-header-right[data-v-57c4f706]{padding:5px}.usermessage-header-right-item[data-v-57c4f706]{font-weight:700!important;font-size:1.2em;cursor:pointer}.usermessage-message[data-v-57c4f706]{width:100%;padding:0 0 3px 10px;max-height:100px;font-size:1.1em;align-self:flex-start;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar COLORS = {\n  success: {\n    backgroundColor: '#62ac62',\n    color: '#FFFFFF'\n  },\n  info: {\n    backgroundColor: '#44a0bb',\n    color: '#FFFFFF'\n  },\n  warning: {\n    backgroundColor: '#f29e1d',\n    color: '#FFFFFF'\n  },\n  alert: {\n    backgroundColor: '#c34943',\n    color: '#FFFFFF'\n  },\n  tool: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\"\n  },\n  loading: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\",\n    fontWeight: \"bold\"\n  }\n};\n\nvar STYLES = {\n  success: {},\n  info: {},\n  warning: {},\n  alert: {},\n  tool: {\n    \"z-index\": _constant.ZINDEXES.usermessage.tool,\n    left: \"40px\"\n  },\n  loading: {}\n};\n\nexports.default = {\n  name: \"usermessage\",\n  props: {\n    id: {},\n    type: {\n      type: String,\n      default: 'info' },\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    },\n    position: {\n      type: String,\n      default: 'top'\n    },\n    size: {\n      type: 'String',\n      default: 'fullpage'\n    },\n    message: {\n      type: String,\n      default: ''\n    },\n    textMessage: {\n      type: Boolean,\n      default: false\n    },\n    autoclose: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    duration: {\n      type: Number,\n      default: 2000\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    showheader: function showheader() {\n      return this.type !== 'loading';\n    }\n  },\n  methods: {\n    addClassMobile: function addClassMobile() {\n      return this.isMobile() && !_gui2.default.isSidebarVisible();\n    },\n    closeUserMessage: function closeUserMessage() {\n      this.$emit('close-usermessage');\n    },\n    hideShow: function hideShow() {}\n  },\n  created: function created() {\n    var _position$split = this.position.split('-'),\n        _position$split2 = _slicedToArray(_position$split, 2),\n        where = _position$split2[0],\n        alignement = _position$split2[1];\n\n    var width = '100%';\n    switch (this.size) {\n      case 'small':\n        width = '25%';\n        break;\n      case 'medium':\n        width = '50%';\n        break;\n      case 'fullpage':\n      default:\n        width = '100%';\n    }\n    if (where === 'center') where = {\n      top: 0,\n      bottom: 0,\n      maxHeight: '20%'\n    };else {\n      where = _defineProperty({}, where, 50);\n    }\n    var position = _extends({}, where, {\n      width: width\n    });\n    if (alignement) {\n      position.width = '25%';\n      switch (alignement) {\n        case 'center':\n          position.left = '0';\n          position.right = '0';\n          position.margin = 'auto';\n          break;\n        case 'right':\n          position.right = 0;\n          break;\n      }\n    }\n    this.style = _extends({}, COLORS[this.type], position, STYLES[this.type]);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var timeout;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.autoclose) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              timeout = setTimeout(function () {\n                _this.closeUserMessage();\n                clearTimeout(timeout);\n              }, this.duration);\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usermessage-content\",class:{'mobile': _vm.addClassMobile()},style:(_vm.style),attrs:{\"id\":_vm.id}},[(_vm.showheader)?_c('div',{staticClass:\"usermessage-header-content\"},[_c('i',{staticClass:\"usermessage-header-icontype\",class:_vm.g3wtemplate.getFontClass(_vm.type)}),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-title\"},[_vm._t(\"header\",[(_vm.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}]}):_c('h4',[_vm._v(\" \"+_vm._s(_vm.type.toUpperCase()))]),_vm._v(\" \"),(_vm.subtitle)?_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"usermessage-header-subtitle\"}):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-right\"},[(!_vm.autoclose && _vm.closable)?_c('div',{on:{\"click\":_vm.closeUserMessage}},[_c('i',{staticClass:\"usermessage-header-right-item\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_vm._t(\"body\",[(_vm.textMessage)?_c('div',{staticClass:\"usermessage-message\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"usermessage-message\"})]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-57c4f706\"\n\n},{\"app/constant\":4,\"services/gui\":356,\"vueify/lib/insert-css\":1}],304:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content_breadcrumb[data-v-466a54cc]{font-size:1.2em;padding:0 3px;border-radius:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserMessage = require('components/UserMessage.vue');\n\nvar _UserMessage2 = _interopRequireDefault(_UserMessage);\n\nvar _NotifyOnline = require('components/NotifyOnline.vue');\n\nvar _NotifyOnline2 = _interopRequireDefault(_NotifyOnline);\n\nvar _NotifyDownload = require('components/NotifyDownload.vue');\n\nvar _NotifyDownload2 = _interopRequireDefault(_NotifyDownload);\n\nvar _NotifyPlugins = require('components/NotifyPlugins.vue');\n\nvar _NotifyPlugins2 = _interopRequireDefault(_NotifyPlugins);\n\nvar _constant = require('app/constant');\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.default = {\n  name: \"Viewport\",\n  props: {\n    appState: {\n      type: Object\n    }\n  },\n  components: {\n    userMessage: _UserMessage2.default,\n    onlineNotify: _NotifyOnline2.default,\n    downloadNotify: _NotifyDownload2.default,\n    pluginsNotify: _NotifyPlugins2.default\n  },\n  data: function data() {\n    return {\n      state: _viewport2.default.state,\n      updatePreviousTitle: false,\n      media: {\n        matches: true\n      }\n    };\n  },\n\n  computed: {\n    breadcrumb: function breadcrumb() {\n      return this.state.content.contentsdata.filter(function (content) {\n        return content.options.crumb;\n      }).map(function (content) {\n        return content.options.crumb;\n      });\n    },\n    showresize: function showresize() {\n      var currentPerc = _viewport2.default.getCurrentContentLayout()[this.state.split === 'h' ? 'width' : 'height'];\n      return this.state.resized.start && this.state.secondaryPerc > 0 && this.state.secondaryPerc < 100 && currentPerc < 100 && currentPerc > 0;\n    },\n    showresizeicon: function showresizeicon() {\n      return this.state.secondaryPerc !== 100;\n    },\n    hooks: function hooks() {\n      return this.usermessage.hooks;\n    },\n    usermessage: function usermessage() {\n      return this.state.usermessage;\n    },\n    showtitle: function showtitle() {\n      var showtitle = true;\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var options = contentsData[contentsData.length - 1].options;\n        if (_.isBoolean(options.showtitle)) showtitle = options.showtitle;\n      }\n      return showtitle;\n    },\n    showContent: function showContent() {\n      return this.state.content.show;\n    },\n    styles: function styles() {\n      return {\n        map: {\n          width: this.state.map.sizes.width + 'px',\n          height: this.state.map.sizes.height + 'px'\n        },\n        content: {\n          width: this.state.content.sizes.width + 'px',\n          height: this.state.content.sizes.height + 'px',\n          zIndex: _constant.ZINDEXES.usermessage.tool + 1,\n          minHeight: this.state.split === 'v' ? _constant.VIEWPORT.resize.content.min + 'px' : null\n        }\n      };\n    },\n    contentTitle: function contentTitle() {\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var _contentsData$options = contentsData[contentsData.length - 1].options,\n            title = _contentsData$options.title,\n            post_title = _contentsData$options.post_title;\n\n        return { title: title, post_title: post_title };\n      }\n    },\n    backOrBackTo: function backOrBackTo() {\n      var contentsData = this.state.content.contentsdata;\n      return contentsData.length > 1 && this.state.content.showgoback ? !contentsData[contentsData.length - 2].options.title ? 'back' : 'backto' : false;\n    },\n    previousTitle: function previousTitle() {\n      var _this = this;\n\n      var contentsData = this.state.content.contentsdata;\n      var title = contentsData.length > 1 && this.state.content.showgoback ? contentsData[contentsData.length - 2].options.title : null;\n      this.updatePreviousTitle = true;\n      this.$nextTick(function () {\n        return _this.updatePreviousTitle = false;\n      });\n      return title;\n    }\n  },\n  methods: {\n    isNotLastCrumb: function isNotLastCrumb(index) {\n      return index < this.breadcrumb.length - 1;\n    },\n    closeContent: function closeContent() {\n      _gui2.default.closeContent();\n    },\n    closeMap: function closeMap() {\n      _viewport2.default.closeMap();\n    },\n    gotoPreviousContent: function gotoPreviousContent() {\n      _gui2.default.popContent();\n    },\n    closeUserMessage: function closeUserMessage() {\n      _gui2.default.closeUserMessage();\n    },\n    moveFnc: function moveFnc(evt) {\n      var size = this.state.split === 'h' ? 'width' : 'height';\n      evt.preventDefault();\n      var sidebarHeaderSize = size === 'width' ? $('.sidebar-collapse').length ? 0 : _viewport2.default.SIDEBARWIDTH : $('#main-navbar').height();\n      var viewPortSize = $(this.$el)[size]();\n      var mapSize = (size === 'width' ? evt.pageX + 2 : evt.pageY + 2) - sidebarHeaderSize;\n      if (mapSize > viewPortSize - _constant.VIEWPORT.resize.content.min) mapSize = viewPortSize - _constant.VIEWPORT.resize.content.min;else if (mapSize < _constant.VIEWPORT.resize.map.min) mapSize = _constant.VIEWPORT.resize.map.min;\n      var contentSize = viewPortSize - mapSize;\n      var resizePercentageMap = Math.round(mapSize / viewPortSize * 100);\n      var resizePercentageContent = 100 - resizePercentageMap;\n      _viewport2.default.resizeViewComponents(this.state.split, {\n        map: _defineProperty({}, size, mapSize),\n        content: _defineProperty({}, size, contentSize)\n      }, resizePercentageContent);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      var handleResizeViewport, mediaQueryEventMobile;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              handleResizeViewport = function handleResizeViewport() {\n                _this2.state.resized.start = true;\n              };\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              mediaQueryEventMobile = window.matchMedia(\"(min-height: 300px)\");\n\n              this.media.matches = mediaQueryEventMobile.matches;\n              mediaQueryEventMobile.addListener(function (event) {\n                if (event.type === 'change') _this2.media.matches = event.currentTarget.matches;\n              });\n              handleResizeViewport();\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-viewport\"},[_c('transition',{attrs:{\"name\":\"fade\",\"duration\":{ enter: 500, leave: 500 }}},[(_vm.usermessage.show)?_c('user-message',{attrs:{\"title\":_vm.usermessage.title,\"subtitle\":_vm.usermessage.subtitle,\"id\":_vm.usermessage.id,\"message\":_vm.usermessage.message,\"draggable\":_vm.usermessage.draggable,\"closable\":_vm.usermessage.closable,\"duration\":_vm.usermessage.duration,\"position\":_vm.usermessage.position,\"autoclose\":_vm.usermessage.autoclose,\"textMessage\":_vm.usermessage.textMessage,\"size\":_vm.usermessage.size,\"type\":_vm.usermessage.type},on:{\"close-usermessage\":_vm.closeUserMessage}},[(_vm.hooks.header)?_c('template',{slot:\"header\"},[_c(_vm.hooks.header,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.body)?_c('template',{slot:\"body\"},[_c(_vm.hooks.body,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.footer)?_c('template',{slot:\"footer\"},[_c(_vm.usermessage.hooks.footer,{tag:\"component\"})],1):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"g3w-view map\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.map),attrs:{\"id\":\"g3w-view-map\"}},[_c('g3w-resize',{class:(\"split-\" + (_vm.state.split)),style:({backgroundColor:'transparent'}),attrs:{\"id\":\"resize-map-and-content\",\"show\":_vm.showresize,\"moveFnc\":_vm.moveFnc,\"orientation\":_vm.state.split}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"application-notifications\"}},[_c('online-notify'),_vm._v(\" \"),_c('download-notify'),_vm._v(\" \"),_c('plugins-notify')],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.content.disabled),expression:\"state.content.disabled\"}],staticClass:\"g3w-view content\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.content),attrs:{\"id\":\"g3w-view-content\"}},[(_vm.breadcrumb.length > 1)?_c('section',{ref:_vm.breadcrumb,staticClass:\"content_breadcrumb\"},_vm._l((_vm.breadcrumb),function(crumb,index){return _c('span',{key:crumb.title},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(crumb.title),expression:\"crumb.title\"}],staticClass:\"skin-color-dark\",style:({fontWeight: _vm.isNotLastCrumb(index) ? 'bold' : 'normal'})}),_vm._v(\" \"),(_vm.isNotLastCrumb(index))?_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin\":\"3px 0\"}},[_vm._v(\"/\")]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),((_vm.showtitle && _vm.contentTitle) || _vm.previousTitle || (_vm.state.content.closable && _vm.state.content.aside))?_c('div',{staticClass:\"close-panel-block\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[(_vm.previousTitle)?_c('div',{staticClass:\"g3w_contents_back g3w-long-text\"},[(_vm.backOrBackTo === 'back')?_c('div',{class:_vm.backOrBackTo},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}]})]):_c('div',{class:_vm.backOrBackTo,on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoPreviousContent()}}},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('backto'),expression:\"'backto'\"}]}),_vm._v(\" \"),(!_vm.updatePreviousTitle)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.previousTitle),expression:\"previousTitle\"}]}):_vm._e()])]):_vm._e(),_vm._v(\" \"),(!_vm.previousTitle && _vm.showtitle && _vm.contentTitle)?_c('div',{staticClass:\"panel-title\",class:{'mobile': _vm.isMobile()},style:([_vm.state.content.style.title])},[_c('span',{attrs:{\"id\":\"contenttitle\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.title),expression:\"contentTitle.title\"}]}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.post_title),expression:\"contentTitle.post_title\"}]})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3-content-header-action-tools\",staticStyle:{\"display\":\"flex\"}},[_vm._l((_vm.state.content.headertools),function(tool){return _c(tool,{tag:\"component\"})}),_vm._v(\" \"),(_vm.showresizeicon)?_c('resize-icon',{staticStyle:{\"font-size\":\"1em\",\"padding\":\"0\",\"align-self\":\"center\",\"margin-left\":\"auto\"},style:({marginRight: _vm.state.content.closable ? '5px': '0px'}),attrs:{\"type\":_vm.state.split}}):_vm._e(),_vm._v(\" \"),(_vm.state.content.closable && _vm.state.content.aside)?_c('span',{staticClass:\"action-button\",class:{'mobile': _vm.isMobile()},staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"},on:{\"click\":_vm.closeContent}},[_c('i',{staticClass:\"skin-color-dark\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.content.loading),expression:\"state.content.loading\"}],staticClass:\"bar-loader\"})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-466a54cc\"\n\n},{\"app/constant\":4,\"components/NotifyDownload.vue\":264,\"components/NotifyOnline.vue\":265,\"components/NotifyPlugins.vue\":266,\"components/UserMessage.vue\":303,\"services/gui\":356,\"services/viewport\":366,\"vueify/lib/insert-css\":1}],305:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contents\",attrs:{\"id\":\"contents\"}})}\n__vue__options__.staticRenderFns = []\n\n},{}],306:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-add-wms-url-message[data-v-965f11b2]{font-weight:700;color:#000}.g3w-wmsurl-error[data-v-965f11b2]{background-color:red}.g3w-wmsurl-already-added[data-v-965f11b2]{background-color:orange}.wms_url_input_content[data-v-965f11b2]{margin-bottom:5px}.wms-icon-action[data-v-965f11b2]{font-weight:700;font-size:1.3em;box-shadow:0 5px 10px #1e282c}.wms-icon-action[data-v-965f11b2]:hover{box-shadow:none}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    isURL = _require.isURL;\n\nexports.default = {\n  name: \"sidebaritem\",\n  data: function data() {\n    return {\n      url: null,\n      id: null,\n      loading: false,\n      status: {\n        error: false,\n        added: false\n      }\n    };\n  },\n\n  computed: {\n    inputswmsurlvalid: function inputswmsurlvalid() {\n      return this.url !== null && this.url.trim() && isURL(this.url) && this.id !== null && this.id.trim();\n    }\n  },\n  methods: {\n    addwmsurl: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2, error, added;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                _context.next = 3;\n                return this.$options.service.addNewUrl({\n                  url: this.url,\n                  id: this.id\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                error = _ref2.error;\n                added = _ref2.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addwmsurl() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addwmsurl;\n    }(),\n    deleteWmsUrl: function deleteWmsUrl(id) {\n      this.$options.service.deleteWmsUrl(id);\n    },\n    showWmsLayersPanel: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(url) {\n        var _ref4, error, added;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                this.loading = true;\n                _context2.next = 4;\n                return this.$options.service.loadWMSDataAndShowWmsLayersPanel(url);\n\n              case 4:\n                _ref4 = _context2.sent;\n                error = _ref4.error;\n                added = _ref4.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                console.log(_context2.t0);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 12]]);\n      }));\n\n      function showWmsLayersPanel(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return showWmsLayersPanel;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-tools menu-items\"},[(_vm.loading)?_c('li',[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1):_vm._e(),_vm._v(\" \"),_c('li',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"background\":\"transparent !important\",\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"add_custom_name_url_wms_input\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id),expression:\"id\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_name_url_wms_input\"},domProps:{\"value\":(_vm.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.id=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{attrs:{\"for\":\"add_custom_url_wms_input\"}},[_vm._v(\"URL\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_url_wms_input\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.inputswmsurlvalid),expression:\"!inputswmsurlvalid\"}],staticClass:\"btn btn-block skin-background-color\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addwmsurl($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square')})])])]),_vm._v(\" \"),(_vm.status.error)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-error\"})]):(_vm.status.added)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.url_already_added'),expression:\"'sidebar.wms.url_already_added'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-already-added\"})]):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"skin-border-color\",staticStyle:{\"background\":\"transparent !important\",\"border-top\":\"2px solid\"}},[_c('div',{staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},[_vm._l((_vm.state.adminwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:_vm.wmsurl,staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.3em\"}})])])}),_vm._v(\" \"),_vm._l((_vm.state.localwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:id,staticStyle:{\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"padding-top\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.add_wms_layer'),expression:\"'sidebar.wms.add_wms_layer'\",arg:\"top\",modifiers:{\"create\":true}}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(url)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('plus-square')})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.delete_wms_url'),expression:\"'sidebar.wms.delete_wms_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteWmsUrl(id)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"font-size\":\"0.7em\"},attrs:{\"title\":url}},[_vm._v(_vm._s(url))])])})],2)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-965f11b2\"\n\n},{\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],307:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-wms-panel-title[data-v-64ebf92a]{font-size:1.2em;font-weight:700;margin-bottom:10px}button.wms-add-layer-buttom[data-v-64ebf92a]{width:100%;margin-top:10px}.g3w-wms-external-panel-layer-added-message[data-v-64ebf92a]{font-weight:700;color:red;margin:5px 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  name: \"wmpspanel\",\n  data: function data() {\n    return {\n      loading: false,\n      position: undefined,\n      name: undefined,\n      title: null,\n      abstract: null,\n      map_formats: [],\n      info_formats: [],\n      layers: [],\n      selectedlayers: [],\n      projections: [],\n      epsg: null,\n      added: false\n    };\n  },\n\n  methods: {\n    addWMSlayer: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var config;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = {\n                  url: this.url,\n                  name: this.name && this.name.trim() || undefined,\n                  layers: this.selectedlayers,\n                  epsg: this.epsg,\n                  position: this.position\n                };\n\n                this.added = this.$options.service.checkIfWMSAlreadyAdded(config);\n\n                if (this.added) {\n                  _context.next = 13;\n                  break;\n                }\n\n                this.loading = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return this.$options.service.addWMSlayer(config);\n\n              case 7:\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n              case 11:\n                this.loading = false;\n                this.clear();\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9]]);\n      }));\n\n      function addWMSlayer() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addWMSlayer;\n    }(),\n    clear: function clear() {\n      this.selectedlayers = [];\n      this.name = null;\n    },\n    filterLayerByCurrentEpsg: function filterLayerByCurrentEpsg() {\n      var _this = this;\n\n      this.layers = this.epsg !== null ? this.layers.filter(function (_ref2) {\n        var name = _ref2.name;\n        return _this.layerProjections[name].crss.indexOf(_this.epsg) !== -1;\n      }) : this.$options.config.layers;\n    }\n  },\n  watch: {\n    selectedlayers: function selectedlayers(layers) {\n      var _this2 = this;\n\n      if (layers.length) {\n        var firstLayer = layers[0];\n        if (layers.length === 1) {\n          this.epsg = this.layerProjections[firstLayer].crss[0];\n\n          this.projections = this.layerProjections[firstLayer].crss;\n        } else this.projections = this.projections.filter(function (projection) {\n          return _this2.layerProjections[layers[layers.length - 1]].crss.index(projection) !== -1;\n        });\n      } else {\n        this.epsg = null;\n        this.projections = [];\n      }\n    },\n    epsg: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.filterLayerByCurrentEpsg();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function epsg() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return epsg;\n    }()\n  },\n  created: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var _$options$config, layers, title, abstract, url;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _$options$config = this.$options.config, layers = _$options$config.layers, title = _$options$config.title, abstract = _$options$config.abstract, url = _$options$config.wmsurl;\n\n              this.layerProjections = {};\n              this.url = url;\n              layers.forEach(function (layer) {\n                _this3.layerProjections[layer.name] = {\n                  crss: layer.crss.map(function (crs) {\n                    Projections.get(crs);\n                    return \"EPSG:\" + crs.epsg;\n                  }).sort(),\n                  title: layer.title\n                };\n              });\n              this.layers = layers;\n\n              this.title = title;\n\n              this.abstract = abstract;\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$data = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('h3',{staticClass:\"skin-color g3w-wms-panel-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),(_vm.abstract)?_c('helpdiv',{attrs:{\"message\":_vm.abstract}}):_vm._e(),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.layers'),expression:\"'sidebar.wms.panel.label.layers'\"}],attrs:{\"for\":\"g3w-wms-layers\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('selectedlayers'),expression:\"'selectedlayers'\"}],attrs:{\"id\":\"g3w-wms-layers\",\"multiple\":\"multiple\",\"clear\":\"true\"}},_vm._l((_vm.layers),function(layer){return _c('option',{key:layer.name,domProps:{\"value\":layer.name}},[_vm._v(_vm._s(layer.title))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.projections'),expression:\"'sidebar.wms.panel.label.projections'\"}],attrs:{\"for\":\"g3w-wms-projections\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('epsg'),expression:\"'epsg'\"}],attrs:{\"id\":\"g3w-wms-projections\"}},_vm._l((_vm.projections),function(projection){return _c('option',{key:projection,domProps:{\"value\":projection}},[_vm._v(_vm._s(projection))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"g3w-wms-layer-name\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-wms-layer-name\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),(_vm.added)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.layer_id_already_added'),expression:\"'sidebar.wms.layer_id_already_added'\"}],staticClass:\"g3w-wms-external-panel-layer-added-message\"}):_vm._e(),_vm._v(\" \"),_c('layerspositions',{attrs:{\"position\":_vm.position},on:{\"layer-position-change\":function($event){_vm.position=$event}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.selectedlayers.length === 0),expression:\"selectedlayers.length === 0\"}],staticClass:\"btn wms-add-layer-buttom sidebar-button skin-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addWMSlayer($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\"}})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-64ebf92a\"\n\n},{\"g3w-ol/projection/projections\":109,\"vueify/lib/insert-css\":1}],308:[function(require,module,exports){\nrequire('regenerator-runtime');\n\nvar _vueColor = require('vue-color');\n\nvar VueColor = _interopRequireWildcard(_vueColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use ESM imports from 'vue-color' instead\n */\n/**\n * @file shims legacy variables to ensure backward compatibily with old G3W-CLIENT plugins (eg. window variables)\n * @since v3.8\n */\n\n/**\n * Add babel runtime support for compiled/transpiled async functions\n * \n * @TODO check if this still useful nowdays (IE 11 ?)\n */\nwindow.VueColor = VueColor;\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use require('vue-cookie') instead of window.VueCookie\n */\nwindow.VueCookie = require('vue-cookie');\n\n},{\"regenerator-runtime\":\"regenerator-runtime\",\"vue-color\":\"vue-color\",\"vue-cookie\":\"vue-cookie\"}],309:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @TODO refactor stateful directives (eg. \"v-t\") in order to delete this file: \"src/directives/utils.js\"\n */\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\n/**\n * Internal state\n */\n\n\nvar vm = new Vue();\nvar directives = {};\n\nvar watch = exports.watch = function watch(_ref) {\n  var el = _ref.el,\n      attr = _ref.attr,\n      watcher = _ref.watcher;\n\n  var unique_attr_id = uniqueId();\n  el.setAttribute(attr, unique_attr_id);\n  var dir = directives[unique_attr_id] = {};\n  if (watcher) {\n    dir.unwatch = vm.$watch(watcher[0], watcher[1], watcher[2] || { immediate: true });\n    dir.handler = watcher[1];\n  }\n  return unique_attr_id;\n};\n\nvar unwatch = exports.unwatch = function unwatch(_ref2) {\n  var el = _ref2.el,\n      attr = _ref2.attr;\n\n  var unique_attr_id = el.getAttribute(attr);\n  if (unique_attr_id) {\n    directives[unique_attr_id].unwatch();\n    delete directives[unique_attr_id];\n  }\n};\n\nvar trigger = exports.trigger = function trigger(_ref3) {\n  var el = _ref3.el,\n      attr = _ref3.attr,\n      data = _ref3.data;\n  return directives[el.getAttribute(attr)].handler(data);\n};\n\n},{\"core/utils/utils\":67}],310:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  binding.value ? el.setAttribute('checked', 'checked') : el.removeAttribute('checked');\n};\n\n},{}],311:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  var className = 'g3w-disabled';\n  if (binding.value) {\n    if (!el.classList.contains(className)) el.classList.add(className);\n  } else el.classList.remove(className);\n};\n\n},{}],312:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-download-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    if (typeof binding.value === 'boolean' ? binding.value : true) {\n      (0, _utils.watch)({\n        el: el,\n        attr: attr,\n        watcher: [function () {\n          return _applicationState2.default.download;\n        }, function (bool) {\n          var className = binding.modifiers && binding.modifiers.show && 'hide' || 'disabled';\n          el.classList.toggle('g3w-' + className, className === 'hide' ? !bool : bool);\n        }]\n      });\n    }\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":309,\"store/application-state\":368}],313:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-offline-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    // show if online\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.online;\n      }, function (bool) {\n        bool = (binding.arg && binding.arg === 'hide' ? false : true) ? bool : !bool;\n        el.classList.toggle('g3w-hide', !bool);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":309,\"store/application-state\":368}],314:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-plugins-id';\n\nexports.default = {\n  bind: function bind(el) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.plugins;\n      }, function (plugins) {\n        el.classList.toggle('g3w-hide', plugins.length === 0);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":309,\"store/application-state\":368}],315:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  inserted: function inserted(el, binding, vnode) {\n    var _ref = vnode.data.attrs || {},\n        templateResult = _ref.templateResult,\n        templateSelection = _ref.templateSelection,\n        _ref$multiple = _ref.multiple,\n        multiple = _ref$multiple === undefined ? false : _ref$multiple,\n        _ref$search = _ref.search,\n        search = _ref$search === undefined ? true : _ref$search,\n        select2_value = _ref.select2_value;\n\n    $(el).select2({\n      width: '100%',\n      dropdownCssClass: 'skin-color',\n      templateResult: templateResult,\n      templateSelection: templateSelection,\n      minimumResultsForSearch: !search ? -1 : undefined\n    }).on('select2:select', function (e) {\n      if (binding.value) {\n        var value = e.params.data.id;\n        if (multiple && vnode.context[binding.value].filter(function (d) {\n          return value === d;\n        }).length === 0) {\n          vnode.context[binding.value].push(value);\n        } else {\n          vnode.context[binding.value] = value;\n        }\n      }\n    }).on('select2:unselect', function (e) {\n      if (binding.value && multiple) {\n        vnode.context[binding.value] = vnode.context[binding.value].filter(function (d) {\n          return e.params.data.id !== d;\n        });\n      }\n    });\n\n    if (binding.value && select2_value) {\n      $(el).val(select2_value).trigger('change');\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).select2('destroy');\n  }\n};\n\n},{}],316:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  el.toggleAttribute('selected', binding.value === 0);\n};\n\n},{}],317:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-html-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.innerHTML = '' + t(binding.value);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":309,\"store/application-state\":368}],318:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-placeholder-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.setAttribute('placeholder', (binding.arg === 'plugin' ? tPlugin : t)(binding.value));\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":309,\"store/application-state\":368}],319:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-plugin-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? tPlugin(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":309,\"store/application-state\":368}],320:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-title-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var title = (binding.arg === 'plugin' ? tPlugin : t)(binding.value);\n        el.setAttribute('title', title);\n        el.setAttribute('data-original-title', title);\n      }] });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":309,\"store/application-state\":368}],321:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-tooltip-id';\n\nexports.default = {\n  bind: function bind(_el, binding) {\n    // Automatically create tooltip\n    if (binding.modifiers.create) {\n      if (binding.arg) {\n        _el.setAttribute('data-placement', binding.arg);\n        _el.classList.add('skin-color', 'skin-tooltip-' + binding.arg);\n      }\n      $(_el).tooltip({ trigger: _applicationState2.default.ismobile ? 'click' : 'hover', html: true })\n      // hide tooltip on mobile  after click\n      .on('shown.bs.tooltip', function () {\n        _applicationState2.default.ismobile && setTimeout(function () {\n          return $(_el).tooltip('hide');\n        }, 600);\n      });\n    }\n    (0, _utils.watch)({\n      el: _el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function (_ref) {\n        var _ref$el = _ref.el,\n            el = _ref$el === undefined ? _el : _ref$el;\n\n        var value = el.getAttribute('current-tooltip');\n        if (value === null) {\n          value = binding.value;\n        }\n        el.setAttribute('data-original-title', binding.modifiers.text ? value : (binding.arg === 'plugin' ? tPlugin : t)(value));\n      }]\n    });\n  },\n  componentUpdated: function componentUpdated(el, oldVnode) {\n    var value = el.getAttribute('current-tooltip');\n    if (value != null && value !== oldVnode.oldValue) {\n      (0, _utils.trigger)({ el: el, attr: attr, data: { el: el } });\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).tooltip('hide');(0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":309,\"store/application-state\":368}],322:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? t(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":309,\"store/application-state\":368}],323:[function(require,module,exports){\n/**\n * @file Expose `window.g3wsdk` variable\n * @since v3.8\n */\n\n/**\n * Expose \"g3wsdk\" variable globally used by plugins to load sdk class and instances\n * \n * @type {object}\n */\nwindow.g3wsdk = require('app/api');\n\n/**\n * @TODO not yet implemented\n *\n * @see https://github.com/g3w-suite/g3w-client/issues/71\n * @see https://github.com/g3w-suite/g3w-client/issues/46\n */\n// window.g3w = window.g3wsdk;\n\n},{\"app/api\":2}],324:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nrequire('./deprecated');\n\nrequire('./globals');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _floatbar = require('services/floatbar');\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nvar _navbaritems = require('services/navbaritems');\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _App = require('components/App.vue');\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalImage = require('components/GlobalImage.vue');\n\nvar _GlobalImage2 = _interopRequireDefault(_GlobalImage);\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nvar _GlobalGeo = require('components/GlobalGeo.vue');\n\nvar _GlobalGeo2 = _interopRequireDefault(_GlobalGeo);\n\nvar _GlobalSkeleton = require('components/GlobalSkeleton.vue');\n\nvar _GlobalSkeleton2 = _interopRequireDefault(_GlobalSkeleton);\n\nvar _GlobalBarLoader = require('components/GlobalBarLoader');\n\nvar _GlobalBarLoader2 = _interopRequireDefault(_GlobalBarLoader);\n\nvar _GlobalProgressBar = require('components/GlobalProgressBar');\n\nvar _GlobalProgressBar2 = _interopRequireDefault(_GlobalProgressBar);\n\nvar _GlobalHelpDiv = require('components/GlobalHelpDiv.vue');\n\nvar _GlobalHelpDiv2 = _interopRequireDefault(_GlobalHelpDiv);\n\nvar _GlobalResize = require('components/GlobalResize.vue');\n\nvar _GlobalResize2 = _interopRequireDefault(_GlobalResize);\n\nvar _GlobalLayerPositions = require('components/GlobalLayerPositions.vue');\n\nvar _GlobalLayerPositions2 = _interopRequireDefault(_GlobalLayerPositions);\n\nvar _GlobalDateTime = require('components/GlobalDateTime.vue');\n\nvar _GlobalDateTime2 = _interopRequireDefault(_GlobalDateTime);\n\nvar _GlobalRange = require('components/GlobalRange.vue');\n\nvar _GlobalRange2 = _interopRequireDefault(_GlobalRange);\n\nvar _GlobalResizeIcon = require('components/GlobalResizeIcon.vue');\n\nvar _GlobalResizeIcon2 = _interopRequireDefault(_GlobalResizeIcon);\n\nvar _GlobalTabs = require('components/GlobalTabs.vue');\n\nvar _GlobalTabs2 = _interopRequireDefault(_GlobalTabs);\n\nvar _GlobalDivider = require('components/GlobalDivider.vue');\n\nvar _GlobalDivider2 = _interopRequireDefault(_GlobalDivider);\n\nvar _Floatbar = require('components/Floatbar.vue');\n\nvar _Floatbar2 = _interopRequireDefault(_Floatbar);\n\nvar _NavbaritemsLeft = require('components/NavbaritemsLeft.vue');\n\nvar _NavbaritemsLeft2 = _interopRequireDefault(_NavbaritemsLeft);\n\nvar _NavbaritemsRight = require('components/NavbaritemsRight.vue');\n\nvar _NavbaritemsRight2 = _interopRequireDefault(_NavbaritemsRight);\n\nvar _Sidebar = require('components/Sidebar.vue');\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _Viewport = require('components/Viewport.vue');\n\nvar _Viewport2 = _interopRequireDefault(_Viewport);\n\nvar _vDisabled = require('directives/v-disabled');\n\nvar _vDisabled2 = _interopRequireDefault(_vDisabled);\n\nvar _vChecked = require('directives/v-checked');\n\nvar _vChecked2 = _interopRequireDefault(_vChecked);\n\nvar _vSelectedFirst = require('directives/v-selected-first');\n\nvar _vSelectedFirst2 = _interopRequireDefault(_vSelectedFirst);\n\nvar _vSelect = require('directives/v-select2');\n\nvar _vSelect2 = _interopRequireDefault(_vSelect);\n\nvar _vTTooltip = require('directives/v-t-tooltip');\n\nvar _vTTooltip2 = _interopRequireDefault(_vTTooltip);\n\nvar _vTHtml = require('directives/v-t-html');\n\nvar _vTHtml2 = _interopRequireDefault(_vTHtml);\n\nvar _vTPlaceholder = require('directives/v-t-placeholder');\n\nvar _vTPlaceholder2 = _interopRequireDefault(_vTPlaceholder);\n\nvar _vTTitle = require('directives/v-t-title');\n\nvar _vTTitle2 = _interopRequireDefault(_vTTitle);\n\nvar _vT = require('directives/v-t');\n\nvar _vT2 = _interopRequireDefault(_vT);\n\nvar _vTPlugin = require('directives/v-t-plugin');\n\nvar _vTPlugin2 = _interopRequireDefault(_vTPlugin);\n\nvar _vPlugins = require('directives/v-plugins');\n\nvar _vPlugins2 = _interopRequireDefault(_vPlugins);\n\nvar _vOnline = require('directives/v-online');\n\nvar _vOnline2 = _interopRequireDefault(_vOnline);\n\nvar _vDownload = require('directives/v-download');\n\nvar _vDownload2 = _interopRequireDefault(_vDownload);\n\nvar _constant = require('app/constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Production entry point (app.min.js)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.8\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\n// include backward compatibilies\n\n\n// expose global variables\n\n\n//import core\n\n\n//import services\n\n\n// import store\n\n\n//components\n\n\n//directives\n\n\n// constants\n\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t,\n    tPlugin = _require2.tPlugin;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectsMenuComponent = require('gui/projectsmenu/projectsmenu');\n\n/**\n * Install global components\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.globalcomponents.js@3.6\n */\nVue.component(_GlobalImage2.default.name, _GlobalImage2.default);\nVue.component(_GlobalGallery2.default.name, _GlobalGallery2.default);\nVue.component(_GlobalGeo2.default.name, _GlobalGeo2.default);\nVue.component(_GlobalBarLoader2.default.name, _GlobalBarLoader2.default);\nVue.component(_GlobalProgressBar2.default.name, _GlobalProgressBar2.default);\nVue.component(_GlobalSkeleton2.default.name, _GlobalSkeleton2.default);\nVue.component(_GlobalHelpDiv2.default.name, _GlobalHelpDiv2.default);\nVue.component(_GlobalResize2.default.name, _GlobalResize2.default);\nVue.component(_GlobalLayerPositions2.default.name, _GlobalLayerPositions2.default);\nVue.component(_GlobalDateTime2.default.name, _GlobalDateTime2.default);\nVue.component(_GlobalRange2.default.name, _GlobalRange2.default);\nVue.component(_GlobalResizeIcon2.default.name, _GlobalResizeIcon2.default);\nVue.component(_GlobalTabs2.default.name, _GlobalTabs2.default);\nVue.component(_GlobalDivider2.default.name, _GlobalDivider2.default);\n\n/**\n * Install application filters\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.filter.js@3.6\n */\nVue.filter('t', function (value) {\n  return t(value);\n});\nVue.filter('tPlugin', function (value) {\n  return value !== null ? tPlugin(value) : '';\n});\n\n/**\n * Install global directives\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.directives.js@v3.6\n */\nVue.directive(\"disabled\", _vDisabled2.default);\nVue.directive(\"checked\", _vChecked2.default);\nVue.directive(\"selected-first\", _vSelectedFirst2.default);\nVue.directive('select2', _vSelect2.default);\nVue.directive('t-tooltip', _vTTooltip2.default);\nVue.directive('t-html', _vTHtml2.default);\nVue.directive('t-placeholder', _vTPlaceholder2.default);\nVue.directive('t-title', _vTTitle2.default);\nVue.directive(\"t\", _vT2.default);\nVue.directive(\"t-plugin\", _vTPlugin2.default);\nVue.directive(\"plugins\", _vPlugins2.default);\nVue.directive(\"online\", _vOnline2.default);\nVue.directive(\"download\", _vDownload2.default);\n\n/**\n * Install global plugins\n */\nVue.use(window.VueCookie);\n\n/**\n * Vue 2 Plugin used to add global-level functionality to Vue\n *\n * @link https://v2.vuejs.org/v2/guide/plugins.html\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vueappplugin.js@3.6\n */\nVue.use({\n  install: function install(Vue) {\n    // hold a list of registered fontawsome classes for current project\n    Vue.prototype.g3wtemplate = {\n      font: _constant.FONT_AWESOME_ICONS,\n      /**\n       * @TODO check if deprecated\n       */\n      get: function get() {},\n      getInfo: function getInfo() {\n        return {\n          font: this.font\n        };\n      },\n      addFontClass: function addFontClass() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            name = _ref.name,\n            className = _ref.className;\n\n        var added = this.font[name] === undefined;\n        if (added) this.font[name] = className;\n        return added;\n      },\n\n      /**\n       * @TODO check if deprecated\n       */\n      getInfoString: function getInfoString() {},\n      getFontClass: function getFontClass(type) {\n        return typeof this.font[type] !== \"undefined\" ? this.font[type] : '';\n      }\n    };\n    // include isMobile() method within all Vue instances\n    Vue.mixin({\n      methods: {\n        isMobile: function (_isMobile) {\n          function isMobile() {\n            return _isMobile.apply(this, arguments);\n          }\n\n          isMobile.toString = function () {\n            return _isMobile.toString();\n          };\n\n          return isMobile;\n        }(function () {\n          return isMobile.any;\n        })\n      }\n    });\n  }\n}, {});\n\nVue.mixin({ inheritAttrs: false }); // set mixins inheriAttrs to avoid tha unused props are setted as attrs\n\n/**\n * @requires components/App.vue\n */\nvar layout = $.LayoutManager;\n\n// loading spinner at beginning\nlayout.loading(true);\n\n/**\n * ORIGINAL SOURCE: src/gui/app/index.js@3.4\n */\nvar ApplicationTemplate = function ApplicationTemplate(_ref2) {\n  var ApplicationService = _ref2.ApplicationService;\n\n  var appLayoutConfig = ApplicationService.getConfig().layout || {};\n  // useful to build a difference layout/component based on mobile or not\n  this._isMobile = isMobile.any;\n  this._isIframe = appLayoutConfig.iframe;\n  //ussefult ot not close user message when set content is called\n  this.sizes = {\n    sidebar: {\n      width: 0\n    }\n  };\n  /*\n    usefull to show onaly last waiting request output\n    at moment will be an object\n    {\n      stop: method to sot to show result\n    }\n   */\n  this.waitingoutputdataplace = null;\n  this.init = function () {\n    // create Vue App\n    this._createApp();\n  };\n  // create application config\n  this._createTemplateConfig = function () {\n    var G3WTemplate = Vue.prototype.g3wtemplate;\n    var appTitle = ApplicationService.getConfig().apptitle || 'G3W Suite';\n    var ContentsComponent = require('gui/viewport/contentsviewer');\n    var CatalogComponent = require('gui/catalog/vue/catalog');\n    var SearchComponent = require('gui/search/vue/search');\n    var QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n    var PrintComponent = require('gui/print/vue/print');\n    var MetadataComponent = require('gui/metadata/vue/metadata');\n    var ToolsComponent = require('gui/tools/vue/tools');\n    var WMSComponent = require('gui/wms/vue/wms');\n    var MapComponent = require('gui/map/vue/map');\n    var QueryResultsComponent = require('gui/queryresults/vue/queryresults');\n    var SpatialBookMarksComponent = require('gui/spatialbookmarks/vue/spatialbookmarks');\n    return {\n      title: appTitle,\n      placeholders: {\n        navbar: {\n          components: []\n        },\n        sidebar: {\n          components: [new MetadataComponent({\n            id: 'metadata',\n            open: false,\n            collapsible: false,\n            icon: G3WTemplate.getFontClass('file'),\n            mobile: true\n          }), new SpatialBookMarksComponent({\n            id: 'spatialbookmarks',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('bookmark'),\n            mobile: true\n          }), new PrintComponent({\n            id: 'print',\n            open: false,\n            collapsible: true, //  it used to manage click event if can run setOpen component method\n            icon: G3WTemplate.getFontClass('print'),\n            mobile: false\n          }), new SearchComponent({\n            id: 'search',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('search'),\n            actions: [{\n              id: \"querybuilder\",\n              class: G3WTemplate.getFontClass('calculator') + ' sidebar-button sidebar-button-icon',\n              tooltip: 'Query Builder',\n              fnc: function fnc() {\n                _gui2.default.closeContent();\n                ApplicationTemplate.Services.sidebar.closeOpenComponents();\n                QueryBuilderUIFactory.show({\n                  type: 'sidebar' // sidebar or modal\n                });\n              },\n              style: {\n                color: '#8DC3E3',\n                padding: '6px',\n                fontSize: '1.2em',\n                borderRadius: '3px',\n                marginRight: '5px'\n              }\n            }],\n            mobile: true\n          }),\n          // Component that store plugins\n          new ToolsComponent({\n            id: 'tools',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('tools'),\n            mobile: true\n          }), new WMSComponent({\n            id: 'wms',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('layers'),\n            mobile: true\n          }), new CatalogComponent({\n            id: 'catalog',\n            open: false,\n            collapsible: false,\n            isolate: true,\n            icon: G3WTemplate.getFontClass('map'),\n            mobile: true,\n            config: {\n              legend: {\n                config: appLayoutConfig.legend\n              }\n            }\n          })]\n        },\n        floatbar: {\n          components: []\n        }\n      },\n      othercomponents: [new QueryResultsComponent({\n        id: 'queryresults'\n      })],\n      viewport: {\n        // placeholder of the content (view content). Secondary view (hidden)\n        components: {\n          map: new MapComponent({\n            id: 'map'\n          }),\n          content: new ContentsComponent({\n            id: 'contents'\n          })\n        }\n      }\n    };\n  };\n\n  //Vue app\n  this._createApp = function () {\n    this._setDataTableLanguage();\n    var self = this;\n    if (isMobile.any || this._isIframe) $('body').addClass('sidebar-collapse');\n    return new Vue({\n      el: '#app',\n      created: function created() {\n        // set general metods for the application as  GUI.showForm etc ..\n        self._setupInterface();\n        // setup layout\n        self._setupLayout();\n        //register all services fro the application\n        self._setUpServices();\n        // create templateConfig\n        self.templateConfig = self._createTemplateConfig();\n        // listen lng change and reset datatable language\n        this.$watch(function () {\n          return _applicationState2.default.language;\n        }, function () {\n          self._setDataTableLanguage();\n        });\n      },\n      mounted: function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var skinColor;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return this.$nextTick();\n\n                case 2:\n                  self._buildTemplate();\n                  // setup Font, Css class methods\n                  self._setUpTemplateDependencies(this);\n                  $(document).localize();\n                  self._setViewport(self.templateConfig.viewport);\n                  skinColor = $('.navbar').css('background-color');\n\n                  _gui2.default.skinColor = skinColor && '#' + skinColor.substr(4, skinColor.indexOf(')') - 4).split(',').map(function (color) {\n                    return parseInt(color).toString(16);\n                  }).join('');\n                  _context.next = 10;\n                  return this.$nextTick();\n\n                case 10:\n                  self.emit('ready');\n                  self.sizes.sidebar.width = $('#g3w-sidebar').width();\n                  //getSkinColor\n                  _gui2.default.ready();\n\n                case 13:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function mounted() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return mounted;\n      }()\n    });\n  };\n\n  this._setupLayout = function () {\n    if (!isMobile.any) {\n      // setup map controls\n      $(\"<style type='text/css'> .ol-control-tl {\" + \"top: 7px;\" + \"left:43px;\" + \"}</style>\").appendTo(\"head\");\n    }\n    // Inizialization of the components of the application\n    Vue.component('sidebar', _Sidebar2.default);\n    //Navbar custom items\n    Vue.component('navbarleftitems', _NavbaritemsLeft2.default);\n    Vue.component('navbarrightitems', _NavbaritemsRight2.default);\n    Vue.component('viewport', _Viewport2.default);\n    Vue.component('floatbar', _Floatbar2.default);\n    Vue.component('app', _App2.default);\n  };\n\n  // dataTable Translations and custom extentions\n  this._setDataTableLanguage = function () {\n    var dataTable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var languageOptions = {\n      \"language\": {\n        \"sSearch\": '',\n        \"searchPlaceholder\": t(\"dosearch\"),\n        \"sLengthMenu\": t(\"dataTable.lengthMenu\"),\n        \"paginate\": {\n          \"previous\": t(\"dataTable.previous\"),\n          \"next\": t(\"dataTable.next\")\n        },\n        \"info\": t(\"dataTable.info\"),\n        \"zeroRecords\": t(\"dataTable.nodatafilterd\"),\n        \"infoFiltered\": ''\n      }\n    };\n    //set form control class to filter\n    $.extend($.fn.dataTableExt.oStdClasses, {\n      \"sFilterInput\": \"form-control search\"\n    });\n    !dataTable ? $.extend(true, $.fn.dataTable.defaults, languageOptions) : dataTable.dataTable({ \"oLanguage\": languageOptions });\n  };\n\n  // route setting att beginning (is an example)\n  this._addRoutes = function () {\n    var RouterService = ApplicationService.getRouterService();\n    var mapService = _gui2.default.getComponent('map').getService();\n    RouterService.addRoute('map/zoomto/{coordinate}/:zoom:', function (coordinate, zoom) {\n      coordinate = _.map(coordinate.split(','), function (xy) {\n        return Number(xy);\n      });\n      zoom = zoom ? Number(zoom) : null;\n      if (coordinate.length) {\n        mapService.on('ready', function () {\n          this.zoomTo(coordinate, zoom);\n        });\n      }\n    });\n  };\n\n  //register all services\n  this._setUpServices = function () {\n    Object.keys(ApplicationTemplate.Services).forEach(function (element) {\n      var service = ApplicationTemplate.Services[element];\n      ApplicationService.registerService(element, service);\n    });\n    Object.values(_gui2.default.getComponents()).forEach(function (component) {\n      ApplicationService.registerService(component.id, component.getService());\n    });\n    ApplicationTemplate.Services.viewport.on('resize', function () {\n      return _gui2.default.emit('resize');\n    });\n  };\n  // build template function\n  this._buildTemplate = function () {\n    var _this = this;\n\n    _floatbar2.default.init(layout);\n    var placeholdersConfig = this.templateConfig.placeholders;\n    Object.entries(placeholdersConfig).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          placeholder = _ref5[0],\n          options = _ref5[1];\n\n      _this._addComponents(options.components, placeholder);\n    });\n    //register other compoents\n    this._addOtherComponents();\n  };\n\n  //add component not related to placeholder\n  this._addOtherComponents = function () {\n    if (this.templateConfig.othercomponents) this._addComponents(this.templateConfig.othercomponents);\n  };\n  // viewport setting\n  this._setViewport = function (viewportOptions) {\n    // viewport components\n    // es.: map e content\n    /*\n     components: {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'content',\n      })\n     }\n      */\n    if (viewportOptions) {\n      ApplicationTemplate.Services.viewport.init(viewportOptions);\n      this._addComponents(viewportOptions.components);\n    }\n  };\n\n  // add component to template\n  this._addComponent = function (component, placeholder) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this._addComponents([component], placeholder, options);\n    return true;\n  };\n\n  // registry component\n  this._addComponents = function (components, placeholder, options) {\n    var register = true;\n    if (placeholder && ApplicationTemplate.PLACEHOLDERS.indexOf(placeholder) > -1) {\n      var placeholderService = ApplicationTemplate.Services[placeholder];\n      if (placeholderService) register = placeholderService.addComponents(components, options);\n    }\n    Object.entries(components).forEach(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          key = _ref7[0],\n          component = _ref7[1];\n\n      if (register) {\n        _components2.default.registerComponent(component);\n        ApplicationService.registerService(component.id, component.getService());\n      }\n    });\n  };\n\n  this._removeComponent = function (componentId, placeholder, options) {\n    var component = _components2.default.unregisterComponent(componentId);\n    placeholder && ApplicationTemplate.Services[placeholder] && ApplicationTemplate.Services[placeholder].removeComponent(component, options);\n  };\n\n  this._showModalOverlay = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var message = arguments[1];\n\n    var mapService = _gui2.default.getService('map');\n    if (bool) mapService.startDrawGreyCover(message);else mapService.stopDrawGreyCover();\n  };\n\n  this._isSidebarVisible = function () {\n    return !$('body').hasClass('sidebar-collapse');\n  };\n\n  this._showSidebar = function () {\n    $('body').addClass('sidebar-open');\n    $('body').removeClass('sidebar-collapse');\n  };\n\n  this._hideSidebar = function () {\n    $('body').removeClass('sidebar-open');\n    $('body').addClass('sidebar-collapse');\n  };\n\n  // setup Fonts Css dependencies methods\n  this._setUpTemplateDependencies = function (VueApp) {\n    _gui2.default.isMobile = function () {\n      return isMobile.any;\n    };\n    // method that return Template Info\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getFontClass = function (type) {\n      return VueApp.g3wtemplate.getFontClass(type);\n    };\n  };\n\n  /**\n   * Convert error to user message showed\n   * @param error\n   * @returns {string}\n   */\n  _gui2.default.errorToMessage = function (error) {\n    var message = 'server_error';\n    switch (toRawType(error)) {\n      case 'Error':\n        message = 'CLIENT - ' + error.message;\n        break;\n      case 'Object':\n        if (error.responseJSON) {\n          error = error.responseJSON;\n          if (error.result === false) {\n            var _error$error = error.error,\n                _error$error$code = _error$error.code,\n                code = _error$error$code === undefined ? '' : _error$error$code,\n                _error$error$data = _error$error.data,\n                data = _error$error$data === undefined ? '' : _error$error$data,\n                _error$error$message = _error$error.message,\n                msg = _error$error$message === undefined ? '' : _error$error$message;\n\n            message = code.toUpperCase() + ' ' + data + ' ' + msg;\n          }\n        } else if (error.responseText) {\n          message = error.responseText;\n        }\n        break;\n      case 'Array':\n        message = error.map(function (error) {\n          return _gui2.default.errorToMessage(error);\n        }).join(' ');\n        break;\n      case 'String':\n      default:\n        message = error;\n    }\n    return message;\n  };\n\n  // setup Interaces\n  this._setupInterface = function () {\n    var _this2 = this;\n\n    /* PLUBLIC INTERFACE */\n    /* Common methods */\n    _gui2.default.layout = layout;\n    _gui2.default.getSize = function (_ref8) {\n      var element = _ref8.element,\n          what = _ref8.what;\n\n      if (element && what) return _this2.sizes[element][what];\n    };\n    _gui2.default.addComponent = this._addComponent.bind(this);\n    _gui2.default.removeComponent = this._removeComponent.bind(this);\n    /* Metodos to define */\n    _gui2.default.getResourcesUrl = function () {\n      return ApplicationService.getConfig().resourcesurl;\n    };\n    //LIST\n    _gui2.default.showList = _floatbar2.default.showPanel.bind(_floatbar2.default);\n    _gui2.default.closeList = _floatbar2.default.closePanel.bind(_floatbar2.default);\n    _gui2.default.hideList = _floatbar2.default.hidePanel.bind(_floatbar2.default);\n    // TABLE\n    _gui2.default.showTable = function () {};\n    _gui2.default.closeTable = function () {};\n\n    //Function called from DataRouterservice for gui output\n    /**\n     *\n     * @param data\n     * @param options\n     */\n    _gui2.default.outputDataPlace = function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(dataPromise) {\n        var _this3 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var defaultOutputConfig, _options$title, title, _options$show, show, before, after, outputConfig, condition, add, loading, queryResultsService;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // show parameter it used to set condition to show result or not\n                // loading parameter is used to show result content when we are wait the response. Default true otherwise we shoe result content at the end\n                defaultOutputConfig = { condition: true, add: false, loading: true };\n                _options$title = options.title, title = _options$title === undefined ? '' : _options$title, _options$show = options.show, show = _options$show === undefined ? defaultOutputConfig : _options$show, before = options.before, after = options.after;\n                // convert show in an object\n\n                outputConfig = toRawType(show) !== 'Object' ? {\n                  condition: show, // can be Function or Boolean otherwise is set true\n                  add: false,\n                  loading: true\n                } : _extends({}, defaultOutputConfig, show);\n                condition = outputConfig.condition, add = outputConfig.add, loading = outputConfig.loading;\n                //check if waiting output data\n                // in case we stop and substiute with new request data\n\n                _context4.t0 = this.waitingoutputdataplace;\n\n                if (!_context4.t0) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                _context4.next = 8;\n                return this.waitingoutputdataplace.stop();\n\n              case 8:\n                queryResultsService = add ? _gui2.default.getService('queryresults') : loading && this.showContentFactory('query')(title);\n\n                this.waitingoutputdataplace = function () {\n                  var _stop = false;\n                  _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                    var data, showResult, message;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.prev = 0;\n                            _context2.next = 3;\n                            return dataPromise;\n\n                          case 3:\n                            data = _context2.sent;\n                            _context2.t0 = before;\n\n                            if (!_context2.t0) {\n                              _context2.next = 8;\n                              break;\n                            }\n\n                            _context2.next = 8;\n                            return before(data);\n\n                          case 8:\n                            // in case of usermessage show user message\n                            data.usermessage && _gui2.default.showUserMessage({\n                              type: data.usermessage.type,\n                              message: data.usermessage.message,\n                              autoclose: data.usermessage.autoclose\n                            });\n                            if (!_stop) {\n                              // check condition\n                              showResult = toRawType(condition) === 'Function' ? condition(data) : toRawType(condition) === 'Boolean' ? condition : true;\n\n                              if (showResult) {\n                                (queryResultsService ? queryResultsService : _this3.showContentFactory('query')(title)).setQueryResponse(data, {\n                                  add: add\n                                });\n                              } else _gui2.default.closeContent();\n                              // call after is set with data\n                              after && after(data);\n                            }\n                            _context2.next = 17;\n                            break;\n\n                          case 12:\n                            _context2.prev = 12;\n                            _context2.t1 = _context2['catch'](0);\n                            message = _this3.errorToMessage(_context2.t1);\n\n                            _this3.showUserMessage({\n                              type: 'alert',\n                              message: message,\n                              textMessage: true\n                            });\n                            _this3.closeContent();\n\n                          case 17:\n                            _context2.prev = 17;\n\n                            if (!_stop) _this3.waitingoutputdataplace = null;\n                            return _context2.finish(17);\n\n                          case 20:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, _this3, [[0, 12, 17, 20]]);\n                  }))();\n                  return {\n                    stop: function () {\n                      var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                _stop = true;\n\n                              case 1:\n                              case 'end':\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3, _this3);\n                      }));\n\n                      function stop() {\n                        return _ref11.apply(this, arguments);\n                      }\n\n                      return stop;\n                    }()\n                  };\n                }();\n\n              case 10:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x6) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _gui2.default.showContentFactory = function (type) {\n      var showPanelContent = void 0;\n      switch (type) {\n        case 'query':\n          showPanelContent = _gui2.default.showQueryResults;\n          break;\n        case 'form':\n          showPanelContent = _gui2.default.showForm;\n          break;\n      }\n      return showPanelContent;\n    };\n\n    _gui2.default.showForm = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var perc = options.perc,\n          _options$split = options.split,\n          split = _options$split === undefined ? 'h' : _options$split,\n          push = options.push,\n          showgoback = options.showgoback,\n          crumb = options.crumb;\n\n      var FormComponent = require('gui/form/vue/form');\n      // new isnstace every time\n      var formComponent = options.formComponent ? new options.formComponent(options) : new FormComponent(options);\n      //get service\n      var formService = formComponent.getService();\n      // parameters : [content, title, push, perc, split, closable, crumb]\n      _gui2.default.setContent({\n        perc: perc,\n        content: formComponent,\n        split: split,\n        crumb: crumb,\n        push: !!push, //only one( if other delete previous component)\n        showgoback: !!showgoback,\n        closable: false\n      });\n      // return service\n      return formService;\n    };\n    /**\n     *\n     * @param pop remove or not content or pop\n     */\n    _gui2.default.closeForm = function () {\n      var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref12$pop = _ref12.pop,\n          pop = _ref12$pop === undefined ? false : _ref12$pop;\n\n      this.emit('closeform', false);\n      pop ? _gui2.default.popContent() : _viewport2.default.removeContent();\n      // force set modal to false\n      _gui2.default.setModal(false);\n    };\n\n    _gui2.default.disableElement = function (_ref13) {\n      var element = _ref13.element,\n          disable = _ref13.disable;\n\n      disable && $(element).addClass('g3w-disabled') || $(element).removeClass('g3w-disabled');\n    };\n\n    _gui2.default.disableContent = function (disable) {\n      _viewport2.default.disableContent(disable);\n    };\n\n    _gui2.default.disablePanel = function () {\n      var disable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableElement({\n        element: \"#g3w-sidebarpanel-placeholder\",\n        disable: disable\n      });\n    };\n\n    // hide content\n    _gui2.default.hideContent = function (bool, perc) {\n      return _viewport2.default.hideContent(bool, perc);\n    };\n\n    _gui2.default.closeContent = function () {\n      this.emit('closecontent', false);\n      return _viewport2.default.closeContent();\n    };\n\n    _gui2.default.closeOpenSideBarComponent = function () {\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n    };\n\n    // show results info/search\n    _gui2.default.showQueryResults = function (title, results) {\n      var queryResultsComponent = _gui2.default.getComponent('queryresults');\n      var queryResultService = queryResultsComponent.getService();\n      queryResultService.reset();\n      results && queryResultService.setQueryResponse(results);\n      _gui2.default.showContextualContent({\n        content: queryResultsComponent,\n        title: \"info.title\",\n        crumb: {\n          title: \"info.title\",\n          trigger: null\n        },\n        push: _gui2.default.getPushContent(),\n        post_title: title\n      });\n      return queryResultService;\n    };\n    _gui2.default.addNavbarItem = function (item) {\n      _navbaritems2.default.addItem(item);\n    };\n    _gui2.default.removeNavBarItem = function () {};\n    _gui2.default.showPanel = _sidebar2.default.showPanel.bind(_sidebar2.default);\n    _gui2.default.closePanel = _sidebar2.default.closePanel.bind(_sidebar2.default);\n    ///\n    _gui2.default.disableApplication = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationService.disableApplication(bool);\n    };\n\n    //showusermessage\n    _gui2.default.showUserMessage = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _viewport2.default.showUserMessage(options);\n    };\n\n    _gui2.default.closeUserMessage = function () {\n      _viewport2.default.closeUserMessage();\n    };\n    /* ------------------ */\n    _gui2.default.notify = {\n      warning: function warning(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'warning',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      error: function error(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'alert',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      info: function info(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'info',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      success: function success(message) {\n        _gui2.default.showUserMessage({\n          type: 'success',\n          message: message,\n          autoclose: true\n        });\n      }\n    };\n    // proxy  bootbox library\n    _gui2.default.dialog = bootbox;\n    //modal dialog//\n    _gui2.default.showModalDialog = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _gui2.default.dialog.dialog(options);\n    };\n    /* spinner */\n    _gui2.default.showSpinner = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var container = options.container || 'body';\n      var id = options.id || 'loadspinner';\n      var where = options.where || 'prepend'; // append | prepend\n      var style = options.style || '';\n      var transparent = options.transparent ? 'background-color: transparent' : '';\n      var center = options.center ? 'margin: auto' : '';\n      if (!$(\"#\" + id).length) {\n        $(container)[where].call($(container), '<div id=\"' + id + '\" class=\"spinner-wrapper ' + style + '\" style=\"' + transparent + '\"><div class=\"spinner ' + style + '\" style=\"' + center + '\"></div></div>');\n      }\n    };\n    //hide spinner\n    _gui2.default.hideSpinner = function () {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'loadspinner';\n\n      $(\"#\" + id).remove();\n    };\n    /* end spinner*/\n    /* end common methods */\n\n    /*  */\n    // FLOATBAR //\n    _gui2.default.showFloatbar = function () {\n      _floatbar2.default.open();\n    };\n    _gui2.default.hideFloatbar = function () {\n      _floatbar2.default.close();\n    };\n    // SIDEBAR //\n    _gui2.default.showSidebar = this._showSidebar.bind(this);\n    _gui2.default.hideSidebar = this._hideSidebar.bind(this);\n    _gui2.default.isSidebarVisible = this._isSidebarVisible.bind(this);\n\n    // RELOAD COMPONENTS\n    _gui2.default.reloadComponents = function () {\n      ApplicationTemplate.Services.sidebar.reloadComponents();\n    };\n    // MODAL\n    _gui2.default.setModal = this._showModalOverlay.bind(this);\n    _gui2.default.showFullModal = function () {\n      var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref14$element = _ref14.element,\n          element = _ref14$element === undefined ? \"#full-screen-modal\" : _ref14$element,\n          _ref14$show = _ref14.show,\n          show = _ref14$show === undefined ? true : _ref14$show;\n\n      show ? $(element).modal('show') : $(element).modal('hide');\n    };\n\n    _gui2.default.disableSideBar = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      _applicationState2.default.gui.sidebar.disabled = bool;\n    };\n\n    // VIEWPORT //\n    _gui2.default.setPrimaryView = function (viewName) {\n      _viewport2.default.setPrimaryView(viewName);\n    };\n    // only map\n    _gui2.default.showMap = function () {\n      _viewport2.default.showMap();\n    };\n\n    _gui2.default.showContextualMap = function () {\n      var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n      var split = arguments[1];\n\n      _viewport2.default.showContextualMap({\n        perc: perc,\n        split: split\n      });\n    };\n\n    _gui2.default.setContextualMapComponent = function (mapComponent) {\n      _viewport2.default.setContextualMapComponent(mapComponent);\n    };\n\n    _gui2.default.resetContextualMapComponent = function () {\n      _viewport2.default.resetContextualMapComponent();\n    };\n\n    //  (100%) content\n    _gui2.default.showContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _gui2.default.setLoadingContent(false);\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n\n    _gui2.default.showContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n    // add component to stack (append)\n    // Differences between pushContent and setContent are :\n    //  - push every componet is added, set is refreshed\n    //  - pushContent has a new parameter (backonclose) when is clicked x\n    //  - the contentComponet is close all stack is closed\n    _gui2.default.pushContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.push = true;\n      _gui2.default.setContent(options);\n    };\n    // add content to stack\n    _gui2.default.pushContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.pushContent(options);\n    };\n    // remove last content from stack\n    _gui2.default.popContent = function () {\n      _viewport2.default.popContent();\n    };\n    //return number of component of stack\n    _gui2.default.getContentLength = function () {\n      return _viewport2.default.contentLength();\n    };\n\n    _gui2.default.getCurrentContentTitle = function () {\n      return _viewport2.default.getCurrentContentTitle();\n    };\n\n    _gui2.default.getCurrentContentId = function () {\n      return _viewport2.default.getCurrentContentId();\n    };\n\n    /**\n     * change current content title\n     * @param title\n     */\n    _gui2.default.changeCurrentContentTitle = function (title) {\n      _viewport2.default.changeCurrentContentTitle(title);\n    };\n    /**\n     * change current content options\n     * @param options: {title, crumb}\n     */\n    _gui2.default.changeCurrentContentOptions = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _viewport2.default.changeCurrentContentOptions(options);\n    };\n\n    /**\n     * Method to get current content\n     */\n    _gui2.default.getCurrentContent = function () {\n      return _viewport2.default.getCurrentContent();\n    };\n\n    _gui2.default.toggleFullViewContent = function () {\n      _viewport2.default.toggleFullViewContent();\n    };\n\n    _gui2.default.resetToDefaultContentPercentage = function () {\n      _viewport2.default.resetToDefaultContentPercentage();\n    };\n\n    _gui2.default.getProjectMenuDOM = function () {\n      var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          projects = _ref15.projects,\n          host = _ref15.host,\n          cbk = _ref15.cbk;\n\n      var options = {\n        projects: projects && Array.isArray(projects) && projects,\n        cbk: cbk,\n        host: host\n      };\n      var projectVueMenuComponent = new ProjectsMenuComponent(options).getInternalComponent();\n      return projectVueMenuComponent.$mount().$el;\n    };\n\n    _gui2.default.setCloseUserMessageBeforeSetContent = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._closeUserMessageBeforeSetContent = bool;\n    };\n\n    _gui2.default._setContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2._closeUserMessageBeforeSetContent && _gui2.default.closeUserMessage();\n      options.content = options.content || null;\n      options.title = options.title || \"\";\n      options.push = _.isBoolean(options.push) ? options.push : false;\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.split = options.split || 'h';\n      options.backonclose = _.isBoolean(options.backonclose) ? options.backonclose : false;\n      options.showtitle = _.isBoolean(options.showtitle) ? options.showtitle : true;\n      _viewport2.default.showContent(options);\n    };\n\n    _gui2.default.hideClientMenu = function () {\n      ApplicationService.getConfig().user = null;\n    };\n\n    _gui2.default.hideChangeMaps = function () {\n      ApplicationService.getConfig().projects = [];\n    };\n\n    // return specific classes\n    _gui2.default.getTemplateClasses = function () {\n      return BootstrapVersionClasses;\n    };\n\n    _gui2.default.getTemplateClass = function (_ref16) {\n      var element = _ref16.element,\n          type = _ref16.type;\n\n      return BootstrapVersionClasses[element][type];\n    };\n\n    _gui2.default.setLoadingContent = function () {\n      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationTemplate.Services.viewport.setLoadingContent(loading);\n      return loading && new Promise(function (resolve) {\n        setTimeout(resolve, 200);\n      });\n    };\n\n    _gui2.default.openProjectsMenu = function () {\n      var contentsComponent = _gui2.default.getComponent('contents');\n      // check if is projectmenucomponent\n      if (contentsComponent.getComponentById('projectsmenu')) _gui2.default.closeContent();else {\n        if (this.isMobile()) {\n          _gui2.default.hideSidebar();\n          $('#main-navbar.navbar-collapse').removeClass('in');\n        }\n        ApplicationTemplate.Services.sidebar.closeOpenComponents();\n        _gui2.default.setContent({\n          content: new ProjectsMenuComponent(),\n          title: '',\n          perc: 100\n        });\n      }\n    };\n  };\n  base(this);\n};\n\ninherit(ApplicationTemplate, G3WObject);\n\n// Placeholder knowed by application\nApplicationTemplate.PLACEHOLDERS = ['navbar', 'sidebar', 'viewport', 'floatbar'];\n\n// service know by the applications (standard)\nApplicationTemplate.Services = {\n  navbar: null,\n  sidebar: _sidebar2.default,\n  viewport: _viewport2.default,\n  floatbar: null\n};\n\nApplicationTemplate.fail = function (_ref17) {\n  var _ref17$language = _ref17.language,\n      language = _ref17$language === undefined ? 'en' : _ref17$language,\n      error = _ref17.error;\n\n  layout.loading(false);\n  var error_page = {\n    it: {\n      error: error || \"Errore di connessione\",\n      at_moment: \"Al momento non è possibile caricare la mappa\",\n      f5: \"Premi Ctrl+F5\"\n    },\n    en: {\n      error: error || \"Connection error\",\n      at_moment: \"At the moment is not possible show map\",\n      f5: \"Press Ctrl+F5\"\n    }\n  };\n  var compiledTemplate = Vue.compile(require('gui/templates/500.html'));\n  var app = new Vue(_extends({\n    el: '#app'\n  }, compiledTemplate, {\n    data: {\n      messages: error_page[language]\n    }\n  }));\n};\n\n/**\n * Application starting point\n *\n * create the ApplicationTemplate instance passing template interface configuration\n * and the applicationService instance that is useful to work with project API\n */\n_application2.default.init().then(function () {\n  var app = new ApplicationTemplate({ ApplicationService: _application2.default });\n  app.on('ready', function () {\n    return _application2.default.postBootstrap();\n  });\n  app.init();\n}).catch(function (_ref18) {\n  var _ref18$error = _ref18.error,\n      error = _ref18$error === undefined ? null : _ref18$error,\n      language = _ref18.language;\n\n  if (error) {\n    if (error.responseJSON && error.responseJSON.error.data) error = error.responseJSON.error.data;else if (error.statusText) error = error.statusText;\n  }\n  ApplicationTemplate.fail({\n    language: language,\n    error: error\n  });\n});\n\n},{\"./deprecated\":308,\"./globals\":323,\"app/constant\":4,\"components/App.vue\":192,\"components/Floatbar.vue\":210,\"components/GlobalBarLoader\":215,\"components/GlobalDateTime.vue\":216,\"components/GlobalDivider.vue\":217,\"components/GlobalGallery.vue\":218,\"components/GlobalGeo.vue\":219,\"components/GlobalHelpDiv.vue\":220,\"components/GlobalImage.vue\":221,\"components/GlobalLayerPositions.vue\":222,\"components/GlobalProgressBar\":223,\"components/GlobalRange.vue\":224,\"components/GlobalResize.vue\":225,\"components/GlobalResizeIcon.vue\":226,\"components/GlobalSkeleton.vue\":227,\"components/GlobalTabs.vue\":228,\"components/NavbaritemsLeft.vue\":262,\"components/NavbaritemsRight.vue\":263,\"components/Sidebar.vue\":290,\"components/Viewport.vue\":304,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"directives/v-checked\":310,\"directives/v-disabled\":311,\"directives/v-download\":312,\"directives/v-online\":313,\"directives/v-plugins\":314,\"directives/v-select2\":315,\"directives/v-selected-first\":316,\"directives/v-t\":322,\"directives/v-t-html\":317,\"directives/v-t-placeholder\":318,\"directives/v-t-plugin\":319,\"directives/v-t-title\":320,\"directives/v-t-tooltip\":321,\"gui/catalog/vue/catalog\":111,\"gui/form/vue/form\":120,\"gui/map/vue/map\":155,\"gui/metadata/vue/metadata\":158,\"gui/print/vue/print\":161,\"gui/projectsmenu/projectsmenu\":164,\"gui/querybuilder/querybuilderuifactory\":165,\"gui/queryresults/vue/queryresults\":169,\"gui/search/vue/search\":176,\"gui/spatialbookmarks/vue/spatialbookmarks\":178,\"gui/templates/500.html\":182,\"gui/tools/vue/tools\":184,\"gui/viewport/contentsviewer\":187,\"gui/wms/vue/wms\":190,\"services/application\":346,\"services/floatbar\":355,\"services/gui\":356,\"services/navbaritems\":360,\"services/sidebar\":364,\"services/viewport\":366,\"store/application-state\":368,\"store/components\":370}],325:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Diese Website verwendet Cookies, um Ihnen die bestmögliche Erfahrung auf unserer Website zu bieten.\",\n      buttonText: \"Verstanden!\"\n    },\n    default: \"default\",\n    sign_in: \"Anmelden\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Filter hinzufügen/entfernen\",\n        nofilter: \"Filter entfernen\",\n        invert: \"Auswahl umkehren\",\n        clear: \"Auswahl löschen\",\n        show_features_on_map: \"Auf der Karte sichtbare Features anzeigen\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Nicht unterstütztes Format\"\n    },\n    layer_position: {\n      top: 'OBEN',\n      bottom: 'UNTEN',\n      message: \"Position relativ zu den Layern im TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Template auswählen\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Räumliche Lesezeichen\",\n        helptext: \"Bewegen Sie sich auf der Kartenausdehnung, fügen Sie den Namen ein und klicken Sie auf Hinzufügen\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Projekt-Lesezeichen\"\n          },\n          user: {\n            title: \"Benutzer-Lesezeichen\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLE',\n        no_results: \"Keine Ergebnisse\",\n        searching: \"Suchen ...\",\n        error_loading: \"Fehler beim Datenladen\",\n        layer_not_searchable: \"Layer ist nicht durchsuchbar\",\n        layer_not_querable: \"Layer ist nicht abfragbar\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Bitte\",\n            post: \"oder mehrere Zeichen eingeben\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Kein Layer zu drucken',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Drehung\",\n        download_image: \"Bild herunterladen\",\n        fids_instruction: \"Akzeptierte Werte: von 1 bis [max]. Es ist möglich, ein Intervall einzugeben, z. B. 4-6\",\n        fids_example: \"Bsp. 1,4-6 druckt id 1,4,5,6\",\n        help: \"Die im Druck angezeigten Layer können die im Projekt definierten sein und nicht die auf der Karte angezeigten\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Ausführen\",\n          info: \"Information\",\n          delete: \"Löschen\",\n          edit: \"Bearbeiten\"\n        },\n        messages: {\n          changed: 'Gespeichert',\n          number_of_features: \"Anzahl der Features\"\n        },\n        panel: {\n          button: {\n            all: 'ALLE',\n            save: 'SPEICHERN',\n            test: 'TEST',\n            clear: 'LÖSCHEN',\n            run: 'AUSFÜHREN',\n            manual: 'MANUELL'\n          },\n          layers: 'LAYERS',\n          fields: 'FELDER',\n          values: 'WERTE',\n          operators: 'OPERATOREN',\n          expression: 'AUSDRUCK'\n        },\n        error_run: 'Es ist ein Fehler aufgetreten. Bitte überprüfen Sie die Abfrage',\n        error_test: \"Während der Ausführung der Abfrage ist ein Fehler aufgetreten\",\n        delete: 'Soll es gelöscht werden?',\n        additem: 'Geben Sie den Namen der neuen Suche ein'\n      },\n      errors: {\n        layers: {\n          load: \"Einige Layer sind nicht verfügbar\"\n        },\n        unsupported_format: 'Nicht unterstütztes Format',\n        add_external_layer: 'Fehler im Ladevorgang des Layers'\n      },\n      metadata: {\n        title: 'Metadaten',\n        groups: {\n          general: {\n            title: 'ALLGEMEIN',\n            fields: {\n              title: 'TITEL',\n              name: 'NAME',\n              description: \"BESCHREIBUNG\",\n              abstract: \"ABASTRACT\",\n              keywords: 'SCHLÜSSELWÖRTER',\n              fees: \"GEBÜHREN\",\n              accessconstraints: \"ZUGRIFFSBESCHRÄNKUNG\",\n              contactinformation: \"KONTAKTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referenzen',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Firma',\n                  ContactOrganization: 'Firma',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITEL\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRIE',\n                source: 'QUELLE',\n                attributes: 'ATTRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUTION',\n                keywords: \"SCHLÜSSELWÖRTER\",\n                metadataurl: 'METADATEN URL',\n                dataurl: \"DATEN URL\"\n              }\n            },\n            groups: {\n              general: 'ALLGEMEIN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Zeilenansicht\",\n          row_to_form: \"Formularansicht\"\n        },\n        copy_map_extent_url: 'Link zur Kartenansicht kopieren',\n        download_shapefile: \"Shapefile herunterladen\",\n        download_gpx: \"DGPX herunterladen\",\n        download_gpkg: \"GPKG herunterladen\",\n        download_csv: \"CSV herunterladen\",\n        download_xls: \"XLS herunterladen\",\n        show_chart: \"Diagramm anzeigen\",\n        atlas: \"Atlas drucken\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Auswahl hinzufügen/entfernen\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom auf Feature-Ausdehnung\"\n            },\n            add_features_to_results: {\n              hint: \"Hinzufügen/Entfernen von Features zu den Ergebnissen\"\n            },\n            remove_feature_from_results: {\n              hint: \"Feature aus den Ergebnissen entfernen\"\n            },\n            zoom_to_feature: {\n              hint: \"Zum Feature zoomen\"\n            },\n            relations: {\n              hint: \"Relationen anzeigen\"\n            },\n            relations_charts: {\n              hint: \"Relationship-Diagramm anzeigen\"\n            },\n            download_features_shapefile: {\n              hint: 'Features Shapefile herunterladen'\n            },\n            download_shapefile: {\n              hint: 'Feature Shapefile herunterladen'\n            },\n            download_features_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_features_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_features_csv: {\n              hint: \"Features CSV herunterladen\"\n            },\n            download_csv: {\n              hint: \"Feature CSV herunterladen\"\n            },\n            download_features_xls: {\n              hint: \"Features XLS herunterladen\"\n            },\n            download_xls: {\n              hint: \"Feature XLS herunterladen\"\n            },\n            atlas: {\n              hint: \"Atlas drucken\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Kopieren der Karten-URL mit dieser Geometrie-Feature-Erweiterung\",\n              hint_change: \"Kopiert\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attribute herunterladen\",\n            choiches: {\n              feature: {\n                label: \"Nur Features\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query nach Polygon',\n          no_geometry: 'Keine Geometrie in der Antwort',\n          help: {\n            title: 'Hilfe - Abfrage nach Polygon',\n            message: \"\\n                <ul>\\n                  <li>W\\xE4hlen Sie einen Polygon Layer auf TOC.</li>\\n                  <li>Stellen Sie sicher, dass der Layer sichtbar ist.</li>\\n                  <li>Klicken Sie auf ein Feature des ausgew\\xE4hlten Layers.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Abfrage durch Polygon zeichnen\"\n        },\n        querybybbox: {\n          tooltip: 'BBox Layer abfragen',\n          nolayers_visible: 'Es sind keine abfragbaren Layer sichtbar. Bitte setzen Sie mindestens einen sichtbaren wfs Layer, um die Abfrage zu starten',\n          help: {\n            title: 'Hilfe - Abfrage des BBox Layers',\n            message: \"\\n                 <ul>\\n                  <li>Ein Quadrat auf der Karte ziehen, um unterstrichene Layer im TOC abzufragen</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Das Ergebnis in der Karte ist unvollständig, da die unten stehende Liste fehlerhafter Einträge enthält:\"\n            }\n          },\n          tooltip: 'Layer hinzufügen'\n        },\n        geolocation: {\n          tooltip: 'Geolokalisierung'\n        },\n        measures: {\n          length: {\n            tooltip: \"Länge\",\n            help: \"Klicken Sie auf die Karte, um die Linie zu zeichnen. Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen möchten.\"\n          },\n          area: {\n            tooltip: \"Fläche\",\n            help: \"Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen wollen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Ungültige Skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meter',\n            nautical: 'Nautische Meile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Daten zur Relation',\n        no_relations_found: 'Keine Relationen gefunden',\n        back_to_relations: 'Zurück zu den Relationen',\n        list_of_relations_feature: 'Liste der Relationen des Features',\n        error_missing_father_field: \"Ein Feld fehlt\"\n      },\n      workflow: {\n        steps: {\n          title: 'Schritte'\n        },\n        next: 'Weiter'\n      },\n      form: {\n        loading: 'Laden ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Kein Feature ausgewählt. Prüfen, ob der Layer in Bearbeitung oder im aktuellen Maßstab sichtbar ist\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Wert aus dem Layer abrufen\",\n            lonlat: \"Zum Abrufen der Koordinaten auf die Karte klicken\"\n          },\n          input_validation_mutually_exclusive: \"Feld schließt sich gegenseitig aus mit \",\n          input_validation_error: \"Obligatorisches Feld oder falscher Datentyp\",\n          input_validation_min_field: \"Der Wert muss größer/gleich sein als der Feldwert  \",\n          input_validation_max_field: \"Der Wert muss kleiner/gleich sein als der Feldwert \",\n          input_validation_exclude_values: \"Wert muss einmalig sein\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Erforderliche Felder\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Spezifisches Relations-Formular verwenden, um mit Relationen zu arbeiten\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEMA\",\n        choose_map_theme: \"THEMA AUSWÄHLEN\",\n        menu: {\n          layerposition: 'Position des Layers',\n          setwmsopacity: \"Opazität einstellen\",\n          wms: {\n            title: \"\",\n            copy: \"Klicken Sie hier, um die Url zu kopieren\",\n            copied: \"Kopiert\"\n          },\n          download: {\n            shp: 'Shapefile herunterladen',\n            gpx: 'GPX herunterladen',\n            gpkg: 'GPKG herunterladen',\n            csv: 'CSV herunterladen',\n            xls: 'XLS herunterladen',\n            geotiff: \"GEOTIFF herunterladen\",\n            geotiff_map_extent: \"GEOTIFF herunterladen (aktueller Ansichtsumfang)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste der Prozesse\",\n        tooltip: 'Karte anklicken'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applikation basiert auf OS-Framework\",\n      g3wSuiteDescription: \"Veröffentlichen und verwalten Sie Ihre QGIS-Projekte im Internet\",\n      productOf: \"Framework entwickelt von\"\n    },\n    toggle_color_scheme: \"Farbschema umschalten\",\n    logout: \"Logout\",\n    no_other_projects: \"Kein weiteres Projekt für diese Gruppe\",\n    yes: \"Ja\",\n    no: \"No\",\n    back: \"Zurück\",\n    backto: \"Zurück zu \",\n    changemap: \"Karte ändern\",\n    component: \"Allgemeine Komponente\",\n    search: \"Suche\",\n    no_results: \"Keine Ergebnisse gefunden\",\n    print: \"Drucken\",\n    create_print: \"Drucken erstellen\",\n    dosearch: \"Suche\",\n    catalog: \"Karte\",\n    data: \"Daten\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legende\",\n    nobaselayer: \"Keine Basemap\",\n    street_search: \"Adresse finden\",\n    show: \"Anzeigen\",\n    hide: \"Ausblenden\",\n    copy_form_data: \"Daten kopieren\",\n    paste_form_data: \"Einfügen\",\n    copy_form_data_from_feature: \"Daten von der Karte kopieren\",\n    error_map_loading: \"Fehler beim Laden der Karte\",\n    check_internet_connection_or_server_admin: \"Internetverbindung prüfen oder Admin kontaktieren\",\n    could_not_load_vector_layers: \"Verbindungsfehler: Layers können geladen werden\",\n    server_saver_error: \"Fehler beim Speichern auf dem Server\",\n    server_error: \"Server-Verbindungsfehler\",\n    save: \"Speichern\",\n    cancel: \"Abbrechen\",\n    close: \"Schließen\",\n    enlange_reduce: \"Vergrößern/Verkleinern\",\n    reset_default: \"Standardgröße\",\n    add: \"Hinzufügen\",\n    exitnosave: \"Beenden ohne Speichern\",\n    annul: \"Abbrechen\",\n    layer_is_added: \"Layer mit gleichem Namen bereits hinzugefügt\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'WMS Layer hinzufügen',\n          label: {\n            position: \"Kartenposition\",\n            name: \"Name\",\n            projections: 'Projektion',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"WMS Layer hinzufügen\",\n        delete_wms_url: \"WMS Url löschen\",\n        layer_id_already_added: \"WMS Layer bereits hinzugefügt\",\n        url_already_added: \"WMS URL bereits hinzugefügt\",\n        layer_add_error: \"WMS Layer nicht hinzugefügt. Bitte überprüfen Sie alle WMS-Parameter oder Url\"\n      }\n    },\n    info: {\n      title: \"Ergebnisse\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Beigefügtes Dokument öffnen\",\n      server_error: \"Auf dem Server ist ein Fehler aufgetreten\",\n      no_results: \"Keine Ergebnisse für diese Anfrage/Suche gefunden\",\n      link_button: \"Öffnen\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Position kann nicht bestimmt werden\"\n      },\n      nominatim: {\n        placeholder: \"Addresse ...\",\n        noresults: \"Keine Ergebnisse\",\n        notresponseserver: \"Keine Antwort vom Server\"\n      },\n      add_layer_control: {\n        header: \"Layer hinzufügen\",\n        select_projection: \"Layer Projektion auswählen\",\n        select_field_to_show: \"Feld auswählen, das auf der Karte angezeigt werden soll\",\n        select_csv_separator: \"Begrenzer auswählen\",\n        select_csv_x_field: \"X-Feld auswählen\",\n        select_csv_y_field: \"Y-Feld auswählen\",\n        select_color: \"Layer Farbe auswählen\",\n        drag_layer: \"Layer hierher ziehen und ablegen\"\n      },\n      query: {\n        input_relation: \"Klicken, um Relationen anzuzeigen\"\n      },\n      length: {\n        tooltip: \"Länge\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot Fehlererstellung\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Klicken Sie mit der rechten Maustaste auf einen einzelnen Layer, um auf zusätzliche Funktionen zuzugreifen\",\n      contextmenu: {\n        zoomtolayer: \"Zoom auf Layer\",\n        open_attribute_table: \"Attributtabelle öffnen\",\n        show_metadata: \"Metadaten\",\n        styles: 'Stile',\n        vector_color_menu: \"Farbe einstellen/ändern\",\n        layer_opacity: \"Opazität\"\n      }\n    },\n    dataTable: {\n      previous: \"Vorherige\",\n      next: \"Weiter\",\n      lengthMenu: \"_MENÜ_ anzeigen\",\n      info: \"Anzeige von _START_ bis _END_ der _TOTAL_ Einträge\",\n      no_data: \"Keine Daten\",\n      nodatafilterd: \"Keine passenden Datensätze gefunden\",\n      infoFiltered: \"(gefiltert aus _MAX_ Gesamtsätzen)\"\n    }\n  }\n};\n\n},{}],326:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"default\",\n    sign_in: \"Sign in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Add/Remove Filter\",\n        nofilter: \"Remove Filter\",\n        invert: \"Invert Selection\",\n        clear: \"Clear Selection\",\n        show_features_on_map: \"Show features visible on map\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Select Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Spatial Bookmarks\",\n        helptext: \"Move on map extent, insert name and click Add\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Project Bookmarks\"\n          },\n          user: {\n            title: \"User Bookmarks\"\n          }\n        }\n      },\n      search: {\n        all: 'ALL',\n        no_results: \"No results\",\n        searching: \"Searching ...\",\n        error_loading: \"Error Loading Data\",\n        layer_not_searchable: \"Layer is not searchable\",\n        layer_not_querable: \"Layer is not querable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Please enter\",\n            post: \"or more characters\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'No Layer to print',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Scale\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Download Image\",\n        fids_instruction: \"Values accepted: from 1 to value of [max]. Is possible to insert a range ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 will be printed id 1,4,5,6\",\n        help: \"The layers shown in the print could be those defined on the project and not those displayed on the map\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Run\",\n          info: \"Information\",\n          delete: \"Delete\",\n          edit: \"Edit\"\n        },\n        messages: {\n          changed: 'Saved',\n          number_of_features: \"Number of features\"\n        },\n        panel: {\n          button: {\n            all: 'ALL',\n            save: 'SAVE',\n            test: 'TEST',\n            clear: 'CLEAR',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'LAYERS',\n          fields: 'FIELDS',\n          values: 'VALUES',\n          operators: 'OPERATORS',\n          expression: 'EXPRESSION'\n        },\n        error_run: 'An error occurs. Please check the query',\n        error_test: \"An error occur during query execution\",\n        delete: 'Do you want delete it?',\n        additem: 'Insert the name of the new search'\n      },\n      errors: {\n        layers: {\n          load: \"Some layers are not available\"\n        },\n        unsupported_format: 'Not supported format',\n        add_external_layer: 'Load layer error'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'GENERAL',\n            fields: {\n              title: 'TITLE',\n              name: 'NAME',\n              description: \"DESCRIPTION\",\n              abstract: \"ABSTRACT\",\n              keywords: 'KEYWORDS',\n              fees: \"FEES\",\n              accessconstraints: \"ACCESS CONSTRAINT\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'References',\n                  contactvoicetelephone: 'Phone',\n                  contactorganization: 'Organization',\n                  ContactOrganization: 'Organization',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLE\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRY',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'GENERAL',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Row View\",\n          row_to_form: \"Form View\"\n        },\n        copy_map_extent_url: 'Copy map view link',\n        download_shapefile: \"Download Shapefile\",\n        download_gpx: \"Download GPX\",\n        download_gpkg: \"Download GPKG\",\n        download_csv: \"Download CSV\",\n        download_xls: \"Download XLS\",\n        show_chart: \"Show Chart\",\n        atlas: \"Print Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Add/Remove Selection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom to features extent\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom to feature\"\n            },\n            relations: {\n              hint: \"Show Relations\"\n            },\n            relations_charts: {\n              hint: \"Show relations chart\"\n            },\n            download_features_shapefile: {\n              hint: 'Download features Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Download feature Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Download features GPKG\"\n            },\n            download_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_gpkg: {\n              hint: \"Download feature GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Download features CSV\"\n            },\n            download_csv: {\n              hint: \"Download feature CSV\"\n            },\n            download_features_xls: {\n              hint: \"Download features XLS\"\n            },\n            download_xls: {\n              hint: \"Download feature XLS\"\n            },\n            atlas: {\n              hint: \"Print Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query By Polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Guide - Query By Polygon',\n            message: \"\\n                <ul>\\n                  <li>Select a polygon layer on TOC.</li>\\n                  <li>Be sure that layer is visible.</li>\\n                  <li>Click on a feature of selected layer.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Query by Draw Polygon \"\n        },\n        querybybbox: {\n          tooltip: 'Query BBox layer',\n          nolayers_visible: 'No querable layers are visible. Please set at least one visible wfs layer to run query',\n          help: {\n            title: 'Guide - Query BBox layer',\n            message: \"\\n                  <ul>\\n                  <li>Draw a square on map to query underlined layers on TOC</li>\\n                  </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Add Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Length\",\n            help: \"Click on map to draw the line. Press <br>CANC if you want delete last vertex\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Click to draw poligon.Press <br>CANC if you want delete last vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Invalid Scale\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relation data',\n        no_relations_found: 'No relations found',\n        back_to_relations: 'Back to relations',\n        list_of_relations_feature: 'List of relations of feature',\n        error_missing_father_field: \"Field is missing\"\n      },\n      workflow: {\n        steps: {\n          title: 'Steps'\n        },\n        next: 'Next'\n      },\n      form: {\n        loading: 'Loading ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"No feature selected. Check if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Get value from ma layer\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Field mutually exclusive with \",\n          input_validation_error: \"Mandatory Field or wrong data type\",\n          input_validation_min_field: \"Value has to be more/equal to field value  \",\n          input_validation_max_field: \"Value has to be less/equal to field value \",\n          input_validation_exclude_values: \"Value has to be unique\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Required fields\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Use relation specific form to work with relation\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Click here to copy url\",\n            copied: \"Copied\"\n          },\n          download: {\n            shp: 'Download Shapefile',\n            gpx: 'Download GPX',\n            gpkg: 'Download GPKG',\n            csv: 'Download CSV',\n            xls: 'Download XLS',\n            geotiff: \"Download GEOTIFF\",\n            geotiff_map_extent: \"Download GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"List of process\",\n        tooltip: 'Click on map'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application based on OS framework\",\n      g3wSuiteDescription: \"Publish and manage your QGIS projects on the web\",\n      productOf: \"Framework developed by\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logout\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Yes\",\n    no: \"No\",\n    back: \"Back\",\n    backto: \"Back to \",\n    changemap: \"Change Map\",\n    component: \"Generic Component\",\n    search: \"Search\",\n    no_results: \"No results found\",\n    print: \"Print\",\n    create_print: \"Create Print\",\n    dosearch: \"Search\",\n    catalog: \"Map\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legend\",\n    nobaselayer: \"No basemap\",\n    street_search: \"Find Address\",\n    show: \"Show\",\n    hide: \"Hide\",\n    copy_form_data: \"Copy data\",\n    paste_form_data: \"Paste\",\n    copy_form_data_from_feature: \"Copy data from map\",\n    error_map_loading: \"Error occurs loading map\",\n    check_internet_connection_or_server_admin: \"Check internet connection or contact admin\",\n    could_not_load_vector_layers: \"Connection error: Layers can be loaded\",\n    server_saver_error: \"Error in server saving\",\n    server_error: \"Server connection error\",\n    save: \"Save\",\n    cancel: \"Cancel\",\n    close: \"Close\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Add\",\n    exitnosave: \"Exit without save\",\n    annul: \"Cancel\",\n    layer_is_added: \"Layer with same name already added\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Layer already added\",\n        url_already_added: \"WMS URL already added\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Results\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Open attached document\",\n      server_error: \"An error occurred from server\",\n      no_results: \"No results found for this query/search\",\n      link_button: \"Open\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Can't get your position\"\n      },\n      nominatim: {\n        placeholder: \"Address ...\",\n        noresults: \"No results\",\n        notresponseserver: \"No response from server\"\n      },\n      add_layer_control: {\n        header: \"Add Layer\",\n        select_projection: \"Select layer projection\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Select Layer Color\",\n        drag_layer: \"Drag and drop layer here\"\n      },\n      query: {\n        input_relation: \"Click to show relations\"\n      },\n      length: {\n        tooltip: \"Length\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Right-click on individual layer to access additional features\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Open Attribute Table\",\n        show_metadata: \"Metadata\",\n        styles: 'Styles',\n        vector_color_menu: \"Set/Change Color\",\n        layer_opacity: \"Opacity\"\n      }\n    },\n    dataTable: {\n      previous: \"Previous\",\n      next: \"Next\",\n      lengthMenu: \"Show _MENU_\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"No data\",\n      nodatafilterd: \"No matching records found\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],327:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"oletuksena\",\n    sign_in: \"Kirjaudu sisään\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lisätä/Poista Suodattaa\",\n        nofilter: \"Poista Suodattaa\",\n        invert: \"Käänteinen Valinta\",\n        clear: \"Peruuttaa Valinta\",\n        show_features_on_map: \"Näytä kartalla näkyvät ominaisuudet\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Valitse Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Tilalliset kirjanmerkit\",\n        helptext: \"Siirry kartan laajuuteen, lisää nimi ja napsauta Lisää\",\n        input: {\n          name: \"Nimi\"\n        },\n        sections: {\n          project: {\n            title: \"Projektin kirjanmerkit\"\n          },\n          user: {\n            title: \"Käyttäjän kirjanmerkit\"\n          }\n        }\n      },\n      search: {\n        all: 'KAIKKI',\n        no_results: \"Ei tuloksia\",\n        searching: \"Haetaan ...\",\n        error_loading: \"Virhe ladattaessa tietoja.\",\n        layer_not_searchable: \"Taso ei ole haettavissa.\",\n        layer_not_querable: \"Tasolle ei voi suorittaa kyselyitä.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Syötä\",\n            post: \"tai useampi merkki\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Ei tulostettavia tasoja',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Mittakaava\",\n        format: \"Formaatti\",\n        rotation: \"Kierto\",\n        download_image: \"Lataa kuva\",\n        fids_instruction: \"Hyväksytyt arvot: yhdestä arvoon [max]. Salittua syöttää myös väli, esim. 4-6.\",\n        fids_example: \"Esimerkiksi 1,4-6 tulostuu id 1,4,5,6.\",\n        help: \"Tulosteessa esiintyvät tasot voivat olla projektissa määriteltyjä ei kartalla esiintyviä.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Suorita\",\n          info: \"Informaatio\",\n          delete: \"Poista\",\n          edit: \"Muokkaa\"\n        },\n        messages: {\n          changed: 'Tallennettu',\n          number_of_features: \"Ominaisuuksien lukumäärä\"\n        },\n        panel: {\n          button: {\n            all: 'KAIKKI',\n            save: 'TALLENNA',\n            test: 'TESTI',\n            clear: 'TYHJENNÄ',\n            run: 'SUORITA',\n            manual: 'MANUAALINEN'\n          },\n          layers: 'TASOT',\n          fields: 'KENTÄT',\n          values: 'ARVOT',\n          operators: 'OPERAATTORIT',\n          expression: 'LAUSEKE'\n        },\n        error_run: 'Tapahtui virhe. Tarkista kysely.',\n        error_test: \"Kyselyä suorittaessa tapahtui virhe.\",\n        delete: 'Haluatko poistaa sen?',\n        additem: 'Anna nimi uudelle haulle.'\n      },\n      errors: {\n        layers: {\n          load: \"Jotkin tasot eivät ole saatavilla.\"\n        },\n        unsupported_format: 'Ei tuettu formaatti',\n        add_external_layer: 'Tason latausvirhe'\n      },\n      metadata: {\n        title: 'Metatiedot',\n        groups: {\n          general: {\n            title: 'YLEINEN',\n            fields: {\n              title: 'OTSIKKO',\n              name: 'NIMI',\n              description: \"KUVAUS\",\n              abstract: \"TIIVISTELMÄ\",\n              keywords: 'AVAINSANAT',\n              fees: \"MAKSUT\",\n              accessconstraints: \"PÄÄSYRAJOITUKSET\",\n              contactinformation: \"YHTEYSTIEDOT\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Sähköposti\",\n                  personprimary: 'Viitteet',\n                  contactvoicetelephone: 'Puhelin',\n                  contactorganization: 'Organisaatio',\n                  ContactOrganization: 'Organisaatio',\n                  contactposition: 'Asema',\n                  ContactPosition: 'Asema',\n                  contactperson: 'Yhteyshenkilö',\n                  ContactPerson: 'Yhteyshenkilö'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'TASOT',\n            fields: {\n              layers: 'TASOT',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"OTSIKKO\",\n                name: 'NIMI',\n                geometrytype: 'GEOMETRIA',\n                source: 'LÄHDE',\n                attributes: 'ATTRIBUUTIT',\n                abstract: 'TIIVISTELMÄ',\n                attribution: 'ATTRIBUUTIO',\n                keywords: \"AVAINSANAT\",\n                metadataurl: 'METATIEDON URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'YLEINEN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Rivinäkymä\",\n          row_to_form: \"Taulukkonäkymä\"\n        },\n        copy_map_extent_url: 'Kopioi kartan katselulinkki',\n        download_shapefile: \"Lataa SHP-tiedosto\",\n        download_gpx: \"Lataa GPX-tiedosto\",\n        download_gpkg: \"Lataa GPKG-tiedosto\",\n        download_csv: \"Lataa CSV-tiedosto\",\n        download_xls: \"Lataa XLS-tiedosto\",\n        show_chart: \"Näytä kaavio\",\n        atlas: \"Tulosta Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Kyselytaso',\n          actions: {\n            add_selection: {\n              hint: 'Lisää/Poista valinta'\n            },\n            zoom_to_features_extent: {\n              hint: \"Tarkenna ominaisuuden laajuuteen\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Tarkenna ominaisuuteen\"\n            },\n            relations: {\n              hint: \"Näytä relaatiot\"\n            },\n            relations_charts: {\n              hint: \"Näytä relaatiokaavio\"\n            },\n            download_features_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_features_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_features_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_features_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_features_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            download_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            atlas: {\n              hint: \"Tulosta Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Kysely monikulmiolla',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Kysely monikulmiolla',\n            message: \"\\n                <ul>\\n                  <li>Valitse monikulmiotaso luettelosta.</li>\\n                  <li>Tarkista, ett\\xE4 taso on n\\xE4kyvill\\xE4.</li>\\n                  <li>Valitse ominaisuus valitulla tasolla.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Kysely piirtopolygonin mukaan\"\n        },\n        querybybbox: {\n          tooltip: 'Tasoon kohdituva BBox-kysely',\n          nolayers_visible: 'Ei kyseltäviä tasoja näkyvillä. Aseta vähintään yksi WFS-taso näkyväksi suorittaaksesi haun.',\n          help: {\n            title: 'Ohje - Tasoon kohdistuva BBox-kysely',\n            message: \"\\n                 <ul>\\n                  <li>Piirr\\xE4 suorakulmio kartalle suorittaaksesi kyselyn luettelossa alleviivatuille tasoille.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lisää taso'\n        },\n        geolocation: {\n          tooltip: 'Maantieteellinen sijainti'\n        },\n        measures: {\n          length: {\n            tooltip: \"Pituus\",\n            help: \"Piirrä murtoviiva kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          },\n          area: {\n            tooltip: \"Alue\",\n            help: \"Piirrä monikulmio kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Väärä mittakaava\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relaation tiedot',\n        no_relations_found: 'Relaatiota ei löytynyt.',\n        back_to_relations: 'Takaisin relaatioihin',\n        list_of_relations_feature: 'Lista ominaisuuden relaatioista',\n        error_missing_father_field: \"Kenttä puuttu\"\n      },\n      workflow: {\n        steps: {\n          title: 'Vaiheet'\n        },\n        next: \"Seuraava\"\n      },\n      form: {\n        loading: 'Ladataan...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Ominaisuuksia ei valiitu. Tarkista, että taso on muokattavissa tai näkyvissä nykyisellä mittakaavalla.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Valitse arvo karttatasolta\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Kenttä toisensa poissulkeva.\",\n          input_validation_error: \"Pakollinen kenttä tai väärä tietotyyppi.\",\n          input_validation_min_field: \"Arvon tulee olla suurempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_max_field: \"Arvon tulee olla pienempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_exclude_values: \"Arvon tulee olla uniikki.\",\n          integer: \"kokonaisluku\",\n          bigint: \"kokonaisluku\",\n          text: \"teksti\",\n          varchar: \"teksti\",\n          textarea: \"teksti\",\n          string: \"merkkijono\",\n          date: \"päiväys\",\n          float: \"liukuluku\",\n          table: \"taulukko\"\n        },\n        footer: {\n          \"required_fields\": \"Vaaditut kentät\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Käytä relaatioiden määrittämiseen tähän tarkoitettua toimintoa\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Paina tästä kopioidaksesi url:n.\",\n            copied: \"Kopioitu.\"\n          },\n          download: {\n            shp: 'Lataa SHP-tiedosto',\n            gpx: 'Lataa GPX-tiedosto',\n            gpkg: 'Lataa GPKG-tiedosto',\n            csv: 'Lataa CSV-tiedosto',\n            xls: 'Lataa XLS-tiedosto',\n            geotiff: 'Lataa GEOTIFF-tiedosto',\n            geotiff_map_extent: \"Lataa GEOTIFF-tiedosto(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista prosesseista\",\n        tooltip: 'Valitse kartalta'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Sovellus perustuu OS framework\",\n      g3wSuiteDescription: \"Julkaise ja hallinnoi QGIS-projekteja verkossa.\",\n      productOf: \"Frameworkin on kehittänyt\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Kirjaudu ulos\",\n    no_other_projects: \"Ei projekteja tälle ryhmälle\",\n    yes: \"Kyllä\",\n    no: \"Ei\",\n    back: \"Palaa\",\n    backto: \"Takaisin \",\n    changemap: \"Vaihda karttaa\",\n    component: \"Yleinen komponentti\",\n    search: \"Hae\",\n    no_results: \"Ei hakutuloksia\",\n    print: \"Tulosta\",\n    create_print: \"Luo tuloste\",\n    dosearch: \"Hae\",\n    catalog: \"Kartta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Taustakartta\",\n    tools: \"Työkalut\",\n    tree: \"Tasot\",\n    legend: \"Merkintöjen selite\",\n    nobaselayer: \"Ei taustakarttaa\",\n    street_search: \"Hae osoite\",\n    show: \"Näytä\",\n    hide: \"Piilota\",\n    copy_form_data: \"Kopioi tiedot\",\n    paste_form_data: \"Liitä\",\n    copy_form_data_from_feature: \"Kopioi tiedot kartalta\",\n    error_map_loading: \"Virhe ladattessa karttaa\",\n    check_internet_connection_or_server_admin: \"Tarkista internetyhteys tai ota yhteyttä ylläpitäjään.\",\n    could_not_load_vector_layers: \"Yhteysvirhe, tasoja ei voida ladata.\",\n    server_saver_error: \"Virhe tallentaessa palvelimelle.\",\n    server_error: \"Yhteysvirhe palvelimeen\",\n    save: \"Tallenna\",\n    cancel: \"Peruuta\",\n    close: \"Sulje\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lisää\",\n    exitnosave: \"Poistu tallentamatta\",\n    annul: \"Peruuta\",\n    layer_is_added: \"Samanniminen taso on jo lisätty.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Taso on jo lisätty.\",\n        url_already_added: \"WMS URL  on jo lisätty.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Tulokset\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Avaa liitetiedosto\",\n      server_error: \"Palvelimella tapahtui virhe.\",\n      no_results: \"Ei tuloksia haulle/kyselylle.\",\n      link_button: \"Avaa\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Sijaintiasi ei saada\"\n      },\n      nominatim: {\n        placeholder: \"Osoite ...\",\n        noresults: \"Ei tuloksia\",\n        notresponseserver: \"Ei vastausta palvelimelta\"\n      },\n      add_layer_control: {\n        header: \"Lisää taso\",\n        select_projection: \"Valitse tason projektio\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Valitse tason väri\",\n        drag_layer: \"Vedä ja pudota taso tähän\"\n      },\n      query: {\n        input_relation: \"Paina näyttääksesi relaatiot\"\n      },\n      length: {\n        tooltip: \"Pituus\"\n      },\n      area: {\n        tooltip: \"Pinta-ala\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Napsauta hiiren kakkospainikkeella yksittäistä tasoa päästäksesi lisäominaisuuksiin.\",\n      contextmenu: {\n        zoomtolayer: \"Tarkenna tasoon\",\n        open_attribute_table: \"Avaa attribuuttitaulu\",\n        show_metadata: \"Metatiedot\",\n        styles: \"Tyylejä\",\n        vector_color_menu: \"Aseta/muuta väriä\",\n        layer_opacity: \"Peittävyys\"\n      }\n    },\n    dataTable: {\n      previous: \"Edellinen\",\n      next: \"Seuraava\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Ei tietoja\",\n      nodatafilterd: \"Vastaavia tietueita ei löytynyt\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],328:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Ce site utilise des cookies pour assurer une bonne convivialité pour l'utilisateur final.\",\n      buttonText: \"J’ai compris !\"\n    },\n    default: \"par défaut \",\n    sign_in: \"Se connecter \",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Ajout/Suppression de filtre \",\n        nofilter: \"Supprimer le filtre \",\n        invert: \"Sélection inversée \",\n        clear: \"Effacer la sélection \",\n        show_features_on_map: \"Afficher les caractéristiques visibles sur la carte\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Sélectionnez Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Signets spatiaux\",\n        helptext: \"Déplacez-vous sur l'étendue de la carte, insérez le nom et cliquez sur Ajouter\",\n        input: {\n          name: \"Nom\"\n        },\n        sections: {\n          project: {\n            title: \"Signets du projet\"\n          },\n          user: {\n            title: \"Signets de l'utilisateur\"\n          }\n        }\n      },\n      search: {\n        all: 'TOUTES',\n        no_results: \"Aucune valeur trouvée\",\n        searching: \"Je cherche...\",\n        error_loading: \"Erreur de chargement des valeurs\",\n        layer_not_searchable: \"Le layer n’est pas recherchable\",\n        layer_not_querable: \"Le layer n'est pas interrogeable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Tapez au moins\",\n            post: \"caractères\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Aucune layer visible',\n        scale: \"Échelle\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Télécharger l'image\",\n        fids_instruction: \"Valeurs acceptées : de 1 à la valeur maximale indiquée par [max]. Il est également possible d'indiquer une fourchette de valeurs, par exemple 4-6\",\n        fids_example: \"Par exemple 1,4-6 les ids 1,4,5,6 seront imprimés\",\n        help: \"Les layers montrés dans l'impression peuvent être ceux définis dans le projet et non ceux montrés sur la carte\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancer la recherche\",\n          info: \"Information\",\n          delete: \"Supprimer\",\n          edit: \"Editer\"\n        },\n        messages: {\n          changed: 'Enregistré correctement',\n          number_of_features: \"Nombre de fonctionnalités\"\n        },\n        panel: {\n          button: {\n            all: 'TOUTES',\n            save: 'SAUVEGARDER',\n            test: 'TESTER',\n            clear: 'NETTOYER',\n            run: 'EXECUTER',\n            manual: 'MANUEL'\n          },\n          layers: 'LAYERS',\n          fields: 'CHAMPS',\n          values: 'VALEURS',\n          operators: 'OPERATEURS',\n          expression: 'EXPRESSION'\n        },\n        error_run: \"Une erreur s'est produite. Vérifiez si la requête est correcte\",\n        error_test: \"Erreur d'exécution de la requête\",\n        delete: 'Voulez-vous confirmer la suppression ?',\n        additem: 'Entrer le nom de la requête'\n      },\n      errors: {\n        layers: {\n          load: \"Certaines layers du projet ne sont pas disponibles actuellement et n'apparaissent donc pas dans la vue actuelle\"\n        },\n        unsupported_format: 'Format non supporté',\n        add_external_layer: 'Erreur lors du chargement du layer'\n      },\n      metadata: {\n        title: \"Métadonnées\",\n        groups: {\n          general: {\n            title: 'GÉNÉRAL',\n            fields: {\n              title: 'TITRE',\n              name: 'NOM',\n              description: \"DESCRIPTION\",\n              abstract: \"ABREGE\",\n              keywords: 'LISTE DE MOTS-CLÉS',\n              fees: \"DROITS D'INSCRIPTION\",\n              accessconstraints: \"CONTRAINTES D'ACCÈS\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Références',\n                  contactvoicetelephone: 'Téléphone',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Localisation',\n                  ContactPosition: 'Localisation',\n                  contactperson: 'Personne',\n                  ContactPerson: 'Personne'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO ESPACE',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATES',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO ESPACE'\n            },\n            fields: {\n              layers: 'STRATES',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITRE\",\n                name: 'NOM',\n                geometrytype: 'GÉOMÉTRIE',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABRÉGÉ',\n                attribution: 'ATTRIBUTION',\n                keywords: \"MOTS- CLÉS\",\n                metadataurl: 'URL DE MÉTADONNÉES',\n                dataurl: \"URL DES DONNÉES\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Afficher le format de la ligne\",\n          row_to_form: \"Format du formulaire d'affichage\"\n        },\n        zoom_to_features_extent: \"Zoom sur les fonctionnalités\",\n        copy_map_extent_url: 'Copier le lien de visualisation de la carte',\n        download_shapefile: \"Télécharger le fichier Shapefile\",\n        download_gpx: \"Télécharger GPX\",\n        download_gpkg: \"Télécharger GPKG\",\n        download_csv: \"Télécharger CSV\",\n        download_xls: \"Télécharger XLS\",\n        show_chart: \"Montrer graphique\",\n        atlas: \"Imprimer l'Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interrogation layer',\n          actions: {\n            add_selection: {\n              hint: \"Ajouter/supprimer une sélection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            add_features_to_results: {\n              hint: \"Ajouter des fonctionnalités aux résultats\"\n            },\n            remove_feature_from_results: {\n              hint: \"Supprimer la fonctionnalité des résultats\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            relations: {\n              hint: \"Voir les relations\"\n            },\n            relations_charts: {\n              hint: \"Voir les graphiques de relations\"\n            },\n            download_features_shapefile: {\n              hint: 'Télécharger les fonctionnalités vers Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Télécharger le Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Télécharger les fonctionnalités vers GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Télécharger les fonctionnalités vers GPKG\"\n            },\n            download_gpx: {\n              hint: \"Télécharger le GPX\"\n            },\n            download_gpkg: {\n              hint: \"Télécharger le GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Télécharger les fonctionnalités vers CSV\"\n            },\n            download_csv: {\n              hint: \"Télécharger le CSV\"\n            },\n            download_features_xls: {\n              hint: \"Télécharger les fonctionnalités vers XLS\"\n            },\n            download_xls: {\n              hint: \"Télécharger le XLS\"\n            },\n            atlas: {\n              hint: \"Imprimer l'Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copier l'URL de la carte avec l'extension vers cette géométrie\",\n              hint_change: \"Copié\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Téléchargement des attributs\",\n            choiches: {\n              feature: {\n                label: \"Fonctionnalités seulement\"\n              },\n              feature_polygon: {\n                label: \"Fonctionnalités+Requête Polygon \"\n              }\n            }\n          },\n          tooltip: 'Requête par polygone',\n          no_geometry: 'La réponse ne contient pas de géométrie',\n          help: {\n            title: 'Aide - Requête par polygone',\n            message: \"\\n                <ul>\\n                  <li>S\\xE9lectionnez un layer de polygone dans la l\\xE9gende.</li>\\n                  <li>V\\xE9rifiez que le layer est visible dans la carte.</li>\\n                  <li>Cliquez sur une g\\xE9om\\xE9trie du layer s\\xE9lectionn\\xE9.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Requête par polygone de dessin\"\n        },\n        querybybbox: {\n          tooltip: 'Requête pour BBOX',\n          nolayers_visible: \"Aucun layer requêtable n'est visible. Assurez-vous qu'au moins un layer wfs est visible pour exécuter la requête\",\n          help: {\n            title: 'Aide - Requête BBox',\n            message: \"\\n                  <ul>\\n                    <li>Dessinez un rectangle pour interroger les couches surlign\\xE9es en jaune</li>\\n                 </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Le résultat de la carte est partiel en raison de la présence des enregistrements incorrects suivants :\"\n            }\n          },\n          tooltip: 'Ajouter un layer'\n        },\n        geolocation: {\n          tooltip: 'Géolocalisation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Longueur\",\n            help: \"Cliquez sur la carte pour continuer à dessiner la ligne.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          },\n          area: {\n            tooltip: \"Zone\",\n            help: \"Cliquez pour continuer à dessiner le polygone.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Échelle invalide\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Données relationnelles',\n        no_relations_found: 'Aucune relation trouvée',\n        back_to_relations: 'Retour aux relations',\n        list_of_relations_feature: 'Liste des relations entre les caractéristiques',\n        error_missing_father_field: \"Le champ concerné n'existe pas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Étapes'\n        },\n        next: 'Suivant'\n      },\n      form: {\n        loading: 'Chargement...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Aucune fonction sélectionnée. Vérifier si le layer est en édition ou non visible à l'échelle actuelle\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Obtenir la valeur de la carte\",\n            lonlat: \"Cliquez sur la carte pour obtenir les coordonnées\"\n          },\n          input_validation_mutually_exclusive: \"Champ mutuellement exclusif avec \",\n          input_validation_error: \"Champ obligatoire ou type de valeur incorrect\",\n          input_validation_min_field: \"La valeur doit être supérieure ou égale au camp \",\n          input_validation_max_field: \"La valeur doit être inférieure ou égale au champ \",\n          input_validation_exclude_values: \"Le champ doit contenir une valeur différente\",\n          integer: \"entier\",\n          bigint: \"entier\",\n          text: \"textuel\",\n          varchar: \"textuel\",\n          textarea: \"textuel\",\n          string: \"chaîne\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Champs obligatoires\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gérer les relations via un formulaire dédié\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"SÉLECTIONNEZ LE THÈME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Cliquez ici pour copier l'url\",\n            copied: \"Copié\"\n          },\n          download: {\n            shp: 'Télécharger Shapefile',\n            gpx: 'Télécharger GPX',\n            gpkg: 'Télécharger GPKG',\n            csv: 'Télécharger CSV',\n            xls: 'Télécharger XLS',\n            geotiff: 'Télécharger GEOTIFF',\n            geotiff_map_extent: \"Télécharger GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste des processus\",\n        tooltip: 'Cliquez sur la carte'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application construite avec le framework OS\",\n      g3wSuiteDescription: \"Publiez et gérez vos projets QGIS sur le Web\",\n      productOf: \"Framework développé par\"\n    },\n    logout: \"Quitter\",\n    no_other_projects: \"Il n'y a pas d'autres projets dans ce groupe de cartes\",\n    yes: \"Oui\",\n    no: \"No\",\n    back: \"Retour\",\n    backto: \"Retour à \",\n    changemap: \"Changer de carte\",\n    component: \"Composant générique\",\n    search: \"Recherches\",\n    no_results: \"Aucun résultat trouvé\",\n    print: \"Imprimer\",\n    create_print: \"Créer une impression\",\n    dosearch: \"Recherche\",\n    catalog: \"Carte\",\n    data: \"Données\",\n    externalwms: \"WMS\",\n    baselayers: \"Bases\",\n    tools: \"Outils\",\n    tree: \"Strates\",\n    legend: \"Légende\",\n    nobaselayer: \"Pas de carte de base\",\n    street_search: \"Adresse de recherche\",\n    show: \"Afficher\",\n    hide: \"Cacher\",\n    copy_form_data: \"Copier les données du formulaire\",\n    paste_form_data: \"Coller\",\n    copy_form_data_from_feature: \"Copier les données de la carte\",\n    error_map_loading: \"Erreur de chargement de la nouvelle carte\",\n    check_internet_connection_or_server_admin: \"Vérifiez la connexion internet ou contactez l'administrateur\",\n    could_not_load_vector_layers: \"Erreur de connexion au serveur : il n'a pas été possible de charger les vecteurs demandés\",\n    server_saver_error: \"Erreur de sauvegarde sur le serveur\",\n    server_error: \"Une erreur s'est produite dans la requête au serveur\",\n    save: \"Sauvegarder\",\n    cancel: \"Supprimer\",\n    close: \"Fermer\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Ajouter\",\n    exitnosave: \"Quitter sans sauvegarder\",\n    annul: \"Annuler\",\n    layer_is_added: \"Layer avec le même nom déjà ajouté\",\n    wms_layer_id_already_added: \"WMS Layer déjà ajouté\",\n    wms_url_already_added: \"WMS URL déjà ajouté\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Résultats\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Ouvrir le document joint\",\n      server_error: \"Une erreur s'est produite dans la requête au serveur\",\n      no_results: \"Aucun résultat pour cette requête/recherche\",\n      link_button: \"Ouvrir\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Votre position ne peut être calculée.\"\n      },\n      nominatim: {\n        placeholder: \"Adresse ...\",\n        noresults: \"Aucun résultat\",\n        notresponseserver: \"Le serveur ne répond pas\"\n      },\n      add_layer_control: {\n        header: \"Ajouter un layer\",\n        select_projection: \"Sélectionnez le système de projection de couches\",\n        select_field_to_show: \"Sélectionnez le champ à afficher sur la carte\",\n        select_csv_separator: \"Sélectionner le séparateur\",\n        select_csv_x_field: \"Sélectionnez le champ X\",\n        select_csv_y_field: \"Sélectionnez le champ Y\",\n        select_color: \"Sélectionnez la couleur du layer\",\n        drag_layer: \"Faire glisser le layer vers cette zone\"\n      },\n      query: {\n        input_relation: \"Cliquez pour voir les relations\"\n      },\n      length: {\n        tooltip: \"Longueur\"\n      },\n      area: {\n        tooltip: \"Zone\"\n      },\n      screenshot: {\n        error: \"Erreur de création de la capture d'écran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Cliquez avec le bouton droit de la souris sur les différents layers pour accéder à des fonctionnalités supplémentaires\",\n      contextmenu: {\n        zoomtolayer: \"Zoom sur le layer\",\n        open_attribute_table: \"Table d'attributs ouverte\",\n        show_metadata: \"Métadonnées\",\n        styles: \"Styles\",\n        vector_color_menu: \"Définir/changer la couleur\",\n        layer_opacity: \"Opacité\"\n      }\n    },\n    dataTable: {\n      previous: \"Précédent\",\n      next: \"Suivant\",\n      lengthMenu: \"Afficher _MENU_\",\n      info: \"Afficher _START_ à _END_ sur _TOTAL_ lignes\",\n      nodatafilterd: \"Aucun résultat trouvé\",\n      infoFiltered: \"(Filtré par _MAX_ rangs totaux)\"\n    }\n  }\n};\n\n},{}],329:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = require('./it');\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _en = require('./en');\n\nvar _en2 = _interopRequireDefault(_en);\n\nvar _fi = require('./fi');\n\nvar _fi2 = _interopRequireDefault(_fi);\n\nvar _se = require('./se');\n\nvar _se2 = _interopRequireDefault(_se);\n\nvar _fr = require('./fr');\n\nvar _fr2 = _interopRequireDefault(_fr);\n\nvar _de = require('./de');\n\nvar _de2 = _interopRequireDefault(_de);\n\nvar _ro = require('./ro');\n\nvar _ro2 = _interopRequireDefault(_ro);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar translations = {\n  it: _it2.default,\n  en: _en2.default,\n  fi: _fi2.default,\n  se: _se2.default,\n  fr: _fr2.default,\n  de: _de2.default,\n  ro: _ro2.default\n};\n\nexports.default = translations;\n\n},{\"./de\":325,\"./en\":326,\"./fi\":327,\"./fr\":328,\"./it\":330,\"./ro\":331,\"./se\":332}],330:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Questo sito utilizza i cookie per garantire una buona usabilità all'utilizzatore finale.\",\n      buttonText: \"Ho capito!\"\n    },\n    default: \"predefinito\",\n    sign_in: \"Accedi\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Aggiungi/Rimuovi Filtro\",\n        nofilter: \"Rimuovi filtro\",\n        invert: \"Inverti Selezione\",\n        clear: \"Annulla selezione\",\n        show_features_on_map: \"Mostra features visibili su mappa\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formato non supportato\"\n    },\n    layer_position: {\n      top: 'SOPRA',\n      bottom: 'IN FONDO',\n      message: \"Posizione rispetto ai layers della TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Seleziona Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Segnalibri Spaziali\",\n        helptext: \"Posizionati all'estensione del tuo nuovo segnalibro, definisci il nome e clicca Aggiungi\",\n        input: {\n          name: \"Nome\"\n        },\n        sections: {\n          project: {\n            title: \"Segnalibri Progetto\"\n          },\n          user: {\n            title: \"Segnalibri Utente\"\n          }\n        }\n      },\n      search: {\n        all: 'TUTTE',\n        no_results: \"Nessun valore trovato\",\n        searching: \"Sto cercando ..\",\n        error_loading: \"Errore nel caricamento valori\",\n        layer_not_searchable: \"Il layer non è ricercabile\",\n        layer_not_querable: \"Il layer non è interrogabile\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Digita almeno\",\n            post: \"caratteri\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nessun Layer visibile',\n        template: \"Template\",\n        labels: \"Etichette\",\n        scale: \"Scala\",\n        format: \"Formato\",\n        rotation: \"Rotazione\",\n        download_image: \"Scarica Immagine\",\n        fids_instruction: \"Valori accettati: da 1 al valore massimo indicato da [max]. Possibile indicare anche range di valori es. 4-6\",\n        fids_example: \"Es. 1,4-6 verranno stampati gli id 1,4,5,6\",\n        help: \"I layers mostrati nella stampa potrebbero essere quelli definiti sul progetto e non quelli visualizzati sulla mappa\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancia ricerca\",\n          info: \"Informazioni\",\n          delete: \"Cancella\",\n          edit: \"Modifica\"\n        },\n        messages: {\n          changed: 'Salvato correttamente',\n          number_of_features: \"Numero di features\"\n        },\n        panel: {\n          button: {\n            all: 'TUTTI',\n            save: 'SALVA',\n            test: 'TEST',\n            clear: 'PULISCI',\n            run: 'ESEGUI',\n            manual: 'MANUALE'\n          },\n          layers: 'LAYERS',\n          fields: 'CAMPI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'ESPRESSIONE'\n        },\n        error_run: 'Si è verificato un errore. Verificare se la query è corretta',\n        error_test: \"Errore nell'esecuzione della query\",\n        delete: 'Vuoi confermare la cancellazione?',\n        additem: 'Inserisci nome della ricerca'\n      },\n      errors: {\n        layers: {\n          load: \"Alcuni layers presenti nel progetto non sono attualmente disponibili e quindi non compaiono nell'attuale visualizzazione\"\n        },\n        unsupported_format: 'Formato non supportato',\n        add_external_layer: 'Errore nel caricamento del layer'\n      },\n      metadata: {\n        title: \"Metadati\",\n        groups: {\n          general: {\n            title: 'GENERALE',\n            fields: {\n              title: 'TITOLO',\n              name: 'NOME',\n              description: \"DESCRIZIONE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'LISTA DELLE PAROLE CHIAVE',\n              fees: \"CANONI\",\n              accessconstraints: \"VINCOLI DI ACCESSO\",\n              contactinformation: \"CONTATTI\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Riferimenti',\n                  contactvoicetelephone: 'Telefono',\n                  contactorganization: 'Organizzazione',\n                  ContactOrganization: 'Organizzazione',\n                  contactposition: 'Posizione',\n                  ContactPosition: 'Posizione',\n                  contactperson: 'Persona',\n                  ContactPerson: 'Persona'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO SPAZIALI',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATI',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO SPAZIALI'\n            },\n            fields: {\n              layers: 'STRATI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITOLO\",\n                name: 'NOME',\n                geometrytype: 'GEOMETRIA',\n                source: 'SORGENTE',\n                attributes: 'ATTRIBUTI',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Visualizza formato Riga\",\n          row_to_form: \"Visualizza formato Form\"\n        },\n        zoom_to_features_extent: \"Zoom sulle features\",\n        copy_map_extent_url: 'Copia map view link',\n        download_shapefile: \"Scarica Shapefile\",\n        download_gpx: \"Scarica GPX\",\n        download_gpkg: \"Scarica GPKG\",\n        download_csv: \"Scarica CSV\",\n        download_xls: \"Scarica XLS\",\n        show_chart: \"Mostra Grafico\",\n        atlas: \"Stampa Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interroga Layer',\n          actions: {\n            add_selection: {\n              hint: \"Aggiungi/Rimuovi Selezione\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sulle features\"\n            },\n            add_features_to_results: {\n              hint: \"Aggiungi features ai risultati\"\n            },\n            remove_feature_from_results: {\n              hint: \"Rimuovi feature dai risultati\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sulla feature\"\n            },\n            relations: {\n              hint: \"Visualizza Relazioni\"\n            },\n            relations_charts: {\n              hint: \"Visualizza grafici relazioni\"\n            },\n            download_features_shapefile: {\n              hint: 'Scarica features in Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Scarica feature in Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Scarica features in GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Scarica features in GPKG\"\n            },\n            download_gpx: {\n              hint: \"Scarica feature in GPX\"\n            },\n            download_gpkg: {\n              hint: \"Scarica feature in GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Scarica features in CSV\"\n            },\n            download_csv: {\n              hint: \"Scarica feature in CSV\"\n            },\n            download_features_xls: {\n              hint: \"Scarica features in XLS\"\n            },\n            download_xls: {\n              hint: \"Scarica la feature in XLS\"\n            },\n            atlas: {\n              hint: \"Stampa Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copia URL mappa con estensione a questa geometria\",\n              hint_change: \"Copiato\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Download attributi\",\n            choiches: {\n              feature: {\n                label: \"Solo features\"\n              },\n              feature_polygon: {\n                label: \"Features+Poligono Interrogazione\"\n              }\n            }\n          },\n          tooltip: 'Interroga per poligono',\n          no_geometry: 'Non contiene la geometria nella risposta',\n          help: {\n            title: 'Guida - Interrogazione con Poligono',\n            message: \"\\n                <ul>\\n                  <li>Seleziona uno strato poligonale in legenda.</li>\\n                  <li>Assicurati che lo strato sia visibile in mappa.</li>\\n                  <li>Clicca su una geometria dello strato selezionato.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Disegna un poligono per interrogare\"\n        },\n        querybybbox: {\n          tooltip: 'Interroga per BBOX',\n          nolayers_visible: \"Nessun layer interrogabile è visibile. Assicurarsi che almeno un layer wfs sia visibile per eseguire l'interrogazione\",\n          help: {\n            title: 'Guida - Interrogazione BBox',\n            message: \"\\n                  <ul>\\n                    <li>Disegna un rettangolo per interrogare gli strati evidenziati in giallo</li>\\n                  </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Il risultato in mappa è parziale a causa della presenza dei seguenti records non corretti:\"\n            }\n          },\n          tooltip: 'Aggiungi Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizzazione'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lunghezza\",\n            help: \"Clicca sulla mappa per continuare a disegnare la linea.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Clicca per continuare a disegnare il poligono.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scala non valida\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Miglio Nautico'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Dati Relazione',\n        no_relations_found: 'Nessuna relazione trovata',\n        back_to_relations: 'Ritorna alle relazioni',\n        list_of_relations_feature: 'Lista delle relazioni della feature',\n        error_missing_father_field: \"Il campo relazionato non esiste\"\n      },\n      workflow: {\n        steps: {\n          title: 'Passi'\n        },\n        next: 'Avanti'\n      },\n      form: {\n        loading: 'Caricamento ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nessuna feature selezionata. Verificare se il layer è in editing o non visibile alla scala attuale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Prendi valore dalla mappa\",\n            lonlat: \"Clicca sulla mappa per prendere le coordinate\"\n          },\n          input_validation_mutually_exclusive: \"Campo mutualmente esclusivo con \",\n          input_validation_error: \"Campo obbligatorio o tipo valore non corretto\",\n          input_validation_min_field: \"Valore deve essere magiore uguale a quello del camp \",\n          input_validation_max_field: \"Valore deve essere minore uguale a quello del campo \",\n          input_validation_exclude_values: \"Campo deve contenere un valore diverso\",\n          integer: \"intero\",\n          bigint: \"intero\",\n          text: \"testuale\",\n          varchar: \"testuale\",\n          textarea: \"testuale\",\n          string: \"stringa\",\n          date: \"data\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Campi obbligatori\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gestisci le relazioni tramite form dedicato\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"SCEGLI TEMA\",\n        menu: {\n          layerposition: 'Posizione Layer',\n          setwmsopacity: \"Cambia opacità\",\n          wms: {\n            title: \"\",\n            copy: \"Clicca qui per copiare url\",\n            copied: \"Copiato\"\n          },\n          download: {\n            shp: 'Scarica Shapefile',\n            gpx: 'Scarica GPX',\n            gpkg: 'Scarica GPKG',\n            csv: 'Scarica CSV',\n            xls: 'Scarica XLS',\n            geotiff: \"Scarica GEOTIFF\",\n            geotiff_map_extent: \"Scarica GEOTIFF(estensione vista corrente)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista dei processi\",\n        tooltip: 'Clicca sulla mappa'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applicativo realizzato con il framework OS\",\n      g3wSuiteDescription: \"Pubblica e gestisci i tuoi progetti QGIS sul Web\",\n      productOf: \"Framework sviluppato da\"\n    },\n    toggle_color_scheme: \"Cambia colore\",\n    logout: \"Esci\",\n    no_other_projects: \"Non ci sono altri progetti in questo gruppo cartografico\",\n    yes: \"Si\",\n    no: \"No\",\n    back: \"Indietro\",\n    backto: \"Torna a \",\n    changemap: \"Cambia Mappa\",\n    component: \"Componente Generico\",\n    search: \"Ricerche\",\n    no_results: \"Nessun risultato trovato\",\n    print: \"Stampa\",\n    create_print: \"Crea Stampa\",\n    dosearch: \"Cerca\",\n    catalog: \"Mappa\",\n    data: \"Dati\",\n    externalwms: \"WMS\",\n    baselayers: \"Basi\",\n    tools: \"Strumenti\",\n    tree: \"Strati\",\n    legend: \"Legenda\",\n    nobaselayer: \"Nessuna mappa di base\",\n    street_search: \"Cerca indirizzo\",\n    show: \"Mostra\",\n    hide: \"Nascondi\",\n    copy_form_data: \"Copia i dati del modulo\",\n    paste_form_data: \"Incolla\",\n    copy_form_data_from_feature: \"Copia i dati dalla mappa\",\n    error_map_loading: \"Errore di caricamento della nuova mappa\",\n    check_internet_connection_or_server_admin: \"Controllare la connessione internet o contattare l'amministratore\",\n    could_not_load_vector_layers: \"Errore di connessione al server: non è stato possibile caricare i vettoriali richiesti\",\n    server_saver_error: \"Errore nel salvataggio sul server\",\n    server_error: \"Si è verificato un errore nella richiesta al server\",\n    save: \"Salva\",\n    cancel: \"Cancella\",\n    close: \"Chiudi\",\n    enlange_reduce: \"Allarga/Riduci\",\n    reset_default: \"Dimensione Partenza\",\n    add: \"Aggiungi\",\n    exitnosave: \"Esci senza salvare\",\n    annul: \"Annulla\",\n    layer_is_added: \"Layer con stesso nome già aggiunto\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Aggiungi WMS Layer',\n          label: {\n            position: \"Posizione su Mappa\",\n            name: \"Nome\",\n            projections: 'Sistema di riferimento',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Elimina WMS url\",\n        layer_id_already_added: \"WMS Layer già aggiunto\",\n        url_already_added: \"WMS URL già aggiunto\",\n        layer_add_error: \"WMS Layer non aggiunto. Verificare i parametri o l'url\"\n      }\n    },\n    info: {\n      title: \"Risultati\",\n      list_of_relations: \"Lista delle relazioni\",\n      open_link: \"Apri documento allegato\",\n      server_error: \"Si è verificato un errore nella richiesta al server\",\n      no_results: \"Nessun risultato per questa interrogazione/ricerca \",\n      link_button: \"Apri\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Non è possibile calcolare la tua posizione.\"\n      },\n      nominatim: {\n        placeholder: \"Indirizzo ...\",\n        noresults: \"Nessun risultato\",\n        notresponseserver: \"Il server non risponde\"\n      },\n      add_layer_control: {\n        header: \"Aggiungi Layer\",\n        select_projection: \"Seleziona il sistema di proiezione del layer\",\n        select_field_to_show: \"Seleziona il campo da visualizzare sulla mappa\",\n        select_csv_separator: \"Seleziona il separatore\",\n        select_csv_x_field: \"Seleziona il campo X\",\n        select_csv_y_field: \"Seleziona il campo Y\",\n        select_color: \"Seleziona il colore del Layer\",\n        drag_layer: \"Trascina il layer in questa area\"\n      },\n      query: {\n        input_relation: \"Clicca per consultare le relazioni\"\n      },\n      length: {\n        tooltip: \"Lunghezza\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Errore nella creazione dello screenshot\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Tasto destro sui singoli layer per accedere alle funzionalità aggiuntive\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Apri tabella attributi\",\n        show_metadata: \"Metadati\",\n        styles: \"Stili\",\n        vector_color_menu: \"Setta/Cambia Colore\",\n        layer_opacity: \"Trasparenza\"\n      }\n    },\n    dataTable: {\n      previous: \"Precedente\",\n      next: \"Successivo\",\n      lengthMenu: \"Visualizza _MENU_\",\n      info: \"Visualizzazione _START_ a _END_ su _TOTAL_ righe\",\n      nodatafilterd: \"Nessun risultato trovato\",\n      infoFiltered: \"(Filtrati da _MAX_ total righe)\"\n    }\n  }\n};\n\n},{}],331:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Acest website foloseste cookie-uri pentru a furniza vizitatorilor o experiență mult mai bună de navigare\",\n      buttonText: \"Am înțeles!\"\n    },\n    default: \"Implicit\",\n    sign_in: \"Logare\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Adăugare/Eliminare Filtrare\",\n        nofilter: \"Eliminare Filtrare\",\n        invert: \"Inversare Selecție\",\n        clear: \"Elimină Selecția\",\n        show_features_on_map: \"Arată entitățile vizibile în cadrul hărții\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formatul nu este acceptat\"\n    },\n    layer_position: {\n      top: 'SUS',\n      bottom: 'JOS',\n      message: \"Poziție relativă la straturile din TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Selectați Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Marcaje spațiale\",\n        helptext: \"Deplasați-vă pe întinderea hărții, introduceți numele și faceți clic pe Adăugați\",\n        input: {\n          name: \"Nume\"\n        },\n        sections: {\n          project: {\n            title: \"Marcaje de proiect\"\n          },\n          user: {\n            title: \"Marcaje utilizator\"\n          }\n        }\n      },\n      search: {\n        all: 'Toate',\n        no_results: \"Fără rezultat\",\n        searching: \"Căutare ...\",\n        error_loading: \"Încărcarea a eșuat\",\n        layer_not_searchable: \"Nu se poate căuta pe strat\",\n        layer_not_querable: \"Stratul nu se poate interoga\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Te rog introdu\",\n            post: \"sau mai multe caractere\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nu avem straturi de print',\n        template: \"Șablon\",\n        labels: \"Etichete\",\n        scale: \"Scară\",\n        format: \"Format\",\n        rotation: \"Rotație\",\n        download_image: \"Descarcă Imaginea\",\n        fids_instruction: \"Valori acceptate: de la 1 la valoarea [max]. Este posibilă inserarea de interval, de ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 vor fi tipărite id 1,4,5,6\",\n        help: \"Straturile prezentate în print pot fi acelea definite în proiect și nu acelea prezentate în cadrul hărții\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Execută\",\n          info: \"Info\",\n          delete: \"Elimină\",\n          edit: \"Modifică\"\n        },\n        messages: {\n          changed: 'Salvat',\n          number_of_features: \"Număr de entități\"\n        },\n        panel: {\n          button: {\n            all: 'TOATE',\n            save: 'SALVEAZĂ',\n            test: 'TEST',\n            clear: 'ȘTERGE',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'STRATURI',\n          fields: 'CÂMPURI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'EXPRESII'\n        },\n        error_run: 'A survenit o eroare. De verificat interogarea',\n        error_test: \"A survenit o eroare în timp ce se executa interogarea\",\n        delete: 'Vrei să o ștergi?',\n        additem: 'Introdu numele noii căutări'\n      },\n      errors: {\n        layers: {\n          load: \"Câteva straturi nu sunt disponibile\"\n        },\n        unsupported_format: 'Formatul nu este acceptat',\n        add_external_layer: 'Eroare încărcare strat'\n      },\n      metadata: {\n        title: 'Metadate',\n        groups: {\n          general: {\n            title: 'GENERALITĂȚI',\n            fields: {\n              title: 'TITLU',\n              name: 'NUME',\n              description: \"DESCRIERE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'CUVINTE CHEIE',\n              fees: \"TAXE\",\n              accessconstraints: \"CONSTRÂNGERI DE ACCES\",\n              contactinformation: \"CONTACTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referințe',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organizație',\n                  ContactOrganization: 'Organizație',\n                  contactposition: 'Poziție',\n                  ContactPosition: 'Poziție',\n                  contactperson: 'Persoana',\n                  ContactPerson: 'Persoana'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPAȚIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATURI',\n            fields: {\n              layers: 'STRATURI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLU\",\n                name: 'NUME',\n                geometrytype: 'GEOMETRIE',\n                source: 'SURSA',\n                attributes: 'ATRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUIRE',\n                keywords: \"CUVINTE CHEIE\",\n                metadataurl: 'URL METADATE',\n                dataurl: \"URL DATE\"\n              }\n            },\n            groups: {\n              general: 'GENERALITĂȚI',\n              spatial: 'SPAȚIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Vizualizare pe rânduri\",\n          row_to_form: \"Vizualizare formular\"\n        },\n        copy_map_extent_url: 'Copiază linkul de vizualizare hartă',\n        download_shapefile: \"Descarcă Shapefile\",\n        download_gpx: \"Descarcă GPX\",\n        download_gpkg: \"Descarcă GPKG\",\n        download_csv: \"Descarcă CSV\",\n        download_xls: \"Descarcă XLS\",\n        show_chart: \"Arată Diagrama\",\n        atlas: \"Tipărire Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interogare strat',\n          actions: {\n            add_selection: {\n              hint: \"Adaugă/Elimină Selecția\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom la încadrarea entităților\"\n            },\n            add_features_to_results: {\n              hint: \"Adaugă/Elimină entități rezultat\"\n            },\n            remove_feature_from_results: {\n              hint: \"Elimină entitate din rezultat\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom la entitate\"\n            },\n            relations: {\n              hint: \"Arată Relațiile\"\n            },\n            relations_charts: {\n              hint: \"Arată diagrama de relații\"\n            },\n            download_features_shapefile: {\n              hint: 'Descarcă entități în Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Descarcă entitate în Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Descarcă entități în GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Descarcă entități în GPKG\"\n            },\n            download_gpx: {\n              hint: \"Descarcă entitate în GPX\"\n            },\n            download_gpkg: {\n              hint: \"Descarcă entitate în GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Descarcă entități în CSV\"\n            },\n            download_csv: {\n              hint: \"Descarcă entitate în CSV\"\n            },\n            download_features_xls: {\n              hint: \"Descarcă entități în XLS\"\n            },\n            download_xls: {\n              hint: \"Descarcă entitate în XLS\"\n            },\n            atlas: {\n              hint: \"Tipărire Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copiază URL hartă cu întinderea geometriei entității\",\n              hint_change: \"Copiat\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Descărcare atribute\",\n            choiches: {\n              feature: {\n                label: \"Doar entități\"\n              },\n              feature_polygon: {\n                label: \"Entități+Poligon Interogare\"\n              }\n            }\n          },\n          tooltip: 'Interogare După Poligon',\n          no_geometry: 'Nu avem geometrii în răspuns',\n          help: {\n            title: 'Ghid - Interogare După Poligon',\n            message: \"\\n                <ul>\\n                  <li>Selecteaz\\u0103 un strat poligon din TOC.</li>\\n                  <li>Asigur\\u0103-te c\\u0103 stratul este vizibil.</li>\\n                  <li>Click pe o entitate a stratului selectat.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Interogare prin poligon de desen\"\n        },\n        querybybbox: {\n          tooltip: 'Interogare BBox strat',\n          nolayers_visible: 'Nu este vizibil niciun strat de interogare. Trebuie setat cel puțin un strat WFS vizibil pentru a efectua interogarea',\n          help: {\n            title: 'Ghid - Interogare BBox strat',\n            message: \"\\n                 <ul>\\n                  <li>Deseneaz\\u0103 un p\\u0103trat pe hart\\u0103 pentru a interoga straturile din TOC de sub </li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Rezultateul pe hartă este parțial datorită prezenței următoarei liste de rezultate incorecte:\"\n            }\n          },\n          tooltip: 'Adaugă Strat'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizare'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lungime\",\n            help: \"Click pe hartă pentru a desena linia. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          },\n          area: {\n            tooltip: \"Aria\",\n            help: \"Click pentru desen poligon. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scară Invalidă\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Mile Nautice'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Date Relații',\n        no_relations_found: 'Nu am găsit nicio relație',\n        back_to_relations: 'Înapoi la relații',\n        list_of_relations_feature: 'Lista de relații a entității',\n        error_missing_father_field: \"Câmpul de legătură lipsește\"\n      },\n      workflow: {\n        steps: {\n          title: 'Pași'\n        },\n        next: 'Următorul'\n      },\n      form: {\n        loading: 'Se încarcă ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nu avem entitate selectată. Verifică dacă stratul este în editare sau vizibil la scara curentă if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Ia valoare din strat\",\n            lonlat: \"Click pe hartă pentru a prelua coordonate\"\n          },\n          input_validation_mutually_exclusive: \"Câmp ce se exclude mutual cu \",\n          input_validation_error: \"Câmp mandatoriu sau tip de date greșit\",\n          input_validation_min_field: \"Valoarea trebuie să fie mai mare/egală cu valoare câmpului \",\n          input_validation_max_field: \"Valoarea trebuie să fie mai mică/egală cu valoare câmpului \",\n          input_validation_exclude_values: \"Valoarea trebuie să fie unică\",\n          integer: \"integer - nr. întreg\",\n          bigint: \"integer - nr. întreg\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string - text\",\n          date: \"data\",\n          float: \"float - nr. cu zecimale\",\n          table: \"tabelă\"\n        },\n        footer: {\n          \"required_fields\": \"Câmpuri necesare\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Folosește formular specific de relații pentru a lucra cu relația\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"ALEGE TEMA\",\n        menu: {\n          layerposition: 'Poziție Strat',\n          setwmsopacity: \"Alege Opacitatea\",\n          wms: {\n            title: \"Titlu\",\n            copy: \"Click pentru copiere URL\",\n            copied: \"Copiat\"\n          },\n          download: {\n            shp: 'Descarcă Shapefile',\n            gpx: 'Descarcă GPX',\n            gpkg: 'Descarcă GPKG',\n            csv: 'Descarcă CSV',\n            xls: 'Descarcă XLS',\n            geotiff: \"Descarcă GEOTIFF\",\n            geotiff_map_extent: \"Descarcă GEOTIFF(ce se vede în cadrul hărții)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista de procese\",\n        tooltip: 'Click pe hartă'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Aplicație bazată pe frameworkul\",\n      g3wSuiteDescription: \"Publică și administrează proiectele de QGIS pe WEB\",\n      productOf: \"Framework dezvoltat de\"\n    },\n    toggle_color_scheme: \"Comutare schemă de culori\",\n    logout: \"Deconectare\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Da\",\n    no: \"Nu\",\n    back: \"Înapoi\",\n    backto: \"Înapoi la \",\n    changemap: \"Schimbare Hartă\",\n    component: \"Componentă Generică\",\n    search: \"Căutare\",\n    no_results: \"Niciun rezultat găsit\",\n    print: \"Tipărire\",\n    create_print: \"Tipărește\",\n    dosearch: \"Caută\",\n    catalog: \"Hartă\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Straturi Bază\",\n    tools: \"Instrumente\",\n    tree: \"Straturi\",\n    legend: \"Legendă\",\n    nobaselayer: \"Fără strat de bază\",\n    street_search: \"Caută Adresă\",\n    show: \"Arată\",\n    hide: \"Ascunde\",\n    copy_form_data: \"Copiază data\",\n    paste_form_data: \"Lipește\",\n    copy_form_data_from_feature: \"Copiază data din hartă\",\n    error_map_loading: \"Sunt erori la încărcarea hărții\",\n    check_internet_connection_or_server_admin: \"Verificați conexiune de internet sau contactați administratorul de sistem\",\n    could_not_load_vector_layers: \"Eroare de conexiune: Straturile nu pot fi încărcate\",\n    server_saver_error: \"Eroare la salvarea pe server\",\n    server_error: \"Eroare de conexiune la server\",\n    save: \"Salvează\",\n    cancel: \"Anulează\",\n    close: \"Închide\",\n    enlange_reduce: \"Mărește/Micșorează\",\n    reset_default: \"Mărimea implicită\",\n    add: \"Adaugă\",\n    exitnosave: \"Ieșire fără salvare\",\n    annul: \"Anulează\",\n    layer_is_added: \"Există un strat cu același nume deja adăugat\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Adaugă strat WMS',\n          label: {\n            position: \"Poziție Hartă\",\n            name: \"Nume\",\n            projections: 'Proiecție',\n            layers: 'Straturi'\n          }\n        },\n        add_wms_layer: \"Adaugă strat WMS\",\n        delete_wms_url: \"Șterge URL WMS\",\n        layer_id_already_added: \"Strat WMS deja adăugat\",\n        url_already_added: \"URL WMS deja adăugat\",\n        layer_add_error: \"Stratul WMS nu s-a adăugat. Verificați URL-ul sau parametrii WMS\"\n      }\n    },\n    info: {\n      title: \"Rezultate\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Deschide document atașat\",\n      server_error: \"Serverul a întâmpinat o eroare\",\n      no_results: \"Niciun rezultat\",\n      link_button: \"Deschide\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Nu te-am putut localiza\"\n      },\n      nominatim: {\n        placeholder: \"Adresa ...\",\n        noresults: \"Niciun rezultat\",\n        notresponseserver: \"Niciun răspuns de la server\"\n      },\n      add_layer_control: {\n        header: \"Adăugare Strat\",\n        select_projection: \"Selectează proiecția strat\",\n        select_field_to_show: \"Selectează câmpul de arătat pe hartă\",\n        select_csv_separator: \"Selectează delimitatorul\",\n        select_csv_x_field: \"Selectează câmpul X - Est\",\n        select_csv_y_field: \"Selectează câmpul Y - Nord\",\n        select_color: \"Selectează culoare strat\",\n        drag_layer: \"Trageți stratul aici (Drag&Drop)\"\n      },\n      query: {\n        input_relation: \"Click pentru a arăta relațiile\"\n      },\n      length: {\n        tooltip: \"Lungime\"\n      },\n      area: {\n        tooltip: \"Arie\"\n      },\n      screenshot: {\n        error: \"Eroare captură ecran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Click dreapta pe strat pentru a accesa opțiuni\",\n      contextmenu: {\n        zoomtolayer: \"Zoom pe Strat\",\n        open_attribute_table: \"Deschide Tabela Atribute\",\n        show_metadata: \"Metadate\",\n        styles: 'Stiluri',\n        vector_color_menu: \"Setează/Schimbă Culoare\",\n        layer_opacity: \"Opacitate\"\n      }\n    },\n    dataTable: {\n      previous: \"Anteriorul\",\n      next: \"Următorul\",\n      lengthMenu: \"Arată _MENU_\",\n      info: \"Arată _START_ până la _END_ din _TOTAL_ de intrări\",\n      no_data: \"Fără date\",\n      nodatafilterd: \"Niciun rezultat\",\n      infoFiltered: \"(filtrat din _MAX_ de rezultate totale)\"\n    }\n  }\n};\n\n},{}],332:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"standard\",\n    sign_in: \"Logga in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lägg till/Avlägsna Filtrera\",\n        nofilter: \"Avlägsna Filtrera\",\n        invert: \"Invertera Urval\",\n        clear: \"Annullera Urval\",\n        show_features_on_map: \"Visa funktioner som är synliga på kartan\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Välj Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Rumsliga bokmärken\",\n        helptext: \"Flytta på kartans omfattning, ange namn och klicka på Lägg till\",\n        input: {\n          name: \"Namn\"\n        },\n        sections: {\n          project: {\n            title: \"Projektbokmärken\"\n          },\n          user: {\n            title: \"Användarbokmärken\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLA',\n        no_results: \"Inga resultat\",\n        searching: \"Sökning ...\",\n        error_loading: \"Fel vid laddning av uppgifter.\",\n        layer_not_searchable: \"Nivån kan inte sökas.\",\n        layer_not_querable: \"Förfrågningar kan inte göras på nivån.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Mata in\",\n            post: \"eller flera tecken\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Inga nivåer att skriva ut',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Ladda ner bild\",\n        fids_instruction: \"Godkända värden: Från ett till värdet [max]. Mellanslag tillåts, t.ex. 4-6.\",\n        fids_example: \"Exempelvis 1,4-6 skriver ut id 1,4,5,6.\",\n        help: \"Nivåerna på utskriften kan vara specificerade i ett projekt inte sådana som visas på karta.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Utför\",\n          info: \"Information\",\n          delete: \"Ta bort\",\n          edit: \"Redigera\"\n        },\n        messages: {\n          changed: 'Sparat',\n          number_of_features: \"Antal funktione\"\n        },\n        panel: {\n          button: {\n            all: 'ALLA',\n            save: 'SPARA',\n            test: 'TEST',\n            clear: 'TÖM',\n            run: 'UTFÖR',\n            manual: 'MANUELL'\n          },\n          layers: 'NIVÅER',\n          fields: 'FÄLT',\n          values: 'VÄRDEN',\n          operators: 'OPERATÖRER',\n          expression: 'KLAUSUL'\n        },\n        error_run: 'Ett fel inträffade. Kontrollera förfrågan.',\n        error_test: \"Ett fel inträffade när förfrågan utfördes.\",\n        delete: 'Vill du ta bort den?',\n        additem: 'Ge den nya sökningen ett namn.'\n      },\n      errors: {\n        layers: {\n          load: \"Vissa nivåer är inte tillgängliga.\"\n        },\n        unsupported_format: 'Formatet stöds inte',\n        add_external_layer: 'Fel vid laddning av nivån'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'ALLMÄN',\n            fields: {\n              title: 'RUBRIK',\n              name: 'NAMN',\n              description: \"BESKRIVNING\",\n              abstract: \"SAMMANDRAG\",\n              keywords: 'NYCKELORD',\n              fees: \"AVGIFTER\",\n              accessconstraints: \"ÅTKOMSTBEGRÄNSNINGAR\",\n              contactinformation: \"KONTAKTUPPGIFTER\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-post\",\n                  personprimary: 'Referenser',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Ställning',\n                  ContactPosition: 'Ställning',\n                  contactperson: 'Kontaktperson',\n                  ContactPerson: 'Kontaktperson'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'NIVÅER',\n            fields: {\n              layers: 'NIVÅER',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"RUBRIK\",\n                name: 'NAMN',\n                geometrytype: 'GEOMETRI',\n                source: 'KÄLLA',\n                attributes: 'ATTRIBUT',\n                abstract: 'SAMMANDRAG',\n                attribution: 'TILLSKRIVNING',\n                keywords: \"NYCKELORD\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'ALLMÄN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Radvy\",\n          row_to_form: \"Tabellvy\"\n        },\n        copy_map_extent_url: 'Kopiera länk till karta',\n        download_shapefile: \"Ladda SHP-fil\",\n        download_gpx: \"Ladda GPX-fil\",\n        download_gpkg: \"Ladda GPKG-fil\",\n        download_csv: \"Ladda CSV-fil\",\n        download_xls: \"Ladda XLS-fil\",\n        show_chart: \"Visa diagram\", //Tero 9.12.2020\n        atlas: \"Skriv ut Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Förfrågningsnivå',\n          actions: {\n            add_selection: {\n              hint: \"Lägg till/Avlägsna Urval\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zooma till egenskapens omfattning\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zooma till egenskapen\"\n            },\n            relations: {\n              hint: \"Visa relationerna\"\n            },\n            relations_charts: {\n              hint: \"Visa relationsdiagrammet\" //Tero 9.12.2020\n            },\n            download_features_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_features_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_features_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_features_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_features_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            download_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            atlas: {\n              hint: \"Skriv ut Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Förfrågan med polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Förfrågan med polygon',\n            message: \"\\n                <ul>\\n                  <li>V\\xE4lj polygonniv\\xE5 i listan.</li>\\n                  <li>Kontrollera att niv\\xE5n \\xE4r synlig.</li>\\n                  <li>V\\xE4lj egenskap p\\xE5 \\xF6nskad niv\\xE5.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Fråga efter ritpolygon\"\n        },\n        querybybbox: {\n          tooltip: 'BBox-förfrågan som riktar sig till en nivå',\n          nolayers_visible: 'Inga nivåer som förfrågningar kan riktas till. Gör minst en WFS-nivå synlig för att kunna utföra sökningen.',\n          help: {\n            title: 'Ohje - BBox-förfrågan som riktar sig till nivån',\n            message: \"\\n                 <ul>\\n                  <li>Rita upp en rektangel p\\xE5 kartan f\\xF6r att utf\\xF6ra f\\xF6rfr\\xE5gan p\\xE5 de i listan understreckade niv\\xE5erna.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lägg till nivå'\n        },\n        geolocation: {\n          tooltip: 'Geografiskt läge'\n        },\n        measures: {\n          length: {\n            tooltip: \"Längd\",\n            help: \"Rita upp en bruten linje på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          },\n          area: {\n            tooltip: \"Område\",\n            help: \"Rita upp en polygon på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Fel skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relationsuppgifter',\n        no_relations_found: 'Inga relationer hittades.',\n        back_to_relations: 'Tillbaka till relationerna',\n        list_of_relations_feature: 'Lista på egenskapens relationer',\n        error_missing_father_field: \"Fält saknas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Skeden'\n        },\n        next: \"Nästa\"\n\n      },\n      form: {\n        loading: 'Laddning...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Inga egenskaper har valts. Kontroller att nivån kan redigeras eller att den syns med nuvarande skala.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Välj värde på kartnivå\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Fälten utesluter varandra.\",\n          input_validation_error: \"Obligatoriskt fält eller fel datatyp.\",\n          input_validation_min_field: \"Värdet ska vara större eller lika stort som värdet i fältet.\",\n          input_validation_max_field: \"Värdet ska vara mindre eller lika stort som värdet i fältet.\",\n          input_validation_exclude_values: \"Värdet ska vara unikt.\",\n          integer: \"heltal\",\n          bigint: \"heltal\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"teckensträng\",\n          date: \"datum\",\n          float: \"flyttal\",\n          table: \"tabell\"\n        },\n        footer: {\n          \"required_fields\": \"Obligatoriska fält\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Använd den specifika funktinen för att bestämma relationer\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Tryck här för att kopiera url.\",\n            copied: \"Kopierad.\"\n          },\n          download: {\n            shp: 'Ladda SHP-fil',\n            gpx: 'Ladda GPX-fil',\n            gpkg: 'Ladda GPKG-fil',\n            csv: 'Ladda CSV-fil',\n            xls: 'Ladda XLS-fil',\n            geotiff: 'Ladda GEOTIFF-fil',\n            geotiff_map_extent: \"Ladda GEOTIFF-fil(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista på processer\",\n        tooltip: 'Välj på kartan'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Tillämpningen baserar på OS framework\",\n      g3wSuiteDescription: \"Publicera och hantera QGIS-projekt på nätet.\",\n      productOf: \"Framework har utvecklats av\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logga ut\",\n    no_other_projects: \"Inga projekt för denna grupp\",\n    yes: \"Ja\",\n    no: \"Nej\",\n    back: \"Gå tillbaka\",\n    backto: \"Tillbaka \",\n    changemap: \"Byt karta\",\n    component: \"Allmän komponent\",\n    search: \"Sök\",\n    no_results: \"Inga sökresultat\",\n    print: \"Skriv ut\",\n    create_print: \"Skapa utskrift\",\n    dosearch: \"Sök\",\n    catalog: \"Karta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Bakgrundskarta\",\n    tools: \"Verktyg\",\n    tree: \"Nivåer\",\n    legend: \"Förklaring till beteckningarna\",\n    nobaselayer: \"Ingen bakgrundskarta\",\n    street_search: \"Sök adress\",\n    show: \"Visa\",\n    hide: \"Dölj\",\n    copy_form_data: \"Kopiera uppgifterna\",\n    paste_form_data: \"Infoga\",\n    copy_form_data_from_feature: \"Kopiera uppgifter från kartan\",\n    error_map_loading: \"Fel vid laddning av kartan\",\n    check_internet_connection_or_server_admin: \"Kontrollera internetanslutningen eller kontakta administratören.\",\n    could_not_load_vector_layers: \"Fel i anslutningen, nivåer kan inte laddas.\",\n    server_saver_error: \"Fel vid lagring på servern.\",\n    server_error: \"Fel på anslutningen till servern\",\n    save: \"Spara\",\n    cancel: \"Ånga\",\n    close: \"Stäng\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lägg till\",\n    exitnosave: \"Lämna programmet utan att spara\",\n    annul: \"Ångra\",\n    layer_is_added: \"Lagret med samma namn har redan lagts till.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Resultat\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Öppna filbilaga\",\n      server_error: \"Ett fel uppstod på servern.\",\n      no_results: \"Inga resultat för sökningen/förfrågan.\",\n      link_button: \"Öppna\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Du kan inte lokaliseras\"\n      },\n      nominatim: {\n        placeholder: \"Adress ...\",\n        noresults: \"Inga resultat\",\n        notresponseserver: \"Inget svar från servern\"\n      },\n      add_layer_control: {\n        header: \"Lägg till nivå\",\n        select_projection: \"Välj projektion för nivån\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Välj färg på nivån\",\n        drag_layer: \"Dra och släpp nivån hit\"\n      },\n      query: {\n        input_relation: \"Tryck för att visa relationerna\"\n      },\n      length: {\n        tooltip: \"Längd\"\n      },\n      area: {\n        tooltip: \"Areal\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Högerklicka på en enskild nivå för att komma till tilläggsegenskaperna.\",\n      contextmenu: {\n        zoomtolayer: \"Zooma till nivå\",\n        open_attribute_table: \"Öppna attributtabellen\",\n        show_metadata: \"Metadata\",\n        styles: \"Stilar\",\n        vector_color_menu: \"Ställ in/ändra färg\",\n        layer_opacity: \"Opacitet\"\n      }\n    },\n    dataTable: {\n      previous: \"Föregående\",\n      next: \"Nästa\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Inga uppgifter\",\n      nodatafilterd: \"Inga motsvarande poster hittades\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],333:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nexports.default = {\n  methods: {\n    autocompleteRequest: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            layerId = _ref2.layerId,\n            field = _ref2.field,\n            value = _ref2.value;\n\n        var data, layer;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = [];\n                layer = _catalogLayers2.default.getLayerById(layerId);\n                _context.prev = 2;\n                _context.next = 5;\n                return layer.getFilterData({\n                  suggest: field + '|' + value,\n                  unique: field\n                });\n\n              case 5:\n                data = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context['catch'](2);\n\n              case 10:\n                return _context.abrupt('return', data.map(function (value) {\n                  return {\n                    id: value,\n                    text: value\n                  };\n                }));\n\n              case 11:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }));\n\n      function autocompleteRequest() {\n        return _ref.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }()\n  }\n};\n\n},{\"store/catalog-layers\":369}],334:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    tabIndex: function tabIndex() {\n      return this.editable ? 0 : -1;\n    },\n    notvalid: function notvalid() {\n      return this.state.validate.valid === false;\n    },\n    editable: function editable() {\n      return this.state.editable;\n    },\n    showhelpicon: function showhelpicon() {\n      return this.state.help && this.state.help.message.trim();\n    },\n    disabled: function disabled() {\n      return !this.editable || this.loadingState === 'loading' || this.loadingState === 'error';\n    },\n    loadingState: function loadingState() {\n      return this.state.input.options.loading ? this.state.input.options.loading.state : null;\n    }\n  },\n  methods: {\n    showHideHelp: function showHideHelp() {\n      this.state.help.visible = !this.state.help.visible;\n    },\n\n    // used to text input to listen mobile changes\n    mobileChange: function mobileChange(event) {\n      this.state.value = event.target.value;\n      this.change();\n    },\n\n    // called when input value change\n    change: function change() {\n      this.service.setEmpty();\n      this.service.setUpdate();\n      // validate input if is required or need to be unique\n      if (this.state.validate.required || this.state.validate.unique) this.service.validate();\n      // emit change input\n      this.$emit('changeinput', this.state);\n    },\n    isVisible: function isVisible() {}\n  }\n};\n\n},{}],335:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    getFieldService: function getFieldService() {\n      if (this._fieldsService === undefined) this._fieldsService = require('gui/fields/fieldsservice');\n      return this._fieldsService;\n    },\n    getFieldType: function getFieldType(field) {\n      return this.getFieldService().getType(field);\n    },\n    isSimple: function isSimple(field) {\n      return this.getFieldService().isSimple(field);\n    },\n    isLink: function isLink(field) {\n      return this.getFieldService().isLink(field);\n    },\n    isImage: function isImage(field) {\n      return this.getFieldService().isImage(field);\n    },\n    isPhoto: function isPhoto(field) {\n      return this.getFieldService().isPhoto(field);\n    },\n    isVue: function isVue(field) {\n      return this.getFieldService().isVue(field);\n    },\n    sanitizeFieldValue: function sanitizeFieldValue(value) {\n      return Array.isArray(value) && !value.length ? '' : value;\n    }\n  }\n};\n\n},{\"gui/fields/fieldsservice\":118}],336:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      valid: false\n    };\n  },\n\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.tovalidate.push(input);\n    },\n    changeInput: function changeInput(input) {\n      this.isValid(input);\n    },\n\n    // Every input send to form it valid value that will change the genaral state of form\n    isValid: function isValid(input) {\n      var _this = this;\n\n      if (input) {\n        // check mutually\n        if (input.validate.mutually) {\n          if (!input.validate.required) {\n            if (!input.validate.empty) {\n              input.validate._valid = input.validate.valid;\n              input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n                return previous && _this.tovalidate[inputname].validate.empty;\n              }, true);\n              input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n            } else {\n              input.value = null;\n              input.validate.mutually_valid = true;\n              input.validate.valid = true;\n              input.validate._valid = true;\n              var countNoTEmptyInputName = [];\n              for (var i = input.validate.mutually.length; i--;) {\n                var inputname = input.validate.mutually[i];\n                !this.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n              }\n              if (countNoTEmptyInputName.length < 2) {\n                countNoTEmptyInputName.forEach(function (inputname) {\n                  _this.tovalidate[inputname].validate.mutually_valid = true;\n                  _this.tovalidate[inputname].validate.valid = true;\n                  setTimeout(function () {\n                    _this.tovalidate[inputname].validate.valid = _this.tovalidate[inputname].validate._valid;\n                    _this.state.valid = _this.state.valid && _this.tovalidate[inputname].validate.valid;\n                  });\n                });\n              }\n            }\n          }\n          //check if min_field or max_field is set\n        } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n          var input_name = input.validate.min_field || input.validate.max_field;\n          input.validate.valid = input.validate.min_field ? this.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.tovalidate[input.validate.min_field].value : this.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.tovalidate[input.validate.max_field].value;\n          if (input.validate.valid) this.tovalidate[input_name].validate.valid = true;\n        }\n      }\n      this.valid = Object.values(this.tovalidate).reduce(function (previous, input) {\n        return previous && input.validate.valid;\n      }, true);\n    }\n  },\n  created: function created() {\n    this.tovalidate = [];\n  },\n  destroyed: function destroyed() {\n    this.tovalidate = null;\n  }\n};\n\n},{}],337:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  methods: {\n    showLayer: function showLayer() {\n      this.visible = !this.visible;\n      this.layer.setVisible(this.visible);\n    }\n  },\n  created: function created() {\n    var data = this.data;\n    var mapService = _gui2.default.getComponent('map').getService();\n    var mapProjection = mapService.getProjection().getCode();\n    var style = void 0;\n    switch (data.type) {\n      case 'Point':\n      case 'MultiPoint':\n        style = [new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 6,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        }), new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 2,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        })];\n        break;\n      case 'Line':\n      case 'MultiLineString':\n      case 'Polygon':\n      case 'MultiPolygon':\n        style = new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'rgba(255, 255, 255, 0.3)'\n          }),\n          stroke: new ol.style.Stroke({\n            color: [0, 0, 0, 1.0],\n            width: 2\n          })\n        });\n        break;\n    }\n    this.layer = new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: new ol.format.GeoJSON().readFeatures(data, {\n          featureProjection: mapProjection\n        })\n      }),\n      visible: !!this.visible,\n      style: style\n    });\n    mapService.getMap().addLayer(this.layer);\n  },\n  beforeDestroy: function beforeDestroy() {\n    var mapService = _gui2.default.getComponent('map').getService();\n    mapService.getMap().removeLayer(this.layer);\n  }\n}; /**\n    * @file\n    * @since v3.7\n    */\n\n},{\"services/gui\":356}],338:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixins = exports.autocompleteMixin = exports.baseInputMixin = exports.metadataMixin = exports.widgetMixins = exports.formInputsMixins = exports.select2Mixin = exports.selectMixin = exports.resizeMixin = exports.geoMixin = exports.mediaMixin = exports.fieldsMixin = undefined;\n\nvar _autocomplete = require('mixins/autocomplete');\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _fields = require('mixins/fields');\n\nvar _fields2 = _interopRequireDefault(_fields);\n\nvar _media = require('mixins/media');\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _geo = require('mixins/geo');\n\nvar _geo2 = _interopRequireDefault(_geo);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nvar _select = require('mixins/select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _select3 = require('mixins/select2');\n\nvar _select4 = _interopRequireDefault(_select3);\n\nvar _formInputs = require('mixins/form-inputs');\n\nvar _formInputs2 = _interopRequireDefault(_formInputs);\n\nvar _widget = require('mixins/widget');\n\nvar _widget2 = _interopRequireDefault(_widget);\n\nvar _metadata = require('mixins/metadata');\n\nvar _metadata2 = _interopRequireDefault(_metadata);\n\nvar _baseInput = require('mixins/base-input');\n\nvar _baseInput2 = _interopRequireDefault(_baseInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mixins = {\n  autocompleteMixin: _autocomplete2.default,\n  fieldsMixin: _fields2.default,\n  mediaMixin: _media2.default,\n  geoMixin: _geo2.default,\n  resizeMixin: _resize2.default,\n  selectMixin: _select2.default,\n  select2Mixin: _select4.default,\n  formInputsMixins: _formInputs2.default,\n  widgetMixins: _widget2.default,\n  metadataMixin: _metadata2.default,\n  baseInputMixin: _baseInput2.default\n}; /**\n    * @file\n    * @since v3.7\n    */\n\nexports.fieldsMixin = _fields2.default;\nexports.mediaMixin = _media2.default;\nexports.geoMixin = _geo2.default;\nexports.resizeMixin = _resize2.default;\nexports.selectMixin = _select2.default;\nexports.select2Mixin = _select4.default;\nexports.formInputsMixins = _formInputs2.default;\nexports.widgetMixins = _widget2.default;\nexports.metadataMixin = _metadata2.default;\nexports.baseInputMixin = _baseInput2.default;\nexports.autocompleteMixin = _autocomplete2.default;\nexports.mixins = mixins;\nexports.default = mixins;\n\n},{\"mixins/autocomplete\":333,\"mixins/base-input\":334,\"mixins/fields\":335,\"mixins/form-inputs\":336,\"mixins/geo\":337,\"mixins/media\":339,\"mixins/metadata\":340,\"mixins/resize\":341,\"mixins/select\":342,\"mixins/select2\":343,\"mixins/widget\":344}],339:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    filename: function filename() {\n      return this.value ? this.value.split('/').pop() : this.value;\n    }\n  },\n  methods: {\n    isMedia: function isMedia(value) {\n      if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Object) return !!value.mime_type;\n      return false;\n    },\n    getMediaType: function getMediaType(mime_type) {\n      var media = {\n        type: null,\n        options: {}\n      };\n      switch (mime_type) {\n        case 'image/gif':\n        case 'image/png':\n        case 'image/jpeg':\n        case 'image/bmp':\n          media.type = 'image';\n          break;\n        case 'application/pdf':\n          media.type = 'pdf';\n          break;\n        case 'video/mp4':\n        case 'video/ogg':\n        case 'video/x-ms-wmv':\n        case 'video/x-msvideo':\n        case 'video/quicktime':\n          media.type = 'video';\n          media.options.format = mime_type;\n          break;\n        case 'application/gzip':\n        case 'application/zip':\n          media.type = 'zip';\n          break;\n        case 'application/msword':\n        case 'application/vnd.oasis.opendocument.text':\n          media.type = 'text';\n          break;\n        case 'application/vnd.ms-office':\n        case 'application/vnd.oasis.opendocument.spreadsheet':\n          media.type = 'excel';\n          break;\n        case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n        case 'application/vnd.ms-powerpoint':\n        case 'application/vnd.oasis.opendocument.presentation':\n          media.type = 'ppt';\n          break;\n        default:\n          media.type = 'unknow';\n      }\n      return media;\n    }\n  }\n};\n\n},{}],340:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    findAttributeFormMetadataAttribute: function findAttributeFormMetadataAttribute(name) {\n      return this.state.metadata ? this.state.metadata[name] !== undefined : false;\n    },\n    findMetadataAttribute: function findMetadataAttribute(name) {\n      return this.state[name] !== undefined;\n    }\n  }\n};\n\n},{}],341:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle,\n    debounce = _require.debounce;\n\nvar DELAY_TYPE = {\n  throttle: throttle,\n  debounce: debounce\n};\n\nexports.default = {\n  created: function created() {\n    var delayWrapper = this.delayType && DELAY_TYPE[this.delayType] || DELAY_TYPE.throttle;\n    this.delayResize = this.resize ? delayWrapper(this.resize.bind(this), this.delayTime) : null;\n    _gui2.default.on('resize', this.delayResize);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.resize && this.resize();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _gui2.default.off('resize', this.delayResize);\n    this.delayResize = null;\n    this.delayTime = null;\n  }\n};\n\n},{\"core/utils/utils\":67,\"services/gui\":356}],342:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    getAppLanguage = _require.getAppLanguage;\n\nexports.default = {\n  methods: {\n    getLanguage: function getLanguage() {\n      return getAppLanguage();\n    },\n    changeSelect: function changeSelect(value) {\n      this.state.value = value === 'null' ? null : value;\n      this.change();\n    },\n    getValue: function getValue(value) {\n      return value === null ? 'null' : value;\n    },\n    resetValues: function resetValues() {\n      this.state.input.options.values.splice(0);\n    }\n  },\n  computed: {\n    autocomplete: function autocomplete() {\n      return this.state.input.type === 'select_autocomplete' && this.state.input.options.usecompleter;\n    }\n  },\n  watch: {\n    notvalid: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(value) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (this.select2) value ? this.select2.data('select2').$container.addClass(\"input-error-validation\") : this.select2.data('select2').$container.removeClass(\"input-error-validation\");\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function notvalid(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return notvalid;\n    }()\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],343:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  mixins: [_resize2.default],\n  methods: {\n    setValue: function setValue() {\n      this.select2.val(this.state.value).trigger('change');\n    },\n    resize: function resize() {\n      this.select2 && !_applicationState2.default.ismobile && this.select2.select2('close');\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    //destroy a select2  dom element\n    this.select2 && this.select2.select2('destroy');\n    // remove all event\n    this.select2.off();\n    this.select2 = null;\n  }\n};\n\n},{\"mixins/resize\":341,\"store/application-state\":368}],344:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      changed: false\n    };\n  },\n\n  methods: {\n    widgetChanged: function widgetChanged() {\n      this.changed = true;\n      this.change();\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      console.log('need to be implemented by widget'); // method to overwrite\n    }\n  },\n  watch: {\n    'state.value': function stateValue(value) {\n      this.changed ? this.changed = false : this.stateValueChanged(value);\n    }\n  }\n};\n\n},{}],345:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    reject = _require.reject;\n\nvar G3WObject = require('core/g3wobject');\n\n// Class Api Service\nfunction ApiService() {\n  this._config = null;\n  this._baseUrl = null;\n  this.init = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n    this._config = config;\n    // prende l'url base delle api dal config dell'applicazione\n    this._baseUrl = config.urls.api;\n    this._apiEndpoints = config.urls.apiEndpoints;\n    d.resolve();\n    return d.promise();\n  };\n  var howManyAreLoading = 0;\n  this._incrementLoaders = function () {\n    howManyAreLoading === 0 && this.emit('apiquerystart');\n    howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    howManyAreLoading -= 1;\n    howManyAreLoading === 0 && this.emit('apiqueryend');\n  };\n  this.get = function (api, options) {\n    var _this = this;\n\n    var apiEndPoint = this._apiEndpoints[api];\n    if (apiEndPoint) {\n      var completeUrl = this._baseUrl + '/' + apiEndPoint;\n      if (options.request) completeUrl = completeUrl + '/' + options.request;\n      var params = options.params || {};\n      this.emit(api + 'querystart');\n      this._incrementLoaders();\n      return $.get(completeUrl, params).done(function (response) {\n        _this.emit(api + 'queryend', response);\n        return response;\n      }).fail(function (error) {\n        _this.emit(api + 'queryfail', error);\n        return error;\n      }).always(function () {\n        return _this._decrementLoaders();\n      });\n    } else return reject();\n  };\n  base(this);\n}\n\ninherit(ApiService, G3WObject);\n\nexports.default = new ApiService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],346:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _clipboard = require('services/clipboard');\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    i18ninit = _require.init,\n    changeLanguage = _require.changeLanguage;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit,\n    XHR = _require2.XHR,\n    uniqueId = _require2.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n//Manage Application\nvar ApplicationService = function ApplicationService() {\n  var _this = this;\n\n  this.version = _constant.APP_VERSION;\n  _applicationState2.default.iframe = window.top !== window.self;\n  _applicationState2.default.online = navigator.onLine;\n  _applicationState2.default.ismobile = isMobile.any;\n  this.complete = false;\n  this.baseurl = '/'; // set base url\n  this.download_caller_id = null;\n  // store all services sidebar etc..\n  this._applicationServices = {};\n  this.config = {};\n  this._initConfigUrl = null;\n  this._initConfig = null;\n  this._groupId = null;\n  this._gid = null;\n  this.setters = {\n    changeProject: function changeProject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          gid = _ref.gid,\n          host = _ref.host;\n\n      return this._changeProject({ gid: gid, host: host });\n    },\n    online: function online() {\n      this.setOnline();\n    },\n    offline: function offline() {\n      this.setOffline();\n    },\n    setFilterToken: function setFilterToken(filtertoken) {\n      this._setFilterToken(filtertoken);\n    }\n  };\n  base(this);\n  /*\n  * intiConfig as parameter\n  * */\n  this.on('initconfig', function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        user = _ref2.user;\n\n    // only user attribute is used\n    _this.setApplicationUser(user);\n  });\n  // init application\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var config, browserLanguage, language;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return this.createApplicationConfig();\n\n          case 3:\n            config = _context.sent;\n\n            this.setConfig(config);\n            this.setLayout('app', config.layout);\n            _context.next = 8;\n            return this.bootstrap();\n\n          case 8:\n            return _context.abrupt('return', _context.sent);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](0);\n            browserLanguage = navigator && navigator.language || 'en';\n            language = _config2.default.supportedLanguages.find(function (language) {\n              return browserLanguage.indexOf(language) !== -1;\n            });\n            return _context.abrupt('return', Promise.reject({\n              error: _context.t0,\n              language: language\n            }));\n\n          case 16:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 11]]);\n  }));\n  /**\n   * setup Internationalization\n   */\n  this.setupI18n = function () {\n    var languageConfig = this._config._i18n;\n    languageConfig.appLanguages = this._config.i18n.map(function (languageLabel) {\n      return languageLabel[0];\n    });\n    this.setApplicationLanguage(languageConfig.language);\n    //setup internationalization for translation\n    i18ninit(languageConfig);\n    this._groupId = this._config.group.slug || this._config.group.name.replace(/\\s+/g, '-').toLowerCase();\n    // set accept-language reuest header based on config language\n    var userLanguage = this._config.user.i18n || 'en';\n    $.ajaxSetup({\n      beforeSend: function beforeSend(jqXHR) {\n        jqXHR.setRequestHeader('Accept-Language', userLanguage);\n      }\n    });\n  };\n\n  this.getCurrentProject = function () {\n    return _projects2.default.getCurrentProject();\n  };\n\n  /**\n   *\n   * @param bool\n   * @param download_caller_id\n   * @returns {null}\n   */\n  this.setDownload = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var download_caller_id = arguments[1];\n\n    if (download_caller_id) {\n      if (!bool && download_caller_id && this.download_caller_id === download_caller_id) {\n        _applicationState2.default.download = false;\n        this.download_caller_id = null;\n      } else if (bool && this.download_caller_id === null) {\n        _applicationState2.default.download = bool;\n        this.download_caller_id = uniqueId();\n      }\n    } else _applicationState2.default.download = bool;\n    return this.download_caller_id;\n  };\n\n  this.getDownload = function () {\n    return _applicationState2.default.download;\n  };\n\n  this.loadingPlugin = function (plugin) {\n    _applicationState2.default.plugins.push(plugin);\n  };\n\n  /*\n  * plugin: name of plugin\n  * */\n  this.loadedPlugin = function (plugin) {\n    _applicationState2.default.plugins = _applicationState2.default.plugins.filter(function (_plugin) {\n      return _plugin !== plugin;\n    });\n  };\n\n  /*\n   *filtertoken methods\n  */\n\n  /**\n   * token is a string passed by server and used as parameter in XHR request\n   * @param filtertoken\n   * @private\n   */\n  this._setFilterToken = function (filtertoken) {\n    _applicationState2.default.tokens.filtertoken = filtertoken;\n  };\n\n  this.getFilterToken = function () {\n    return _applicationState2.default.tokens.filtertoken;\n  };\n\n  /**\n   *  filter token methods\n   */\n\n  this.changeLanguage = function (language) {\n    changeLanguage(language);\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n    var pathname = window.location.pathname;\n    var pathArray = pathname.split('/');\n    pathArray[1] = language;\n    history.replaceState(null, null, pathArray.join('/'));\n  };\n\n  this.registerOnlineOfflineEvent = function () {\n    var _this2 = this;\n\n    this.registerWindowEvent({\n      evt: 'online',\n      cb: function cb() {\n        return _this2.online();\n      }\n    });\n\n    this.registerWindowEvent({\n      evt: 'offline',\n      cb: function cb() {\n        return _this2.offline();\n      }\n    });\n  };\n\n  this.getBaseLayerId = function () {\n    return _applicationState2.default.baseLayerId;\n  };\n\n  this.setBaseLayerId = function (baseLayerId) {\n    _applicationState2.default.baseLayerId = baseLayerId;\n  };\n\n  this.registerLeavePage = function () {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref4$bool = _ref4.bool,\n        bool = _ref4$bool === undefined ? false : _ref4$bool,\n        _ref4$message = _ref4.message,\n        message = _ref4$message === undefined ? '' : _ref4$message;\n\n    var _return = !bool ? undefined : bool;\n    window.onbeforeunload = function (event) {\n      return _return;\n    };\n  };\n\n  this.unregisterOnlineOfflineEvent = function () {\n    window.removeEventListener('online');\n    window.removeEventListener('offline');\n  };\n\n  this.getState = function () {\n    return _applicationState2.default;\n  };\n\n  this.disableApplication = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _applicationState2.default.gui.app.disabled = bool;\n  };\n\n  this.setApplicationLanguage = function () {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n  };\n\n  this.getApplicationLanguage = function () {\n    return _applicationState2.default.language;\n  };\n\n  this.setOnline = function () {\n    _applicationState2.default.online = true;\n  };\n\n  this.setOffline = function () {\n    _applicationState2.default.online = false;\n  };\n\n  this.isOnline = function () {\n    return _applicationState2.default.online;\n  };\n\n  this.setOfflineItem = function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(id) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setLocalItem({\n                id: id,\n                data: data\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x8) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  this.setLocalItem = function () {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref6.id,\n        data = _ref6.data;\n\n    try {\n      var item = JSON.stringify(data);\n      window.localStorage.setItem(id, item);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  this.removeLocalItem = function (id) {\n    window.localStorage.removeItem(id);\n  };\n\n  this.getLocalItem = function (id) {\n    var item = window.localStorage.getItem(id);\n    if (item) return JSON.parse(item);else return undefined;\n  };\n\n  this.getOfflineItem = function (id) {\n    return this.getLocalItem(id);\n  };\n\n  this.removeOfflineItem = function (id) {\n    this.removeLocalItem(id);\n  };\n\n  //check if is in Iframe\n  this.isIframe = function () {\n    return _applicationState2.default.iframe;\n  };\n\n  // get config\n  this.getConfig = function () {\n    return this._config;\n  };\n\n  this.setConfig = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._config = config;\n  };\n\n  // router service\n  this.getRouterService = function () {\n    return _router2.default;\n  };\n\n  //application proxy url\n  this.getProxyUrl = function () {\n    return '' + this._initConfig.proxyurl;\n  };\n\n  /**\n   * Get Interface OWS Url\n   */\n  this.getInterfaceOwsUrl = function () {\n    return '' + this._initConfig.interfaceowsurl;\n  };\n\n  // clipboard service\n  this.getClipboardService = function () {\n    return _clipboard2.default;\n  };\n\n  /**\n   * Create application config object\n   * @param initConfig\n   * @returns {Promise<string|{terms_of_use_link, projects: ([{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}, {qgs_layer_id: string, fields: [string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}], type: string}]|{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}|[]), maxscale: (null|ProjectsRegistry.setProjects.config.maxscale), mediaurl: *, plugins: *, mapcontrols: *, tools: *, resourcesurl: *, initproject, urls: *, credits: *, getWmsUrl(*): string, _i18n: ({resources: {se: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, fi: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, en: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, it: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {title: string, error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {zoom_to_features_extent: string, download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}}}|{resources: *}), views: (*|{}), group: *, vectorurl: *, debug: boolean, crs: *, apptitle: (string), header_custom_links, i18n: *, overviewproject: (*|null), layout: (*|{}), logo_img: *, baselayers: (string|vueComponentOptions.computed.baselayers|{count: number}|*), logo_link: *, background_color, terms_of_use_text: *, main_map_title: *, getProjectConfigUrl(*): string, user: (*|null), minscale: ProjectsRegistry.setProjects.config.minscale}>}\n   */\n  this.createApplicationConfig = function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(initConfig) {\n      var config;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              config = _extends({}, _config2.default);\n              _context3.prev = 1;\n\n              if (!initConfig) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.t0 = initConfig;\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.next = 8;\n              return this.obtainInitConfig({\n                initConfigUrl: '' + _config2.default.server.urls.initconfig\n              });\n\n            case 8:\n              _context3.t0 = _context3.sent;\n\n            case 9:\n              initConfig = _context3.t0;\n\n              // write urls of static files and media url (base url and vector url)\n              this.baseurl = initConfig.baseurl;\n              config.server.urls.baseurl = initConfig.baseurl;\n              config.server.urls.frontendurl = initConfig.frontendurl;\n              config.server.urls.staticurl = initConfig.staticurl;\n              config.server.urls.clienturl = initConfig.staticurl + initConfig.client;\n              config.server.urls.mediaurl = initConfig.mediaurl;\n              config.server.urls.vectorurl = initConfig.vectorurl;\n              config.server.urls.proxyurl = initConfig.proxyurl;\n              config.server.urls.rasterurl = initConfig.rasterurl;\n              config.server.urls.interfaceowsurl = initConfig.interfaceowsurl;\n              config.main_map_title = initConfig.main_map_title;\n              config.group = initConfig.group;\n              config.user = initConfig.user;\n              config.credits = initConfig.credits;\n              config.i18n = initConfig.i18n;\n              // get language from server\n              config._i18n.language = config.user.i18n;\n              // create application configuration\n              // check if is inside a iframe\n              config.group.layout.iframe = window.top !== window.self;\n              return _context3.abrupt('return', {\n                apptitle: config.apptitle || '',\n                logo_img: config.group.header_logo_img,\n                logo_link: config.group.header_logo_link,\n                terms_of_use_text: config.group.header_terms_of_use_text,\n                terms_of_use_link: config.group.terms_of_use_link,\n                header_custom_links: config.group.header_custom_links,\n                debug: config.client.debug || false,\n                group: config.group,\n                urls: config.server.urls,\n                mediaurl: config.server.urls.mediaurl,\n                resourcesurl: config.server.urls.clienturl,\n                vectorurl: config.server.urls.vectorurl,\n                rasterurl: config.server.urls.rasterurl,\n                interfaceowsurl: config.server.urls.interfaceowsurl,\n                projects: config.group.projects,\n                initproject: config.group.initproject,\n                overviewproject: config.group.overviewproject && config.group.overviewproject.gid ? config.group.overviewproject : null,\n                baselayers: config.group.baselayers,\n                mapcontrols: config.group.mapcontrols,\n                background_color: config.group.background_color,\n                crs: config.group.crs,\n                minscale: config.group.minscale,\n                maxscale: config.group.maxscale,\n                main_map_title: config.main_map_title,\n                credits: config.credits,\n                _i18n: config._i18n,\n                i18n: config.i18n,\n                layout: config.group.layout || {},\n                // needed by ProjectService\n                getWmsUrl: function getWmsUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.ows + '/' + config.group.id + '/' + project.type + '/' + project.id + '/';\n                },\n\n                // needed by ProjectsRegistry to get informations about project configuration\n                getProjectConfigUrl: function getProjectConfigUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.config + '/' + config.group.id + '/' + project.type + '/' + project.id + '?_t=' + project.modified;\n                },\n\n                plugins: config.group.plugins,\n                tools: config.tools,\n                views: config.views || {},\n                user: config.user || null\n              });\n\n            case 30:\n              _context3.prev = 30;\n              _context3.t1 = _context3['catch'](1);\n              return _context3.abrupt('return', Promise.reject(_context3.t1));\n\n            case 33:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[1, 30]]);\n    }));\n\n    return function (_x11) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  this.obtainInitConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        initConfigUrl = _ref9.initConfigUrl,\n        url = _ref9.url,\n        host = _ref9.host;\n\n    var projectPath, locationsearch;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!this._initConfigUrl) this._initConfigUrl = initConfigUrl;else this.clearInitConfig();\n\n            // if exist a global initConfig\n            this._initConfig = window.initConfig;\n\n            projectPath = void 0;\n\n            // DEPRECATED: will be removed after v4.0\n\n            locationsearch = url ? url.split('?')[1] : location.search.substring(1);\n\n\n            if (locationsearch) {\n              //check if exist project in url\n              /**\n               * The way to extract project group,type and id\n               * Example http:localhost:3000/?project=3003/qdjango/1\n               * is deprecate\n               */\n              locationsearch.split('&').forEach(function (queryTuple) {\n                projectPath = queryTuple.indexOf(\"project\") > -1 ? queryTuple.split(\"=\")[1] : projectPath;\n              });\n\n              ///////////////////////////////////////////////////////////////////\n            } else if (this._gid) {\n              projectPath = this._groupId + '/' + this._gid.split(':').join('/');\n            }\n\n            _context4.prev = 5;\n\n            if (!projectPath) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.next = 9;\n            return this.getInitConfig('' + (host || '') + this.baseurl + this._initConfigUrl + '/' + projectPath);\n\n          case 9:\n            this._initConfig = _context4.sent;\n\n          case 10:\n            _context4.next = 15;\n            break;\n\n          case 12:\n            _context4.prev = 12;\n            _context4.t0 = _context4['catch'](5);\n            return _context4.abrupt('return', Promise.reject(_context4.t0));\n\n          case 15:\n            _context4.prev = 15;\n\n            window.initConfig = this._initConfig;\n            this.emit('initconfig', this._initConfig);\n            this.setInitVendorKeys(this._initConfig);\n            return _context4.abrupt('return', Promise.resolve(this._initConfig));\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[5, 12, 15, 21]]);\n  }));\n\n  // method to get initial application configuration\n  this.getInitConfig = function (url) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (_this3._initConfig) resolve(_this3._initConfig);else XHR.get({ url: url }).then(function (initConfig) {\n        return resolve(initConfig);\n      }).catch(function (error) {\n        return reject(error);\n      });\n    });\n  };\n\n  this.getInitConfigUrl = function () {\n    return this._initConfigUrl;\n  };\n\n  this.setInitConfigUrl = function (initConfigUrl) {\n    this._initConfigUrl = initConfigUrl;\n  };\n\n  // post boostratp\n  this.postBootstrap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (this.complete) {\n              _context5.next = 13;\n              break;\n            }\n\n            _context5.prev = 1;\n\n            _router2.default.init();\n            // once the projects are inizilized and also api service\n            // register  plugins\n            _context5.next = 5;\n            return this._bootstrapPlugins();\n\n          case 5:\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            _context5.prev = 9;\n\n            this.complete = true;\n            this.emit('complete');\n            return _context5.finish(9);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7, 9, 13]]);\n  }));\n\n  //boostrap plugins\n  this._bootstrapPlugins = function () {\n    return _plugins2.default.init({\n      pluginsBaseUrl: this._config.urls.staticurl,\n      pluginsConfigs: this._config.plugins,\n      otherPluginsConfig: _projects2.default.getCurrentProject().getState()\n    });\n  };\n\n  //set EPSG of Application is usefule for example to wms request for table layer\n  this.setEPSGApplication = function (project) {\n    _applicationState2.default.map.epsg = project.state.crs.epsg;\n  };\n\n  //Application User\n  this.setApplicationUser = function (user) {\n    _applicationState2.default.user = user;\n  };\n\n  this.getApplicationUser = function () {\n    return _applicationState2.default.user;\n  };\n\n  //  bootstrap (when called init)\n  this.bootstrap = function () {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      // setup All i18n configuration\n      _this4.setupI18n();\n      // run Timeout\n      var timeout = setTimeout(function () {\n        reject('Timeout');\n      }, _constant.TIMEOUT);\n      //first time l'application service is not ready\n      if (!_applicationState2.default.ready) {\n        $.when(\n        // register project\n        _projects2.default.init(_this4._config),\n        // inizialize api service\n        _api2.default.init(_this4._config)).then(function () {\n          // clear TIMEOUT\n          clearTimeout(timeout);\n          //clear\n          _this4.registerOnlineOfflineEvent();\n          _this4.emit('ready');\n          _applicationState2.default.ready = _this4.initialized = true;\n          // set current project gid\n          var project = _projects2.default.getCurrentProject();\n          _this4._gid = project.getGid();\n          //sett\n          _this4.setEPSGApplication(project);\n          //IFRAME CHECK\n          _applicationState2.default.iframe && _this4.startIFrameService({\n            project: project\n          });\n          // initialize data router service\n          _data2.default.init();\n          // init Local Items for the user\n          _this4.initLocalItems();\n          resolve(true);\n        }).fail(function (error) {\n          return reject(error);\n        });\n      }\n    });\n  };\n\n  //iframeservice\n  this.startIFrameService = function () {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref11.project;\n\n    var iframeService = require('core/iframe/routerservice');\n    iframeService.init({ project: project });\n  };\n\n  this.registerWindowEvent = function () {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref12.evt,\n        cb = _ref12.cb;\n\n    window.addEventListener(evt, cb);\n  };\n\n  this.unregisterWindowEvent = function () {\n    var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref13.evt,\n        cb = _ref13.cb;\n\n    window.removeEventListener(evt, cb);\n  };\n\n  this.registerService = function (element, service) {\n    this._applicationServices[element] = service;\n  };\n\n  this.unregisterService = function (element) {\n    delete this._applicationServices[element];\n  };\n\n  this.getApplicationService = function (type) {\n    return this._applicationServices[type];\n  };\n\n  this.getService = function (element) {\n    return this._applicationServices[element];\n  };\n\n  this.errorHandler = function (error) {};\n\n  /**\n   * clear initConfig\n   */\n  this.clearInitConfig = function () {\n    window.initConfig = this._initConfig = null;\n  };\n\n  this.setInitVendorKeys = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var vendorkeys = config.group.vendorkeys || {};\n    config.group.baselayers.forEach(function (baselayer) {\n      if (baselayer.apikey) {\n        var type = baselayer.servertype ? baselayer.servertype.toLowerCase() : null;\n        vendorkeys[type] = baselayer.apikey;\n      }\n    });\n    this.setVendorKeys(vendorkeys);\n  };\n\n  this.setVendorKeys = function () {\n    var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object.keys(keys).forEach(function (key) {\n      return _applicationState2.default.keys.vendorkeys[key] = keys[key];\n    });\n  };\n\n  // change View\n  this.changeProjectView = function (change) {\n    _applicationState2.default.changeProjectview = change;\n  };\n\n  this.isProjectViewChanging = function () {\n    return _applicationState2.default.changeProjectview;\n  };\n\n  this.reloadCurrentProject = function () {\n    return this.changeProject({\n      gid: _projects2.default.getCurrentProject().getGid()\n    });\n  };\n\n  /**\n   * Change project method that do all request and rebuild interface\n   * @param gid\n   * @param host\n   * @returns {JQuery.Promise<any, any, any>}\n   * @private\n   */\n  this._changeProject = function () {\n    var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        gid = _ref14.gid,\n        host = _ref14.host;\n\n    var d = $.Deferred();\n    this._gid = gid;\n    var projectUrl = _projects2.default.getProjectUrl(gid);\n    var url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(projectUrl);\n    history.replaceState(null, null, url);\n    location.replace(url);\n    d.resolve();\n    return d.promise();\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.setLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * Set default height percentage of height when show vertical content (for example show table attribute)\n     * @type {{}}\n     */\n    if (config.rightpanel) {\n      config.rightpanel.width = config.rightpanel.width || 50;\n      config.rightpanel.height = config.rightpanel.height || 50;\n      config.rightpanel.width_default = config.rightpanel.width; // used eventually to reset starting values\n      config.rightpanel.height_default = config.rightpanel.height;\n      config.rightpanel.width_100 = false;\n      config.rightpanel.height_100 = false;\n    } else config.rightpanel = { width: 50, height: 50, width_default: 50, height_default: 50, width_100: false, height_100: false };\n    _applicationState2.default.gui.layout[who] = config;\n  };\n\n  this.removeLayout = function (who) {\n    who && delete _applicationState2.default.gui.layout[who];\n  };\n\n  this.setCurrentLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    _applicationState2.default.gui.layout.__current = who;\n  };\n\n  this.getCurrentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current];\n  };\n\n  this.getCurrentLayoutName = function () {\n    return _applicationState2.default.gui.layout.__current;\n  };\n\n  this.cloneLayout = function () {\n    var which = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    return JSON.parse(JSON.stringify(_applicationState2.default.gui.layout[which]));\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.clear = function () {\n    this.unregisterOnlineOfflineEvent();\n  };\n\n  /**\n   * Method to initialize local items if not initialize\n   * each item has id (unique identifier)\n   * and value (for initial value)\n   * @since v3.8\n   */\n  this.initLocalItems = function () {\n    var _this5 = this;\n\n    Object.keys(_constant.LOCAL_ITEM_IDS).forEach(function (id) {\n      if (\"undefined\" === typeof _this5.getLocalItem(id)) {\n        _this5.setLocalItem({\n          id: id,\n          data: _constant.LOCAL_ITEM_IDS[id].value\n        });\n      }\n    });\n  };\n};\n\ninherit(ApplicationService, G3WObject);\n\nexports.default = new ApplicationService();\n\n},{\"app/constant\":4,\"config\":3,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/iframe/routerservice\":14,\"core/utils/utils\":67,\"services/api\":345,\"services/clipboard\":347,\"services/data\":353,\"services/gui\":356,\"services/router\":363,\"store/application-state\":368,\"store/plugins\":373,\"store/projects\":374}],347:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\nfunction ClipboardService() {\n  this._data = {};\n  this.set = function (formId, data) {\n    var formLayer = formId.split('form')[0];\n    this._data[formLayer] = data;\n  };\n\n  this.get = function (formLayer) {\n    var data = this._data[formLayer] || {};\n    this._data[formLayer] = {};\n    return data;\n  };\n}\n\nexports.default = new ClipboardService();\n\n},{}],348:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nvar _require2 = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require2.getFeaturesFromResponseVectorApi;\n\nfunction ExpressionService() {\n  base(this);\n  /**\n   *\n   * @param qgis_layer_id\n   * @param form_data\n   * @param expression\n   * @param layer_id layer owner of the data\n   * @param qgs_layer_id layer id owner of the form data\n   * @returns {Promise<void>}\n   * POST only: accepts\n    * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   */\n  this.expression = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var qgs_layer_id = _ref.qgs_layer_id,\n          layer_id = _ref.layer_id,\n          form_data = _ref.form_data,\n          expression = _ref.expression,\n          _ref$formatter = _ref.formatter,\n          formatter = _ref$formatter === undefined ? 1 : _ref$formatter,\n          parent = _ref.parent;\n      var url, response;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = '' + this.project.getUrl('vector_data') + layer_id + '/';\n              _context.prev = 1;\n              _context.next = 4;\n              return this.handleRequest({\n                url: url,\n                params: {\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id,\n                  form_data: form_data,\n                  expression: expression,\n                  formatter: formatter,\n                  parent: parent\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n              return _context.abrupt('return', this.handleResponse(response));\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context['catch'](1);\n              return _context.abrupt('return', Promise.reject(_context.t0));\n\n            case 11:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  /**\n   *\n   * @param qgis_layer_id\n   * @param form_data\n   * @param expression\n   * @returns {Promise<void>}\n   * POST only method to return QGIS Expressions evaluated in Project an optional Layer/Form context\n   *\n   *  Mandatory JSON body: expression\n    * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   */\n  this.expression_eval = function () {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer_id = _ref3.layer_id,\n        qgs_layer_id = _ref3.qgs_layer_id,\n        form_data = _ref3.form_data,\n        expression = _ref3.expression,\n        _ref3$formatter = _ref3.formatter,\n        formatter = _ref3$formatter === undefined ? 1 : _ref3$formatter,\n        parent = _ref3.parent;\n\n    var url = this.project.getUrl('expression_eval');\n    return this.handleRequest({\n      url: url,\n      params: {\n        layer_id: layer_id,\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter,\n        parent: parent\n      }\n    });\n  };\n\n  /**\n   * Common method to handel request\n    * @param url\n   * @param params\n   * @contentType\n   * @returns {Promise<*>}\n   */\n  this.handleRequest = function () {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        _ref4$params = _ref4.params,\n        params = _ref4$params === undefined ? {} : _ref4$params,\n        _ref4$contentType = _ref4.contentType,\n        contentType = _ref4$contentType === undefined ? 'application/json' : _ref4$contentType;\n\n    return XHR.post({\n      url: url,\n      contentType: contentType,\n      data: JSON.stringify(params)\n    });\n  };\n\n  /***\n   * Common method to handle response\n   * @param response\n   */\n  this.handleResponse = function () {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return getFeaturesFromResponseVectorApi(response);\n  };\n}\n\ninherit(ExpressionService, BaseService);\n\nexports.default = new ExpressionService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":67}],349:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction OWSService() {\n  base(this);\n  /**\n   *\n   * @param params\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wmsCapabilities = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url;\n\n    var owsUrl, params, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            owsUrl = '' + _application2.default.getInterfaceOwsUrl();\n            _context.prev = 1;\n            params = {\n              url: url,\n              service: \"wms\"\n            };\n            data = JSON.stringify(params);\n            _context.next = 6;\n            return XHR.post({\n              url: owsUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', response);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](1);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 10]]);\n  }));\n}\n\ninherit(OWSService, BaseService);\n\nexports.default = new OWSService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":67,\"services/application\":346}],350:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction ProxyService() {\n  base(this);\n  /**\n   *\n   * @param data: Object conitans data to pass to proxy\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wms = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$method = _ref2.method,\n        method = _ref2$method === undefined ? 'GET' : _ref2$method,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$headers = _ref2.headers,\n        headers = _ref2$headers === undefined ? {} : _ref2$headers;\n\n    var proxyUrl, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            proxyUrl = '' + _application2.default.getProxyUrl();\n\n            if (method === 'GET') {\n              url = new URL(url);\n              Object.keys(params).forEach(function (param) {\n                return url.searchParams.set(param, params[param]);\n              });\n              url = url.toString();\n            }\n            _context.prev = 2;\n            data = JSON.stringify({\n              url: url,\n              params: params,\n              headers: headers,\n              method: method\n            });\n            _context.next = 6;\n            return XHR.post({\n              url: proxyUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', {\n              response: response,\n              data: data\n            });\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](2);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 10]]);\n  }));\n\n  /**\n   * Generic proxy data function\n   * @param params\n   */\n  this.data = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n}\n\ninherit(ProxyService, BaseService);\n\nexports.default = new ProxyService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":67,\"services/application\":346}],351:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.6\n                                                                                                                                                                                                                                                                   */\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar BaseService = require('core/data/service');\n\nvar _require3 = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require3.getQueryLayersPromisesByCoordinates,\n    getQueryLayersPromisesByGeometry = _require3.getQueryLayersPromisesByGeometry,\n    getQueryLayersPromisesByBBOX = _require3.getQueryLayersPromisesByBBOX,\n    getMapLayersByFilter = _require3.getMapLayersByFilter;\n\nfunction QueryService() {\n  base(this);\n  /**\n   *\n   * @type {{filtrable: {ows: string}}}\n   */\n  this.condition = {\n    filtrable: {\n      ows: 'WFS'\n    }\n  };\n\n  /**\n   * @param {{ feature: unknown, feature_count: unknown, filterConfig: unknown, multilayers: boolean, condition: boolean, excludeLayers: unknown[] }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.polygon = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature,\n        _ref$feature_count = _ref.feature_count,\n        feature_count = _ref$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref$feature_count,\n        _ref$filterConfig = _ref.filterConfig,\n        filterConfig = _ref$filterConfig === undefined ? {} : _ref$filterConfig,\n        _ref$multilayers = _ref.multilayers,\n        multilayers = _ref$multilayers === undefined ? false : _ref$multilayers,\n        _ref$condition = _ref.condition,\n        condition = _ref$condition === undefined ? this.condition : _ref$condition,\n        _ref$layerName = _ref.layerName,\n        layerName = _ref$layerName === undefined ? '' : _ref$layerName,\n        _ref$excludeSelected = _ref.excludeSelected,\n        excludeSelected = _ref$excludeSelected === undefined ? null : _ref$excludeSelected,\n        _ref$external = _ref.external,\n        external = _ref$external === undefined ? {\n      add: true,\n      filter: {\n        SELECTED: false\n      }\n    } : _ref$external;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var fid = hasExternalLayersSelected ? feature.getId() : feature.get(_constant.G3W_FID);\n    var geometry = feature.getGeometry();\n\n    // in case no geometry on polygon layer response\n    if (!geometry) {\n      return this.returnExceptionResponse({\n        usermessage: {\n          type: 'warning',\n          message: layerName + ' - ' + t('sdk.mapcontrols.querybypolygon.no_geometry'),\n          messagetext: true,\n          autoclose: false\n        }\n      });\n    }\n    return this.handleRequest(\n    // request\n    getQueryLayersPromisesByGeometry(\n    // layers\n    getMapLayersByFilter(_extends({}, \"boolean\" === typeof excludeSelected ? { SELECTED: !excludeSelected } : { SELECTED_OR_ALL: true }, {\n      FILTERABLE: true,\n      VISIBLE: true\n    }), condition),\n    // options\n    {\n      geometry: geometry,\n      multilayers: multilayers,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      projection: this.project.getProjection()\n    }),\n    // query\n    {\n      fid: fid,\n      geometry: geometry,\n      layerName: layerName,\n      type: 'polygon',\n      filterConfig: filterConfig,\n      external: external\n    });\n  };\n\n  /**\n   *\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @param condition\n   * @param layersFilterObject\n   * @returns {Promise<unknown>}\n   */\n  this.bbox = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref2.bbox,\n        _ref2$feature_count = _ref2.feature_count,\n        feature_count = _ref2$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref2$feature_count,\n        _ref2$filterConfig = _ref2.filterConfig,\n        filterConfig = _ref2$filterConfig === undefined ? {} : _ref2$filterConfig,\n        _ref2$multilayers = _ref2.multilayers,\n        multilayers = _ref2$multilayers === undefined ? false : _ref2$multilayers,\n        _ref2$condition = _ref2.condition,\n        condition = _ref2$condition === undefined ? this.condition : _ref2$condition,\n        _ref2$excludeSelected = _ref2.excludeSelected,\n        excludeSelected = _ref2$excludeSelected === undefined ? null : _ref2$excludeSelected,\n        _ref2$addExternal = _ref2.addExternal,\n        addExternal = _ref2$addExternal === undefined ? true : _ref2$addExternal,\n        _ref2$layersFilterObj = _ref2.layersFilterObject,\n        layersFilterObject = _ref2$layersFilterObj === undefined ? { SELECTED_OR_ALL: true, FILTERABLE: true, VISIBLE: true } : _ref2$layersFilterObj;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var query = {\n      bbox: bbox,\n      type: 'bbox',\n      filterConfig: filterConfig,\n      external: {\n        add: addExternal,\n        filter: {\n          SELECTED: hasExternalLayersSelected || ('boolean' == typeof excludeSelected ? excludeSelected : false)\n        }\n      }\n    };\n\n    // Check If LayerIds is length === 0 so i check if add external Layer is selected\n    if (hasExternalLayersSelected) {\n      return this.handleRequest(this.getEmptyRequest(), query);\n    }\n\n    return this.handleRequest(\n    //request\n    getQueryLayersPromisesByBBOX(\n    // layers\n    getMapLayersByFilter(layersFilterObject, condition),\n    //options\n    {\n      bbox: bbox,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      multilayers: multilayers\n    }),\n    // query\n    query);\n  };\n\n  /**\n   * @param {{ coordinates: unknown, layerIds: unknown[], multilayers: boolean, query_point_tolerance: number, feature_count: number }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.coordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        coordinates = _ref4.coordinates,\n        _ref4$layerIds = _ref4.layerIds,\n        layerIds = _ref4$layerIds === undefined ? [] : _ref4$layerIds,\n        _ref4$multilayers = _ref4.multilayers,\n        multilayers = _ref4$multilayers === undefined ? false : _ref4$multilayers,\n        _ref4$query_point_tol = _ref4.query_point_tolerance,\n        query_point_tolerance = _ref4$query_point_tol === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref4$query_point_tol,\n        _ref4$addExternal = _ref4.addExternal,\n        addExternal = _ref4$addExternal === undefined ? true : _ref4$addExternal,\n        feature_count = _ref4.feature_count;\n\n    var hasExternalLayersSelected, query, layersFilterObject, layers;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n            query = {\n              coordinates: coordinates,\n              type: 'coordinates',\n              external: {\n                add: addExternal,\n                filter: {\n                  SELECTED: hasExternalLayersSelected\n                }\n              }\n            };\n\n            // Return an empty request if an external layer is selected\n\n            if (!(hasExternalLayersSelected && 0 === layerIds.length)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt('return', this.handleRequest(this.getEmptyRequest(), query));\n\n          case 4:\n            layersFilterObject = {\n              QUERYABLE: true,\n              SELECTED_OR_ALL: 0 === layerIds.length,\n              VISIBLE: true\n            };\n\n\n            if (Array.isArray(layerIds)) {\n              layerIds.forEach(function (id) {\n                if (!layersFilterObject.IDS) layersFilterObject.IDS = [];\n                layersFilterObject.IDS.push(id);\n              });\n            }\n\n            layers = getMapLayersByFilter(layersFilterObject);\n\n            // set external property `add: false` in case\n            // of selected layer in order to avoid querying\n            // a temporary layer (external layer)\n\n            if (1 === layers.length && layers[0].isSelected()) {\n              query.external.add = false;\n            }\n\n            return _context.abrupt('return', this.handleRequest(\n            // request\n            getQueryLayersPromisesByCoordinates(\n            // layers\n            layers,\n            // options\n            {\n              multilayers: multilayers,\n              feature_count: feature_count,\n              query_point_tolerance: query_point_tolerance,\n              coordinates: coordinates\n            }),\n            // query\n            query));\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   *\n   * @param request is a Promise(jquery promise at moment\n   * @returns {Promise<unknown>}\n   */\n  this.handleRequest = function (request) {\n    var _this = this;\n\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      request.then(function (response) {\n        var results = _this.handleResponse(response, query);\n        resolve(results);\n      }).fail(reject);\n    });\n  };\n\n  /**\n   *\n   * @param response\n   * @returns {Promise<{result: boolean, data: [], query: (*|null)}>}\n   */\n  this.handleResponse = function (response) {\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var layersResults = response;\n    var results = {\n      query: query,\n      type: 'ows',\n      data: [],\n      result: true // set result to true\n    };\n    layersResults.forEach(function (result) {\n      return result.data && result.data.forEach(function (data) {\n        return results.data.push(data);\n      });\n    });\n    return results;\n  };\n\n  /**\n   * Exception response has user message attribute\n   */\n  this.returnExceptionResponse = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref5) {\n      var usermessage = _ref5.usermessage;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt('return', {\n                data: [],\n                usermessage: usermessage,\n                result: true,\n                error: true\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}\n\ninherit(QueryService, BaseService);\n\nexports.default = new QueryService();\n\n},{\"app/constant\":4,\"core/data/service\":5,\"core/i18n/i18n.service\":13,\"core/utils/geo\":64,\"core/utils/utils\":67}],352:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlFeatureFromApiResponseFeature = _require2.createOlFeatureFromApiResponseFeature;\n\nvar BaseService = require('core/data/service');\n\nfunction SearchService() {\n  base(this);\n  // method to searchfeature features\n  this.features = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { layer: layer, search_endpoint: search_endpoint, filter: filter, raw: false, queryUrl: queryUrl, feature_count: feature_count, ordering: ordering };\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt('return', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var promisesSearch, layer, params, _options$raw, raw, filter, dataSearch, layers, provider, promise, responses;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      promisesSearch = [];\n                      layer = options.layer, params = _objectWithoutProperties(options, ['layer']);\n                      _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, filter = options.filter;\n                      dataSearch = {\n                        data: [],\n                        query: {\n                          type: 'search',\n                          search: filter\n                        },\n                        type: params.search_endpoint\n                      };\n                      // check if layer is array\n\n                      layers = Array.isArray(layer) ? layer : [layer];\n                      //check if filter is array\n\n                      params.filter = Array.isArray(params.filter) ? params.filter : [params.filter];\n                      // if api or ows search_endpoint\n                      if (params.search_endpoint === 'api') layers.forEach(function (layer, index) {\n                        return promisesSearch.push(layer.searchFeatures(_extends({}, params, {\n                          filter: params.filter[index]\n                        })));\n                      });else {\n                        // need to get query provider for get one request only\n                        provider = layers[0].getProvider('search');\n                        promise = new Promise(function (resolve, reject) {\n                          provider.query(_extends({}, params, {\n                            layers: layers\n                          }, layers[0].getSearchParams()) // nee to get search params\n                          ).then(function (data) {\n                            resolve({\n                              data: data\n                            });\n                          }).fail(reject);\n                        });\n\n                        promisesSearch.push(promise);\n                      }\n                      _context.next = 9;\n                      return Promise.allSettled(promisesSearch);\n\n                    case 9:\n                      responses = _context.sent;\n\n                      responses.forEach(function () {\n                        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                            status = _ref3.status,\n                            value = _ref3.value;\n\n                        // need to filter only fulfilled response\n                        if (status === 'fulfilled') {\n                          if (raw) {\n                            dataSearch.data.push(params.search_endpoint === 'api' ? {\n                              data: value\n                            } : value);\n                          } else {\n                            var _value$data = value.data,\n                                data = _value$data === undefined ? [] : _value$data;\n\n                            params.search_endpoint === 'api' ? data.length && dataSearch.data.push(data[0]) : dataSearch.data = data;\n                          }\n                        }\n                      });\n                      return _context.abrupt('return', dataSearch);\n\n                    case 12:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, this);\n            }))());\n\n          case 1:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  /**\n   * Method to return feature from api\n   * @param layer\n   * @param fid\n   * @returns {Promise<{data: [], layer}|{data: [{features: ([*]|[]), query: {type: string}, layer: *}]}>}\n   */\n  this.fids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref5.layer,\n        _ref5$formatter = _ref5.formatter,\n        formatter = _ref5$formatter === undefined ? 0 : _ref5$formatter,\n        _ref5$fids = _ref5.fids,\n        fids = _ref5$fids === undefined ? [] : _ref5$fids;\n\n    var response, features;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            response = {\n              data: [{\n                layer: layer,\n                features: []\n              }],\n              query: {\n                type: 'search'\n              }\n            };\n            _context3.prev = 1;\n            _context3.t0 = layer;\n\n            if (!_context3.t0) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return layer.getFeatureByFids({ fids: fids, formatter: formatter });\n\n          case 6:\n            _context3.t0 = _context3.sent;\n\n          case 7:\n            features = _context3.t0;\n\n            features && features.forEach(function (feature) {\n              return response.data[0].features.push(createOlFeatureFromApiResponseFeature(feature));\n            });\n            _context3.next = 13;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t1 = _context3['catch'](1);\n\n          case 13:\n            return _context3.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[1, 11]]);\n  }));\n\n  /**\n   * Search service function to load many layers with each one with its fids\n   * @param layers: Array of layers that we want serach fids features\n   * @param fids: Array of array of fids\n   * @param formatter: how we want visualize\n   * @returns {Promise<void>}\n   */\n  this.layersfids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _this = this;\n\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers,\n        _ref7$fids = _ref7.fids,\n        fids = _ref7$fids === undefined ? [] : _ref7$fids,\n        _ref7$formatter = _ref7.formatter,\n        formatter = _ref7$formatter === undefined ? 0 : _ref7$formatter;\n\n    var promises, response, layersresponses;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            promises = [];\n            response = {\n              data: [],\n              query: {\n                type: 'search'\n              }\n            };\n\n            layers.forEach(function (layer, index) {\n              promises.push(_this.fids({\n                layer: layer,\n                fids: fids[index],\n                formatter: formatter\n              }));\n            });\n            _context4.prev = 3;\n            _context4.next = 6;\n            return Promise.all(promises);\n\n          case 6:\n            layersresponses = _context4.sent;\n\n            layersresponses.forEach(function (layerresponse) {\n              return response.data.push(layerresponse.data);\n            });\n            _context4.next = 13;\n            break;\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4['catch'](3);\n\n            console.log(_context4.t0);\n\n          case 13:\n            return _context4.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[3, 10]]);\n  }));\n}\n\ninherit(SearchService, BaseService);\n\nexports.default = new SearchService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":67}],353:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dataExpression = require('services/data-expression');\n\nvar _dataExpression2 = _interopRequireDefault(_dataExpression);\n\nvar _dataOws = require('services/data-ows');\n\nvar _dataOws2 = _interopRequireDefault(_dataOws);\n\nvar _dataProxy = require('services/data-proxy');\n\nvar _dataProxy2 = _interopRequireDefault(_dataProxy);\n\nvar _dataQuery = require('services/data-query');\n\nvar _dataQuery2 = _interopRequireDefault(_dataQuery);\n\nvar _dataSearch = require('services/data-search');\n\nvar _dataSearch2 = _interopRequireDefault(_dataSearch);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**\n                                                                                                                                                                                                     * @file\n                                                                                                                                                                                                     * @since v3.6\n                                                                                                                                                                                                     */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod;\n\nfunction Routerservice() {\n  //set deafult outputplace\n  this.defaultoutputplaces = ['gui'];\n  // set current outputplaces\n  this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces)); // array contains all\n\n  /**\n   * Object contain output function to show results\n   * @type {{gui(*=, *=): void, iframe(*=, *=): void}}\n   * dataPromise: is thre promise request for data,\n   * options: {\n   *   show: method or Boolean to set if show or not the result on output\n   *   before : async function to handle data return from server\n   *   after: method to handle or do some thisn after show data\n   * }\n   */\n  this.ouputplaces = {\n    gui: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                _context.prev = 1;\n\n                _gui2.default.outputDataPlace(dataPromise, options);\n                _context.next = 5;\n                return dataPromise;\n\n              case 5:\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                _gui2.default.setLoadingContent(false);\n\n              case 10:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function gui(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return gui;\n    }(),\n    iframe: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _iframePlugin2.default.outputDataPlace(dataPromise, options);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function iframe(_x4) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return iframe;\n    }()\n  };\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.services = {\n              query: _dataQuery2.default,\n              search: _dataSearch2.default,\n              expression: _dataExpression2.default,\n              proxy: _dataProxy2.default,\n              ows: _dataOws2.default\n            };\n\n          case 1:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  /**\n   *\n   * @param contextAndMethod 'String contain type of service(search or query): method'\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.getData = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(contextAndMethod) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _splitContextAndMetho, context, method, service, _options$inputs, inputs, _options$outputs, outputs, dataPromise, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _splitContextAndMetho = splitContextAndMethod(contextAndMethod), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              service = this.getService(context);\n              _options$inputs = options.inputs, inputs = _options$inputs === undefined ? {} : _options$inputs, _options$outputs = options.outputs, outputs = _options$outputs === undefined ? {} : _options$outputs;\n              //return a promise and not the data\n\n              dataPromise = service[method](inputs);\n\n              outputs && this.currentoutputplaces.forEach(function (place) {\n                _this.ouputplaces[place](dataPromise, outputs);\n              });\n              //return always data\n              _context4.next = 7;\n              return dataPromise;\n\n            case 7:\n              data = _context4.sent;\n              _context4.next = 10;\n              return data;\n\n            case 10:\n              return _context4.abrupt('return', _context4.sent);\n\n            case 11:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    return function (_x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   *Force to show empty output data\n   *\n   * */\n  this.showEmptyOutputs = function () {\n    var _this2 = this;\n\n    var dataPromise = Promise.resolve({\n      data: []\n    });\n    this.currentoutputplaces.forEach(function (place) {\n      _this2.ouputplaces[place](dataPromise);\n    });\n  };\n\n  /**\n   * Set a costum datapromiseoutput to applicationa outputs settede\n   * @param dataPromise\n   */\n  this.showCustomOutputDataPromise = function (dataPromise) {\n    var _this3 = this;\n\n    this.currentoutputplaces.forEach(function (place) {\n      _this3.ouputplaces[place](dataPromise, {});\n    });\n  };\n\n  /**\n   *\n   * @param serviceName\n   * @returns {*}\n   */\n  this.getService = function (serviceName) {\n    return this.services[serviceName];\n  };\n\n  /*\n  * */\n  this.setOutputPlaces = function () {\n    var places = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.currentoutputplaces = places;\n  };\n\n  /**\n   *\n   * @param place\n   */\n  this.addCurrentOutputPlace = function (place) {\n    place && this.currentoutputplaces.indexOf(place) === -1 && this.currentoutputplaces.push(place);\n  };\n\n  /**\n   *\n   * @param place\n   * @param method has to get two parameters data (promise) and options (Object)\n   * ex {\n   * place: <newplace>\n   * method(dataPromise, options={}){}\n   *   }\n   */\n  this.addNewOutputPlace = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        place = _ref5.place,\n        _ref5$method = _ref5.method,\n        method = _ref5$method === undefined ? function () {} : _ref5$method;\n\n    var added = false;\n    if (this.ouputplaces[place] === undefined) {\n      this.ouputplaces[place] = method;\n      added = true;\n    }\n    return added;\n  };\n\n  // reset default configuration\n  this.resetDefaultOutput = function () {\n    this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces));\n  };\n}\n\nexports.default = new Routerservice();\n\n},{\"core/utils/utils\":67,\"services/data-expression\":348,\"services/data-ows\":349,\"services/data-proxy\":350,\"services/data-query\":351,\"services/data-search\":352,\"services/gui\":356,\"services/iframe-plugin\":359}],354:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n//lass that is usefult to apply changes to features (undo/redo) singleton\nfunction ChangesManager() {\n  this.execute = function (object, items, reverse) {\n    var fnc = void 0;\n    var feature = void 0;\n    items.forEach(function (item) {\n      feature = item.feature;\n      if (reverse) {\n        // change to opposite\n        feature[ChangesManager.Actions[feature.getState()].opposite]();\n      }\n      // get method from object\n      fnc = ChangesManager.Actions[feature.getState()].fnc;\n      object[fnc](feature);\n    });\n  };\n}\n\n// know actions\nChangesManager.Actions = {\n  'add': {\n    fnc: 'addFeature',\n    opposite: 'delete'\n  },\n  'delete': {\n    fnc: 'removeFeature',\n    opposite: 'add'\n  },\n  'update': {\n    fnc: 'updateFeature',\n    opposite: 'update'\n  }\n};\n\nexports.default = new ChangesManager();\n\n},{}],355:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('gui/utils/utils'),\n    Stack = _require.barstack; /**\n                                * @file\n                                * @since v3.7\n                                */\n\nfunction FloatbarService() {\n  this.stack = new Stack();\n  this.init = function (layout) {\n    this.layout = layout;\n    this.sidebarEl = $(this.layout.options.controlSidebarOptions.selector);\n    this._zindex = this.sidebarEl.css(\"z-index\");\n    this._modalOverlay = null;\n    this._modal = false;\n    this._isopen = false;\n  };\n\n  this.isOpen = function () {\n    return this._isopen;\n  };\n\n  this.open = function () {\n    this.layout.floatBar.open(this.sidebarEl, true);\n    this._isopen = true;\n  };\n\n  this.close = function () {\n    this.layout.floatBar.close(this.sidebarEl, true);\n    this._isopen = false;\n  };\n\n  this.showPanel = function (panel, options) {\n    options = options || {};\n    var append = options.append || false;\n    var modal = options.modal || false;\n    options.parent = \"#g3w-floatbarpanel-placeholder\";\n    this.stack.push(panel, options);\n    if (!this._isopen) this.open();\n  };\n\n  this.closePanel = function (panel) {\n    if (panel) this.stack.remove(panel);else this.stack.pop();\n    if (!this.stack.getLength()) {\n      if (this._modal) {\n        _gui2.default.setModal(false);\n        this.close();\n        $('.control-sidebar-bg').toggleClass('control-sidebar-bg-shadow');\n        this.sidebarEl.css(\"z-index\", \"\");\n        this.sidebarEl.css(\"padding-top\", \"50px\");\n        $('.control-sidebar-bg').css(\"z-index\", \"\");\n        this._modal = false;\n      } else this.close();\n    }\n  };\n\n  this.hidePanel = function () {\n    this.close();\n  };\n}\n\nexports.default = new FloatbarService();\n\n},{\"gui/utils/utils\":186,\"services/gui\":356}],356:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\n// API della GUI.\n// methods have be defined by application\n// app should call GUI.ready() when GUI is ready\nfunction GUI() {\n  this.setters = {\n    setContent: function setContent() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.emit('opencontent', true);\n      this._setContent(options);\n    }\n  };\n  this.isready = false;\n  // images urls\n  this.getResourcesUrl = noop;\n  // show a Vue form\n  this.showForm = noop;\n  this.closeForm = noop;\n  this.showListing = noop;\n  this.closeListing = noop;\n  this.hideListing = noop;\n  // modal\n  this.setModal = noop;\n  this.showFullModal = noop;\n  // modal\n  this.showQueryResults = noop;\n  this.hideQueryResults = noop;\n  this.showPanel = noop;\n  this.hidePanel = noop;\n  this.reloadComponents = noop;\n  this.showUserMessage = noop;\n  this.closeUserMessage = noop;\n  this.showModalDialog = noop;\n  //property to how result has to be add or close all and show new\n  // false mean create new and close all open\n  this.push_content = false;\n  this.setPushContent = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.push_content = bool;\n  };\n  this.getPushContent = function () {\n    return this.push_content;\n  };\n  this._closeUserMessageBeforeSetContent = true;\n  this.setComponent = function (component) {\n    _components2.default.registerComponent(component);\n  };\n  this.getComponent = function (id) {\n    return _components2.default.getComponent(id);\n  };\n  this.getComponents = function () {\n    return _components2.default.getComponents();\n  };\n\n  this.goto = function (url) {\n    _router2.default.goto(url);\n  };\n  this.ready = function () {\n    this.emit('ready');\n    this.isready = true;\n  };\n  this.guiResized = function () {\n    this.emit('guiresized');\n  };\n  //ready GUI\n  this.isReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      return _this.isready ? resolve() : _this.once('ready', resolve);\n    });\n  };\n  /**\n   * Passing a component application ui id return service that belong to component\n   * @param componentId\n   * @returns {*}\n   */\n  this.getService = function (componentId) {\n    var component = this.getComponent(componentId);\n    return component && component.getService();\n  };\n  /* spinner */\n  this.showSpinner = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n  this.hideSpinner = function (id) {};\n  /* end spinner */\n  this.notify = noop;\n  this.dialog = noop;\n  this.isMobile = noop;\n  //useful to registere setters\n  base(this);\n}\n\ninherit(GUI, G3WObject);\n\nexports.default = new GUI();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/router\":363,\"store/components\":370}],357:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction AppService() {\n  base(this);\n  this.mapControls = {\n    screenshot: {\n      control: null\n    },\n    changeMap: {\n      control: null\n    }\n  };\n\n  /**\n   * Init service\n   * @returns {Promise<unknown>}\n   */\n  this.init = function () {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this.mapService.once('ready', function () {\n        _this._map = _this.mapService.getMap();\n        _this._mapCrs = _this.mapService.getCrs();\n        _this.mapControls.screenshot.control = _this.mapService.getMapControlByType({\n          type: 'screenshot'\n        });\n        _this.setReady(true);\n        resolve();\n      });\n    });\n  };\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.results = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _ref$capture = _ref.capture,\n          capture = _ref$capture === undefined ? true : _ref$capture;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              capture ? _data2.default.setOutputPlaces(['iframe']) : _data2.default.resetDefaultOutput();\n              return _context.abrupt('return', []);\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  this.screenshot = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3) {\n      var _this2 = this;\n\n      var _ref3$capture = _ref3.capture,\n          capture = _ref3$capture === undefined ? true : _ref3$capture;\n      var action;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              action = 'app:screenshot';\n\n              capture ? this.mapControls.screenshot.control.overwriteOnClickEvent(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                var blob;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return _this2.mapService.createMapImage();\n\n                      case 3:\n                        blob = _context2.sent;\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: true,\n                            data: blob\n                          }\n                        });\n                        _context2.next = 10;\n                        break;\n\n                      case 7:\n                        _context2.prev = 7;\n                        _context2.t0 = _context2['catch'](0);\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: false,\n                            data: _context2.t0\n                          }\n                        });\n\n                      case 10:\n                      case 'end':\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, _this2, [[0, 7]]);\n              }))) : this.mapControls.screenshot.control.resetOriginalOnClickEvent();\n\n            case 2:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getcenter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', this.mapService.getCenter());\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  /**\n   * Zoom to coordinates\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtocoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$coordinates, coordinates, _params$highlight, highlight;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _params$coordinates = params.coordinates, coordinates = _params$coordinates === undefined ? [] : _params$coordinates, _params$highlight = params.highlight, highlight = _params$highlight === undefined ? false : _params$highlight;\n\n            if (!(coordinates && Array.isArray(coordinates) && coordinates.length === 2)) {\n              _context5.next = 6;\n              break;\n            }\n\n            this.mapService.zoomTo(coordinates);\n            return _context5.abrupt('return', coordinates);\n\n          case 6:\n            return _context5.abrupt('return', Promise.reject(coordinates));\n\n          case 7:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt('return', this.mapService.getMapExtent());\n\n          case 1:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   *\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtoextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$extent, extent;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _params$extent = params.extent, extent = _params$extent === undefined ? [] : _params$extent;\n\n            if (!(extent && Array.isArray(extent) && extent.length === 4)) {\n              _context7.next = 6;\n              break;\n            }\n\n            this.mapService.goToBBox(extent);\n            return _context7.abrupt('return', extent);\n\n          case 6:\n            return _context7.abrupt('return', Promise.reject(extent));\n\n          case 7:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  //method to zoom to features\n  this.zoomtofeature = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n    var _this3 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            return _context9.abrupt('return', new Promise(function () {\n              var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n                var qgs_layer_id, feature, _params$highlight2, highlight, response;\n\n                return regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        qgs_layer_id = params.qgs_layer_id, feature = params.feature, _params$highlight2 = params.highlight, highlight = _params$highlight2 === undefined ? false : _params$highlight2;\n\n                        qgs_layer_id = _this3.getQgsLayerId({\n                          qgs_layer_id: qgs_layer_id\n                        });\n\n                        _context8.next = 4;\n                        return _this3.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: highlight\n                        });\n\n                      case 4:\n                        response = _context8.sent;\n\n\n                        resolve(response.qgs_layer_id);\n\n                      case 6:\n                      case 'end':\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8, _this3);\n              }));\n\n              return function (_x8, _x9) {\n                return _ref11.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context9.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n}\n\ninherit(AppService, BaseService);\n\nexports.default = new AppService();\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":67,\"services/data\":353}],358:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar BasePluginService = require('core/iframe/services/plugins/service');\n\nvar _g3wsdk$core$utils = g3wsdk.core.utils,\n    base = _g3wsdk$core$utils.base,\n    inherit = _g3wsdk$core$utils.inherit;\n\n\nfunction EditingService() {\n  var _this2 = this;\n\n  base(this);\n  this.pluginName = 'editing';\n  this.subscribevents = [];\n  this.isRunning = false;\n  this.responseObject = {\n    cb: null, // resolve or reject promise method\n    qgs_layer_id: null,\n    error: null\n  };\n  this.config = {\n    tools: {\n      add: {\n        disabled: [{\n          id: 'deletefeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      update: {\n        disabled: [{\n          id: 'addfeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'deletefeature'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      delete: {\n        enabled: [{\n          id: 'deletefeature',\n          options: {\n            active: true\n          }\n        }]\n      }\n    }\n  };\n\n  // METHODS CALLED FROM EACH ACTION METHOD\n  // run before each action\n  this.startAction = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _this = this;\n\n      var toolboxes = _ref.toolboxes,\n          resolve = _ref.resolve,\n          reject = _ref.reject;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.responseObject.cb = reject;\n              // set same mode autosave\n              this.dependencyApi.setSaveConfig({\n                cb: {\n                  done: function done(toolbox) {\n                    //set toolbox id\n                    _this.responseObject.cb = resolve;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = null;\n                    // close panel that fire closeediting panel event\n                    _this.dependencyApi.hidePanel();\n                  }, // called when commit changes is done successuffly\n                  error: function error(toolbox, _error) {\n                    _this.responseObject.cb = reject;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = _error;\n                  } // called whe commit change receive an error\n                }\n              });\n              // set toolboxes visible base on value of qgs_layer_id\n              this.dependencyApi.showPanel({\n                toolboxes: toolboxes\n              });\n              this.isRunning = true;\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  //run after each action\n  this.stopAction = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var qgs_layer_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            qgs_layer_id = options.qgs_layer_id;\n            _context2.t0 = qgs_layer_id;\n\n            if (!_context2.t0) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return this.stopEditing(qgs_layer_id);\n\n          case 5:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  //// subscribers handlers\n  this.subscribersHandlers = {\n    canUndo: function canUndo(_ref4) {\n      var activeTool = _ref4.activeTool,\n          _ref4$disableToolboxe = _ref4.disableToolboxes,\n          disableToolboxes = _ref4$disableToolboxe === undefined ? [] : _ref4$disableToolboxe;\n      return function (bool) {\n        //set currenttoolbocx id in editing to null\n        if (bool === false) {\n          _this2.responseObject.qgs_layer_id = null;\n          _this2.responseObject.error = null;\n        }\n        activeTool.setEnabled(!bool);\n        disableToolboxes.forEach(function (toolbox) {\n          return toolbox.setEditing(!bool);\n        });\n      };\n    },\n    canRedo: function canRedo() {},\n    cancelform: function cancelform(cb) {\n      return function () {\n        cb();\n      };\n    }, //run callback\n    addfeature: function addfeature() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          properties = _ref5.properties,\n          toolboxes = _ref5.toolboxes;\n\n      return function (feature) {\n        Object.keys(properties).forEach(function (property) {\n          return feature.set(property, properties[property]);\n        });\n        var activeTool = void 0;\n        var disableToolboxes = [];\n        toolboxes.forEach(function (toolbox) {\n          var addFeatureTool = toolbox.getToolById('addfeature');\n          if (addFeatureTool.isActive()) {\n            addFeatureTool.setEnabled(false);\n            activeTool = addFeatureTool;\n          } else {\n            toolbox.setEditing(false);\n            disableToolboxes.push(toolbox);\n          }\n        });\n        //just one time\n        if (_this2.subscribevents.find(function (eventObject) {\n          return eventObject.event !== 'canUndo';\n        })) {\n          var handler = _this2.addSubscribeEvents('canUndo', {\n            activeTool: activeTool,\n            disableToolboxes: disableToolboxes\n          });\n          _this2.addSubscribeEvents('cancelform', handler);\n        }\n      };\n    },\n    closeeditingpanel: function closeeditingpanel(_ref6) {\n      var qgs_layer_id = _ref6.qgs_layer_id;\n      return function () {\n        // response to router service\n        _this2.responseObject.cb({\n          qgs_layer_id: _this2.responseObject.qgs_layer_id,\n          error: _this2.responseObject.error\n        });\n        // stop action\n        _this2.stopAction({ qgs_layer_id: qgs_layer_id });\n      };\n    }\n  };\n\n  // method to add subscribe refenrence\n  this.addSubscribeEvents = function (event) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var handler = this.subscribersHandlers[event](options);\n    this.dependencyApi.subscribe(event, handler);\n    this.subscribevents.push({\n      event: event,\n      handler: handler\n    });\n    return handler;\n  };\n\n  /**\n   * Reset subscriber editing plugin events\n   */\n  this.resetSubscribeEvents = function () {\n    var _this3 = this;\n\n    this.subscribevents.forEach(function (_ref7) {\n      var event = _ref7.event,\n          handler = _ref7.handler;\n\n      _this3.dependencyApi.unsubscribe(event, handler);\n    });\n  };\n\n  /**\n   * Method called whe we want add a feature\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.add = function () {\n    var _this4 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var configQglLayerId, data, properties, qgs_layer_id, options, toolboxes, toolbox;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!_this4.isRunning) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                reject();\n                _context3.next = 19;\n                break;\n\n              case 4:\n                // extract qgslayerid from configuration message\n                configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                properties = data.properties;\n                qgs_layer_id = _this4.getQgsLayerId({\n                  qgs_layer_id: configQglLayerId,\n                  noValue: _this4.dependencyApi.getEditableLayersId()\n                });\n                //call method common\n\n                _context3.next = 9;\n                return _this4.startAction({\n                  toolboxes: qgs_layer_id,\n                  resolve: resolve,\n                  reject: reject\n                });\n\n              case 9:\n\n                // create options\n                options = {\n                  tools: _this4.config.tools.add,\n                  startstopediting: false,\n                  action: 'add',\n                  selected: qgs_layer_id.length === 1\n                };\n                // return all toolboxes\n\n                _context3.next = 12;\n                return _this4.startEditing(qgs_layer_id, options);\n\n              case 12:\n                toolboxes = _context3.sent;\n\n                toolboxes = toolboxes.filter(function (toolboxPromise) {\n                  return toolboxPromise.status === 'fulfilled';\n                }).map(function (toolboxPromise) {\n                  return toolboxPromise.value;\n                });\n                !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                toolbox = toolboxes.length === 1 && toolboxes[0];\n\n                toolbox && toolbox.setActiveTool(toolbox.getToolById('addfeature'));\n                // // in case of no feature add avent subscribe\n                _this4.addSubscribeEvents('addfeature', { properties: properties, toolboxes: toolboxes });\n                _this4.addSubscribeEvents('closeeditingpanel', { qgs_layer_id: qgs_layer_id });\n\n              case 19:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * Method called when we want update a know feature field\n   * @param config\n   * @returns {Promise<unknown>}\n   */\n  this.update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _this5 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt('return', new Promise(function () {\n              var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n                var configQglLayerId, data, feature, qgs_layer_id, response, found, options;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (!_this5.isRunning) {\n                          _context4.next = 4;\n                          break;\n                        }\n\n                        reject();\n                        _context4.next = 22;\n                        break;\n\n                      case 4:\n                        configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                        feature = data.feature;\n                        qgs_layer_id = _this5.getQgsLayerId({\n                          qgs_layer_id: configQglLayerId,\n                          noValue: _this5.dependencyApi.getEditableLayersId()\n                        });\n                        _context4.next = 9;\n                        return _this5.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: true,\n                          selected: qgs_layer_id.length === 1 // set selected toolbox\n                        });\n\n                      case 9:\n                        response = _context4.sent;\n                        found = response.found;\n\n                        if (!found) {\n                          _context4.next = 21;\n                          break;\n                        }\n\n                        _context4.next = 14;\n                        return _this5.startAction({\n                          toolboxes: [response.qgs_layer_id],\n                          resolve: resolve,\n                          reject: reject\n                        });\n\n                      case 14:\n\n                        // create options\n                        options = {\n                          feature: feature,\n                          tools: _this5.config.tools.update,\n                          startstopediting: false,\n                          action: 'update'\n                        };\n\n                        // return all toolboxes\n\n                        _context4.next = 17;\n                        return _this5.startEditing([response.qgs_layer_id], options);\n\n                      case 17:\n                        !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                        _this5.addSubscribeEvents('closeeditingpanel', {\n                          qgs_layer_id: [response.qgs_layer_id]\n                        });\n                        _context4.next = 22;\n                        break;\n\n                      case 21:\n                        reject();\n\n                      case 22:\n                      case 'end':\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, _this5);\n              }));\n\n              return function (_x9, _x10) {\n                return _ref10.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  this.delete = function () {};\n\n  /**\n   * Start editing called when we want to start editing\n   * @param qgs_layer_id\n   * @param options\n   * @returns {Promise<unknown|void>}\n   */\n  this.startEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var _this6 = this;\n\n    var qgs_layer_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$action, action, feature, filter, startEditingPromise;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _options$action = options.action, action = _options$action === undefined ? 'add' : _options$action, feature = options.feature;\n            filter = {};\n\n            options.filter = filter;\n            _context6.t0 = action;\n            _context6.next = _context6.t0 === 'add' ? 6 : _context6.t0 === 'update' ? 8 : 10;\n            break;\n\n          case 6:\n            filter.nofeatures = true;\n            return _context6.abrupt('break', 10);\n\n          case 8:\n            filter.field = feature.field + '|eq|' + feature.value;\n            return _context6.abrupt('break', 10);\n\n          case 10:\n            startEditingPromise = [];\n\n            qgs_layer_id.forEach(function (layerid) {\n              startEditingPromise.push(_this6.dependencyApi.startEditing(layerid, options));\n            });\n            _context6.next = 14;\n            return Promise.allSettled(startEditingPromise);\n\n          case 14:\n            return _context6.abrupt('return', _context6.sent);\n\n          case 15:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   * Stop editing\n   * @param qgs_layer_id\n   * @returns {Promise<unknown>}\n   */\n  this.stopEditing = function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(qgs_layer_id) {\n      var _this7 = this;\n\n      var stopEditingPromises;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              stopEditingPromises = [];\n\n              qgs_layer_id.forEach(function (layerid) {\n                stopEditingPromises.push(_this7.dependencyApi.stopEditing(layerid));\n              });\n              _context7.next = 4;\n              return Promise.allSettled(stopEditingPromises);\n\n            case 4:\n              this.clear();\n\n            case 5:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    return function (_x13) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  this.stop = function () {\n    var _this8 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this8.dependencyApi.hidePanel();\n      _gui2.default.hideSidebar();\n      _this8.once('clear', resolve);\n    });\n  };\n\n  /**\n   * Method called wen we want to reset default editing plugin behaviour\n   *\n   * */\n  this.clear = function () {\n    this.dependencyApi.resetDefault();\n    this.isRunning = false;\n    this.responseObject = {\n      cb: null, // resolve or reject promise method\n      qgs_layer_id: null,\n      error: null\n    };\n    this.resetSubscribeEvents();\n    this.emit('clear');\n  };\n}\n\ninherit(EditingService, BasePluginService);\n\nexports.default = new EditingService();\n\n},{\"core/iframe/services/plugins/service\":17,\"services/gui\":356}],359:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod,\n    uniqueId = _require.uniqueId;\n\nfunction IframePluginService() {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //project is current project send by application service\n  this.pendingactions = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref2.project;\n\n    var layers, serviceNames, i, service;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _gui2.default.isReady();\n\n          case 2:\n            this.services = require('core/iframe/services/index');\n            //set eventResponse handler to alla services\n            this.eventResponseServiceHandler = function (_ref3) {\n              var action = _ref3.action,\n                  response = _ref3.response;\n\n              _this.postMessage({\n                id: null,\n                action: action,\n                response: response\n              });\n            };\n            /*\n            get layer attributes from project layers state\n             */\n            layers = project.state.layers.map(function (layer) {\n              return {\n                id: layer.id,\n                name: layer.name\n              };\n            });\n            //initialize all service\n\n            serviceNames = Object.keys(this.services);\n            i = 0;\n\n          case 7:\n            if (!(i < serviceNames.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            service = this.services[serviceNames[i]];\n            // set common layer attribute service just one time\n\n            service.getLayers() === undefined && service.setLayers(layers);\n            _context.next = 12;\n            return service.init();\n\n          case 12:\n            service.on('response', this.eventResponseServiceHandler);\n\n          case 13:\n            i++;\n            _context.next = 7;\n            break;\n\n          case 16:\n            /**\n             * Send post message is ready\n             */\n            this.postMessage({\n              id: null,\n              action: \"app:ready\",\n              response: {\n                result: true,\n                data: {\n                  layers: layers\n                }\n              }\n            });\n\n            if (window.addEventListener) window.addEventListener(\"message\", this.getMessage, false);else window.attachEvent(\"onmessage\", this.getMessage);\n\n          case 18:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   * Outputplace iframe get by DataRouteService\n   * @param dataPromise\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.outputDataPlace = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _options$action, action, _ref5, result, _ref5$data, data, parser, outputData;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _options$action = options.action, action = _options$action === undefined ? 'app:results' : _options$action;\n              _context2.next = 3;\n              return dataPromise;\n\n            case 3:\n              _ref5 = _context2.sent;\n              result = _ref5.result;\n              _ref5$data = _ref5.data;\n              data = _ref5$data === undefined ? [] : _ref5$data;\n              parser = new ol.format.GeoJSON();\n              outputData = [];\n\n              try {\n                outputData = data.map(function (_ref6) {\n                  var layer = _ref6.layer,\n                      features = _ref6.features;\n                  return _defineProperty({}, layer.getId(), {\n                    features: parser.writeFeatures(features)\n                  });\n                });\n              } catch (err) {\n                result: false;\n                outputData: err;\n              }\n              this.postMessage({\n                id: null,\n                action: action,\n                response: {\n                  result: result,\n                  data: outputData\n                }\n              });\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // method to post message to parent\n  this.postMessage = function () {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  };\n\n  this.stopPendingActions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var promises;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promises = [];\n\n            Object.keys(this.pendingactions).forEach(function (id) {\n              var context = _this2.pendingactions[id].context;\n\n              promises.push(_this2.services[context].stop());\n              delete _this2.pendingactions[id];\n            });\n            return _context3.abrupt('return', Promise.allSettled(promises));\n\n          case 3:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  // method to handle all message from window\n  this.getMessage = function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(evt) {\n      var _evt$data, _evt$data$id, id, _evt$data$single, single, action, params, _splitContextAndMetho, context, method, result, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(evt && evt.data)) {\n                _context4.next = 24;\n                break;\n              }\n\n              _evt$data = evt.data, _evt$data$id = _evt$data.id, id = _evt$data$id === undefined ? uniqueId() : _evt$data$id, _evt$data$single = _evt$data.single, single = _evt$data$single === undefined ? true : _evt$data$single, action = _evt$data.action, params = _evt$data.data;\n              _splitContextAndMetho = splitContextAndMethod(action), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              result = false;\n              data = void 0;\n              _context4.prev = 5;\n\n              if (!_this3.services[context].getReady()) {\n                _context4.next = 16;\n                break;\n              }\n\n              _context4.t0 = single;\n\n              if (!_context4.t0) {\n                _context4.next = 11;\n                break;\n              }\n\n              _context4.next = 11;\n              return _this3.stopPendingActions();\n\n            case 11:\n              _this3.pendingactions[id] = {\n                context: context\n              };\n              _context4.next = 14;\n              return _this3.services[context][method](params);\n\n            case 14:\n              data = _context4.sent;\n\n              result = true;\n\n            case 16:\n              _context4.next = 22;\n              break;\n\n            case 18:\n              _context4.prev = 18;\n              _context4.t1 = _context4['catch'](5);\n\n              result = false;\n              data = _context4.t1;\n\n            case 22:\n              _this3.postMessage({\n                id: id,\n                action: action,\n                response: {\n                  result: result,\n                  data: data\n                }\n              });\n              delete _this3.pendingactions[id];\n\n            case 24:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, _this3, [[5, 18]]);\n    }));\n\n    return function (_x6) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  // Called when change map or clear\n  this.clear = function () {\n    var serviceNames = Object.keys(this.services);\n    for (var i = 0; i < serviceNames.length; i++) {\n      var service = this.services[serviceNames[i]];\n      service.off('response', this.eventResponseServiceHandler);\n    }\n    this.stopPendingActions();\n    if (window.removeEventListener) window.removeEventListener(\"message\", this.getMessage, false);else window.detachEvent(\"onmessage\", this.getMessage);\n  };\n}\n\nexports.default = new IframePluginService();\n\n},{\"core/iframe/services/index\":16,\"core/utils/utils\":67,\"services/gui\":356}],360:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// service sidebar\nfunction navbaritemsService() {\n  this.state = {\n    items: {\n      left: [],\n      right: []\n    }\n  };\n  this.addItem = function (item) {\n    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'right';\n\n    this.state.items[position].push(item);\n  };\n\n  base(this);\n}\n\ninherit(navbaritemsService, G3WObject);\n\nexports.default = new navbaritemsService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],361:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    uniqueId = _require2.uniqueId,\n    createFilterFromString = _require2.createFilterFromString,\n    XHR = _require2.XHR;\n\nvar QUERYBUILDERSEARCHES = 'QUERYBUILDERSEARCHES';\n\nfunction QueryBuilderService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._cacheValues = {};\n  this._items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES) || {};\n}\n\nvar proto = QueryBuilderService.prototype;\n\nproto.getCurrentProjectItems = function () {\n  var projectId = _projects2.default.getCurrentProject().getId();\n  this._items[projectId] = this._items[projectId] || [];\n  return this._items[projectId];\n};\n\nproto.getItems = function (projectId) {\n  var items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  return items ? items[projectId] || [] : [];\n};\n\nproto._getLayerById = function (layerId) {\n  return _catalogLayers2.default.getLayerById(layerId);\n};\n\nproto.getValues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref2.layerId,\n      field = _ref2.field;\n\n  var valuesField, layer, dataUrl, response;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          this._cacheValues[layerId] = this._cacheValues[layerId] || {};\n          valuesField = this._cacheValues[layerId][field];\n\n          if (!(valuesField === undefined)) {\n            _context.next = 18;\n            break;\n          }\n\n          _context.prev = 3;\n          layer = this._getLayerById(layerId);\n          dataUrl = layer.getUrl('data');\n          _context.next = 8;\n          return XHR.get({\n            url: dataUrl,\n            params: {\n              ordering: field,\n              unique: field\n            }\n          });\n\n        case 8:\n          response = _context.sent;\n\n          if (response.result) this._cacheValues[layerId][field] = this._cacheValues[layerId][field] || response.data;\n          return _context.abrupt('return', this._cacheValues[layerId][field] || []);\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context['catch'](3);\n\n          reject();\n\n        case 16:\n          _context.next = 19;\n          break;\n\n        case 18:\n          return _context.abrupt('return', valuesField);\n\n        case 19:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 13]]);\n}));\n\nproto.run = function () {\n  var _this = this;\n\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref3.layerId,\n      stringFilter = _ref3.filter,\n      _ref3$showResult = _ref3.showResult,\n      showResult = _ref3$showResult === undefined ? true : _ref3$showResult;\n\n  return new Promise(function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var layer, search_endpoint, filter, _ref5, data;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              layer = _this._getLayerById(layerId);\n              search_endpoint = layer.getSearchEndPoint();\n              filter = createFilterFromString({\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: stringFilter\n              });\n              _context2.prev = 3;\n              _context2.next = 6;\n              return _data3.default.getData('search:features', {\n                inputs: {\n                  layer: layer,\n                  filter: filter,\n                  search_endpoint: search_endpoint,\n                  feature_count: 100\n                },\n                outputs: showResult\n              });\n\n            case 6:\n              _ref5 = _context2.sent;\n              data = _ref5.data;\n\n              resolve(data);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2['catch'](3);\n\n              _gui2.default.showUserMessage({\n                type: 'alert',\n                message: 'sdk.querybuilder.error_run',\n                autoclose: true\n              });\n              reject(_context2.t0);\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this, [[3, 11]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nproto.test = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref7.layerId,\n      filter = _ref7.filter;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return this.run({\n            layerId: layerId,\n            filter: filter,\n            showResult: false\n          });\n\n        case 3:\n          data = _context3.sent;\n          return _context3.abrupt('return', data.length && data[0].features.length);\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3['catch'](0);\n\n          _context3.t0 = t('sdk.querybuilder.error_test');\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 11:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 7]]);\n}));\n\nproto.delete = function () {\n  var _this2 = this;\n\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id;\n\n  return new Promise(function (resolve, reject) {\n    _gui2.default.dialog.confirm(t('sdk.querybuilder.delete'), function (result) {\n      if (result) {\n        var querybuildersearches = _this2.getItems().filter(function (item) {\n          return item.id !== id;\n        });\n        var projectId = _projects2.default.getCurrentProject().getId();\n        var saveitems = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n        if (querybuildersearches.length) saveitems[projectId] = querybuildersearches;else delete saveitems[projectId];\n        if (Object.keys(saveitems).length) _application2.default.setLocalItem({\n          id: QUERYBUILDERSEARCHES,\n          data: saveitems\n        });else _application2.default.removeLocalItem(QUERYBUILDERSEARCHES);\n        resolve();\n      } else reject();\n    });\n  });\n};\n\nproto.editLocalItem = function (projectId, querybuildersearch) {\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  querybuildersearches[projectId].find(function (_querybuildersearch, index) {\n    if (_querybuildersearch.id === querybuildersearch.id) {\n      querybuildersearches[projectId][index] = querybuildersearch;\n      return true;\n    }\n  });\n  _application2.default.setLocalItem({\n    id: QUERYBUILDERSEARCHES,\n    data: querybuildersearches\n  });\n  this._resetItems(projectId, querybuildersearches[projectId]);\n};\n\nproto._resetItems = function (projectId, querybuildersearches) {\n  var _this3 = this;\n\n  setTimeout(function () {\n    querybuildersearches.forEach(function (querybuildersearch) {\n      return _this3._items[projectId].push(querybuildersearch);\n    });\n  }, 0);\n  this._items[projectId].splice(0);\n};\n\nproto.addLocalItem = function (projectId, querybuildersearch) {\n  querybuildersearch.id = uniqueId();\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  if (querybuildersearches === undefined) {\n    var _querybuildersearches = [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: _defineProperty({}, projectId, _querybuildersearches)\n    });\n    this._resetItems(projectId, _querybuildersearches);\n  } else {\n    querybuildersearches[projectId] = querybuildersearches[projectId] ? [].concat(_toConsumableArray(querybuildersearches[projectId]), [querybuildersearch]) : [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: querybuildersearches\n    });\n    this._resetItems(projectId, querybuildersearches[projectId]);\n  }\n};\n\nproto.save = function () {\n  var _this4 = this;\n\n  var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref9.id,\n      name = _ref9.name,\n      layerId = _ref9.layerId,\n      filter = _ref9.filter,\n      projectId = _ref9.projectId;\n\n  var layerName = this._getLayerById(layerId).getName();\n  var querybuildersearch = {\n    layerId: layerId,\n    filter: filter,\n    layerName: layerName\n  };\n  if (id) {\n    querybuildersearch.name = name;\n    querybuildersearch.id = id;\n    this.editLocalItem(projectId, querybuildersearch);\n    _gui2.default.showUserMessage({\n      type: 'success',\n      message: t(\"sdk.querybuilder.messages.changed\"),\n      autoclose: true\n    });\n    return;\n  }\n  _gui2.default.dialog.prompt(t('sdk.querybuilder.additem'), function (result) {\n    if (result) {\n      var searchService = _gui2.default.getComponent('search').getService();\n      querybuildersearch.name = result;\n      searchService.addQueryBuilderSearch(querybuildersearch);\n      _this4.addLocalItem(projectId, querybuildersearch);\n      _gui2.default.showUserMessage({\n        type: 'success',\n        message: t(\"sdk.querybuilder.messages.changed\"),\n        autoclose: true\n      });\n    }\n  });\n};\n\nproto.all = function () {};\n\nproto.sample = function () {};\n\nproto.clear = function () {\n  this._cacheValues = {};\n};\n\nproto.add = function () {};\n\nexports.default = new QueryBuilderService();\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],362:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    XHR = _require.XHR,\n    base = _require.base,\n    createSingleFieldParameter = _require.createSingleFieldParameter;\n\nvar _require2 = require('core/utils/geo'),\n    sanitizeFidFeature = _require2.sanitizeFidFeature,\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n}\n\ninherit(RelationsService, G3WObject);\n\nvar proto = RelationsService.prototype;\n\nproto.createUrl = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var currentProject = _projects2.default.getCurrentProject();\n  // type : <editing, data, xls>\n  var _options$layer = options.layer,\n      layer = _options$layer === undefined ? {} : _options$layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? {} : _options$relation,\n      fid = options.fid,\n      _options$type = options.type,\n      type = _options$type === undefined ? 'data' : _options$type,\n      _options$formatter = options.formatter,\n      formatter = _options$formatter === undefined ? 1 : _options$formatter;\n\n  var layerId = void 0;\n  var father = relation.father,\n      child = relation.child,\n      referencedLayer = relation.referencedLayer,\n      referencingLayer = relation.referencingLayer,\n      relationId = relation.id;\n\n  if (father !== undefined) layerId = layer.id === father ? child : father;else layerId = layer.id === referencedLayer ? referencingLayer : referencedLayer;\n  var dataUrl = currentProject.getLayerById(layerId).getUrl(type);\n  var value = sanitizeFidFeature(fid);\n  return dataUrl + '?relationonetomany=' + relationId + '|' + value + '&formatter=' + formatter;\n};\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.get({\n    url: url\n  });\n};\n\n/**\n * Get relations NM\n * @param nmRelation\n * @param features\n * @returns {Promise<[]>}\n */\nproto.getRelationsNM = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nmRelation = _ref2.nmRelation,\n      _ref2$features = _ref2.features,\n      features = _ref2$features === undefined ? [] : _ref2$features;\n\n  var referencedLayer, referencingLayer, _nmRelation$fieldRef, referencingField, referencedField, relationsNM, values, responseFids;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          referencedLayer = nmRelation.referencedLayer, referencingLayer = nmRelation.referencingLayer, _nmRelation$fieldRef = nmRelation.fieldRef, referencingField = _nmRelation$fieldRef.referencingField, referencedField = _nmRelation$fieldRef.referencedField;\n          relationsNM = []; // start with empty relations result\n\n          if (!features.length) {\n            _context.next = 8;\n            break;\n          }\n\n          values = features.map(function (feature) {\n            return feature.attributes[referencingField];\n          });\n          _context.next = 6;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: _catalogLayers2.default.getLayerById(referencedLayer),\n              filter: '' + createSingleFieldParameter({\n                field: referencedField,\n                value: values,\n                logicop: 'OR'\n              }),\n              formatter: 1, // set formatter to\n              search_endpoint: 'api'\n            },\n            outputs: null\n          });\n\n        case 6:\n          responseFids = _context.sent;\n\n          if (responseFids.data && responseFids.data[0] && Array.isArray(responseFids.data[0].features)) {\n            relationsNM = responseFids.data[0].features.map(function (feature) {\n              var attributes = getAlphanumericPropertiesFromFeature(feature.getProperties()).reduce(function (accumulator, property) {\n                accumulator[property] = feature.get(property);\n                return accumulator;\n              }, {});\n              return {\n                id: feature.getId(),\n                attributes: attributes,\n                geometry: feature.getGeometry()\n              };\n            });\n          }\n\n        case 8:\n          return _context.abrupt('return', relationsNM);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.save = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.fileDownload({\n    url: url,\n    httpMethod: \"GET\"\n  });\n};\n\nexports.default = new RelationsService();\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/data\":353,\"store/catalog-layers\":369,\"store/projects\":374}],363:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    Base64 = _require.Base64;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n * RouterService based on  History.js (https://github.com/browserstate/history.js) e Crossroads (https://github.com/millermedeiros/crossroads.js)\n * Base concept is RouteQuery, example \"map?point=21.2,42.1&zoom=12\",\n * it inserts into browser and URL as quesrystring (q=map@point!21.2,41.1|zoom!12).\n * To run RouteQuery:\n *\n * RouterService.goto(\"map?point=21.2,42.1&zoom=12\");\n *\n *To listen to router has to be add  RouterService.addRoute(pattern, callback). Es.:\n *\n * var route = RouterService.addRoute('map/{?query}',function(query){\n *  console.log(query.point);\n *  console.log(query.zoom);\n * });\n *\n * Patterns:\n *  \"map/{foo}\": la porzione \"foo\" is request, and is passed as parameter in callback\n *  \"map/:foo:\": la porzione \"foo\" è optional, \n *  \"map/:foo*: \n *  \"map/{?querystring}\": mandatory\n *  \"map/:?querystring:\": optionals\n *\n * to remove  route:\n * RouterService.removeRoute(route);\n*/\n\ncrossroads.ignoreState = true;\ncrossroads.greedy = true;\n\nvar RouterService = function RouterService() {\n\n  this._initialLocationQuery;\n  this._routeQuery = '';\n  this.setters = {\n    setRouteQuery: function setRouteQuery(routeQuery) {\n      this._routeQuery = routeQuery;\n      crossroads.parse(routeQuery);\n    }\n  };\n\n  base(this);\n};\ninherit(RouterService, G3WObject);\n\nvar proto = RouterService.prototype;\n\nproto.init = function () {\n  //Return the querystring part of a URL\n  var query = window.location.search;\n  this._setRouteQueryFromLocationQuery(query);\n};\n\nproto.addRoute = function (pattern, handler, priority) {\n  return crossroads.addRoute(pattern, handler, priority);\n};\n\nproto.removeRoute = function (route) {\n  return crossroads.removeRoute(route);\n};\n\nproto.removeAllRoutes = function () {\n  return crossroads.removeAllRoutes();\n};\n\nproto.parse = function (request, defaultArgs) {\n  return crossroads.parse(request, defaultArgs);\n};\n\nproto.goto = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  if (routeQuery) {\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto.makePermalink = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  var encodedRouteQuery = this._encodeRouteQuery(routeQuery);\n  //encodedRouteQuery = Base64.encode(encodedRouteQuery);\n  return '?' + this._initialLocationQuery + '&q=' + this._encodeRouteQuery(routeQuery);\n};\n\nproto.makeQueryString = function (queryParams) {};\n\nproto.slicePath = function (path) {\n  return path.split('?')[0].split('/');\n};\n\nproto.sliceFirst = function (path) {\n  var pathAndQuery = path.split('?');\n  var queryString = pathAndQuery[1];\n  var pathArr = pathAndQuery[0].split('/');\n  var firstPath = pathArr[0];\n  path = pathArr.slice(1).join('/');\n  path = [path, queryString].join('?');\n  return [firstPath, path];\n};\n\nproto.getQueryParams = function (query) {\n  query = query.replace('?', '');\n  var queryParams = {};\n  var queryPairs = [];\n  if (query != \"\" && query.indexOf(\"&\") == -1) {\n    queryPairs = [query];\n  } else {\n    queryPairs = query.split('&');\n  }\n  try {\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      var value = pair[1];\n      queryParams[key] = value;\n    });\n  } catch (e) {}\n  return queryParams;\n};\n\nproto.getQueryString = function (path) {\n  return path.split('?')[1];\n};\n\nproto._getQueryPortion = function (query, queryKey) {\n  var queryPortion;\n  try {\n    var queryPairs = query.split('&');\n    var queryParams = {};\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      if (key == queryKey) {\n        queryPortion = queryPair;\n      }\n    });\n  } catch (e) {}\n  return queryPortion;\n};\n\nproto._encodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('?', '@');\n  routeQuery = routeQuery.replace('&', '|');\n  routeQuery = routeQuery.replace('=', '!');\n  return routeQuery;\n};\n\nproto._decodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('@', '?');\n  routeQuery = routeQuery.replace('|', '&');\n  routeQuery = routeQuery.replace('!', '=');\n  return routeQuery;\n};\n\nproto._setRouteQueryFromLocationQuery = function (locationQuery) {\n  var encodedRouteQuery = this._getRouteQueryFromLocationQuery(locationQuery);\n  //encodedRouteQuery = Base64.decode(encodedRouteQuery);\n  if (encodedRouteQuery) {\n    var routeQuery = this._decodeRouteQuery(encodedRouteQuery);\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto._getRouteQueryFromLocationQuery = function (locationQuery) {\n  return this.getQueryParams(locationQuery)['q'];\n};\n\nproto._stripInitialQuery = function (locationQuery) {\n  var previousQuery = this._getQueryPortion(locationQuery, 'q');\n  if (previousQuery) {\n    var previousQueryLength = previousQuery.length;\n    var previousQueryPosition = locationQuery.indexOf(previousQuery);\n    queryPrefix = _.trimEnd(locationQuery.substring(0, previousQueryPosition), \"&\");\n    querySuffix = locationQuery.substring(previousQueryPosition + previousQueryLength);\n    querySuffix = queryPrefix != \"\" ? querySuffix : _.trimStart(querySuffix, \"&\");\n    locationQuery = queryPrefix + querySuffix;\n  }\n  return locationQuery;\n};\n\nexports.default = new RouterService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],364:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.7\n                                                                                                                                                                                                                                                                   */\n\nvar _SidebarItem = require('components/SidebarItem.vue');\n\nvar _SidebarItem2 = _interopRequireDefault(_SidebarItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * TODO: temporary need to remove it\n */\nvar SidebarItem = Vue.extend(_SidebarItem2.default);\n\nfunction SidebarService() {\n  //set sidebar stack\n  this.stack = new Stack();\n  // set setter for close sidebarpanel to catch event\n  // of closing panel of the sidebar\n  this.setters = {\n    closeSidebarPanel: function closeSidebarPanel() {},\n    openCloseItem: function openCloseItem(bool) {}\n  };\n  //service state\n  this.state = {\n    components: [],\n    gui: {\n      title: ''\n    },\n    disabled: false\n  };\n  //inizialize method\n  this.init = function (layout) {\n    this.layout = layout;\n  };\n  // add component to sidebar\n  this.addComponents = function (components) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    //for each component of the sidebar it is call addComponent method\n    components.forEach(function (component) {\n      return _this.addComponent(component, options);\n    });\n    return true;\n  };\n  // add each component to the sidebar\n  // add also position insiede the sidebar\n  this.addComponent = function (component) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position,\n        _options$before = options.before,\n        before = _options$before === undefined ? true : _options$before,\n        info = options.info;\n\n    if (isMobile.any && !component.mobile) {\n      return false;\n    }\n    var sidebarItem = new SidebarItem({\n      service: this,\n      info: info,\n      component: component\n    });\n    sidebarItem.title = component.title || sidebarItem.title;\n    sidebarItem.info = component.info || sidebarItem.info;\n    sidebarItem.actions = component.actions || sidebarItem.actions;\n    sidebarItem.open = component.state.open; //(component.open === undefined) ? sidebarItem.open : component.open;\n    sidebarItem.icon = component.icon || sidebarItem.icon;\n    sidebarItem.iconColor = component.iconColor;\n    sidebarItem.state = component.state || true;\n    sidebarItem.collapsible = typeof component.collapsible === 'boolean' ? component.collapsible : true;\n    sidebarItem.isolate = typeof component.isolate === 'boolean' ? component.isolate : false;\n    //append component to  g3w-sidebarcomponents (template sidebar.html)\n    var DOMComponent = sidebarItem.$mount().$el;\n    this.state.components.push(component);\n    var isPanelSidebarShow = $('.g3w-sidebarpanel').is(':visible');\n    var sidebarcomponetsdomid = '#g3w-sidebarcomponents' + (isPanelSidebarShow ? ':hidden' : '');\n    var children = $(sidebarcomponetsdomid).children().filter(function () {\n      return this.style.display !== 'none';\n    });\n    var childrenLength = children.length;\n    if (position === null || position === undefined || position < 0 || position >= childrenLength) $(sidebarcomponetsdomid).append(DOMComponent);else children.each(function (index, element) {\n      var findElementIndexId = Number.isInteger(position) ? position === index : element.id === position;\n      findElementIndexId && $(DOMComponent)['insert' + (before ? 'Before' : 'After')](element);\n    });\n    //mount componet to g3w-sidebarcomponent-placeholder (template sidebar-item.html);\n    component.mount(\"#g3w-sidebarcomponent-placeholder\");\n    // check if componentonent has iniService method\n    component.initService && component.initService();\n    // add click handler\n    this.setComponentClickHandler(component);\n    return true;\n  };\n\n  this.setComponentClickHandler = function (component) {\n    component.click = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$open = _ref.open,\n          open = _ref$open === undefined ? false : _ref$open;\n\n      open = open || false;\n      $(component.getInternalComponent().$el).siblings('a').click();\n      component.setOpen(open);\n    };\n  };\n\n  // get component by id\n  this.getComponent = function (id) {\n    return this.state.components.find(function (component) {\n      return component.getId() === id;\n    });\n  };\n\n  // get all components\n  this.getComponents = function () {\n    return this.state.components;\n  };\n\n  /**\n   * close for the moment only conlapsbale\n   */\n  this.closeOpenComponents = function () {\n    var collapsible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.getComponents().forEach(function (component) {\n      return component.closeWhenViewportContentIsOpen() && component.collapsible && component.click({ open: false });\n    });\n  };\n\n  this.reloadComponent = function (id) {\n    var component = this.getComponent(id);\n    component && component.reload();\n  };\n\n  this.reloadComponents = function () {\n    // force close of the panel\n    this.closePanel();\n    this.state.components.forEach(function (component) {\n      if (component.collapsible && component.state.open) component.click({ open: false });\n      component.reload();\n    });\n  };\n  //remove component\n  this.removeComponent = function (component) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position;\n\n    this.state.components.forEach(function (sidebarComponent, index) {\n      if (component === sidebarComponent) {\n        component.unmount();\n        _this2.state.components.splice(index, 1);\n        if (position !== undefined && Number.isInteger(position)) $('#g3w-sidebarcomponents').children(':visible')[position].remove();else $('#g3w-sidebarcomponents').children('#' + component.id).remove();\n        return false;\n      }\n    });\n  };\n  // show panel on stack\n  this.showPanel = function (panel) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      _this3.state.gui.title = panel.title;\n      var parent = \"#g3w-sidebarpanel-placeholder\";\n      _this3.stack.getCurrentContentData() && $(_this3.stack.getCurrentContentData().content.internalPanel.$el).hide();\n      _this3.stack.push(panel, _extends({\n        parent: parent\n      }, options)).then(function (content) {\n        return resolve(content);\n      });\n    });\n  };\n\n  // close panel\n  this.closePanel = function () {\n    var _this4 = this;\n\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.pop().then(function (content) {\n      content = null;\n      _this4.stack.getCurrentContentData() && $(_this4.stack.getCurrentContentData().content.internalPanel.$el).show();\n    });\n  };\n\n  this.closeAllPanels = function () {\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.clear();\n  };\n\n  base(this);\n}\n\ninherit(SidebarService, G3WObject);\n\nexports.default = new SidebarService();\n\n},{\"components/SidebarItem.vue\":291,\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/utils/utils\":186}],365:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\n/**\n * Singletone service to run async task\n * @constructor\n */\n\n\nfunction TaskService() {\n  /**\n   * Array contain all task id that are running. Each item is an object contain:\n   * {\n   *   taskId: //taskId,\n   *   intervalId: interval to clear clearInterval()\n   * }\n   **/\n  var tasks = [];\n  /**\n   *\n   * @param options: {\n   *   method: http method to run task GET/POST\n   *   url: api request url (that server start in background task)\n   *   taskUrl = url to ask the status og task\n   *   params: Object contain param to http/https request\n   *   interval: interval in milliseconds to do a request for ask status of task (default 10000 - 1 second)\n   *   listener: ()=>{} method to call\n   *\n   * }\n   *\n   * return a Promise that return a task id\n   */\n  this.runTask = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _options$method, method, _options$params, params, url, taskUrl, _options$interval, interval, _options$timeout, timeout, _options$listener, listener, response, result, task_id, intervalId;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _options$method = options.method, method = _options$method === undefined ? 'GET' : _options$method, _options$params = options.params, params = _options$params === undefined ? {} : _options$params, url = options.url, taskUrl = options.taskUrl, _options$interval = options.interval, interval = _options$interval === undefined ? 1000 : _options$interval, _options$timeout = options.timeout, timeout = _options$timeout === undefined ? Infinity : _options$timeout, _options$listener = options.listener, listener = _options$listener === undefined ? function () {} : _options$listener;\n            _context2.prev = 1;\n\n            if (!(method === 'GET')) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return XHR.get({\n              url: url,\n              params: params\n            });\n\n          case 5:\n            _context2.t0 = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.next = 10;\n            return XHR.post({\n              url: url,\n              data: params.data || {},\n              contentType: params.contentType || \"application/json\"\n            });\n\n          case 10:\n            _context2.t0 = _context2.sent;\n\n          case 11:\n            response = _context2.t0;\n            result = response.result, task_id = response.task_id;\n\n            if (!result) {\n              _context2.next = 19;\n              break;\n            }\n\n            intervalId = setInterval(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var _response;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // check if timeout is defined\n                      timeout = timeout - interval;\n\n                      if (!(timeout > 0)) {\n                        _context.next = 15;\n                        break;\n                      }\n\n                      _response = void 0;\n                      _context.prev = 3;\n                      _context.next = 6;\n                      return XHR.get({\n                        url: '' + taskUrl + task_id\n                      });\n\n                    case 6:\n                      _response = _context.sent;\n                      _context.next = 12;\n                      break;\n\n                    case 9:\n                      _context.prev = 9;\n                      _context.t0 = _context['catch'](3);\n\n                      _response = _context.t0;\n\n                    case 12:\n                      listener({\n                        task_id: task_id,\n                        timeout: false,\n                        response: _response\n                      });\n                      _context.next = 17;\n                      break;\n\n                    case 15:\n                      listener({\n                        timeout: true\n                      });\n                      _this.stopTask({\n                        task_id: task_id\n                      });\n\n                    case 17:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[3, 9]]);\n            })), interval);\n\n            // add current task to list of task\n\n            tasks.push({\n              task_id: task_id,\n              intervalId: intervalId\n            });\n\n            // run first time listener function\n            listener({\n              task_id: task_id,\n              response: response\n            });\n            _context2.next = 20;\n            break;\n\n          case 19:\n            return _context2.abrupt('return', Promise.reject(response));\n\n          case 20:\n            _context2.next = 25;\n            break;\n\n          case 22:\n            _context2.prev = 22;\n            _context2.t1 = _context2['catch'](1);\n            return _context2.abrupt('return', Promise.reject(_context2.t1));\n\n          case 25:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 22]]);\n  }));\n\n  /**\n   *\n   * @param options: {\n   *   taskId: taskId that is running\n   * }\n   */\n  this.stopTask = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var task_id = options.task_id;\n\n    var task = tasks.find(function (task) {\n      return task.task_id === task_id;\n    });\n    if (task) clearInterval(task.intervalId);\n  };\n\n  /**\n   * clare all task\n   */\n  this.clear = function () {\n    var _this2 = this;\n\n    tasks.forEach(function (_ref3) {\n      var taskId = _ref3.taskId;\n\n      _this2.stopTask({\n        taskId: taskId\n      });\n    });\n    //reset to empty tasks\n    tasks.splice(0);\n  };\n}\n\n/**\n * SERVER\n * \"\"\"Returns the (possibly) new layer ID where the isochrone\n data has been added. If the task has not yet completed a status message is returned\n\n Note: `project_id` is only used for permissions checking!\n\n Returns 500 in case of exceptions\n Returns 404 in case of task not found\n Returns 200 ok for all other cases\n\n Response body:\n\n {\n            \"status\": \"complete\",  // or \"pending\" or \"error\", full list at\n                                   // https://huey.readthedocs.io/en/latest/signals.html#signals\n            \"exception\": \"Normally empty, error message in case of errors\",\n            \"progress\": [\n                100,  // Progress %\n            ],\n            \"task_result\": {\n                \"qgis_ayer_id\": \"4f2a88a1-ca93-4859-9de3-75d9728cde0e\"\n            }\n        }\n\n **/\n\nexports.default = new TaskService();\n\n},{\"core/utils/utils\":67}],366:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\nvar ViewportService = function ViewportService() {\n  // state of viewport\n  this.state = {\n    primaryView: 'map', // primary view (default)\n    // percentage of secondary view\n    secondaryPerc: 0, // setted to 0 at beginning (not visible)\n    // used to store if content vertical or horizontal is  changed by resised\n    resized: {\n      start: false,\n      'h': false,\n      'v': false\n    },\n    // splitting orientation (h = horizontal, v = vertical)\n    split: 'h',\n    //map\n    map: {\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      aside: false\n    },\n    //content\n    content: {\n      loading: false,\n      disabled: false,\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      // store the resize vertical or horizontal\n      resize: {\n        'h': {\n          perc: 0\n        },\n        'v': {\n          perc: 0\n        }\n      },\n      aside: true,\n      showgoback: true,\n      stack: [], // array elements of  stack contents\n      closable: true, // (x) is closable\n      backonclose: false, // back on prevoius content\n      contentsdata: [] // content data array\n    },\n    usermessage: {\n      id: null, // unique identify\n      show: false,\n      title: null,\n      message: null,\n      position: null,\n      type: null,\n      draggable: null,\n      cloasable: null,\n      autoclose: null,\n      textMessage: false,\n      hooks: {\n        header: null,\n        body: null,\n        footer: null\n      }\n    }\n  };\n  // content of viewport (map and content)\n  this._components = {\n    map: null,\n    content: null\n  };\n  // default contents\n  this._defaultMapComponent;\n  this._contextualMapComponent;\n\n  // minimun height and width of secondary view\n  this._secondaryViewMinWidth = _constant.VIEWPORT.resize.content.min;\n  this._secondaryViewMinHeight = _constant.VIEWPORT.resize.content.min;\n  this._immediateComponentsLayout = true;\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _options$primaryview = options.primaryview,\n        primaryview = _options$primaryview === undefined ? 'map' : _options$primaryview,\n        _options$split = options.split,\n        split = _options$split === undefined ? 'h' : _options$split,\n        components = options.components;\n    // check if it set primary view (map is default)\n\n    this.state.primaryView = primaryview;\n    // check splitting property\n    this.state.split = split;\n    // add component (map and content)\n    this._addComponents(components);\n  };\n\n  // Method to set true or false of content\n  this.setResized = function (type) {\n    var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.state.resized[type] = bool;\n  };\n\n  this.showUserMessage = function () {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        title = _ref.title,\n        subtitle = _ref.subtitle,\n        message = _ref.message,\n        type = _ref.type,\n        position = _ref.position,\n        size = _ref.size,\n        draggable = _ref.draggable,\n        duration = _ref.duration,\n        _ref$textMessage = _ref.textMessage,\n        textMessage = _ref$textMessage === undefined ? false : _ref$textMessage,\n        closable = _ref.closable,\n        autoclose = _ref.autoclose,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    this.closeUserMessage();\n    setTimeout(function () {\n      _this.state.usermessage.id = uniqueId();\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.message = message;\n      _this.state.usermessage.textMessage = textMessage;\n      _this.state.usermessage.title = title;\n      _this.state.usermessage.subtitle = subtitle;\n      _this.state.usermessage.position = position;\n      _this.state.usermessage.duration = duration;\n      _this.state.usermessage.type = type;\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.size = size;\n      _this.state.usermessage.autoclose = autoclose;\n      _this.state.usermessage.closable = closable;\n      _this.state.usermessage.draggable = draggable;\n      _this.state.usermessage.hooks.header = hooks.header; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.body = hooks.body; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.footer = hooks.footer; // has to be a vue component or vue object\n    });\n    return this.state.usermessage;\n  };\n\n  this.closeUserMessage = function () {\n    this.state.usermessage.id = null;\n    this.state.usermessage.show = false;\n    this.state.usermessage.textMessage = false;\n    this.state.usermessage.message = '';\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.getMapState = function () {\n    return this.state.map;\n  };\n\n  this.getContentState = function () {\n    return this.state.content;\n  };\n\n  this.setLoadingContent = function () {\n    var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.state.content.loading = loading;\n  };\n\n  this._addComponents = function (components) {\n    var _this2 = this;\n\n    // components is an object\n    //(index.js)\n    /*\n     {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'contents'\n      })\n     }\n     */\n    Object.entries(components).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          viewName = _ref3[0],\n          component = _ref3[1];\n\n      // check if component are map or content\n      if (Object.keys(_this2._components).indexOf(viewName) > -1) {\n        component.mount('#g3w-view-' + viewName, true).then(function () {\n          _this2._components[viewName] = component;\n          // check if view name is map\n          if (viewName === 'map') _this2._defaultMapComponent = component; // set de default component to map\n        }).fail(function (err) {\n          return console.log(err);\n        });\n      }\n    });\n  };\n\n  this.showMap = function () {\n    this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    this._components['map'] = this._defaultMapComponent;\n    this._showView('map');\n  };\n\n  this.showContextualMap = function () {\n    var _this3 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this._contextualMapComponent) this._contextualMapComponent = this._defaultMapComponent;\n    if (this._contextualMapComponent != this._defaultMapComponent) this._toggleMapComponentVisibility(this._defaultMapComponent, false);\n    if (!this._contextualMapComponent.ismount()) {\n      var contextualMapComponent = this._contextualMapComponent;\n      contextualMapComponent.mount('#g3w-view-map', true).then(function () {\n        return _this3._components['map'] = contextualMapComponent;\n      });\n    } else {\n      this._components['map'] = this._contextualMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, true);\n    }\n    this._showView('map', options);\n  };\n\n  // get default component\n  this.recoverDefaultMap = function () {\n    if (this._components['map'] !== this._defaultMapComponent) {\n      this._components['map'] = this._defaultMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, false);\n      this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    }\n    return this._components['map'];\n  };\n\n  this.setContextualMapComponent = function (mapComponent) {\n    if (mapComponent === this._defaultMapComponent) return;\n    if (this._contextualMapComponent) this._contextualMapComponent.unmount();\n    this._contextualMapComponent = mapComponent;\n  };\n\n  this.resetContextualMapComponent = function () {\n    this._contextualMapComponent && this._contextualMapComponent.unmount();\n    this._contextualMapComponent = this._defaultMapComponent;\n  };\n\n  this._toggleMapComponentVisibility = function (mapComponent, toggle) {\n    mapComponent.internalComponent.$el.style.display = toggle ? 'block' : 'none';\n  };\n\n  // close map method\n  this.closeMap = function () {\n    this.state.secondaryPerc = this.state.primaryView === 'map' ? 100 : 0;\n    this.recoverDefaultMap();\n    this._layout();\n  };\n\n  // show content of the viewport content\n  /*\n   options: {\n     content: (string, jQuery elemento or Vue component)\n     title: Title of the content\n     push: (opyionale, default false): if yes the content is push on top of the stack (contentStack)\n     split: (optional, default 'h'): 'h' || 'v' splitting map and content orientation\n     perc: (optional, default 50): percentage of content\n   }\n   */\n\n  this.showContent = function () {\n    var _this4 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    options.perc = options.perc !== undefined ? options.perc : this.getContentPercentageFromCurrentLayout();\n    // check if push is set\n    options.push = options.push || false;\n    var evenContentName = options.perc === 100 ? 'show-content-full' : 'show-content';\n    // set all content parameters\n    this._prepareContentView(options);\n    // immediate layout false (to understand better)\n    this._immediateComponentsLayout = false;\n    // call show view (in this case content (other is map)\n    this._showView('content', options);\n    this._components.content.setContent(options).then(function () {\n      _this4._immediateComponentsLayout = true;\n      _this4._layoutComponents(evenContentName);\n    });\n  };\n\n  // hide content\n  this.hideContent = function (bool) {\n    var prevContentPerc = this.getContentPercentageFromCurrentLayout(this.state.split);\n    this.state.secondaryVisible = !bool;\n    this._layout('hide-content');\n    // return previous percentage\n    return prevContentPerc;\n  };\n\n  this.resetToDefaultContentPercentage = function () {\n    var currentRightPanel = this.getCurrentContentLayout();\n    currentRightPanel['' + (this.state.split === 'h' ? 'width' : 'height')] = currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_default'];\n    currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = false;\n    this._layoutComponents();\n  };\n\n  this.toggleFullViewContent = function () {\n    _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = !_applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n    this._layoutComponents();\n  };\n\n  this.isFullViewContent = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n  };\n\n  this.contentLength = function () {\n    return this.state.content.contentsdata.length;\n  };\n\n  // pull the last element of contentStack\n  this.popContent = function () {\n    var _this5 = this;\n\n    var d = $.Deferred();\n    // check if content exist compontentStack\n    if (this.state.content.contentsdata.length) {\n      this.recoverDefaultMap();\n      var data = this._components.content.getPreviousContentData();\n      this._prepareContentView(data.options);\n      this._immediateComponentsLayout = false;\n      this._showView('content', data.options);\n      this._components.content.popContent().then(function () {\n        _this5.state.secondaryPerc = data.options.perc;\n        _this5._immediateComponentsLayout = true;\n        _this5._layout('pop-content');\n        d.resolve(_this5._components.contentgetCurrentContentData);\n      });\n    } else d.reject();\n    return d.promise();\n  };\n\n  /**\n   * Return current compoent data\n   * @returns {*}\n   */\n  this.getCurrentContent = function () {\n    return this.contentLength() ? this.state.content.contentsdata[this.contentLength() - 1] : null;\n  };\n\n  this.getCurrentContentTitle = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.title;\n  };\n\n  this.getCurrentContentId = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.id;\n  };\n\n  this.changeCurrentContentOptions = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) {\n      var title = options.title,\n          crumb = options.crumb;\n\n      if (title) currentContent.options.title = title;\n      if (crumb) currentContent.options.crumb = crumb;\n    }\n  };\n\n  this.changeCurrentContentTitle = function () {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) currentContent.options.title = title;\n  };\n\n  this.isContentOpen = function () {\n    return !!this.state.content.contentsdata.length;\n  };\n\n  // close  content\n  this.closeContent = function () {\n    var _this6 = this;\n\n    var d = $.Deferred();\n    if (this.isContentOpen()) {\n      //.setFullViewContent(false);\n      this._components.content.removeContent();\n      // close secondary view( return a promise)\n      this.closeSecondaryView('close-content').then(function () {\n        //recover default map\n        var mapComponent = _this6.recoverDefaultMap();\n        d.resolve(mapComponent);\n      });\n    } else {\n      var mapComponent = this.recoverDefaultMap();\n      d.resolve(mapComponent);\n    }\n    return d.promise();\n  };\n\n  this.disableContent = function (disabled) {\n    this.state.content.disabled = disabled;\n  };\n\n  this.removeContent = function () {\n    // check if backonclose proprerty is  true o false\n    // to remove all content stack or just last component\n    if (this.state.content.backonclose && this.state.content.contentsdata.length > 1) this.popContent();else return this.closeContent();\n  };\n\n  this.isPrimaryView = function (viewName) {\n    return this.state.primaryView == viewName;\n  };\n\n  this.setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n    this._layout();\n  };\n\n  this.showPrimaryView = function () {\n    var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (perc && this.state.secondaryVisible && this.state.secondaryPerc === 100) {\n      this.state.secondaryPerc = 100 - perc;\n      this._layout();\n    }\n  };\n\n  this.showSecondaryView = function () {\n    var split = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.perc;\n\n    this.state.secondaryVisible = true;\n    this.state.split = split;\n    this.state.secondaryPerc = perc;\n    this._layout();\n  };\n\n  // close secondary view\n  this.closeSecondaryView = function () {\n    var _this7 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var d = $.Deferred();\n    var secondaryViewComponent = this._components[this._otherView(this.state.primaryView)];\n    if (secondaryViewComponent.clearContents) {\n      secondaryViewComponent.clearContents().then(function () {\n        _this7.state.secondaryVisible = false;\n        _this7.state.secondaryPerc = 0;\n        _this7._layout(event);\n        Vue.nextTick(function () {\n          return d.resolve();\n        });\n      });\n    } else {\n      this.state.secondaryVisible = false;\n      this._layout(event);\n      Vue.nextTick(function () {\n        return d.resolve();\n      });\n    }\n    return d.promise();\n  };\n\n  this.getDefaultViewPerc = function (viewName) {\n    return this.isPrimaryView(viewName) ? 100 : 50;\n  };\n\n  // return the opposite view\n  this._otherView = function (viewName) {\n    return viewName === 'map' ? 'content' : 'map';\n  };\n\n  this._isSecondary = function (view) {\n    return this.state.primaryView !== view;\n  };\n\n  this._setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n  };\n\n  /**\n   * Set the state of content (right or bottom content other than map)\n   * @param options\n   * @private\n   */\n  this._prepareContentView = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var title = options.title,\n        _options$split2 = options.split,\n        split = _options$split2 === undefined ? null : _options$split2,\n        _options$closable = options.closable,\n        closable = _options$closable === undefined ? true : _options$closable,\n        _options$backonclose = options.backonclose,\n        backonclose = _options$backonclose === undefined ? true : _options$backonclose,\n        _options$style = options.style,\n        style = _options$style === undefined ? {} : _options$style,\n        _options$showgoback = options.showgoback,\n        showgoback = _options$showgoback === undefined ? true : _options$showgoback,\n        _options$headertools = options.headertools,\n        headertools = _options$headertools === undefined ? [] : _options$headertools;\n\n    this.state.content.title = title;\n    this.state.content.split = split;\n    this.state.content.closable = closable;\n    this.state.content.backonclose = backonclose;\n    this.state.content.contentsdata = this._components.content.contentsdata;\n    this.state.content.style = style;\n    this.state.content.headertools = headertools;\n    this.state.content.showgoback = showgoback;\n  };\n\n  // manage all layout logic\n  // viewName: map or content\n  //options.  percentage , splitting title etc ..\n  this._showView = function (viewName) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$perc = options.perc,\n        perc = _options$perc === undefined ? this.getDefaultViewPerc(viewName) : _options$perc,\n        _options$split3 = options.split,\n        split = _options$split3 === undefined ? 'h' : _options$split3;\n\n    var aside = void 0;\n    if (this.isPrimaryView(viewName)) aside = typeof options.aside == 'undefined' ? false : options.aside;else aside = true;\n    this.state[viewName].aside = aside;\n    //calculate the content\n    var secondaryPerc = this.isPrimaryView(viewName) ? 100 - perc : perc;\n    //show Secondary View content only if more then 0\n    if (secondaryPerc > 0) this.showSecondaryView(split, secondaryPerc);else return this.closeSecondaryView();\n  };\n\n  this._getReducedSizes = function () {\n    var contentEl = $('.content');\n    var reducedWidth = 0;\n    var reducedHeight = 0;\n    var sideBarToggleEl = $('.sidebar-aside-toggle');\n    if (contentEl && this.state.secondaryVisible && this.isFullViewContent()) {\n      if (sideBarToggleEl && sideBarToggleEl.is(':visible')) {\n        var toggleWidth = sideBarToggleEl.outerWidth();\n        contentEl.css('padding-left', toggleWidth + 5);\n        reducedWidth = toggleWidth - 5;\n      }\n    } else {\n      var _toggleWidth = sideBarToggleEl.outerWidth();\n      contentEl.css('padding-left', this.state.secondaryPerc === 100 ? _toggleWidth + 5 : 15);\n    }\n    return {\n      reducedWidth: reducedWidth,\n      reducedHeight: reducedHeight\n    };\n  };\n\n  //main layout function\n  this._layout = function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var reducesdSizes = this._getReducedSizes();\n    this._setViewSizes(reducesdSizes.reducedWidth, reducesdSizes.reducedHeight);\n    if (this._immediateComponentsLayout) this._layoutComponents(event);\n  };\n\n  this._setViewSizes = function () {\n    var primaryView = this.state.primaryView;\n    var secondaryView = this._otherView(primaryView);\n\n    var _getViewportSize = this.getViewportSize(),\n        viewportWidth = _getViewportSize.width,\n        viewportHeight = _getViewportSize.height;\n    // assign all width and height of the view to primary view (map)\n\n\n    var primaryWidth = void 0;\n    var primaryHeight = void 0;\n    var secondaryWidth = void 0;\n    var secondaryHeight = void 0;\n    // percentage of secondary view (content)\n    var scale = (this.state.secondaryPerc !== 100 && !this.isFullViewContent() ? this.getContentPercentageFromCurrentLayout(this.state.split) : 100) / 100;\n    if (this.state.split === 'h') {\n      secondaryWidth = this.state.secondaryVisible ? Math.max(viewportWidth * scale, this._secondaryViewMinWidth) : 0;\n      secondaryHeight = viewportHeight;\n      primaryWidth = viewportWidth - secondaryWidth;\n      primaryHeight = viewportHeight;\n    } else {\n      secondaryWidth = viewportWidth;\n      secondaryHeight = this.state.secondaryVisible ? Math.max(viewportHeight * scale, this._secondaryViewMinHeight) : 0;\n      primaryWidth = this.state.secondaryVisible && scale === 1 ? 0 : viewportWidth;\n      primaryHeight = viewportHeight - secondaryHeight;\n    }\n    this.state[primaryView].sizes.width = primaryWidth;\n    this.state[primaryView].sizes.height = primaryHeight;\n    this.state[secondaryView].sizes.width = secondaryWidth;\n    this.state[secondaryView].sizes.height = secondaryHeight;\n  };\n\n  this.getViewportSize = function () {\n    return {\n      width: this._viewportWidth(),\n      height: this._viewportHeight()\n    };\n  };\n\n  this._viewportHeight = function () {\n    var topHeight = $('.navbar-header').innerHeight();\n    return $(document).innerHeight() - topHeight;\n  };\n\n  this._viewportWidth = function () {\n    var main_sidebar = $(\".main-sidebar\");\n    var offset = main_sidebar.length && main_sidebar.offset().left;\n    var width = main_sidebar.length && main_sidebar[0].getBoundingClientRect().width;\n    var sideBarSpace = width + offset;\n    return $('#app')[0].getBoundingClientRect().width - sideBarSpace;\n  };\n\n  /**\n   * Method that se resize. Is called by moveFnc that is called from resize (vertical or horiziontal) component\n   * @param type\n   * @param sizes\n   * @param perc\n   */\n  this.resizeViewComponents = function (type) {\n    var sizes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var perc = arguments[2];\n\n    this.setResized(type, true);\n    this.setContentPercentageFromCurrentLayout(type, perc);\n    this._layout('resize');\n  };\n\n  /**\n   * Get current information layout\n   * @param type\n   * @param perc\n   */\n  this.setContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments[1];\n\n    this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'] = perc;\n  };\n\n  this.getContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n\n    return this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'];\n  };\n\n  this.getCurrentContentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel;\n  };\n\n  // load components of  viewport\n  // after right size setting\n  this._layoutComponents = function () {\n    var _this8 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    requestAnimationFrame(function () {\n      var reducesdSizes = _this8._getReducedSizes();\n      var reducedWidth = reducesdSizes.reducedWidth || 0;\n      var reducedHeight = reducesdSizes.reducedHeight || 0;\n      // for each components\n      _this8._setViewSizes();\n      Object.entries(_this8._components).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            name = _ref5[0],\n            component = _ref5[1];\n\n        var width = _this8.state[name].sizes.width - reducedWidth;\n        var height = _this8.state[name].sizes.height - reducedHeight;\n        component.layout(width, height);\n      });\n      event && setTimeout(function () {\n        _this8.emit(event);\n        _gui2.default.emit(event);\n      });\n    });\n  };\n\n  /**\n   * function called at start of application (just one time)\n   * @private\n   */\n  this._firstLayout = function () {\n    var _this9 = this;\n\n    var drawing = false;\n    var resizeFired = false;\n    function triggerResize() {\n      resizeFired = true;\n      drawResize();\n    }\n    /**\n     * function called from resize of browser windows (also open dev tool)\n     */\n    var drawResize = function drawResize() {\n      if (resizeFired === true) {\n        resizeFired = false;\n        drawing = true;\n        _this9._layout('resize');\n        requestAnimationFrame(drawResize);\n      } else {\n        drawing = false;\n      }\n    };\n    // GUI ready event\n    _gui2.default.on('ready', function () {\n      /**\n       * SetSidebar width (used by components/Viewport.vue single file component)\n       */\n      _this9.SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n      _this9._layout();\n      _gui2.default.on('guiresized', function () {\n        return triggerResize();\n      });\n      // resize della window\n      $(window).resize(function () {\n        // set resizedFired to true and execute drawResize if it's not already running\n        drawing === false && triggerResize();\n      });\n      // resize on main siedemar open close sidebar\n      $('.main-sidebar').on('webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd', function (event) {\n        //be sure that is the main sidebar that is transitioned non his child\n        if (event.target === this) {\n          $(this).trigger('trans-end');\n          triggerResize();\n        }\n      });\n    });\n  };\n  this._firstLayout();\n  base(this);\n};\n\ninherit(ViewportService, G3WObject);\n\n//singleton\nexports.default = new ViewportService();\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/gui\":356,\"store/application-state\":368}],367:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n// Store all workflow activated\nvar WorkFlowsStack = function WorkFlowsStack() {\n  this._workflows = [];\n  this.push = function (workflow) {\n    if (this._workflows.indexOf(workflow) === -1) return this._workflows.push(workflow) - 1;\n    return this._workflows.indexOf(workflow);\n  };\n\n  /**\n  * Get parent\n  * @returns {boolean|*}\n  */\n  this.getParent = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows[index - 1];\n  };\n\n  /**\n  * Get all list of parents\n  * @returns {boolean|T[]}\n  */\n  this.getParents = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows.slice(0, index);\n  };\n\n  this.pop = function () {\n    return this._workflows.pop();\n  };\n\n  this.getLength = function () {\n    return this._workflows.length;\n  };\n\n  this._getCurrentIndex = function () {\n    var currentWorkflow = this.getCurrent();\n    return this._workflows.findIndex(function (workfow) {\n      return workfow === currentWorkflow;\n    });\n  };\n\n  this.getCurrent = function () {\n    return this.getLast();\n  };\n\n  this.getLast = function () {\n    var length = this._workflows.length;\n    return length ? this._workflows[length - 1] : null;\n  };\n\n  this.getFirst = function () {\n    return this._workflows[0];\n  };\n\n  this.removeAt = function (index) {\n    this._workflows.splice(index, 1);\n  };\n\n  this.getAt = function (index) {\n    return this._workflows[index];\n  };\n\n  this.insertAt = function (index, workflow) {\n    this._workflows[index] = workflow;\n  };\n\n  this.clear = function () {\n    while (this._workflows.length) {\n      var workflow = this.pop();\n      workflow.stop();\n    }\n  };\n};\n\nexports.default = new WorkFlowsStack();\n\n},{}],368:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file State and methods to query the STATE of application\n * @since v3.6\n */\n\n/**\n * State of application reactive\n * @type {object}\n */\nvar STATE = Vue.observable({\n\n  /**\n   * true = application is ready\n   */\n  ready: false,\n\n  /**\n   * true = application is loaded inside an iframe\n   */\n  iframe: false,\n\n  /**\n   * true = application is connected\n   */\n  online: false,\n\n  /**\n   * true = application is loaded on mobile device\n   */\n  ismobile: false,\n\n  /**\n   * true = there is a pending download \n   */\n  download: false,\n\n  /**\n   * true = there is a pending upload\n   */\n  upload: false,\n\n  /**\n   * @FIXME add description\n   */\n  baseLayerId: null,\n\n  /**\n   * en = default language\n   */\n  language: 'en',\n\n  /**\n   * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n   */\n  lng: 'en',\n\n  /**\n   * @FIXME add description\n   */\n  changeProjectview: false,\n\n  /**\n   * @FIXME add description\n   */\n  plugins: [],\n\n  /**\n   * @FIXME add description\n   */\n  user: null,\n\n  /**\n   * @FIXME add description\n   */\n  map: {\n    epsg: '',\n    unit: 'metric'\n  },\n\n  /**\n   * @FIXME add description\n   */\n  gui: {\n\n    app: {\n      /**\n       * true = application is disabled and unclickable (waiting)\n       */\n      disabled: false\n    },\n\n    sidebar: {\n      /**\n       * true = sidebar is disabled (not responsive)\n       */\n      disabled: false // \n    },\n\n    layout: {\n      /**\n       * store the current layout owner (\"app\" = default)\n       */\n      __current: 'app',\n\n      /**\n       * @FIXME add description\n       */\n      app: {}\n\n    }\n\n  },\n\n  /**\n   * @FIXME add description\n   */\n  keys: {\n    vendorkeys: {\n      google: undefined,\n      bing: undefined\n    }\n  },\n\n  /**\n   * @FIXME add description\n   */\n  tokens: {\n    filtertoken: undefined\n  }\n\n});\n\n/**\n * Store methods to query STATE of application\n * \n * @type {object}\n */\nvar STATE_METHODS = exports.STATE_METHODS = {};\n\nexports.default = STATE;\n\n},{}],369:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file State of legend items in Table of Contents (TOC) [aka. catalog layers]\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction CatalogLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(CatalogLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new CatalogLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":67}],370:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store legacy frontend components\n * @since v3.6\n * \n * @deprecated will be probably removed after v4.x. Use Vue Single File Components (SFC) instead\n */\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\n//class Componet Registry (singleton)\n// store all components added\n\n\nfunction ComponentsRegistry() {\n  this.components = {};\n  this.registerComponent = function (component) {\n    var id = component.getId();\n    if (!this.components[id]) {\n      this.components[id] = component;\n      this.emit('componentregistered', component);\n    }\n  };\n\n  this.getComponent = function (id) {\n    return this.components[id];\n  };\n\n  this.getComponents = function () {\n    return this.components;\n  };\n\n  this.unregisterComponent = function (id) {\n    var component = this.components[id];\n    if (component) {\n      if (typeof component.destroy === 'function') component.destroy();\n      this.components[id] = null;\n    }\n    return component;\n  };\n  base(this);\n}\n\ninherit(ComponentsRegistry, G3WObject);\n\nexports.default = new ComponentsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],371:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constants = require('g3w-ol/constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit; /**\n                                 * @file Store Open Layers controls (zoom, streetrview, screnshoot, ruler, ...)\n                                 * @since v3.6\n                                 */\n\nvar G3WObject = require('core/g3wobject');\n\nfunction ControlsRegistry() {\n  var _this = this;\n\n  this._controls = {};\n\n  this._offlineids = [];\n\n  /**\n   * @since 3.8.0\n   */\n  this.selectedLayer = null;\n\n  /**\n   * @since 3.8.0\n   */\n  this.externalLayers = [];\n\n  _application2.default.on('complete',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * Handle temporary layers added by `addlayers` map control (Polygon or Multipolygon)\n   *\n   * @listens CatalogService~addExternalLayer\n   * @listens CatalogService~removeExternalLayer\n   *\n   * @since 3.8.0\n   */\n  function () {\n\n    var CatalogService = _gui2.default.getService('catalog');\n\n    // 0. store unwatches of external layers (selected or visible)\n    var unWatches = {};\n\n    // 1. update list `this.externalLayers`\n    // 2. update list `unWatches` of layer un-watchers (based on unique name of layer)\n    // 3. call `this.onAddExternalLayer`\n    CatalogService.onafter('addExternalLayer', function (_ref) {\n      var layer = _ref.layer,\n          type = _ref.type;\n\n      if ('vector' === type) {\n        _this.externalLayers.push(layer);\n        // Add event listener of selected property to set selected layer\n        unWatches[layer.name] = [_constants.VM.$watch(function () {\n          return layer.selected;\n        }, // watch `layer.selected` property\n        function (selected) {\n          _this.setSelectedLayer(true === selected ? layer : null);\n        })];\n\n        _this.callControlsEventHandler({\n          handler: 'onAddExternalLayer',\n          param: {\n            layer: layer,\n            unWatches: unWatches[layer.name]\n          }\n        });\n      }\n    });\n\n    // 4. clean up any previously attached event listener\n    CatalogService.onafter('removeExternalLayer', function (_ref2) {\n      var name = _ref2.name,\n          type = _ref2.type;\n\n      if ('vector' === type) {\n        _this.externalLayers = _this.externalLayers.filter(function (layer) {\n          if (name === layer.name) {\n            _this.callControlsEventHandler({ handler: 'handleRemoveExternalLayer', param: layer });\n          }\n          if (name === layer.name && layer === _this.selectedLayer) {\n            _this.setSelectedLayer(null);\n          }\n          return name !== layer.name;\n        });\n        unWatches[name].forEach(function (unWatch) {\n          return unWatch();\n        });\n        delete unWatches[name];\n      }\n    });\n  });\n\n  _application2.default.onbefore('offline',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var control = _this._controls[controlItem.id];\n      controlItem.enable = control.getEnable();\n      control.setEnable(false);\n    });\n  });\n\n  _application2.default.onbefore('online',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      _this._controls[controlItem.id].setEnable(controlItem.enable);\n    });\n  });\n\n  this.setters = {\n    registerControl: function registerControl(id, control) {\n      this._registerControl(id, control);\n    }\n  };\n\n  /**\n   * @param { unknown | null } layer\n   * \n   * @since 3.8.0\n   */\n  this.setSelectedLayer = function (layer) {\n    this.selectedLayer = layer;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getSelectedLayer = function () {\n    return this.selectedLayer;\n  };\n\n  /**\n   * @returns {Array}\n   * \n   * @since 3.8.0\n   */\n  this.getExternalLayers = function () {\n    return this.externalLayers;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.catalogSelectedLayer = function (layer) {\n    this.setSelectedLayer(layer.isSelected() ? layer : null);\n\n    this.callControlsEventHandler({\n      handler: 'onSelectLayer',\n      param: this.selectedLayer\n    });\n  };\n\n  /**\n   * NB `handler` = method name\n   * \n   * @param {{ handler: string, param: any }}\n   * \n   * @since 3.8.0\n   */\n  this.callControlsEventHandler = function (_ref3) {\n    var handler = _ref3.handler,\n        param = _ref3.param;\n\n    Object.values(this._controls).forEach(function (control) {\n      if ('function' === typeof control[handler]) {\n        control[handler](param);\n      }\n    });\n  };\n\n  this._registerControl = function (id, control) {\n    this._controls[id] = control;\n    if (control.offline === false) {\n      this._offlineids.push({\n        id: id,\n        enable: control.getEnable()\n      });\n      control.getEnable() && control.setEnable(_application2.default.isOnline());\n    }\n  };\n\n  this.getControl = function (id) {\n    return this._controls[id];\n  };\n\n  this.getControls = function () {\n    return this._controls;\n  };\n\n  this.unregisterControl = function (id) {\n    var control = this.getControl(id);\n    if (!control) {\n      return false;\n    }\n    _gui2.default.getService('map').getMap().removeControl(control);\n    delete this._controls[id];\n    this._offlineids = this._offlineids.filter(function (_id) {\n      return _id !== id;\n    });\n    return true;\n  };\n\n  base(this);\n}\n\ninherit(ControlsRegistry, G3WObject);\n\nexports.default = new ControlsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"g3w-ol/constants\":74,\"services/application\":346,\"services/gui\":356}],372:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file Store Open Layers levels (raster images, vector shapes, markers, ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction MapLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(MapLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new MapLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":67}],373:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Store G3W-CLIENT plugins (editing, qplotly, qtimeseries, ...)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * law project configuration on project is handle as plugin\n * @type {string[]}\n */\nvar OTHERPLUGINS = ['law'];\n\nfunction PluginsRegistry() {\n  var _this = this;\n\n  this.config = null;\n  this._plugins = {};\n  this._configurationPlugins = [];\n  this.pluginsConfigs = {};\n  this._loadedPluginUrls = [];\n  this.setters = {\n    //setters to register plugin\n    registerPlugin: function registerPlugin(plugin) {\n      if (!this._plugins[plugin.name]) this._plugins[plugin.name] = plugin;\n    }\n  };\n  /**\n   * CHECK IF STILL USEFUL. IT RELATED TO CHANGE MAP OLD BEHAVIOR (PREVIOUS VERSION 3.4).\n   * NOW WHEN CHANGE MAP IS TRIGGER, PAGE IS RELOADED.\n   */\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this.gidProject = project.getGid();\n  });\n\n  base(this);\n\n  // initialize plugin\n  this.init = function () {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var plugins;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.pluginsBaseUrl = options.pluginsBaseUrl;\n                // plugin configurations\n                _this2.setPluginsConfig(options.pluginsConfigs);\n                // filter\n                Object.keys(_this2.pluginsConfigs).forEach(function (pluginName) {\n                  return _this2._configurationPlugins.push(pluginName);\n                });\n                _this2.addLoadingPlugins();\n                // plugins that aren't in configuration server but in project\n                _this2.otherPluginsConfig = options.otherPluginsConfig;\n                _this2.setOtherPlugins();\n                _this2.setDependencyPluginConfig();\n                _context.prev = 7;\n                _context.next = 10;\n                return _this2._loadPlugins();\n\n              case 10:\n                plugins = _context.sent;\n\n                resolve(plugins);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context['catch'](7);\n\n                reject(_context.t0);\n\n              case 17:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2, [[7, 14]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.addLoadingPlugins = function () {\n    Object.keys(this.pluginsConfigs).forEach(function (plugin) {\n      return _application2.default.loadingPlugin(plugin);\n    });\n  };\n\n  this.removeLoadingPlugin = function (plugin, ready) {\n    _application2.default.loadedPlugin(plugin, ready);\n  };\n\n  this._loadPlugins = function () {\n    var _this3 = this;\n\n    var pluginLoadPromises = Object.entries(this.pluginsConfigs).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          pluginConfig = _ref3[1];\n\n      return _this3._setup(name, pluginConfig);\n    });\n    return Promise.allSettled(pluginLoadPromises);\n  };\n\n  this.setDependencyPluginConfig = function () {\n    var _this4 = this;\n\n    var _loop = function _loop(pluginName) {\n      var dependecyPluginConfig = _this4.pluginsConfigs[pluginName].plugins;\n      dependecyPluginConfig && Object.keys(dependecyPluginConfig).forEach(function (pluginName) {\n        _this4.pluginsConfigs[pluginName] = _extends({}, _this4.pluginsConfigs[pluginName], dependecyPluginConfig[pluginName]);\n      });\n    };\n\n    for (var pluginName in this.pluginsConfigs) {\n      _loop(pluginName);\n    }\n  };\n\n  this.setOtherPlugins = function () {\n    var law = OTHERPLUGINS[0];\n    if (this.otherPluginsConfig && this.otherPluginsConfig[law] && this.otherPluginsConfig[law].length) {\n      // law plugin\n      this.pluginsConfigs[law] = this.otherPluginsConfig[law];\n      this.pluginsConfigs[law].gid = this.otherPluginsConfig.gid;\n    } else delete this.pluginsConfigs[law];\n  };\n\n  // reaload plugin in case of change map\n  this.reloadPlugins = function (initConfig, project) {\n    var _this5 = this;\n\n    return new Promise(function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n        var scripts, plugins, _loop2, pluginName, _plugins;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                scripts = $('script');\n                plugins = _this5.getPlugins();\n\n                _loop2 = function _loop2(pluginName) {\n                  var plugin = plugins[pluginName];\n                  // unload plugin e remove from DOM\n                  plugin.unload();\n                  delete _this5._plugins[pluginName];\n                  scripts.each(function (index, scr) {\n                    _this5._loadedPluginUrls.forEach(function (pluginUrl, idx) {\n                      if (scr.getAttribute('src') === pluginUrl && pluginUrl.indexOf(pluginName) !== -1) {\n                        scr.parentNode.removeChild(scr);\n                        _this5._loadedPluginUrls.splice(idx, 1);\n                        return false;\n                      }\n                    });\n                  });\n                };\n\n                for (pluginName in plugins) {\n                  _loop2(pluginName);\n                }\n                _this5._loadedPluginUrls = [];\n                //setup plugins\n                _this5.otherPluginsConfig = project.getState();\n                _this5.setPluginsConfig(initConfig.group.plugins);\n                _this5.addLoadingPlugins();\n                _this5.setOtherPlugins();\n                _context2.prev = 9;\n                _context2.next = 12;\n                return _this5._loadPlugins();\n\n              case 12:\n                _plugins = _context2.sent;\n\n                resolve(_plugins);\n                _context2.next = 19;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](9);\n\n                reject(_context2.t0);\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this5, [[9, 16]]);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * setup plugin config only filtered by gid configuration\n   * @param config\n   */\n  this.setPluginsConfig = function () {\n    var _this6 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var enabledPluginConfig = {};\n    Object.entries(config).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          pluginConfig = _ref6[1];\n\n      return pluginConfig.gid === _this6.gidProject;\n    }).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          pluginName = _ref8[0],\n          pluginConfig = _ref8[1];\n\n      return enabledPluginConfig[pluginName] = pluginConfig;\n    });\n    this.pluginsConfigs = enabledPluginConfig;\n  };\n\n  /**\n   * Method to load external script\n   * @param url\n   * @returns {*}\n   * @private\n   */\n  this._loadScript = function (url) {\n    return $.getScript(url);\n  };\n\n  //load plugin script\n  this._setup = function (name, pluginConfig) {\n    var _this7 = this;\n\n    return new Promise(function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var _pluginConfig$jsscrip, jsscripts, depedencypluginlibrariespromises, _loop3, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, script, baseUrl, scriptUrl;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_.isNull(pluginConfig)) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _pluginConfig$jsscrip = pluginConfig.jsscripts, jsscripts = _pluginConfig$jsscrip === undefined ? [] : _pluginConfig$jsscrip;\n                depedencypluginlibrariespromises = [];\n\n                _loop3 = function _loop3(script) {\n                  depedencypluginlibrariespromises.push(new Promise(function (resolve, reject) {\n                    _this7._loadScript(script).done(function () {\n                      return resolve();\n                    }).fail(function () {\n                      return reject();\n                    });\n                  }));\n                };\n\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 7;\n\n                for (_iterator = jsscripts[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  script = _step.value;\n\n                  _loop3(script);\n                }\n                _context3.next = 15;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.prev = 16;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 18:\n                _context3.prev = 18;\n\n                if (!_didIteratorError) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 21:\n                return _context3.finish(18);\n\n              case 22:\n                return _context3.finish(15);\n\n              case 23:\n                _context3.prev = 23;\n                _context3.next = 26;\n                return Promise.all(depedencypluginlibrariespromises);\n\n              case 26:\n                baseUrl = '' + _this7.pluginsBaseUrl + name;\n                scriptUrl = baseUrl + '/js/plugin.js?' + Date.now();\n\n                pluginConfig.baseUrl = _this7.pluginsBaseUrl;\n                _this7._loadScript(scriptUrl).done(function () {\n                  _this7._loadedPluginUrls.push(scriptUrl);\n                  resolve();\n                }).fail(function () {\n                  _this7.removeLoadingPlugin(name, false);\n                  reject();\n                });\n                _context3.next = 36;\n                break;\n\n              case 32:\n                _context3.prev = 32;\n                _context3.t1 = _context3['catch'](23);\n\n                _this7.removeLoadingPlugin(name, false);\n                reject();\n\n              case 36:\n                _context3.next = 39;\n                break;\n\n              case 38:\n                resolve();\n\n              case 39:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7, [[7, 11, 15, 23], [16,, 18, 22], [23, 32]]);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.getPluginConfig = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n\n  this.getPlugins = function () {\n    return this._plugins;\n  };\n\n  this.getPlugin = function (pluginName) {\n    return this._plugins[pluginName];\n  };\n\n  // method to check if a plugin is in configuration and will be added to application\n  this.isPluginInConfiguration = function (pluginName) {\n    return this._configurationPlugins.indexOf(pluginName) !== -1;\n  };\n\n  this.isTherePlugin = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n}\n\ninherit(PluginsRegistry, G3WObject);\n\nexports.default = new PluginsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":346,\"store/projects\":374}],374:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file Store QGIS project configurations (enabled map controls / plugins / layers / ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Project = require('core/project/project');\n\n/* service\n    setup: init method\n    getLayersState: returnLayersState\n    getLayersTree: return  array of layersTree from LayersState\n*/\n\n// Public interface\nfunction ProjectsRegistry() {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.setters = {\n    createProject: function createProject(projectConfig) {\n      //hook to get project config and modify it\n    },\n    setCurrentProject: function setCurrentProject(project) {\n      if (this.state.currentProject !== project) {\n        _catalogLayers2.default.removeLayersStores();\n        _mapLayers2.default.removeLayersStores();\n      }\n      this.state.currentProject = project;\n      this.state.qgis_version = project.getQgisVersion();\n      this.setProjectType(project.state.type);\n      var projectLayersStore = project.getLayersStore();\n      //set in first position (catalog)\n      _catalogLayers2.default.addLayersStore(projectLayersStore, 0);\n      //set in first position (map)\n      _mapLayers2.default.addLayersStore(projectLayersStore, 0);\n    }\n  };\n\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n\n  // (lazy loading)\n  this._groupProjects = [];\n  this._projectConfigs = {};\n\n  base(this);\n}\n\ninherit(ProjectsRegistry, G3WObject);\n\nvar proto = ProjectsRegistry.prototype;\n\n//Inizialize configuration for all project belong to group\nproto.init = function () {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  //check if already initialized\n  if (!this.initialized) {\n    this.config = config;\n    this.overviewproject = config.overviewproject;\n    this.setupState();\n    // get current configuration\n    var searchParams = new URLSearchParams(location.search);\n    var map_theme = searchParams.get('map_theme');\n    this.getProject(config.initproject, {\n      map_theme: map_theme\n    }).then(function (project) {\n      // set current project\n\n      _this.setCurrentProject(project);\n      _this.initialized = true;\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  } else {\n    var project = this.getCurrentProject();\n    d.resolve(project);\n  }\n  return d.promise();\n};\n\nproto.clear = function () {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.initialized = false;\n  this._groupProjects = [];\n  this._projectConfigs = {};\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setupState = function () {\n  this.state.baseLayers = this.config.baselayers;\n  this.state.minScale = this.config.minscale;\n  this.state.maxScale = this.config.maxscale;\n  this.state.crs = this.config.crs;\n  this.setProjects(this.config.projects);\n};\n\nproto.getProjectType = function () {\n  return this.projectType;\n};\n\nproto.getProjects = function () {\n  return this._groupProjects;\n};\n\nproto.setProjects = function (projects) {\n  var _this2 = this;\n\n  this.clearProjects();\n  projects.forEach(function (project) {\n    _this2.state.qgis_version = project.qgis_version || _this2.state.qgis_version;\n    project.baselayers = _this2.config.baselayers;\n    project.minscale = _this2.config.minscale;\n    project.maxscale = _this2.config.maxscale;\n    project.crs = _this2.config.crs;\n    project.vectorurl = _this2.config.vectorurl;\n    project.rasterurl = _this2.config.rasterurl;\n    project.overviewprojectgid = _this2.overviewproject ? _this2.overviewproject.gid : null;\n    _this2._groupProjects.push(project);\n  });\n};\n\nproto.clearProjects = function () {\n  this._groupProjects = [];\n};\n\nproto.getListableProjects = function () {\n  var currentProjectId = this.getCurrentProject().getId();\n  return _.sortBy(this.getProjects().filter(function (project) {\n    if (!_.isNil(project.listable)) return project.listable;\n    if (project.id === currentProjectId || project.overviewprojectgid && project.gid === project.overviewprojectgid) return false;\n    return project;\n  }), 'title');\n};\n\nproto.getCurrentProject = function () {\n  return this.state.currentProject;\n};\n\n// method to get project configuration - added reload to force to get configuratn project from server\nproto.getProject = function (projectGid) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { reload: false };\n  var reload = options.reload,\n      map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var pendingProject = this._groupProjects.find(function (project) {\n    return project.gid === projectGid;\n  });\n  if (!pendingProject) {\n    d.reject(\"Project doesn't exist\");\n    return d.promise();\n  }\n  var projectConfig = !reload && this._projectConfigs[projectGid];\n  if (projectConfig) {\n    var project = new Project(projectConfig);\n    d.resolve(project);\n  } else {\n    this._getProjectFullConfig(pendingProject, { map_theme: map_theme }).then(function (projectFullConfig) {\n      var projectConfig = _.merge(pendingProject, projectFullConfig);\n      projectConfig.WMSUrl = _this3.config.getWmsUrl(projectConfig);\n      // setupu project relations\n      projectConfig.relations = _this3._setProjectRelations(projectConfig);\n      _this3._projectConfigs[projectConfig.gid] = projectConfig;\n      // instance of Project\n      _this3.createProject(projectConfig);\n      var project = new Project(projectConfig);\n      // add to project\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  }\n  return d.promise();\n};\n\nproto._setProjectRelations = function (projectConfig) {\n  projectConfig.relations = projectConfig.relations ? projectConfig.relations : [];\n  projectConfig.relations = projectConfig.relations.map(function (relation) {\n    if (relation.type === \"ONE\") {\n      projectConfig.layers.find(function (layer) {\n        if (layer.id === relation.referencingLayer) {\n          relation.name = layer.name;\n          relation.origname = layer.origname;\n          return true;\n        }\n      });\n    }\n    return relation;\n  });\n  return projectConfig.relations;\n};\n\nproto.getProjectConfigByGid = function (gid) {\n  return this._groupProjects.find(function (project) {\n    return project.gid === gid;\n  });\n};\n\nproto.setProjectAliasUrl = function (_ref) {\n  var gid = _ref.gid,\n      url = _ref.url,\n      host = _ref.host;\n\n  var project = this.config.projects.find(function (project) {\n    return project.gid === gid;\n  });\n  if (project) project.url = project && '' + (host ? host : '') + url;\n};\n/**\n *\n * @param gid\n * @param mode production or development\n * @returns {string}\n */\nproto.getProjectUrl = function (gid) {\n  // get base url\n  var baseurl = this.config.urls.baseurl;\n  // get project configuration in initConfig group projects\n\n  var projectConfig = this.getProjectConfigByGid(gid);\n  var url = projectConfig.url;\n  var _location = location,\n      origin = _location.origin;\n\n  return '' + origin + baseurl + url;\n};\n\n// method to call server to get project configuration\nproto._getProjectFullConfig = function (projectBaseConfig) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var url = this.config.getProjectConfigUrl(projectBaseConfig);\n  $.get(url).done(function (projectFullConfig) {\n    if (map_theme) {\n      var type = projectBaseConfig.type,\n          id = projectBaseConfig.id;\n      var map_themes = projectFullConfig.map_themes;\n\n      var find_map_theme = map_themes.find(function (_ref2) {\n        var theme = _ref2.theme;\n        return theme === map_theme;\n      });\n      if (find_map_theme) {\n        var url_theme = '/' + type + '/api/prjtheme/' + id + '/' + map_theme;\n        $.get(url_theme).done(function (_ref3) {\n          var result = _ref3.result,\n              layerstree = _ref3.data;\n\n          if (result) {\n            projectFullConfig.layerstree = layerstree;\n            find_map_theme.layetstree = layerstree;\n            find_map_theme.default = true;\n          }\n        }).always(function () {\n          d.resolve(projectFullConfig);\n        });\n      }\n    } else d.resolve(projectFullConfig);\n  }).fail(function (error) {\n    return d.reject(error);\n  });\n  return d.promise();\n};\n\nexports.default = new ProjectsRegistry();\n\n},{\"core/g3wobject\":12,\"core/project/project\":61,\"core/utils/utils\":67,\"store/catalog-layers\":369,\"store/map-layers\":372}],375:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store user session (login / logout)\n * @since v3.6\n */\n\nvar SessionsRegistry = function SessionsRegistry() {\n  this._sessions = {};\n\n  this.register = function (session) {\n    var id = session.getId();\n    this._sessions[id] = session;\n  };\n\n  this.unregister = function (id) {\n    delete this._sessions[id];\n  };\n\n  this.getSession = function (id) {\n    return this._sessions[id];\n  };\n\n  this.setSession = function (id, session) {\n    this._sessions[id] = session;\n  };\n\n  this.getSessions = function () {\n    return this._sessions;\n  };\n\n  this.clear = function () {\n    this._sessions = {};\n  };\n};\n\nexports.default = new SessionsRegistry();\n\n},{}],376:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* WARNING: this file is autogenerated by gulpfile.js, please do not edit manually */\n\nexports.default = '3.8.0-alpha.2';\n\n},{}]},{},[324]);\n"]}