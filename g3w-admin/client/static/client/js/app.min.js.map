{"version":3,"sources":["build.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","2","noop","inserted","cache","insert","css","elem","document","createElement","setAttribute","textContent","styleSheet","cssText","getElementsByTagName","appendChild","removeChild","3","_interopRequireDefault","obj","__esModule","default","_constant","_constant2","_applicationState","_applicationState2","_InputG3W","_InputG3W2","_InputG3WFormInputs","_InputG3WFormInputs2","_inputservice","_inputservice2","_FormBody","_FormBody2","_FormFooter","_FormFooter2","_C3XYLine","_C3XYLine2","_catalogLayers","_catalogLayers2","_data","_data2","_editing","_editing2","_sessions","_sessions2","_iframePlugin","_iframePlugin2","_mapLayers","_mapLayers2","_plugins","_plugins2","_projects","_projects2","_relations","_relations2","_tasks","_tasks2","_workflows","_workflows2","_api","_api2","_application","_application2","_router","_router2","_gui","_gui2","_mixins","_mixins2","G3WObject","utils","geoutils","i18n","Server","Session","Editor","Geom","_require","Geometry","Project","LayersStoreRegistry","LayersStore","Layer","LayerFactory","TableLayer","VectorLayer","ImageLayer","WmsLayer","XYZLayer","MapLayer","Feature","FeaturesStore","OlFeaturesStore","Filter","Expression","Plugin","PluginService","Task","Step","Flow","Workflow","Panel","ControlFactory","ComponentsFactory","FieldsService","Component","MetadataComponent","SearchComponent","SearchPanel","PrintComponent","CatalogComponent","MapComponent","ToolsComponent","QueryResultsComponent","FormComponent","FormService","InputsComponents","ChartsFactory","Fields","SearchPanelService","PickFeatureInteraction","PickCoordinatesInteraction","DeleteFeatureInteraction","AreaInteraction","LengthInteraction","g3wolutils","constant","core","ApplicationService","ApplicationState","ApiService","Router","task","TaskService","data","DataRouterService","iframe","IFrameRouterService","errors","parsers","editing","SessionsRegistry","ChangesManager","geometry","project","ProjectsRegistry","map","MapLayersStoreRegistry","catalog","CatalogLayersStoresRegistry","layer","geom","features","filter","relations","RelationsService","interaction","plugin","PluginsRegistry","workflow","WorkflowsStack","input","inputService","gui","GUI","vue","FormComponents","Body","Footer","Inputs","G3wFormInputs","G3WInput","Charts","c3","lineXY","Mixins","services","ol","interactions","measure","controls","version","APP_VERSION","components/C3XYLine.vue","components/FormBody.vue","components/FormFooter.vue","components/InputG3W.vue","components/InputG3WFormInputs.vue","core/editing/editor","core/editing/session","core/errors/parser/servererrorparser","core/expression/inputservice","core/g3wobject","core/i18n/i18n.service","core/layers/features/feature","core/layers/features/featuresstore","core/layers/features/olfeaturesstore","core/layers/filter/expression","core/layers/filter/filter","core/layers/imagelayer","core/layers/layer","core/layers/layerfactory","core/layers/layersstore","core/layers/layersstoresregistry","core/layers/map/maplayer","core/layers/map/wmslayer","core/layers/map/xyzlayer","core/layers/tablelayer","core/layers/vectorlayer","core/plugin/plugin","core/plugin/pluginservice","core/project/project","core/utils/geo","core/utils/ol","core/utils/utils","core/workflow/flow","core/workflow/step","core/workflow/task","core/workflow/workflow","g3w-ol/interactions/areainteraction","g3w-ol/interactions/deletefeatureinteraction","g3w-ol/interactions/lengthinteraction","g3w-ol/interactions/pickcoordinatesinteraction","g3w-ol/interactions/pickfeatureinteraction","gui/catalog/vue/catalog","gui/charts/chartsfactory","gui/component/component","gui/component/componentsfactory","gui/fields/fields","gui/fields/fieldsservice","gui/form/formservice","gui/form/vue/form","gui/inputs/inputs","gui/map/control/factory","gui/map/vue/map","gui/metadata/vue/metadata","gui/panel","gui/print/vue/print","gui/queryresults/vue/queryresults","gui/search/vue/panel/searchpanel","gui/search/vue/panel/searchservice","gui/search/vue/search","gui/tools/vue/tools","mixins","services/api","services/application","services/data","services/editing","services/gui","services/iframe-plugin","services/relations","services/router","services/tasks","services/workflows","store/application-state","store/catalog-layers","store/map-layers","store/plugins","store/projects","store/sessions","4","Object","defineProperty","value","server","client","_i18n","tools","plugins","undefined","_locales","_locales2","apptitle","supportedLanguages","resources","debug","local","urls","baseurl","ows","api","initconfig","config","merge","type","../locales","5","ZINDEXES","VIEWPORT","TOC_THEMES_INIT_STATUS","TOC_LAYERS_INIT_STATUS","TIMEOUT","SEARCH_RETURN_TYPES","SEARCH_ALLVALUE","QUERY_POINT_TOLERANCE","PRINT_SCALES","PRINT_RESOLUTIONS","PRINT_FORMATS","MAP_SETTINGS","LOCALSTORAGE_EXTERNALWMS_ITEM","LIST_OF_RELATIONS_ID","LIST_OF_RELATIONS_TITLE","GEOMETRY_TYPES","GEOMETRY_FIELDS","FILTER_EXPRESSION_OPERATORS","FILTER_OPERATORS","G3W_FID","EPSG","DOWNLOAD_FORMATS","DEFAULT_EDITING_CAPABILITIES","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","_version","_version2","download","format","url","download_gpkg","download_gpx","download_csv","download_xls","download_raster","gte","lte","NOT","eq","gt","lt","IN","NOT IN","LIKE","ILIKE","AND","OR","ltgt","ilike","like","POINT","POINTZ","POINTM","POINTZM","POINT25D","MULTIPOINT","MULTIPOINTZ","MULTIPOINTM","MULTIPOINTZM","MULTIPOINT25D","LINESTRING","LINESTRINGZ","LINESTRINGM","LINESTRINGZM","LINESTRING25D","LINE","LINEZ","LINEM","LINEZM","LINE25D","MULTILINESTRING","MULTILINESTRINGZ","MULTILINESTRINGM","MULTILINESTRINGZM","MULTILINESTRING25D","MULTILINE","MULTILINEZ","MULTILINEM","MULTILINEZM","MULTILINE25D","POLYGON","POLYGONZ","POLYGONM","POLYGONZM","POLYGON25D","MULTIPOLYGON","MULTIPOLYGONZ","MULTIPOLYGONM","MULTIPOLYGONZM","MULTIPOLYGON25D","GEOMETRYCOLLECTION","GEOMETRYCOLLECTIONZ","GEOMETRYCOLLECTIONM","GEOMETRYCOLLECTIONZM","GEOMETRYCOLLECTION25D","ZOOM","maxScale","ANIMATION","duration","LAYER_POSITIONS","getPositions","label","unit","resize","min","content","usermessage","tool","../version","6","_asyncToGenerator","fn","gen","apply","this","Promise","resolve","reject","step","arg","info","error","done","then","err","BaseService","_this","onbefore","getCurrentProject","proto","handleRequest","request","handleResponse","_ref","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","stop","_x","7","_defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","Array","isArray","arr2","from","options","setters","save","_save","addFeature","feature","_addFeature","updateFeature","_updateFeature","deleteFeature","_deleteFeature","setFeatures","_setFeatures","getFeatures","_getFeatures","base","_filter","bbox","_allfeatures","_layer","_featuresstore","getType","LayerTypes","TABLE","_started","_noteditablefileds","getEditingNotEditableFields","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","push","TypeError","inherit","_canDoGetFeaturesRequest","doRequest","VECTOR","extent","containsExtent","extend","getEditingSource","getSource","_applyChanges","items","reverse","execute","setChanges","getLayer","setLayer","removeNotEditablePropriertiesFromFeature","forEach","field","unset","_cloneFeatures","clone","_addFeaturesFromServer","addFeatures","_doGetFeaturesRequest","online","d","$","Deferred","promise","fail","revert","readFeatures","rollback","changes","applyChangesToNewRelationsAfterCommit","relationsResponse","relationLayerId","getLayerById","editingLayerSource","getEditingLayer","clearState","applyCommitResponse","result","setFieldValueToRelationField","_ref2","relationId","ids","_ref2$values","values","getSession","getEditor","id","getFeatureById","fieldvalue","get","set","_this2","lockids","new_lockids","idobj","clientid","setId","setProperties","properties","relation","entries","_ref3","_ref4","fatherField","childField","addLockIds","getLockIds","commit","commitItems","_this3","add","keys","layerRelation","getRelations","getRelationByFatherChildren","getId","updates","update","concat","getFatherField","getChildField","start","_this4","readEditingFeatures","_this5","unlock","clear","isStarted","getFeaturesStore","resetEditingSource","getFeaturesCollection","8","History","_maxSteps","_states","state","undo","redo","_current","uniqueId","getLastState","_setState","getRelationStates","layerId","relationStates","relationItems","item","_layerId","insertState","stateId","index","_i2","_state","splice","removeState","removeStates","stateIds","_i3","insertStates","states","_i4","canCommit","canUndo","canRedo","_checkItems","action","newItems","own","dependencies","getFirstState","find","idx","setItemsFeatureIds","unsetnewids","unsetnewid","_this6","indexOf","_clearAll","getState","getCurrentState","_this7","currentState","getCurrentStateIndex","_this8","currentStateIndex","checkCommitItems","commitItem","steps","_","isNull","_getStatesToCommit","_this9","statesToCommit","getUid","isNew","isDeleted","isUpdated","_item","isAdded","9","_start","_stop","saveChangesOnServer","started","getfeatures","_editor","editor","_history","_temporarychanges","register","_typeof","constructor","is3DGeometry","getLastHistoryState","getLastStateId","deleteState","unregister","setEditor","Date","now","updateTemporaryChanges","change","getProperties","pushAdd","removeNotEditableProperties","newFeature","pushDelete","pushUpdate","oldFeature","temporarynewfeatureIndex","findIndex","removeChangesFromHistory","changeIds","moveRelationStatesOwnSession","statesIds","_getCommitItems","getCommitItems","relationSession","New","Old","_filterChanges","temporarychange","unshift","_changes","rollbackDependecies","_serializeCommit","itemsToCommit","commitObj","delete","isRelation","sessionRelation","GeoJSONFormat","GeoJSON","writeFeatureObject","childs_properties","_key","set3DGeometryType","_ref$layerId","editingLayer","geometryType","getGeometryType","_ref2$ids","_ref2$relations","_data$new_relations","new_relations","session","_canStop","clearHistory","getHistory","core/editing/history","10","serverErrorParser","_error","parse","traverseErrorMessage","errorObject","entry","_entry","_entries$find","_ref5","_entries$find2","error_message","_ref6","_ref7","replace","_entries$","_value","_ref$type","responseJSON","message","11","convertFeatureToGEOJSON","handleFilterExpressionFormInput","form_data","_options$layer_id","layer_id","filter_expression","loading","qgs_layer_id","parentData","getData","inputs","parent","formatter","expression","outputs","sent","t0","sort","aKey","bKey","toLowerCase","abrupt","t1","finish","handleDefaultExpressionFormInput","_callee2","_options$layer_id2","default_expression","_context2","12","getFormDataExpressionRequestFromFeature","getVisibility","_ref$feature","contenttype","13","debounce","throttle","_setupListenersChain","debounces","_setupDebounces","throttles","_setupThrottles","EventEmitter","onafter","setter","listener","priority","_onsetter","onceafter","oncebefore","onbeforeasync","un","settersListeners","setterListener","when","async","once","listenerKey","Math","floor","random","fnc","sortBy","after","before","_loop","setterOption","setterFnc","setterFallback","isFunction","fallback","_len","args","_key2","deferred","returnVal","counter","callSetter","onceListenerKeys","afterListeners","abort","beforeListeners","bool","cont","isBoolean","completed","emitEvent","listenerObj","currentCounter","_bool","name","delay","Function","14","init","appLanguages","language","plugins18nConfig","i18next","use","i18nextXHRBackend","lng","ns","fallbackLng","jqueryI18next","tName","i18nName","handleName","selectorAttr","targetAttr","optionsAttr","useOptionsAttr","parseDefaultValueFromContent","addI18n","getAppLanguage","getConfig","user","text","tPlugin","tPrefix","addI18nPlugin","pluginLanguage","i18nObject","languageObj","addResource","changeLanguage","15","16","BaseIframeService","ready","createFilterFormField","mapService","getComponent","getService","layers","getQgsLayerId","_ref$noValue","noValue","searchFeature","search_endpoint","_ref4$data","getSearchEndPoint","_x2","findFeaturesWithGeometry","layersCount","_ref6$qgs_layer_id","_ref6$zoom","zoom","_ref6$highlight","highlight","found","getGeometry","zoomToFeatures","zoomToProjectInitExtent","setLayers","getLayers","setReady","getReady","_callee3","_context3","17","_iframeApp","_iframeApp2","_iframeEditing","_iframeEditing2","app","services/iframe-app","services/iframe-editing","18","BasePluginService","pluginName","dependencyApi","_ref2$layers","isPluginInConfiguration","getPlugin","setDependencyApi","getApi","isReady","getName","getDependecyApi","core/iframe/services/baseservice","19","ARCGISMAPSERVERLayer","BaseLayer","BasesLayers","_makeOlLayer","_config","attributions","crs","projection","getProjectionFromCrs","olLayer","TMS","source_type","core/layers/baselayers/baselayer","g3w-ol/layers/bases","20","isWMS","getWmsUrl","tiled","_mapLayer","WMSLayer","addLayer","Projections","epsg","_registerLoadingEvent","_olLayer","on","emit","getOLLayer","mapState","extraParams","_updateLayer","setAttributions","setVisible","visible","getMapLayer","g3w-ol/projection/projections","21","BaseLayers","OSM","Bing","ARCGISMAPSERVER","WMTS","WMS","./arcgislayer","./binglayer","./osmlayer","./tmslayer","./wmslayer","./wmtslayer","22","BingLayer","vendorkeys","bing","subtype","BING","imagerySet","23","OSMLayer","title","24","TMSLayer","minZoom","maxZoom","25","singleTile","opacity","26","WMTSLayer","matrixSet","style","requestEncoding","27","geometryFields","_uid","_newPrefix","_geometry","property","setGeometryName","getGeometryName","setGeometry","getStyle","setStyle","new","inherits","_setUid","uid","isGeometry","cloneNew","setTemporaryId","setState","setNew","newValue","setFullState","getFullState","getAlphanumericProperties","alphanumericproperties","isVisible","app/constant","28","_features","_provider","provider","_loadedIds","_lockIds","hasFeatureLockByOtherUser","removeFeature","_removeFeature","_clearFeatures","featurestore","_commit","featuresLockedByOtherUser","cloneDeep","setProvider","getProvider","_filterFeaturesResponse","_readFeatures","_options$features","_options$featurelocks","featurelocks","count","featuresToAdd","featureId","added","_filterLockIds","lockid","featureid","toAddLockId","featurelock","addLoadedIds","lockIds","union","lockId","getFeatureByUid","feat","getDataProvider","29","Collection","getLength","getArray","dispatchEvent","featuresArray","_feature","removeAt","insertAt","30","_layerName","layerName","_expression","and","or","_build","not","operator","join","createSingleExpressionElement","attribute","logicop","filterElement","valueExtra","filterOp","filterLogicOperator","filterValue","Number","isNaN","toString","trim","singolequote","split","_filterElements","_value2","_filterOp","_filterValue","_filterElement","createExpressionFromFilterObject","filterElements","rootFilter","_operator","_value3","_field","_value4","fieldElement","createExpressionFromField","_ref2$operator","createExpressionFromFilterArray","inputsLength","substring","createExpressionFromFilter","filterParam","31","_type","setConfig","mergeConfig","getAll","TYPES","all","setExpression","setBBOX","setFids","fids","serialize","JSON","stringify","32","GeojsonLayer","setup","GeojsonMapLayer","getProjection","getCode","core/layers/map/geojson","33","GeoLayerMixin","getScaleFromResolution","_require2","createFeatureFromFeatureObject","_require3","XHR","sanitizeUrl","RESERVERDPARAMETRS","wms","map_crs","multilayerid","multilayer","legendCategories","olSelectionFeatures","geolayer","geometrytype","legend","show","external","checked","hidden","scalebasedvisibility","minscale","maxscale","ows_method","exclude_from_legend","categories","expanded","_sanitizeSourceUrl","getLegendGraphic","_ref$all","legendParams","layout","legendurl","getLegendUrl","setCategories","getCurrentStyle","category","ruleKey","getCategories","clearCategories","clearOlSelectionFeatures","getOlSelectionFeature","updateOlSelectionFeature","featureObject","_mapService","setSelectionFeatures","deleteOlSelectionFeature","getOlSelectionFeatures","addOlSelectionFeature","showAllOlSelectionFeatures","setInversionOlSelectionFeatures","setOlSelectionFeatureByFid","fid","setOlSelectionFeatures","__layerId","sanitizedUrl","reserverParameters","isLayerCheckedAndAllParents","isChecked","parentGroup","setChecked","oldVisibile","changed","isDisabled","disabled","isPrintable","scale","getStyles","styles","current","setCurrentStyle","currentStyleName","setDisabled","resolution","mapUnits","mapScale","isFilterable","setTocHighlightable","getMultiLayerId","getOwsMethod","setProjection","getEpsg","getCrs","getMapCrs","isCached","cache_url","getCacheUrl","hasAxisInverted","axisOrientation","getAxisOrientation","substr","setMapProjection","mapProjection","_mapProjection","getMapProjection","34","baselayer","IMAGE","legendUrl","customParams","mixin","WMSTLayer","LegendService","getLayerForEditing","_project","editableLayer","_ref2$force","force","vectorurl","project_type","isEditable","layerForEditing","setEditingLayer","isBaseLayer","WMSServerTypes","servertype","isLayerProjectionASMapProjection","isExternalWMS","isArcgisMapserver","SourceTypes","_getBaseLayerName","isWmsUseLayerIds","getWMSLayerName","_ref3$type","legendMapBoolean","_ref4$type","wmsUrl","getWFSLayerName","getQueryLayerName","useProxy","getInfoFormats","getWMSInfoLayerName","getPrintLayerName","getStringBBox","minx","miny","maxx","maxy","isWfsActive","ows_type","getFullWmsUrl","metadata_wms_url","metadata","wms_url","getCatalogWmsUrl","getMetadata","catalogWmsUrl","getCatalogWfsUrl","getWfsUrl","getQueryUrl","getServerType","ServerTypes","QGIS","getIconUrlFromLegend","layertitle","params","setMapParamstoLegendUrl","getWfsCapabilities","wfscapabilities","capabilities","iframe_internal","isIframe","mapLayer","method","WMST","Mapserver","Geoserver","OGC","core/layers/geolayermixin","core/layers/legend/legendservice","core/layers/map/arcgismapserverlayer","core/layers/map/wmstlayer","35","fields","query","infourl","_options$project","projectRelations","_createRelations","projectType","projectId","suffixUrl","vectorUrl","getVectorUrl","rasterUrl","getRasterUrl","filtertoken","shp","csv","xls","gpx","gpkg","geotiff","widget","unique","searchParams","I","J","defaultstyle","selected","metadata_querable","isQueryable","onMap","openattributetable","canShowTable","removable","downloadable","isDownloadable","inediting","infoformat","getInfoFormat","infoformats","projectLayer","selection","active","attributetable","pageLength","tochighlightable","selectionFids","Set","_layersstore","layersstore","serverType","sourceType","providers","ProviderFactory","build","search","proxyData","parseAttributes","Relations","getProxyData","setProxyData","clearProxyData","getDataProxyFromServer","proxyParams","changeProxyDataAndReloadFromServer","changeParam","param","isInEditing","setInEditing","getSearchParams","referencedLayer","referencingLayer","getRelationById","getRelationAttributes","relationName","getRelationsAttributes","isChild","isFather","getChildren","getFathers","hasChildren","hasRelations","hasFathers","setAttributeTablePageLength","getAttributeTablePageLength","setFilter","getFilterActive","toggleFilterToken","activeFilterToken","createFilterToken","deleteFilterToken","_x10","_callee4","_context4","setFilterToken","_callee5","_context5","size","has","SELECTION_STATE","ALL","EXCLUDE","fidsout","fidsin","getFilterToken","setSelectionFidsAll","isGeoLayer","setSelection","getSelectionFids","invertSelectionFids","hasSelectionFid","includeSelectionFid","_callee6","createToken","_context6","isSelectionActive","_x12","includeSelectionFids","excludeSelectionFid","_ref8","_callee7","isLastFeatureSelected","_context7","setselectionFidsAll","_x14","excludeSelectionFids","clearSelectionFids","wms_use_layer_ids","getDownloadFilefromDownloadDataType","_ref9","_ref9$data","getShp","getXls","getCsv","getGpx","getGpkg","getGeoTIFF","_ref10","_ref10$data","getUrl","fileDownload","httpMethod","_ref11","_ref11$data","_ref12","_ref12$data","_ref13","_ref13$data","_ref14","_ref14$data","_ref15","_ref15$data","getSourceType","getDataTable","_ref16","_ref16$page","page","_ref16$page_size","page_size","_ref16$ordering","ordering","_ref16$search","_ref16$suggest","suggest","_ref16$formatter","in_bbox","_ref16$custom_params","custom_params","tokens","getTitle","headers","getAttributes","dataTableObject","getFeatureByFids","_callee8","_ref18","_ref18$fids","_ref18$formatter","_context8","vector","searchFeatures","_options$search_endpo","_ref19","_callee9","_options$raw","raw","_options$suggest","queryUrl","_context9","results","getFilterData","_x26","_x27","_callee10","_ref21","_ref21$raw","_ref21$suggest","_ref21$formatter","_context10","feature_count","getFields","getFieldByName","fieldName","getEditingFields","getTableFields","getTableHeaders","getProject","getLayerEditingFormStructure","editor_form_structure","getEditorFormStructure","getFieldsOutOfFormStructure","structure","field_name","hasFormStructure","getCustomStyle","customstyle","isShpDownlodable","isXlsDownlodable","isGpxDownlodable","isGpkgDownlodable","isCsvDownlodable","getDownloadableFormats","download_format","getDownloadUrl","isGeoTIFFDownlodable","_editingLayer","isHidden","setHidden","isModified","modified","getOrigName","origname","isType","setType","isSelected","setSelected","_callee11","_context11","getSelection","getFilter","_ref23","queryEnabled","queryableForCababilities","CAPABILITIES","QUERYABLE","infowhennotvisible","getOws","getTocHighlightable","conditions","isFiltrable","FILTERABLE","conditionalFiltrable","reduce","layer_config_value","condition_attribute_values","isQtimeseries","qtimeseries","EDITABLE","setUrl","_ref24","getUrls","setEditingUrl","setQueryUrl","infolayer","getQueryLayerOrigName","ogcService","getInfoUrl","setInfoFormat","infoFormat","changeAttribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getAttributeLabel","getProviders","getLayersStore","setLayersStore","layerstore","not_show_attributes_table","POSTGIS","ORACLE","WFS","OGR","MSSQL","SPATIALITE","G3WSUITE","changeFieldType","_ref25","_ref25$options","_ref25$reset","reset","changeConfigFieldType","_ref26","_ref26$options","_ref26$reset","resetConfigField","_ref27","isVector","isTable","LOCAL","VIRTUAL","CSV","GDAL","WCS","MDAL","VECTOR-TILE","VECTORTILE","GEOJSON","EDITOPS","INSERT","UPDATE","DELETE","core/layers/providers/providersfactory","core/relations/relations","36","layerClass","LayerClass","sourcetype","core/layers/baselayers/baselayers","core/layers/geojson","37","initextent","layerstree","_isQueryable","queryable","_layers","setLayerSelection","setLayerSelected","addLayers","_addLayer","removeLayer","_removeLayer","setQueryable","showOnCatalog","setOptions","removeLayers","getLayersDict","PRINTABLE","VISIBLE","SELECTED","CACHED","SELECTEDORALL","SERVERTYPE","BASELAYER","GEOLAYER","VECTORLAYER","HIDDEN","DISABLED","IDS","isUndefined","filtrable","getBaseLayers","getLayerByName","getLayerAttributes","getLayerAttributeLabel","getGeoLayers","_getAllSiblingsChildrenLayersId","nodeIds","traverse","nodes","node","_getAllParentLayersId","_node","selectLayer","getExtent","getInitExtent","setLayersTree","rootGroup","root","createLayersTree","groupName","full","_layerstree","tocLayersId","newobj","lightlayer","toclayerId","groupId","mutually_exclusive","geoLayers","removeLayersTree","getLayersTree","38","LayersStoresRegistry","stores","storesArray","addLayersStore","layersStore","_addLayersStore","removeLayersStore","layerStore","_removeLayersStore","removeLayersStores","_removeLayersStores","storeId","getQuerableLayersStores","getLayersStores","isNil","_storeId","39","ARGISMAPSERVERLegend","_layer$getConfig$sour","layername","serviceUrl","40","argismapserver","Legendservice","_ref$options","./arcgismapserverlegend","./wmslegend","41","WMSLegend","width","height","_params$color","color","_params$fontsize","fontsize","_params$transparent","transparent","boxspace","layerspace","_params$layertitle","layertitlespace","symbolspace","iconlabelspace","symbolwidth","symbolheight","itemfontfamily","layerfontfamily","layerfontbold","itemfontbold","layerfontitalic","itemfontitalic","rulelabel","_params$sld_version","sld_version","LAYER","_options$categories","_options$all","STYLES","FORMAT","encodeURIComponent","dynamicLegend","getContextBaseLegend","get_LEGEND_ON_LEGEND_OFF_Params","LEGEND_ON","LEGEND_OFF","sep","42","WMSLAYER","RasterLayers","TiledArgisMapServer","g3w-ol/layers/rasters","43","core/layers/map/vectorlayer","44","allLayers","showSpinnerWhenLoading","_updateLayers","checkLayerDisabled","checkLayersDisabled","setupCustomMapParamsToLegendUrl","45","createOlLayer","createLayerStyle","resetSource","Vector","setSource","_style","_makeStyle","styleConfig","icon","image","Icon","src","imageSize","stroke","Stroke","fill","Fill","Style","setOLLayer","getVisible","addToMap","46","_objectWithoutProperties","LAYERTYPE","MULTILAYER","_method","withLayers","getGetFeatureInfoUrl","coordinate","getLayerConfigs","_getVisibleLayers","getQueryableLayers","wmsConfig","representativeLayer","_extraParams$force","visibleLayers","CATEGORIES_LAYERS","prefix","LAYERS","updateParams","47","TiledWMSLayer","48","layerOptions","49","GEOJSONDataProvider","_name","Provider","parseFeatures","parser","featureProjection","dataProjection","digestFeaturesForTable","core/layers/providers/provider","50","KMLDataProvider","DataProvider","51","_isReady","_hasFieldsStartWithNotPermittedKey","getTimeoutPromise","handleQueryResponse","responseParser","isValid","handleQueryResponseFromServer","projections","getQueryResponseTimeoutKey","_ref$layers","getTimeoutData","core/utils/parsers","52","providerType","providerClass","ProvidersForServerTypes","Providers","geojson","kml","xml","qgis","wfs","virtual","postgres","oracle","mssql","spatialite","ogr","delimitedtext","wmst","wcs","gdal","vector-tile","vectortile","arcgismapserver","mdal","./geojsonprovider","./kmlprovider","./qgisprovider","./wfsprovider","./wmsprovider","./xmlprovider","53","QGISProvider","_projections","_queryUrl","_filtertokenUrl","_infoFormat","Parsers","mode","_ref3$data","dataUrl","_ref5$raw","_ref5$suggest","_ref5$formatter","setProjections","_options$filter","CRS","layerNames","SERVICE","VERSION","REQUEST","QUERY_LAYERS","INFO_FORMAT","FEATURE_COUNT","FILTER","WITH_GEOMETRY","featuresForLayers","getWidgetData","widgetUrls","unlockUrl","post","jsonCommits","contentType","layerType","urlParams","jsonFilter","_options","_jsonFilter","nofeatures","_jsonFilter2","nofeatures_field","parser_options","featureLock","_urlParams","_loadLayerData","customUrlParameters","_arguments","Obkect","layerCode","noVectorlayerCodes","vectorLayersSetup","_setupVectorLayer","vectorLayersCodes","slice","loadAllVectorsData","_vectorLayersCodes","setVectorLayersCodes","getVectorLayersCodes","reloadVectorData","_createVectorLayerFromConfig","vectorLayer","_getVectorLayerData","vectorDataResponse","setVectorLayerData","_editingApiField","setData","layerCodes","loadedExtent","_loadedExtent","resolvedValue","vectorDataRequests","_loadVectorData","_setCustomUrlParameters","_customUrlParameters","_checkVectorGeometryTypeFromConfig","vectorConfig","layerConfig","_getVectorLayerConfig","vectorConfigResponse","crsLayer","_createVectorLayer","self","_editingMode","setFields","setCrs","lazyRelations","setRelations","setVectorFeaturesLock","getVectorLayerData","_vectorLayersData","getVectorLayersData","vectorLayerData","featureslock","newFeaturesLockIds","differenceBy","getFeatureLocks","newLockId","addLockId","cleanVectorFeaturesLock","cleanFeatureLocks","lockFeatures","_baseUrl","layerApiField","lock","getMode","apiUrl","cleanUpLayers","54","WFSDataProvider","toRawType","_options$reproject","reproject","_options$feature_coun","MAXFEATURES","_options$layers","timeoutKey","_doRequest","featuresForLayer","_featuresForLayer$fea","always","clearTimeout","_post","match","_get","SRSNAME","TYPENAME","OUTPUTFORMAT","filterType","filterConfig","featureRequest","writeGetFeature","featureTypes","_filterConfig$spatial","spatialMethod","children","innerHTML","repeat","queryPromise","status","responseText","55","WMSDataProvider","appendParams","GETFEATUREINFO_IMAGE_SIZE","DPI","getDPI","_getRequestParameters","coordinates","_ref$query_point_tole","query_point_tolerance","getExtentForViewAndSize","x","y","PARAMS_TOLERANCE","bufferGeometry","Polygon","fromCircle","Circle","wkGeometry","WKT","FILTER_GEOM","writeGeometry","FI_POINT_TOLERANCE","FI_LINE_TOLERANCE","FI_POLYGON_TOLERANCE","G3W_TOLERANCE","LEGEND_PARAMS","_get_LEGEND_ON_LEGEND","WIDTH","HEIGHT","layerProjection","_options$size","_options$coordinates","METHOD","test","Content-Type","GET","sourceParam","POST","56","XMLDataProvider","57","clearFeatures","syncSelectionFilterFeatures","setColor","_setColor","_color","_editatbleLayer","getEditingConfig","_ref$constraints","constraints","_ref$capabilities","form","perc","_setOtherConfigParameters","updateItem","setFormPercentage","getFormPercentage","cloneFeatures","setVectorUrl","setProjectType","getColor","isEditingLayer","getEditingStyle","setEditingStyle","getEditingConstrains","getEditingCapabilities","isFieldRequired","required","validate","editable","isPkField","find_field","pk","isEditingFieldEditable","getEditingMediaFields","getFieldsLabel","labels","getDataFormat","getEditingFormat","addEditingConfigFieldOption","getCommitUrl","setCommitUrl","getEditingUrl","getUnlockUrl","setUnlockUrl","getWidgetUrl","setDataUrl","getDataUrl","getConfigUrl","setConfigUrl","setFeaturesStore","featuresstore","setFieldsWithValues","createAttributesFromFields","attributes","getFieldsWithValues","_options$exclude","exclude","_options$get_default_","get_default_value","_configField","forceNull","valid","_valid","value_from_default_value","exclude_values","mutually_valid","empty","createNewFeature","58","VectorMapLayer","getEditingGeometryType","59","_ref$name","_ref$config","getPluginConfig","_ref$service","service","_ref$dependencies","_ref$i18n","_ref$fontClasses","fontClasses","_ref$api","setName","setLocale","setService","setDependencies","addFontClasses","setApi","setHookService","_ready","hookservices","_timeout","setTimeout","removeLoadingPlugin","removeLayout","setPlugin","hook","_hook","getHookService","setLayout","cloneLayout","setCurrentLayout","isCurrentProjectCompatible","getGid","registerPlugin","iscompatible","getDependencyPlugins","pluginsName","getDependencyPlugin","getDependencyPluginsObject","pluginsApiObject","promises","_x6","isTherePlugin","setHookLoading","_ref3$hook","_ref3$loading","setLoading","addToolGroup","_ref4$hook","order","position","group","removeToolGroup","addTools","_ref6$hook","html","_ref6$offline","offline","_ref6$options","_ref6$loading","_ref6$disabled","_ref6$state","groupTools","configs","bind","setToolState","_ref7$state","removeTools","createSideBarComponent","vueComponentObject","_ref8$open","_ref8$collapsible","_ref8$mobile","_ref8$isolate","_ref8$closewhenshowvi","_ref8$iconConfig","_ref8$events","_ref8$sidebarOptions","open","collapsible","mobile","isolate","closewhenshowviewportcontent","iconConfig","events","sidebarOptions","componentsFactoryOpts","iconColor","getFontClass","PluginSiderbarComponent","addComponent","removeComponent","unload","clearAllEvents","load","addDependency","dependency","addFontClass","className","Vue","g3wtemplate","fonClasses","fontClass","60","_pluginEvents","_appEvents","currentLayout","getCurrentLayoutName","vm","unwatch","$watch","__current","currentLayoutName","resetCurrentLayout","gid","initEvents","registerWindowEvent","evt","cb","unregisterWindowEvent","subscribeEvent","_ref5$once","owner","triggerEvent","_ref6$params","unsubscribeEvent","removeEvent","unsubscribeAllEvents","loadPlugin","61","PrintService","_currentLayerStore","convertObjectToUrlParams","OUTPUT_FORMATS","pdf","jpg","COMMON_REQUEST_PARAMETERS","getAtlasParamsFromOptions","template","_options$download","multiValues","EXPRESSION","EXP_FILTER","TEMPLATE","DOWNLOAD","getParamsFromOptions","rotation","dpi","_options$maps","maps","_options$labels","is_maps_preset_theme","preset_theme","mime_type","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","window","URL","webkitURL","_url","createObjectURL","onerror","send","_getAtlasParamsFromOptions","_getParamsFromOptions","printAtlas","print","62","catalog_tab","toc_tab_default","_catalog_tab","toc_layers_init_status","toc_themes_init_status","map_themes","expression_eval","vector_data","_processLayers","crsToCrsObject","_projection","_layersStore","_buildLayersStore","setBaseLayer","baselayers","baseLayer","setSearchEndPoint","_state$search","getAliasUrl","aliasUrl","getActiveCatalogTab","setActiveCatalogTab","tab","context_base_legend","getQueryPointTolerance","getQueryFeatureCount","isQueryMultiLayers","mapcontrol","querymultilayers","getRelationsByLayerId","tree","layer_name_originale","baseLayerId","getBaseLayerId","baseLayerConfig","baseLayerVisibleId","initbaselayer","fixed","overviewprojectgid","WMSUrl","getConfigLayers","setLegendPosition","legend_position","getLegendPosition","getThumbnail","thumbnail","getPrint","getSearches","rasterurl","getOverviewProjectGid","getQgisVersion","qgis_version","setLayersTreePropertiesFromMapTheme","mapThemeConfig","mapThemeLayersTree","groups","map_theme","_ref4$layerstree","getMapThemeFromThemeName","visibility","setCurrentStyleAndResolvePromise","allSettled","_ref6$node","_x8","map_theme_config","theme","getMapThemeConfiguration","_x9","63","Relation","uniqueSuffix","father","child","fieldRef","referencedField","referencingField","setTitle","getChild","getFather","isLoading","64","_length","_relationsInfo","fathers","father_child","relationConfig","_createRelationsInfo","relationKey","_clearRelationsInfo","father_children","_reloadRelationsInfo","addRelation","removeRelation","childId","fatherId","core/relations/relation","65","GeometryTypes","removeZValueToOLFeatureGeometry","originalFeatureCoordinates","getCoordinates","setCoordinates","singleLine","singlePolygon","addZValueToOLFeatureGeometry","MULTIPOLYGOZM","getOLGeometry","isMultiGeometry","getAllPointGeometryTypes","isPointGeometryType","getAllLineGeometryTypes","isLineGeometryType","getAllPolygonGeometryTypes","isPolygonGeometryType","type3D","coordinatesToGeometry","geometryClass","MultiPolygon","LineString","MultiLineString","Point","MultiPoint","getDefaultLayerStyle","defaultStyle","radius","styleObj","createFeatureFromCoordinates","createFeatureFromBBOX","fromExtent","createFeatureFromGeometry","_ref6$feature","_feature2","olSource","setOpacity","createWMSLayer","_ref7$layers","wmslayer","createVectorLayerFromGeometry","createVectorLayerFromFeatures","createVectorLayerFromFile","createVectorLayer","separator","errorrows","promiseKmz","mapCrs","vectorSource","_fields","GPX","WMSGetFeatureInfo","KML","extractStyles","row","rowvalues","transform","showUserMessage","hooks","footer","autoclose","zip","buffer","kmlFile","JSZip","arrayBuffer","file","asText","_x11","t2","createStyleFunctionToVectorLayer","styleFunction","rgba","g","b","setText","Text","font","offsetY","_g3w_options","createSelectedStyle","_ref12$color","_ref12$fill","zIndex","Infinity","fillColor","asArray","asString","getAlphanumericPropertiesFromFeature","getQueryLayersPromisesByBBOX","_ref13$filterConfig","_ref13$feature_count","_ref13$multilayers","multilayers","queriesPromise","getMap","getView","getQueryLayersPromisesByGeometry","queryResponses","queryErrors","layersLenght","layerCrs","_ref14$multilayers","_ref14$filterConfig","_ref14$feature_count","filterGeometry","multiLayers","groupBy","numberRequestd","layersLength","_multilayer","getQueryLayersPromisesByCoordinates","_ref15$feature_count","_ref15$query_point_to","_ref15$multilayers","_ref15$reproject","getSize","getResolution","numberOfRequests","_layers2","rejectedResponses","transformBBOX","sourceCrs","destinationCrs","point1","point2","parseQueryLayersPromiseResponses","responses","getMapLayerById","getMapLayersByFilter","areCoordinatesEqual","coordinates1","coordinates2","getFeaturesFromResponseVectorApi","_ref17","_ref17$type","covertVectorFeaturesToResultFeatures","splitGeometryLine","splitGeometry","lineGeometry","isZType","splitted","splittedSegments","jstsFromWkt","jsts","io","WKTReader","wktFromOl","olFromJsts","OL3Parser","splitLine","read","wktLineString","targetLine","targetCoordinates","targetCoordinatesLength","geometryFactory","GeometryFactory","pointsNotSplitted","endPoint","startPoint","z","segment","createLineString","intersectCoordinates","intersection","splitPoint","lineNewSegment","write","_lineNewSegment","_coordinates","restOfLine","zCoordinates","pointNotSplitted","splitFeatures","_ref18$features","splitfeature","splitterdGeometries","geometries","splitFeature","splitType","featureGeometryType","splittedFeatureGeometries","isMulti","polygonFeature","getPolygons","polygonFeatureGeometry","externalPolygonFeatureGeometry","getLinearRing","holePolygons","getLinearRingCount","holeFeaturesGeometry","holeRing","operation","polygonize","Polygonizer","holyPolygonUnion","toArray","polygon","polygonizer","polygons","difference","intersects","getInteriorPoint","polygonCoordinates","_isMulti","lineFeatureGeometry","getLineStrings","getPointFeaturesfromGeometryVertex","pointFeatures","pop","getVertexLength","vertexLength","isSameBaseGeometryType","geometryType1","geometryType2","isSingleGeometry","singleGeometriesToMultiGeometry","multiGeometryToSingleGeometries","getPoints","convertSingleMultiGeometry","toGeometryType","fromGeometryType","isFromGeometryMulti","isToGeometryMulti","dissolve","_ref20","_ref20$features","_ref20$index","_ref20$clone","featuresLength","dissolvedFeature","jstsdissolvedFeatureGeometry","baseFeature","baseFeatureGeometry","baseFeatureGeometryType","lineMerger","linemerge","LineMerger","addLineString","mergedLineString","getMergedLineStrings","_feature3","dissolvedFeatureGeometry","dissolvedFeatureGeometryType","dissolvedFeatuteGeometryCoordinates","findSelfIntersects","jstsPolygon","validator","IsSimpleOp","isSimpleLinearGeometry","graph","geomgraph","GeometryGraph","cat","ConsistentAreaTester","isNodeConsistentArea","normalizeEpsg","parseInt","proj4","axisinverted","geographic","ConvertDMToDEG","dms","_ref21$type","dms_Array","degrees","minutes","deg","toFixed","ConvertDEGToDM","_ref22","_ref22$output","output","absolute","abs","ConvertDMSToDEG","_ref23$type","seconds","direction","ConvertDEGToDMS","lat","lon","_ref24$output","minutesNotTruncated","getGeoTIFFfromServer","_options$params","csrfmiddlewaretoken","_options$method","body","geoTIFF","FormData","append","fetch","blob","createOlFeatureFromApiResponseFeature","_feature$properties","sanitizeFidFeature","layerAttributes","featureAttributes","featureAttributesNames","featureAttributesName","_featureAttributesNames","_ref26$wms","distance","c1","c2","sqrt","squaredDistance","x1","y1","x2","y2","dx","dy","closestOnSegment","x0","y0","end","along","_checked","66","INCHES_PER_UNIT","m","DOTS_PER_INCH","obj1","obj2","obj3","center","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","x3","y3","max","createPolygonLayerFromBBox","polygonLayer","reverseGeometry","reverseCoordinates","units","round","getResolutionFromScale","normScale","getMetersFromDegrees","proj","Units","METERS_PER_UNIT","needUseSphereMethods","getUnits","getLengthMessageText","useSphereMethods","sphere","totalLength","transformMeterLength","getAreaMessageText","_ref2$segments","segments","area","getArea","segments_info_meausure","segmentLength","transformMeterArea","formatMeasure","getCurrentMapUnit","createMeasureTooltip","element","tooltip","Overlay","offset","positioning","addOverlay","unbyKey","tooltipCoord","getInteriorPoints","getLastCoordinate","setPosition","tounit","removeMeasureTooltip","removeOverlay","Observable","unByKey","setMeasureTooltipStatic","getElement","setOffset","67","olutils","WORD_NUMERIC_FIELD_ESCAPE","getHandledResponsesFromResponse","_ref$id","x2js","X2JS","jsonresponse","xml_str2json","FeatureCollection","handledResponses","featureMember","originalFeatureMember","featureMemberArrayAndPrefix","__prefix","g3w_fid","__text","_fid","groupFeatures","groupFeaturesByFields","handleWMSMultiLayersResponseFromQGISSERVER","_jsonresponse$Feature","handledResponse","parseLayerFeatureCollection","transformFeatures","mainProjection","invertedAxis","reverseFeaturesCoordinates","_require3$Geometry","layerFeatureCollectionXML","json2xml_str","hasFieldsStartWithNotPermittedKey","numericFields","ori_field","handleXMLStringResponseBeforeConvertToJSON","String","XMLSerializer","serializeToString","originalName","sanitizeLayerName","reg","RegExp","arrayQGS","matchAll","originalField","regex","strangeChar","fromCharCode","sub_index","_jsonresponse$Feature2","contenttypes","application/json","_ref5$layers","_ref5$wms","_require4","layersFeatures","layersId","parseData","defaultDataProjection","geometryName","application/geojson","parserGEOJson","text/html","rawdata","text/plain","text/gml","parserGML","application/vnd.ogc.gml","_ref10$wms","not_supported_format","_ref11$layers","VectorParser","_parseLayerGeoJSON","_parseLayermsGMLOutput","gml","gmlTag1","gmlTag2","boundary","parts","part","isGmlPart","TableParser","_parserJSON","_data$features","table","68","decimalAdjust","exp","NaN","round10","floor10","ceil10","hashCode","hash","chr","len","charCodeAt","Base64","_keyStr","encode","s","_utf8_encode","charAt","decode","_utf8_decode","getUniqueDomId","basemixin","destination","sourceInstance","hasOwn","object","childCtor","parentCtor","tempCtor","superClass_","me","opt_methodName","var_args","caller","callee","foundCaller","ctor","truefnc","falsefnc","getValueFromG3WObjectEvent","getAjaxResponses","listRequests","requestsLenght","DoneRespones","FailedResponses","trimValue","isURL","_ref$reserverParamete","checkUrl","_params","toUpperCase","_param","uri","keyParams","k","qs","imageToDataURL","_ref2$type","_ref2$callback","callback","Image","canvas","context","getContext","naturalHeight","naturalWidth","drawImage","dataURL","toDataURL","capitalize_first_letter","string","_toString","isEmptyObject","lastCall","previousCall","func","timeout","getRandomColor","copyUrl","tempinput","select","execCommand","downloadFile","filename","_ref3$mime_type","temapAncor","dataset","downloadurl","href","click","Blob","json","_x7","downloadCSVLayerFeatures","_ref6$alias","alias","downloadCSV","convertToCSV","str","line","_ref7$filename","_ref7$items","exportedFilenmae","navigator","msSaveBlob","link","_ref8$timeout","_ref9$params","_ref10$formdata","formdata","getResponseStatusHeaders","_formdata","ajax","processData","htmlescape","_ref11$httpMethod","timeoutId","downloadPromise","createSingleFieldParameter","_ref12$operator","_ref12$logicop","_ref12$search_endpoin","valueLenght","_valueLenght","createFilterFromString","_ref13$search_endpoin","_ref13$filter","stringFilter","regexoperator","regexsinglequote","re","replaceValue","createFilterFormInputs","_ref16$search_endpoin","_ref16$inputs","isLayerArray","filters","_ref17$search_endpoin","_ref17$operator","splitContextAndMethod","_string$split","_string$split2","colorHEXToRGB","convertQGISDateTimeFormatToMoment","datetimeformat","matchDayInDate","69","InputValidators","validators","float","integer","isSafeInteger","checkbox","datetimepicker","fielddatetimeformat","moment","radio","range","Validator","70","_workflow","queques","Queque","micro","getInputs","getSteps","runStep","setMessages","help","runMicroTasks","run","onDone","onError","clearQueques","isRunning","core/workflow/queque","71","tasks","addTask","shift","flush","72","_options$inputs","_options$context","_options$task","_options$outputs","escKeyPressEventHandler","_inputs","_task","_outputs","running","registerEscKeyEvent","escKeyUpHandler","_evt$data","unbindEscKeyUp","unbind","bindEscKeyUp","getTask","setInputs","setContext","panic","getHelp","getError","getMessage","setTask","setOutputs","getOutputs","MESSAGES","73","usermessagesteps","setRoot","getUserMessageSteps","setUserMessageSteps","setUserMessageStepDone","74","_options$flow","flow","_options$steps","_options$runOnce","runOnce","_promise","_flow","_steps","_child","_stackIndex","_messages","_userMessageSteps","messagesSteps","createUserMessageStepsFactory","getContextService","setContextService","getStackIndex","addChild","setInput","_setInputs","getFlow","setFlow","addStep","setSteps","getStep","messages","getMessages","clearMessages","_isThereUserMessaggeSteps","clearUserMessagesSteps","getLastStep","getRunningStep","_stopChild","getCurrent","stepsComponent","closable","_resetUserMessaggeStepsDone","closeUserMessage","userMessageSteps","buttonnext","gui/workflow/createUserMessageStepsFactory","75","SPATIALMETHODS","VM","76","AddLayersControl","tipLabel","Control","_layerstore","setMap","getLayersSore","g3w-ol/controls/control","77","AreaIteraction","MeasureControl","AreaControl","clickmap","interactionClass","g3w-ol/controls/measurecontrol","78","_options$name","_options$visible","_options$enabled","enabled","_enabled","eventKeys","positionCode","customClass","mapControlButtonVue","functional","render","h","_class","class","attrs","directives","mapControlButtonDOMElement","$mount","$el","buttonClickHandler","_handleClick","control","_postRender","isClickMap","isToggled","_toggled","setEventKey","eventType","eventKey","originalHandler","linstener","resetOriginalHandlerEvent","overwriteEventHandler","handler","getPosition","event","preventDefault","resetControl","getControls","toggle","shiftPosition","hWhere","changelayout","showControl","hideControl","left","controlWidth","outerWidth","newPosition","siblings","each","hide","setEnable","toggled","controlButton","first","removeClass","addClass","_interaction","setActive","getEnable","_visible","g3w-ol/controls/utils","79","_classCallCheck","instance","Constructor","GeocodingControl","placeholder","noresults","notresponseserver","lang","limit","keepOpen","autoComplete","autoCompleteMinLength","viewbox","bounded","classMobile","isMobile","fontIcon","Google","Nominatim","containerClass","cssClasses","namespace","inputText","container","GeocoderVueContainer","inputQueryId","autocomplete","btn","val","aria-hidden","inputResetId","lastQuery","registeredListeners","mapClick","showMarker","hideMarker","zoomToGeometry","createControl","_this10","hit","which","keyCode","focus","clearResults","handleValue","addEventListener","q","_this11","isNumber","_q$split","_q$split2","firstChild","_provider$getParamete","getParameters","countrycodes","spin","_providers$index$hand","header","createList","_this12","_ref4$results","ul","createHeaderProviderResults","addressHtml","addressTemplate","address","li","chosen","original","elementVue","nominatim-noresult","place","addressObj","addressOriginal","coord","parseFloat","headerNodeElement","classList","road","building","house_number","city","town","village","country","expand","_this13","glass","collapse","blur","removeAllChildren","_this14","_createClass","defineProperties","props","descriptor","protoProps","staticProps","olControl","isNumeric","classRegex","classname","array","hasClass","_addClass","el","klass","_removeClass","remove","contains","toggleClass","selector","find_all","simpleRe","periodRe","matches","getElementsByClassName","querySelectorAll","getElementById","isElement","HTMLElement","nodeType","nodeName","getAllChildren","tag","isEmpty","emptyArray","anyMatchInArray","some","everyMatchInArrayy","arr1","every","anyItemHasValue","removeAll","collection","parentNode","childNodes","tagName","htm","htmlEscape","attr","frag","createDocumentFragment","transformExtent","settings","addressdetails","_settings","containsXY","neighbourhood","postcode","formatted","display_name","details","google","_settings2","bounds","location","address_components","types","long_name","short_name","./control","80","GeolocationControl","InteractionControl","_showMarker","_ref$show","setCenter","toggledKeyEvent","geolocation","Geolocation","tracking","trackingOptions","enableHighAccuracy","g3w-ol/controls/interactioncontrol","81","GeoScreenshotControl","ScreenshotControl","g3w-ol/controls/screenshotcontrol","82","_constants","_options$toggled","_options$clickmap","_options$interactionC","_options$autountoggle","autountoggle","_options$geometryType","geometryTypes","onSelectlayer","_options$onhover","onhover","_options$help","toggledTool","_options$interactionC2","interactionClassOptions","_interactionClass","_autountoggle","_geometryTypes","onSelectLayer","_onhover","_help","_helpButton","_toolButton","_interactionClassOptions","_createModalHelp","createControlTool","enable","disable","component","_toggledTool$how","how","getSpatialMethod","methods","watch","setSpatialMethod","created","setCloseUserMessageBeforeSetContent","beforeDestroy","_createToolOnHoverButton","prepend","stopPropagation","showToggledTool","hover","mouseleave","_showModalHelp","showModalDialog","getGeometryTypes","getInteraction","getControlBottom","addClassToControlBottom","removeClassToControlBottom","setGeometryTypes","addInteraction","getIteraction","g3w-ol/constants","83","LenghtIteraction","LengthControl","84","_map","85","MousePositionControl","MousePosition","86","OLControl","_control","Zoom","ZoomToExtent","ScaleLine","OverviewMap","getOlControl","viewPort","getViewport","previusControls","previusControl","last","previousOffset","right","previousWidth","offsetWidth","hOffset","showHide","87","OnClickControl","_originalonlick","_onclick","onclick","overwriteOnClickEvent","clickHandler","resetOriginalOnClickEvent","controlElement","buttonControl","cliccked","88","QueryBBoxControl","_options2","_options2$spatialMeth","_startCoordinate","checkVisible","checkEnabled","unwatches","listenLayersVisibleChange","DragBox","findLayer","accumulator","start_coordinate","end_coordinate","boundingExtent","89","VALIDGEOMETRIES","QueryByPolygonControl","listenPolygonLayersChange","checkVisibile","selectedLayer","querable","polygonLayers","filterableLayers","querableLayers","filterableLength","querableLength","90","QueryControl","eventToggledKey","querySingleClickFnc","91","ResetControl","92","SCALES","ScaleControl","deleteLastCustomScale","select2","option","scales","addCustomTag","trigger","newOption","Option","isMapResolutionChanged","selectedOnClick","tags","dropdownParent","getTargetElement","noResults","minimumResultsForSearch","createTag","newTag","term","isInteger","view","setChangeResolutionHandler","setResolution","_setScales","currentResolution","currentScale","_createControl","controlDomElement","optgroup","optgroup_custom","93","g3w-ol/controls/onclickcontrol","94","StreetViewComponent","GoogleStreetViewApiUrl","StreetViewControl","keyError","$script","_sv","_panorama","_lastposition","_streetViewFeature","streetVectorSource","atan2","pixel","StreetViewService","getPanorama","StreetViewPanorama","imageDateControl","addListener","lnglat","getPixelFromCoordinate","setPov","pitch","heading","latLng","closeContent","showStreetView","_ol$proj$transform","_ol$proj$transform2","setContent","clearMarker","gui/streetview/vue/streetview","95","TOPOFFSET","changeLayoutBottomControl","_ref2$isMobile","previusControlWidth","previousLeftPosition","previousTopPosition","top","elementTopPosition","createControlUserMessageTool","96","ZoomBoxControl","97","maphelpers","helpers","g3w-ol/map/maphelpers","98","MeasureInteraction","g3w-ol/interactions/measureinteraction","99","DeleteInteractionEvent","DeleteInteraction","Pointer","handleDownEvent","handleDownEvent_","handleMoveEvent","handleMoveEvent_","handleUpEvent","handleUpEvent_","handleEvent","handleEvent_","previousCursor_","startCursor_","lastCoordinate_","features_","layer_","map_","mapBrowserEvent","originalEvent","lastFeature_","featuresAtPixel_","cursor","intersectingFeature","forEachFeatureAtPixel","includes","100","LengthIteraction","101","MeasureIteraction","_helpTooltip","_measureTooltipElement","_measureTooltip","_featureGeometryChangelistener","_poinOnMapMoveListener","testTooltip","_helpMsg","drawColor","measureStyle","lineDash","_helpTooltipElement","Draw","_drawStart","_drawEnd","setDrawMessage","_clearMessagesAndListeners","measureTooltip","off","_keyDownEventHandler","_removeLastPoint","removeLastPoint","dragging","helpMsg","_createHelpTooltip","_createMeasureTooltip","102","PickCoordinatesEventType","PICKED","PickCoordinatesEvent","_centerMap","getCenter","shouldStopEvent","103","PickFeatureEventType","PickFeatureEvent","layers_","pickedFeature_","pickedLayer_","layerFilter_","include","featureFound","layerFilter","hitTolerance","any","104","Tile","basemap","_ref2$visible","_ref2$url","_ref2$source_type","_ref3$singleTile","_ref3$opacity","_ref4$style","_ref4$format","_ref4$opacity","projectionExtent","resolutions","getWidth","matrixIds","pow","tileGrid","tilegrid","origin","getTopLeft","preload","BingMaps","105","loadImageTileFunction","_ref$method","_ref$sourceOptions","sourceOptions","imageTile","_url$split","_url$split2","getImage","TileState","ERROR","layerObj","_WMSLayer","optionsFromCapabilities","ImageArgisMapServer","ImageArcGISRest","ratio","TileArcGISRest","_options$tiled","_layerObj$iframe_inte","_layerObj$layers","_layerObj$version","_layerObj$sld_version","_layerObj$opacity","maxResolution","TRANSPARENT","SLD_VERSION","imageOptions","imageClass","TileWMS","ImageWMS","_options$visible2","createXYZ","getResolutions","TileGrid","XYZ","106","MapHelpers","createViewer","opts","_Viewer","defaults","attribution","DragRotate","View","ol3Logo","keyboardEventTarget","setApplicationProjections","Map","destroy","dispose","updateMap","mapObject","updateView","setTarget","zoomTo","setZoom","goTo","animate","panAnimation","zoomAnimation","goToRes","fit","constrainResolution","getZoom","getBBOX","calculateExtent","removeLayerByName","getActiveLayers","activelayers","getLayersNoBase","addBaseLayer","Aerial","changeBaseLayer","107","GENERIC_GRID_EXTENT","GRID_EXTENT_3857","GENERIC_GRID_EXTENT_DEGREE","CUSTOM_PROJECTIONS_EXTENT","EPSG:3876","EPSG:32733","EPSG:25833","Projection","_options$crs","proj4def","_options$crs$geograph","_options$crs$axisinve","defs","_axisOrientation","isInvertedAxisOrientation","getOlProjection","108","ADDEDPROJECTIONS","cachedProjection","addProjection","g3w-ol/projection/projection","109","CatalogService","prstate","highlightlayers","layerstrees","layersgroups","layersStores","addLayersStoreToLayersTrees","layersTree","storeid","createLayersGroup","_ref$title","getMajorQgisVersion","addLayersGroup","layersGroup","addExternalLayer","removeExternalLayer","changeMapTheme","currentProject","rootNode","changeMapThemeProjectObj","changeProjectView","_x4","110","_interopRequireWildcard","newObj","resizable","mapComponentId","mapcomponentid","Service","setInternalComponent","InternalComponent","internalComponent","listenToMapVisibility","_components2","_Catalog","catalogComponentOptions","_CatalogLayersGroup","catalogLayersGroupComponentOptions","_CatalogTristateTree","catalogTristateTreeComponentOptions","_CatalogLayersLegend","catalogLayersLegendComponentOptions","_CatalogLayersLegendItems","catalogLayersLegendItemsComponentOptions","_components","components/Catalog.vue","components/CatalogLayersGroup.vue","components/CatalogLayersLegend.vue","components/CatalogLayersLegendItems.vue","components/CatalogTristateTree.vue","gui/catalog/catalogservice","store/components","111","CatalogEventHub","112","Chartsfactory","CHARTS","_ref$hooks","_type$split","_type$split2","_type$split2$","library","_type$split2$2","chartType","chartVue","113","VUECOMPONENTSATTRIBUTES","_firstLayout","_options$id","_options$title","_options$open","_options$resizable","_options$info","_options$loading","_options$disabled","_options$closewhensho","sizes","setOpen","_setOpen","_setVisible","reload","_reload","handleEventsComponent","vueComponent","createVueComponent","components","propsData","_service","setInternalComponentTemplate","getOpen","closeWhenViewportContentIsOpen","_events","_open$when","_open$cb","guiEvents","insertComponentAt","removeCompomentAt","popComponent","setComponents","exendComponents","getInternalComponent","internalComponentClass","_options$events","$on","vueObjOptions","addInternalComponentData","overwriteServiceMethod","methodName","overwriteServiceMethods","methodsOptions","extendService","serviceOptions","extendInternalComponent","internalComponentOptions","extendInternalComponentMethods","extendInternalComponentComponents","extendComponents","extendInternalComponentComputed","computed","getInternalTemplate","mount","iCinstance","$nextTick","localize","unmount","$off","$destroy","ismount","$emit","114","buildSidebar","_options$collapsible","_options$isolate","_options$mobile","_options$iconConfig","_options$sidebarOptio","115","matcher","searchItem","modifiedData","errorLoading","searching","inputTooShort","remainingChars","minimum","116","_FieldText","_FieldText2","_FieldLink","_FieldLink2","_FieldImage","_FieldImage2","_FieldGeo","_FieldGeo2","_FieldMedia","_FieldMedia2","_FieldVue","_FieldVue2","simple_field","text_field","link_field","image_field","geo_field","photo_field","media_field","vue_field","components/FieldGeo.vue","components/FieldImage.vue","components/FieldLink.vue","components/FieldMedia.vue","components/FieldText.vue","components/FieldVue.vue","117","URLPattern","PhotoPattern","FieldType","SIMPLE","GEO","LINK","PHOTO","PHOTOLINK","POINTLINK","ROUTE","VUE","fieldValue","photo","isSimple","isLink","isImage","isPhoto","isVue","_ref2$field","resetConfigFieldType","_ref3$field","./fields","118","eventBus","setInitForm","_setInitForm","setFormStructure","formStructure","formstructure","setFormFields","handleFieldsWithExpression","setupFields","_setupFields","setFormData","setField","addActionsForForm","actions","postRender","formId","_options$buttons","buttons","context_inputs","isnew","_options$footer","headerComponent","layerid","disabledcomponents","currentheaderid","tovalidate","componentstovalidate","filter_expression_fields_dependencies","default_expression_fields_dependencies","changeInput","evaluateFilterExpressionFields","evaluateDefaultExpressionFields","setUpdate","_options$force","expression_dependency_field","_getField","fieldForm","_field$input$options","filter_expression_dependency_fields","_options$filter_expre","_options$filter_expre2","referencing_fields","_options$filter_expre3","referenced_columns","dependency_field","_options$default_expr","_options$default_expr2","_referencing_fields","_options$default_expr3","_referenced_columns","_options$default_expr4","apply_on_update","default_expression_dependency_fields","setCurrentFormPercentage","setValidComponent","getValidComponent","mutually","countNoTEmptyInputName","inputname","previous","min_field","max_field","input_name","addComponents","_component$header","replaceComponent","disableComponent","disableId","disabledId","setCurrentComponentById","setIdHeader","setRootComponent","getRootComponent","isRootComponent","getComponentById","setComponent","addedComponentTo","formcomponent","addedcomponentto","addToValidate","removeToValidate","getEventBus","handleRelation","clearAll","119","vueComponentOptions","addBodyFormComponent","_ref$where","where","addBodyFormComponents","_ref2$components","_ref2$where","addFormComponents","addFormComponent","addDependecyComponents","addComponentBeforeBody","addComponentAfterBody","addComponentBeforeFooter","addComponentAfterFooter","setModal","reloadLayout","_Form","components/Form.vue","120","CheckBoxService","validatorOptions","convertCheckedToValue","convertValueToChecked","valueToCheck","gui/inputs/service","121","_InputCheckbox","CheckBoxInput","components/InputCheckbox.vue","122","_InputColor","TextInput","components/InputColor.vue","123","DateTimePickerService","getLocale","applicationConfig","setValidatorOptions","124","_InputDateTimePicker","DateTimePickerInput","components/InputDateTimePicker.vue","125","FloatService","126","_InputFloat","FloatInput","components/InputFloat.vue","127","_InputBase","_InputBase2","InputServices","Input","baseInputMixin","baseinput","notvalid","_notvalid","setErrorMessage","state.value","destroyed","./services","components/InputBase.vue","128","text_input","texthtml_input","textarea_input","integer_input","string_input","float_input","radio_input","check_input","range_input","datetimepicker_input","unique_input","select_input","media_input","select_autocomplete_input","picklayer_input","color_input","slider_input","lonlat_input","./checkbox/vue/checkbox","./color/vue/color","./datetimepicker/vue/datetimepicker","./float/vue/float","./integer/vue/integer","./lonlat/vue/lonlat","./media/vue/media","./picklayer/vue/picklayer","./radio/vue/radio","./range/vue/range","./select/vue/select","./sliderrange/vue/sliderrange","./text/vue/text","./textarea/vue/textarea","./texthtml/vue/texthtml","./unique/vue/unique","129","IntegerService","130","_InputInteger","IntegerInput","components/InputInteger.vue","131","LonLatService","coordinatebutton","mapEpsg","mapControlToggleEventHandler","toggleGetCoordinate","outputEpsg","eventMapKey","setCoordinateButtonReactiveObject","startToGetCoordinates","stopToGetCoordinates","deactiveMapControls","_coordinate","132","_InputLonLat","LatLontInput","components/InputLonLat.vue","133","MediaService","134","_InputMedia","MediaInput","components/InputMedia.vue","135","PickLayerService","pick_type","ispicked","isPicked","unpick","pick","afterPick","_response$0$data","removeInteraction","136","_InputPickLayer","PickLayerInput","components/InputPickLayer.vue","137","RadioService","138","_InputRadio","RadioInput","components/InputRadio.vue","139","RangeService","_options$state$input$","Validators","setValidator","isValueInRange","core/utils/validators","140","_InputRange","RangeInput","components/InputRange.vue","141","SelectService","_getLayerById","addValue","getKeyByValue","arrayValues","_arrayValues","$value","_ref2$layer_id","_ref2$key","_ref2$value","search_value","142","_InputSelect","SelectInput","components/InputSelect.vue","143","setValue","setEmpty","_validator","getValue","addValueToValues","_getValidatorType","isObject","getValidator","144","InputsServices","textarea","texthtml","check","media","select_autocomplete","picklayer","slider","lonlat","./checkbox/service","./datetimepicker/service","./float/service","./integer/service","./lonlat/service","./media/service","./radio/service","./range/service","./select/service","./service","./sliderrange/service","./unique/service","145","SliderRangeService","changeInfoMessage","146","_InputSliderRange","components/InputSliderRange.vue","147","_InputText","components/InputText.vue","148","_InputTextArea","TextAreaInput","components/InputTextArea.vue","149","_InputTextHtml","TextHtmlInput","components/InputTextHtml.vue","150","UniqueService","151","_InputUnique","UniqueInput","components/InputUnique.vue","152","OnClikControl","geoScreenshotControl","ControlsFactory","create","ControlClass","CONTROLS","zoombox","zoomtoextent","querybbox","querybypolygon","streetview","scaleline","overview","nominatim","geocoding","addlayers","mouseposition","screenshot","geoscreenshot","g3w-ol/controls/addlayers","g3w-ol/controls/areacontrol","g3w-ol/controls/geocodingcontrol","g3w-ol/controls/geolocationcontrol","g3w-ol/controls/geoscreenshotcontrol","g3w-ol/controls/lengthcontrol","g3w-ol/controls/mousepositioncontrol","g3w-ol/controls/olcontrol","g3w-ol/controls/querybboxcontrol","g3w-ol/controls/querybypolygoncontrol","g3w-ol/controls/querycontrol","g3w-ol/controls/resetcontrol","g3w-ol/controls/scalecontrol","g3w-ol/controls/streetviewcontrol","g3w-ol/controls/zoomboxcontrol","153","MapService","hidemaps","mapcontrolsalignement","mapcontrolDOM","mapcontrolready","mapcontrolSizes","minWidth","minHeight","mapControl","grid","currentIndex","map_info","mapunits","viewer","maps_container","_layersStoresEventKeys","_keyEvents","g3wobject","eventemitter","_mapControls","_changeMapMapControls","_externalMapLayers","_externalLayers","_externalInteractions","mapBaseLayers","defaultsLayers","highlightLayer","selectionLayer","layersExtraParams","_greyListenerKey","_drawShadow","outer","inner","_howManyAreLoading","_layersLoadingError","_incrementLoaders","showSpinner","_decrementLoaders","hideSpinner","_mapLayerLoadError","notify","warning","keysetCurrentProject","_removeListeners","isSameProject","changeProjectCallBack","_resetView","_setupAllLayers","_checkMapControls","setUpMapOlEvents","who","_setupListeners","_marker","_bboxLayer","_setupCustomMapParamsToLegendUrl","setupControls","_setupControls","addHideMap","_ref$switchable","mainview","switchable","idMap","updateMapView","updateMapLayers","setupViewer","_setupViewer","controlClick","loadExternalLayer","unloadExternalLayer","_onCatalogSelectLayer","extraParamsSet","getMapLayers","_setUpEventsKeysToLayersStore","_removeEventsKeysToLayersStore","_wms","_mapControls2","WFSProvider","olhelpers","keyEvent","keyolchangeresolution","_updateMapView","keyolmoveeend","eventObject","removeListener","showMapSpinner","hideMapSpinner","getScaleFromExtent","getResolutionForExtent","getMapUnits","_addHideMap","_ref2$mainview","view_options","_idMap$map$getSize","_idMap$map$getSize2","setSize","removeHideMap","_showHideMapElement","_ref3$show","createMapImage","background","getMapCanvas","msToBlob","toBlob","getApplicationAttribution","_config$group","header_terms_of_use_link","header_terms_of_use_text","slaveOf","sameLayers","setLayersExtraParams","viewport","isMapHidden","isAxisOrientationInverted","getViewerElement","getGetFeatureInfoUrlForLayer","getMapLayerForLayer","lyr","getVectorLayerFeaturesFromCoordinates","intersectGeom","getIntersectedFeatures","intersectsExtent","getQueryLayerByCoordinates","getQueryLayerPromiseByCoordinates","activeMapControl","controlName","createMapControl","_ref7$add","_ref7$toggled","_ref7$options","addControl","addScaleLineUnits","changeScaleLineUnit","scalelinecontrol","getMapControlByType","setUnits","showAddLayerModal","baseLayers","attributionControl","Attribution","mapcontrols","controlType","zoomInLabel","zoomOutLabel","coordinateLabels","coordinateFormat","undefinedHTML","mapEspg","_coordinateLabels","_crs","caller_download_id","blobImage","_bbox","setDownload","saveAs","getMapBBOX","getCookie","createStringXY","runQuery","closeOpenSideBarComponent","condition","getControlLayers","controlQuerableLayers","controlFiltrableLayers","filterableLayersAvailable","_change","_runQuery","dataCoordinates","excludeLayers","_ref16$error","_x13","_eventKey","_condition","_getControlLayers","_spatialMethod","_change2","layersFilterObject","_runQuery2","_ref18$data","_eventKey2","overviewproject","overviewProjectGid","overViewMapLayers","getOverviewMapLayers","viewOptions","_calculateViewOptions","mainView","currentCenter","constrainCenter","collapseLabel","collapsed","_project$state","_mapCrs","getMapControls","setZIndexLayer","_ref19$zindex","zindex","setZIndex","getLayerZindex","getZIndex","zoomToFid","_zoom_to_fid$split","_zoom_to_fid$split2","_ref21$data","zoom_to_fid","_ref22$data","handleZoomToFeaturesUrlParameter","_zoom_to_features$spl","_zoom_to_features$spl2","layerNameorIdorOrigname","fieldsValuesSearch","_ref24$zoom_to_featur","zoom_to_features","_ref24$search_endpoin","getMapExtent","addMapExtentUrlParameterToUrl","map_extent","getMapExtentUrl","createCopyMapExtentUrl","_setMapControlsGrid","rC","rows","columns","_rC","_rC2","_setMapControlsInsideContainerLenght","setMapControlsAlignement","alignement","getMapControlsAlignement","isMapControlsVerticalAlignement","setMapControlsVerticalAlignement","setMapControlsHorizontalAlignement","flipControlsHorizontally","flipMapControlsVertically","mapcontrolsalignment","setMapControlsContainer","mapControlDom","_updateMapControlsLayout","changedAndMoreSpace","space","handleVerticalMapControlDOMElements","mapControslHeight","bottomMapControls","bottomMapControlTop","freeSpace","nextHeight","_mapControslHeight","mapControlsWidth","_setMapControlVisible","_ref27$visible","_addControlToMapControls","display","_ref28","addToMapControls","placement","$mapElement","getTarget","registerControl","showControls","hideControls","toggleControls","showAllControls","hideAllControls","_removeControls","controlObj","_layoutControls","removeControlById","ctrlIdx","removeControl","_this15","_this16","_unToggleControls","_ref29","_ref29$close","close","disableClickMapControls","addMapLayers","mapLayers","_this17","addMapLayer","addLayerToMap","getMapLayerByLayerId","multilayerId","getProjectLayer","_setSettings","_viewer$map$getSize","_viewer$map$getSize2","maxxRes","minyRes","getHeight","getMaxResolution","setView","_this18","_ref30","URLSearchParams","lat_lon","x_y","maxyRes","initxRes","inityRes","_this19","background_color","getInteractions","_watchInteraction","stopEvent","setLayerZIndex","moveDefaultLayersOnTop","layerZIndex","_setBaseLayerListenerKey","layerStoreId","eventObj","_ref31","_ref32","_this20","addLayerKey","removeLayerKey","_this21","_setupBaseLayers","_setupMapLayers","_setupVectorLayers","_setUpDefaultLayers","_this22","baseMapLayer","registerMapLayerListeners","reverseBaseLayers","_this23","_setMapProjectionToLayers","qtimeseries_multilayerid_split_values","multiLayerId","_ref33","_ref34","sub_layer","_this24","mapVectorLayer","removeDefaultLayers","setDefaultLayerStyle","resetDefaultLayerStyle","_removeBaseLayers","_removeMapLayers","removeExternalLayers","removeAllLayers","_ref35","_ref35$zindex","_this25","createMapLayer","projectLayers","overviewMapLayers","_ref36","_ref37","updateMapLayer","_ref38","_ref38$showSpinner","g3w_time","_this26","_this27","registerMapLayerLoadingEvents","unregisterMapLayerLoadingEvents","unregisterMapLayerListeners","elId","getCurrentToggledMapControl","_ref39","_options$active","untoggleMapControls","_this28","getActive","showMapInfo","_ref40","hideMapInfo","getGeometryAndExtentFromFeatures","geometryCoordinates","featureExtent","_featureExtent","olClassGeomType","highlightFeatures","_getGeometryAndExtent","highlightGeometry","highLightGeometry","zoomToExtent","_getGeometryAndExtent2","getResolutionForZoomToExtent","compareExtentWithProjectMaxExtent","projectExtent","inside","projectMaxResolution","extentResolution","goToBBox","goToWGS84","extentToWGS84","getResolutionForMeters","meters","clientWidth","clientHeight","animatingHighlight","addedFeature","clearSelectionFeatures","seSelectionLayerVisible","geometryObj","_this29","clearHighlightGeometry","customStyle","readGeometry","refreshMap","_ref41","is_hidden","updateSize","hidemap","_this30","_this31","getMapSize","setInnerGreyCoverScale","_resetDrawShadowInner","setInnerGreyCoverBBox","lowerLeftInner","upperRightInner","y_min","DEVICE_PIXEL_RATIO","x_min","y_max","x_max","startDrawGreyCover","_this32","stopDrawGreyCover","postcompose","ctx","restore","beginPath","moveTo","lineTo","closePath","translate","rotate","PI","fillStyle","textAlign","arrayMessages","fillText","_this33","changeLayerVisibility","_ref42","changeLayerOpacity","_ref43","_ref43$opacity","changeLayerMapPosition","_ref44","_ref44$position","_this34","catalogService","QueryResultService","unregisterVectorLayer","externalMapLayer","externalLayer","addExternalWMSLayer","_this35","_ref45","_ref45$epsg","_ref45$position","_ref45$visible","_createWMSLayer","addExternalMapLayer","getExternalLayers","_ref46","_options$position","_options$opacity","_this36","_id","registerVectorLayer","_x57","setExternalLayerStyle","featureStyleFunction","getStyleFunction","core/layers/providers/wfsprovider","g3w-ol/g3w.ol","gui/wms/vue/wms","store/map-controls","154","$cookie","_Map","components/Map.vue","gui/map/mapservice","155","MetadataService","_buildProjectGroupMetadata","ProjectMetadataComponent","METADATAGROUPS","general","spatial","getProjectMetadata","getLayersMetadata","getLayerMetadata","layerMetadata","showMetadata","gui/metadata/vue/components/project/project","156","_ref$state","_MetadataProject2","_MetadataProject","components/MetadataProject.vue","157","_Metadata","components/Metadata.vue","gui/metadata/metadataservice","158","internalPanel","panel","getInternalPanel","setInternalPanel","showPanel","closePanel","onShow","onClose","onResize","parentWidth","parentHeight","159","PrintComponentService","printService","_initialized","_moveMapKeyEvent","_page","_mapUnits","_scalesResolutions","isShow","printextent","setInitState","PrintPage","atlas","atlasValues","scala","dpis","formats","changeTemplate","isPreviousAtlas","_state$print$find","_clearPrint","showPrintArea","_setPrintArea","changeScale","changeRotation","_getPrintExtent","lowerleft","upperright","getOverviewExtent","xmin","xmax","ymin","ymax","overviewextent","_getOptionsPrint","setPrintAreaAfterCloseContent","stopLoading","disableSideBar","showError","startLoading","_calculateInternalPrintExtent","_state$maps$find","w","resolutionInMeters","getCoordinateFromPixel","currentScala","_setAllScalesBasedOnMaxResolution","mapScala","orderScales","orderBy","addedFirstHighestScale","handleScala","higherScale","_setInitialScalaSelect","_setCurrentScala","res","_setMoveendMapEvent","_showPrintArea","_initPrintConfig","mapComponent","renderSync","core/print/printservice","gui/print/vue/printpage","160","_Print","components/Print.vue","gui/print/printservice","161","_PrintPage","components/PrintPage.vue","162","MenuComponent","menuitems","host","_ProjectsMenu","components/ProjectsMenu.vue","163","ProjectsMenuComponent","projects","getListableProjects","description","cbk","changeProject","gui/projectsmenu/menu","164","QueryBuilder","QueryBuilderPanel","QuerybuilderUIfactory","QueryBuilderInstance","queryBuilderDom","gui/querybuilder/vue/panel/querybuilderpanel","gui/querybuilder/vue/querybuilder","165","166","_QueryBuilder","components/QueryBuilder.vue","167","QueryResultsService","_currentLayerIds","_setRelations","_setAtlasActions","download_data","plotLayerIds","unlistenerlayeractionevents","_actions","zoomto","zoomToElement","highlightgeometry","_atlas","_projectLayerIds","zoomToResult","layersactions","actiontools","currentactiontools","currentactionfeaturelayer","layeractiontool","layersFeaturesBoxes","layerscustomcomponents","resultsQueryLayer","_vectorLayers","_addFeaturesLayerResultInteraction","toggleeventhandler","setQueryResponse","queryResponse","_digestFeaturesForLayers","setLayersData","_orderResponseByProjectLayers","updateLayerResultFeatures","setActionsForLayers","_addComponent","addActionsForLayers","closeComponent","changeLayerResult","_changeLayerResult","activeMapInteraction","editFeature","openCloseFeatureResult","addLayersPlotIds","layerIds","getPlotIds","findPlotId","plotId","_addVectorLayersDataToQueryResponse","_asyncFnc","todo","zoomToLayerFeaturesExtent","goToGeometry","getApplicationService","_QueryResultsActionDownloadFormats","_QueryResultsActionDownloadFormats2","_QueryResultsActionQueryPolygonCSVAttributes","_QueryResultsActionQueryPolygonCSVAttributes2","RelationsPage","registerCustomComponent","_ref3$id","_ref3$position","unRegisterCustomComponent","componentId","addFeatureLayerToResult","getBoxId","removeFeatureLayerFromResult","downloadApplicationWrapper","downloadFnc","download_caller_id","setLoadingContent","textMessage","_layer$features","removeFeatureIndexes","features_ids","indexFindFeature","filtered","featureRemoved","newlayerfeatures","checkIfLayerHasNoFeatures","highlightFeaturesPermanently","addRemoveFeaturesToLayerResult","layeractions","resetCurrentActionToolsLayer","removeAddFeaturesLayerResultInteraction","relation_index","observable","currentactiontoolslayer","currentationfeaturelayer","is_external_layer_or_wms","hasgeometry","mouseover","hint","chartRelationIds","showQueryRelations","createActionState","opened","showRelationsChart","getAtlasByLayerId","downloads","_layer$downloads","_cbk","downloadFeatures","setCurrentActionLayerFeatureTool","ACTIONTOOLSDOWNLOADFORMATS","downloadsaction","toggleable","$set","_state2","checkFeatureSelection","addToSelection","listenClearSelection","hint_change","copyZoomToFidUrl","_ref10$dynamicPropert","dynamicProperties","propertiesObject","getActionLayerById","_ref12$component","addCurrentActionToolsLayer","_ref13$config","setLayerActionTool","_ref14$component","_ref14$config","hint_changed","runAsyncTodo","unlistenerEventsActions","getCurrentLayersIds","layerA","layerB","aIndex","bIndex","setZoomToResults","isOneLayerResult","_ref15$toggle","addLayerFeaturesToResultsAction","_layer2","addfeaturesresults","responseObject","getVectorLayerFeaturesFromQueryRequest","_x16","eventHandler","deactiveQueryInteractions","querytitle","printconfig","layerRelationsAttributes","layerTitle","_handleFeatureFoLayer","_layerObj","extractRelations","sanitizeAttribute","getRelationFieldsFromFormStructure","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","split_layer_name","layerSpecialAttributesName","_setSpecialAttributesFeatureProperty","_parseAttributes","relationField","hasImageField","_getFeatureProperties","getFeaturePropertiesAndGeometry","featureObj","attributeObj","featureAttribute","_getFeatureProperties2","_Layer$SourceTypes","showSourcesTypes","actionId","actionMethod","layerActions","layerAction","triggerLayerAction","_x19","_x20","_x21","_x22","_x23","urlTemplate","route","_x24","_x25","_x28","_queryResponse$query","_options$add","responseObj","_printSingleAtlas","_ref19$atlas","_ref19$features","showChart","relationData","hideChart","inputAtlasAttr","atlasLayer","success","showLayerDownloadFormats","layerKey","_state$query","runDownload","downloadsactions","choices","sbp_qgs_layer_id","sbp_fid","_x34","_x35","downloadGpx","layerMenu","_hideMenu","downloadXls","selectionFeature","clearSelectionExtenalLayer","addRemoveFilter","selectionFeaturesLayer","acculmulator","_addRemoveSelectionFeature","hasAlreadySelectioned","currentLayer","_x39","_x40","_x41","_x42","_layer$external","removeQueryResultLayerFromMap","addQueryResultsLayerToMap","_ref27$timeout","showCoordinates","showBBOX","showGeometry","handlerOptions","mapServiceMethod","firstParam","saveLayerResult","_ref28$type","showRelation","nmRelationId","projectRelation","nmRelation","pushContent","currentview","crumb","changeCurrentContentOptions","backonclose","components/QueryResultsActionDownloadFormats.vue","components/QueryResultsActionQueryPolygonCSVAttributes.vue","gui/relations/vue/relationspage","168","queryResultsService","_QueryResults","components/QueryResults.vue","gui/queryresults/queryresultsservice","169","RelationsComponentService","getRelationsNM","_x3","saveRelations","buildRelationTable","rows_fid","column","rowFormStructure","170","171","_RelationsPage","_options$relation","_options$relations","_options$feature","_options$table","_options$chartRelatio","_options$currentview","previousview","components/RelationsPage.vue","gui/relations/relationsservice","172","currentProjectState","search_title","searchesObject","searches","searchtools","querybuildersearches","_querybuilder2","getCurrentProjectItems","_querybuilder","removeItem","cleanSearchPanels","panels","addTool","searchTool","searchTools","addQueryBuilderSearch","querybuildersearch","removeTool","services/querybuilder","173","SearchPanelComponent","_SearchPanel","components/SearchPanel.vue","174","SearchService","_mapService$getMap$ge","_mapService$getMap$ge2","heigth","hideSidebar","_run","forminputs","_config$options","querylayerid","otherquerylayerids","inputdependance","inputdependencies","cachedependencies","searchLayer","queryurl","searchLayers","createInputsFormFromFilter","_data3","NONVALIDVALUES","filterLenght","_ref2$filter","forminput","op","_forminput$options","dependance","dependance_strict","getValuesFromField","valuesToKeysValues","setInputDependencies","master","slave","_values","getReturnType","setReturnType","returnType","getAutoFieldDependeciesParamField","fieldDependency","getCurrentFieldDependance","_Object$entries$","createFieldsDependenciesAutocompleteParameter","_ref3$fields","dependendency","fieldParam","getFilterInputFromField","_Object$entries$2","_field2","_getFilterInputFromFi","encodeURI","uniqueValues","getUniqueValuesFromField","getValueRelationValues","getValueMapValues","_x5","_field$options","_ref6$data","autocompleteRequest","doSearch","_ref14$features","_relation$fieldRef","dataPromise","add_panel","_ref13$queryUrl","_ref13$show","createFilter","autozoom_query","search_1n_relationid","showEmptyOutputs","showCustomOutputDataPromise","filterValidFormInputs","createQueryFilterFromConfig","createOperatorObject","inputObj","createBooleanObject","evalObject","booleanOperator","booleanObject","queryFilter","_getExpressionOperatorFromInput","dependanceCascadeField","_getCascadeDependanciesFilter","_currentValue","getDependanceCurrentValue","fillDependencyInputs","_ref19$subscribers","subscribers","_ref19$value","isRoot","invalidValue","subscribe","_allvalues","notAutocompleteSubscribers","rootValues","cachedValue","dependenceCurrentValue","_cachedValue","dependenceValue","fieldParams","_loop2","_values2","_dependenceValue","delegateYield","_x17","getDependencies","createQueryFilterObject","_ref23$ogcService","_ref23$filter","getInfoFromLayer","setSearchLayer","getSearchLayer","175","_searches_searchtools","_Search","components/Search.vue","gui/search/service","176","177","_StreetView","components/StreetView.vue","178","PAGELENGTHS","TableService","currentPage","getHeaders","allfeaturesnumber","nopaginationsfilter","selectedfeaturesfid","relationsGeometry","relationLayer","child_field","paginationfilter","mapBBoxEventHandlerKey","clearAllSelection","selectAll","pageLengths","allfeatures","pagination","nofilteredrow","_async","filterChangeHandler","emitRedraw","reloadData","setDataForDataTable","addRemoveSelectedFeature","_size","createFeatureForSelection","_returnGeometry","getAllFeatures","LoadedFeaturesId","switchSelection","filterFeatures","_selected","checkSelectAll","clearLayerSelection","selectAllFeatures","_paginationParams","featurescount","paginationParams","setFilteredFeature","featuresIndex","_ref6$start","_ref6$order","_ref6$length","_ref6$columns","_ref6$search","_ref6$firstCall","firstCall","searchText","dir","getDataPromise","recordsFiltered","recordsTotal","setInBBoxParam","resetMapBBoxEventHandlerKey","getDataFromBBOX","tableFeature","tabledata","_tabledata$data","_setLayout","zoomAndHighLightFeature","zoomAndHighLightGeometryRelationFeatures","promisesData","179","_Table","_Table2","TableComponent","showContent","components/Table.vue","gui/table/tableservice","180","181","toolsGroups","_addTool","_addTools","_addToolGroup","_removeToolGroup","_removeTools","_project$getState","_project$getState$too","toolName","_tools","ToolsService","ACTIONS","_removeTool","toolIdx","updateToolsGroup","groupConfig","_group","_ref2$state","toolGroup","182","toolsService","_Tools","components/Tools.vue","gui/tools/service","183","BarStack","_parent","contentsdata","_mount","_unmount","unmountRequests","getContentData","getCurrentContentData","getPreviousContentData","jQuery","_setJqueryContent","isString","jqueryEl","_checkDuplicateVueContent","_setVueContent","_setDOMContent","idxToRemove","184","barstack","./barstack","185","ContentsViewerComponent","stack","Stack","_ViewportContentsViewer","_options$push","addContent","clearContents","updateContentVisibility","removeContent","popContent","getComponentByClass","componentClass","contentdata","contentsEls","nextTick","outerHeight","components/ViewportContentsViewer.vue","gui/utils/utils","186","_options$wmsurls","wmsurls","adminwmsurls","localwmsurls","loadClientWmsUrls","_wmslayerspanel","_wmslayerspanel2","getLocalWMSData","updateLocalWMSData","deleteWms","changeLayerData","loadWMSLayerToMap","wmsurl","wmsConfigLayers","getRequestStatusObject","_ref6$error","_ref6$added","addNewUrl","localid","localurl","getWMSLayers","showWmsLayersPanel","checkIfWMSAlreadyAdded","_ref10$layers","addedLayers","deleteWmsUrl","loadWMSDataAndShowWmsLayersPanel","info_formats","abstract","map_formats","_ref15$visible","_ref15$layers","addWMSlayer","wmsLayerConfig","_ref17$name","_ref17$layers","_ref17$opacity","_ref17$visible","getLocalItem","alldata","setLocalItem","gui/wms/vue/panel/wmslayerspanel","187","WmsLayersPanel","WMSLayersPanelComponent","_WMSLayersPanel","components/WMSLayersPanel.vue","188","_service2","_WMS","components/WMS.vue","gui/wms/service","189","_ref$steps","currentStep","deep","alignSelf","listStyle","padding","ismobile","marginBottom","fontWeight","marginRight","directive","flexDirection","dynamic","btn-success","g3w-disabled","190","_viewport","_viewport2","_floatbar","_floatbar2","_navbaritems","_navbaritems2","_sidebar","_sidebar2","_App","_App2","_GlobalImage","_GlobalImage2","_GlobalGallery","_GlobalGallery2","_GlobalGeo","_GlobalGeo2","_GlobalSkeleton","_GlobalSkeleton2","_GlobalBarLoader","_GlobalBarLoader2","_GlobalProgressBar","_GlobalProgressBar2","_GlobalHelpDiv","_GlobalHelpDiv2","_GlobalResize","_GlobalResize2","_GlobalLayerPositions","_GlobalLayerPositions2","_GlobalDateTime","_GlobalDateTime2","_GlobalRange","_GlobalRange2","_GlobalResizeIcon","_GlobalResizeIcon2","_GlobalTabs","_GlobalTabs2","_GlobalDivider","_GlobalDivider2","_Floatbar","_Floatbar2","_NavbaritemsLeft","_NavbaritemsLeft2","_NavbaritemsRight","_NavbaritemsRight2","_Sidebar","_Sidebar2","_Viewport","_Viewport2","_vDisabled","_vDisabled2","_vChecked","_vChecked2","_vSelectedFirst","_vSelectedFirst2","_vSelect","_vSelect2","_vTTooltip","_vTTooltip2","_vTHtml","_vTHtml2","_vTPlaceholder","_vTPlaceholder2","_vTTitle","_vTTitle2","_vT","_vT2","_vTPlugin","_vTPlugin2","_vPlugins","_vPlugins2","_vOnline","_vOnline2","_vDownload","_vDownload2","g3wsdk","VueCookie","install","change-map","marker","info-circle","globe","mail","fax","bars","uncheck","filluncheck","trash","trash-o","pencil","ellips-h","ellips-v","arrow-up","arrow-down","arrow-left","arrow-right","resize-h","resize-v","resize-default","caret-up","caret-down","caret-left","caret-right","empty-circle","cloud-upload","spinner","minus","minus-square","plus","plus-circle","plus-square","home","folder","sign-out","time","calendar","list","unlink","eye","eye-close","video","unknow","excel","shapefile","ppt","circle","calculator","picture","keyboard","file-download","copy","draw","chart","chart-line","chart-area","chart-pie","alert","crosshairs","back","file-upload","wifi","mouse","copy-paste","vector-square","credits","invert","palette","sign-in","pin","square","move","moon","sun","refresh","pause","step-backward","fast-backward","step-forward","fast-forward","crop","exit","getInfo","getInfoString","_isMobile","inheritAttrs","LayoutManager","ApplicationTemplate","appLayoutConfig","_isIframe","sidebar","waitingoutputdataplace","_createApp","_createTemplateConfig","G3WTemplate","appTitle","ContentsComponent","QueryBuilderUIFactory","WMSComponent","placeholders","navbar","Services","closeOpenComponents","fontSize","borderRadius","floatbar","othercomponents","_setDataTableLanguage","_setupInterface","_setupLayout","_setUpServices","templateConfig","mounted","skinColor","_buildTemplate","_setUpTemplateDependencies","_setViewport","appendTo","dataTable","languageOptions","sSearch","searchPlaceholder","sLengthMenu","paginate","zeroRecords","infoFiltered","dataTableExt","oStdClasses","sFilterInput","oLanguage","_addRoutes","RouterService","getRouterService","addRoute","xy","registerService","getComponents","placeholdersConfig","_addComponents","_addOtherComponents","viewportOptions","PLACEHOLDERS","placeholderService","registerComponent","_removeComponent","unregisterComponent","_showModalOverlay","_isSidebarVisible","_showSidebar","_hideSidebar","VueApp","getTemplateInfo","errorToMessage","_error$error","_error$error$code","_error$error$data","_error$error$message","msg","what","getResourcesUrl","resourcesurl","showList","closeList","hideList","hidePanel","showTable","closeTable","outputDataPlace","defaultOutputConfig","_options$show","outputConfig","showContentFactory","showResult","showPanelContent","showQueryResults","showForm","_options$split","showgoback","formComponent","formService","closeForm","_ref12$pop","disableElement","disableContent","disablePanel","hideContent","queryResultsComponent","queryResultService","showContextualContent","getPushContent","post_title","addNavbarItem","addItem","removeNavBarItem","disableApplication","dialog","bootbox","showFloatbar","hideFloatbar","showSidebar","isSidebarVisible","reloadComponents","showFullModal","_ref14$element","_ref14$show","modal","setPrimaryView","viewName","showMap","showContextualMap","setContextualMapComponent","resetContextualMapComponent","pushContextualContent","getContentLength","contentLength","getCurrentContentTitle","getCurrentContentId","changeCurrentContentTitle","getCurrentContent","toggleFullViewContent","resetToDefaultContentPercentage","getProjectMenuDOM","projectVueMenuComponent","_closeUserMessageBeforeSetContent","_setContent","showtitle","hideClientMenu","hideChangeMaps","getTemplateClasses","BootstrapVersionClasses","getTemplateClass","openProjectsMenu","contentsComponent","_ref17$language","error_page","it","at_moment","f5","en","compiledTemplate","compile","postBootstrap","_ref18$error","statusText","../deprecated","app/dev","components/App.vue","components/Floatbar.vue","components/GlobalBarLoader","components/GlobalDateTime.vue","components/GlobalDivider.vue","components/GlobalGallery.vue","components/GlobalGeo.vue","components/GlobalHelpDiv.vue","components/GlobalImage.vue","components/GlobalLayerPositions.vue","components/GlobalProgressBar","components/GlobalRange.vue","components/GlobalResize.vue","components/GlobalResizeIcon.vue","components/GlobalSkeleton.vue","components/GlobalTabs.vue","components/NavbaritemsLeft.vue","components/NavbaritemsRight.vue","components/Sidebar.vue","components/Viewport.vue","directives/v-checked","directives/v-disabled","directives/v-download","directives/v-online","directives/v-plugins","directives/v-select2","directives/v-selected-first","directives/v-t","directives/v-t-html","directives/v-t-placeholder","directives/v-t-plugin","directives/v-t-title","directives/v-t-tooltip","gui/projectsmenu/projectsmenu","gui/querybuilder/querybuilderuifactory","gui/templates/500.html","gui/viewport/contentsviewer","regenerator-runtime","services/floatbar","services/navbaritems","services/sidebar","services/viewport","191","_vueCookieLaw","_vueCookieLaw2","_HeaderItem","_HeaderItem2","navbarMenuSlimscroll","navbarMenuSlimscrollWidth","navbarMenuHeight","animationSpeed","sidebarToggleSelector","sidebarPushMenu","sidebarSlimScroll","sidebarExpandOnHover","enableBoxRefresh","enableFastclick","enableControlSidebar","controlSidebarOptions","toggleBtnSelector","slide","enableBoxWidget","boxWidgetOptions","boxWidgetIcons","boxWidgetSelectors","directChat","contactToggleSelector","colors","lightBlue","red","green","aqua","yellow","blue","navy","teal","olive","lime","orange","fuchsia","purple","maroon","black","gray","screenSizes","xs","sm","md","lg","_init","activate","fix","fixSidebar","neg","window_height","sidebar_height","postSetWidth","controlSidebar","slimScroll","console","touchScrollStep","pushMenu","toggleBtn","expandOnHover","screenWidth","menu","$this","checkElement","is","slideUp","parent_find_active","parents","parent_li","li_siblings","treeviewHeight","slideDown","floatBar","bg","_fix","_fixForFixed","_fixForContent","max-height","padding-bottom","boxWidget","selectors","icons","_box","box","box_content","addRefreshButton","boxRefresh","overlay","onLoadStart","onLoadDone","log","rBtn","activateBox","listCustomPlugin","todolist","onCheck","ele","onUncheck","iCheck","LayoutManagerOptions","slimscroll","alwaysVisible","FastClick","attach","resizeMixin","customcredits","appState","current_custom_modal_content","cookie_law_buttonText","HeaderItem","CookieLaw","languages","appconfig","staticurl","powered_by","clienturl","g3w_suite_logo","credits_logo","logo_url","logo_project_url","mediaurl","logo_img","logo_link","getLogoLink","logo_link_target","project_title","username","login_url","numberOfProjectsInGroup","frontendurl","main_title","main_map_title","group_name","slug","templateResultLanguages","flagsurl","$state","max_width","$refs","navbar_toggle","mainnavbar","main_title_project_title","maxWidth","logoWidth","showCustomModalContent","_custom_modals$find","custom_modals","custommodal","sidebarService","_language","currentlanguage","beforeCreate","delayType","delayTime","custom_header_items_position","0","customlinks","header_custom_links","customitem","rightNavBarElements","elementLenght","controlsidebarEl","setFloatBarMaxHeight","setModalHeight","innerHeight","rightNavbarWidth","img_logo","__vue__options__","_vm","_h","$createElement","_c","_self","rawName","staticClass","buttonText","slot","_v","ref","role","data-toggle","data-target","staticStyle","font-size","max-width","text-align","overflow","_l","show-custom-modal-content","first_name","last_name","admin_url","logout_url","margin-right","templateSelection","templateResult","$event","$$selectedVal","multiple","domProps","paddingTop","tabindex","data-backdrop","data-keyboard","aria-labelledby","_m","flex-direction","justify-content","justify-items","align-items","background-color","border-radius","alt","margin-top","margin-left","line-height","font-weight","staticRenderFns","data-dismiss","aria-label","components/HeaderItem.vue","vue-cookie-law","192","showdata","Boolean","selectitems","setDataOffset","getSelectedItems","selectItem","unselectItem","unselect","selectItems","unselectItems","unselectAll","_setAllowedSpace","querySelector","offsetHeight","_setMaxMin","axis","dataValues","changeItems","changeItem","_ref4$render","onselected","_temp","onunselected","selectitem","generate","bindto","min-height","change-item","change-items","select-item","select-all","unselect-all","unselect-item","193","_catalogeventhub","_catalogeventhub2","_CatalogChangeMapThemes","_CatalogChangeMapThemes2","_CatalogLayerContextMenu","_CatalogLayerContextMenu2","DEFAULT_ACTIVE_TAB","$options","showlegend","currentBaseLayer","activeTab","changemapthemes","cataloglayercontextmenu","showTocTools","_project$state$map_th","hasBaseLayers","hasLayers","layerstresslength","changeStyleLayersId","delegationClickEventTab","showLegend","setBaseLayerId","getSrcBaseLayerImage","customimage","state.external.wms","newlayers","oldlayers","state.prstate.currentProject","oldproject","immediate","layerpositions","mapservice","oldValue","beforeMount","contextmenu","!click","aria-controls","data-i18n","margin","change-map-theme","parentFolder","legendplace","parent_mutually_exclusive","externallayers","layersgroup","gridTemplateColumns","components/CatalogChangeMapThemes.vue","components/CatalogLayerContextMenu.vue","gui/catalog/vue/catalogeventhub","194","current_map_theme","margin-bottom","border-bottom","white-space","text-overflow","menu-open","_q","for","_scopeId","195","_vueColor","shpwrite","OFFSETMENU","data_table","colorMenu","stylesMenu","metadatainfoMenu","chrome-picker","Chrome","click-outside-layer-menu","binding","vnode","removeEventListener","closeLayerMenu","showColorMenu","onbeforeDestroyChangeColor","color_picker","onChangeColor","canShowWmsUrl","originalLayer","canShowWfsUrl","canDownloadXls","canDownloadGpx","canDownloadGpkg","canDownloadCsv","canDownloadGeoTIFF","canDownloadShp","ancorEement","tempInput","copywmsurltooltip","downloadGeoTIFF","downloadShp","downloadCsv","downloadGpkg","setWMSOpacity","zoomToLayer","canZoom","downloadExternalShapefile","EPSG4326","GeoJSONFile","clonefeature","writeFeaturesObject","point","mulipoint","multipolygon","polyline","multiline","showAttributeTable","tableContent","startEditing","catallogLayersStores","setCurrentLayerStyle","showStylesMenu","menuentry","submenu","maxH","maxHeight","overflowY","showMetadataInfo","layer-position-change","currentTarget","padding-left","hook:beforeDestroy","model","$$v","sync","change-range","bottom","data-placement","gui/table/vue/table","shp-write","vue-color","vueify/lib/insert-css","196","externallegend","showCategoriesCheckBox","getWmsSourceLayerLegendUrl","showHideLayerCategory","mapReady","setLayerCategories","setError","urlLoaded","handlerChangeLegend","legendGraphics","_legendGraphics$nodes","_categories","_ref4$symbols","symbols","symbol","_ref5$symbols","layer.visible","padding-right","197","border","198","visiblelayers","_visiblelayers","old","199","legendurls","getLegendSrc","catalogLayers","urlMethodsLayersName","urlLayersName","_urlLayersName","_url2","legendUrlObject","_url3","_url3$split","_url3$split2","econdedParams","_param$split","_param$split2","changeLayersLegend","200","_CatalogLayerLegend","_CatalogLayerLegend2","layerlegend","isGroupChecked","controltoggled","n_childs","showLegendLayer","showLayerTocLegend","isGroup","legendlayerposition","showscalevisibilityclass","showScaleVisibilityToolip","isHighLight","isInGrey","layerstree.disabled","layerstree.checked","handleGroupChecked","handleLayerChecked","uncheckable","setAllLayersVisible","layerObject","_layerObject$projectL","toggleFilterLayer","clearSelection","expandCollapse","triClass","downloadExternalLayer","showLayerMenu","itemmarginbottom","marginLeft","bold","paddingLeft","toc-added-external-layer","modifiers","highlightlayer","scalevisibility","current-tooltip","_k","legendConfig","components/CatalogLayerLegend.vue","201","_t","word-wrap","202","fieldsService","203","geoMixin","showLayer","204","_Field","_Field2","galleryId","Field","getSrc","showGallery","getGalleryImages","images","components/Field.vue","205","openLink","link_url","206","mediaMixin","getMediaType","207","208","vueoptions","209","panelsinstack","panelname","stack.contentsdata","210","_FormHeader","_FormHeader2","switchcomponent","g3wformheader","G3wFormFooter","transitions","addremovetransition","backToRoot","_ref$disabled","resizeForm","switchComponent","footerDOM","g3w_form_footer","bodyFromDOM","g3wform_body","footerHeight","bodyHeight","updated","currentid","resize-form","clickheader","hook:activated","addtovalidate","removetovalidate","changeinput","components/FormHeader.vue","211","tabs","addinput","removeinput","212","originalbuttons","button","enableSave","exec","btnEnabled","_button$enabled","state.component","state.update","eventButtons","activated","deactivated","213","item_selected","214","backgroundColor","bar-loader","215","minDate","maxDate","enabledDates","datetimevalue","date","datetimeinputelement","iddatetimepicker","defaultDate","useCurrent","allowInputToggle","showClose","locale","toolbarPlacement","widgetPositioning","horizontal","datetime","mindatetime","maxdatetime","dates","216","217","carouselId","isActive","isRelativePath","startsWith","data-interval","data-slide","218","219","220","g3w-images-gallery","221","layerposition","222","progress","justifyContent","skin-background-color","223","labelValue","changeBackGround","backgroundSize","changedValue","emitChangeValue","__r","224","orientation","moveFnc","wrapMoveFnc","domElementMoveListen","$attrs","mousedown","225","toggleFull","resetToDefault","226","227","_name$props$component","_tabservice","_tabservice2","_GlobalTabsNode","_GlobalTabsNode2","showRelationByField","Node","required_fields","setVisibility","visibility_expression","setEditingRequireTab","getField","root_tabs","tab_node","root_tab","group-title","in active","showTitle","components/GlobalTabsNode.vue","core/expression/tabservice","228","G3wInput","editing_required","filterNodes","getNodeType","nodesLength","rowCount","columnNumber","rest","columnCount","columncount","showGroupTile","showlabel","groupbox","loadingRelation","relation_project","isRelationDisabled","getRelationName","isRelationChildLayerNotEditable","getNodes","startIndex","getNode","_b","$props","text-transform","229","showCustomModal","imagelink","img","230","showHideHelp","loadingState","231","widgetMixins","setLabel","changeCheckBox","widgetChanged","stateValueChanged","input-error-validation","tabIndex","$$a","$$el","$$c","$$i","gui/inputs/input","232","composing","233","uniqueValue","widget_container","idinputdatetimepiker","domeDataPicker","timeOnly","datetimedisplayformat","displayformat","_state$input$options","_state$input$options$","_state$input$options$2","_formats$","fieldformat","disabledDates","datetimefieldformat","vertical","toDate","ignoreReadonly","widgetParent","datimewidget_container","newDate","_$refs$datetimepicker","datetimepicker_body","getBoundingClientRect","z-index","readonly","234","235","border-top","236","show_required_field_message","237","238","lonId","latId","getCoordinateActive","changeLonLat","239","InputMixins","MediaField","g3w-media","mediaid","onClick","createImage","reader","FileReader","readAsDataURL","checkFileSrc","clearMedia","formData","fileupload","dataType","border-style","border-width","data-url","uploadurl","240","pickLayer","pickservice","gui/inputs/picklayer/service","241","radio_value","242","checkValue","keydown","243","PickLayerInputService","InputMixin","G3W_SELECT2_NULL_VALUE","selectMixin","select2Mixin","showPickLayer","picked","showNullOption","nullOption","select2NullValue","state.input.options.values","stateInputOptionsValues","findvalue","keyvalue","pickLayerValue","pickLayerInputService","changeSelect","setAndListenSelect2Change","dependencyLayerId","dependencyLayer","selectElement","getLanguage","minimumInputLength","allowClear","transport","failure","resetValues","processResults","more","244","state.input.options.min","state.input.options.max","245","keyup","mobileChange","246","min-width","247","setupTableCustomTools","buttonColumnLeft","buttonColumnRight","buttonColumnRemove","buttonRowAbove","buttonRowBelow","buttonRowRemove","edit_state","edit","show_html","edit_states","toolbarOptions","align","quill","Quill","quill_editor","modules","toolbar","handlers","innerText","qlformat","column-left","insertColumnLeft","column-right","insertColumnRight","column-remove","deleteColumn","row-above","insertRowAbove","row-below","insertRowBelow","row-remove","deleteRow","getModule","novalid","248","249","_MapAddLayer","_MapAddLayer2","_MapFooter","_MapFooter2","_$options","addlayer","MapFooter","disableMapControls","showHideControls","mapControls","_ref3$layers","_ref3$mainview","_ref3$switchable","components/MapAddLayer.vue","components/MapFooter.vue","250","_toArray","SUPPORTED_FORMAT","CSV_SEPARATORS","box-shadow","MAPEPSG","accepted_extension","separators","hex","setLayerMapPosition","clearError","onAddLayer","input_file","promiseData","files","csv_data","_csv_data","handle_csv_headers","csv_headers","headers_length","readAsText","modal_addlayer","clearLayer","csv_extension","csv.x","csv.y","accept","251","_MapFooterRight","_MapFooterRight2","_MapFooterLeft","_MapFooterLeft2","MapFooterRight","MapFooterLeft","components/MapFooterLeft.vue","components/MapFooterRight.vue","252","align-self","253","switch_icon","epsg_4326","mapunit","showmapunits","switchMapsCoordinateTo4326","254","255","metadataMixin","isSpatial","showHideInfo","findAttributeFormMetadataAttribute","findMetadataAttribute","keywords","metadataurl","onlineresources","dataurl","256","_MetadataLayer","_MetadataLayer2","_MetadataProjectTabContent","_MetadataProjectTabContent2","_MetadataProjectBBoxContent","_MetadataProjectBBoxContent2","_MetadataProjectContactsContent","_MetadataProjectContactsContent2","iconsClass","metadata-layer","metadata-tab-content","metadata-bbox-content","metadata-contacts-content","isArrayorObject","components/MetadataLayer.vue","components/MetadataProjectBBoxContent.vue","components/MetadataProjectContactsContent.vue","components/MetadataProjectTabContent.vue","257","bboxlabels","258","contactelectronicmailaddress","personprimary","contactvoicetelephone","sanitizeValue","geti18n","subvalue","259","arrayToString","260","261","262","263","264","265","_PrintSelectAtlasFieldValues","_PrintSelectAtlasFieldValues2","_PrintFidAtlasValues","_PrintFidAtlasValues2","SelectAtlasFieldValues","FidAtlasValues","setDisabledPrintButton","setAtlasValues","onChangeTemplate","onChangeScale","onChangeFormat","onChangeDpi","onChangeRotation","disable-print-button","set-values","overflow-y","components/PrintFidAtlasValues.vue","components/PrintSelectAtlasFieldValues.vue","266","validateValue","addRangeToValues","rangeLenght","canAdd","print_atlas_fid","267","disableddownloadbutton","downloadImageName","downloadImage","state.url","stateUrl","timeOut","printoutput","revokeObjectURL","268","autocompleteOptions","autocompleteMixin","emitValues","currentValue","print_atlas_autocomplete","gui/external/select2/options/autocomplete","269","fakeImage","html_page_title","logoSrc","imageSrc","menuitem","270","operators","currentlayer","manual","manualvalue","select.field","addToExpression","getValues","number_of_features","excludejoinfields","customPrefix","joinLayer","joinLayerFields","flex-wrap","skin-background-color lighten","dblclick","scope","skin-border-color","271","showinfo","272","_QueryResultsTableAttributeFieldValue","_QueryResultsTableAttributeFieldValue2","_QueryResultsActionInfoFormats","_QueryResultsActionInfoFormats2","_QueryResultsHeaderFeatureBody","_QueryResultsHeaderFeatureBody2","maxSubsetLength","headerExpandActionCellWidth","headerActionsCellWidth","HEADERTYPESFIELD","fieldsMixin","TableAttributeFieldValue","header-feature-body","onelayerresult","hasResults","getLayerCustomComponents","getLayerField","layerField","getQueryFields","getFieldType","getColSpan","attributesSubsetLength","hasLayerOneFeature","getDownloadActions","addLayerFeaturesToResults","showDownloadAction","getContainerFromFeatureLayer","hasOneLayerAndOneFeature","layerHasFeatures","layerHasActions","featureHasActions","geometryAvailable","extractAttributesFromFirstTabOfFormStructureLayers","traverseStructure","attributesSubset","_attributes","relationsAttributesSubset","relationAttributes","relationsAttributes","cellWidth","headerLength","subsetLength","diff","actionsCellWidth","headerAttributeCellTotalWidth","baseCellWidth","featureBoxColspan","colspan","expandable","relationsAttributesSubsetLength","elements","getLayerFormStructure","isAttributeOrTab","isField","getLayerAttributeFromStructureItem","getLayerFeatureBox","boxid","collapsedFeatureBox","showFeatureInfo","toggleFeatureBox","toggleFeatureBoxAndZoom","showFullPhoto","state.layers","stateLayers","requestAnimationFrame","data-widget","downloadformats","boxLayerFeature","featureIndex","showresults","showResults","components/QueryResultsActionInfoFormats.vue","components/QueryResultsHeaderFeatureBody.vue","components/QueryResultsTableAttributeFieldValue.vue","273","clickAction","originalDataTitle","274","_download","flex-grow","275","reloadLayerDataWithChangedContentType","queryService","_responseParser$get","_responseParser$get2","_queryService$getFeat","queryFeature","select2_value","276","choice","g3w_select_feature_featurepolygon","refInFor","277","_QueryResultsAction","_QueryResultsAction2","components/QueryResultsAction.vue","278","_QueryResultsActions","_QueryResultsActions2","mouseout","noAttributes","components/QueryResultsActions.vue","279","g3w-link","g3w-vue","280","_FieldG3W","_FieldG3W2","RelationPageEventBus","SIDEBARWIDTH","inject","headercomponent","downloadButton","downloadLayer","showrelationslist","relationnoback","one","createTable","downloadformatsLength","saveRelation","chartContainer","relationDataTable","relationtable","DataTable","bLengthChange","scrollResize","scrollCollapse","scrollX","responsive","columnDefs","orderable","targets","tableHeaderHeight","tableHeight","datatableBody","breadcrumbHeight","OtherElementHeight","query_relation","showFormStructureRow","getRowFields","adjust","$parent","setRelationsList","fieldIs","fieldType","sidebarHeaderSize","pageX","tablecontent","chartcontent","relationwrapper","toggled-white","paddingBottom","components/FieldG3W.vue","gui/relations/vue/relationeventbus","281","featureInfo","infoFeatures","noback","grid-template-columns","grid-column-gap","grid-row-gap","282","_Relations","_Relations2","_Relation","_Relation2","_$options$relation","showChartButton","provide","chartlayerid","relationName1","relationName2","save-relation","show-chart","hide-chart","components/Relation.vue","components/Relations.vue","283","_Tool","_Tool2","_QueryBuilderSearch","_QueryBuilderSearch2","g3w-tool","g3w-search-querybuilder","searchtool","components/QueryBuilderSearch.vue","components/Tool.vue","284","285","_SearchSelect","_SearchSelect2","_SearchDatetime","_SearchDatetime2","_SearchPanelLabel","_SearchPanelLabel2","Select2","SearchDatetime","SearchPanelLabel","isSelectDisabled","onFocus","scrollTop","changeDependencyFields","changeNumericInput","select-change","components/SearchDatetime.vue","components/SearchPanelLabel.vue","components/SearchSelect2.vue","286","getLabelOperator","287","emitChangeEvent","_initSelect2Element","_forminput","numdigaut","isAutocomplete","forminput.value","forminputValue","allvalue","288","_eventbus","_eventbus2","bOpen","bPageMode","showmainpanel","componentname","closeAllPanels","gui/sidebar/eventbus","289","_SidebarItemAction","_SidebarItemAction2","main","SidebarItemAction","onClickItem","openClose","anchor_click","components/SidebarItemAction.vue","290","291","292","_TableBody","_TableBody2","_TableSelectRow","_TableSelectRow2","_TableToolbar","_TableToolbar2","fieldsComponents","eventHandlers","nopagination","tableBodyComponent","selectedRow","TableBody","selectAllRow","hasHeaders","createdContentBody","fieldComponent","trDomeElements","rowElement","hasGeometry","contentDOM","SelectRowClass","SelectRowInstance","fieldClass","fieldInstance","hideElements","commonDataTableOptions","debounceSearch","G3WTableToolbarClass","G3WTableToolbarInstance","setContentKey","lengthMenu","processing","dom","searchable","attribute_table","serverData","serverSide","deferLoading","changeColumn","searchDelay","components/TableBody.vue","components/TableSelectRow.vue","components/TableToolbar.vue","293","SelectRow","hindex","tab-index","294","295","disableMapTool","rightpanel","height_100","296","AppState","TOOLSTATE","fireAction","showToolStateMessage","toolstatecolor","isCheck","tool_disabled","vertical-align","297","state.toolsGroups","G3wTool","298","COLORS","subtitle","draggable","showheader","addClassMobile","hideShow","_position$split","_position$split2","299","_UserMessage","_UserMessage2","_NotifyOnline","_NotifyOnline2","_NotifyDownload","_NotifyDownload2","_NotifyPlugins","_NotifyPlugins2","userMessage","onlineNotify","downloadNotify","pluginsNotify","updatePreviousTitle","breadcrumb","showresize","currentPerc","getCurrentContentLayout","resized","secondaryPerc","showresizeicon","contentsData","contentTitle","_contentsData$options","backOrBackTo","previousTitle","isNotLastCrumb","closeMap","gotoPreviousContent","viewPortSize","mapSize","pageY","contentSize","resizePercentageMap","resizePercentageContent","resizeViewComponents","handleResizeViewport","mediaQueryEventMobile","matchMedia","enter","leave","close-usermessage","aside","components/NotifyDownload.vue","components/NotifyOnline.vue","components/NotifyPlugins.vue","components/UserMessage.vue","300","301","inputswmsurlvalid","addwmsurl","padding-top","302","selectedlayers","filterLayerByCurrentEpsg","layerProjections","crss","firstLayer","_$options$config","$data","303","VueColor","vue-cookie","304","watcher","unique_attr_id","getAttribute","305","removeAttribute","306","307","_utils","directives/utils","308","309","310","_ref$multiple","_ref$search","dropdownCssClass","311","toggleAttribute","312","313","314","315","316","_el","_ref$el","componentUpdated","oldVnode","317","318","translation","cookie_law","sign_in","layer_selection_filter","nofilter","show_features_on_map","layer_position","sdk","no_results","error_loading","layer_not_searchable","layer_not_querable","inputshort","pre","no_layers","download_image","fids_instruction","fids_example","querybuilder","error_run","error_test","additem","unsupported_format","add_external_layer","fees","accessconstraints","contactinformation","subfields","contactorganization","ContactOrganization","contactposition","ContactPosition","contactperson","ContactPerson","tooltips","form_to_row","row_to_form","copy_map_extent_url","download_shapefile","show_chart","add_selection","zoom_to_features_extent","add_features_to_results","remove_feature_from_results","zoom_to_feature","relations_charts","download_features_shapefile","download_features_gpx","download_features_gpkg","download_features_csv","download_features_xls","copy_zoom_to_fid_url","choiches","feature_polygon","no_geometry","querybybbox","nolayers_visible","measures","no_valid_scale","metric","nautical","relation_data","no_relations_found","back_to_relations","list_of_relations_feature","error_missing_father_field","input_validation_mutually_exclusive","input_validation_error","input_validation_min_field","input_validation_max_field","input_validation_exclude_values","bigint","varchar","qgis_input_widget_relation","current_map_theme_prefix","choose_map_theme","setwmsopacity","copied","geotiff_map_extent","wps","list_process","g3wSuiteFramework","g3wSuiteDescription","productOf","toggle_color_scheme","logout","no_other_projects","yes","no","backto","changemap","create_print","dosearch","externalwms","nobaselayer","street_search","copy_form_data","paste_form_data","copy_form_data_from_feature","error_map_loading","check_internet_connection_or_server_admin","could_not_load_vector_layers","server_saver_error","server_error","cancel","enlange_reduce","reset_default","exitnosave","annul","layer_is_added","add_wms_layer","delete_wms_url","layer_id_already_added","url_already_added","layer_add_error","list_of_relations","open_link","link_button","geolocations","add_layer_control","select_projection","select_field_to_show","select_csv_separator","select_csv_x_field","select_csv_y_field","select_color","drag_layer","input_relation","catalog_items","helptext","zoomtolayer","open_attribute_table","show_metadata","vector_color_menu","no_data","nodatafilterd","319","320","321","wms_layer_id_already_added","wms_url_already_added","322","_it","_it2","_en","_en2","_fi","_fi2","_se","_se2","_fr","_fr2","_de","_de2","_ro","_ro2","translations","fi","se","fr","de","ro","./de","./en","./fi","./fr","./it","./ro","./se","323","324","325","326","327","showhelpicon","328","getFieldService","_fieldsService","sanitizeFieldValue","329","330","331","formInputsMixins","_autocomplete","_autocomplete2","_fields2","_media","_media2","_geo","_geo2","_resize","_resize2","_select","_select2","_select3","_select4","_formInputs","_formInputs2","_widget","_widget2","_metadata","_metadata2","_baseInput","_baseInput2","mixins/autocomplete","mixins/base-input","mixins/fields","mixins/form-inputs","mixins/geo","mixins/media","mixins/metadata","mixins/resize","mixins/select","mixins/select2","mixins/widget","332","isMedia","333","334","DELAY_TYPE","delayWrapper","delayResize","335","usecompleter","$container","336","337","338","_apiEndpoints","apiEndpoints","howManyAreLoading","apiEndPoint","completeUrl","339","_config2","_clipboard","_clipboard2","i18ninit","onLine","complete","_applicationServices","_initConfigUrl","_initConfig","_groupId","_gid","_changeProject","setOnline","setOffline","_setFilterToken","setApplicationUser","browserLanguage","createApplicationConfig","bootstrap","setupI18n","languageConfig","languageLabel","setApplicationLanguage","userLanguage","ajaxSetup","beforeSend","jqXHR","getDownload","loadingPlugin","loadedPlugin","_plugin","pathname","pathArray","history","replaceState","registerOnlineOfflineEvent","registerLeavePage","_ref4$bool","_return","onbeforeunload","unregisterOnlineOfflineEvent","getApplicationLanguage","isOnline","setOfflineItem","localStorage","setItem","removeLocalItem","getItem","getOfflineItem","removeOfflineItem","getProxyUrl","proxyurl","getInterfaceOwsUrl","interfaceowsurl","getClipboardService","initConfig","obtainInitConfig","initConfigUrl","header_logo_img","header_logo_link","terms_of_use_text","terms_of_use_link","initproject","getProjectConfigUrl","views","projectPath","locationsearch","clearInitConfig","queryTuple","getInitConfig","setInitVendorKeys","getInitConfigUrl","setInitConfigUrl","_bootstrapPlugins","pluginsBaseUrl","pluginsConfigs","otherPluginsConfig","setEPSGApplication","getApplicationUser","initialized","startIFrameService","iframeService","unregisterService","errorHandler","apikey","setVendorKeys","changeProjectview","isProjectViewChanging","reloadCurrentProject","projectUrl","getProjectUrl","width_default","height_default","width_100","getCurrentLayout","core/iframe/routerservice","services/clipboard","340","ClipboardService","formLayer","341","ExpressionService","_ref$formatter","_ref3$formatter","_ref4$params","_ref4$contentType","core/data/service","342","OWSService","wmsCapabilities","owsUrl","343","ProxyService","proxyUrl","_ref2$method","_ref2$params","_ref2$headers","344","QueryService","_ref$feature_count","_ref$filterConfig","_ref$multilayers","_ref$condition","_ref$excludeLayers","returnExceptionResponse","messagetext","layerFilterObject","_ref2$feature_count","_ref2$filterConfig","_ref2$multilayers","_ref2$condition","_ref2$layersFilterObj","_ref4$layerIds","_ref4$multilayers","_ref4$query_point_tol","layersResults","345","promisesSearch","dataSearch","_value$data","_ref5$fids","layersfids","layersresponses","_ref7$fids","_ref7$formatter","layerresponse","346","Routerservice","defaultoutputplaces","currentoutputplaces","ouputplaces","_dataQuery2","_dataSearch2","_dataExpression2","proxy","_dataProxy2","_dataOws2","contextAndMethod","_splitContextAndMetho","serviceName","setOutputPlaces","places","addCurrentOutputPlace","addNewOutputPlace","_ref5$method","resetDefaultOutput","_dataExpression","_dataOws","_dataProxy","_dataQuery","_dataSearch","services/data-expression","services/data-ows","services/data-proxy","services/data-query","services/data-search","347","Actions","opposite","348","FloatbarService","sidebarEl","_zindex","_modalOverlay","_modal","_isopen","isOpen","349","isready","showListing","closeListing","hideListing","hideQueryResults","push_content","setPushContent","guiResized","350","AppService","changeMap","_ref$capture","capture","_ref3$capture","getcenter","zoomtocoordinates","_params$coordinates","_params$highlight","getextent","_params$extent","zoomtofeature","_params$highlight2","351","EditingService","subscribevents","startAction","toolboxes","setSaveConfig","toolbox","stopAction","stopEditing","subscribersHandlers","activeTool","_ref4$disableToolboxe","disableToolboxes","setEnabled","setEditing","cancelform","addfeature","addFeatureTool","getToolById","addSubscribeEvents","closeeditingpanel","resetSubscribeEvents","unsubscribe","configQglLayerId","getEditableLayersId","startstopediting","toolboxPromise","setActiveTool","_options$action","startEditingPromise","stopEditingPromises","resetDefault","_g3wsdk$core$utils","core/iframe/services/plugins/service","352","IframePluginService","pendingactions","serviceNames","eventResponseServiceHandler","postMessage","attachEvent","_ref5$data","outputData","writeFeatures","stopPendingActions","_evt$data$id","_evt$data$single","single","detachEvent","core/iframe/services/index","353","navbaritemsService","354","QueryBuilderService","_cacheValues","_items","QUERYBUILDERSEARCHES","getItems","valuesField","_ref3$showResult","confirm","saveitems","editLocalItem","_querybuildersearch","_resetItems","addLocalItem","_querybuildersearches","prompt","searchService","sample","355","createUrl","_options$layer","_options$type","_options$formatter","_nmRelation$fieldRef","relationsNM","responseFids","_ref2$features","356","crossroads","ignoreState","greedy","_initialLocationQuery","_routeQuery","setRouteQuery","routeQuery","_setRouteQueryFromLocationQuery","pattern","removeRoute","removeAllRoutes","defaultArgs","_initialQuery","_stripInitialQuery","makePermalink","_encodeRouteQuery","makeQueryString","queryParams","slicePath","path","sliceFirst","pathAndQuery","queryString","pathArr","firstPath","getQueryParams","queryPairs","queryPair","pair","getQueryString","_getQueryPortion","queryKey","queryPortion","_decodeRouteQuery","locationQuery","encodedRouteQuery","_getRouteQueryFromLocationQuery","previousQuery","previousQueryLength","previousQueryPosition","queryPrefix","trimEnd","querySuffix","trimStart","357","SidebarService","closeSidebarPanel","openCloseItem","_options$before","sidebarItem","SidebarItem","DOMComponent","isPanelSidebarShow","sidebarcomponetsdomid","childrenLength","findElementIndexId","initService","setComponentClickHandler","_ref$open","reloadComponent","sidebarComponent","_SidebarItem","_SidebarItem2","components/SidebarItem.vue","358","runTask","taskUrl","_options$interval","interval","_options$timeout","_options$listener","task_id","intervalId","setInterval","_response","stopTask","clearInterval","taskId","359","ViewportService","primaryView","v","cloasable","_defaultMapComponent","_contextualMapComponent","_secondaryViewMinWidth","_secondaryViewMinHeight","_immediateComponentsLayout","_options$primaryview","primaryview","setResized","_ref$textMessage","getMapState","getContentState","_toggleMapComponentVisibility","_showView","contextualMapComponent","recoverDefaultMap","_layout","getContentPercentageFromCurrentLayout","evenContentName","_prepareContentView","_layoutComponents","prevContentPerc","secondaryVisible","currentRightPanel","isFullViewContent","contentgetCurrentContentData","currentContent","isContentOpen","closeSecondaryView","isPrimaryView","viewTag","showPrimaryView","showSecondaryView","secondaryViewComponent","_otherView","getDefaultViewPerc","_isSecondary","_setPrimaryView","_options$split2","_options$closable","_options$backonclose","_options$style","_options$showgoback","_options$headertools","headertools","_options$perc","_options$split3","_getReducedSizes","contentEl","reducedWidth","reducedHeight","sideBarToggleEl","toggleWidth","_toggleWidth","reducesdSizes","_setViewSizes","secondaryView","_getViewportSize","getViewportSize","viewportWidth","viewportHeight","primaryWidth","primaryHeight","secondaryWidth","secondaryHeight","_viewportWidth","_viewportHeight","topHeight","main_sidebar","sideBarSpace","setContentPercentageFromCurrentLayout","triggerResize","resizeFired","drawResize","drawing","360","WorkFlowsStack","getParent","_getCurrentIndex","getParents","currentWorkflow","workfow","getLast","getFirst","getAt","361","STATE","upload","STATE_METHODS","362","363","ComponentsRegistry","364","ControlsRegistry","_controls","_offlineids","controlItem","_registerControl","getControl","unregisterControl","365","MapLayersStoresRegistry","366","_configurationPlugins","_loadedPluginUrls","gidProject","setPluginsConfig","addLoadingPlugins","setOtherPlugins","setDependencyPluginConfig","_loadPlugins","pluginLoadPromises","pluginConfig","_setup","dependecyPluginConfig","law","OTHERPLUGINS","reloadPlugins","scripts","getPlugins","scr","pluginUrl","enabledPluginConfig","_loadScript","getScript","_pluginConfig$jsscrip","jsscripts","depedencypluginlibrariespromises","_loop3","script","baseUrl","scriptUrl","367","createProject","projectConfig","setCurrentProject","projectLayersStore","minScale","_groupProjects","_projectConfigs","setupState","setProjects","getProjectType","getProjects","clearProjects","currentProjectId","listable","projectGid","pendingProject","_getProjectFullConfig","projectFullConfig","_setProjectRelations","getProjectConfigByGid","setProjectAliasUrl","_location","projectBaseConfig","find_map_theme","url_theme","layetstree","368","setSession","getSessions","369"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\nvar inserted = exports.cache = {}\n\nfunction noop () {}\n\nexports.insert = function (css) {\n  if (inserted[css]) return noop\n  inserted[css] = true\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n\n  if ('textContent' in elem) {\n    elem.textContent = css\n  } else {\n    elem.styleSheet.cssText = css\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(elem)\n  return function () {\n    document.getElementsByTagName('head')[0].removeChild(elem)\n    inserted[css] = false\n  }\n}\n\n},{}],3:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _tasks = require('services/tasks');\n\nvar _tasks2 = _interopRequireDefault(_tasks);\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _mixins2 = _interopRequireDefault(_mixins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * CORE modules\n */\n\n\n/**\n * Single File Components\n */\n/**\n * @file api file interface for external plugins\n */\n\nvar G3WObject = require('core/g3wobject');\n//MIXINS\n\nvar utils = require('core/utils/utils');\nvar geoutils = require('core/utils/geo');\nvar i18n = require('core/i18n/i18n.service');\nvar Server = require('core/errors/parser/servererrorparser');\nvar Session = require('core/editing/session');\nvar Editor = require('core/editing/editor');\nvar Geom = require('core/utils/geo');\n\nvar _require = require('core/utils/geo'),\n    Geometry = _require.Geometry;\n\nvar Project = require('core/project/project');\nvar LayersStoreRegistry = require('core/layers/layersstoresregistry');\nvar LayersStore = require('core/layers/layersstore');\nvar Layer = require('core/layers/layer');\nvar LayerFactory = require('core/layers/layerfactory');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar WmsLayer = require('core/layers/map/wmslayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar MapLayer = require('core/layers/map/maplayer');\nvar Feature = require('core/layers/features/feature');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\nvar Plugin = require('core/plugin/plugin');\nvar PluginService = require('core/plugin/pluginservice');\nvar Task = require('core/workflow/task');\nvar Step = require('core/workflow/step');\nvar Flow = require('core/workflow/flow');\nvar Workflow = require('core/workflow/workflow');\n\n/**\n * GUI modules\n */\nvar Panel = require('gui/panel');\nvar ControlFactory = require('gui/map/control/factory');\nvar ComponentsFactory = require('gui/component/componentsfactory');\nvar FieldsService = require('gui/fields/fieldsservice');\nvar Component = require('gui/component/component');\nvar MetadataComponent = require('gui/metadata/vue/metadata');\nvar SearchComponent = require('gui/search/vue/search');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\nvar PrintComponent = require('gui/print/vue/print');\nvar CatalogComponent = require('gui/catalog/vue/catalog');\nvar MapComponent = require('gui/map/vue/map');\nvar ToolsComponent = require('gui/tools/vue/tools');\nvar QueryResultsComponent = require('gui/queryresults/vue/queryresults');\nvar FormComponent = require('gui/form/vue/form');\nvar FormService = require('gui/form/formservice');\nvar InputsComponents = require('gui/inputs/inputs');\nvar ChartsFactory = require('gui/charts/chartsfactory');\nvar Fields = require('gui/fields/fields');\nvar SearchPanelService = require('gui/search/vue/panel/searchservice');\n\n/**\n * G3W-OL modules\n */\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\nvar DeleteFeatureInteraction = require('g3w-ol/interactions/deletefeatureinteraction');\nvar AreaInteraction = require('g3w-ol/interactions/areainteraction');\nvar LengthInteraction = require('g3w-ol/interactions/lengthinteraction');\nvar g3wolutils = require('core/utils/ol');\n\nmodule.exports = {\n\n  // APP CONSTANTS\n  constant: _constant2.default, // TODO: rename to \"constants\" which is more appropriate (in version 4.0)\n\n  // CORE API METHODS AND OBJECTS\n  core: {\n    G3WObject: G3WObject,\n    utils: utils,\n    geoutils: geoutils,\n    ApplicationService: _application2.default,\n    ApplicationState: _applicationState2.default,\n    ApiService: _api2.default,\n    Router: _router2.default,\n    i18n: i18n,\n    task: {\n      TaskService: _tasks2.default\n    },\n    data: {\n      DataRouterService: _data2.default\n    },\n    iframe: {\n      IFrameRouterService: _iframePlugin2.default\n    },\n    errors: {\n      parsers: {\n        Server: Server\n      }\n    },\n    editing: {\n      Session: Session,\n      SessionsRegistry: _sessions2.default,\n      Editor: Editor,\n      ChangesManager: _editing2.default\n    },\n    geometry: {\n      Geom: Geom,\n      Geometry: Geometry\n    },\n    project: {\n      ProjectsRegistry: _projects2.default,\n      Project: Project\n    },\n    map: {\n      MapLayersStoreRegistry: _mapLayers2.default\n    },\n    catalog: {\n      CatalogLayersStoresRegistry: _catalogLayers2.default\n    },\n    layer: {\n      LayersStoreRegistry: LayersStoreRegistry,\n      LayersStore: LayersStore,\n      Layer: Layer,\n      LayerFactory: LayerFactory,\n      TableLayer: TableLayer,\n      VectorLayer: VectorLayer,\n      ImageLayer: ImageLayer,\n      WmsLayer: WmsLayer,\n      XYZLayer: XYZLayer,\n      MapLayer: MapLayer,\n      geometry: {\n        Geometry: Geometry,\n        geom: Geom /** @FIXME capitalize first letter (ie. \"Geom\") */\n      },\n      features: {\n        Feature: Feature,\n        FeaturesStore: FeaturesStore,\n        OlFeaturesStore: OlFeaturesStore\n      },\n      filter: {\n        Filter: Filter,\n        Expression: Expression\n      }\n    },\n    relations: {\n      RelationsService: _relations2.default\n    },\n    interaction: {\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      PickFeatureInteraction: PickFeatureInteraction\n    },\n    plugin: {\n      Plugin: Plugin,\n      PluginsRegistry: _plugins2.default,\n      PluginService: PluginService\n    },\n    workflow: {\n      Task: Task,\n      Step: Step,\n      Flow: Flow,\n      Workflow: Workflow,\n      WorkflowsStack: _workflows2.default\n    },\n    input: {\n      inputService: _inputservice2.default\n    }\n  },\n\n  // APPLICATION INTERFACE (vue)\n  gui: {\n    GUI: _gui2.default,\n    Panel: Panel,\n    ControlFactory: ControlFactory,\n    ComponentsFactory: ComponentsFactory,\n    FieldsService: FieldsService,\n    vue: {\n      Component: Component,\n      Panel: Panel,\n      MetadataComponent: MetadataComponent,\n      SearchComponent: SearchComponent,\n      SearchPanel: SearchPanel,\n      PrintComponent: PrintComponent,\n      CatalogComponent: CatalogComponent,\n      MapComponent: MapComponent,\n      ToolsComponent: ToolsComponent,\n      QueryResultsComponent: QueryResultsComponent,\n      // main Form Component\n      FormComponent: FormComponent,\n      // Form Components\n      FormComponents: {\n        Body: _FormBody2.default,\n        Footer: _FormFooter2.default\n      },\n      Inputs: {\n        G3wFormInputs: _InputG3WFormInputs2.default,\n        G3WInput: _InputG3W2.default,\n        InputsComponents: InputsComponents\n      },\n      Charts: {\n        ChartsFactory: ChartsFactory,\n        c3: {\n          lineXY: _C3XYLine2.default\n        }\n      },\n      Fields: Fields,\n      Mixins: _mixins2.default,\n      services: {\n        SearchPanel: SearchPanelService,\n        FormService: FormService\n      }\n    }\n  },\n\n  // OPEN LAYERS COMPONENTS (g3w-ol)\n  ol: {\n    interactions: {\n      PickFeatureInteraction: PickFeatureInteraction,\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      DeleteFeatureInteraction: DeleteFeatureInteraction,\n      measure: {\n        AreaInteraction: AreaInteraction,\n        LengthInteraction: LengthInteraction\n      }\n    },\n    controls: {},\n    utils: g3wolutils\n  },\n  // G3W-CLIENT version\n  version: _constant2.default.APP_VERSION\n};\n\n},{\"components/C3XYLine.vue\":192,\"components/FormBody.vue\":211,\"components/FormFooter.vue\":212,\"components/InputG3W.vue\":235,\"components/InputG3WFormInputs.vue\":236,\"constant\":5,\"core/editing/editor\":7,\"core/editing/session\":9,\"core/errors/parser/servererrorparser\":10,\"core/expression/inputservice\":11,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/features/feature\":27,\"core/layers/features/featuresstore\":28,\"core/layers/features/olfeaturesstore\":29,\"core/layers/filter/expression\":30,\"core/layers/filter/filter\":31,\"core/layers/imagelayer\":34,\"core/layers/layer\":35,\"core/layers/layerfactory\":36,\"core/layers/layersstore\":37,\"core/layers/layersstoresregistry\":38,\"core/layers/map/maplayer\":44,\"core/layers/map/wmslayer\":46,\"core/layers/map/xyzlayer\":48,\"core/layers/tablelayer\":57,\"core/layers/vectorlayer\":58,\"core/plugin/plugin\":59,\"core/plugin/pluginservice\":60,\"core/project/project\":62,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"core/workflow/flow\":70,\"core/workflow/step\":72,\"core/workflow/task\":73,\"core/workflow/workflow\":74,\"g3w-ol/interactions/areainteraction\":98,\"g3w-ol/interactions/deletefeatureinteraction\":99,\"g3w-ol/interactions/lengthinteraction\":100,\"g3w-ol/interactions/pickcoordinatesinteraction\":102,\"g3w-ol/interactions/pickfeatureinteraction\":103,\"gui/catalog/vue/catalog\":110,\"gui/charts/chartsfactory\":112,\"gui/component/component\":113,\"gui/component/componentsfactory\":114,\"gui/fields/fields\":116,\"gui/fields/fieldsservice\":117,\"gui/form/formservice\":118,\"gui/form/vue/form\":119,\"gui/inputs/inputs\":128,\"gui/map/control/factory\":152,\"gui/map/vue/map\":154,\"gui/metadata/vue/metadata\":157,\"gui/panel\":158,\"gui/print/vue/print\":160,\"gui/queryresults/vue/queryresults\":168,\"gui/search/vue/panel/searchpanel\":173,\"gui/search/vue/panel/searchservice\":174,\"gui/search/vue/search\":175,\"gui/tools/vue/tools\":182,\"mixins\":331,\"services/api\":338,\"services/application\":339,\"services/data\":346,\"services/editing\":347,\"services/gui\":349,\"services/iframe-plugin\":352,\"services/relations\":355,\"services/router\":356,\"services/tasks\":358,\"services/workflows\":360,\"store/application-state\":361,\"store/catalog-layers\":362,\"store/map-layers\":365,\"store/plugins\":366,\"store/projects\":367,\"store/sessions\":368}],4:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.utils = exports.server = exports.client = exports._i18n = exports.tools = exports.plugins = undefined;\n\nvar _locales = require('../locales');\n\nvar _locales2 = _interopRequireDefault(_locales);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar apptitle = \"G3W Client\"; /**\n                              * @TODO consolidate configuration parameters in a single location\n                              * (eg. appConfig, ApplicationState, Constants, ...)\n                              */\n\nvar supportedLanguages = ['en', 'it'];\n\nvar plugins = exports.plugins = {};\n\nvar tools = exports.tools = {\n  tools: []\n};\n\n// get message from internationalization\nvar _i18n = exports._i18n = {\n  resources: _locales2.default\n};\n\nvar client = exports.client = {\n  debug: true,\n  local: false\n};\n\nvar server = exports.server = {\n  urls: {\n    baseurl: '/',\n    ows: 'ows',\n    api: 'api',\n    initconfig: 'api/initconfig',\n    config: 'api/config'\n  }\n};\n\nvar utils = exports.utils = {\n  merge: function merge(type) {\n    if (type) {\n      console.log(CONFIG);\n    }\n  }\n};\n\nexports.default = {\n  apptitle: apptitle,\n  client: client,\n  server: server,\n  plugins: plugins,\n  supportedLanguages: supportedLanguages,\n  tools: tools,\n  _i18n: _i18n,\n  utils: utils\n};\n\n},{\"../locales\":322}],5:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ZINDEXES = exports.VIEWPORT = exports.TOC_THEMES_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = exports.TIMEOUT = exports.SEARCH_RETURN_TYPES = exports.SEARCH_ALLVALUE = exports.QUERY_POINT_TOLERANCE = exports.PRINT_SCALES = exports.PRINT_RESOLUTIONS = exports.PRINT_FORMATS = exports.MAP_SETTINGS = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_TITLE = exports.GEOMETRY_TYPES = exports.GEOMETRY_FIELDS = exports.FILTER_EXPRESSION_OPERATORS = exports.FILTER_OPERATORS = exports.G3W_FID = exports.EPSG = exports.DOWNLOAD_FORMATS = exports.DEFAULT_EDITING_CAPABILITIES = exports.APP_VERSION = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file all contants values used on application\n                                                                                                                                                                                                                                                                   */\n\n/**\n * @TODO we can safely import \"version\" from \"package.json\" when we will use native ES Modules\n */\n// import { version } from '../../package.json';\n\n\nvar _version = require('../version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Same as \"package.json\" version\n */\nvar APP_VERSION = exports.APP_VERSION = _version2.default;\n\n/**\n * Default editing capabilities \n */\nvar DEFAULT_EDITING_CAPABILITIES = exports.DEFAULT_EDITING_CAPABILITIES = ['add_feature', 'change_feature', 'change_attr_feature', 'delete_feature'];\n\nvar DOWNLOAD_FORMATS = exports.DOWNLOAD_FORMATS = {\n  download: {\n    format: 'shapefile',\n    url: 'shp'\n  },\n  download_gpkg: {\n    format: 'gpkg',\n    url: 'gpkg'\n  },\n  download_gpx: {\n    format: 'gpx',\n    url: 'gpx'\n  },\n  download_csv: {\n    format: 'csv',\n    url: 'csv'\n  },\n  download_xls: {\n    format: 'xls',\n    url: 'xls'\n  },\n  download_raster: {\n    format: 'geotiff',\n    url: 'geotiff'\n  }\n};\n\nvar EPSG = exports.EPSG = [\"EPSG:3003\", \"EPSG:3004\", \"EPSG:3045\", \"EPSG:3857\", \"EPSG:4326\", \"EPSG:6708\", \"EPSG:23032\", \"EPSG:23033\", \"EPSG:25833\", \"EPSG:32632\", \"EPSG:32633\"];\n\n/**\n * fid name field referred to fid feature\n */\nvar G3W_FID = exports.G3W_FID = 'g3w_fid';\n\n/**\n * @since v3.5\n */\nvar FILTER_OPERATORS = exports.FILTER_OPERATORS = {\n  gte: '>=',\n  lte: '<=',\n  NOT: '!=',\n  eq: '=',\n  gt: '>',\n  lt: '<',\n  IN: 'IN',\n  'NOT IN': 'NOT IN',\n  LIKE: 'LIKE',\n  ILIKE: 'ILIKE',\n  AND: 'AND',\n  OR: 'OR'\n};\n\n/**\n * @since v3.5\n */\nvar FILTER_EXPRESSION_OPERATORS = exports.FILTER_EXPRESSION_OPERATORS = _extends({\n  lte: '<=',\n  ltgt: '!=',\n  ilike: 'ILIKE',\n  like: 'LIKE'\n}, FILTER_OPERATORS);\n\n/**\n * Geometry fields used to exclude or get geometry information from server request\n */\nvar GEOMETRY_FIELDS = exports.GEOMETRY_FIELDS = ['geometryProperty', 'boundedBy', 'geom', 'the_geom', 'geometry', 'bbox', 'GEOMETRY', 'geoemtria', 'geometria'];\n\nvar GEOMETRY_TYPES = exports.GEOMETRY_TYPES = {\n  POINT: \"Point\",\n  POINTZ: \"PointZ\",\n  POINTM: \"PointM\",\n  POINTZM: \"PointZM\",\n  POINT25D: \"Point25D\",\n  MULTIPOINT: \"MultiPoint\",\n  MULTIPOINTZ: \"MultiPointZ\",\n  MULTIPOINTM: \"MutliPointM\",\n  MULTIPOINTZM: \"MultiPointZM\",\n  MULTIPOINT25D: \"MultiPoint25D\",\n  LINESTRING: \"LineString\", // QGis definition .GeometryType, Line intead di Linestring.\n  LINESTRINGZ: \"LineStringZ\",\n  LINESTRINGM: \"LineStringM\",\n  LINESTRINGZM: \"LineStringZM\",\n  LINESTRING25D: \"LineString25D\",\n  LINE: \"Line\",\n  LINEZ: \"LineZ\",\n  LINEM: \"LineM\",\n  LINEZM: \"LineZM\",\n  LINE25D: \"Line25D\",\n  MULTILINESTRING: \"MultiLineString\",\n  MULTILINESTRINGZ: \"MultiLineStringZ\",\n  MULTILINESTRINGM: \"MultiLineStringM\",\n  MULTILINESTRINGZM: \"MultiLineStringZM\",\n  MULTILINESTRING25D: \"MultiLineString25D\",\n  MULTILINE: \"MultiLine\",\n  MULTILINEZ: \"MultiLineZ\",\n  MULTILINEM: \"MultiLineM\",\n  MULTILINEZM: \"MultiLineZM\",\n  MULTILINE25D: \"MultiLine25D\",\n  POLYGON: \"Polygon\",\n  POLYGONZ: \"PolygonZ\",\n  POLYGONM: \"PolygonM\",\n  POLYGONZM: \"PolygonZM\",\n  POLYGON25D: \"Polygon25D\",\n  MULTIPOLYGON: \"MultiPolygon\",\n  MULTIPOLYGONZ: \"MultiPolygonZ\",\n  MULTIPOLYGONM: \"MultiPolygonM\",\n  MULTIPOLYGONZM: \"MultiPolygonZM\",\n  MULTIPOLYGON25D: \"MultiPolygon25D\",\n  GEOMETRYCOLLECTION: \"GeometryCollection\",\n  GEOMETRYCOLLECTIONZ: \"GeometryCollectionZ\",\n  GEOMETRYCOLLECTIONM: \"GeometryCollectionM\",\n  GEOMETRYCOLLECTIONZM: \"GeometryCollectionZM\",\n  GEOMETRYCOLLECTION25D: \"GeometryCollection25D\"\n};\n\nvar LIST_OF_RELATIONS_TITLE = exports.LIST_OF_RELATIONS_TITLE = 'info.list_of_relations';\nvar LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_ID = '__G3W_LIST_OF_RELATIONS_ID__';\n\nvar LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = 'externalwms';\n\nvar MAP_SETTINGS = exports.MAP_SETTINGS = {\n  ZOOM: {\n    maxScale: 1000\n  },\n  ANIMATION: {\n    duration: 2000\n  },\n  LAYER_POSITIONS: {\n    default: 'top',\n    getPositions: function getPositions() {\n      return ['top', 'bottom'];\n    }\n  }\n};\n\n/**\n * @since v3.5\n */\nvar PRINT_FORMATS = exports.PRINT_FORMATS = [{\n  value: 'pdf',\n  label: 'PDF'\n}, {\n  value: 'png',\n  label: 'PNG'\n}];\n\n/**\n * @since v3.5\n */\nvar PRINT_RESOLUTIONS = exports.PRINT_RESOLUTIONS = [150, 300];\n\n/**\n * @since v3.5\n */\nvar PRINT_SCALES = exports.PRINT_SCALES = [{\n  value: 100,\n  label: '1:100'\n}, {\n  value: 200,\n  label: '1:200'\n}, {\n  value: 500,\n  label: '1:500'\n}, {\n  value: 1000,\n  label: '1:1.000'\n}, {\n  value: 2000,\n  label: '1:2.000'\n}, {\n  value: 2500,\n  label: '1:2.500'\n}, {\n  value: 5000,\n  label: '1:5.000'\n}, {\n  value: 10000,\n  label: '1:10.000'\n}, {\n  value: 20000,\n  label: '1:20.000'\n}, {\n  value: 25000,\n  label: '1:25.000'\n}, {\n  value: 50000,\n  label: '1:50.000'\n}, {\n  value: 100000,\n  label: '1:100.000'\n}, {\n  value: 250000,\n  label: '1:250.000'\n}, {\n  value: 500000,\n  label: '1:500.000'\n}, {\n  value: 1000000,\n  label: '1:1.000.000'\n}, {\n  value: 2500000,\n  label: '1:2.500.000'\n}, {\n  value: 5000000,\n  label: '1:5.000.000'\n}, {\n  value: 10000000,\n  label: '1:10.000.000'\n}, {\n  value: 20000000,\n  label: '1:20.000.000'\n}, {\n  value: 50000000,\n  label: '1:50.000.000'\n}, {\n  value: 100000000,\n  label: '1:100.000.000'\n}, {\n  value: 250000000,\n  label: '1:250.000.000'\n}, {\n  value: 500000000,\n  label: '1:500.000.000'\n}];\n\n/**\n * Point tolerance when clicking on map\n * @type {{unit: string, value: number}}\n */\nvar QUERY_POINT_TOLERANCE = exports.QUERY_POINT_TOLERANCE = {\n  unit: 'pixel',\n  value: 10\n};\n\n/**\n * @since v3.5\n */\nvar SEARCH_ALLVALUE = exports.SEARCH_ALLVALUE = '__G3W_ALL__';\n\n/**\n * @since v3.5\n */\nvar SEARCH_RETURN_TYPES = exports.SEARCH_RETURN_TYPES = ['data', 'search'];\n\n/**\n * TIMEOUT (1 minute = 60000)\n */\nvar TIMEOUT = exports.TIMEOUT = 60000;\n\nvar TOC_LAYERS_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = 'not_collapsed';\n\nvar TOC_THEMES_INIT_STATUS = exports.TOC_THEMES_INIT_STATUS = 'collapsed';\n\n/**\n * @since v3.5\n */\nvar VIEWPORT = exports.VIEWPORT = {\n  resize: {\n    map: {\n      min: 200\n    },\n    content: {\n      min: 200\n    }\n  }\n};\n\nvar ZINDEXES = exports.ZINDEXES = {\n  usermessage: {\n    tool: 2\n  }\n};\n\nexports.default = {\n  APP_VERSION: APP_VERSION,\n  DEFAULT_EDITING_CAPABILITIES: DEFAULT_EDITING_CAPABILITIES,\n  DOWNLOAD_FORMATS: DOWNLOAD_FORMATS,\n  FILTER_OPERATORS: FILTER_OPERATORS,\n  FILTER_EXPRESSION_OPERATORS: FILTER_EXPRESSION_OPERATORS,\n  G3W_FID: G3W_FID,\n  GEOMETRY_FIELDS: GEOMETRY_FIELDS,\n  GEOMETRY_TYPES: GEOMETRY_TYPES,\n  LIST_OF_RELATIONS_TITLE: LIST_OF_RELATIONS_TITLE,\n  LIST_OF_RELATIONS_ID: LIST_OF_RELATIONS_ID,\n  LOCALSTORAGE_EXTERNALWMS_ITEM: LOCALSTORAGE_EXTERNALWMS_ITEM,\n  MAP_SETTINGS: MAP_SETTINGS,\n  PRINT_FORMATS: PRINT_FORMATS,\n  PRINT_RESOLUTIONS: PRINT_RESOLUTIONS,\n  PRINT_SCALES: PRINT_SCALES,\n  QUERY_POINT_TOLERANCE: QUERY_POINT_TOLERANCE,\n  SEARCH_ALLVALUE: SEARCH_ALLVALUE,\n  SEARCH_RETURN_TYPES: SEARCH_RETURN_TYPES,\n  TIMEOUT: TIMEOUT,\n  TOC_LAYERS_INIT_STATUS: TOC_LAYERS_INIT_STATUS,\n  TOC_THEMES_INIT_STATUS: TOC_THEMES_INIT_STATUS,\n  VIEWPORT: VIEWPORT,\n  ZINDEXES: ZINDEXES\n};\n\n},{\"../version\":369}],6:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction BaseService() {\n  var _this = this;\n\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this.project = project;\n  });\n  this.project = _projects2.default.getCurrentProject();\n}\n\nvar proto = BaseService.prototype;\n/**\n *\n * @param request is a Promise(jquery promise at moment\n * @returns {Promise<unknown>}\n */\nproto.handleRequest = function (request) {\n  //  OVERWRITE TO SERVICE\n};\n\nproto.handleResponse = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = BaseService;\n\n},{\"store/projects\":367}],7:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Layer = require('core/layers/layer');\n\n// class Editor bind editor to layer to do main actions\nfunction Editor() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    save: function save() {\n      this._save();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    setFeatures: function setFeatures() {\n      var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this._setFeatures(features);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    }\n  };\n  base(this);\n  // filter to getFeaturerequest\n  this._filter = {\n    bbox: null\n  };\n\n  this._allfeatures = false;\n  // referred layer\n  this._layer = options.layer;\n  // editing featurestore\n  this._featuresstore = this._layer.getType() === Layer.LayerTypes.TABLE ? new FeaturesStore() : new OlFeaturesStore();\n  // editor is active or not\n  this._started = false;\n  // not editable fields\n  this._noteditablefileds = this._layer.getEditingNotEditableFields() || [];\n}\n\ninherit(Editor, G3WObject);\n\nvar proto = Editor.prototype;\n\nproto._canDoGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = true;\n  if (this._layer.getType() === Layer.LayerTypes.VECTOR) {\n    var _ref = options.filter || {},\n        bbox = _ref.bbox;\n\n    if (bbox) {\n      if (!this._filter.bbox) this._filter.bbox = bbox;else if (!ol.extent.containsExtent(this._filter.bbox, bbox)) {\n        this._filter.bbox = ol.extent.extend(this._filter.bbox, bbox);\n      } else doRequest = false;\n    }\n  }\n  return doRequest;\n};\n\nproto.getEditingSource = function () {\n  return this._featuresstore;\n};\n\n/**\n * get Source\n */\nproto.getSource = function () {\n  this._layer.getSource();\n};\n\nproto._applyChanges = function () {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  _editing2.default.execute(this._featuresstore, items, reverse);\n};\n\nproto.setChanges = function (items, reverse) {\n  this._applyChanges(items, reverse);\n};\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n  return this._layer;\n};\n\nproto.removeNotEditablePropriertiesFromFeature = function (feature) {\n  this._noteditablefileds.forEach(function (field) {\n    return feature.unset([field]);\n  });\n};\n\n//clone features method\nproto._cloneFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return features.map(function (feature) {\n    return feature.clone();\n  });\n};\n\nproto._addFeaturesFromServer = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features = this._cloneFeatures(features);\n  this._featuresstore.addFeatures(features);\n};\n\nproto._doGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = _applicationState2.default.online && !this._allfeatures;\n  return doRequest && this._canDoGetFeaturesRequest(options);\n};\n\n// get features from server method\nproto._getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var doRequest = this._doGetFeaturesRequest(options);\n  if (!doRequest) d.resolve();else this._layer.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      _this._addFeaturesFromServer(features);\n      _this._allfeatures = !options.filter;\n      return d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var d = $.Deferred();\n  var features = this._cloneFeatures(this._layer.readFeatures());\n  this._featuresstore.setFeatures(features);\n  d.resolve();\n  return d.promise();\n};\n\nproto.rollback = function () {\n  var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var d = $.Deferred();\n  this._applyChanges(changes, true);\n  d.resolve();\n  return d.promise();\n};\n\nproto.applyChangesToNewRelationsAfterCommit = function (relationsResponse) {\n  for (var relationLayerId in relationsResponse) {\n    var response = relationsResponse[relationLayerId];\n    var layer = this.getLayerById(relationLayerId);\n    var editingLayerSource = this.getEditingLayer(relationLayerId).getEditingSource();\n    var features = editingLayerSource.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    layer.getSource().setFeatures(features);\n    layer.applyCommitResponse({\n      response: response,\n      result: true\n    });\n    editingLayerSource.setFeatures(layer.getSource().readFeatures());\n  }\n};\n\nproto.setFieldValueToRelationField = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relationId = _ref2.relationId,\n      ids = _ref2.ids,\n      field = _ref2.field,\n      _ref2$values = _ref2.values,\n      values = _ref2$values === undefined ? [] : _ref2$values;\n\n  var editingLayerSource = _sessions2.default.getSession(relationId).getEditor().getEditingSource();\n  ids.forEach(function (id) {\n    var feature = editingLayerSource.getFeatureById(id);\n    if (feature) {\n      var fieldvalue = feature.get(field);\n      fieldvalue == values[0] && feature.set(field, values[1]);\n    }\n  });\n};\n\n// apply response data from server in case of new inserted feature\nproto.applyCommitResponse = function () {\n  var _this2 = this;\n\n  var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (response && response.result) {\n    var data = response.response;\n\n    var ids = data.new;\n    var lockids = data.new_lockids;\n    ids.forEach(function (idobj) {\n      var feature = _this2._featuresstore.getFeatureById(idobj.clientid);\n      feature.setId(idobj.id);\n      feature.setProperties(idobj.properties);\n      relations.forEach(function (relation) {\n        Object.entries(relation).forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              relationId = _ref4[0],\n              options = _ref4[1];\n\n          var value = feature.get(options.fatherField);\n          _this2.setFieldValueToRelationField({\n            relationId: relationId,\n            ids: options.ids,\n            field: options.childField,\n            values: [idobj.clientid, value]\n          });\n        });\n      });\n    });\n    var features = this._featuresstore.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    this._layer.setFeatures(features);\n    this._layer.getSource().addLockIds(lockids);\n  }\n};\n\nproto.getLockIds = function () {\n  return this._layer.getSource().getLockIds();\n};\n\n// run after server apply changed to origin resource\nproto.commit = function (commitItems) {\n  var _this3 = this;\n\n  var d = $.Deferred();\n  // in case of relations bind to new feature\n  var relations = commitItems.add.length ? Object.keys(commitItems.relations).map(function (relationId) {\n    var layerRelation = _this3._layer.getRelations().getRelationByFatherChildren(_this3._layer.getId(), relationId);\n    var updates = commitItems.relations[relationId].update.map(function (relation) {\n      return relation.id;\n    });\n    var add = commitItems.relations[relationId].add.map(function (relation) {\n      return relation.id;\n    });\n    return _defineProperty({}, relationId, {\n      ids: [].concat(_toConsumableArray(add), _toConsumableArray(updates)),\n      fatherField: layerRelation.getFatherField(),\n      childField: layerRelation.getChildField()\n    });\n  }) : [];\n  this._layer.commit(commitItems).then(function (promise) {\n    promise.then(function (response) {\n      _this3.applyCommitResponse(response, relations);\n      d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//start editing function\nproto.start = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  // load features of layer based on filter type\n  this.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      // the features are already inside featuresstore\n      d.resolve(features);\n      //if all ok set to started\n      _this4._started = true;\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//action to layer\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  this._featuresstore.deleteFeature(feature);\n};\n\nproto._updateFeature = function (feature) {\n  this._featuresstore.updateFeature(feature);\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.readFeatures = function () {\n  return this._layer.readFeatures();\n};\n\nproto.readEditingFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// stop editor\nproto.stop = function () {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  this._layer.unlock().then(function (response) {\n    _this5.clear();\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//run save layer\nproto._save = function () {\n  this._layer.save();\n};\n\nproto.isStarted = function () {\n  return this._started;\n};\n\nproto.clear = function () {\n  this._started = false;\n  this._filter.bbox = null;\n  this._allfeatures = false;\n  this._featuresstore.clear();\n  this._layer.getFeaturesStore().clear();\n  this._layer.getType() === Layer.LayerTypes.VECTOR && this._layer.resetEditingSource(this._featuresstore.getFeaturesCollection());\n};\n\nmodule.exports = Editor;\n\n},{\"core/g3wobject\":13,\"core/layers/features/featuresstore\":28,\"core/layers/features/olfeaturesstore\":29,\"core/layers/layer\":35,\"core/utils/utils\":68,\"services/editing\":347,\"store/application-state\":361,\"store/sessions\":368}],8:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction History() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id;\n  base(this);\n  // registered all changes\n  /*\n  *{\n  * _states: [\n  *     {\n  *       id: unique key\n  *       state: [state] // example: history contsins features state\n  *                      // array because a tool can apply changes to more than one features at time (split di una feature)\n  *     },\n  *     {\n  *       id: unique key\n  *       state: [state]\n  *     },\n  *   ]\n  *     ....\n  *\n  *  _current: unique key // usefult to undo redo\n  *\n  *\n  * */\n  // set maximun \"buffer history\" lenght for  undo redo\n  this._maxSteps = 10;\n  this._states = [];\n  // reactive state of histrory\n  this.state = {\n    commit: false,\n    undo: false,\n    redo: false\n  };\n  this._current = null; // store the current state of history (useful for undo /redo)\n}\n\ninherit(History, G3WObject);\n\nvar proto = History.prototype;\n\nproto.add = function (uniqueId, items) {\n  var _this = this;\n\n  //state object is an array of feature/features changed in a transaction\n  var d = $.Deferred();\n  // before insert an item into the history\n  // check if are at last state step (no redo was done)\n  // in this way avoid starge barch in the history\n  //If we are in the middle of undo, delete all changes in the histroy from the current \"state\"\n  // so i can create a new history\n\n  if (this._current === null) {\n    this._states = [{\n      id: uniqueId,\n      items: items\n    }];\n  } else {\n    if (this._states.length && this._current < this.getLastState().id) this._states = this._states.filter(function (state) {\n      return state.id <= _this._current;\n    });\n    this._states.push({\n      id: uniqueId,\n      items: items\n    });\n  }\n\n  this._current = uniqueId;\n  this._setState();\n  // return unique id key\n  // it can be used in save relation\n  d.resolve(uniqueId);\n  return d.promise();\n};\n\nproto.getRelationStates = function (layerId) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === undefined ? false : _ref$clear;\n\n  var relationStates = [];\n  for (var _i = 0; _i < this._states.length; _i++) {\n    var state = this._states[_i];\n    var relationItems = state.items.filter(function (item) {\n      var _layerId = Array.isArray(item) ? item[0].layerId : item.layerId;\n      return _layerId === layerId;\n    });\n    relationItems.length && relationStates.push({\n      id: state.id,\n      items: relationItems\n    });\n  }\n  return relationStates;\n};\n\nproto.insertState = function (state) {\n  var stateId = state.id;\n  var index = this._states.length;\n  for (var _i2 = 0; _i2 < this._states.length; _i2++) {\n    var _state = this._states[_i2];\n    if (_state.id > stateId) {\n      index = _i2;\n      break;\n    } else if (_state.id === stateId) index = -1;\n    break;\n  }\n  if (index > -1) {\n    if (this._current < stateId) this._current = stateId;\n    this._states.splice(index, 0, state);\n  }\n};\n\nproto.removeState = function (stateId) {\n  var index = void 0;\n  for (i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.id === stateId) {\n      index = i;\n      break;\n    }\n  }\n  if (this._current === stateId) this._current = this._states.length > 1 ? this._states[index - 1].id : null;\n  this._states.splice(index, 1);\n};\n\nproto.removeStates = function () {\n  var stateIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i3 = 0; _i3 < stateIds.length; _i3++) {\n    var stateId = stateIds[_i3];\n    this.removeState(stateId);\n  }\n};\n\nproto.insertStates = function () {\n  var states = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i4 = 0; _i4 < states.length; _i4++) {\n    this.insertState(states[_i4]);\n  }\n  this.canCommit();\n};\n\n// internal method to change the state of the  history when we check\n// a call to a function that modify the hsitory state\nproto._setState = function () {\n  this.canUndo();\n  this.canCommit();\n  this.canRedo();\n};\n\n//check if was did an update (update are array contains two items , old e new value)\nproto._checkItems = function (items, action) {\n  var _this2 = this;\n\n  /**\n   * action: <reffererd to array index>\n   *  0: undo;\n   *  1: redo;\n   **/\n  var newItems = {\n    own: [], //array of changes of layer of the current session\n    dependencies: {} // dependencies\n  };\n  items.forEach(function (item) {\n    if (Array.isArray(item)) item = item[action];\n    // check if belong to session\n    if (_this2.id === item.layerId) {\n      newItems.own.push(item);\n    } else {\n      if (!newItems.dependencies[item.layerId]) newItems.dependencies[item.layerId] = {\n        own: [],\n        dependencies: {}\n      };\n      newItems.dependencies[item.layerId].own.push(item);\n    }\n  });\n  return newItems;\n};\n\n// method undo\nproto.undo = function () {\n  var _this3 = this;\n\n  var items = void 0;\n  if (this._current === this.getFirstState().id) {\n    this._current = null;\n    items = this._states[0].items;\n  } else {\n    this._states.find(function (state, idx) {\n      if (state.id === _this3._current) {\n        items = _this3._states[idx].items;\n        _this3._current = _this3._states[idx - 1].id;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 0);\n  this._setState();\n  return items;\n};\n\n//method redo\nproto.redo = function () {\n  var _this4 = this;\n\n  var items = void 0;\n  // if not set get first state\n  if (!this._current) {\n    items = this._states[0].items;\n    // set current to first\n    this._current = this._states[0].id;\n  } else {\n    this._states.find(function (state, idx) {\n      if (_this4._current === state.id) {\n        _this4._current = _this4._states[idx + 1].id;\n        items = _this4._states[idx + 1].items;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 1);\n  this._setState();\n  return items;\n};\n\nproto.setItemsFeatureIds = function () {\n  var _this5 = this;\n\n  var unsetnewids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  unsetnewids.forEach(function (unsetnewid) {\n    var id = unsetnewid.id,\n        clientid = unsetnewid.clientid;\n\n    _this5._states.forEach(function (state) {\n      var items = state.items;\n\n      items.forEach(function (item) {\n        var feature = item.feature.getId() === clientid && item.feature;\n        if (feature) {\n          feature.setId(id);\n        }\n      });\n    });\n  });\n};\n\nproto.clear = function (ids) {\n  var _this6 = this;\n\n  if (ids) this._states.forEach(function (state, idx) {\n    if (ids.indexOf(state.id) !== -1) {\n      if (_this6._current && _this6._current === state.id()) _this6.undo();\n      _this6._states.splice(idx, 1);\n    }\n  });else this._clearAll();\n};\n\nproto._clearAll = function () {\n  this._states = [];\n  this._current = null;\n  this.state.commit = false;\n  this.state.redo = false;\n  this.state.undo = false;\n};\n\nproto.getState = function (id) {\n  return this._states.find(function (state) {\n    return state.id === id;\n  });\n};\n\nproto.getFirstState = function () {\n  return this._states.length ? this._states[0] : null;\n};\n\nproto.getLastState = function () {\n  var length = this._states.length;\n  return length ? this._states[length - 1] : null;\n};\n\nproto.getCurrentState = function () {\n  var _this7 = this;\n\n  var currentState = null;\n  if (this._current && this._states.length) {\n    currentState = this._states.find(function (state) {\n      return _this7._current === state.id;\n    });\n  }\n  return currentState;\n};\n\n// funzione che mi permette di ricavarel'indice dello stato corrente\nproto.getCurrentStateIndex = function () {\n  var _this8 = this;\n\n  var currentStateIndex = null;\n  if (this._current && this._states.length) {\n    this._states.forEach(function (state, idx) {\n      if (_this8._current === state.id) {\n        currentStateIndex = idx;\n        return false;\n      }\n    });\n  }\n  return currentStateIndex;\n};\n\n// method that response true if we can commit\nproto.canCommit = function () {\n  var checkCommitItems = this.commit();\n  var canCommit = false;\n  for (var layerId in checkCommitItems) {\n    var commitItem = checkCommitItems[layerId];\n    canCommit = canCommit || !!commitItem.length;\n  }\n  this.state.commit = canCommit;\n  return this.state.commit;\n};\n\n//cauUdo method\nproto.canUndo = function () {\n  var steps = this._states.length - 1 - this.getCurrentStateIndex();\n  this.state.undo = !_.isNull(this._current) && this._maxSteps > steps;\n  return this.state.undo;\n};\n\n// Caon Redo function\nproto.canRedo = function () {\n  this.state.redo = this.getLastState() && this.getLastState().id != this._current || _.isNull(this._current) && this._states.length > 0;\n  return this.state.redo;\n};\n\nproto._getStatesToCommit = function () {\n  var _this9 = this;\n\n  return this._states.filter(function (state) {\n    return state.id <= _this9._current;\n  });\n};\n\n//get all changes to send to server (mandare al server)\nproto.commit = function () {\n  var commitItems = {};\n  var statesToCommit = this._getStatesToCommit();\n  statesToCommit.forEach(function (state) {\n    state.items.forEach(function (item) {\n      var add = true;\n      if (Array.isArray(item)) item = item[1];\n      commitItems[item.layerId] && commitItems[item.layerId].forEach(function (commitItem, index) {\n        // check if already inserted feature\n        if (commitItem.getUid() === item.feature.getUid()) {\n          if (item.feature.isNew() && !commitItem.isDeleted() && item.feature.isUpdated()) {\n            var _item = item.feature.clone();\n            _item.add();\n            commitItems[item.layerId][index] = _item;\n          } else if (item.feature.isNew() && item.feature.isDeleted()) {\n            commitItems[item.layerId].splice(index, 1);\n          } else if (item.feature.isUpdated() || item.feature.isDeleted()) commitItems[item.layerId][index] = item.feature;\n          add = false;\n          return false;\n        }\n      });\n      if (add) {\n        var feature = item.feature;\n        var layerId = item.layerId;\n        if (!(!feature.isNew() && feature.isAdded())) {\n          if (!commitItems[layerId]) commitItems[layerId] = [];\n          commitItems[layerId].push(feature);\n        }\n      }\n    });\n  });\n  return commitItems;\n};\n\nmodule.exports = History;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],9:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar History = require('core/editing/history');\nvar Layer = require('core/layers/layer');\n\nvar is3DGeometry = require('core/utils/geo').Geometry.is3DGeometry;\n\nfunction Session() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    start: function start() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._start(options);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    stop: function stop() {\n      return this._stop();\n    },\n    saveChangesOnServer: function saveChangesOnServer(commitItems) {} // hook to get informed that are saved on server\n\n  };\n  base(this, options);\n\n  this.state = {\n    id: options.id,\n    started: false,\n    getfeatures: false\n  };\n  // editor\n  this._editor = options.editor;\n  this._history = new History({\n    id: this.state.id\n  });\n  this._temporarychanges = [];\n  this.register();\n}\n\ninherit(Session, G3WObject);\n\nvar proto = Session.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getLastHistoryState = function () {\n  return this._history.getLastState();\n};\n\nproto.getLastStateId = function () {\n  return this._history.getLastState().id;\n};\n\nproto.deleteState = function (stateId) {\n  this._history.removeState(stateId);\n};\n\nproto.register = function () {\n  _sessions2.default.register(this);\n};\n\nproto.unregister = function () {\n  _sessions2.default.unregister(this.getId());\n};\n\nproto._start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._editor.start(options).then(function (features) {\n    _this.state.started = true;\n    d.resolve(features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\n//method to getFeature from server by editor\nproto._getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (!this._allfeatures) {\n    this._allfeatures = !options.filter;\n    this._editor.getFeatures(options).then(function (promise) {\n      promise.then(function (features) {\n        _this2.state.getfeatures = true;\n        d.resolve(features);\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n    });\n  } else d.resolve([]);\n\n  return d.promise();\n};\n\nproto.isStarted = function () {\n  return this.state.started;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\n// it used to save temporary changes to the layer\n// in history instance and feature store\nproto.save = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //fill history\n  var d = $.Deferred();\n  // add temporary modify to history\n  if (this._temporarychanges.length) {\n    var uniqueId = options.id || Date.now();\n    this._history.add(uniqueId, this._temporarychanges).then(function () {\n      // clear to temporary changes\n      _this3._temporarychanges = [];\n      // resolve if uniqeu id\n      d.resolve(uniqueId);\n    });\n  } else {\n    d.resolve(null);\n  }\n  return d.promise();\n};\n\nproto.updateTemporaryChanges = function (feature) {\n  this._temporarychanges.forEach(function (change) {\n    change.feature.setProperties(feature.getProperties());\n  });\n};\n\n// method to add temporary feature\nproto.pushAdd = function (layerId, feature) {\n  var removeNotEditableProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  /**\n   * Please take care of this to understand\n   */\n  removeNotEditableProperties && this._editor.removeNotEditablePropriertiesFromFeature(feature);\n  var newFeature = feature.clone();\n  this.push({\n    layerId: layerId,\n    feature: newFeature.add()\n  });\n  return newFeature;\n};\n\n// delete temporary feature\nproto.pushDelete = function (layerId, feature) {\n  this.push({\n    layerId: layerId,\n    feature: feature.delete()\n  });\n  return feature;\n};\n\n// add temporary feature changes\nproto.pushUpdate = function (layerId, newFeature, oldFeature) {\n  // in case of change attribute immediately after create feature\n  if (newFeature.isNew()) {\n    var temporarynewfeatureIndex = this._temporarychanges.findIndex(function (change) {\n      return change.layerId === layerId && change.feature.getId() === newFeature.getId();\n    });\n    if (temporarynewfeatureIndex !== -1) {\n      var feature = newFeature.clone();\n      feature.add();\n      this._temporarychanges[temporarynewfeatureIndex].feature = feature;\n      return;\n    }\n  }\n  this.push({\n    layerId: layerId,\n    feature: newFeature.update()\n  }, {\n    layerId: layerId,\n    feature: oldFeature.update()\n  });\n};\n\nproto.removeChangesFromHistory = function () {\n  var changeIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this._history.removeStates(changeIds);\n};\n\nproto.moveRelationStatesOwnSession = function () {\n  var statesIds = {};\n\n  var _getCommitItems = this.getCommitItems(),\n      relationItems = _getCommitItems.relations;\n\n  for (var relationLayerId in relationItems) {\n    var relationStates = this._history.getRelationStates(relationLayerId);\n    var relationSession = _sessions2.default.getSession(relationLayerId);\n    relationSession._history.insertStates(relationStates);\n    statesIds[relationLayerId] = relationStates.map(function (state) {\n      return state.id;\n    });\n  }\n  return statesIds;\n};\n\n// it used to add temporary features\n// that will be added with save method\nproto.push = function (New, Old) {\n  /*\n  New e Old saranno oggetti contenti {\n      layerId: xxxx,\n      feature: feature\n    }\n   */\n  // check is set old (edit)\n  var feature = Old ? [Old, New] : New;\n  this._temporarychanges.push(feature);\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  this._editor.revert().then(function () {\n    _this4._history.clear();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// handle temporary changes of layer\nproto._filterChanges = function () {\n  var id = this.getId();\n  var changes = {\n    own: [],\n    dependencies: {}\n  };\n  this._temporarychanges.forEach(function (temporarychange) {\n    var change = Array.isArray(temporarychange) ? temporarychange[0] : temporarychange;\n    if (change.layerId === id) changes.own.push(change);else {\n      if (!changes.dependencies[change.layerId]) changes.dependencies[change.layerId] = [];\n      // FILO\n      changes.dependencies[change.layerId].unshift(change);\n    }\n  });\n  return changes;\n};\n\nproto.rollback = function (changes) {\n  if (changes) return this._editor.rollback(changes);else {\n    var d = $.Deferred();\n    var _changes = this._filterChanges();\n    this._editor.rollback(_changes.own).then(function () {\n      var dependencies = _changes.dependencies;\n\n      for (var id in dependencies) {\n        _sessions2.default.getSession(id).rollback(dependencies[id]);\n      }\n      d.resolve(dependencies);\n    });\n    this._temporarychanges = [];\n    return d.promise();\n  }\n};\n\n/**\n * Rollback child changes of current session\n * @param ids [array of child layer id]\n */\nproto.rollbackDependecies = function () {\n  var _this5 = this;\n\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  ids.forEach(function (id) {\n    var changes = [];\n    _this5._temporarychanges = _this5._temporarychanges.filter(function (temporarychange) {\n      if (temporarychange.layerId === id) {\n        changes.push(temporarychange);\n        return false;\n      }\n    });\n    changes.length && _sessions2.default.getSession(id).rollback(changes);\n  });\n};\n\n// method undo\nproto.undo = function (items) {\n  items = items || this._history.undo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\n// method redo\nproto.redo = function (items) {\n  items = items || this._history.redo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\nproto._serializeCommit = function (itemsToCommit) {\n  var id = this.getId();\n  var state = void 0;\n  var layer = void 0;\n  var commitObj = {\n    add: [],\n    update: [],\n    delete: [],\n    relations: {}\n  };\n  for (var key in itemsToCommit) {\n    var isRelation = false;\n    var items = itemsToCommit[key];\n    if (key !== id) {\n      isRelation = true;\n      var sessionRelation = _sessions2.default.getSession(key);\n      var lockids = sessionRelation ? sessionRelation.getEditor().getLockIds() : [];\n      commitObj.relations[key] = {\n        lockids: lockids,\n        add: [],\n        update: [],\n        delete: []\n      };\n      layer = commitObj.relations[key];\n    } else layer = commitObj;\n    items.forEach(function (item) {\n      state = item.getState();\n      var GeoJSONFormat = new ol.format.GeoJSON();\n      switch (state) {\n        case 'delete':\n          if (!item.isNew()) layer.delete.push(item.getId());\n          break;\n        default:\n          var value = GeoJSONFormat.writeFeatureObject(item);\n          var childs_properties = item.getProperties();\n          for (var _key in value.properties) {\n            if (value.properties[_key] && _typeof(value.properties[_key]) === 'object' && value.properties[_key].constructor === Object) value.properties[_key] = value.properties[_key].value;\n            if (value.properties[_key] === undefined && childs_properties[_key]) value.properties[_key] = childs_properties[_key];\n          }\n          var action = item.isNew() ? 'add' : item.getState();\n          // in case of add i have to remove non editable properties\n          layer[action].push(value);\n          break;\n      }\n    });\n    // check in case of no edit remove relation key\n    if (isRelation && !layer.add.length && !layer.update.length && !layer.delete.length) {\n      delete commitObj.relations[key];\n    }\n  }\n  return commitObj;\n};\n\nproto.getCommitItems = function () {\n  var commitItems = this._history.commit();\n  return this._serializeCommit(commitItems);\n};\n\n/**\n *\n * Set geometry: {type} of geojson to a 3D type if needed\n * @param layerId\n * @param commitItems\n */\nproto.set3DGeometryType = function () {\n  var _this6 = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$layerId = _ref.layerId,\n      layerId = _ref$layerId === undefined ? this.getId() : _ref$layerId,\n      commitItems = _ref.commitItems;\n\n  var relations = commitItems.relations;\n\n  var editingLayer = _mapLayers2.default.getLayerById(layerId).getEditingLayer();\n  // check id there is a editing layer and if is a vector layer\n  if (editingLayer && editingLayer.getType() === Layer.LayerTypes.VECTOR) {\n    // get Geometry type layer\n    var geometryType = editingLayer.getGeometryType();\n    // if is a 3D layer i set on geoJON before send it to server\n    if (is3DGeometry(geometryType)) {\n      ['add', 'update'].forEach(function (action) {\n        commitItems[action].forEach(function (feature) {\n          return feature.geometry.type = geometryType;\n        });\n      });\n    }\n  }\n  // the same control of relations layers\n  Object.keys(relations).forEach(function (layerId) {\n    return _this6.set3DGeometryType({\n      layerId: layerId,\n      commitItems: relations[layerId]\n    });\n  });\n};\n\nproto.commit = function () {\n  var _this7 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$ids = _ref2.ids,\n      ids = _ref2$ids === undefined ? null : _ref2$ids,\n      items = _ref2.items,\n      _ref2$relations = _ref2.relations,\n      relations = _ref2$relations === undefined ? true : _ref2$relations;\n\n  var d = $.Deferred();\n  var commitItems = void 0;\n  if (ids) {\n    commitItems = this._history.commit(ids);\n    this._history.clear(ids);\n  } else {\n    if (items) commitItems = items;else {\n      commitItems = this._history.commit();\n      commitItems = this._serializeCommit(commitItems);\n    }\n    if (!relations) commitItems.relations = {};\n    this._editor.commit(commitItems).then(function (response) {\n      if (response && response.result) {\n        var data = response.response;\n        var _data$new_relations = data.new_relations,\n            new_relations = _data$new_relations === undefined ? {} : _data$new_relations;\n\n        for (var id in new_relations) {\n          var session = _sessions2.default.getSession(id);\n          session.getEditor().applyCommitResponse({\n            response: new_relations[id],\n            result: true\n          });\n        }\n        _this7._history.clear();\n        _this7.saveChangesOnServer(commitItems);\n        d.resolve(commitItems, response);\n      } else d.reject(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._canStop = function () {\n  return this.state.started || this.state.getfeatures;\n};\n\n//stop session\nproto._stop = function () {\n  var _this8 = this;\n\n  var d = $.Deferred();\n  if (this._canStop()) this._editor.stop().then(function () {\n    _this8.clear();\n    d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.resolve();\n  return d.promise();\n};\n\n// clear all things bind to session\nproto.clear = function () {\n  this._allfeatures = false;\n  this.state.started = false;\n  this.state.getfeatures = false;\n  this.clearHistory();\n  this._editor.clear();\n};\n\n//return l'history\nproto.getHistory = function () {\n  return this._history;\n};\n\n// clear history\nproto.clearHistory = function () {\n  this._history.clear();\n};\n\nmodule.exports = Session;\n\n},{\"core/editing/history\":8,\"core/g3wobject\":13,\"core/layers/layer\":35,\"core/utils/geo\":65,\"core/utils/utils\":68,\"store/map-layers\":365,\"store/sessions\":368}],10:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar serverErrorParser = function serverErrorParser() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._error = options.error;\n};\n\nvar proto = serverErrorParser.prototype;\n\nproto.parse = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'responseJSON' : _ref$type;\n\n  var error_message = \"server_saver_error\";\n  function traverseErrorMessage(errorObject) {\n    var entries = Object.entries(errorObject);\n    var entry = entries.find(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          value = _ref3[1];\n\n      return key === 'fields';\n    });\n    if (entry) {\n      var _entry = _slicedToArray(entry, 2),\n          value = _entry[1];\n\n      try {\n        if (typeof value === 'string') {\n          var _entries$find = entries.find(function (_ref4) {\n            var _ref5 = _slicedToArray(_ref4, 2),\n                key = _ref5[0],\n                value = _ref5[1];\n\n            return key !== 'fields';\n          }),\n              _entries$find2 = _slicedToArray(_entries$find, 1),\n              field = _entries$find2[0];\n\n          error_message = '[' + field + '] ' + value;\n        } else {\n          error_message = '';\n          Object.entries(value).forEach(function (_ref6) {\n            var _ref7 = _slicedToArray(_ref6, 2),\n                field = _ref7[0],\n                error = _ref7[1];\n\n            error_message = '' + error_message + field + ' ' + (Array.isArray(error) ? error[0] : error) + ' \\n';\n          });\n        }\n      } catch (err) {}\n      return error_message.replace(/\\:|\\./g, '');\n    } else {\n      var _entries$ = _slicedToArray(entries[0], 2),\n          _value = _entries$[1];\n\n      if (!Array.isArray(_value) && (typeof _value === 'undefined' ? 'undefined' : _typeof(_value)) === 'object') return traverseErrorMessage(_value);\n    }\n  }\n  if (type === 'responseJSON') {\n    if (this._error && this._error.responseJSON && this._error.responseJSON.error.message) return this._error.responseJSON.error.message;else if (this._error && this._error.errors) return traverseErrorMessage(this._error.errors);\n  } else if (type === 'String') {\n    if (typeof this._error === 'string') return this._error;else return traverseErrorMessage(this._error);\n  }\n  return t(\"server_saver_error\");\n};\n\nmodule.exports = serverErrorParser;\n\n},{\"core/i18n/i18n.service\":14}],11:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  /**\n   * handleFilterExpressionFormInput\n   * @param field\n   * @param feature\n   * @param qgs_layer_id\n   * @returns {Promise<void|unknown>}\n   */\n  handleFilterExpressionFormInput: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref2.field,\n          feature = _ref2.feature,\n          qgs_layer_id = _ref2.qgs_layer_id,\n          parentData = _ref2.parentData;\n\n      var form_data, options, key, value, _options$layer_id, layer_id, filter_expression, loading, features, values, i;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              form_data = convertFeatureToGEOJSON(feature);\n              options = field.input.options;\n              key = options.key, value = options.value, _options$layer_id = options.layer_id, layer_id = _options$layer_id === undefined ? qgs_layer_id : _options$layer_id, filter_expression = options.filter_expression, loading = options.loading;\n\n              if (!filter_expression) {\n                _context.next = 27;\n                break;\n              }\n\n              loading.state = 'loading';\n              _context.prev = 5;\n              _context.next = 8;\n              return _data2.default.getData('expression:expression', {\n                inputs: {\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id, // layer id owner of the data\n                  form_data: form_data,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  },\n                  formatter: 0,\n                  expression: filter_expression.expression\n                },\n                outputs: false\n              });\n\n            case 8:\n              features = _context.sent;\n              _context.t0 = field.input.type;\n              _context.next = _context.t0 === 'select_autocomplete' ? 12 : 18;\n              break;\n\n            case 12:\n              field.input.options.values = [];\n              /**\n               * Use a temporary array to sort the keys\n               * @type {*[]}\n               */\n              values = [];\n\n              for (i = 0; i < features.length; i++) {\n                values.push({\n                  key: features[i].properties[key],\n                  value: features[i].properties[value]\n                });\n              }\n              values.sort(function (_ref3, _ref4) {\n                var aKey = _ref3.key;\n                var bKey = _ref4.key;\n\n                if (typeof aKey === 'string') {\n                  aKey = aKey.toLowerCase();\n                  bKey = bKey.toLowerCase();\n                }\n                if (aKey < bKey) return -1;\n                if (aKey > bKey) return 1;\n                return 0;\n              });\n              field.input.options.values = values;\n              return _context.abrupt('break', 18);\n\n            case 18:\n              return _context.abrupt('return', features);\n\n            case 21:\n              _context.prev = 21;\n              _context.t1 = _context['catch'](5);\n              return _context.abrupt('return', Promise.reject(_context.t1));\n\n            case 24:\n              _context.prev = 24;\n\n              loading.state = 'ready';\n              return _context.finish(24);\n\n            case 27:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[5, 21, 24, 27]]);\n    }));\n\n    function handleFilterExpressionFormInput() {\n      return _ref.apply(this, arguments);\n    }\n\n    return handleFilterExpressionFormInput;\n  }(),\n\n  /*\n  *handleDefaultExpressionFormInput\n   */\n  handleDefaultExpressionFormInput: function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref6.field,\n          feature = _ref6.feature,\n          qgs_layer_id = _ref6.qgs_layer_id,\n          parentData = _ref6.parentData;\n\n      var form_data, options, _options$layer_id2, layer_id, default_expression, loading, value;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              form_data = convertFeatureToGEOJSON(feature);\n              options = field.input.options;\n              _options$layer_id2 = options.layer_id, layer_id = _options$layer_id2 === undefined ? qgs_layer_id : _options$layer_id2, default_expression = options.default_expression, loading = options.loading;\n\n              if (!default_expression) {\n                _context2.next = 19;\n                break;\n              }\n\n              loading.state = 'loading';\n              /**\n               * In case of default_expression call expression_eval to get value from expression and set it to field\n               */\n              _context2.prev = 5;\n              _context2.next = 8;\n              return _data2.default.getData('expression:expression_eval', {\n                inputs: {\n                  layer_id: layer_id, //\n                  qgs_layer_id: qgs_layer_id, //layer id owner of the data\n                  form_data: form_data,\n                  formatter: 0,\n                  expression: default_expression.expression,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  }\n                },\n                outputs: false\n              });\n\n            case 8:\n              value = _context2.sent;\n\n              field.value = value;\n              return _context2.abrupt('return', value);\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2['catch'](5);\n              return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n            case 16:\n              _context2.prev = 16;\n\n              loading.state = 'ready';\n              return _context2.finish(16);\n\n            case 19:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[5, 13, 16, 19]]);\n    }));\n\n    function handleDefaultExpressionFormInput() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return handleDefaultExpressionFormInput;\n  }()\n};\n\n},{\"core/utils/geo\":65,\"services/data\":346}],12:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    getFormDataExpressionRequestFromFeature = _require.getFormDataExpressionRequestFromFeature,\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  getVisibility: function getVisibility(_ref) {\n    var qgs_layer_id = _ref.qgs_layer_id,\n        expression = _ref.expression,\n        _ref$feature = _ref.feature,\n        feature = _ref$feature === undefined ? {} : _ref$feature,\n        contenttype = _ref.contenttype;\n\n    var formatter = contenttype === 'query' ? 1 : 0;\n    var form_data = contenttype === 'editing' ? convertFeatureToGEOJSON(feature) : getFormDataExpressionRequestFromFeature(feature);\n    return _data2.default.getData('expression:expression_eval', {\n      inputs: {\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter\n      },\n      outputs: false\n    });\n  }\n};\n\n},{\"core/utils/geo\":65,\"services/data\":346}],13:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop,\n    debounce = _require.debounce,\n    throttle = _require.throttle;\n\n/**\n * Base object to handle a setter and its listeners.\n * @constructor\n */\n\n\nvar G3WObject = function G3WObject() {\n  //check if setters property is set. Register the chain of events\n  this.setters && this._setupListenersChain(this.setters);\n  // check debounces\n  this.debounces && this._setupDebounces(this.debounces);\n  //check throttles\n  this.throttles && this._setupThrottles(this.throttles);\n};\n\ninherit(G3WObject, EventEmitter);\n\nvar proto = G3WObject.prototype;\n\n/**\n * Insert a listener on afeter setter was executed\n * @param {string} setter - IMethod name to register a listener function\n * @param {function} listener - listener function (only syncron)\n * @param {number} priority - Priorità di esecuzione: valore minore viene eseuito prima\n */\nproto.onafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority);\n};\n\nproto.onceafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority, true);\n};\n\n/**\n * Listern before cal sesster\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority);\n};\n\n// once before\nproto.oncebefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority, true);\n};\n\n/**\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbeforeasync = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, true, priority);\n};\n\nproto.un = function (setter, key) {\n  // cicle on after before (key) and for each settersListeners (array) find key\n  Object.entries(this.settersListeners).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        _key = _ref2[0],\n        settersListeners = _ref2[1];\n\n    if (key === undefined) settersListeners[setter].splice(0);else settersListeners[setter].forEach(function (setterListener, idx) {\n      if (setterListener.key === key) {\n        settersListeners[setter].splice(idx, 1);\n      }\n    });\n  });\n};\n\n// base function to register and handle on<before/after> setter listeners\n/*\n  when=before|after,\n  type=sync|async\n*/\nproto._onsetter = function (when, setter, listener, async) {\n  var priority = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var once = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var listenerKey = void 0;\n  // check if setter function is register.\n  if (typeof this.settersListeners[when][setter] !== \"undefined\") {\n    // set unique listenerKey value\n    listenerKey = '' + (Math.floor(Math.random() * 1000000) + Date.now());\n    // add info object to setters listeners\n    this.settersListeners[when][setter].push({\n      key: listenerKey,\n      fnc: listener,\n      async: async,\n      priority: priority,\n      once: once\n    });\n    // set lineners base on priority\n    this.settersListeners[when][setter] = _.sortBy(this.settersListeners[when][setter], function (setterListener) {\n      return setterListener.priority;\n    });\n  }\n  // return key\n  return listenerKey; // in case of no setter register return undefined listerKey\n};\n\nproto._setupListenersChain = function (setters) {\n  var _this = this;\n\n  // initialize all methods inside object \"setters\" of child class.\n  this.settersListeners = {\n    after: {},\n    before: {}\n  };\n\n  var _loop = function _loop(setter) {\n    var setterOption = setters[setter];\n    var setterFnc = noop;\n    var setterFallback = noop;\n    if (_.isFunction(setterOption)) setterFnc = setterOption;else {\n      setterFnc = setterOption.fnc;\n      setterFallback = setterOption.fallback || noop; // method called in case of error\n    }\n    // create array to push before and after subscribers\n    _this.settersListeners.after[setter] = [];\n    _this.settersListeners.before[setter] = [];\n    // assign the property settern name to the object as own method\n    _this[setter] = function () {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var deferred = $.Deferred();\n      var returnVal = null;\n      var counter = 0;\n      // function to call original function(setter function)\n      var callSetter = function callSetter() {\n        // run setter function\n        returnVal = setterFnc.apply(_this2, args);\n        // resolve promise\n        deferred.resolve(returnVal);\n        //call all subscribed methods afet setter\n        var onceListenerKeys = [];\n        var afterListeners = _this2.settersListeners.after[setter];\n        afterListeners.forEach(function (listener) {\n          listener.fnc.apply(_this2, args);\n          listener.once && onceListenerKeys.push(listener.key);\n        });\n        onceListenerKeys.forEach(function (key) {\n          return _this2.un(setter, key);\n        });\n      };\n      //  abort function\n      var abort = function abort() {\n        setterFallback.apply(_this2, args);\n        deferred.reject();\n      };\n      // get all before listeners functions of setter\n      var beforeListeners = this.settersListeners['before'][setter];\n      // listener counter\n      counter = 0;\n      var next = function next(bool) {\n        // initilize cont to true (continue)\n        var cont = true;\n        // check if bool is Boolean\n        if (_.isBoolean(bool)) cont = bool;\n        // check if count is false or we are arrived to the end of onbefore subscriber\n        if (cont === false) {\n          // found an error so we can abort\n          abort.apply(_this2, args);\n        } else if (counter === beforeListeners.length) {\n          // call complete method methods\n          var completed = callSetter();\n          //verifico che cosa ritorna\n          if (completed === undefined || completed === true) {\n            _this2.emitEvent('set:' + setter, args);\n          }\n        } else if (cont) {\n          var listenerObj = beforeListeners[counter];\n          var currentCounter = counter;\n          // if is async functtion\n          if (beforeListeners[counter].async) {\n            //add function next to argument of listnerFunction\n            args.push(next);\n            // update counter\n            counter += 1;\n            listenerObj.fnc.apply(_this2, args);\n          } else {\n            // return or undefine or a boolen to tell if ok(true) can conitnue or not (false)\n            var _bool = listenerObj.fnc.apply(_this2, args);\n            //update counter\n            counter += 1;\n            next(_bool);\n          }\n          listenerObj.once && beforeListeners.splice(currentCounter, 1);\n        }\n      };\n      // run next to start to run all the subscribers and setrer its self\n      next();\n      // retun a promise\n      return deferred.promise();\n    };\n  };\n\n  for (var setter in setters) {\n    _loop(setter);\n  }\n  return this.settersListeners;\n};\n\nproto._setupDebounces = function (debounces) {\n  for (var name in debounces) {\n    var delay = debounces[name].delay;\n    var fnc = debounces[name].fnc;\n    this[name] = debounce(fnc, delay);\n  }\n};\n\nproto._setupThrottles = function (throttles) {\n  for (var name in throttles) {\n    var delay = throttles[name].delay;\n    var fnc = throttles[name].fnc;\n    this[name] = throttle(fnc, delay);\n  }\n};\n\n//method get\nproto.get = function (key) {\n  return this[key] && !(this[key] instanceof Function) ? this[key] : null;\n};\n\n//method set\nproto.set = function (key, value) {\n  this[key] = value;\n};\n\nmodule.exports = G3WObject;\n\n},{\"core/utils/utils\":68}],14:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// main object content for i18n\nvar plugins18nConfig = {};\n\nfunction init(config) {\n  config.appLanguages.forEach(function (language) {\n    plugins18nConfig[language] = {\n      plugins: {}\n    };\n  });\n  i18next.use(i18nextXHRBackend).init({\n    lng: config.language,\n    ns: 'app',\n    fallbackLng: 'en',\n    resources: config.resources\n  });\n  return new Promise(function (resolve, reject) {\n    jqueryI18next.init(i18next, $, {\n      tName: 't', // --> appends $.t = i18next.t\n      i18nName: 'i18n', // --> appends $.i18n = i18next\n      handleName: 'localize', // --> appends $(selector).localize(opts);\n      selectorAttr: 'data-i18n', // selector for translating elements\n      targetAttr: 'data-i18n-target', // element attribute to grab target element to translate (if diffrent then itself)\n      optionsAttr: 'data-i18n-options', // element attribute that contains options, will load/set if useOptionsAttr = true\n      useOptionsAttr: false, // see optionsAttr\n      parseDefaultValueFromContent: true // parses default values from content ele.val or ele.text\n    });\n    addI18n(plugins18nConfig);\n    resolve();\n  });\n}\nvar getAppLanguage = function getAppLanguage() {\n  var config = _application2.default.getConfig();\n  return config.user.i18n || \"en\";\n};\n\n// function to translate\nvar t = function t(text) {\n  return i18next.t(text);\n};\n\n// function to translate plugins\nvar tPlugin = function tPlugin(text) {\n  return i18next.t('plugins.' + text);\n};\n\nvar tPrefix = function tPrefix(filter) {\n  return function (text) {\n    return i18next.t(filter + '.' + text);\n  };\n};\n\nvar addI18nPlugin = function addI18nPlugin(_ref) {\n  var name = _ref.name,\n      config = _ref.config;\n\n  for (var language in config) {\n    var pluginLanguage = plugins18nConfig[language];\n    if (pluginLanguage) pluginLanguage.plugins[name] = config[language];\n  }\n  addI18n(plugins18nConfig);\n};\n\nvar addI18n = function addI18n(i18nObject) {\n  for (var language in i18nObject) {\n    var languageObj = i18nObject[language];\n    for (var key in languageObj) {\n      i18next.addResource(language, 'translation', key, languageObj[key]);\n    }\n  }\n};\n\nvar changeLanguage = function changeLanguage(language) {\n  i18next.changeLanguage(language);\n};\n\nmodule.exports = {\n  init: init,\n  t: t,\n  tPlugin: tPlugin,\n  tPrefix: tPrefix,\n  addI18n: addI18n,\n  addI18nPlugin: addI18nPlugin,\n  changeLanguage: changeLanguage,\n  getAppLanguage: getAppLanguage\n};\n\n},{\"services/application\":339}],15:[function(require,module,exports){\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME: application is broken using like the following line\n */\n// import { IframePluginService } from 'services';\n\nmodule.exports = _iframePlugin2.default; /**\n                                          * DEPRECATED: this file will be removed after v3.4 (use \"services/iframe-router.js\" instead)\n                                          */\n\n},{\"services/iframe-plugin\":352}],16:[function(require,module,exports){\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    createFilterFormField = _require.createFilterFormField;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction BaseIframeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.ready = false;\n  this.init = function () {\n    //overwrite each service\n  };\n}\n\ninherit(BaseIframeService, G3WObject);\n\nvar proto = BaseIframeService.prototype;\n\n/**\n * Common mapService attribute\n */\nproto.mapService = _gui2.default.getComponent('map').getService();\n\n/**\n * Common current project attribute\n */\nproto.project = _projects2.default.getCurrentProject();\n\n/**\n *\n * @type {null}\n */\nproto.layers = undefined;\n\n/**\n * Return a qgs_layer_id array based on passed qgis_layer_id\n * @param qgs_layer_id : String , Array of Strings or null/undefined)\n * @returns Array oa qgs_layer_id strings\n * @private\n */\nproto.getQgsLayerId = function (_ref) {\n  var qgs_layer_id = _ref.qgs_layer_id,\n      _ref$noValue = _ref.noValue,\n      noValue = _ref$noValue === undefined ? this.layers.map(function (layer) {\n    return layer.id;\n  }) : _ref$noValue;\n\n  return qgs_layer_id ? Array.isArray(qgs_layer_id) ? qgs_layer_id : [qgs_layer_id] : noValue;\n};\n\n/**\n * Method to getFeature from DataProvider\n * @private\n */\nproto.searchFeature = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var layer = _ref2.layer,\n        feature = _ref2.feature;\n\n    var search_endpoint, field, value, _ref4, _ref4$data, data;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            search_endpoint = this.project.getSearchEndPoint();\n            field = feature.field, value = feature.value;\n            _context.next = 4;\n            return _data2.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: createFilterFormField({\n                  layer: layer,\n                  search_endpoint: search_endpoint,\n                  field: field,\n                  value: value\n                })\n              },\n              outputs: false\n            });\n\n          case 4:\n            _ref4 = _context.sent;\n            _ref4$data = _ref4.data;\n            data = _ref4$data === undefined ? [] : _ref4$data;\n            return _context.abrupt('return', data);\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Comme method to search feature/s by field and value\n * @param qgs_layer_id\n * @param feature\n * @param zoom\n * @param highlight\n * @returns {Promise<{qgs_layer_id: null, features: [], found: boolean}>}\n */\nproto.findFeaturesWithGeometry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$qgs_layer_id = _ref6.qgs_layer_id,\n      qgs_layer_id = _ref6$qgs_layer_id === undefined ? [] : _ref6$qgs_layer_id,\n      feature = _ref6.feature,\n      _ref6$zoom = _ref6.zoom,\n      zoom = _ref6$zoom === undefined ? false : _ref6$zoom,\n      _ref6$highlight = _ref6.highlight,\n      highlight = _ref6$highlight === undefined ? false : _ref6$highlight;\n\n  var response, layersCount, i, layer, data, features;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          response = {\n            found: false,\n            features: [],\n            qgs_layer_id: null\n          };\n          layersCount = qgs_layer_id.length;\n          i = 0;\n\n        case 3:\n          if (!(!response.found && i < layersCount)) {\n            _context2.next = 20;\n            break;\n          }\n\n          layer = this.project.getLayerById(qgs_layer_id[i]);\n          _context2.prev = 5;\n          _context2.t0 = layer;\n\n          if (!_context2.t0) {\n            _context2.next = 11;\n            break;\n          }\n\n          _context2.next = 10;\n          return this.searchFeature({\n            layer: layer,\n            feature: feature\n          });\n\n        case 10:\n          _context2.t0 = _context2.sent;\n\n        case 11:\n          data = _context2.t0;\n\n          if (data.length) {\n            features = data[0].features;\n\n            response.found = features.length > 0 && !!features.find(function (feature) {\n              return feature.getGeometry();\n            });\n            if (response.found) {\n              response.features = features;\n              response.qgs_layer_id = qgs_layer_id[i];\n              zoom && this.mapService.zoomToFeatures(features, {\n                highlight: highlight\n              });\n            } else i++;\n          } else i++;\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t1 = _context2['catch'](5);\n          i++;\n\n        case 18:\n          _context2.next = 3;\n          break;\n\n        case 20:\n          // in case of no response zoom too initial extent\n          !response.found && this.mapService.zoomToProjectInitExtent();\n\n          return _context2.abrupt('return', response);\n\n        case 22:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[5, 15]]);\n}));\n\n/**\n * Set layer function\n * @param layers\n */\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  proto.layers = layers;\n};\n\nproto.getLayers = function () {\n  return proto.layers;\n};\n\n/**\n * Method to set ready the service\n * @param bool\n */\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.ready = bool;\n};\n\nproto.getReady = function () {\n  return this.ready;\n};\n\n/**\n * Method overwrite single service: Usefult to sto eventually running action\n * * @returns {Promise<void>}\n */\nproto.stop = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * Overwrite each single service\n */\nproto.clear = function () {\n  //overwrite single service\n};\n\nmodule.exports = BaseIframeService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/data\":346,\"services/gui\":349,\"store/projects\":367}],17:[function(require,module,exports){\nvar _iframeApp = require('services/iframe-app');\n\nvar _iframeApp2 = _interopRequireDefault(_iframeApp);\n\nvar _iframeEditing = require('services/iframe-editing');\n\nvar _iframeEditing2 = _interopRequireDefault(_iframeEditing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  app: _iframeApp2.default,\n  editing: _iframeEditing2.default\n};\n\n},{\"services/iframe-app\":350,\"services/iframe-editing\":351}],18:[function(require,module,exports){\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction BasePluginService() {\n  base(this);\n  // common attributes between plugin service\n  this.pluginName;\n  this.dependencyApi = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$layers = _ref2.layers,\n        layers = _ref2$layers === undefined ? {} : _ref2$layers;\n\n    var plugin;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this.layers = layers;\n            // check if the plugin in in configuration\n            if (_plugins2.default.isPluginInConfiguration(this.pluginName)) {\n              plugin = _plugins2.default.getPlugin(this.pluginName);\n\n              if (plugin) {\n                this.setDependencyApi(plugin.getApi());\n                this.setReady(true);\n              } else {\n                _plugins2.default.onafter('registerPlugin', function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(plugin) {\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return plugin.isReady();\n\n                          case 2:\n                            if (plugin.getName() === _this.pluginName) {\n                              _this.setDependencyApi(plugin.getApi());\n                              _this.setReady(true);\n                            }\n\n                          case 3:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this);\n                  }));\n\n                  return function (_x2) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n              }\n            }\n\n          case 2:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  this.clear = function () {\n    //TO OVERWRITE\n  };\n}\n\ninherit(BasePluginService, BaseService);\n\nvar proto = BasePluginService.prototype;\n\nproto.setDependencyApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.dependencyApi = api;\n};\n\nproto.getDependecyApi = function () {\n  return this.dependencyApi;\n};\n\nmodule.exports = BasePluginService;\n\n},{\"core/iframe/services/baseservice\":16,\"core/utils/utils\":68,\"store/plugins\":366}],19:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction ARCGISMAPSERVERLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(ARCGISMAPSERVERLayer, BaseLayer);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    source_type: 'arcgismapserver',\n    projection: projection,\n    attributions: attributions\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":104}],20:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Projections = require('g3w-ol/projection/projections');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar ImageLayer = require('core/layers/imagelayer');\n\nfunction BaseLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n  if (this.isWMS()) {\n    var _config = {\n      url: this.getWmsUrl(),\n      id: this.state.id,\n      tiled: this.state.tiled\n    };\n    this._mapLayer = new WMSLayer(_config);\n    this._mapLayer.addLayer(this);\n  } else this._mapLayer = this;\n}\n\ninherit(BaseLayer, ImageLayer);\n\nvar proto = BaseLayer.prototype;\n\nproto.getProjectionFromCrs = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  crs.epsg = crs.epsg ? crs.epsg : \"EPSG:3857\";\n  return Projections.get(crs);\n};\n\nproto._makeOlLayer = function () {\n  //TO OVERWRITE\n};\n\nproto._registerLoadingEvent = function () {\n  var _this = this;\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) {\n    olLayer = this._olLayer = this._makeOlLayer();\n    this._registerLoadingEvent();\n    if (this._mapLayer.config.attributions) {\n      this._olLayer.getSource().setAttributions(this._mapLayer.config.attributions);\n    }\n    olLayer.setVisible(this._mapLayer.state.visible);\n  }\n  return olLayer;\n};\n\nproto._updateLayer = function (mapState, extraParams) {\n  if (this.isWMS()) {\n    this._mapLayer.update(mapState, extraParams);\n  }\n};\n\nproto.setVisible = function (bool) {\n  this.getOLLayer().setVisible(bool);\n};\n\nproto.getMapLayer = function () {\n  return this._mapLayer;\n};\n\nmodule.exports = BaseLayer;\n\n},{\"core/layers/imagelayer\":34,\"core/layers/map/wmslayer\":46,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":108}],21:[function(require,module,exports){\nvar BaseLayers = {\n  'OSM': require('./osmlayer'),\n  'Bing': require('./binglayer'),\n  'TMS': require('./tmslayer'),\n  'ARCGISMAPSERVER': require('./arcgislayer'),\n  'WMTS': require('./wmtslayer'),\n  'WMS': require('./wmslayer')\n};\n\nmodule.exports = BaseLayers;\n\n},{\"./arcgislayer\":19,\"./binglayer\":22,\"./osmlayer\":23,\"./tmslayer\":24,\"./wmslayer\":25,\"./wmtslayer\":26}],22:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction BingLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(BingLayer, BaseLayer);\n\nvar proto = BingLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = void 0;\n  var key = _applicationState2.default.keys.vendorkeys.bing;\n  var subtype = this.config.source ? this.config.source.subtype : null;\n  switch (subtype) {\n    case 'streets':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Road',\n        key: key\n      });\n      break;\n    case 'aerial':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n      break;\n    case 'aerialwithlabels':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'AerialWithLabels',\n        key: key\n      });\n      break;\n    default:\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n  }\n  return olLayer;\n};\n\nmodule.exports = BingLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":104,\"store/application-state\":361}],23:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction OSMLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(OSMLayer, BaseLayer);\n\nvar proto = OSMLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = BasesLayers.OSM.get({\n    id: this.config.name,\n    title: this.config.title,\n    url: this.config.url\n  });\n  return olLayer;\n};\n\nmodule.exports = OSMLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":104}],24:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction TMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(TMSLayer, BaseLayer);\n\nvar proto = TMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      minZoom = _config.minZoom,\n      maxZoom = _config.maxZoom,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    attributions: attributions,\n    projection: projection\n  });\n  return olLayer;\n};\n\nmodule.exports = TMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":104}],25:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMSLayer, BaseLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layers = _config.layers,\n      singleTile = _config.singleTile,\n      attributions = _config.attributions,\n      crs = _config.crs,\n      opacity = _config.opacity;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMS.get({\n    url: url,\n    layers: layers,\n    singleTile: singleTile,\n    attributions: attributions,\n    projection: projection,\n    opacity: opacity\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":104}],26:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMTSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMTSLayer, BaseLayer);\n\nvar proto = WMTSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layer = _config.layer,\n      attributions = _config.attributions,\n      matrixSet = _config.matrixSet,\n      format = _config.format,\n      style = _config.style,\n      requestEncoding = _config.requestEncoding,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMTS.get({\n    url: url,\n    layer: layer,\n    attributions: attributions,\n    format: format,\n    projection: projection,\n    requestEncoding: requestEncoding,\n    matrixSet: matrixSet,\n    style: style\n  });\n  return olLayer;\n};\n\nmodule.exports = WMTSLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":104}],27:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\n\nvar Feature = function Feature() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.Feature.call(this);\n  this._uid = uniqueId();\n  this._newPrefix = '_new_';\n  this._geometry = false;\n  var feature = options.feature,\n      properties = options.properties;\n\n  if (feature) {\n    // check if has to set only some properties or all feature properties\n    if (properties && Array.isArray(properties)) properties.forEach(function (property) {\n      return _this.set(property, feature.get(property));\n    });else this.setProperties(feature.getProperties());\n    this.setId(feature.getId());\n    this.setGeometryName(feature.getGeometryName());\n    var geometry = feature.getGeometry();\n    this._geometry = !!geometry;\n    geometry && this.setGeometry(geometry);\n    var style = this.getStyle();\n    style && this.setStyle(style);\n  }\n  this.state = {\n    new: false,\n    state: null,\n    visible: true\n  };\n};\n\nol.inherits(Feature, ol.Feature);\n\nvar proto = Feature.prototype;\n\n//change constructor\nproto.constructor = 'Feature';\n\n/**\n * Return unique id\n * @returns {*}\n */\nproto.getUid = function () {\n  return this._uid;\n};\n\n/**\n * set new uid\n * @param uid\n * @private\n */\nproto._setUid = function (uid) {\n  this._uid = uid;\n};\n\nproto.isGeometry = function () {\n  return this._geometry;\n};\n\nproto.cloneNew = function () {\n  var clone = this.clone();\n  var uid = uniqueId();\n  clone._setUid(uid);\n  clone.setTemporaryId();\n  return clone;\n};\n\n/**\n * clone existing feature\n * @returns {Feature}\n */\nproto.clone = function () {\n  var feature = ol.Feature.prototype.clone.call(this);\n  feature.setId(this.getId());\n  this.isGeometry() && feature.setGeometry(feature.getGeometry().clone());\n  var clone = new Feature({\n    feature: feature\n  });\n  var uid = this.getUid();\n  clone._setUid(uid);\n  clone.setState(this.getState());\n  this.isNew() && clone.setNew();\n  return clone;\n};\n\nproto.setTemporaryId = function () {\n  var newValue = '' + this._newPrefix + uniqueId();\n  this.setId(newValue);\n  this.setNew();\n};\n\nproto.setNew = function () {\n  this.state.new = true;\n};\n\nproto.delete = function () {\n  this.state.state = 'delete';\n  return this;\n};\n\nproto.update = function () {\n  this.state.state = 'update';\n  return this;\n};\n\nproto.add = function () {\n  this.state.state = 'add';\n  return this;\n};\n\nproto.isNew = function () {\n  return this.state.new;\n};\n\nproto.isAdded = function () {\n  return this.state.state === 'add';\n};\n\nproto.isUpdated = function () {\n  return this.state.state === 'update';\n};\n\nproto.isDeleted = function () {\n  return this.state.state === 'delete';\n};\n\nproto.setFullState = function (state) {\n  this.state = state;\n};\n\nproto.getFullState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state.state = state;\n};\n\nproto.getState = function () {\n  return this.state.state;\n};\n\nproto.getAlphanumericProperties = function () {\n  var properties = this.getProperties();\n  var alphanumericproperties = {};\n  for (var name in properties) {\n    if (geometryFields.indexOf(name) === -1) alphanumericproperties[name] = properties[name];\n  }\n  return alphanumericproperties;\n};\n\n//clean state of the features\nproto.clearState = function () {\n  this.state.state = null;\n  this.state.new = false;\n};\n\n/**\n * need to filter features visiblity on table\n * @returns {boolean}\n */\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.visible = bool;\n};\n\nmodule.exports = Feature;\n\n},{\"app/constant\":5,\"core/utils/utils\":68}],28:[function(require,module,exports){\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Object to store and handle features of layer\nfunction FeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._features = options.features || [];\n  this._provider = options.provider || null;\n  this._loadedIds = []; // store locked ids\n  this._lockIds = []; // store locked features\n  this.hasFeatureLockByOtherUser = false; // property tath i set to true if some feature are locked by other user\n  this.setters = {\n    addFeatures: function addFeatures(features) {\n      var _this = this;\n\n      features.forEach(function (feature) {\n        _this._addFeature(feature);\n      });\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    removeFeature: function removeFeature(feature) {\n      this._removeFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    clear: function clear() {\n      this._clearFeatures();\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    commit: function commit(commitItems, featurestore) {\n      return this._commit(commitItems, featurestore);\n    },\n\n    /**\n     * setter to know when some feature are locked\n     */\n    featuresLockedByOtherUser: function featuresLockedByOtherUser() {\n      //set to true\n      this.hasFeatureLockByOtherUser = true;\n    }\n  };\n\n  base(this);\n}\n\ninherit(FeaturesStore, G3WObject);\n\nvar proto = FeaturesStore.prototype;\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\n// method unlock features\nproto.unlock = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  this._provider.unlock().then(function (response) {\n    // set to false when featuresstore is unlocked\n    _this2.hasFeatureLockByOtherUser = false;\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method get all features from server or attribute _features\nproto._getFeatures = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (this._provider) {\n    this._provider.getFeatures(options).then(function (options) {\n      var features = _this3._filterFeaturesResponse(options);\n      _this3.addFeatures(features);\n      d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.resolve(this._readFeatures());\n  return d.promise();\n};\n\n//filter features to add\nproto._filterFeaturesResponse = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * get features returned from server and feature that are current locked.\n   * If featurelocks are less that a features, it means that other user is editing these feature\n   * @type {*[]}\n   */\n  var _options$features = options.features,\n      features = _options$features === undefined ? [] : _options$features,\n      _options$featurelocks = options.featurelocks,\n      featurelocks = _options$featurelocks === undefined ? [] : _options$featurelocks,\n      count = options.count;\n\n  var featuresToAdd = features.filter(function (feature) {\n    var featureId = feature.getId();\n    var added = _this4._loadedIds.indexOf(featureId) !== -1;\n    if (!added) _this4._loadedIds.push(featureId);\n    return !added;\n  });\n  this._filterLockIds(featurelocks);\n  if (features.length < count && !this.hasFeatureLockByOtherUser) this.featuresLockedByOtherUser();\n  return featuresToAdd;\n};\n\n// method get features locked\nproto._filterLockIds = function (featurelocks) {\n  var _lockIds = this._lockIds.map(function (lockid) {\n    return lockid.featureid;\n  });\n  var toAddLockId = featurelocks.filter(function (featurelock) {\n    return _lockIds.indexOf(featurelock.featureid) === -1;\n  });\n  this._lockIds = [].concat(_toConsumableArray(this._lockIds), _toConsumableArray(toAddLockId));\n};\n\nproto.addLoadedIds = function (id) {\n  this._loadedIds.push(id);\n};\n\nproto.getLockIds = function () {\n  return this._lockIds;\n};\n\n//method to add new lockid\nproto.addLockIds = function (lockIds) {\n  var _this5 = this;\n\n  this._lockIds = _.union(this._lockIds, lockIds);\n  this._lockIds.forEach(function (lockId) {\n    return _this5._loadedIds.push(lockId.featureid);\n  });\n};\n\nproto._readFeatures = function () {\n  return this._features;\n};\n\nproto._commit = function (commitItems) {\n  var d = $.Deferred();\n  if (commitItems && this._provider) {\n    commitItems.lockids = this._lockIds;\n    this._provider.commit(commitItems).then(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get feature from id\nproto.getFeatureById = function (featureId) {\n  return this._features.find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n};\n\n//substitute feature after update\nproto._updateFeature = function (feature) {\n  var _this6 = this;\n\n  this._features.find(function (feat, idx) {\n    if (feat.getUid() === feature.getUid()) {\n      _this6._features[idx] = feature;\n      return true;\n    }\n  });\n};\n\nproto.setFeatures = function (features) {\n  this._features = features;\n};\n\nproto._removeFeature = function (feature) {\n  this._features = this._features.filter(function (feat) {\n    return feature.getUid() !== feat.getUid();\n  });\n};\n\nproto._clearFeatures = function () {\n  this._features = null;\n  this._features = [];\n  this._lockIds = [];\n  this._loadedIds = [];\n};\n\nproto.getDataProvider = function () {\n  return this._provider;\n};\n\n// only read downloaded features\nproto.readFeatures = function () {\n  return this._features;\n};\n\nmodule.exports = FeaturesStore;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],29:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar FeaturesStore = require('core/layers/features/featuresstore');\n\n// Storage of the feature in vector layer\nfunction OlFeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._features = options.features || new ol.Collection([]);\n}\n\ninherit(OlFeaturesStore, FeaturesStore);\n\nvar proto = OlFeaturesStore.prototype;\n\nproto.getLength = function () {\n  return this._features.getLength();\n};\n\n//overwrite\nproto.setFeatures = function () {\n  var _this = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this._features.push(feature);\n  });\n};\n// overwrite\nproto.readFeatures = function () {\n  return this._features.getArray();\n};\n\nproto.getFeaturesCollection = function () {\n  return this._features;\n};\n\nproto.getFeatureById = function (featureId) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n  // useful for ol.source.Vector\n  this._features.dispatchEvent('change');\n};\n\n//sobtitute the feature after modify\nproto._updateFeature = function (feature) {\n  // set index at -1\n  var index = -1;\n  var featuresArray = this._features.getArray();\n  for (var i = 0; featuresArray.length; i++) {\n    var _feature = featuresArray[i];\n    if (_feature.getUid() === feature.getUid()) {\n      index = i;\n      break;\n    }\n  }\n  if (index >= 0) {\n    this._features.removeAt(index);\n    this._features.insertAt(index, feature);\n    this._features.dispatchEvent('change');\n  }\n};\n\n// remove feature from store\nproto._removeFeature = function (feature) {\n  var featuresArray = this._features.getArray();\n  for (var i = 0; i < featuresArray.length; i++) {\n    var feat = featuresArray[i];\n    if (feature.getUid() === feat.getUid()) {\n      this._features.removeAt(i);\n      break;\n    }\n  }\n  this._features.dispatchEvent('change');\n};\n\nproto._clearFeatures = function () {\n  try {\n    this._features.clear();\n  } catch (err) {}\n  this._features = null;\n  this._features = new ol.Collection([]);\n};\n\nmodule.exports = OlFeaturesStore;\n\n},{\"core/layers/features/featuresstore\":28,\"core/utils/utils\":68}],30:[function(require,module,exports){\nvar _constant = require('app/constant');\n\n//Expression\nfunction Expression() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._layerName = options.layerName;\n  var filter = options.filter;\n  this._expression = filter && filter || '';\n}\n\nvar proto = Expression.prototype;\n\nproto.and = function (field, value) {\n  this._expression = this._expression ? this._expression + ' AND ' : this._expression;\n  if (field && value) {\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.or = function () {\n  if (field && value) {\n    this._expression = this._expression ? this._expression + ' OR ' : this._expression;\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.eq = function (field, value) {\n  this._expression = this._expression + this._build('eq', field, value);\n  return this;\n};\n\nproto.like = function (field, value) {\n  this._expression = this._expression + this._build('LIKE', field, value);\n  return this;\n};\n\nproto.ilike = function (field, value) {\n  this._expression = this._expression + this._build('ILIKE', field, value);\n  return this;\n};\n\nproto.not = function (field, value) {\n  this._expression = this._expression + this._build('NOT', field, value);\n  return this;\n};\n\nproto.gt = function (field, value) {\n  this._expression = this._expression + this._build('gt', field, value);\n  return this;\n};\n\nproto.gte = function (field, value) {\n  this._expression = this._expression + this._build('gte', field, value);\n  return this;\n};\n\nproto.lt = function (field, value) {\n  this._expression = this._expression + this._build('lt', field, value);\n  return this;\n};\n\nproto.lte = function (field, value) {\n  this._expression = this._expression + this._build('lte', field, value);\n  return this;\n};\n\nproto.clear = function () {\n  this._expression = '';\n  return this;\n};\n\n// get expression method to get the realt value of the expression\nproto.get = function () {\n  return this._layerName ? this._layerName + ': ' + this._expression : this._expression;\n};\n\nproto._build = function (operator, field, value) {\n  return ['\"' + field + '\"', _constant.FILTER_EXPRESSION_OPERATORS[operator], '' + value].join(' ');\n};\n\nproto.createSingleExpressionElement = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      attribute = _ref.attribute,\n      operator = _ref.operator,\n      logicop = _ref.logicop;\n\n  var filterElement = void 0;\n  var valueExtra = operator === 'LIKE' || operator === 'ILIKE' ? \"%\" : \"\";\n  var filterOp = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n  var filterLogicOperator = logicop && ' ' + logicop + ' ' || '';\n  if (operator === 'IN') {\n    var _value = Array.isArray(value) ? value : [value];\n    var filterValue = '( ' + _value.map(function (value) {\n      return '\\'' + value + '\\'';\n    }).join(',').replace(/,/g, ' , ') + ' )';\n    filterElement = '\"' + attribute + '\" ' + filterOp + ' ' + filterValue + filterLogicOperator;\n  } else if (value !== null && value !== undefined && !(Number.isNaN(value) || !value.toString().trim())) {\n    var singolequote = typeof value !== 'number' ? value.split(\"'\") : [];\n    if (singolequote.length > 1) {\n      var _filterElements = [];\n      for (var i = 0; i < singolequote.length; i++) {\n        var _value2 = singolequote[i];\n        if (!_value2) continue;\n        var _filterOp = 'ILIKE';\n        var _filterValue = ('%' + _value2 + '%').trim();\n        var _filterElement = '\"' + attribute + '\" ' + _filterOp + ' \\'' + _filterValue + '\\'';\n        _filterElements.push(_filterElement);\n      }\n      filterElement = '' + _filterElements.join(' AND ') + filterLogicOperator;\n    } else filterElement = '\"' + attribute + '\" ' + filterOp + ' \\'' + valueExtra + value + valueExtra + '\\'' + filterLogicOperator;\n  }\n  return filterElement;\n};\n\nproto.createExpressionFromFilterObject = function () {\n  var _this = this;\n\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filterElements = [];\n  var rootFilter = void 0;\n  for (var operator in filter) {\n    rootFilter = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n    var inputs = filter[operator];\n    inputs.forEach(function (input) {\n      for (var _operator in input) {\n        var _value3 = input[_operator];\n        if (Array.isArray(_value3)) {\n          _this.createExpressionFromFilterObject(input);\n        } else {\n          var _field = input[_operator];\n          for (var attribute in _field) {\n            var _value4 = _field[attribute];\n            var fieldElement = _this.createSingleExpressionElement({\n              value: _value4,\n              operator: _operator,\n              attribute: attribute\n            });\n            filterElements.push(fieldElement);\n          }\n        }\n      }\n    });\n    rootFilter = filterElements.length > 0 ? filterElements.join(\" \" + rootFilter + \" \") : false;\n  }\n  return rootFilter;\n};\n\nproto.createExpressionFromField = function (_ref2) {\n  var layerName = _ref2.layerName,\n      field = _ref2.field,\n      value = _ref2.value,\n      _ref2$operator = _ref2.operator,\n      operator = _ref2$operator === undefined ? 'eq' : _ref2$operator;\n\n  var filter = this.createSingleExpressionElement({\n    attribute: field,\n    value: value,\n    operator: operator\n  });\n  this._expression = layerName + ':' + filter;\n  return this;\n};\n\nproto.createExpressionFromFilterArray = function () {\n  var _this2 = this;\n\n  var inputs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var filter = '';\n  // set logicop of last element to null\n  var inputsLength = inputs.length ? inputs.length - 1 : inputs.length;\n  inputs.forEach(function (input, index) {\n    var filterElement = _this2.createSingleExpressionElement(input);\n    filter = '' + filter + (input.logicop && index === inputsLength ? filterElement.substring(0, filterElement.length - (input.logicop.length + 1)) : filterElement);\n  });\n  return filter || undefined;\n};\n\nproto.createExpressionFromFilter = function (filter, layerName) {\n  var filterParam = Array.isArray(filter) ? this.createExpressionFromFilterArray(filter) : this.createExpressionFromFilterObject(filter);\n  if (filterParam) this._expression = layerName + ':' + filterParam;\n  return this;\n};\n\nmodule.exports = Expression;\n\n},{\"app/constant\":5}],31:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// class Filter to build filter\n// useful by provider providers to get data\nfunction Filter() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._filter = null;\n  this._type = null;\n  this.config = config;\n}\n\nvar proto = Filter.prototype;\n\n/**\n * Config methods\n */\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.mergeConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = _extends({}, this.config, config);\n};\n\n/***\n *  end config methods\n */\n\nproto.getAll = function () {\n  this._type = Filter.TYPES.all;\n  this._filter = null;\n};\n\n// to create complex filter\nproto.setExpression = function (expression) {\n  this._type = Filter.TYPES.expression;\n  this._filter = expression;\n};\n\nproto.setGeometry = function (geometry) {\n  this._type = Filter.TYPES.geometry;\n  this._filter = geometry;\n  return this;\n};\n\nproto.setBBOX = function (bbox) {\n  this._type = Filter.TYPES.bbox;\n  this._filter = bbox;\n  return this;\n};\n\nproto.setFids = function (ids) {\n  this._type = Filter.TYPES.fids;\n  this._filter = ids;\n  return this;\n};\n\nproto.serialize = function () {\n  return JSON.stringify(this);\n};\n\n// get filter value\nproto.get = function () {\n  return this._filter;\n};\n\nproto.getType = function () {\n  return this._type;\n};\n\nproto.clear = function () {\n  this._filter = null;\n};\n\nFilter.TYPES = {\n  bbox: 'bbox',\n  geometry: 'geometry',\n  expression: 'expression',\n  fids: 'fids',\n  all: 'all'\n};\n\nmodule.exports = Filter;\n\n},{}],32:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar VectorLayer = require('core/layers/vectorlayer');\nvar GeojsonMapLayer = require('core/layers/map/geojson');\n\nfunction GeojsonLayer(config, options) {\n  base(this, config, options);\n  this.config.style = config.style;\n  this.setup(config);\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nvar proto = GeojsonLayer.prototype;\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var url = this.get('source').url;\n  var name = this.getName();\n  var id = this.getId();\n  var style = this.get('style');\n  var provider = this.getProvider('data');\n  var options = {\n    url: url,\n    projection: this.getProjection().getCode(),\n    id: id,\n    name: name,\n    style: style,\n    provider: provider\n  };\n  this._mapLayer = new GeojsonMapLayer(options);\n  return this._mapLayer;\n};\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/geojson\":43,\"core/layers/vectorlayer\":58,\"core/utils/utils\":68}],33:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/ol'),\n    getScaleFromResolution = _require.getScaleFromResolution;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject;\n\nvar _require3 = require('core/utils/utils'),\n    XHR = _require3.XHR,\n    sanitizeUrl = _require3.sanitizeUrl;\n\nvar RESERVERDPARAMETRS = {\n  wms: ['VERSION', 'REQUEST', 'BBOX', 'LAYERS', 'WIDTH', 'HEIGHT', 'DPI', 'FORMAT', 'CRS']\n};\n\nfunction GeoLayerMixin() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n}\n\nvar proto = GeoLayerMixin.prototype;\n\nproto.setup = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!this.config) {\n    console.log(\"GeoLayerMixin must be used from a valid (geo) Layer instance\");\n    return;\n  }\n  var project = options.project;\n\n  this.config.map_crs = project.getProjection().getCode();\n  this.config.multilayerid = config.multilayer;\n  this.legendCategories = {};\n  // Features that contain\n  this.olSelectionFeatures = {}; // key id / fid of feature and values is an object with feature and added\n  // state extend of layer setting geolayer property to true\n  // and adding information of bbox\n  _.extend(this.state, {\n    geolayer: config.geometrytype !== \"NoGeometry\",\n    legend: {\n      url: null,\n      loading: false,\n      error: false,\n      /**\n       * @deprecated since 3.8. Will be removed in 4.x. Use expanded attribute instead\n       */\n      show: true\n    },\n    external: config.source && config.source.external || false,\n    bbox: config.bbox || null,\n    visible: config.visible || false,\n    checked: config.visible || false,\n    epsg: config.crs.epsg,\n    hidden: config.hidden || false,\n    scalebasedvisibility: config.scalebasedvisibility || false,\n    minscale: config.minscale,\n    maxscale: config.maxscale,\n    ows_method: config.ows_method,\n    exclude_from_legend: typeof config.exclude_from_legend == 'boolean' ? config.exclude_from_legend : true,\n    categories: false, // has more than one categories legend,\n    /**\n     *  Expand or collapse legend item in catalog layers (TOC)\n     *\n     * @since v3.8\n     */\n    expanded: config.expanded\n  });\n  if (config.projection) this.config.projection = config.projection.getCode() === config.crs.epsg ? config.projection : Projections.get(config.crs);\n  if (config.attributions) this.config.attributions = config.attributions;\n  config.source && config.source.url && this._sanitizeSourceUrl();\n};\n\n/**\n * Legend Graphic section\n */\nproto.getLegendGraphic = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$all = _ref.all,\n      all = _ref$all === undefined ? true : _ref$all;\n\n  var legendParams = _application2.default.getConfig().layout ? _application2.default.getConfig().layout.legend : {};\n  var legendurl = this.getLegendUrl(legendParams, {\n    categories: true,\n    all: all // true meaning no bbox no filter just all referred to\n  });\n  return XHR.get({\n    url: legendurl\n  });\n};\n\n/**\n * Set layer categories legend\n * @param categories\n */\nproto.setCategories = function () {\n  var categories = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.legendCategories[this.getCurrentStyle().name] = categories;\n  //set categories state attribute to true only if exist at least a rule key\n  // meaning that layer has at least more than one has a\n  this.state.categories = categories.length > 1 && categories.filter(function (category) {\n    return category.ruleKey;\n  }).length > 1;\n};\n\n/**\n * Return eventually categories of layers legend\n * @returns {string[] | string | [] | *[] | boolean | {default: {level: *, appenders: string[]}}}\n */\nproto.getCategories = function () {\n  return this.legendCategories[this.getCurrentStyle().name];\n};\n\nproto.clearCategories = function () {\n  this.legendCategories = {};\n  this.state.categories = false;\n};\n\n/**\n * End Legend Graphic section\n */\n\n/**\n * Clear all selection openlayer features\n */\nproto.clearOlSelectionFeatures = function () {\n  this.olSelectionFeatures = null;\n};\n\n/**\n * Get openlayer selection feature by feature id\n * @param id\n * @returns {*}\n */\nproto.getOlSelectionFeature = function (id) {\n  return this.olSelectionFeatures[id];\n};\n\nproto.updateOlSelectionFeature = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      feature = _ref2.feature;\n\n  var featureObject = this.getOlSelectionFeature(id);\n  if (featureObject) {\n    featureObject.feature = feature;\n    var _mapService = _gui2.default.getService('map');\n    _mapService.setSelectionFeatures('update', {\n      feature: feature\n    });\n  }\n};\n\n/**\n * Delete openlayer feature selection by feature id\n * @param id\n */\nproto.deleteOlSelectionFeature = function (id) {\n  var featureObject = this.olSelectionFeatures[id];\n  if (featureObject) {\n    mapService.setSelectionFeatures('remove', {\n      feature: featureObject.feature\n    });\n    delete this.olSelectionFeatures[id];\n  }\n};\n\n/**\n * Get all openlyare feature selection\n * @returns {{}|null}\n */\nproto.getOlSelectionFeatures = function () {\n  return this.olSelectionFeatures;\n};\n\nproto.addOlSelectionFeature = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref3.id,\n      feature = _ref3.feature;\n\n  this.olSelectionFeatures[id] = this.olSelectionFeatures[id] || {\n    feature: createFeatureFromFeatureObject({ id: id, feature: feature }),\n    added: false\n  };\n  return this.olSelectionFeatures[id];\n};\n\nproto.showAllOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getService('map');\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    !featureObject.added && mapService.setSelectionFeatures('add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = true;\n  });\n};\n\nproto.setInversionOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getComponent('map').getService();\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    mapService.setSelectionFeatures(featureObject.added ? 'remove' : 'add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = !featureObject.added;\n  });\n};\n\nproto.setOlSelectionFeatureByFid = function (fid, action) {\n  var feature = this.olSelectionFeatures[fid] && this.olSelectionFeatures[fid].feature;\n  return feature && this.setOlSelectionFeatures({ id: fid, feature: feature }, action);\n};\n\nproto.setOlSelectionFeatures = function (feature) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n\n  var mapService = _gui2.default.getComponent('map').getService();\n  if (!feature) {\n    Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n      featureObject.added && mapService.setSelectionFeatures('remove', {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    });\n  } else {\n    var featureObject = this.olSelectionFeatures[feature.id] || this.addOlSelectionFeature(feature);\n    if (action === 'add') {\n      if (!featureObject.added) {\n        /**\n         * add a property of feature __layerId used whe we work with selected Layer features\n         */\n        featureObject.feature.__layerId = this.getId();\n        mapService.setSelectionFeatures(action, {\n          feature: featureObject.feature\n        });\n        featureObject.added = true;\n      }\n    } else {\n      mapService.setSelectionFeatures(action, {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    }\n  }\n  return !Object.values(this.olSelectionFeatures).find(function (featureObject) {\n    return featureObject.added;\n  });\n};\n\n/**\n * Create a get parameter url right\n * @param type\n * @private\n */\nproto._sanitizeSourceUrl = function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n\n  var sanitizedUrl = sanitizeUrl({\n    url: this.config.source.url,\n    reserverParameters: RESERVERDPARAMETRS[type]\n  });\n  this.config.source.url = sanitizedUrl;\n};\n\nproto.isLayerCheckedAndAllParents = function () {\n  var checked = this.isChecked();\n  if (checked) {\n    var parentGroup = this.state.parentGroup;\n    while (checked && parentGroup) {\n      checked = checked && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n  }\n  return checked;\n};\n\nproto.setChecked = function (bool) {\n  this.state.checked = bool;\n};\n\nproto.isChecked = function () {\n  return this.state.checked;\n};\n\n/**\n * Is a method that check for visiblitity dissabled (based on scalevisibility) and checked on toc\n * @param bool\n * @returns {*}\n */\nproto.setVisible = function (bool) {\n  //check if is changed\n  var oldVisibile = this.state.visible;\n  this.state.visible = bool && this.isChecked(); // bool and is checked\n  var changed = oldVisibile !== this.state.visible;\n  //if changed call change\n  changed && this.change();\n  return this.state.visible;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isPrintable = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      scale = _ref4.scale;\n\n  return this.isLayerCheckedAndAllParents() && (!this.state.scalebasedvisibility || scale >= this.state.maxscale && scale <= this.state.minscale);\n};\n\n//get style form layer\nproto.getStyles = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles;\n};\n\nproto.getStyle = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles ? this.config.styles.find(function (style) {\n    return style.current;\n  }).name : '';\n};\n\n/**\n * Method to change current style  of layer\n * @param currentStyleName\n * @returns {boolean}\n */\nproto.setCurrentStyle = function (currentStyleName) {\n  var changed = false;\n  this.config.styles.forEach(function (style) {\n    if (style.name === currentStyleName) changed = !style.current;\n    style.current = style.name === currentStyleName;\n  });\n  return changed;\n};\n\nproto.getCurrentStyle = function () {\n  return this.config.styles.find(function (style) {\n    return style.current;\n  });\n};\n\n/**\n * Disable layer by check scalevisibility configuration value\n * @param resolution\n * @param mapUnits\n */\nproto.setDisabled = function (resolution) {\n  var mapUnits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'm';\n\n  if (this.state.scalebasedvisibility) {\n    var mapScale = getScaleFromResolution(resolution, mapUnits);\n    this.state.disabled = !(mapScale >= this.state.maxscale && mapScale <= this.state.minscale);\n    this.state.disabled = this.state.minscale === 0 ? !(mapScale >= this.state.maxscale) : this.state.disabled;\n    // needed to check if call setVisible if change disable property\n    // looping through parentfolter checked\n    var setVisible = true;\n    var parentGroup = this.state.parentGroup;\n    while (parentGroup) {\n      setVisible = setVisible && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n    setVisible && this.setVisible(!this.state.disabled);\n    // change toc highlight property based on disabled otr not\n    this.isFilterable() && this.setTocHighlightable(!this.state.disabled);\n  } else this.state.disabled = false;\n};\n\nproto.getMultiLayerId = function () {\n  return this.config.multilayerid;\n};\n\nproto.getGeometryType = function () {\n  return this.config.geometrytype;\n};\n\nproto.getOwsMethod = function () {\n  return this.config.ows_method;\n};\n\nproto.setProjection = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.projection = Projections.get(crs);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getEpsg = function () {\n  return this.config.crs.epsg;\n};\n\nproto.getCrs = function () {\n  return this.config.projection && this.config.projection.getCode() || null;\n};\n\nproto.getMapCrs = function () {\n  return this.config.map_crs;\n};\n\nproto.isCached = function () {\n  return this.config.cache_url && this.config.cache_url !== '';\n};\n\nproto.getCacheUrl = function () {\n  if (this.isCached()) return this.config.cache_url;\n};\n\n// return if layer has inverted axis\nproto.hasAxisInverted = function () {\n  var projection = this.getProjection();\n  var axisOrientation = projection.getAxisOrientation ? projection.getAxisOrientation() : \"enu\";\n  return axisOrientation.substr(0, 2) === 'ne';\n};\n\nproto.getMapLayer = function () {\n  console.log('overwrite by single layer');\n};\n\nproto.setMapProjection = function (mapProjection) {\n  this._mapProjection = mapProjection;\n};\n\nproto.getMapProjection = function () {\n  return this._mapProjection;\n};\n\nmodule.exports = GeoLayerMixin;\n\n},{\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":108,\"services/application\":339,\"services/gui\":349}],34:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar WMSTLayer = require('core/layers/map/wmstlayer');\nvar ARCGISMAPSERVERLayer = require('core/layers/map/arcgismapserverlayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar LegendService = require('core/layers/legend/legendservice');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\n\nfunction ImageLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /*{\n    id,\n    title,\n    name,\n    origname,\n    multilayerid,\n    servertype,\n    source,\n    crs,\n    projection,\n    bbox,\n    capabilities,\n    cache_url,\n    baselayer,\n    geometrytype,\n    editops,\n    expanded,\n    fields,\n    wmsUrl,\n    infoformat,\n    infourl,\n    maxscale,\n    minscale,\n    visible,\n    scalebasedvisibility,\n    wfscapabilities\n    ows_method\n    wms_use_layer_ids,\n    styles\n  }*/\n  this.setters = {\n    change: function change() {}\n  };\n\n  base(this, config, options);\n  this.config.baselayer = config.baselayer || false;\n  this.type = Layer.LayerTypes.IMAGE;\n  this.legendUrl = null;\n  this.customParams = {};\n  this.setup(config, options);\n}\n\ninherit(ImageLayer, Layer);\n\nmixin(ImageLayer, GeoLayerMixin);\n\nvar proto = ImageLayer.prototype;\n\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$force = _ref2.force,\n      force = _ref2$force === undefined ? false : _ref2$force,\n      vectorurl = _ref2.vectorurl,\n      project_type = _ref2.project_type,\n      project = _ref2.project;\n\n  var _project, editableLayer, editingLayer;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(this.isEditable() || force)) {\n            _context.next = 16;\n            break;\n          }\n\n          _project = _project || _projects2.default.getCurrentProject();\n          editableLayer = new VectorLayer(this.config, {\n            vectorurl: vectorurl,\n            project_type: project_type,\n            project: _project\n          });\n          // set editing layer\n\n          _context.prev = 3;\n          _context.next = 6;\n          return editableLayer.layerForEditing;\n\n        case 6:\n          editingLayer = _context.sent;\n\n          this.setEditingLayer(editingLayer);\n          return _context.abrupt('return', editingLayer);\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n          return _context.abrupt('return', Promise.reject(_context.t0));\n\n        case 14:\n          _context.next = 17;\n          break;\n\n        case 16:\n          return _context.abrupt('return', null);\n\n        case 17:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\nproto.isWMS = function () {\n  return ImageLayer.WMSServerTypes.indexOf(this.config.servertype) > -1;\n};\n\nproto.isLayerProjectionASMapProjection = function () {\n  return this.config.crs.epsg === this.config.map_crs;\n};\n\nproto.getCrs = function () {\n  return this.config.crs.epsg;\n};\n\nproto.isExternalWMS = function () {\n  return !!(this.config.source && this.config.source.external && this.config.source.url);\n};\n\nproto.isArcgisMapserver = function () {\n  return this.isExternalWMS() && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER;\n};\n\nproto._getBaseLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getWMSLayerName = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'map' : _ref3$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var layerName = this._getBaseLayerName();\n  if (legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.layers || this.config.source.layer)) {\n    layerName = this.config.source.layers || this.config.source.layer;\n  }\n  return layerName;\n};\n\n// values: map, legend\nproto.getWmsUrl = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$type = _ref4.type,\n      type = _ref4$type === undefined ? 'map' : _ref4$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var wmsUrl = legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.type === 'wms' || this.config.source.type === 'wmst') && this.config.source.url ? this.config.source.url : this.config.wmsUrl;\n  return wmsUrl;\n};\n\nproto.getWFSLayerName = function () {\n  return this.getQueryLayerName().replace(/[/\\s]/g, '_');\n};\n\nproto.useProxy = function () {\n  return this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats();\n};\n\nproto.getWMSInfoLayerName = function () {\n  if (this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats()) {\n    return this.getSource().layers;\n  } else return this._getBaseLayerName();\n};\n\nproto.getPrintLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getStringBBox = function () {\n  var bbox = this.config.bbox;\n  return bbox.minx + ',' + bbox.miny + ',' + bbox.maxx + ',' + bbox.maxy;\n};\n\nproto.isWfsActive = function () {\n  return Array.isArray(this.config.ows) && this.config.ows.find(function (ows_type) {\n    return ows_type === 'WFS';\n  }) !== undefined;\n};\n\n/**\n * Metyhod to get wms url of the layer\n * @returns {*}\n */\nproto.getFullWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getState().metadata.wms_url;\n  return this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() : metadata_wms_url;\n};\n\n//used to Catalog layer menu to show wms url\nproto.getCatalogWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getMetadata().wms_url;\n  var catalogWmsUrl = this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() + '?service=WMS&version=1.3.0&request=GetCapabilities' : metadata_wms_url;\n  return catalogWmsUrl;\n};\n\n//used to Catalog layer menu to show wfs url\nproto.getCatalogWfsUrl = function () {\n  return this.getWfsUrl() + '?service=WFS&version=1.1.0&request=GetCapabilities';\n};\n\nproto.getWfsUrl = function () {\n  return _projects2.default.getCurrentProject().getMetadata().wms_url || this.config.wmsUrl;\n};\n\n/**\n * Get query url based on type, external or same projection of map\n * @returns {string}\n */\nproto.getQueryUrl = function () {\n  var url = base(this, 'getQueryUrl');\n  if (this.getServerType() === Layer.ServerTypes.QGIS && this.isExternalWMS() && this.isLayerProjectionASMapProjection()) {\n    if (this.getInfoFormats()) url = this.getSource().url;else url = url + 'SOURCE=' + this.config.source.type;\n  }\n  return url;\n};\n\nproto.getIconUrlFromLegend = function () {\n  return this.getLegendUrl({\n    layertitle: false\n  });\n};\n\nproto.getLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.legendUrl = LegendService.get({\n    layer: this,\n    params: _extends({}, params, this.customParams),\n    options: options\n  });\n  return this.legendUrl;\n};\n\nproto.setMapParamstoLegendUrl = function (_ref5) {\n  var bbox = _ref5.bbox,\n      crs = _ref5.crs;\n\n  this.customParams = _extends({}, this.customParams, {\n    bbox: bbox,\n    crs: crs\n  });\n};\n\nproto.getWfsCapabilities = function () {\n  return this.config.wfscapabilities || this.config.capabilities === 1;\n};\n\nproto.getMapLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments[1];\n\n  var iframe_internal = _application2.default.isIframe() && !this.isExternalWMS();\n  options.iframe_internal = iframe_internal;\n  var mapLayer = void 0;\n  var method = this.isExternalWMS() ? 'GET' : this.getOwsMethod();\n  if (this.isCached()) {\n    options.extent = this.config.bbox ? [this.config.bbox.minx, this.config.bbox.miny, this.config.bbox.maxx, this.config.bbox.maxy] : null;\n    mapLayer = new XYZLayer(options, method);\n  } else {\n    if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER) {\n      options = _extends({}, options, this.config.source);\n      mapLayer = new ARCGISMAPSERVERLayer(options, extraParams);\n    } else {\n      options.url = options.url || this.getWmsUrl();\n      /** check in case WMST Layer\n       *\n       */\n      if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.WMST) mapLayer = new WMSTLayer(options, extraParams, method);else mapLayer = new WMSLayer(options, extraParams, method);\n    }\n  }\n  return mapLayer;\n};\n\nImageLayer.WMSServerTypes = [Layer.ServerTypes.QGIS, Layer.ServerTypes.Mapserver, Layer.ServerTypes.Geoserver, Layer.ServerTypes.OGC];\n\nmodule.exports = ImageLayer;\n\n},{\"core/layers/geolayermixin\":33,\"core/layers/layer\":35,\"core/layers/legend/legendservice\":40,\"core/layers/map/arcgismapserverlayer\":42,\"core/layers/map/wmslayer\":46,\"core/layers/map/wmstlayer\":47,\"core/layers/map/xyzlayer\":48,\"core/layers/vectorlayer\":58,\"core/utils/utils\":68,\"services/application\":339,\"store/projects\":367}],35:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    XHR = _require2.XHR;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    geometryFields = _require3.geometryFields,\n    parseAttributes = _require3.parseAttributes;\n\nvar Relations = require('core/relations/relations');\nvar ProviderFactory = require('core/layers/providers/providersfactory');\n\n// Base Class of all Layer\nfunction Layer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  // assign some attribute\n  config.id = config.id || 'Layer';\n  config.title = config.title || config.name;\n  config.download = !!config.download;\n  config.geolayer = false;\n  config.baselayer = !!config.baselayer;\n  config.fields = config.fields || {};\n  config.urls = _extends({\n    query: config.infourl && config.infourl !== '' ? config.infourl : config.wmsUrl\n  }, config.urls || {});\n  var _options$project = options.project,\n      project = _options$project === undefined ? _projects2.default.getCurrentProject() : _options$project;\n\n  this.config.search_endpoint = project.getSearchEndPoint();\n  var projectRelations = project.getRelations();\n  // create relations\n  this._relations = this._createRelations(projectRelations);\n  if (!this.isBaseLayer()) {\n    //filtertoken\n    //set url to get varios type of data\n    var projectType = project.getType();\n    var projectId = project.getId();\n    var suffixUrl = projectType + '/' + projectId + '/' + config.id + '/';\n    var vectorUrl = project.getVectorUrl();\n    var rasterUrl = project.getRasterUrl();\n    this.config.urls.filtertoken = vectorUrl + 'filtertoken/' + suffixUrl;\n    this.config.urls.data = vectorUrl + 'data/' + suffixUrl;\n    this.config.urls.shp = vectorUrl + 'shp/' + suffixUrl;\n    this.config.urls.csv = vectorUrl + 'csv/' + suffixUrl;\n    this.config.urls.xls = vectorUrl + 'xls/' + suffixUrl;\n    this.config.urls.gpx = vectorUrl + 'gpx/' + suffixUrl;\n    this.config.urls.gpkg = vectorUrl + 'gpkg/' + suffixUrl;\n    this.config.urls.geotiff = rasterUrl + 'geotiff/' + suffixUrl;\n    this.config.urls.editing = vectorUrl + 'editing/' + suffixUrl;\n    this.config.urls.commit = vectorUrl + 'commit/' + suffixUrl;\n    this.config.urls.config = vectorUrl + 'config/' + suffixUrl;\n    this.config.urls.unlock = vectorUrl + 'unlock/' + suffixUrl;\n    this.config.urls.widget = {\n      unique: vectorUrl + 'widget/unique/data/' + suffixUrl\n    };\n    //set custom parameters based on project qgis version\n    this.config.searchParams = {\n      I: 0,\n      J: 0\n    };\n  }\n\n  // dinamic layer values useful for layerstree\n  var defaultstyle = config.styles && config.styles.find(function (style) {\n    return style.current;\n  }).name;\n  this.state = {\n    id: config.id,\n    title: config.title,\n    selected: config.selected || false,\n    disabled: config.disabled || false,\n    metadata: config.metadata,\n    metadata_querable: this.isBaseLayer() ? false : this.isQueryable({ onMap: false }),\n    openattributetable: this.isBaseLayer() ? false : this.canShowTable(),\n    removable: config.removable || false,\n    downloadable: this.isDownloadable(),\n    source: config.source,\n    styles: config.styles,\n    defaultstyle: defaultstyle,\n    inediting: false, // state of if is in editing (setted by editing plugin )\n    infoformat: this.getInfoFormat(),\n    infoformats: this.config.infoformats || [],\n    projectLayer: true,\n    geolayer: false,\n    selection: {\n      active: false\n    },\n    filter: {\n      active: false\n    },\n    attributetable: {\n      pageLength: null\n    },\n    visible: config.visible || false,\n    tochighlightable: false\n  };\n\n  // add selectionFids\n  this.selectionFids = new Set();\n\n  // referred to (layersstore);\n  this._layersstore = config.layersstore || null;\n  /*\n    Providers that layer can use\n     Three type of provider:\n      1 - query\n      2 - filter\n      3 - data -- raw data del layer (editing)\n   */\n  // server type\n  var serverType = this.config.servertype;\n  // source layer\n  var sourceType = this.config.source ? this.config.source.type : null;\n  if (serverType && sourceType) {\n    this.providers = {\n      query: ProviderFactory.build('query', serverType, sourceType, {\n        layer: this\n      }),\n      filter: ProviderFactory.build('filter', serverType, sourceType, {\n        layer: this\n      }),\n      filtertoken: ProviderFactory.build('filtertoken', serverType, sourceType, {\n        layer: this\n      }),\n      search: ProviderFactory.build('search', serverType, sourceType, {\n        layer: this\n      }),\n      data: ProviderFactory.build('data', serverType, sourceType, {\n        layer: this\n      })\n    };\n  }\n  // used to store last proxy params (useful for repeat request info formats for wms external layer)\n  this.proxyData = {\n    wms: null // at the moment only wms data from server\n  };\n  base(this);\n}\n\ninherit(Layer, G3WObject);\n\nvar proto = Layer.prototype;\n\n/**\n * Proxyparams\n */\n\nproto.getProxyData = function (type) {\n  return type ? this.proxyData[type] : this.proxyData;\n};\n\nproto.setProxyData = function (type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.proxyData[type] = data;\n};\n\nproto.clearProxyData = function (type) {\n  this.proxyData[type] = null;\n};\n\nproto.getDataProxyFromServer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var proxyParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref2, response, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _data2.default.getData('proxy:' + type, {\n            inputs: proxyParams,\n            outputs: false\n          });\n\n        case 3:\n          _ref2 = _context.sent;\n          response = _ref2.response;\n          data = _ref2.data;\n\n          this.setProxyData(type, JSON.parse(data));\n          return _context.abrupt('return', response);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](0);\n          return _context.abrupt('return');\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[0, 10]]);\n}));\n\nproto.changeProxyDataAndReloadFromServer = function () {\n  var _this = this;\n\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var changes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  Object.keys(changes).forEach(function (changeParam) {\n    Object.keys(changes[changeParam]).forEach(function (param) {\n      var value = changes[changeParam][param];\n      _this.proxyData[type][changeParam][param] = value;\n    });\n  });\n  return this.getDataProxyFromServer(type, this.proxyData[type]);\n};\n\n/**\n * editing method used by plugin\n */\n\nproto.isInEditing = function () {\n  return this.state.inediting;\n};\n\nproto.setInEditing = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.inediting = bool;\n};\n\n/**\n * end proxy params\n */\n\nproto.getSearchParams = function () {\n  return this.config.searchParams;\n};\n\n/**\n *\n * @returns {*}\n */\nproto.getSearchEndPoint = function () {\n  return this.getType() !== Layer.LayerTypes.TABLE ? this.config.search_endpoint : \"api\";\n};\n\n//relations\nproto._createRelations = function (projectRelations) {\n  var layerId = this.getId();\n  var relations = projectRelations.filter(function (relation) {\n    return [relation.referencedLayer, relation.referencingLayer].indexOf(layerId) !== -1;\n  });\n  return new Relations({\n    relations: relations\n  });\n};\n\n// return relations of layer\nproto.getRelations = function () {\n  return this._relations;\n};\n\nproto.getRelationById = function (id) {\n  return this._relations.getArray().find(function (relation) {\n    return relation.getId() === id;\n  });\n};\n\nproto.getRelationAttributes = function (relationName) {\n  var relation = this._relations.find(function (relation) {\n    return relation.name === relationName;\n  });\n  return relation ? relation.fields : [];\n};\n\nproto.getRelationsAttributes = function () {\n  var fields = {};\n  this.state.relations.forEach(function (relation) {\n    return fields[relation.name] = relation.fields;\n  });\n  return fields;\n};\n\nproto.isChild = function () {\n  if (!this.getRelations()) return false;\n  return this._relations.isChild(this.getId());\n};\n\nproto.isFather = function () {\n  if (!this.getRelations()) return false;\n  return this._relations.isFather(this.getId());\n};\n\nproto.getChildren = function () {\n  if (!this.isFather()) return [];\n  return this._relations.getChildren(this.getId());\n};\n\nproto.getFathers = function () {\n  if (!this.isChild()) return [];\n  return this._relations.getFathers(this.getId());\n};\n\nproto.hasChildren = function () {\n  if (!this.hasRelations()) return false;\n  return this._relations.hasChildren(this.getId());\n};\n\nproto.hasFathers = function () {\n  if (!this.hasRelations()) return false;\n  return this._relations.hasFathers(this.getId());\n};\n\nproto.hasRelations = function () {\n  return !!this._relations;\n};\n//end relations\n\n\n// global state\nproto.setAttributeTablePageLength = function (pageLength) {\n  this.state.attributetable.pageLength = pageLength;\n};\n\nproto.getAttributeTablePageLength = function () {\n  return this.state.attributetable.pageLength;\n};\n\n// end global state\n\n//filter token\nproto.setFilter = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.filter.active = bool;\n};\n\nproto.getFilterActive = function () {\n  return this.state.filter.active;\n};\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          this.state.filter.active = !this.state.filter.active;\n          _context2.next = 3;\n          return this.activeFilterToken(this.state.filter.active);\n\n        case 3:\n          return _context2.abrupt('return', this.state.filter.active);\n\n        case 4:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.activeFilterToken = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(bool) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return bool;\n\n          case 2:\n            if (!_context3.sent) {\n              _context3.next = 6;\n              break;\n            }\n\n            this.createFilterToken();\n            _context3.next = 7;\n            break;\n\n          case 6:\n            this.deleteFilterToken();\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          if (!this.providers['filtertoken']) {\n            _context4.next = 11;\n            break;\n          }\n\n          _context4.prev = 1;\n          _context4.next = 4;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 4:\n          _application2.default.setFilterToken(null);\n          this.emit('filtertokenchange', {\n            layerId: this.getId()\n          });\n          _context4.next = 11;\n          break;\n\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4['catch'](1);\n\n          console.log('Error deleteing filtertoken');\n\n        case 11:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this, [[1, 8]]);\n}));\n\nproto.createFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var filtertoken, params;\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          if (!this.providers['filtertoken']) {\n            _context5.next = 21;\n            break;\n          }\n\n          filtertoken = null;\n          _context5.prev = 2;\n\n          if (!(this.selectionFids.size > 0)) {\n            _context5.next = 16;\n            break;\n          }\n\n          if (!this.selectionFids.has(Layer.SELECTION_STATE.ALL)) {\n            _context5.next = 9;\n            break;\n          }\n\n          _context5.next = 7;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 7:\n          _context5.next = 14;\n          break;\n\n        case 9:\n          params = {};\n\n          if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) params.fidsout = Array.from(this.selectionFids).filter(function (id) {\n            return id !== Layer.SELECTION_STATE.EXCLUDE;\n          }).join(',');else params.fidsin = Array.from(this.selectionFids).join(',');\n          _context5.next = 13;\n          return this.providers['filtertoken'].getFilterToken(params);\n\n        case 13:\n          filtertoken = _context5.sent;\n\n        case 14:\n          _application2.default.setFilterToken(filtertoken);\n          this.emit('filtertokenchange', {\n            layerId: this.getId()\n          });\n\n        case 16:\n          _context5.next = 21;\n          break;\n\n        case 18:\n          _context5.prev = 18;\n          _context5.t0 = _context5['catch'](2);\n\n          console.log('Error create update token');\n\n        case 21:\n        case 'end':\n          return _context5.stop();\n      }\n    }\n  }, _callee5, this, [[2, 18]]);\n}));\n// end filter token\n//selection Ids layer methods\n\nproto.setSelectionFidsAll = function () {\n  this.selectionFids.clear();\n  this.selectionFids.add(Layer.SELECTION_STATE.ALL);\n  this.isGeoLayer() && this.showAllOlSelectionFeatures();\n  this.setSelection(true);\n  this.state.filter.active && this.createFilterToken();\n};\n\nproto.getSelectionFids = function () {\n  return this.selectionFids;\n};\n\nproto.invertSelectionFids = function () {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.selectionFids.delete(Layer.SELECTION_STATE.EXCLUDE);else if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) this.selectionFids.delete(Layer.SELECTION_STATE.ALL);else if (this.selectionFids.size > 0) this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n  this.isGeoLayer() && this.setInversionOlSelectionFeatures();\n  this.state.filter.active && this.createFilterToken();\n  this.setSelection(this.selectionFids.size > 0);\n};\n\nproto.hasSelectionFid = function (fid) {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) return true;else if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) return !this.selectionFids.has(fid);else return this.selectionFids.has(fid);\n};\n\nproto.includeSelectionFid = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(fid) {\n    var createToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) && this.selectionFids.has(fid)) {\n              this.selectionFids.delete(fid);\n              this.selectionFids.size === 1 && this.setSelectionFidsAll();\n            } else {\n              this.selectionFids.add(fid);\n              !this.isSelectionActive() && this.setSelection(true);\n            }\n            this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'add');\n            _context6.t0 = createToken && this.state.filter.active;\n\n            if (!_context6.t0) {\n              _context6.next = 6;\n              break;\n            }\n\n            _context6.next = 6;\n            return this.createFilterToken();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x12) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nproto.includeSelectionFids = function () {\n  var _this2 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this2.includeSelectionFid(fid);\n  });\n};\n\nproto.excludeSelectionFid = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(fid) {\n    var isLastFeatureSelected;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (this.selectionFids.has(Layer.SELECTION_STATE.ALL) || this.selectionFids.size === 0) {\n              this.selectionFids.clear();\n              this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n            }\n            this.selectionFids[this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) ? 'add' : 'delete'](fid);\n            if (this.selectionFids.size === 1 && this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.setselectionFidsAll();\n            isLastFeatureSelected = this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'remove');\n            _context7.t0 = this.state.filter.active;\n\n            if (!_context7.t0) {\n              _context7.next = 8;\n              break;\n            }\n\n            _context7.next = 8;\n            return this.createFilterToken();\n\n          case 8:\n            if (this.selectionFids.size === 0 || isLastFeatureSelected) {\n              this.selectionFids.clear();\n              this.setSelection(false);\n            }\n\n          case 9:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x14) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.excludeSelectionFids = function () {\n  var _this3 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this3.excludeSelectionFid(fid);\n  });\n};\n\nproto.clearSelectionFids = function () {\n  this.selectionFids.clear();\n  this.isGeoLayer() && this.setOlSelectionFeatures();\n  this.setSelection(false);\n};\n// end selection ids methods\n\nproto.getWMSLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.config.wms_use_layer_ids;\n};\n\nproto.getFilterToken = function () {\n  return _application2.default.getFilterToken();\n};\n\n/**\n *\n * DOWNLOAD METHODS\n */\n\nproto.getDownloadFilefromDownloadDataType = function (type, _ref9) {\n  var _ref9$data = _ref9.data,\n      data = _ref9$data === undefined ? {} : _ref9$data,\n      options = _ref9.options;\n\n  var promise = void 0;\n  data.filtertoken = this.getFilterToken();\n  switch (type) {\n    case 'shapefile':\n      promise = this.getShp({ data: data, options: options });\n      break;\n    case 'xls':\n      promise = this.getXls({ data: data, options: options });\n      break;\n    case 'csv':\n      promise = this.getCsv({ data: data, options: options });\n      break;\n    case 'gpx':\n      promise = this.getGpx({ data: data, options: options });\n      break;\n    case 'gpkg':\n      promise = this.getGpkg({ data: data, options: options });\n      break;\n    case 'geotiff':\n      promise: this.getGeoTIFF({\n        data: data,\n        options: options\n      });\n      break;\n  }\n  return promise;\n};\n\nproto.getGeoTIFF = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref10$data = _ref10.data,\n      data = _ref10$data === undefined ? {} : _ref10$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('geotiff');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getXls = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref11$data = _ref11.data,\n      data = _ref11$data === undefined ? {} : _ref11$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('xls');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getShp = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref12$data = _ref12.data,\n      data = _ref12$data === undefined ? {} : _ref12$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('shp');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpx = function () {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref13$data = _ref13.data,\n      data = _ref13$data === undefined ? {} : _ref13$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('gpx');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpkg = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref14$data = _ref14.data,\n      data = _ref14$data === undefined ? {} : _ref14$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('gpkg');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getCsv = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$data = _ref15.data,\n      data = _ref15$data === undefined ? {} : _ref15$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('csv');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getSourceType = function () {\n  return this.config.source ? this.config.source.type : null;\n};\n\nproto.isGeoLayer = function () {\n  return this.state.geolayer;\n};\n\nproto.getDataTable = function () {\n  var _this4 = this;\n\n  var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref16$page = _ref16.page,\n      page = _ref16$page === undefined ? null : _ref16$page,\n      _ref16$page_size = _ref16.page_size,\n      page_size = _ref16$page_size === undefined ? null : _ref16$page_size,\n      _ref16$ordering = _ref16.ordering,\n      ordering = _ref16$ordering === undefined ? null : _ref16$ordering,\n      _ref16$search = _ref16.search,\n      search = _ref16$search === undefined ? null : _ref16$search,\n      field = _ref16.field,\n      _ref16$suggest = _ref16.suggest,\n      suggest = _ref16$suggest === undefined ? null : _ref16$suggest,\n      _ref16$formatter = _ref16.formatter,\n      formatter = _ref16$formatter === undefined ? 0 : _ref16$formatter,\n      in_bbox = _ref16.in_bbox,\n      _ref16$custom_params = _ref16.custom_params,\n      custom_params = _ref16$custom_params === undefined ? {} : _ref16$custom_params;\n\n  var d = $.Deferred();\n  var provider = void 0;\n  var params = _extends({}, custom_params, {\n    field: field,\n    page: page,\n    page_size: page_size,\n    ordering: ordering,\n    search: search,\n    formatter: formatter,\n    suggest: suggest,\n    in_bbox: in_bbox,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (!(this.getProvider('filter') || this.getProvider('data'))) {\n    d.reject();\n  } else {\n    provider = this.getProvider('data');\n    provider.getFeatures({ editing: false }, params).done(function (response) {\n      var data = response.data;\n      var count = response.count;\n      var title = _this4.getTitle();\n      var features = data.features && data.features || [];\n      var headers = features.length ? features[0].properties : [];\n      headers = parseAttributes(_this4.getAttributes(), headers);\n      var dataTableObject = {\n        headers: headers,\n        features: features,\n        title: title,\n        count: count\n      };\n      d.resolve(dataTableObject);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\n/**\n * Search layer feature by fids\n * @param fids formatter\n */\nproto.getFeatureByFids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref18$fids = _ref18.fids,\n      fids = _ref18$fids === undefined ? [] : _ref18$fids,\n      _ref18$formatter = _ref18.formatter,\n      formatter = _ref18$formatter === undefined ? 0 : _ref18$formatter;\n\n  var url, features, response;\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          url = this.getUrl('data');\n          features = void 0;\n          _context8.prev = 2;\n          _context8.next = 5;\n          return XHR.get({\n            url: url,\n            params: {\n              fids: fids.toString(),\n              formatter: formatter\n            }\n          });\n\n        case 5:\n          response = _context8.sent;\n\n          features = response && response.result && response.vector && response.vector.data && response.vector.data.features;\n          _context8.next = 11;\n          break;\n\n        case 9:\n          _context8.prev = 9;\n          _context8.t0 = _context8['catch'](2);\n\n        case 11:\n          return _context8.abrupt('return', features);\n\n        case 12:\n        case 'end':\n          return _context8.stop();\n      }\n    }\n  }, _callee8, this, [[2, 9]]);\n}));\n\n//search Features methods\nproto.searchFeatures = function () {\n  var _this5 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$search_endpo = options.search_endpoint,\n      search_endpoint = _options$search_endpo === undefined ? this.config.search_endpoint : _options$search_endpo;\n\n  return new Promise(function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var _options$raw, raw, field, _options$suggest, suggest, unique, queryUrl, ordering, response;\n\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.t0 = search_endpoint;\n              _context9.next = _context9.t0 === 'ows' ? 3 : _context9.t0 === 'api' ? 5 : 17;\n              break;\n\n            case 3:\n              _this5.search(options, params).then(function (results) {\n                results = {\n                  data: results\n                };\n                resolve(results);\n              }).fail(function (error) {\n                return reject(error);\n              });\n              return _context9.abrupt('break', 17);\n\n            case 5:\n              _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, field = options.filter, _options$suggest = options.suggest, suggest = _options$suggest === undefined ? {} : _options$suggest, unique = options.unique, queryUrl = options.queryUrl, ordering = options.ordering;\n              _context9.prev = 6;\n              _context9.next = 9;\n              return _this5.getFilterData({\n                queryUrl: queryUrl,\n                raw: raw,\n                field: field,\n                ordering: ordering,\n                suggest: suggest,\n                unique: unique\n              });\n\n            case 9:\n              response = _context9.sent;\n\n              resolve(response);\n              _context9.next = 16;\n              break;\n\n            case 13:\n              _context9.prev = 13;\n              _context9.t1 = _context9['catch'](6);\n\n              reject(_context9.t1);\n\n            case 16:\n              return _context9.abrupt('break', 17);\n\n            case 17:\n            case 'end':\n              return _context9.stop();\n          }\n        }\n      }, _callee9, _this5, [[6, 13]]);\n    }));\n\n    return function (_x26, _x27) {\n      return _ref19.apply(this, arguments);\n    };\n  }());\n};\n\n/*\n* getFilterData is a function to get data feature based on fields and suggets\n* params:\n* - suggest (mandatory): object with key is a field of layer and value is value of the field to filter\n* - fields: Array of object with type of suggest (see above)\n* */\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref21.field,\n      _ref21$raw = _ref21.raw,\n      raw = _ref21$raw === undefined ? false : _ref21$raw,\n      _ref21$suggest = _ref21.suggest,\n      suggest = _ref21$suggest === undefined ? {} : _ref21$suggest,\n      unique = _ref21.unique,\n      _ref21$formatter = _ref21.formatter,\n      formatter = _ref21$formatter === undefined ? 1 : _ref21$formatter,\n      queryUrl = _ref21.queryUrl,\n      ordering = _ref21.ordering;\n\n  var provider, response;\n  return regeneratorRuntime.wrap(function _callee10$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          provider = this.getProvider('data');\n          _context10.next = 3;\n          return provider.getFilterData({\n            queryUrl: queryUrl,\n            field: field,\n            raw: raw,\n            ordering: ordering,\n            suggest: suggest,\n            formatter: formatter,\n            unique: unique\n          });\n\n        case 3:\n          response = _context10.sent;\n          return _context10.abrupt('return', response);\n\n        case 5:\n        case 'end':\n          return _context10.stop();\n      }\n    }\n  }, _callee10, this);\n}));\n\n// search method\nproto.search = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // check option feature_count\n  options.feature_count = options.feature_count || 10;\n  options = _extends({}, options, this.config.searchParams, params);\n  var d = $.Deferred();\n  var provider = this.getProvider('search');\n  if (provider) provider.query(options).done(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.reject(t('sdk.search.layer_not_searchable'));\n  return d.promise();\n};\n\n//Info from layer (only for querable layers)\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var filter = options.filter;\n\n  var provider = this.getProvider(filter ? 'filter' : 'query');\n  if (provider) provider.query(options).done(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.reject(t('sdk.search.layer_not_querable'));\n  return d.promise();\n};\n\n// generel way to get an attribute\nproto.get = function (property) {\n  return this.config[property] ? this.config[property] : this.state[property];\n};\n\nproto.getFields = function () {\n  return this.config.fields;\n};\n\n/**\n * Get field by name\n * @param fieldName\n * @returns {*}\n */\nproto.getFieldByName = function (fieldName) {\n  return this.getFields().find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEditingFields = function () {\n  return this.config.editing.fields;\n};\n\n/**\n * Return only show fields\n * @returns {T[]}\n */\nproto.getTableFields = function () {\n  var fields = this.config.fields || [];\n  return fields.filter(function (field) {\n    return field.show;\n  });\n};\n\nproto.getTableHeaders = function () {\n  return this.getTableFields().filter(function (field) {\n    return geometryFields.indexOf(field.name) === -1;\n  });\n};\n\nproto.getProject = function () {\n  return this.config.project;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\n/**\n * get form structur to show on form editing\n * @param fields\n * @returns {[]}\n */\nproto.getLayerEditingFormStructure = function (fields) {\n  return this.config.editor_form_structure;\n};\n\n/*\nDuplicate beacause we had to check if it used by some plugins to avoid to break back compatibility\n */\nproto.getEditorFormStructure = function () {\n  return this.getLayerEditingFormStructure();\n};\n\nproto.getFieldsOutOfFormStructure = function () {\n  return this.config.editor_form_structure ? this.config.editor_form_structure.filter(function (structure) {\n    return structure.field_name;\n  }) : [];\n};\n\nproto.hasFormStructure = function () {\n  return !!this.config.editor_form_structure;\n};\n\n//get custom style for future implementation\nproto.getCustomStyle = function () {\n  return this.config.customstyle;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getSource = function () {\n  return this.state.source;\n};\n\nproto.isDownloadable = function () {\n  return this.isShpDownlodable() || this.isXlsDownlodable() || this.isGpxDownlodable() || this.isGpkgDownlodable() || this.isCsvDownlodable();\n};\n\nproto.getDownloadableFormats = function () {\n  var _this6 = this;\n\n  return Object.keys(_constant.DOWNLOAD_FORMATS).filter(function (download_format) {\n    return _this6.config[download_format];\n  }).map(function (format) {\n    return _constant.DOWNLOAD_FORMATS[format].format;\n  });\n};\n\nproto.getDownloadUrl = function (format) {\n  var find = Object.values(_constant.DOWNLOAD_FORMATS).find(function (download_format) {\n    return download_format.format === format;\n  });\n  return find && find.url;\n};\n\nproto.isGeoTIFFDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && this.config.source.type === 'gdal';\n};\n\nproto.isShpDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && this.config.source.type !== 'gdal';\n};\n\nproto.isXlsDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_xls;\n};\n\nproto.isGpxDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpx;\n};\n\nproto.isGpkgDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpkg;\n};\n\nproto.isCsvDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_csv;\n};\n\nproto.getEditingLayer = function () {\n  return this._editingLayer;\n};\n\nproto.setEditingLayer = function (editingLayer) {\n  this._editingLayer = editingLayer;\n};\n\nproto.isHidden = function () {\n  return this.state.hidden;\n};\n\nproto.setHidden = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.hidden = bool;\n};\n\nproto.isModified = function () {\n  return this.state.modified;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata;\n};\n\nproto.getTitle = function () {\n  return this.config.title;\n};\n\nproto.getName = function () {\n  return this.config.name;\n};\n\nproto.getOrigName = function () {\n  return this.config.origname;\n};\n\nproto.getServerType = function () {\n  return this.config.servertype && this.config.servertype !== '' ? this.config.servertype : ServerTypes.QGIS;\n};\n\nproto.getType = function () {\n  return this.type;\n};\n\nproto.isType = function (type) {\n  return this.getType() === type;\n};\n\nproto.setType = function (type) {\n  this.type = type;\n};\n\nproto.isSelected = function () {\n  return this.state.selected;\n};\n\nproto.setSelected = function (bool) {\n  this.state.selected = bool;\n};\n\nproto.setSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return regeneratorRuntime.wrap(function _callee11$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          this.state.selection.active = bool;\n\n          if (bool) {\n            _context11.next = 8;\n            break;\n          }\n\n          _context11.t0 = this.state.filter.active;\n\n          if (!_context11.t0) {\n            _context11.next = 6;\n            break;\n          }\n\n          _context11.next = 6;\n          return this.deleteFilterToken();\n\n        case 6:\n          this.state.filter.active = bool;\n          this.emit('unselectionall', this.getId());\n\n        case 8:\n        case 'end':\n          return _context11.stop();\n      }\n    }\n  }, _callee11, this);\n}));\n\nproto.isSelectionActive = function () {\n  return this.state.selection.active;\n};\n\nproto.getSelection = function () {\n  return this.state.selection;\n};\n\nproto.getFilter = function () {\n  return this.state.filter;\n};\n\nproto.setDisabled = function (bool) {\n  this.state.disabled = bool;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function (bool) {\n  this.state.visible = bool;\n};\n\n// set a parametre map to check if request from map point of view or just a capabilities info layer\nproto.isQueryable = function () {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { onMap: false },\n      onMap = _ref23.onMap;\n\n  var queryEnabled = false;\n  var queryableForCababilities = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.QUERYABLE);\n  if (!onMap) return queryableForCababilities;\n  // if querable check if is visible or disabled\n  if (queryableForCababilities) {\n    queryEnabled = this.isVisible() && !this.isDisabled();\n    if (this.config.infowhennotvisible !== undefined && this.config.infowhennotvisible === true) queryEnabled = true;\n  }\n  return queryEnabled;\n};\n\nproto.getOws = function () {\n  return this.config.ows;\n};\n\nproto.getTocHighlightable = function () {\n  return this.state.tochighlightable;\n};\n\nproto.setTocHighlightable = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.tochighlightable = bool;\n};\n\n/*\n condition: plain object with configuration layer attribute and value\n* */\nproto.isFilterable = function () {\n  var _this7 = this;\n\n  var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var isFiltrable = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.FILTERABLE);\n  if (isFiltrable && conditions) {\n    var conditionalFiltrable = Object.keys(conditions).reduce(function (bool, attribute) {\n      var layer_config_value = _this7.get(attribute);\n      var condition_attribute_values = conditions[attribute];\n      return bool && Array.isArray(layer_config_value) ? layer_config_value.indexOf(condition_attribute_values) !== -1 : condition_attribute_values === layer_config_value;\n    }, true);\n    isFiltrable = isFiltrable && conditionalFiltrable;\n  }\n  return isFiltrable;\n};\n\n/**\n * Check if layer is setup as time series\n */\nproto.isQtimeseries = function () {\n  return this.config.qtimeseries;\n};\n\nproto.isEditable = function () {\n  return !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.EDITABLE);\n};\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\n// get url by type ( data, shp, csv, xls,  editing..etc..)\nproto.getUrl = function (type) {\n  return this.config.urls[type];\n};\n\n/**\n * Method to set url\n * @param type\n * @param url\n */\nproto.setUrl = function () {\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref24.type,\n      url = _ref24.url;\n\n  this.config.urls[type] = url;\n};\n\n// return urls\nproto.getUrls = function () {\n  return this.config.urls;\n};\n\nproto.setEditingUrl = function (url) {\n  this.config.urls.editing = url || this.config.urls.editing;\n};\n\nproto.getQueryUrl = function () {\n  return this.config.urls.query;\n};\n\nproto.setQueryUrl = function (queryUrl) {\n  this.config.urls.query = queryUrl;\n};\n\nproto.getQueryLayerName = function () {\n  return this.config.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.getName();\n};\n\nproto.getQueryLayerOrigName = function () {\n  return this.state.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.config.origname;\n};\n\nproto.getInfoFormat = function (ogcService) {\n  /**\n   * In case of qtime series (NETCDF)\n   */\n  if (this.config.qtimeseries === true || this.getSourceType() === 'gdal') return 'application/json';else return this.config.infoformat && this.config.infoformat !== '' && ogcService !== 'wfs' ? this.config.infoformat : 'application/vnd.ogc.gml';\n};\n\nproto.getInfoFormats = function () {\n  return this.state.infoformats;\n};\n\nproto.getInfoUrl = function () {\n  return this.config.infourl;\n};\n\nproto.setInfoFormat = function (infoFormat) {\n  this.config.infoformat = infoFormat;\n};\n\nproto.getAttributes = function () {\n  return this.config.fields;\n};\n\nproto.changeAttribute = function (attribute, type, options) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = this.config.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var field = _step.value;\n\n      if (field.name === attribute) {\n        field.type = type;\n        field.options = options;\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.getAttributeLabel = function (name) {\n  var field = this.getAttributes().find(function (field) {\n    return field.name === name;\n  });\n  return field && field.label;\n};\n\nproto.getProvider = function (type) {\n  return this.providers[type];\n};\n\nproto.getProviders = function () {\n  return this.providers;\n};\n\nproto.getLayersStore = function () {\n  return this._layersstore;\n};\n\nproto.setLayersStore = function (layerstore) {\n  this._layersstore = layerstore;\n};\n\nproto.canShowTable = function () {\n  if (!this.config.not_show_attributes_table) {\n    if (this.getServerType() === Layer.ServerTypes.QGIS) {\n      if ([Layer.SourceTypes.POSTGIS, Layer.SourceTypes.ORACLE, Layer.SourceTypes.WFS, Layer.SourceTypes.OGR, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE].indexOf(this.config.source.type) > -1 && this.isQueryable()) {\n        return this.getTableFields().length > 0;\n      }\n    } else if (this.getServerType() === Layer.ServerTypes.G3WSUITE) {\n      if (this.get('source').type === \"geojson\") return true;\n    } else if (this.isFilterable()) return true;\n    return false;\n  } else return false;\n};\n\nproto.changeFieldType = function () {\n  var _ref25 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      name = _ref25.name,\n      type = _ref25.type,\n      _ref25$options = _ref25.options,\n      options = _ref25$options === undefined ? {} : _ref25$options,\n      _ref25$reset = _ref25.reset,\n      reset = _ref25$reset === undefined ? false : _ref25$reset;\n\n  var field = this.getFields().find(function (field) {\n    return field.name === name;\n  });\n  if (field) {\n    if (reset) {\n      field.type = field._type;\n      delete field._type;\n      delete field[type + 'options'];\n      return field.type;\n    } else {\n      field._type = field.type;\n      field.type = type;\n      field[type + 'options'] = options;\n      return field._type;\n    }\n  }\n};\n\nproto.changeConfigFieldType = function (_ref26) {\n  var name = _ref26.name,\n      type = _ref26.type,\n      _ref26$options = _ref26.options,\n      options = _ref26$options === undefined ? {} : _ref26$options,\n      _ref26$reset = _ref26.reset,\n      reset = _ref26$reset === undefined ? false : _ref26$reset;\n\n  return this.changeFieldType({ name: name, type: type, options: options, reset: reset });\n};\n\nproto.resetConfigField = function (_ref27) {\n  var name = _ref27.name;\n\n  this.changeConfigFieldType({\n    name: name,\n    reset: true\n  });\n};\n\n//function called in case of change project to remove all sored information\nproto.clear = function () {};\n\nproto.isVector = function () {\n  return this.getType() === Layer.LayerTypes.VECTOR;\n};\n\nproto.isTable = function () {\n  return this.getType() === Layer.LayerTypes.TABLE;\n};\n\n/// LAYER PROPERTIES\n// Layer Types\nLayer.LayerTypes = {\n  TABLE: \"table\",\n  IMAGE: \"image\",\n  VECTOR: \"vector\"\n};\n\n// Server Types\nLayer.ServerTypes = {\n  OGC: \"OGC\",\n  QGIS: \"QGIS\",\n  Mapserver: \"Mapserver\",\n  Geoserver: \"Geoserver\",\n  ARCGISMAPSERVER: \"ARCGISMAPSERVER\",\n  OSM: \"OSM\",\n  BING: \"Bing\",\n  LOCAL: \"Local\",\n  TMS: \"TMS\",\n  WMS: \"WMS\",\n  WMTS: \"WMTS\",\n  G3WSUITE: \"G3WSUITE\"\n  /*\n  ADD ALSO TO PROVIDER FACTORY\n  */\n};\n\n// Source Types\nLayer.SourceTypes = {\n  VIRTUAL: 'virtual',\n  POSTGIS: 'postgres',\n  SPATIALITE: 'spatialite',\n  ORACLE: 'oracle',\n  MSSQL: 'mssql',\n  CSV: 'delimitedtext',\n  OGR: 'ogr',\n  GDAL: 'gdal',\n  WMS: 'wms',\n  WMST: \"wmst\",\n  WFS: 'wfs',\n  WCS: \"wcs\",\n  MDAL: \"mdal\",\n  \"VECTOR-TILE\": \"vector-tile\",\n  VECTORTILE: \"vectortile\",\n  ARCGISMAPSERVER: 'arcgismapserver',\n  GEOJSON: \"geojson\"\n  /*\n  ADD TO PROVIDER FACTORY\n  */\n};\n\n// Layer Capabilities\nLayer.CAPABILITIES = {\n  QUERYABLE: 1,\n  FILTERABLE: 2,\n  EDITABLE: 4\n};\n\n//Editing types\nLayer.EDITOPS = {\n  INSERT: 1,\n  UPDATE: 2,\n  DELETE: 4\n};\n\n//selection state\nLayer.SELECTION_STATE = {\n  ALL: '__ALL__',\n  EXCLUDE: '__EXCLUDE__'\n};\n\nmodule.exports = Layer;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/providers/providersfactory\":52,\"core/relations/relations\":64,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/application\":339,\"services/data\":346,\"store/application-state\":361,\"store/projects\":367}],36:[function(require,module,exports){\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar BaseLayers = require('core/layers/baselayers/baselayers');\nvar GeojsonLayer = require('core/layers/geojson');\n\n// Class to build layer based on configuration\nfunction LayerFactory() {\n  this.build = function (config, options) {\n    // return the layer instance\n    var layerClass = this.get(config);\n    return layerClass ? new layerClass(config, options) : null;\n  };\n\n  this.get = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var LayerClass = void 0;\n    var serverType = config.servertype;\n    switch (serverType) {\n      case Layer.ServerTypes.QGIS:\n        if (config.source) {\n          if (config.geometrytype) {\n            if ([Layer.SourceTypes.VIRTUAL, Layer.SourceTypes.POSTGIS, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE, Layer.SourceTypes.WFS, Layer.SourceTypes.CSV, Layer.SourceTypes.ORACLE, Layer.SourceTypes.OGR, Layer.SourceTypes.MDAL].find(function (sourcetype) {\n              return sourcetype === config.source.type;\n            })) {\n              if (config.geometrytype && config.geometrytype === 'NoGeometry') LayerClass = TableLayer;else LayerClass = ImageLayer;\n            }\n          } else if ([// here set new layer has to be threat as wms\n          Layer.SourceTypes.WMST, Layer.SourceTypes.WCS, Layer.SourceTypes.WMS, Layer.SourceTypes.GDAL, Layer.SourceTypes.VECTORTILE, Layer.SourceTypes[\"VECTOR-TILE\"], Layer.SourceTypes.MDAL].find(function (sourcetype) {\n            return sourcetype === config.source.type;\n          })) LayerClass = ImageLayer;\n        }\n        break;\n      case Layer.ServerTypes.OGC:\n        if (config.source) {\n          var type = config.source.type;\n          switch (type) {\n            case Layer.SourceTypes.WMS:\n              LayerClass = ImageLayer;\n              break;\n            case Layer.SourceTypes.WFS:\n              LayerClass = VectorLayer;\n          }\n        }\n        break;\n      case Layer.ServerTypes.LOCAL:\n        LayerClass = VectorLayer;\n        break;\n      case Layer.ServerTypes.OSM:\n      case Layer.ServerTypes.BING:\n      case Layer.ServerTypes.TMS:\n      case Layer.ServerTypes.WMS:\n      case Layer.ServerTypes.WMTS:\n      case Layer.ServerTypes.ARCGISMAPSERVER:\n        LayerClass = BaseLayers[serverType];\n        break;\n      case Layer.ServerTypes.G3WSUITE:\n        LayerClass = VectorLayer;\n        if (config.source) {\n          switch (config.source.type) {\n            case 'geojson':\n              LayerClass = GeojsonLayer;\n              break;\n          }\n        }\n        break;\n    }\n    return LayerClass;\n  };\n}\n\nmodule.exports = new LayerFactory();\n\n},{\"core/layers/baselayers/baselayers\":21,\"core/layers/geojson\":32,\"core/layers/imagelayer\":34,\"core/layers/layer\":35,\"core/layers/tablelayer\":57,\"core/layers/vectorlayer\":58}],37:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n// Interface for Layers\nfunction LayersStore() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = {\n    id: config.id || Date.now(),\n    projection: config.projection,\n    extent: config.extent,\n    initextent: config.initextent,\n    wmsUrl: config.wmsUrl,\n    //set catalogable property\n    catalog: _.isBoolean(config.catalog) ? config.catalog : true\n  };\n\n  this.state = {\n    //useful to build layerstree\n    layerstree: [],\n    relations: null // useful to build tree of relations\n  };\n  this._isQueryable = _.isBoolean(config.queryable) ? config.queryable : true;\n  this._layers = this.config.layers || {};\n  this.setters = {\n    setLayerSelection: function setLayerSelection(_ref) {\n      var layerId = _ref.layerId,\n          selection = _ref.selection;\n\n      var layer = this.getLayerById(layerId);\n    },\n    setLayerSelected: function setLayerSelected(layerId, selected) {\n      this.getLayers().forEach(function (layer) {\n        return layer.state.selected = layerId === layer.getId() ? selected : false;\n      });\n    },\n    addLayers: function addLayers(layers) {\n      var _this = this;\n\n      layers.forEach(function (layer) {\n        return _this.addLayer(layer);\n      });\n    },\n    addLayer: function addLayer(layer) {\n      this._addLayer(layer);\n    },\n    removeLayer: function removeLayer(layerId) {\n      this._removeLayer(layerId);\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStore, G3WObject);\n\nvar proto = LayersStore.prototype;\n\nproto.isQueryable = function () {\n  return this._isQueryable;\n};\n\nproto.setQueryable = function (bool) {\n  this._isQueryable = !!bool;\n};\n\nproto.showOnCatalog = function () {\n  return this.config.catalog;\n};\n\nproto.setOptions = function (config) {\n  this.config = config;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto._addLayer = function (layer) {\n  this._layers[layer.getId()] = layer;\n};\n\nproto._removeLayer = function (layer) {\n  var layerId = layer.getId();\n  delete this._layers[layerId];\n};\n\nproto.removeLayers = function () {\n  var _this2 = this;\n\n  Object.entries(this._layers).forEach(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        layerId = _ref3[0],\n        layer = _ref3[1];\n\n    _this2.removeLayer(layer);\n  });\n};\n\nproto.getLayersDict = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // in case  we pass filter = null\n  if (!filter) return this._layers;\n  var PRINTABLE = filter.PRINTABLE,\n      QUERYABLE = filter.QUERYABLE,\n      FILTERABLE = filter.FILTERABLE,\n      EDITABLE = filter.EDITABLE,\n      VISIBLE = filter.VISIBLE,\n      SELECTED = filter.SELECTED,\n      CACHED = filter.CACHED,\n      SELECTEDORALL = filter.SELECTEDORALL,\n      SERVERTYPE = filter.SERVERTYPE,\n      BASELAYER = filter.BASELAYER,\n      GEOLAYER = filter.GEOLAYER,\n      VECTORLAYER = filter.VECTORLAYER,\n      HIDDEN = filter.HIDDEN,\n      DISABLED = filter.DISABLED,\n      IDS = filter.IDS;\n\n  // if filter is passed\n\n  if (_.isUndefined(QUERYABLE) && _.isUndefined(FILTERABLE) && _.isUndefined(EDITABLE) && _.isUndefined(VISIBLE) && _.isUndefined(SERVERTYPE) && _.isUndefined(CACHED) && _.isUndefined(SELECTEDORALL) && _.isUndefined(SERVERTYPE) && _.isUndefined(GEOLAYER) && _.isUndefined(HIDDEN) && _.isUndefined(DISABLED) && _.isUndefined(BASELAYER) && _.isUndefined(VECTORLAYER) && _.isUndefined(PRINTABLE) && _.isUndefined(IDS)) return this._layers;\n\n  var layers = [];\n\n  for (var key in this._layers) {\n    layers.push(this._layers[key]);\n  }\n\n  if (IDS) {\n    var ids = Array.isArray(IDS) ? IDS : [IDS];\n    layers = layers.filter(function (layer) {\n      return ids.indexOf(layer.getId()) !== -1;\n    });\n  }\n\n  // return only selected if some one are selected\n  if (SELECTEDORALL) {\n    var _layers = layers;\n    layers = layers.filter(function (layer) {\n      return layer.isSelected();\n    });\n    layers = layers.length ? layers : _layers;\n  } else if (typeof SELECTED === 'boolean') layers = layers.filter(function (layer) {\n    return SELECTED === layer.isSelected();\n  });\n\n  if (typeof QUERYABLE === 'boolean') layers = layers.filter(function (layer) {\n    return QUERYABLE === layer.isQueryable();\n  });\n\n  if (typeof FILTERABLE === 'boolean') layers = layers.filter(function (layer) {\n    return FILTERABLE === layer.isFilterable(options.filtrable || null);\n  });\n\n  if (typeof EDITABLE === 'boolean') layers = layers.filter(function (layer) {\n    return EDITABLE === layer.isEditable();\n  });\n\n  if (typeof VISIBLE === 'boolean') layers = layers.filter(function (layer) {\n    return VISIBLE === layer.isVisible();\n  });\n\n  if (typeof CACHED === 'boolean') layers = layers.filter(function (layer) {\n    return CACHED === layer.isCached();\n  });\n\n  if (typeof BASELAYER === 'boolean') layers = layers.filter(function (layer) {\n    return BASELAYER === layer.isBaseLayer();\n  });\n\n  if (typeof GEOLAYER === 'boolean') layers = layers.filter(function (layer) {\n    return GEOLAYER === layer.state.geolayer;\n  });\n\n  if (typeof VECTORLAYER === 'boolean') layers = layers.filter(function (layer) {\n    return VECTORLAYER === layer.isType('vector');\n  });\n\n  if (typeof HIDDEN === 'boolean') layers = layers.filter(function (layer) {\n    return HIDDEN == layer.isHidden();\n  });\n\n  if (typeof DISABLED === 'boolean') layers = layers.filter(function (layer) {\n    return DISABLED === layer.isDisabled();\n  });\n\n  if (typeof SERVERTYPE === 'string' && SERVERTYPE !== '') layers = layers.filter(function (layer) {\n    return SERVERTYPE === layer.getServerType();\n  });\n\n  if (PRINTABLE) layers = layers.filter(function (layer) {\n    return layer.state.geolayer && layer.isPrintable({ scale: PRINTABLE.scale });\n  });\n\n  return layers;\n};\n\n// return layers array\nproto.getLayers = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return Object.values(this.getLayersDict(filter, options));\n};\n\nproto.getBaseLayers = function () {\n  return this.getLayersDict({\n    BASELAYER: true\n  });\n};\n\nproto.getLayerById = function (layerId) {\n  return this.getLayersDict()[layerId];\n};\n\nproto.getLayerByName = function (name) {\n  return this._layers.find(function (layer) {\n    return layer.getName() === name;\n  });\n};\n\nproto.getLayerAttributes = function (layerId) {\n  return this.getLayerById(layerId).getAttributes();\n};\n\nproto.getLayerAttributeLabel = function (layerId, name) {\n  return this.getLayerById(layerId).getAttributeLabel(name);\n};\n\nproto.getGeoLayers = function () {\n  return this.getLayers({\n    GEOLAYER: true\n  });\n};\n\nproto._getAllSiblingsChildrenLayersId = function (layerstree) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);else traverse(node);\n    });\n  };\n  traverse(layerstree);\n  return nodeIds;\n};\n\nproto._getAllParentLayersId = function (layerstree, node) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);\n      //else traverse(node);\n    });\n  };\n\n  traverse({\n    nodes: layerstree.nodes.filter(function (_node) {\n      return _node !== node;\n    })\n  });\n\n  return nodeIds;\n};\n\nproto.selectLayer = function (layerId, selected) {\n  this.setLayerSelected(layerId, selected);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getExtent = function () {\n  return this.config.extent;\n};\n\nproto.getInitExtent = function () {\n  return this.config.initextent;\n};\n\nproto.getWmsUrl = function () {\n  return this.config.wmsUrl;\n};\n\n// set layersstree of layers inside the laysstore\nproto.setLayersTree = function (layerstree, name) {\n  var _this3 = this;\n\n  var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  // this is a root group project that contain all layerstree of qgis project\n  var rootGroup = {\n    title: name || this.config.id,\n    root: true,\n    parentGroup: null,\n    expanded: expanded,\n    disabled: false,\n    checked: true,\n    nodes: layerstree\n  };\n  var traverse = function traverse(nodes, parentGroup) {\n    nodes.forEach(function (node, index) {\n      // case of layer substitute node with layere state\n      if (node.id !== undefined) nodes[index] = _this3.getLayerById(node.id).getState();\n      if (node.nodes) {\n        node.nodes.forEach(function (node) {\n          return node.parentGroup = parentGroup;\n        });\n        traverse(node.nodes, node);\n      }\n      //SET PARENT GROUP\n      nodes[index].parentGroup = parentGroup;\n    });\n  };\n  if (layerstree.length) {\n    traverse(layerstree, rootGroup);\n    // at the end\n    this.state.layerstree.splice(0, 0, rootGroup);\n  }\n};\n\n// used by from plugin (or external code) to build layerstree\n// layer groupNem is a ProjectName\nproto.createLayersTree = function (groupName) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var full = options.full || false;\n  var expanded = options.expanded;\n  var _layerstree = options.layerstree || null;\n  var tocLayersId = this.getLayers({ BASELAYER: false }).map(function (layer) {\n    return layer.getId();\n  });\n  var layerstree = [];\n  if (_layerstree) {\n    if (full === true) return this.state.layerstree;else {\n      var traverse = function traverse(obj, newobj) {\n        obj.forEach(function (layer) {\n          var lightlayer = {};\n          if (layer.id !== null && layer.id !== undefined) {\n            if (tocLayersId.find(function (toclayerId) {\n              return toclayerId === layer.id;\n            })) {\n              lightlayer.id = layer.id;\n            } else lightlayer = null;\n          }\n          // case group\n          if (layer.nodes !== null && layer.nodes !== undefined) {\n            lightlayer.title = layer.name;\n            lightlayer.groupId = uniqueId();\n            lightlayer.nodes = [];\n            lightlayer.checked = layer.checked;\n            lightlayer.mutually_exclusive = layer[\"mutually-exclusive\"];\n            traverse(layer.nodes, lightlayer.nodes);\n          }\n          /** toggle expanded property for legend item (TOC) **/\n          lightlayer.expanded = layer.expanded;\n          lightlayer && newobj.push(lightlayer);\n        });\n      };\n      traverse(_layerstree, layerstree);\n    }\n  } else {\n    var geoLayers = this.getGeoLayers();\n    geoLayers.forEach(function (layer) {\n      layerstree.push({\n        id: layer.getId(),\n        name: layer.getName(),\n        title: layer.getTitle(),\n        visible: layer.isVisible() || false\n      });\n    });\n  }\n  // setLayerstree\n  this.setLayersTree(layerstree, groupName, expanded);\n};\n\nproto.removeLayersTree = function () {\n  this.state.layerstree.splice(0, this.state.layerstree.length);\n};\n\nproto.getLayersTree = function () {\n  return this.state.layerstree;\n};\n\nmodule.exports = LayersStore;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],38:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Registy Layers\nfunction LayersStoresRegistry() {\n  this.stores = {};\n  this.storesArray = [];\n  // to react some application components that are binding to Layerstore\n  this.setters = {\n    addLayersStore: function addLayersStore(layersStore, idx) {\n      this._addLayersStore(layersStore, idx);\n    },\n    removeLayersStore: function removeLayersStore(layerStore) {\n      this._removeLayersStore(layerStore);\n    },\n    removeLayersStores: function removeLayersStores() {\n      this._removeLayersStores();\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStoresRegistry, G3WObject);\n\nvar proto = LayersStoresRegistry.prototype;\n\nproto.getLayerById = function (layerId) {\n  var layer = void 0;\n  for (var storeId in this.stores) {\n    var layerStore = this.stores[storeId];\n    layer = layerStore.getLayerById(layerId);\n    if (layer) break;\n  }\n  return layer;\n};\n\nproto.getLayers = function (filter) {\n  var layers = [];\n  Object.entries(this.stores).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        storeId = _ref2[0],\n        layersStore = _ref2[1];\n\n    layers = layers.concat(layersStore.getLayers(filter));\n  });\n  return layers;\n};\n\nproto.getQuerableLayersStores = function () {\n  return this.getLayersStores().filter(function (layersStore) {\n    return layersStore.isQueryable();\n  });\n};\n\nproto.getLayersStore = function (id) {\n  return this.stores[id];\n};\n\nproto.getLayersStores = function () {\n  var _this = this;\n\n  var stores = [];\n  this.storesArray.forEach(function (storeId) {\n    stores.push(_this.stores[storeId]);\n  });\n  return stores;\n};\n\nproto._addLayersStore = function (layersStore, idx) {\n  var storeId = layersStore.getId();\n  this.stores[storeId] = layersStore;\n  if (!_.isNil(idx)) this.storesArray.splice(idx, 0, storeId);else this.storesArray.push(storeId);\n};\n\nproto._removeLayersStore = function (layerStore) {\n  if (layerStore) {\n    var storeId = layerStore.getId();\n    this.storesArray = this.storesArray.filter(function (_storeId) {\n      return _storeId != storeId;\n    });\n    delete this.stores[storeId];\n  }\n};\n\nproto._removeLayersStores = function () {\n  this.storesArray = [];\n  this.stores = {};\n};\n\nmodule.exports = LayersStoresRegistry;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],39:[function(require,module,exports){\nfunction ARGISMAPSERVERLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params;\n  var _layer$getConfig$sour = layer.getConfig().source,\n      url = _layer$getConfig$sour.url,\n      layername = _layer$getConfig$sour.layer;\n\n  var serviceUrl = url.replace('/rest/', '/');\n  return serviceUrl + '/WMSServer?request=GetLegendGraphic&version=1.3.0&format=image/png&LAYER=' + layername;\n};\n\nmodule.exports = ARGISMAPSERVERLegend;\n\n},{}],40:[function(require,module,exports){\nvar TYPES = {\n  'wms': require('./wmslegend'),\n  'argismapserver': require('./arcgismapserverlegend')\n};\n\nvar Legendservice = {\n  get: function get() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref.layer,\n        params = _ref.params,\n        _ref$options = _ref.options,\n        options = _ref$options === undefined ? {} : _ref$options;\n\n    var type = layer.isArcgisMapserver() ? 'argismapserver' : 'wms';\n    return TYPES[type]({\n      layer: layer,\n      params: params,\n      options: options\n    });\n  }\n};\n\nmodule.exports = Legendservice;\n\n},{\"./arcgismapserverlegend\":39,\"./wmslegend\":41}],41:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require.get_LEGEND_ON_LEGEND_OFF_Params;\n\nfunction WMSLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n  var width = params.width,\n      height = params.height,\n      _params$color = params.color,\n      color = _params$color === undefined ? \"white\" : _params$color,\n      _params$fontsize = params.fontsize,\n      fontsize = _params$fontsize === undefined ? 10 : _params$fontsize,\n      _params$transparent = params.transparent,\n      transparent = _params$transparent === undefined ? true : _params$transparent,\n      boxspace = params.boxspace,\n      layerspace = params.layerspace,\n      _params$layertitle = params.layertitle,\n      layertitle = _params$layertitle === undefined ? true : _params$layertitle,\n      layertitlespace = params.layertitlespace,\n      symbolspace = params.symbolspace,\n      iconlabelspace = params.iconlabelspace,\n      symbolwidth = params.symbolwidth,\n      symbolheight = params.symbolheight,\n      itemfontfamily = params.itemfontfamily,\n      layerfontfamily = params.layerfontfamily,\n      layerfontbold = params.layerfontbold,\n      itemfontbold = params.itemfontbold,\n      layerfontitalic = params.layerfontitalic,\n      itemfontitalic = params.itemfontitalic,\n      rulelabel = params.rulelabel,\n      crs = params.crs,\n      bbox = params.bbox,\n      _params$sld_version = params.sld_version,\n      sld_version = _params$sld_version === undefined ? '1.1.0' : _params$sld_version;\n\n  var LAYER = layer.getWMSLayerName({\n    type: 'legend'\n  });\n  /*\n   to check if used or passed\n   */\n  var _options$categories = options.categories,\n      categories = _options$categories === undefined ? false : _options$categories,\n      _options$all = options.all,\n      all = _options$all === undefined ? false : _options$all;\n\n  bbox = all ? null : bbox; // all=true meas no filter parameters as BBOX\n  var url = layer.getWmsUrl({ type: 'legend' });\n  var STYLES = void 0;\n  var FORMAT = 'image/png';\n  if (categories) {\n    //set 16 for symbol of chart or other legend symbol\n    symbolwidth = symbolheight = 16;\n    STYLES = encodeURIComponent(layer.getCurrentStyle().name);\n    FORMAT = 'application/json';\n  }\n  var dynamicLegend = _projects2.default.getCurrentProject().getContextBaseLegend();\n  // in case of GetLegendGraphic of format application/json LEGEND_ON and LEGEND_OFF need to be undefined\n  // because it create some strange behaviour on wms getMap when switch between style of layer\n\n  var _ref2 = dynamicLegend && categories ? get_LEGEND_ON_LEGEND_OFF_Params(layer) : {},\n      LEGEND_ON = _ref2.LEGEND_ON,\n      LEGEND_OFF = _ref2.LEGEND_OFF;\n\n  var sep = url.indexOf('?') > -1 ? '&' : '?';\n  return ['' + url + sep + 'SERVICE=WMS&VERSION=1.3.0&REQUEST=GetLegendGraphic&SLD_VERSION=' + sld_version, '' + (width ? '&WIDTH=' + width : ''), '' + (height ? '&HEIGHT=' + height : ''), '&FORMAT=' + FORMAT, '&TRANSPARENT=' + transparent, '&ITEMFONTCOLOR=' + color, '&LAYERFONTCOLOR=' + color, '&LAYERTITLE=' + layertitle, '&ITEMFONTSIZE=' + fontsize, '' + (crs ? '&CRS=' + crs : ''), '' + (bbox ? '&BBOX=' + bbox.join(',') : ''), '' + (boxspace ? '&BOXSPACE=' + boxspace : ''), '' + (layerspace ? '&LAYERSPACE=' + layerspace : ''), '' + (layertitlespace ? '&LAYERTITLESPACE=' + layertitlespace : ''), '' + (symbolspace ? '&SYMBOLSPACE=' + symbolspace : ''), '' + (iconlabelspace ? '&ICONLABELSPACE=' + iconlabelspace : ''), '' + (symbolwidth ? '&SYMBOLWIDTH=' + symbolwidth : ''), '' + (symbolheight ? '&SYMBOLHEIGHT=' + symbolheight : ''), '' + (layerfontfamily ? '&LAYERFONTFAMILY=' + layerfontfamily : ''), '' + (itemfontfamily ? '&ITEMFONTFAMILY=' + itemfontfamily : ''), '' + (layerfontbold ? '&LAYERFONTBOLD=' + layerfontbold : ''), '' + (itemfontbold ? '&ITEMFONTBOLD=' + itemfontbold : ''), '' + (layerfontitalic ? '&LAYERFONTITALIC=' + layerfontitalic : ''), '' + (itemfontitalic ? '&ITEMFONTITALIC=' + itemfontitalic : ''), '' + (rulelabel ? '&RULELABEL=' + rulelabel : ''), '' + (LEGEND_ON ? '&LEGEND_ON=' + LEGEND_ON : ''), '' + (LEGEND_OFF ? '&LEGEND_OFF=' + LEGEND_OFF : ''), '' + (STYLES ? '&STYLES=' + STYLES : ''), '&LAYER=' + LAYER].join('');\n}\n\nmodule.exports = WMSLegend;\n\n},{\"core/utils/geo\":65,\"store/projects\":367}],42:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar WMSLAYER = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction ARCGISMAPSERVERLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, options, extraParams);\n}\n\ninherit(ARCGISMAPSERVERLayer, WMSLAYER);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var config = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    format: this.config.format\n  };\n  var olLayer = new RasterLayers.TiledArgisMapServer(config);\n  olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n\n  olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/map/wmslayer\":46,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":105}],43:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar VectorLayer = require('core/layers/map/vectorlayer');\n\nfunction GeojsonLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var provider = options.provider;\n  this.setProvider(provider);\n  base(this, options);\n  this.getFeatures({\n    url: options.url,\n    mapProjection: this.mapProjection\n  });\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/vectorlayer\":45,\"core/utils/utils\":68}],44:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction MapLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n  this.id = config.id;\n  this.iframe_internal = config.iframe_internal || false;\n  this.extent = config.extent;\n  this.projection = config.projection;\n  this.layer = null;\n  this.layers = config.layers || []; // store all enabled layers\n  this.allLayers = []; // store all layers\n  this.showSpinnerWhenLoading = true;\n  base(this);\n}\n\ninherit(MapLayer, G3WObject);\n\nvar proto = MapLayer.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getOLLayer = function () {\n  console.log('every sub classes has to be override');\n};\n\nproto.update = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this._updateLayers(mapState, extraParams);\n};\n\nproto.checkLayerDisabled = function (layer, resolution, mapUnits) {\n  layer.setDisabled(resolution, mapUnits);\n  return layer.isDisabled();\n};\n\n// check which layers has to be disabled\nproto.checkLayersDisabled = function (resolution, mapUnits) {\n  var _this = this;\n\n  this.allLayers.forEach(function (layer) {\n    return _this.checkLayerDisabled(layer, resolution, mapUnits);\n  });\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  //to owerwrite for each map layer subclass\n\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n};\n\nmodule.exports = MapLayer;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],45:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlLayer = _require2.createOlLayer,\n    createLayerStyle = _require2.createLayerStyle;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction VectorLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.geometrytype = options.geometrytype || null;\n  this.type = options.type || null;\n  this.crs = options.crs || null;\n  this.id = options.id;\n  this.name = options.name || \"\";\n  this.style = options.style;\n  this.color = options.color;\n  this.geometryType = options.geometryType;\n  this.mapProjection = this.mapService.getProjection().getCode();\n  this.projection = options.projection || this.mapProjection;\n  this.url = options.url;\n  this.provider = options.provider;\n  this._features = options.features || [];\n  this._olLayer = options.olLayer || this.getOLLayer();\n}\n\ninherit(VectorLayer, G3WObject);\n\nmodule.exports = VectorLayer;\n\nvar proto = VectorLayer.prototype;\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\nproto.resetSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var source = new ol.source.Vector({\n    features: features\n  });\n  this.setSource(source);\n};\n\nproto._makeOlLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      style = _ref.style;\n\n  var _style = this._makeStyle(style);\n  this._olLayer = new ol.layer.Vector({\n    name: this.name,\n    id: this.id,\n    style: _style,\n    source: new ol.source.Vector({})\n  });\n};\n\nproto._makeStyle = function (styleConfig) {\n  var style = void 0;\n  var styles = {};\n  if (styleConfig) {\n    Object.entries(styleConfig).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          type = _ref3[0],\n          config = _ref3[1];\n\n      switch (type) {\n        case 'point':\n          if (config.icon) {\n            styles.image = new ol.style.Icon({\n              src: config.icon.url,\n              imageSize: config.icon.width\n            });\n          }\n          break;\n        case 'line':\n          styles.stroke = new ol.style.Stroke({\n            color: config.color,\n            width: config.width\n          });\n          break;\n        case 'polygon':\n          styles.fill = new ol.style.Fill({\n            color: config.color\n          });\n          break;\n      }\n    });\n    style = new ol.style.Style(styles);\n  }\n  return style;\n};\n\nproto.getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this.provider.getFeatures(options).then(function (features) {\n    _this.addFeatures(features);\n    d.resolve(features);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getSource().addFeatures(features);\n};\n\nproto.addFeature = function (feature) {\n  feature && this.getSource().addFeature(feature);\n};\n\nproto.getOLLayer = function () {\n  if (this._olLayer) return this._olLayer;else {\n    var id = this.id;\n    var geometryType = this.geometryType;\n    var color = this.color;\n    var style = this.style ? createLayerStyle(this.style) : null;\n    this._olLayer = createOlLayer({\n      id: id,\n      geometryType: geometryType,\n      color: color,\n      style: style,\n      features: this._features\n    });\n  }\n  return this._olLayer;\n};\n\nproto.setOLLayer = function (olLayer) {\n  this._olLayer = olLayer;\n};\n\nproto.getSource = function () {\n  !this._olLayer && this.getOLLayer();\n  return this._olLayer.getSource();\n};\n\nproto.setSource = function (source) {\n  this._olLayer.setSource(source);\n};\n\nproto.setStyle = function (style) {\n  this._olLayer.setStyle(style);\n};\n\nproto.getFeatureById = function (fid) {\n  return fid ? this._olLayer.getSource().getFeatureById(fid) : null;\n};\n\nproto.isVisible = function () {\n  return this._olLayer.getVisible();\n};\n\nproto.setVisible = function (bool) {\n  this._olLayer.setVisible(bool);\n};\n\nproto.clear = function () {\n  this.getSource().clear();\n};\n\nproto.addToMap = function (map) {\n  map.addLayer(this._olLayer);\n};\n\n},{\"core/g3wobject\":13,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/gui\":349}],46:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSLayer, MapLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto.getOLLayer = function (withLayers) {\n  if (!this._olLayer) this._olLayer = this._makeOlLayer(withLayers);\n  return this._olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getGetFeatureInfoUrl = function (coordinate, resolution, epsg, params) {\n  return this.getOLLayer().getSource().getGetFeatureInfoUrl(coordinate, resolution, epsg, params);\n};\n\nproto.getLayerConfigs = function () {\n  return this.layers;\n};\n\nproto.addLayer = function (layer) {\n  if (!this.allLayers.find(function (_layer) {\n    return layer === _layer;\n  })) this.allLayers.push(layer);\n  if (!this.layers.find(function (_layer) {\n    return layer === _layer;\n  })) this.layers.push(layer);\n};\n\nproto.removeLayer = function (layer) {\n  this.layers = this.layers.filter(function (_layer) {\n    return layer !== _layer;\n  });\n};\n\nproto.isVisible = function () {\n  return this._getVisibleLayers().length > 0;\n};\n\nproto.getQueryUrl = function () {\n  var layer = this.layers[0];\n  if (layer.infourl && layer.infourl !== '') return layer.infourl;\n  return this.config.url;\n};\n\nproto.getQueryableLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isQueryable();\n  });\n};\n\nproto._getVisibleLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isVisible();\n  });\n};\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.WMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('imageloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('imageloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\n//update Layers\nproto._updateLayers = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force,\n      params = _objectWithoutProperties(extraParams, ['force']);\n  //check disabled layers\n\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  var visibleLayers = this._getVisibleLayers(mapState) || [];\n\n  var _require2 = require('core/utils/geo'),\n      get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\n  if (visibleLayers.length > 0) {\n    var CATEGORIES_LAYERS = {};\n    var STYLES = visibleLayers.map(function (layer) {\n      var layerId = layer.getWMSLayerName();\n      CATEGORIES_LAYERS[layerId] = _extends({}, get_LEGEND_ON_LEGEND_OFF_Params(layer));\n      return layer.getStyle();\n    }).join(',');\n    var LEGEND_ON = void 0;\n    var LEGEND_OFF = void 0;\n    Object.keys(CATEGORIES_LAYERS).forEach(function (layerId) {\n      if (CATEGORIES_LAYERS[layerId].LEGEND_OFF) {\n        if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = CATEGORIES_LAYERS[layerId].LEGEND_OFF;else LEGEND_OFF = LEGEND_OFF + ';' + CATEGORIES_LAYERS[layerId].LEGEND_OFF;\n      }\n      if (CATEGORIES_LAYERS[layerId].LEGEND_ON) {\n        if (typeof LEGEND_ON === 'undefined') LEGEND_ON = CATEGORIES_LAYERS[layerId].LEGEND_ON;else LEGEND_ON = LEGEND_ON + ';' + CATEGORIES_LAYERS[layerId].LEGEND_ON;\n      }\n    });\n    var prefix = visibleLayers[0].isArcgisMapserver() ? 'show:' : '';\n    params = _extends({}, params, {\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      STYLES: STYLES,\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF,\n      LAYERS: '' + prefix + visibleLayers.map(function (layer) {\n        return layer.getWMSLayerName();\n      }).join(',')\n    });\n    this._olLayer.setVisible(true);\n    this._olLayer.getSource().updateParams(params);\n  } else this._olLayer.setVisible(false);\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (this.layer) this.layer.setMapParamstoLegendUrl(params);else this.layers.forEach(function (layer) {\n    return layer.setMapParamstoLegendUrl(params);\n  });\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/map/maplayer\":44,\"core/utils/geo\":65,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":105,\"store/application-state\":361}],47:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSTLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSTLayer, WMSLayer);\n\nvar proto = WMSTLayer.prototype;\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.TiledWMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('tileloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('tileloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('tileloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSTLayer;\n\n},{\"core/layers/map/wmslayer\":46,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":105,\"store/application-state\":361}],48:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction XYZLayer(options) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  base(this, options);\n  this._method = method;\n}\n\ninherit(XYZLayer, MapLayer);\n\nvar proto = XYZLayer.prototype;\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) olLayer = this._olLayer = this._makeOlLayer();\n  return olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getLayerConfigs = function () {\n  return this.layer;\n};\n\nproto.addLayer = function (layer) {\n  this.layer = layer;\n  this.layers.push(layer);\n  this.allLayers.push(layer);\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.isVisible = function () {\n  return layer.state.visible;\n};\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var projection = this.projection ? this.projection : this.layer.getProjection();\n  var layerOptions = {\n    url: this.layer.getCacheUrl() + '/{z}/{x}/{y}.png',\n    maxZoom: 20,\n    extent: this.config.extent,\n    iframe_internal: this.iframe_internal\n  };\n\n  layerOptions.projection = projection;\n  this._olLayer = new RasterLayers.XYZLayer(layerOptions, this._method);\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n  this._olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return this._olLayer;\n};\n\nproto._updateLayer = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force;\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  this._olLayer.setVisible(this.layer.isVisible());\n};\n\nmodule.exports = XYZLayer;\n\n},{\"core/layers/map/maplayer\":44,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":105}],49:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Provider = require('core/layers/providers/provider');\n\nfunction GEOJSONDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'geojson';\n  this.provider = options.provider;\n}\n\ninherit(GEOJSONDataProvider, Provider);\n\nvar proto = GEOJSONDataProvider.prototype;\n\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  d.resolve([]);\n  return d.promise();\n};\n\nproto.getFeatures = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var url = options.url || this.getLayer().get('source').url;\n  var data = options.data;\n  var projection = options.projection || \"EPSG:4326\";\n  var mapProjection = options.mapProjection;\n  var parseFeatures = function parseFeatures(data) {\n    var parser = new ol.format.GeoJSON();\n    return parser.readFeatures(data, {\n      featureProjection: mapProjection,\n      //defaultDataProjection: projection // ol v. 4.5\n      dataProjection: projection\n    });\n  };\n  if (data) {\n    var features = parseFeatures(data);\n    d.resolve(features);\n  } else {\n    $.get({ url: url }).then(function (response) {\n      var features = parseFeatures(response.results);\n      d.resolve(features);\n    }).fail(function (err) {\n      d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto.getDataTable = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      page = _ref.page;\n\n  var d = $.Deferred();\n  this.getFeatures().then(function () {\n    d.resolve(_this._features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.digestFeaturesForTable = function () {\n  return {\n    headers: [],\n    features: []\n  };\n};\n\nmodule.exports = GEOJSONDataProvider;\n\n},{\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],50:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction KMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'kml';\n}\n\ninherit(KMLDataProvider, DataProvider);\n\nvar proto = KMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = KMLDataProvider;\n\n},{\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],51:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    getTimeoutPromise = _require.getTimeoutPromise;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/utils/geo'),\n    handleQueryResponse = _require2.handleQueryResponse;\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nfunction Provider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._isReady = false;\n  this._name = 'provider';\n  this._layer = options.layer;\n  this._hasFieldsStartWithNotPermittedKey;\n  base(this);\n}\n\ninherit(Provider, G3WObject);\n\nvar proto = Provider.prototype;\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n};\n\nproto.getFeatures = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.query = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.setReady = function (bool) {\n  this._isReady = bool;\n};\n\nproto.isReady = function () {\n  return this._isReady;\n};\n\nproto.error = function () {};\n\nproto.isValid = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.getName = function () {\n  return this._name;\n};\n\n// Method to transform xml from server to present to queryresult component\nproto.handleQueryResponseFromServer = function (response, projections) {\n  var layers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [this._layer];\n  var wms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  return handleQueryResponse({\n    response: response,\n    projections: projections,\n    layers: layers,\n    wms: wms\n  });\n};\n\nproto.getQueryResponseTimeoutKey = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === undefined ? [this._layer] : _ref$layers,\n      resolve = _ref.resolve,\n      query = _ref.query;\n\n  /**\n   * set timeout of a query\n   * @type {number}\n   */\n  return getTimeoutPromise({\n    resolve: resolve,\n    data: {\n      data: responseParser.utils.getTimeoutData(layers),\n      query: query\n    }\n  });\n};\n\nmodule.exports = Provider;\n\n},{\"core/g3wobject\":13,\"core/utils/geo\":65,\"core/utils/parsers\":67,\"core/utils/utils\":68}],52:[function(require,module,exports){\nvar Providers = {\n  geojson: require('./geojsonprovider'),\n  kml: require('./kmlprovider'),\n  xml: require('./xmlprovider'),\n  qgis: require('./qgisprovider'),\n  wms: require('./wmsprovider'),\n  wfs: require('./wfsprovider')\n};\n\nvar ProvidersForServerTypes = {\n  'QGIS': {\n    'virtual': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'postgres': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'oracle': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'mssql': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'spatialite': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'ogr': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'delimitedtext': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'wmst': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wcs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wms': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wfs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis\n    },\n    'gdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vector-tile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vectortile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'arcgismapserver': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'mdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'OGC': {\n    'wms': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'G3WSUITE': {\n    'geojson': {\n      query: Providers.geojson,\n      filter: null,\n      data: Providers.geojson,\n      search: null\n    }\n  }\n};\n\nfunction ProviderFactory() {\n  this.build = function (providerType, serverType, sourceType, options) {\n    // return instace of seletced provider\n    var providerClass = this.get(providerType, serverType, sourceType);\n    if (providerClass) {\n      return new providerClass(options);\n    }\n    return null;\n  };\n\n  this.get = function (providerType, serverType, sourceType) {\n    return ProvidersForServerTypes[serverType][sourceType][providerType];\n  };\n}\n\nmodule.exports = new ProviderFactory();\n\n},{\"./geojsonprovider\":49,\"./kmlprovider\":50,\"./qgisprovider\":53,\"./wfsprovider\":54,\"./wmsprovider\":55,\"./xmlprovider\":56}],53:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nvar Feature = require('core/layers/features/feature');\nvar Parsers = require('core/utils/parsers');\n\nfunction QGISProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'qgis';\n  this._layer = options.layer || {};\n  this._projections = {\n    map: null,\n    layer: null\n  };\n  // url referred to query\n  this._queryUrl = this._layer.getUrl('query');\n  //filtertokenurl\n  this._filtertokenUrl = this._layer.getUrl('filtertoken');\n  // layer name\n  this._layerName = this._layer.getName() || null; // get name  from QGIS layer, because the query are proxed from g3w-server\n  this._infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n}\n\ninherit(QGISProvider, DataProvider);\n\nvar proto = QGISProvider.prototype;\n/*\n* token: current token if provide\n* action: create, update, delete\n* */\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: {\n              mode: 'delete'\n            }\n          });\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.getFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: params\n          });\n\n        case 3:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? {} : _ref3$data;\n          return _context2.abrupt('return', data.filtertoken);\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](0);\n          return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n        case 12:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[0, 9]]);\n}));\n\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref5.field,\n      _ref5$raw = _ref5.raw,\n      raw = _ref5$raw === undefined ? false : _ref5$raw,\n      _ref5$suggest = _ref5.suggest,\n      suggest = _ref5$suggest === undefined ? {} : _ref5$suggest,\n      unique = _ref5.unique,\n      _ref5$formatter = _ref5.formatter,\n      formatter = _ref5$formatter === undefined ? 1 : _ref5$formatter,\n      queryUrl = _ref5.queryUrl,\n      ordering = _ref5.ordering;\n\n  var dataUrl, params, response, isVector, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          dataUrl = this._layer.getUrl('data');\n          params = {\n            field: field,\n            suggest: suggest,\n            ordering: ordering,\n            formatter: formatter,\n            unique: unique,\n            filtertoken: _applicationState2.default.tokens.filtertoken\n          };\n          _context3.prev = 2;\n          _context3.next = 5;\n          return XHR.get({\n            url: '' + (queryUrl ? queryUrl : dataUrl),\n            params: params\n          });\n\n        case 5:\n          response = _context3.sent;\n          isVector = this._layer.getType() !== \"table\";\n\n          isVector && this.setProjections();\n          data = raw ? response : response.result ? unique ? response.data : {\n            data: responseParser.get('application/json')({\n              layers: [this._layer],\n              response: response.vector.data,\n              projections: this._projections\n            })\n          } : Promise.reject();\n          return _context3.abrupt('return', data);\n\n        case 12:\n          _context3.prev = 12;\n          _context3.t0 = _context3['catch'](2);\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 15:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[2, 12]]);\n}));\n\nproto.setProjections = function () {\n  //COMMENTED LAYER PROJECTION: EXPECT ONLY RESULT IN MAP PROJECTION\n  //this._projections.layer = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || this._projections.layer;\n};\n\n//query by filter\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var feature_count = options.feature_count || 10;\n  // parameter to get rwa response\n  var raw = options.raw || false;\n  var _options$filter = options.filter,\n      filter = _options$filter === undefined ? null : _options$filter;\n\n  filter = filter && Array.isArray(filter) ? filter : [filter];\n  var isVector = this._layer.getType() !== \"table\";\n  isVector && this.setProjections();\n  var CRS = isVector ? this._projections.map.getCode() : _applicationState2.default.map.epsg;\n  var queryUrl = options.queryUrl || this._queryUrl;\n  var I = options.I,\n      J = options.J,\n      layers = options.layers;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  }).join(',') : this._layer.getWMSLayerName();\n  if (filter) {\n    // check if geometry filter. If not i have to remove projection layer\n    if (filter[0].getType() !== 'geometry') this._projections.layer = null;\n    filter = filter.map(function (filter) {\n      return filter.get();\n    }).filter(function (value) {\n      return value;\n    });\n    var url = queryUrl;\n    var params = {\n      SERVICE: 'WMS',\n      VERSION: '1.3.0',\n      REQUEST: 'GetFeatureInfo',\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      LAYERS: layerNames,\n      QUERY_LAYERS: layerNames,\n      INFO_FORMAT: this._infoFormat,\n      FEATURE_COUNT: feature_count,\n      CRS: CRS,\n      I: I,\n      J: J,\n      FILTER: filter && filter.length ? filter.join(';') : undefined,\n      WITH_GEOMETRY: isVector\n    };\n    XHR.get({\n      url: url,\n      params: params\n    }).then(function (response) {\n      var featuresForLayers = raw ? response : _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve(featuresForLayers);\n    }).catch(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get layer config\nproto.getConfig = function () {\n  var d = $.Deferred();\n  var url = this._layer.getUrl('config');\n  if (!url) {\n    d.reject('not valid url');\n    return;\n  }\n  $.get(url).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getWidgetData = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var type = options.type,\n      fields = options.fields;\n\n  var widgetUrls = this._layer.getUrl('widget');\n  var url = widgetUrls[type];\n  return $.get(url, {\n    fields: fields\n  });\n};\n\n// unlock feature\nproto.unlock = function () {\n  var unlockUrl = this._layer.getUrl('unlock');\n  var d = $.Deferred();\n  $.post(unlockUrl).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// commit function\nproto.commit = function (commitItems) {\n  var d = $.Deferred();\n  //check if editing or not;\n  var url = this._layer.getUrl('commit');\n  var jsonCommits = JSON.stringify(commitItems);\n  $.post({\n    url: url,\n    data: jsonCommits,\n    contentType: \"application/json\"\n  }).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// METODS LOADING EDITING FEATURES (READ/WRITE) //\nproto.getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // filter null value\n  Object.entries(params).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        key = _ref7[0],\n        value = _ref7[1];\n\n    if (value === null || value === void 0) delete params[key];\n  });\n  var layerType = this._layer.getType();\n  // check if data are requested in read or write mode;\n  var url = void 0;\n  //set contentType\n  var contentType = \"application/json\";\n  //editing mode\n  if (options.editing) {\n    var promise = void 0;\n    url = this._layer.getUrl('editing');\n    if (!url) {\n      d.reject('Url not valid');\n      return;\n    }\n    var urlParams = $.param(params);\n    url += urlParams ? '?' + urlParams : '';\n    var features = [];\n    var filter = options.filter || null;\n    if (filter) {\n      // filterbbox\n      if (filter.bbox) {\n        var bbox = filter.bbox;\n        filter = {\n          in_bbox: bbox[0] + ',' + bbox[1] + ',' + bbox[2] + ',' + bbox[3],\n          filtertoken: _applicationState2.default.tokens.filtertoken\n        };\n        var jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: jsonFilter,\n          contentType: contentType\n        });\n        // filter fid\n      } else if (filter.fid) {\n        var _options = filter.fid;\n        promise = _relations2.default.getRelations(_options);\n      } else if (filter.field) {\n        var _jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter,\n          contentType: contentType\n        });\n      } else if (filter.fids) {\n        promise = XHR.get({\n          url: url,\n          params: filter\n        });\n      } else if (filter.nofeatures) {\n        var _jsonFilter2 = JSON.stringify({\n          field: (filter.nofeatures_field || 'id') + '|eq|__G3W__NO_FEATURES__'\n        });\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter2,\n          contentType: contentType\n        });\n      }\n    } else promise = XHR.post({ url: url, contentType: contentType });\n    promise.then(function (response) {\n      var vector = response.vector,\n          result = response.result,\n          featurelocks = response.featurelocks;\n\n      if (result) {\n        var data = vector.data,\n            geometrytype = vector.geometrytype,\n            count = vector.count;\n\n        var parser = Parsers[layerType].get({\n          type: 'json'\n        });\n        //const parser_options = (geometrytype !== 'NoGeometry') ? { crs: this._layer.getCrs(), mapCrs: this._layer.getMapCrs() } : {};\n        var parser_options = geometrytype !== 'NoGeometry' ? { crs: _this2._layer.getCrs() } : {};\n        //get lockIds\n        var lockIds = featurelocks.map(function (featureLock) {\n          return featureLock.featureid;\n        });\n        parser(data, parser_options).forEach(function (feature) {\n          var featureId = '' + feature.getId();\n          if (lockIds.indexOf(featureId) > -1) {\n            features.push(new Feature({\n              feature: feature\n            }));\n          }\n        });\n        // resolve with features locked and requested\n        d.resolve({\n          count: count, // real number of feature that request will return\n          features: features, // feature object returned\n          featurelocks: featurelocks // features locked\n        });\n      } else {\n        // case when server responde with result false (error)\n        d.reject({\n          message: t(\"info.server_error\")\n        });\n      }\n    }).catch(function (err) {\n      return d.reject({ message: t(\"info.server_error\") });\n    });\n  } else {\n    url = this._layer.getUrl('data');\n    var _urlParams = $.param(params);\n    url += _urlParams ? '?' + _urlParams : '';\n    $.get({\n      url: url,\n      contentType: contentType\n    }).then(function (response) {\n      var vector = response.vector;\n      var data = vector.data;\n      d.resolve({\n        data: data,\n        count: vector.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._loadLayerData = function (mode, customUrlParameters) {\n  var _this3 = this,\n      _arguments = arguments;\n\n  var d = $.Deferred();\n  Obkect.entries(this._layers).forEach(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        layerCode = _ref9[0],\n        layer = _ref9[1];\n\n    if (_.isNull(layer.vector)) noVectorlayerCodes.push(layerCode);\n  });\n  var vectorLayersSetup = noVectorlayerCodes.map(function (layerCode) {\n    return _this3._setupVectorLayer(layerCode);\n  });\n  this.emit('loadingvectorlayersstart');\n  $.when.apply(this, vectorLayersSetup).then(function () {\n    var vectorLayersCodes = Array.prototype.slice.call(_arguments);\n    _this3.emit('loadingvectolayersdatastart');\n    _this3.loadAllVectorsData(vectorLayersCodes).then(function () {\n      _this3._vectorLayersCodes = vectorLayersCodes;\n      d.resolve(vectorLayersCodes);\n      _this3.emit('loadingvectorlayersend');\n      _this3.setReady(true);\n    }).fail(function () {\n      _this3._layers.forEach(function (layer) {\n        return layer.vector = null;\n      });\n      d.reject();\n      _this3.emit('errorloadingvectorlayersend');\n      _this3.setReady(false);\n    });\n  }).fail(function () {\n    _this3.setReady(false);\n    _this3.emit('errorloadingvectorlayersend');\n    d.reject();\n  });\n  return d.promise();\n};\n\nproto.setVectorLayersCodes = function (vectorLayersCodes) {\n  this._vectorLayersCodes = vectorLayersCodes;\n};\n\nproto.getVectorLayersCodes = function () {\n  return this._vectorLayersCodes;\n};\n\nproto.getLayers = function () {\n  return this._layers;\n};\n\nproto.reloadVectorData = function (layerCode) {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    _this4._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n      _this4.setVectorLayerData(vectorLayer[_this4._editingApiField], vectorDataResponse);\n      vectorLayer.setData(vectorDataResponse.vector.data);\n      d.resolve(vectorLayer);\n    });\n  });\n  return d.promise();\n};\n\nproto.loadAllVectorsData = function (layerCodes) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  var layers = this._layers;\n  var bbox = this._mapService.state.bbox;\n  var loadedExtent = this._loadedExtent;\n  if (loadedExtent && ol.extent.containsExtent(loadedExtent, bbox)) {\n    return resolvedValue();\n  }\n  this._loadedExtent = !loadedExtent ? bbox : ol.extent.extend(loadedExtent, bbox);\n  if (layerCodes) {\n    layers = [];\n    layerCodes.forEach(function (layerCode) {\n      return layers.push(_this5._layers[layerCode]);\n    });\n  }\n  var vectorDataRequests = layers.map(function (Layer) {\n    return _this5._loadVectorData(Layer.vector, bbox);\n  });\n\n  $.when.apply(this, vectorDataRequests).then(function () {\n    return d.resolve(layerCodes);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setCustomUrlParameters = function (customUrlParameters) {\n  this._customUrlParameters = customUrlParameters;\n};\n\nproto._checkVectorGeometryTypeFromConfig = function (vectorConfig) {\n  switch (vectorConfig.geometrytype) {\n    case 'Line':\n      vectorConfig.geometrytype = 'LineString';\n      break;\n    case 'MultiLine':\n      vectorConfig.geometrytype = 'MultiLineString';\n      break;\n  }\n  return vectorConfig;\n};\n\nproto._createVectorLayerFromConfig = function (layerCode) {\n  var _this6 = this;\n\n  var layerConfig = this._layers[layerCode];\n  var d = $.Deferred();\n  this._getVectorLayerConfig(layerConfig[this._editingApiField]).then(function (vectorConfigResponse) {\n    var vectorConfig = vectorConfigResponse.vector;\n    vectorConfig = _this6._checkVectorGeometryTypeFromConfig(vectorConfig);\n    var crsLayer = layerConfig.crs || _this6._mapService.getProjection().getCode();\n    var vectorLayer = _this6._createVectorLayer({\n      geometrytype: vectorConfig.geometrytype,\n      format: vectorConfig.format,\n      crs: _this6._mapService.getProjection().getCode(),\n      crsLayer: crsLayer,\n      id: layerConfig.id,\n      name: layerConfig.name,\n      editing: self._editingMode\n    });\n    vectorLayer.setFields(vectorConfig.fields);\n    vectorLayer.setCrs(crsLayer);\n    var relations = vectorConfig.relations;\n    if (relations) {\n      vectorLayer.lazyRelations = true;\n      vectorLayer.setRelations(relations);\n    }\n    if (layerConfig.style) vectorLayer.setStyle(layerConfig.style);\n    d.resolve(vectorLayer);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setupVectorLayer = function (layerCode) {\n  var _this7 = this;\n\n  var d = $.Deferred();\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    var layerConfig = _this7._layers[layerCode];\n    layerConfig.vector = vectorLayer;\n    d.resolve(layerCode);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._loadVectorData = function (vectorLayer, bbox) {\n  var _this8 = this;\n\n  return self._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n    _this8.setVectorLayerData(vectorLayer[_this8._editingApiField], vectorDataResponse);\n    if (_this8._editingMode && vectorDataResponse.featurelocks) {\n      _this8.setVectorFeaturesLock(vectorLayer, vectorDataResponse.featurelocks);\n    }\n    vectorLayer.setData(vectorDataResponse.vector.data);\n    if (_this8._) return vectorDataResponse;\n  }).fail(function () {\n    return false;\n  });\n};\n\nproto.getVectorLayerData = function (layerCode) {\n  return this._vectorLayersData[layerCode];\n};\n\nproto.getVectorLayersData = function () {\n  return this._vectorLayersData;\n};\n\nproto.setVectorLayerData = function (layerCode, vectorLayerData) {\n  this._vectorLayersData[layerCode] = vectorLayerData;\n};\n\nproto.setVectorFeaturesLock = function (vectorLayer, featureslock) {\n  var newFeaturesLockIds = _.differenceBy(featureslock, vectorLayer.getFeatureLocks(), 'featureid');\n  newFeaturesLockIds.forEach(function (newLockId) {\n    vectorLayer.addLockId(newLockId);\n  });\n};\n\nproto.cleanVectorFeaturesLock = function (vectorLayer) {\n  vectorLayer.cleanFeatureLocks();\n};\n\nproto.lockFeatures = function (layerName) {\n  var _this9 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  var vectorLayer = this._layers[layerName].vector;\n  $.get(this._baseUrl + layerName + \"/?lock\" + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    _this9.setVectorFeaturesLock(vectorLayer, data.featurelocks);\n    d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerConfig = function (layerApiField) {\n  var d = $.Deferred();\n  $.get(this._baseUrl + layerApiField + \"/?config\" + this._customUrlParameters).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerData = function (vectorLayer, bbox) {\n  var d = $.Deferred();\n  var lock = this.getMode() == 'w' ? true : false;\n  var apiUrl = lock ? this._baseUrl + vectorLayer[this._editingApiField] + \"/?editing\" : this._baseUrl + vectorLayer[this._editingApiField] + \"/?\";\n  $.get(apiUrl + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._createVectorLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var vector = new VectorLayer(options);\n  return vector;\n};\n\nproto.cleanUpLayers = function () {\n  this._loadedExtent = null;\n};\n\nmodule.exports = QGISProvider;\n\n},{\"core/i18n/i18n.service\":14,\"core/layers/features/feature\":27,\"core/layers/providers/provider\":51,\"core/utils/parsers\":67,\"core/utils/utils\":68,\"services/relations\":355,\"store/application-state\":361}],54:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar DataProvider = require('core/layers/providers/provider');\nvar Filter = require('core/layers/filter/filter');\n\nfunction WFSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wfs';\n}\n\ninherit(WFSDataProvider, DataProvider);\n\nvar proto = WFSDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\n// query method\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$reproject = options.reproject,\n      reproject = _options$reproject === undefined ? false : _options$reproject,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      filter = options.filter;\n\n  params.MAXFEATURES = feature_count;\n  var d = $.Deferred();\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers;\n\n\n  var projections = {\n    map: this._layer.getMapProjection(),\n    layer: reproject ? this._layer.getProjection() : null\n  };\n\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: {}\n  });\n\n  this._doRequest(filter, params, layers, reproject).then(function (response) {\n    var featuresForLayers = _this.handleQueryResponseFromServer(response, projections, layers, wms = false);\n    featuresForLayers.forEach(function (featuresForLayer) {\n      var _featuresForLayer$fea = featuresForLayer.features,\n          features = _featuresForLayer$fea === undefined ? [] : _featuresForLayer$fea;\n      //sanitize in case of nil:true\n\n      features.forEach(function (feature) {\n        Object.entries(feature.getProperties()).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              attribute = _ref2[0],\n              value = _ref2[1];\n\n          if (toRawType(value) === 'Object' && value['xsi:nil']) feature.set(attribute, 'NULL');\n        });\n      });\n    });\n    d.resolve({\n      data: featuresForLayers\n    });\n  }).fail(function (e) {\n    return d.reject(e);\n  }).always(function () {\n    clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto._post = function (url, params) {\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  $.post(url, params).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// get request\nproto._get = function (url, params) {\n  // trasform parameters\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  var urlParams = $.param(params);\n  url = url + '?' + urlParams;\n  $.get(url).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//request to server\nproto._doRequest = function (filter) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var layers = arguments[2];\n  var reproject = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var d = $.Deferred();\n  filter = filter || new Filter({});\n  var layer = layers ? layers[0] : this._layer;\n  var httpMethod = layer.getOwsMethod();\n  var url = layer.getQueryUrl();\n  var infoFormat = layer.getInfoFormat();\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWFSLayerName();\n  }).join(',') : layer.getWFSLayerName();\n  var SRSNAME = reproject ? layer.getProjection().getCode() : this._layer.getMapProjection().getCode();\n  params = Object.assign(params, {\n    SERVICE: 'WFS',\n    VERSION: '1.1.0',\n    REQUEST: 'GetFeature',\n    TYPENAME: layerNames,\n    OUTPUTFORMAT: infoFormat,\n    SRSNAME: SRSNAME\n  });\n  if (filter) {\n    var filterType = filter.getType();\n    var filterConfig = filter.getConfig();\n    var featureRequest = void 0;\n    // get filter from ol\n    var f = ol.format.filter;\n    /////\n    filter = filter.get();\n    switch (filterType) {\n      case 'bbox':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f.bbox('the_geom', filter)\n        });\n        break;\n      case 'geometry':\n        //speatial methos. <inteserct, within>\n        var _filterConfig$spatial = filterConfig.spatialMethod,\n            spatialMethod = _filterConfig$spatial === undefined ? 'intersects' : _filterConfig$spatial;\n\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f[spatialMethod]('the_geom', filter)\n        });\n        break;\n      case 'expression':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: null\n        });\n        break;\n      case 'all':\n        request = this._post(url, params);\n        return request;\n      default:\n        break;\n    }\n    params.FILTER = ('(' + featureRequest.children[0].innerHTML + ')').repeat(layers ? layers.length : 1);\n    var queryPromise = httpMethod === 'GET' && filterType !== 'geometry' ? this._get(url, params) : this._post(url, params);\n    queryPromise.then(function (response) {\n      d.resolve(response);\n    }).fail(function (err) {\n      if (err.status === 200) d.resolve(err.responseText);else d.reject(err);\n    });\n  } else d.reject();\n\n  return d.promise();\n};\n\nmodule.exports = WFSDataProvider;\n\n},{\"core/layers/filter/filter\":31,\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],55:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    appendParams = _require.appendParams,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\nvar geoutils = require('core/utils/ol');\nvar DataProvider = require('core/layers/providers/provider');\n\n//overwrite method to read feature\n// da un geojson\nvar GETFEATUREINFO_IMAGE_SIZE = [101, 101];\nvar DPI = geoutils.getDPI();\n\nfunction WMSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wms';\n  this._projections = {\n    map: null,\n    layer: null\n  };\n}\n\ninherit(WMSDataProvider, DataProvider);\n\nvar proto = WMSDataProvider.prototype;\n\nproto._getRequestParameters = function (_ref) {\n  var layers = _ref.layers,\n      feature_count = _ref.feature_count,\n      coordinates = _ref.coordinates,\n      infoFormat = _ref.infoFormat,\n      _ref$query_point_tole = _ref.query_point_tolerance,\n      query_point_tolerance = _ref$query_point_tole === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref$query_point_tole,\n      resolution = _ref.resolution,\n      size = _ref.size;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSInfoLayerName();\n  }).join(',') : this._layer.getWMSInfoLayerName();\n  var extent = geoutils.getExtentForViewAndSize(coordinates, resolution, 0, size);\n  var x = Math.floor((coordinates[0] - extent[0]) / resolution);\n  var y = Math.floor((extent[3] - coordinates[1]) / resolution);\n  var PARAMS_TOLERANCE = {};\n  var unit = query_point_tolerance.unit,\n      value = query_point_tolerance.value;\n\n  if (unit === 'map') {\n    var bufferGeometry = ol.geom.Polygon.fromCircle(new ol.geom.Circle(coordinates, value));\n    var wkGeometry = new ol.format.WKT();\n    PARAMS_TOLERANCE = {\n      FILTER_GEOM: wkGeometry.writeGeometry(bufferGeometry)\n    };\n  } else {\n    PARAMS_TOLERANCE = {\n      FI_POINT_TOLERANCE: value,\n      FI_LINE_TOLERANCE: value,\n      FI_POLYGON_TOLERANCE: value,\n      G3W_TOLERANCE: value * resolution,\n      I: x,\n      J: y\n    };\n  }\n  /**\n   * Add LEGEND_ON and/or LEGEND_OFF in case of layer that has categories\n   * It used to solve issue related to GetFeatureInfo feature layer categories\n   * that are unchecked (not visisble) at QGIS project setting\n   */\n  var LEGEND_PARAMS = {\n    LEGEND_ON: [],\n    LEGEND_OFF: []\n  };\n  layers.forEach(function (layer) {\n    if (layer.getCategories()) {\n      var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer),\n          LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON,\n          LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n\n      LEGEND_ON && LEGEND_PARAMS.LEGEND_ON.push(LEGEND_ON);\n      LEGEND_OFF && LEGEND_PARAMS.LEGEND_OFF.push(LEGEND_OFF);\n    }\n  });\n\n  var params = _extends({\n    SERVICE: 'WMS',\n    VERSION: '1.3.0',\n    REQUEST: 'GetFeatureInfo',\n    CRS: this._projections.map.getCode(),\n    LAYERS: layerNames,\n    QUERY_LAYERS: layerNames,\n    filtertoken: _applicationState2.default.tokens.filtertoken,\n    INFO_FORMAT: infoFormat,\n    FEATURE_COUNT: feature_count,\n    WITH_GEOMETRY: true,\n    DPI: DPI\n  }, PARAMS_TOLERANCE, {\n    WIDTH: size[0],\n    HEIGHT: size[1],\n    //LEGEND_ON / LEGEND_OFF parameter\n    LEGEND_ON: LEGEND_PARAMS.LEGEND_ON.length ? LEGEND_PARAMS.LEGEND_ON.join(';') : undefined,\n    LEGEND_OFF: LEGEND_PARAMS.LEGEND_OFF.length ? LEGEND_PARAMS.LEGEND_OFF.join(';') : undefined\n  });\n  if (!('STYLES' in params)) params['STYLES'] = '';\n  var bbox = this._projections.map.getAxisOrientation().substr(0, 2) === 'ne' ? [extent[1], extent[0], extent[3], extent[2]] : extent;\n  params['BBOX'] = bbox.join(',');\n  return params;\n};\n\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n  var layerProjection = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || layerProjection;\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      _options$size = options.size,\n      size = _options$size === undefined ? GETFEATUREINFO_IMAGE_SIZE : _options$size,\n      _options$coordinates = options.coordinates,\n      coordinates = _options$coordinates === undefined ? [] : _options$coordinates,\n      resolution = options.resolution,\n      query_point_tolerance = options.query_point_tolerance;\n\n  var layer = layers[0];\n  var url = layer.getQueryUrl();\n  var METHOD = layer.isExternalWMS() || !/^\\/ows/.test(url) ? 'GET' : layer.getOwsMethod();\n  var params = this._getRequestParameters({ layers: layers, feature_count: feature_count, coordinates: coordinates, infoFormat: infoFormat, query_point_tolerance: query_point_tolerance, resolution: resolution, size: size });\n  var query = {\n    coordinates: coordinates,\n    resolution: resolution\n  };\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: query\n  });\n\n  if (layer.useProxy()) {\n    layer.getDataProxyFromServer('wms', {\n      url: url,\n      params: params,\n      method: METHOD,\n      headers: {\n        'Content-Type': infoFormat\n      }\n    }).then(function (response) {\n      var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve({\n        data: data,\n        query: query\n      });\n    });\n  } else this[METHOD]({ url: url, layers: layers, params: params }).then(function (response) {\n    var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n    d.resolve({\n      data: data,\n      query: query\n    });\n  }).catch(function (err) {\n    return d.reject(err);\n  }).finally(function () {\n    return clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto.GET = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref2.url,\n      params = _ref2.params;\n\n  var sourceParam = url.split('SOURCE');\n  if (sourceParam.length) {\n    url = sourceParam[0];\n    if (sourceParam.length > 1) sourceParam = '&SOURCE' + sourceParam[1];else sourceParam = '';\n  }\n  url = appendParams(url, params);\n  url = '' + url + (sourceParam && sourceParam);\n  return XHR.get({\n    url: url\n  });\n};\n\nproto.POST = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref3.url,\n      params = _ref3.params;\n\n  return XHR.post({\n    url: url,\n    data: params\n  });\n};\n\nmodule.exports = WMSDataProvider;\n\n},{\"constant\":5,\"core/layers/providers/provider\":51,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"store/application-state\":361}],56:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction XMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'xml';\n}\n\ninherit(XMLDataProvider, DataProvider);\n\nvar proto = XMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = XMLDataProvider;\n\n},{\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],57:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Layer = require('core/layers/layer');\nvar Editor = require('core/editing/editor');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar Feature = require('core/layers/features/feature');\n\n// Base Layer that support editing\nfunction TableLayer() {\n  var _this3 = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // setters\n  this.setters = {\n    // delete all features\n    clearFeatures: function clearFeatures() {\n      this._clearFeatures();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    setFeatures: function setFeatures(features) {\n      this._setFeatures(features);\n    },\n\n    // get data from every sources (server, wms, etc..)\n    // throught provider related to featuresstore\n    getFeatures: function getFeatures() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var d = $.Deferred();\n      this._featuresstore.getFeatures(options).then(function (promise) {\n        promise.then(function (features) {\n          _this.emit('getFeatures', features);\n          return d.resolve(features);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n      return d.promise();\n    },\n    commit: function commit(commitItems) {\n      var _this2 = this;\n\n      var d = $.Deferred();\n      this._featuresstore.commit(commitItems).then(function (promise) {\n        promise.then(function (response) {\n          response && response.result && _this2.syncSelectionFilterFeatures(commitItems);\n          d.resolve(response);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        d.reject(err);\n      });\n      return d.promise();\n    },\n    setColor: function setColor(color) {\n      this._setColor(color);\n    }\n  };\n  /*\n   * editing url api:\n   * /api/vector/<type of request: data/editing/config>/<project_type>/<project_id>/<layer_id>\n   * example: /api/vector/config/qdjango/10/points273849503023\n   *\n  */\n  this.type = Layer.LayerTypes.TABLE;\n  // color\n  this._color = null;\n  options.project = options.project || _projects2.default.getCurrentProject();\n  this.layerId = config.id;\n  // add urls\n  config.urls = config.urls || {};\n  // add editing configurations\n  config.editing = {\n    fields: [] // editing fields\n  };\n  // call base layer\n  base(this, config, options);\n\n  // get configuration from server if is editable\n  this._editatbleLayer;\n  if (this.isEditable()) {\n    // add state info for the layer\n    this.layerForEditing = new Promise(function (resolve, reject) {\n      _this3.getEditingConfig().then(function () {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            vector = _ref.vector,\n            _ref$constraints = _ref.constraints,\n            constraints = _ref$constraints === undefined ? {} : _ref$constraints,\n            _ref$capabilities = _ref.capabilities,\n            capabilities = _ref$capabilities === undefined ? _constant.DEFAULT_EDITING_CAPABILITIES : _ref$capabilities;\n\n        _this3.config.editing.fields = vector.fields;\n        _this3.config.editing.format = vector.format;\n        _this3.config.editing.constraints = constraints;\n        //set default editing capabilities\n        _this3.config.editing.capabilities = capabilities;\n        _this3.config.editing.style = vector.style;\n        _this3.config.editing.form = {\n          perc: null\n        };\n        _this3._setOtherConfigParameters(vector);\n        vector.style && _this3.setColor(vector.style.color);\n        // create an instance of editor\n        _this3._editor = new Editor({\n          layer: _this3\n        });\n\n        resolve(_this3);\n        _this3.setReady(true);\n      }).fail(function (err) {\n        reject(_this3);\n        _this3.setReady(false);\n      });\n    });\n    this.state = _extends({}, this.state, {\n      editing: {\n        started: false,\n        modified: false,\n        ready: false\n      }\n    });\n  }\n  this._featuresstore = new FeaturesStore({\n    provider: this.providers.data\n  });\n}\n\ninherit(TableLayer, Layer);\n\nvar proto = TableLayer.prototype;\n\n//sync selection\nproto.syncSelectionFilterFeatures = function (commitItems) {\n  try {\n    var layer = _catalogLayers2.default.getLayerById(this.getId());\n    layer.isGeoLayer() && commitItems.update.forEach(function (updateItem) {\n      var id = updateItem.id,\n          geometry = updateItem.geometry;\n\n      layer.getOlSelectionFeature(id) && layer.updateOlSelectionFeature({ id: id, geometry: geometry });\n    });\n    commitItems.delete.forEach(function (id) {\n      layer.hasSelectionFid(id) && layer.excludeSelectionFid(id);\n    });\n  } catch (err) {}\n};\n\nproto.setFormPercentage = function (perc) {\n  this.config.editing.form.perc = perc;\n};\n\nproto.getFormPercentage = function () {\n  return this.config.editing.form.perc;\n};\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.cloneFeatures = function () {\n  return this._featuresstore.clone();\n};\n\nproto.setVectorUrl = function (url) {\n  this.vectorUrl = url;\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto._setColor = function (color) {\n  this._color = color;\n};\n\nproto.getColor = function () {\n  return this._color;\n};\n\nproto.readFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// return layer for editing\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      vectorurl = _ref3.vectorurl,\n      project_type = _ref3.project_type;\n\n  var editableLayer;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          vectorurl && this.setVectorUrl(vectorurl);\n          project_type && this.setProjectType(project_type);\n          this.setEditingUrl();\n          editableLayer = this.clone();\n          _context.prev = 4;\n          _context.next = 7;\n          return editableLayer.layerForEditing;\n\n        case 7:\n          return _context.abrupt('return', _context.sent);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](4);\n          return _context.abrupt('return', _context.t0);\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[4, 10]]);\n}));\n\nproto.getEditingSource = function () {\n  return this._editor.getEditingSource();\n};\n\nproto.readEditingFeatures = function () {\n  return this._editor.readEditingFeatures();\n};\n\nproto.getEditingLayer = function () {\n  return this;\n};\n\n//check if is editingLayer useful to get editingstyle\nproto.isEditingLayer = function () {\n  return !!this.config.editing;\n};\n\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto.setEditingStyle = function () {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.editing.style = style;\n};\n\nproto.getEditingConstrains = function () {\n  return this.config.editing.constraints;\n};\n\nproto.getEditingCapabilities = function () {\n  return this.config.editing.capabilities;\n};\n\nproto.isFieldRequired = function (fieldName) {\n  var required = false;\n  this.getEditingFields().forEach(function (field) {\n    if (fieldName === field.name) {\n      required = !!field.validate.required;\n      return false;\n    }\n  });\n  return required;\n};\n\n// unlock editng features\nproto.unlock = function () {\n  var d = $.Deferred();\n  this._featuresstore.unlock().then(function () {\n    return d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto._setOtherConfigParameters = function (config) {\n  // overwrite by vector layer\n};\n\n// return layer fields\nproto.getEditingFields = function () {\n  var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var fields = this.config.editing.fields.length ? this.config.editing.fields : this.config.fields;\n  if (editable) fields = fields.filter(function (field) {\n    return field.editable;\n  });\n  return fields;\n};\n\nproto.isPkField = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field && find_field.pk;\n};\n\nproto.isEditingFieldEditable = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field ? find_field.editable : false;\n};\n\nproto.getEditingNotEditableFields = function () {\n  return this.config.editing.fields.filter(function (field) {\n    return !field.editable;\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getEditingMediaFields = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  return this.config.editing.fields.filter(function (field) {\n    return field.input.type === 'media';\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getFieldsLabel = function () {\n  var labels = [];\n  this.getEditingFields().forEach(function (field) {\n    return labels.push(field.label);\n  });\n  return labels;\n};\n\nproto.getDataFormat = function () {\n  return this.config.editing.format;\n};\n\n// raw data\nproto.getEditingFormat = function () {\n  return this.config.editing.format;\n};\n\nproto.isReady = function () {\n  return this.state.editing.ready;\n};\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.editing.ready = bool;\n};\n\n// get configuration from server\nproto.getEditingConfig = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider('data');\n  provider.getConfig(options).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addEditingConfigFieldOption = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref4.field,\n      key = _ref4.key,\n      value = _ref4.value;\n\n  var options = field.input.options;\n  options[key] = value;\n  return options[key];\n};\n\nproto.getWidgetData = function (options) {\n  var provider = this.getProvider('data');\n  var d = $.Deferred();\n  provider.getWidgetData(options).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getCommitUrl = function () {\n  return this.config.urls.commit;\n};\n\nproto.setCommitUrl = function (url) {\n  this.config.urls.commit = url;\n};\n\nproto.getEditingUrl = function () {\n  return this.config.urls.editing;\n};\n\nproto.getUnlockUrl = function () {\n  return this.config.url.unlock;\n};\n\nproto.setUnlockUrl = function (url) {\n  this.config.urls.unlock = url;\n};\n\nproto.getWidgetUrl = function () {\n  return this.config.urls.widget;\n};\n\n// set data url\nproto.setDataUrl = function (url) {\n  this.config.urls.data = url;\n};\n\nproto.getDataUrl = function () {\n  return this.config.urls.data;\n};\n\n// url to get config layer\nproto.getConfigUrl = function () {\n  return this.config.urls.config;\n};\n\nproto.setConfigUrl = function (url) {\n  this.config.urls.index = url;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.isStarted = function () {\n  return this.getEditor().isStarted();\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\nproto.getFeaturesStore = function () {\n  return this._featuresstore;\n};\n\nproto.setFeaturesStore = function (featuresstore) {\n  this._featuresstore = featuresstore;\n};\n\nproto.setSource = function (source) {\n  this.setFeaturesStore(source);\n};\n\nproto.getSource = function () {\n  return this._featuresstore;\n};\n\n// get editing style\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.addFeatures = function (features) {\n  var _this4 = this;\n\n  features.forEach(function (feature) {\n    return _this4.addFeature(feature);\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  return feature.getId();\n};\n\nproto._updateFeature = function (feature) {};\n\nproto._clearFeatures = function () {\n  this._featuresstore.clearFeatures();\n};\n\nproto.addLockIds = function (lockIds) {\n  this._featuresstore.addLockIds(lockIds);\n};\n\nproto.setFieldsWithValues = function (feature, fields) {\n  var createAttributesFromFields = function createAttributesFromFields(fields) {\n    var attributes = {};\n    fields.forEach(function (field) {\n      if (field.type === 'child') {\n        attributes[field.name] = createAttributesFromFields(field.fields);\n      } else if (field.value === 'null') {\n        field.value = null;\n      }\n      attributes[field.name] = field.value;\n    });\n    return attributes;\n  };\n  var attributes = createAttributesFromFields(fields);\n  feature.setProperties(attributes);\n  return attributes;\n};\n\nproto.getFieldsWithValues = function (obj) {\n  var _this5 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$exclude = options.exclude,\n      exclude = _options$exclude === undefined ? [] : _options$exclude,\n      _options$get_default_ = options.get_default_value,\n      get_default_value = _options$get_default_ === undefined ? true : _options$get_default_;\n\n  var fields = JSON.parse(JSON.stringify(this.getEditingFields()));\n  var feature = void 0;\n  if (obj instanceof Feature) feature = obj;else if (obj instanceof ol.Feature) feature = new Feature({\n    feature: obj\n  });else feature = obj && this.getFeatureById(obj);\n  if (feature) {\n    var attributes = feature.getProperties();\n\n    fields.forEach(function (field) {\n\n      field.value = attributes[field.name];\n      // store original value\n      field._value = attributes[field.name];\n      // at beginning set update false. Used to form\n      field.update = false;\n      if (field.input) {\n        var _configField = _this5.getEditingFields().find(function (_field) {\n          return _field.name === field.name;\n        });\n        var _options = _configField.input.options;\n        field.input.options.loading = _options.loading || { state: null };\n        field.input.options.values = _options.values;\n      }\n      /**\n       * exclude contain field to set visible false\n       */\n      field.visible = exclude.indexOf(field.name) === -1;\n      // for editing purpose\n      if (field.validate === undefined) field.validate = {};\n      field.forceNull = false;\n      field.validate.valid = true;\n      field.validate._valid = true; //useful to get previous value in certain case\n      field.value_from_default_value = false; // need to be check if default value is set by server configuration field\n      field.get_default_value = get_default_value; // specify if need to get value from form field.input.options.default value in case of missing value of field.value\n      field.validate.unique = field.validate.unique || false;\n      field.validate.exclude_values = new Set(); // for validate.unique purpose to check is new value iserted or change need to be di\n      field.validate.required = field.validate.required || false;\n      field.validate.mutually_valid = true;\n      field.validate.empty = !field.validate.required;\n      field.validate.message = null;\n      // end editing purpose\n    });\n  }\n  return fields;\n};\n\nproto.createNewFeature = function () {\n  var feature = new ol.Feature();\n  var properties = {};\n  this.getEditingFields().forEach(function (field) {\n    return properties[field.name] = null;\n  });\n  feature.setProperties(properties);\n  feature = new Feature({\n    feature: feature\n  });\n  feature.setNew();\n  return feature;\n};\n\nmodule.exports = TableLayer;\n\n},{\"app/constant\":5,\"core/editing/editor\":7,\"core/layers/features/feature\":27,\"core/layers/features/featuresstore\":28,\"core/layers/layer\":35,\"core/utils/utils\":68,\"store/catalog-layers\":362,\"store/projects\":367}],58:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\nvar VectorMapLayer = require('core/layers/map/vectorlayer');\n\nfunction VectorLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments[1];\n\n  base(this, config, options);\n  this._mapLayer = null; // later tah will be added to map\n  this.type = Layer.LayerTypes.VECTOR;\n  // need a ol layer for add to map\n  this.setup(config, options);\n  this.onafter('setColor', function (color) {});\n}\n\ninherit(VectorLayer, TableLayer);\n\nmixin(VectorLayer, GeoLayerMixin);\n\nvar proto = VectorLayer.prototype;\n\nproto.getEditingLayer = function () {\n  return this.getMapLayer().getOLLayer();\n};\n\nproto.resetEditingSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getMapLayer().resetSource(features);\n};\n\nproto._setOtherConfigParameters = function (config) {\n  this.config.editing.geometrytype = config.geometrytype;\n};\n\nproto.getEditingGeometryType = function () {\n  return this.config.editing.geometrytype;\n};\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var id = this.getId();\n  var geometryType = this.getGeometryType();\n  var color = this.getColor();\n  var style = this.isEditingLayer() ? this.getEditingStyle() : this.getCustomStyle();\n  var provider = this.getProvider('data');\n  this._mapLayer = new VectorMapLayer({\n    id: id,\n    geometryType: geometryType,\n    color: color,\n    style: style,\n    provider: provider,\n    features: this._editor && this._editor.getEditingSource().getFeaturesCollection()\n  });\n  return this._mapLayer;\n};\n\nmodule.exports = VectorLayer;\n\n},{\"core/layers/geolayermixin\":33,\"core/layers/layer\":35,\"core/layers/map/vectorlayer\":45,\"core/layers/tablelayer\":57,\"core/utils/utils\":68}],59:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar G3WObject = require('core/g3wobject');\nvar ComponentsFactory = require('gui/component/componentsfactory');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    addI18nPlugin = _require2.addI18nPlugin;\n\nvar TIMEOUT = 10000;\n\nvar Plugin = function Plugin() {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? null : _ref$name,\n      _ref$config = _ref.config,\n      config = _ref$config === undefined ? _plugins2.default.getPluginConfig(name) : _ref$config,\n      _ref$service = _ref.service,\n      service = _ref$service === undefined ? null : _ref$service,\n      _ref$dependencies = _ref.dependencies,\n      dependencies = _ref$dependencies === undefined ? [] : _ref$dependencies,\n      _ref$i18n = _ref.i18n,\n      i18n = _ref$i18n === undefined ? null : _ref$i18n,\n      _ref$fontClasses = _ref.fontClasses,\n      fontClasses = _ref$fontClasses === undefined ? [] : _ref$fontClasses,\n      _ref$api = _ref.api,\n      api = _ref$api === undefined ? {} : _ref$api;\n\n  base(this);\n\n  this.setName(name);\n  this.setConfig(config);\n  this.setLocale(i18n);\n  this.setService(service);\n  this.setDependencies(dependencies);\n  this.addFontClasses(fontClasses);\n  this.setApi(api);\n  this.setHookService(null);\n\n  this._ready = false;\n\n  // List of sidebar services that usually plugin need to interact with (hook = place/name of component)\n  this.hookservices = {\n    'search': _gui2.default.getService('search'),\n    'tools': _gui2.default.getService('tools')\n  };\n\n  // Automatically remove the loading plugin indicator after timeout\n  this._timeout = setTimeout(function () {\n    _plugins2.default.removeLoadingPlugin(_this.name, _this._ready);\n    _this.removeLayout();\n  }, TIMEOUT);\n};\n\ninherit(Plugin, G3WObject);\n\nvar proto = Plugin.prototype;\n\nproto.setName = function (name) {\n  this.name = name;\n};\n\nproto.getName = function () {\n  return this.name;\n};\n\nproto.setConfig = function (config) {\n  this.config = toRawType(config) === 'Object' ? config : null;\n};\n\nproto.getConfig = function () {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.name;\n\n  return this.config || _plugins2.default.getPluginConfig(name);\n};\n\nproto.setLocale = function (i18n) {\n  if (i18n && this.name) addI18nPlugin({ name: this.name, config: i18n });\n};\n\nproto.setService = function (service) {\n  this.service = service;\n  if (service) service.setPlugin(this);\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setDependencies = function (dependencies) {\n  this.dependencies = dependencies;\n};\n\nproto.setApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._api = api;\n  /**\n   * @FIXME useless assignment ?\n   */\n  api.getConfig = this._api.getConfig; // add alias for \"api.getConfig()\" method\n};\n\nproto.getApi = function () {\n  return this._api;\n};\n\nproto.setHookService = function (hook) {\n  this._hook = hook;\n};\n\nproto.getHookService = function () {\n  var hook = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"tools\";\n\n  return this.hookservices[hook];\n};\n\n/**\n * Override plugin's content default layout (eg. default panel width, height, ...)\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.setLayout = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _application2.default.cloneLayout('app');\n\n  _application2.default.setLayout(this.name, config);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout.__current\n */\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.name);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.removeLayout = function () {\n  _application2.default.removeLayout(this.name);\n};\n\n/**\n * @FIXME add description\n */\nproto.setReady = function (isReady) {\n  var _this2 = this;\n\n  this._ready = isReady;\n  if (this._ready) {\n    this.setLayout();\n  }\n  this.emit('set-ready', isReady, this.name);\n  /**\n   * @FIXME empty delay ?\n   */\n  setTimeout(function () {\n    clearTimeout(_this2._timeout);\n    _plugins2.default.removeLoadingPlugin(_this2.name, _this2._ready);\n  }, 0 /* 0 = allow any previously \"setTimeout\" to execute */);\n};\n\n/**\n * @FIXME add description\n */\nproto.isReady = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve) {\n    _this3._ready ? resolve(_this3._ready) : _this3.once('set-ready', function (isReady) {\n      _this3._ready = isReady;resolve(_this3._ready);\n    });\n  });\n};\n\n/**\n * Check if plugin is compatible with current projectId\n */\nproto.isCurrentProjectCompatible = function (projectId) {\n  return projectId === _projects2.default.getCurrentProject().getGid();\n};\n\n/**\n * Check and register plugin only when compatible with current projectId (eg: qdjango:1)\n */\nproto.registerPlugin = function (projectId) {\n  var iscompatible = this.isCurrentProjectCompatible(projectId);\n  if (iscompatible) {\n    _plugins2.default.registerPlugin(this);\n  } else {\n    _plugins2.default.removeLoadingPlugin(this.name, false);\n    clearTimeout(this._timeout);\n  }\n  return iscompatible;\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependencies \n */\nproto.getDependencyPlugins = function (pluginsName) {\n  var _this4 = this;\n\n  this.dependencies = pluginsName || this.dependencies;\n  return Promise.all(this.dependencies.map(function (pluginName) {\n    return _this4.getDependencyPlugin(pluginName);\n  }));\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Create to not replace above plugin method used by non changed old plugin\n */\nproto.getDependencyPluginsObject = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(pluginsName) {\n    var pluginsApiObject, promises;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pluginsApiObject = {};\n            _context.next = 3;\n            return this.getDependencyPlugins(pluginsName);\n\n          case 3:\n            promises = _context.sent;\n\n            this.dependencies.forEach(function (pluginName, index) {\n              return pluginsApiObject[pluginName] = promises[index];\n            });\n            return _context.abrupt('return', pluginsApiObject);\n\n          case 6:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependency\n */\nproto.getDependencyPlugin = function (pluginName) {\n  if (_plugins2.default.isTherePlugin(pluginName)) {\n    return new Promise(function (resolve) {\n      var plugin = _plugins2.default.getPlugin(pluginName);\n      /**\n       * @TODO refactor weird shortcircuiting logic\n       */\n      plugin && plugin.isReady().then(function () {\n        return resolve(plugin.getApi());\n      }) || _plugins2.default.onafter('registerPlugin', function (plugin) {\n        plugin.name === pluginName && plugin.isReady().then(function () {\n          resolve(plugin.getApi());\n        });\n      });\n    });\n  }\n  return Promise.reject({ error: 'no plugin' });\n};\n\n/**\n * Handle loading process of a specific hook service (eg. \"tools\" interface on the left sidebar)\n */\nproto.setHookLoading = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$hook = _ref3.hook,\n      hook = _ref3$hook === undefined ? \"tools\" : _ref3$hook,\n      _ref3$loading = _ref3.loading,\n      loading = _ref3$loading === undefined ? false : _ref3$loading;\n\n  this.getHookService(hook).setLoading(loading);\n};\n\n/**\n * @FIXME add description\n */\nproto.addToolGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$hook = _ref4.hook,\n      hook = _ref4$hook === undefined ? \"tools\" : _ref4$hook,\n      order = _ref4.position,\n      group = _ref4.title;\n\n  this.getHookService(hook).addToolGroup(order, group);\n};\n\n/**\n * @FIXME add description\n */\nproto.removeToolGroup = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      hook = _ref5.hook,\n      group = _ref5.group;\n\n  this.getHookService(hook).removeToolGroup(group.title);\n};\n\n/**\n * @FIXME add description\n */\nproto.addTools = function () {\n  var _this5 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$hook = _ref6.hook,\n      hook = _ref6$hook === undefined ? \"tools\" : _ref6$hook,\n      action = _ref6.action,\n      html = _ref6.html,\n      _ref6$offline = _ref6.offline,\n      offline = _ref6$offline === undefined ? true : _ref6$offline,\n      icon = _ref6.icon,\n      name = _ref6.name,\n      type = _ref6.type,\n      _ref6$options = _ref6.options,\n      options = _ref6$options === undefined ? {} : _ref6$options,\n      _ref6$loading = _ref6.loading,\n      loading = _ref6$loading === undefined ? false : _ref6$loading,\n      _ref6$disabled = _ref6.disabled,\n      disabled = _ref6$disabled === undefined ? false : _ref6$disabled,\n      _ref6$state = _ref6.state,\n      state = _ref6$state === undefined ? {\n    type: null,\n    message: null\n  } : _ref6$state;\n\n  var groupTools = arguments[1];\n\n  if (!action && !type) {\n    this.removeToolGroup({ hook: hook, group: groupTools });\n    return [];\n  } else {\n    this.setHookService(hook);\n    var tools = (this.config.configs || [this.config]).map(function (config) {\n      return {\n        icon: icon,\n        type: type,\n        name: config.name || name,\n        html: html,\n        loading: loading,\n        disabled: disabled,\n        options: options,\n        offline: offline,\n        action: action && action.bind(_this5, config),\n        state: state\n      };\n    });\n    this.getHookService(hook).addTools(tools, groupTools);\n    return tools;\n  }\n};\n\n/**\n * @FIXME add description\n */\nproto.setToolState = function () {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref7.id,\n      _ref7$state = _ref7.state,\n      state = _ref7$state === undefined ? { type: null, message: null } : _ref7$state;\n\n  this.hookservices[this._hook].setToolState({ id: id, state: state });\n};\n\n/**\n * @FIXME add description\n */\nproto.removeTools = function () {\n  this.hookservices[this._hook].removeTools();\n};\n\n/**\n * Helper method to create and add a custom component item on the left sidebar\n */\nproto.createSideBarComponent = function (vueComponentObject) {\n  var _ref8, _ref8$open, _ref8$collapsible, _ref8$mobile, _ref8$isolate, _ref8$closewhenshowvi, _ref8$iconConfig, _ref8$events, _ref8$sidebarOptions;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_ref8 = {}, id = _ref8.id, title = _ref8.title, _ref8$open = _ref8.open, open = _ref8$open === undefined ? false : _ref8$open, _ref8$collapsible = _ref8.collapsible, collapsible = _ref8$collapsible === undefined ? true : _ref8$collapsible, _ref8$mobile = _ref8.mobile, mobile = _ref8$mobile === undefined ? true : _ref8$mobile, _ref8$isolate = _ref8.isolate, isolate = _ref8$isolate === undefined ? false : _ref8$isolate, _ref8$closewhenshowvi = _ref8.closewhenshowviewportcontent, closewhenshowviewportcontent = _ref8$closewhenshowvi === undefined ? true : _ref8$closewhenshowvi, _ref8$iconConfig = _ref8.iconConfig, iconConfig = _ref8$iconConfig === undefined ? {\n    // color: 'yellow',                // color of icon\n    // icon:'pin',                     // see gui\\vue\\vueappplugin.js font list\n  } : _ref8$iconConfig, _ref8$events = _ref8.events, events = _ref8$events === undefined ? {\n    // open: {\n    //   when: 'before',\n    //   cb:() => { /* TODO: add sample usage */ }\n    // }\n  } : _ref8$events, _ref8$sidebarOptions = _ref8.sidebarOptions, sidebarOptions = _ref8$sidebarOptions === undefined ? {\n    position: 1 // can be a number or a string \n  } : _ref8$sidebarOptions, _ref8);\n\n\n  var componentsFactoryOpts = _extends({}, options, {\n    iconColor: options.iconConfig.color,\n    icon: _gui2.default.getFontClass(options.iconConfig.icon)\n  });\n\n  delete componentsFactoryOpts.iconConfig;\n\n  var PluginSiderbarComponent = ComponentsFactory.build({ vueComponentObject: vueComponentObject }, componentsFactoryOpts);\n  _gui2.default.addComponent(PluginSiderbarComponent, 'sidebar', options.sidebarOptions);\n  this.once('unload', function () {\n    return _gui2.default.removeComponent(id, 'sidebar', options.sidebarOptions);\n  });\n  return PluginSiderbarComponent;\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.unload = function () {\n  this.service && this.service.clearAllEvents();\n  this.emit('unload');\n  //console.log('UNLOAD can be overwrite by plugin');\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.load = function () {\n  //console.log('LOAD  need to be overwrite by plugin');\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.getProject = function () {\n  return _projects2.default.getCurrentProject();\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addDependency = function (dependency) {\n  this.dependencies.push(dependency);\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClass = function (_ref9) {\n  var name = _ref9.name,\n      className = _ref9.className;\n\n  Vue.prototype.g3wtemplate.addFontClass({ name: name, className: className });\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClasses = function () {\n  var _this6 = this;\n\n  var fonClasses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fonClasses.forEach(function (fontClass) {\n    return _this6.addFontClass(fontClass);\n  });\n};\n\nmodule.exports = Plugin;\n\n},{\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/component/componentsfactory\":114,\"services/application\":339,\"services/gui\":349,\"store/plugins\":366,\"store/projects\":367}],60:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction PluginService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.plugin;\n  this._api = {\n    own: null,\n    dependencies: {}\n  };\n  this._pluginEvents = {};\n  this._appEvents = [];\n  this.currentLayout = _application2.default.getCurrentLayoutName();\n  this.vm = new Vue();\n  this.unwatch = this.vm.$watch(function () {\n    return _applicationState2.default.gui.layout.__current;\n  }, function (currentLayoutName) {\n    return _this.currentLayout = currentLayoutName !== _this.getPlugin().getName() ? currentLayoutName : _this.currentLayout;\n  });\n}\n\ninherit(PluginService, G3WObject);\n\nvar proto = PluginService.prototype;\n\n/**\n * Set a default init method. Overwrite by each plugin\n * @param config: plugin configuration object\n */\nproto.init = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.getPlugin().getName());\n};\n\nproto.resetCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.currentLayout);\n};\n\n// set owner plugin of the service\nproto.setPlugin = function (plugin) {\n  this.plugin = plugin;\n};\n\n// return the instance of the plugin owner of the service\nproto.getPlugin = function () {\n  return this.plugin;\n};\n\nproto.isIframe = function () {\n  return _application2.default.isIframe();\n};\n\n/**\n * Get Current Project\n */\nproto.getCurrentProject = function () {\n  return _application2.default.getCurrentProject();\n};\n\nproto.getGid = function () {\n  var gid = this.config.gid;\n\n  return gid && gid.split(':')[1];\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function (config) {\n  this.config = config;\n};\n\nproto.setApi = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref.dependency,\n      api = _ref.api;\n\n  if (!dependency) this._api.own = api;else this._api.dependencies[dependency] = api;\n};\n\nproto.getApi = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref2.dependency;\n\n  return dependency && this._api.dependencies[dependency] || this._api.own;\n};\n\nproto.initEvents = function () {\n  var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var i in events) {\n    var name = events[i];\n    this._pluginEvents[name] = {};\n  }\n};\n\nproto.registerWindowEvent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      evt = _ref3.evt,\n      cb = _ref3.cb;\n\n  _application2.default.registerWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.unregisterWindowEvent = function (_ref4) {\n  var evt = _ref4.evt,\n      cb = _ref4.cb;\n\n  _application2.default.unregisterWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.subscribeEvent = function (_ref5) {\n  var name = _ref5.name,\n      _ref5$once = _ref5.once,\n      once = _ref5$once === undefined ? false : _ref5$once,\n      owner = _ref5.owner,\n      listener = _ref5.listener;\n\n  this._pluginEvents[name] = this._pluginEvents[name] ? this._pluginEvents[name] : {};\n  this._pluginEvents[name][owner] = listener;\n  once ? this.once(name, listener) : this.on(name, listener);\n};\n\nproto.triggerEvent = function (_ref6) {\n  var name = _ref6.name,\n      _ref6$params = _ref6.params,\n      params = _ref6$params === undefined ? {} : _ref6$params;\n\n  this.emit(name, params);\n};\n\nproto.unsubscribeEvent = function (_ref7) {\n  var name = _ref7.name,\n      owner = _ref7.owner;\n\n  var listener = this._pluginEvents[name][owner];\n  this.removeEvent(name, listener);\n  delete this._pluginEvents[name][owner];\n};\n\nproto.unsubscribeAllEvents = function () {\n  for (var name in this._pluginEvents) {\n    this.removeEvent(name);\n    delete this._pluginEvents[name];\n  }\n};\n\nproto.clearAllEvents = function () {\n  this.unsubscribeAllEvents();\n  this.unwatch();\n  this.vm = null;\n  this._pluginEvents = null;\n};\n\n// to owerwrite if we need some condition to load or not the plugin\nproto.loadPlugin = function () {\n  return true;\n};\n\n//Called when plugin is removed to clear events and memory\nproto.clear = function () {\n  // to overwrite\n};\n\nmodule.exports = PluginService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":339,\"store/application-state\":361}],61:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    convertObjectToUrlParams = _require.convertObjectToUrlParams;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n http://localhost/fcgi-bin/qgis_mapserver/qgis_mapserv.fcgi?MAP=/home/marco/geodaten/projekte/composertest.qgs&SERVICE=WMS&VERSION=1.3.0\n &REQUEST=GetPrint&TEMPLATE=Composer 1&\n map0:extent=693457.466131,227122.338236,700476.845177,230609.807051&\n BBOX=693457.466131,227122.338236,700476.845177,230609.807051&\n CRS=EPSG:21781&WIDTH=1467&HEIGHT=729&LAYERS=layer0,layer1&\n STYLES=,&FORMAT=pdf&DPI=300&TRANSPARENT=true\n\n In detail, the following parameters can be used to set properties for composer maps:\n\n <mapname>:EXTENT=<xmin,ymin,xmax, ymax> //mandatory\n <mapname>:ROTATION=<double> //optional, defaults to 0\n <mapname>:SCALE=<double> //optional. Forces scale denominator as server and client may have different scale calculations\n <mapname>:LAYERS=<comma separated list with layer names> //optional. Defaults to all layer in the WMS request\n <mapname>:STYLES=<comma separated list with style names> //optional\n <mapname>:GRID_INTERVAL_X=<double> //set the grid interval in x-direction for composer grids\n <mapname>:GRID_INTERVAL_Y=<double> //set the grid interval in x-direction for composer grids\n */\nvar OUTPUT_FORMATS = { pdf: 'application/pdf', jpg: 'image/jpeg' };\nvar COMMON_REQUEST_PARAMETERS = { SERVICE: 'WMS', VERSION: '1.3.0' };\n\nvar getAtlasParamsFromOptions = function getAtlasParamsFromOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var field = options.field,\n      values = options.values,\n      template = options.template,\n      _options$download = options.download,\n      download = _options$download === undefined ? false : _options$download;\n\n  var multiValues = values.length > 1;\n  /**\n   * @TODO refactor weird ternary logic\n   */\n  var EXPRESSION = '' + field + (multiValues ? ' IN (' : '=') + values.map(function (value) {\n    return '\\'' + value + '\\'';\n  }).join() + (multiValues ? ')' : '');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrintAtlas',\n    EXP_FILTER: EXPRESSION,\n    TEMPLATE: template,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (download) params.DOWNLOAD = 1;\n  return params;\n};\n\nvar getParamsFromOptions = function getParamsFromOptions() {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var rotation = options.rotation,\n      dpi = options.dpi,\n      format = options.format,\n      crs = options.crs,\n      template = options.template,\n      _options$maps = options.maps,\n      maps = _options$maps === undefined ? [] : _options$maps,\n      _options$labels = options.labels,\n      labels = _options$labels === undefined ? [] : _options$labels,\n      is_maps_preset_theme = options.is_maps_preset_theme;\n\n  var LAYERS = layers.map(function (layer) {\n    return layer.getPrintLayerName();\n  }).join();\n  var STYLES = layers.map(function (layer) {\n    return layer.getStyle();\n  }).join(',');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrint',\n    TEMPLATE: template,\n    DPI: dpi,\n    STYLES: STYLES,\n    FORMAT: format,\n    CRS: crs,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n\n  if (!is_maps_preset_theme) params.LAYERS = LAYERS;\n  maps.forEach(function (_ref) {\n    var name = _ref.name,\n        scale = _ref.scale,\n        extent = _ref.extent,\n        preset_theme = _ref.preset_theme;\n\n    params[name + ':SCALE'] = scale;\n    params[name + ':EXTENT'] = extent;\n    params[name + ':ROTATION'] = rotation;\n    if (is_maps_preset_theme && preset_theme === undefined) params[name + ':LAYERS'] = LAYERS;\n  });\n\n  labels.forEach(function (label) {\n    return params[label.id] = label.text;\n  });\n  return params;\n};\n\nvar GET = function GET(_ref2) {\n  var url = _ref2.url,\n      params = _ref2.params,\n      mime_type = _ref2.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    url = url + '?' + convertObjectToUrlParams(params);\n    resolve({\n      url: url,\n      layers: true,\n      mime_type: mime_type\n    });\n  });\n};\n\nvar POST = function POST(_ref3) {\n  var url = _ref3.url,\n      params = _ref3.params,\n      mime_type = _ref3.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', url, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          window.URL = window.URL || window.webkitURL;\n          var _url = window.URL.createObjectURL(xhr.response);\n          resolve({\n            url: _url,\n            layers: true,\n            mime_type: mime_type\n          });\n        } catch (e) {\n          reject(e);\n        }\n      } else if (xhr.status === 500) {\n        reject();\n      }\n    };\n    xhr.onerror = function () {\n      reject();\n    };\n    xhr.send(convertObjectToUrlParams(params));\n  });\n};\n\n/**\n * core/print/providers/qgis::PrinterQGISProvider@v3.4\n */\nfunction PrintService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._currentLayerStore = _projects2.default.getCurrentProject().getLayersStore();\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this._currentLayerStore = project.getLayersStore();\n  });\n  base(this);\n}\n\ninherit(PrintService, G3WObject);\n\nvar proto = PrintService.prototype;\n\nproto.POST = POST;\n\nproto.GET = GET;\n\nproto._getAtlasParamsFromOptions = getAtlasParamsFromOptions;\n\nproto._getParamsFromOptions = getParamsFromOptions;\n\nproto.getUrl = function () {\n  return this._currentLayerStore.getWmsUrl();\n};\n\nproto.printAtlas = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var url = this.getUrl();\n  var params = this._getAtlasParamsFromOptions(options);\n  return this[method]({\n    url: url,\n    params: params,\n    mime_type: OUTPUT_FORMATS.pdf\n  });\n};\n\nproto.print = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  var url = this.getUrl();\n  // reverse of layer because the order is important\n  var layers = this._currentLayerStore.getLayers({\n    PRINTABLE: {\n      scale: options.scale\n    },\n    SERVERTYPE: 'QGIS'\n  }).reverse();\n  if (layers.length) {\n    options.crs = this._currentLayerStore.getProjection().getCode();\n    var params = this._getParamsFromOptions(layers, options);\n    var mime_type = OUTPUT_FORMATS[params.FORMAT];\n    return this[method]({\n      url: url,\n      params: params,\n      mime_type: mime_type\n    });\n  } else return Promise.resolve({ layers: false });\n};\n\nmodule.exports = PrintService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"store/application-state\":361,\"store/projects\":367}],62:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    crsToCrsObject = _require2.crsToCrsObject;\n\nvar G3WObject = require('core/g3wobject');\nvar LayerFactory = require('core/layers/layerfactory');\nvar LayersStore = require('core/layers/layersstore');\nvar Projections = require('g3w-ol/projection/projections');\n\nfunction Project() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /* structure 'project' object\n  {\n    id,\n    type,\n    gid,\n    name,\n    crs,\n    extent,\n    initextent,\n    layers,\n    layerstree,\n    overviewprojectgid,\n    baselayers,\n    initbaselayer,\n    filtertoken,\n    context_base_legend\n    ows_method <POST or GET>\n    wms_use_layer_ids: <TRUE OR FALSE>\n    search_endpoint : 'ows', 'api'\n    legend_position: 'tab', 'toc'\n    query_point_tolerance\n    wps: [] // array of wps service\n  }\n  */\n  // for future implementation catalog tab actived\n  config.catalog_tab = config.toc_tab_default || config._catalog_tab || 'layers'; // values : layers, baselayers, legend\n  config.ows_method = config.ows_method || 'GET';\n  config.toc_layers_init_status = config.toc_layers_init_status || _constant.TOC_LAYERS_INIT_STATUS;\n  config.toc_themes_init_status = config.toc_themes_init_status || _constant.TOC_THEMES_INIT_STATUS;\n  config.query_point_tolerance = config.query_point_tolerance || _constant.QUERY_POINT_TOLERANCE;\n  this.state = config;\n  /**\n   * View\n   *\n   */\n  //information about api project\n  this.urls = {\n    map_themes: '/' + this.getType() + '/api/prjtheme/' + this.getId() + '/',\n    expression_eval: '/api/expression_eval/' + this.getId() + '/',\n    vector_data: this.getVectorUrl() + 'data/' + this.getType() + '/' + this.getId() + '/'\n  };\n  /*\n   *\n   * End View\n   *\n   */\n  // process layers\n  this._processLayers();\n  // set the project projection to object crs\n  this.state.crs = crsToCrsObject(this.state.crs);\n  this._projection = Projections.get(this.state.crs);\n  // build a layersstore of the project\n  this._layersStore = this._buildLayersStore();\n  ///\n  this.setters = {\n    setBaseLayer: function setBaseLayer(id) {\n      var _this = this;\n\n      this.state.baselayers.forEach(function (baseLayer) {\n        _this._layersStore.getLayerById(baseLayer.id).setVisible(baseLayer.id === id);\n        baseLayer.visible = baseLayer.id === id;\n      });\n    }\n  };\n  this.setSearchEndPoint();\n  base(this);\n}\n\ninherit(Project, G3WObject);\n\nvar proto = Project.prototype;\n\n//get search end point value (ows or api)\nproto.getSearchEndPoint = function () {\n  return this.state.search_endpoint;\n};\n\nproto.setSearchEndPoint = function () {\n  var _state = this.state,\n      search_endpoint = _state.search_endpoint,\n      _state$search = _state.search,\n      search = _state$search === undefined ? [] : _state$search;\n\n  search.forEach(function (search) {\n    return search.search_endpoint = search_endpoint;\n  });\n};\n\nproto.getAliasUrl = function () {\n  return this.state.aliasUrl;\n};\n\nproto.getActiveCatalogTab = function () {\n  return this.state.catalog_tab;\n};\n\nproto.setActiveCatalogTab = function () {\n  var tab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'layers';\n\n  this.state.catalog_tab = tab;\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.state.wms_use_layer_ids;\n};\n\nproto.getContextBaseLegend = function () {\n  return this.state.context_base_legend;\n};\n\nproto.getQueryPointTolerance = function () {\n  return this.state.query_point_tolerance;\n};\n\n// check if multi\nproto.getQueryFeatureCount = function () {\n  return this.state.feature_count || 5;\n};\n\nproto.isQueryMultiLayers = function (mapcontrol) {\n  return this.state.querymultilayers && this.state.querymultilayers.indexOf(mapcontrol) !== -1;\n};\n\nproto.getRelations = function () {\n  return this.state.relations;\n};\n\nproto.getRelationById = function (relationId) {\n  return this.state.relations.find(function (relation) {\n    return relation.id === relationId;\n  });\n};\n\nproto.getRelationsByLayerId = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref.layerId,\n      type = _ref.type;\n\n  return this.state.relations.filter(function (relation) {\n    return relation.referencedLayer === layerId && (type ? relation.type === type : true);\n  });\n};\n\nproto.getOwsMethod = function () {\n  return this.state.ows_method;\n};\n\n// process layerstree and baselayers of the project\nproto._processLayers = function () {\n  var _this2 = this;\n\n  //info useful for catalog\n  var traverse = function traverse(tree) {\n    var _loop = function _loop(i) {\n      var layer = tree[i];\n      var layer_name_originale = void 0;\n      //check if layer (node) of folder\n      if (layer.id !== undefined) {\n        _this2.state.layers.forEach(function (_layer) {\n          layer_name_originale = _layer.name;\n          if (layer.id === _layer.id) {\n            layer.name = _layer.name;\n            _layer.wmsUrl = _this2.getWmsUrl();\n            _layer.project = _this2;\n            tree[i] = Object.assign(_layer, layer);\n            return false;\n          }\n        });\n      }\n      if (Array.isArray(layer.nodes)) {\n        //add title to tree\n        layer.title = layer.name;\n        traverse(layer.nodes);\n      }\n    };\n\n    for (var i = 0; i < tree.length; i++) {\n      _loop(i);\n    }\n  };\n  // call trasverse function to\n  traverse(this.state.layerstree);\n  var baseLayerId = _application2.default.getBaseLayerId();\n\n  /**\n   * Filter base layers bing in case of no bing vendor key is provide\n   */\n\n  this.state.baselayers = this.state.baselayers.filter(function (baselayer) {\n    return baselayer.servertype === 'Bing' ? _applicationState2.default.keys.vendorkeys.bing : true;\n  });\n\n  /*******************************************************/\n\n  for (var i = 0; i < this.state.baselayers.length; i++) {\n    var baseLayerConfig = this.state.baselayers[i];\n    var baseLayerVisibleId = baseLayerId !== null ? baseLayerId : this.state.initbaselayer;\n    var visible = baseLayerVisibleId && baseLayerConfig.id === baseLayerVisibleId || !!baseLayerConfig.fixed;\n    baseLayerConfig.visible = visible;\n    baseLayerConfig.baselayer = true;\n  }\n};\n\n// build layersstore and create layersstree\nproto._buildLayersStore = function () {\n  var _this3 = this;\n\n  // create a layersStore object\n  var layersStore = new LayersStore();\n  //check if we have owerview project\n  var overviewprojectgid = this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n  layersStore.setOptions({\n    id: this.state.gid,\n    projection: this._projection,\n    extent: this.state.extent,\n    initextent: this.state.initextent,\n    wmsUrl: this.state.WMSUrl,\n    catalog: this.state.gid !== overviewprojectgid\n  });\n\n  // instance each layer ad area added to layersstore\n  var layers = this.getLayers();\n  layers.forEach(function (layerConfig) {\n    //check and set crs in objectformat\n    layerConfig.crs = crsToCrsObject(layerConfig.crs);\n    // add projection\n    layerConfig.projection = layerConfig.crs ? Projections.get(layerConfig.crs) : _this3._projection;\n    //add ows_method\n    layerConfig.ows_method = _this3.getOwsMethod();\n    layerConfig.wms_use_layer_ids = _this3.state.wms_use_layer_ids;\n    var layer = LayerFactory.build(layerConfig, {\n      project: _this3\n    });\n    layer && layersStore.addLayer(layer);\n  });\n  // create layerstree from layerstore\n  layersStore.createLayersTree(this.state.name, {\n    layerstree: this.state.layerstree,\n    expanded: this.state.toc_layers_init_status === 'not_collapsed' // config to show layerstrees toc expanded or not\n  });\n  return layersStore;\n};\n\nproto.getLayerById = function (layerId) {\n  return this._layersStore.getLayerById(layerId);\n};\n\nproto.getLayers = function () {\n  return [].concat(_toConsumableArray(this.state.layers), _toConsumableArray(this.state.baselayers));\n};\n\nproto.getBaseLayers = function () {\n  return this.state.baselayers;\n};\n\n/**\n * Get configuration layers array from server config\n * @param filter property layer config to filter\n * @returns {*}\n */\nproto.getConfigLayers = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      key = _ref2.key;\n\n  return key ? this.state.layers.filter(function (layer) {\n    return layer[key] !== undefined;\n  }) : this.state.layers;\n};\n\n/**\n * Legend Position\n */\n\nproto.setLegendPosition = function () {\n  var legend_position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'tab';\n\n  this.state.legend_position = legend_position;\n};\n\nproto.getLegendPosition = function () {\n  return this.state.legend_position;\n};\n\n/**\n * End Legend Position\n */\n\nproto.getThumbnail = function () {\n  return this.state.thumbnail;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata || {};\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getPrint = function () {\n  return this.state.print || [];\n};\n\nproto.getSearches = function () {\n  return this.state.search || [];\n};\n\nproto.getVectorUrl = function () {\n  return this.state.vectorurl;\n};\n\nproto.getRasterUrl = function () {\n  return this.state.rasterurl;\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getGid = function () {\n  return this.state.gid;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getOverviewProjectGid = function () {\n  return this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n};\n\nproto.getCrs = function () {\n  return this._projection.getCode();\n};\n\n/*\n* type: major, minor, patch\n* */\nproto.getQgisVersion = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref3.type;\n\n  var index = ['major', 'minor', 'patch'].indexOf(type);\n  return index === -1 ? this.state.qgis_version : +this.state.qgis_version.split('.')[index];\n};\n\nproto.getProjection = function () {\n  return this._projection;\n};\n\nproto.getWmsUrl = function () {\n  return this.state.WMSUrl;\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getLayersStore = function () {\n  return this._layersStore;\n};\n\n/// Map Themes\n\n/**\n * Method to set properties ( checked and visible) from view to layerstree\n * @param map_theme map theme name\n * @param layerstree // current layerstree of TOC\n */\nproto.setLayersTreePropertiesFromMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref4) {\n    var _this4 = this;\n\n    var map_theme = _ref4.map_theme,\n        _ref4$layerstree = _ref4.layerstree,\n        layerstree = _ref4$layerstree === undefined ? this.state.layerstree : _ref4$layerstree;\n    var mapThemeConfig, mapThemeLayersTree, changes, promises, groups, traverse;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.getMapThemeFromThemeName(map_theme);\n\n          case 2:\n            mapThemeConfig = _context.sent;\n\n            // extract layerstree\n            mapThemeLayersTree = mapThemeConfig.layerstree;\n            // create a chages need to apply map_theme changes to map and TOC\n\n            changes = {\n              layers: {} // key is the layer id and object has style, visibility change (Boolean)\n            };\n            promises = [];\n            /**\n             * Function to traverse current layerstree of toc anche get changes with the new one related to map_theme choose\n             * @param mapThemeLayersTree // new mapLayerTree\n             * @param layerstree // current layerstree\n             */\n\n            groups = [];\n\n            traverse = function traverse(mapThemeLayersTree, layerstree, checked) {\n              mapThemeLayersTree.forEach(function (node, index) {\n                if (node.nodes) {\n                  // case of group\n                  groups.push({\n                    node: node,\n                    group: layerstree[index]\n                  });\n                  traverse(node.nodes, layerstree[index].nodes, checked && node.checked);\n                } else {\n                  // case of layer\n                  node.style = mapThemeConfig.styles[node.id]; // set style from map_theme\n                  if (layerstree[index].checked !== node.visible) {\n                    changes.layers[node.id] = {\n                      visibility: true,\n                      style: false\n                    };\n                  }\n                  layerstree[index].checked = node.visible;\n                  // if has a style settled\n                  if (node.style) {\n                    var promise = new Promise(function (resolve, reject) {\n                      var setCurrentStyleAndResolvePromise = function setCurrentStyleAndResolvePromise(node) {\n                        if (changes.layers[node.id] === undefined) changes.layers[node.id] = {\n                          visibility: false,\n                          style: false\n                        };\n                        changes.layers[node.id].style = _this4.getLayerById(node.id).setCurrentStyle(node.style);\n                        resolve();\n                      };\n                      if (_this4.getLayersStore()) setCurrentStyleAndResolvePromise(node);else // case of starting project creation\n                        (function (node) {\n                          return setTimeout(function () {\n                            setCurrentStyleAndResolvePromise(node);\n                          })(node);\n                        });\n                    });\n                    promises.push(promise);\n                  }\n                }\n              });\n            };\n\n            traverse(mapThemeLayersTree, layerstree);\n            _context.next = 11;\n            return Promise.allSettled(promises);\n\n          case 11:\n            // all groups checked after layer checked so is set checked but not visible\n            groups.forEach(function (_ref6) {\n              var group = _ref6.group,\n                  _ref6$node = _ref6.node,\n                  checked = _ref6$node.checked,\n                  expanded = _ref6$node.expanded;\n\n              group.checked = checked;\n              group.expanded = expanded;\n            });\n            return _context.abrupt('return', changes);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * get map Theme_configuration\n */\nproto.getMapThemeFromThemeName = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(map_theme) {\n    var mapThemeConfig, layerstree, _layerstree;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // get map theme configuration from map_themes project config\n            mapThemeConfig = this.state.map_themes.find(function (map_theme_config) {\n              return map_theme_config.theme === map_theme;\n            });\n            // check if mapThemeConfig exist\n\n            if (!mapThemeConfig) {\n              _context2.next = 8;\n              break;\n            }\n\n            // check if has layerstree (property get from server with a specific api\n            layerstree = mapThemeConfig.layerstree;\n\n            if (!(layerstree === undefined)) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 6;\n            return this.getMapThemeConfiguration(map_theme);\n\n          case 6:\n            _layerstree = _context2.sent;\n\n            mapThemeConfig.layerstree = _layerstree;\n\n          case 8:\n            return _context2.abrupt('return', mapThemeConfig);\n\n          case 9:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x9) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * get map_style from server\n * @param map_theme\n * @returns {Promise<*>}\n */\nproto.getMapThemeConfiguration = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(map_theme) {\n    var config, url, response, result, data;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            config = void 0;\n            url = '' + this.urls.map_themes + map_theme + '/';\n            _context3.prev = 2;\n            _context3.next = 5;\n            return XHR.get({\n              url: url\n            });\n\n          case 5:\n            response = _context3.sent;\n            result = response.result, data = response.data;\n\n            if (result) config = data;\n            _context3.next = 12;\n            break;\n\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3['catch'](2);\n\n          case 12:\n            return _context3.abrupt('return', config);\n\n          case 13:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 10]]);\n  }));\n\n  return function (_x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.getUrl = function (type) {\n  return this.urls[type];\n};\n\nmodule.exports = Project;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/layers/layerfactory\":36,\"core/layers/layersstore\":37,\"core/utils/geo\":65,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":108,\"services/application\":339,\"store/application-state\":361}],63:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Relation() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var uniqueSuffix = Date.now();\n  var id = config.id || 'id_' + uniqueSuffix;\n  var name = config.name || 'name_' + uniqueSuffix;\n  var origname = config.origname || 'origname_' + uniqueSuffix;\n  this.state = {\n    id: id,\n    name: name,\n    origname: origname,\n    father: config.referencedLayer,\n    child: config.referencingLayer,\n    fatherField: config.fieldRef.referencedField,\n    childField: config.fieldRef.referencingField,\n    type: config.type,\n    loading: false\n  };\n  base(this);\n}\n\ninherit(Relation, G3WObject);\n\nvar proto = Relation.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.setId = function (id) {\n  this.state.id = id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.setName = function (name) {\n  this.state.name = name;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  return this.state.title = title;\n};\n\nproto.getChild = function () {\n  return this.state.child;\n};\n\nproto.getFather = function () {\n  return this.state.father;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getFields = function () {\n  return {\n    father: this.state.fatherField,\n    child: this.state.childField\n  };\n};\n\nproto.getFatherField = function () {\n  return this.state.fatherField;\n};\n\nproto.getChildField = function () {\n  return this.state.childField;\n};\n\n/**\n * For editing purpose\n */\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.isLoading = function () {\n  return this.state.loading;\n};\n\n/**\n * End editing loading purpose\n */\n\nmodule.exports = Relation;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],64:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Relation = require('core/relations/relation');\n\n// class Relations\nfunction Relations() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = options.relations;\n  //store relations\n\n  this._relations = {};\n  this._length = relations ? relations.length : 0;\n  // to build relations between layers\n  this._relationsInfo = {\n    children: {}, // array child (unique ids)\n    fathers: {}, // array father (unique ids)\n    father_child: {} // info parent child\n  };\n  var relation = void 0;\n  relations.forEach(function (relationConfig) {\n    relation = new Relation(relationConfig);\n    _this._relations[relation.getId()] = relation;\n  });\n  this._createRelationsInfo();\n  base(this);\n}\n\ninherit(Relations, G3WObject);\n\nvar proto = Relations.prototype;\n\nproto._createRelationsInfo = function () {\n  var _this2 = this;\n\n  var father = void 0;\n  var child = void 0;\n  Object.entries(this._relations).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        relationKey = _ref2[0],\n        relation = _ref2[1];\n\n    father = relation.getFather();\n    child = relation.getChild();\n    _this2._relationsInfo.father_child[father + child] = relationKey;\n    if (!_this2._relationsInfo.fathers[father]) _this2._relationsInfo.fathers[father] = [];\n    if (!_this2._relationsInfo.children[child]) _this2._relationsInfo.children[child] = [];\n    _this2._relationsInfo.fathers[father].push(child);\n    _this2._relationsInfo.children[child].push(father);\n  });\n};\n\nproto._clearRelationsInfo = function () {\n  this._relationsInfo = {\n    children: {},\n    fathers: {},\n    father_children: {}\n  };\n};\n\nproto._reloadRelationsInfo = function () {\n  this._clearRelationsInfo();\n  this._createRelationsInfo();\n};\n\n// number of relations\nproto.getLength = function () {\n  return this._length;\n};\n\nproto.getRelations = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? null : _ref3$type;\n\n  if (!type) return this._relations;else {\n    if (['ONE', 'MANY'].indexOf(type) !== -1) {\n      var relations = {};\n      for (var name in this._relations) {\n        var relation = this._relations[name];\n        if (relation.getType() === type) relations[name] = relation;\n      }\n      return relations;\n    } else return {};\n  }\n};\n\n// array of relation\nproto.getArray = function () {\n  var relations = [];\n  Object.entries(this._relations).forEach(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        relName = _ref5[0],\n        relation = _ref5[1];\n\n    relations.push(relation);\n  });\n  return relations;\n};\n\nproto.setRelations = function (relations) {\n  this._relations = Array.isArray(relations) ? relations : [];\n};\n\nproto.getRelationById = function (id) {\n  return this._relations[id];\n};\n\nproto.getRelationByFatherChildren = function (father, child) {\n  var relationId = this._relationsInfo.father_child[father + child];\n  return this.getRelationById(relationId);\n};\n\nproto.addRelation = function (relation) {\n  if (relation instanceof Relation) {\n    this._relations[relation.getId()] = relation;\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.removeRelation = function (relation) {\n  var relationId = void 0;\n  if (relation instanceof Relation) {\n    relationId = relation.getId();\n    delete this._relations[relationId];\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.hasChildren = function (childId) {\n  var children = this.getChildren(childId);\n  return children ? !!children.length : false;\n};\n\nproto.hasFathers = function (fatherId) {\n  var fathers = this.getFathers(fatherId);\n  return fathers ? !!fathers.length : false;\n};\n\n// get children based on father id\nproto.getChildren = function (fatherId) {\n  if (!this.isFather(fatherId)) return null;\n  return this._relationsInfo.fathers[fatherId];\n};\n\n// get fathers based on childId\nproto.getFathers = function (childId) {\n  if (!this.isChild(childId)) return null;\n  return this._relationsInfo.children[childId];\n};\n\nproto.isChild = function (id) {\n  return !!this._relationsInfo.children[id];\n};\n\nproto.isFather = function (id) {\n  return !!this._relationsInfo.fathers[id];\n};\n\nmodule.exports = Relations;\n\n},{\"core/g3wobject\":13,\"core/relations/relation\":63,\"core/utils/utils\":68}],65:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    uniqueId = _require.uniqueId;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar Filter = require('core/layers/filter/filter');\n\nvar _require2 = require('core/utils/parsers'),\n    responseParser = _require2.response;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\nvar QUERY_POINT_TOLERANCE = _constant2.default.QUERY_POINT_TOLERANCE,\n    G3W_FID = _constant2.default.G3W_FID,\n    GeometryTypes = _constant2.default.GEOMETRY_TYPES;\n\n\nvar Geometry = {\n\n  /**\n   * core/geometry/geometry::GeometryTypes@v3.4\n   */\n  GeometryTypes: GeometryTypes,\n\n  /**\n   * Remove Z values from geometry coordinates\n   */\n  removeZValueToOLFeatureGeometry: function removeZValueToOLFeatureGeometry() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature;\n\n    var geometry = feature.getGeometry();\n    if (geometry) {\n      var geometryType = geometry.getType();\n      var originalFeatureCoordinates = geometry.getCoordinates();\n      switch (geometryType) {\n        // POINT: [x, y]\n        case GeometryTypes.POINT:\n          if (originalFeatureCoordinates.length === 3) {\n            originalFeatureCoordinates.splice(2);\n            feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          }\n          break;\n        // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.MULTIPOINT:\n        // LINE: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINE:\n          originalFeatureCoordinates.forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTILINE: [\n        //   [ [x1, y1], [x2, y2] ],\n        //   [ [x3, y3], [x4, y4] ]\n        // ]\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINE:\n          originalFeatureCoordinates.forEach(function (singleLine) {\n            singleLine.forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // POLYGON: [\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n        // ]\n        case GeometryTypes.POLYGON:\n          originalFeatureCoordinates[0].forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTIPOLYGON:[\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n        //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n        // ]\n        case GeometryTypes.MULTIPOLYGON:\n          originalFeatureCoordinates.forEach(function (singlePolygon) {\n            singlePolygon[0].forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n      }\n    }\n\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::addZValueToOLFeatureGeometry@v3.4\n   */\n  addZValueToOLFeatureGeometry: function addZValueToOLFeatureGeometry() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref2.feature,\n        geometryType = _ref2.geometryType;\n\n    var geometry = feature.getGeometry();\n    geometryType = geometryType || geometry.getType();\n    var originalFeatureCoordinates = geometry.getCoordinates();\n    switch (geometryType) {\n      // POINT: [x, y]\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        originalFeatureCoordinates.push(0);\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n      // LINE: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        originalFeatureCoordinates.forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTILINE: [\n      //   [ [x1, y1], [x2, y2] ],\n      //   [ [x3, y3], [x4, y4] ]\n      // ]\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        originalFeatureCoordinates.forEach(function (singleLine) {\n          singleLine.forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // POLYGON: [\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n      // ]\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        originalFeatureCoordinates[0].forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOLYGON:[\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n      //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n      // ]\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGOZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        originalFeatureCoordinates.forEach(function (singlePolygon) {\n          singlePolygon[0].forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n    }\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::getOLGeometry@v3.4\n   */\n  getOLGeometry: function getOLGeometry(geometryType) {\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    return geometryType;\n  },\n\n\n  /**\n   * core/geometry/geometry::isMultiGeometry@v3.4\n   */\n  isMultiGeometry: function isMultiGeometry(geometryType) {\n    return [GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINT25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPointGeometryTypes@v3.4\n   */\n  getAllPointGeometryTypes: function getAllPointGeometryTypes() {\n    return [GeometryTypes.POINT, GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINT25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPointGeometryType@v3.4\n   */\n  isPointGeometryType: function isPointGeometryType(geometryType) {\n    return Geometry.getAllPointGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllLineGeometryTypes@v3.4\n   */\n  getAllLineGeometryTypes: function getAllLineGeometryTypes() {\n    return [GeometryTypes.LINESTRING, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINE, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isLineGeometryType@v3.4\n   */\n  isLineGeometryType: function isLineGeometryType(geometryType) {\n    return Geometry.getAllLineGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPolygonGeometryTypes@v3.4\n   */\n  getAllPolygonGeometryTypes: function getAllPolygonGeometryTypes() {\n    return [GeometryTypes.POLYGON, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPolygonGeometryType@v3.4\n   */\n  isPolygonGeometryType: function isPolygonGeometryType(geometryType) {\n    return Geometry.getAllPolygonGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::is3DGeometry@v3.4\n   */\n  is3DGeometry: function is3DGeometry(geometryType) {\n    return [GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].find(function (type3D) {\n      return type3D === geometryType;\n    });\n  }\n};\n\nvar geoutils = {\n\n  geometryFields: geometryFields,\n\n  coordinatesToGeometry: function coordinatesToGeometry(geometryType, coordinates) {\n    var geometryClass = void 0;\n    switch (geometryType) {\n      case GeometryTypes.POLYGON:\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryClass = ol.geom.Polygon;\n        break;\n      case GeometryTypes.MULTIPOLYGON:\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryClass = ol.geom.MultiPolygon;\n        break;\n      case GeometryTypes.LINESTRING:\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryClass = ol.geom.LineString;\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n      case GeometryTypes.MULTILINESTRING:\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n        geometryClass = ol.geom.MultiLineString;\n        break;\n      case GeometryTypes.POINT:\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryClass = ol.geom.Point;\n        break;\n      case GeometryTypes.MULTIPOINT:\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryClass = ol.geom.MultiPoint;\n        break;\n      default:\n        geometryClass = ol.geom.Point;\n    }\n    var geometry = new geometryClass(coordinates);\n    return geometry;\n  },\n  getDefaultLayerStyle: function getDefaultLayerStyle(geometryType) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var color = options.color;\n\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    var defaultStyle = {\n      'Point': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'LineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'Polygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPoint': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'MultiLineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPolygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      })\n    };\n    return defaultStyle[geometryType];\n  },\n  createLayerStyle: function createLayerStyle(styleObj) {\n    var style = void 0;\n    var styles = {};\n    if (styleObj) {\n      Object.entries(styleObj).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            type = _ref4[0],\n            config = _ref4[1];\n\n        switch (type) {\n          case 'point':\n            if (config.icon) {\n              styles.image = new ol.style.Icon({\n                src: config.icon.url,\n                imageSize: config.icon.width\n              });\n            }\n            break;\n          case 'line':\n            styles.stroke = new ol.style.Stroke({\n              color: config.color,\n              width: config.width\n            });\n            break;\n          case 'polygon':\n            styles.fill = new ol.style.Fill({\n              color: config.color\n            });\n            break;\n        }\n      });\n      style = new ol.style.Style(styles);\n    }\n    return style;\n  },\n  createFeatureFromCoordinates: function createFeatureFromCoordinates(coordinates) {\n    var feature = void 0;\n    if (Array.isArray(coordinates) && coordinates.length === 2) {\n      var geometry = new ol.geom.Point(coordinates);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromBBOX: function createFeatureFromBBOX(bbox) {\n    var feature = void 0;\n    if (Array.isArray(bbox) && bbox.length === 4) {\n      var geometry = ol.geom.Polygon.fromExtent(bbox);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromGeometry: function createFeatureFromGeometry() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref5.id,\n        geometry = _ref5.geometry;\n\n    if (geometry) {\n      var feature = new ol.Feature(geometry);\n      feature.setId(id);\n      return feature;\n    }\n  },\n\n\n  /**\n   * in case of feature object\n   * {\n   *   id: X,\n   *   attributes: {key:value}\n   *   geometry: geometry\n   * }\n   * @param id\n   * @param feature\n   */\n  createFeatureFromFeatureObject: function createFeatureFromFeatureObject(_ref6) {\n    var id = _ref6.id,\n        _ref6$feature = _ref6.feature,\n        feature = _ref6$feature === undefined ? {} : _ref6$feature;\n    var _feature2 = feature,\n        geometry = _feature2.geometry,\n        attributes = _feature2.attributes;\n\n    feature = geoutils.createFeatureFromGeometry({ id: id, geometry: geometry });\n    Object.keys(attributes).forEach(function (attribute) {\n      return feature.set(attribute, attributes[attribute]);\n    });\n    return feature;\n  },\n  createOlLayer: function createOlLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = options.id;\n    var features = options.features;\n    var geometryType = options.geometryType;\n    var color = options.color;\n    var style = options.style;\n    // create ol layer to add to map\n    var olSource = options.source || new ol.source.Vector({\n      features: features || new ol.Collection()\n    });\n    var olLayer = new ol.layer.Vector({\n      id: id,\n      source: olSource\n    });\n    if (!style) {\n      switch (geometryType) {\n        case GeometryTypes.POINT:\n        case GeometryTypes.POINTZ:\n        case GeometryTypes.POINTM:\n        case GeometryTypes.POINTZM:\n        case GeometryTypes.POINT25D:\n        case GeometryTypes.MULTIPOINT:\n        case GeometryTypes.MULTIPOINTZ:\n        case GeometryTypes.MULTIPOINTM:\n        case GeometryTypes.MULTIPOINTZM:\n        case GeometryTypes.MULTIPOINT25D:\n          style = new ol.style.Style({\n            image: new ol.style.Circle({\n              radius: 5,\n              fill: new ol.style.Fill({\n                color: color\n              })\n            })\n          });\n          break;\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINESTRINGZ:\n        case GeometryTypes.LINESTRINGM:\n        case GeometryTypes.LINESTRINGZM:\n        case GeometryTypes.LINESTRING25D:\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINESTRINGZ:\n        case GeometryTypes.MULTILINESTRINGM:\n        case GeometryTypes.MULTILINESTRINGZM:\n        case GeometryTypes.MULTILINESTRING25D:\n        case GeometryTypes.LINE:\n        case GeometryTypes.LINEZ:\n        case GeometryTypes.LINEM:\n        case GeometryTypes.LINEZM:\n        case GeometryTypes.LINE25D:\n        case GeometryTypes.MULTILINE:\n        case GeometryTypes.MULTILINEZ:\n        case GeometryTypes.MULTILINEM:\n        case GeometryTypes.MULTILINEZM:\n        case GeometryTypes.MULTILINE25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              width: 3,\n              color: color\n            })\n          });\n          break;\n        case GeometryTypes.POLYGON:\n        case GeometryTypes.POLYGONZ:\n        case GeometryTypes.POLYGONM:\n        case GeometryTypes.POLYGONZM:\n        case GeometryTypes.POLYGON25D:\n        case GeometryTypes.MULTIPOLYGON:\n        case GeometryTypes.MULTIPOLYGONZ:\n        case GeometryTypes.MULTIPOLYGONM:\n        case GeometryTypes.MULTIPOLYGONZM:\n        case GeometryTypes.MULTIPOLYGON25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              color: \"#000000\",\n              width: 1\n            }),\n            fill: new ol.style.Fill({\n              color: color\n            })\n          });\n          olLayer.setOpacity(0.6);\n          break;\n      }\n    }\n    olLayer.setStyle(style);\n    return olLayer;\n  },\n  createWMSLayer: function createWMSLayer() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref7.url,\n        name = _ref7.name,\n        projection = _ref7.projection,\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers;\n\n    var id = name || uniqueId();\n    name = name || id;\n    var wmslayer = new WMSLayer({\n      id: id,\n      layers: layers,\n      projection: projection,\n      url: url\n    });\n    var olLayer = wmslayer.getOLLayer();\n    olLayer.set('id', id); // set unique id\n    olLayer.set('name', name);\n    return {\n      wmslayer: wmslayer,\n      olLayer: olLayer\n    };\n  },\n  createVectorLayerFromGeometry: function createVectorLayerFromGeometry(geometry) {\n    var feature = new ol.Feature(geometry);\n    return geoutils.createVectorLayerFromFeatures(feature);\n  },\n  createVectorLayerFromFeatures: function createVectorLayerFromFeatures(feature) {\n    return new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: Array.isArray(feature) ? feature : [feature]\n      })\n    });\n  },\n  createVectorLayerFromFile: function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref9.name,\n          type = _ref9.type,\n          crs = _ref9.crs,\n          mapCrs = _ref9.mapCrs,\n          data = _ref9.data,\n          style = _ref9.style;\n\n      var format, layer, createVectorLayer, _data, headers, separator, values, x, y, features, errorrows, source, promiseKmz, promise;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              format = void 0;\n              layer = void 0;\n\n              createVectorLayer = function createVectorLayer(format, data) {\n                var epsg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : crs;\n\n                var vectorLayer = void 0;\n                var features = format.readFeatures(data, {\n                  dataProjection: epsg,\n                  featureProjection: mapCrs || epsg\n                });\n                if (features.length) {\n                  var vectorSource = new ol.source.Vector({\n                    features: features\n                  });\n                  vectorLayer = new ol.layer.Vector({\n                    source: vectorSource,\n                    name: name,\n                    _fields: Object.keys(features[0].getProperties()).filter(function (property) {\n                      return geometryFields.indexOf(property) < 0;\n                    }),\n                    id: uniqueId()\n                  });\n                  style && vectorLayer.setStyle(style);\n                }\n                return vectorLayer;\n              };\n\n              _context3.t0 = type;\n              _context3.next = _context3.t0 === 'gpx' ? 6 : _context3.t0 === 'gml' ? 9 : _context3.t0 === 'geojson' ? 12 : _context3.t0 === 'kml' ? 15 : _context3.t0 === 'csv' ? 18 : _context3.t0 === 'kmz' ? 29 : _context3.t0 === 'zip' ? 40 : 51;\n              break;\n\n            case 6:\n              format = new ol.format.GPX();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 9:\n              format = new ol.format.WMSGetFeatureInfo();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 12:\n              format = new ol.format.GeoJSON();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 15:\n              format = new ol.format.KML({\n                extractStyles: false\n              });\n              layer = createVectorLayer(format, data, \"EPSG:4326\");\n              return _context3.abrupt('break', 51);\n\n            case 18:\n              _data = data, headers = _data.headers, separator = _data.separator, values = _data.values, x = _data.x, y = _data.y;\n              features = [];\n              errorrows = [];\n\n              values.forEach(function (row, index) {\n                var properties = {};\n                var rowvalues = row.split(separator);\n                if (rowvalues.length === headers.length) {\n                  var coordinates = [];\n                  rowvalues.forEach(function (value, index) {\n                    var field = headers[index];\n                    if (field === x) coordinates[0] = 1 * value;\n                    if (field === y) coordinates[1] = 1 * value;\n                    properties[field] = value;\n                  });\n                  // check if all coordinates is right\n                  if (coordinates.find(function (value) {\n                    return Number.isNaN(value);\n                  }) === undefined) {\n                    var geometry = new ol.geom.Point(coordinates);\n                    if (crs !== mapCrs) geometry.transform(crs, mapCrs);\n                    var feature = new ol.Feature(geometry);\n                    feature.setId(index); // need to add a id incremental\n                    feature.setProperties(properties);\n                    features.push(feature);\n                  }\n                } else errorrows.push({\n                  row: index + 1,\n                  value: values[index]\n                });\n              });\n\n              if (features.length) {\n                _context3.next = 24;\n                break;\n              }\n\n              return _context3.abrupt('return', Promise.reject());\n\n            case 24:\n              if (errorrows.length) {\n                _gui2.default.showUserMessage({\n                  type: 'warning',\n                  message: 'sdk.mapcontrols.addlayer.messages.csv.warning',\n                  hooks: {\n                    footer: {\n                      template: '<select v-select2=\"errorrows[0].value\" class=\"skin-color\" :search=\"false\" style=\"width:100%\">\\n                    <option v-for=\"errorrow in errorrows\" :key=\"errorrow.row\" :value=\"errorrow.value\">[{{ errorrow.row}}] {{errorrow.value}}</option>\\n                </select>',\n                      data: function data() {\n                        return {\n                          errorrows: errorrows\n                        };\n                      }\n                    }\n                  },\n                  autoclose: false\n                });\n              }\n\n              source = new ol.source.Vector({\n                features: features\n              });\n\n              layer = new ol.layer.Vector({\n                source: source,\n                name: name,\n                _fields: headers,\n                id: uniqueId()\n              });\n              style && layer.setStyle(style);\n              return _context3.abrupt('break', 51);\n\n            case 29:\n              promiseKmz = new Promise(function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n                  var zip, buffer, kmlFile;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          zip = new JSZip();\n                          _context.next = 3;\n                          return data.arrayBuffer(data);\n\n                        case 3:\n                          buffer = _context.sent;\n\n                          zip.load(buffer);\n                          kmlFile = zip.file(/.kml$/i)[0];\n\n                          if (kmlFile) {\n                            data = kmlFile.asText();\n                            format = new ol.format.KML({\n                              extractStyles: false\n                            });\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          } else reject();\n\n                        case 7:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x9, _x10) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 30;\n              _context3.next = 33;\n              return promiseKmz;\n\n            case 33:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 36:\n              _context3.prev = 36;\n              _context3.t1 = _context3['catch'](30);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 39:\n              return _context3.abrupt('break', 51);\n\n            case 40:\n              promise = new Promise(function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                  var buffer;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return data.arrayBuffer(data);\n\n                        case 2:\n                          buffer = _context2.sent;\n\n                          shp(buffer).then(function (geojson) {\n                            var data = JSON.stringify(geojson);\n                            format = new ol.format.GeoJSON({});\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          }).catch(function (err) {\n                            return reject(err);\n                          });\n\n                        case 4:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x11, _x12) {\n                  return _ref11.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 41;\n              _context3.next = 44;\n              return promise;\n\n            case 44:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 47:\n              _context3.prev = 47;\n              _context3.t2 = _context3['catch'](41);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 50:\n              return _context3.abrupt('break', 51);\n\n            case 51:\n              return _context3.abrupt('return', layer);\n\n            case 52:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[30, 36], [41, 47]]);\n    }));\n\n    function createVectorLayerFromFile() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return createVectorLayerFromFile;\n  }(),\n  createStyleFunctionToVectorLayer: function createStyleFunctionToVectorLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var styleFunction = function styleFunction(feature, resolution) {\n      var color = options.color,\n          field = options.field;\n\n      color = color.rgba ? 'rgba(' + color.rgba.r + ',' + color.rgba.g + ',' + color.rgba.b + ',' + color.rgba.a + ')' : color;\n      var geometryType = feature.getGeometry().getType();\n      var style = geoutils.getDefaultLayerStyle(geometryType, { color: color });\n      field && style.setText(new ol.style.Text({\n        text: '' + feature.get(field),\n        font: 'bold',\n        scale: 2,\n        offsetY: 15,\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          color: '#FFFFFF',\n          width: 2\n        })\n      }));\n      return style;\n    };\n    styleFunction._g3w_options = options;\n    return styleFunction;\n  },\n  createSelectedStyle: function createSelectedStyle() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometryType = _ref12.geometryType,\n        _ref12$color = _ref12.color,\n        color = _ref12$color === undefined ? 'rgb(255,255,0)' : _ref12$color,\n        _ref12$fill = _ref12.fill,\n        fill = _ref12$fill === undefined ? true : _ref12$fill;\n\n    var style = null;\n    if (geometryType === 'LineString' || geometryType === 'MultiLineString') {\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        })\n      });\n    } else if (geometryType === 'Point' || geometryType === 'MultiPoint') {\n      style = new ol.style.Style({\n        image: new ol.style.Circle({\n          radius: 6,\n          stroke: !fill && new ol.style.Stroke({\n            color: color,\n            width: 4\n          }),\n          fill: fill && new ol.style.Fill({\n            color: color\n          })\n        }),\n        zIndex: Infinity\n      });\n    } else if (geometryType === 'MultiPolygon' || geometryType === 'Polygon') {\n      var fillColor = ol.color.asArray(color);\n      fillColor.splice(3, 1, 0.5);\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        }),\n        fill: fill && new ol.style.Fill({\n          color: ol.color.asString(fillColor)\n        })\n      });\n    }\n    return style;\n  },\n  getAlphanumericPropertiesFromFeature: function getAlphanumericPropertiesFromFeature() {\n    var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    properties = Array.isArray(properties) ? properties : Object.keys(properties);\n    return properties.filter(function (property) {\n      return geometryFields.indexOf(property) === -1;\n    });\n  },\n\n\n  /**\n   * Method to convert feature to form Data for expression/expression_eval request\n   * @param feature\n   * @param type\n   */\n  getFormDataExpressionRequestFromFeature: function getFormDataExpressionRequestFromFeature(feature) {\n    delete feature.attributes.geometry;\n    var _feature = new ol.Feature(feature.geometry);\n    var properties = {};\n    geoutils.getAlphanumericPropertiesFromFeature(feature.attributes).forEach(function (property) {\n      if (property !== G3W_FID) properties[property] = feature.attributes[property];\n    });\n    _feature.setProperties(properties);\n    _feature.setId(feature.attributes[G3W_FID]);\n    return geoutils.convertFeatureToGEOJSON(_feature);\n  },\n\n\n  /**\n   * Convert Feature  to GEOJSON Format\n   * @param feature\n   */\n  convertFeatureToGEOJSON: function convertFeatureToGEOJSON(feature) {\n    var GeoJSONFormat = new ol.format.GeoJSON();\n    return GeoJSONFormat.writeFeatureObject(feature);\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByBBOX: function getQueryLayersPromisesByBBOX(layers, _ref13) {\n    var bbox = _ref13.bbox,\n        _ref13$filterConfig = _ref13.filterConfig,\n        filterConfig = _ref13$filterConfig === undefined ? {} : _ref13$filterConfig,\n        _ref13$feature_count = _ref13.feature_count,\n        feature_count = _ref13$feature_count === undefined ? 10 : _ref13$feature_count,\n        _ref13$multilayers = _ref13.multilayers,\n        multilayers = _ref13$multilayers === undefined ? false : _ref13$multilayers;\n\n    var queriesPromise = void 0;\n    var geometry = ol.geom.Polygon.fromExtent(bbox);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var mapProjection = map.getView().getProjection();\n\n    if (multilayers) {\n      queriesPromise = geoutils.getQueryLayersPromisesByGeometry(layers, {\n        geometry: geometry,\n        feature_count: feature_count,\n        filterConfig: filterConfig,\n        multilayers: multilayers,\n        projection: mapProjection\n      });\n    } else {\n      var d = $.Deferred();\n      var mapCrs = mapProjection.getCode();\n      queriesPromise = d.promise();\n      var queryResponses = [];\n      var queryErrors = [];\n      var layersLenght = layers.length;\n      layers.forEach(function (layer) {\n        var filter = new Filter(filterConfig);\n        var layerCrs = layer.getProjection().getCode();\n        /**\n         * convert\n         */\n        filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n        layer.query({\n          filter: filter,\n          feature_count: feature_count\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          return queryErrors.push(error);\n        }).always(function () {\n          layersLenght -= 1;\n          if (layersLenght === 0) queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n        });\n      });\n    }\n    return queriesPromise;\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param multilayers\n   * @param bbox\n   * @param geometry\n   * @param projection\n   * @param feature_count\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByGeometry: function getQueryLayersPromisesByGeometry(layers) {\n    var _ref14 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref14$multilayers = _ref14.multilayers,\n        multilayers = _ref14$multilayers === undefined ? false : _ref14$multilayers,\n        geometry = _ref14.geometry,\n        _ref14$filterConfig = _ref14.filterConfig,\n        filterConfig = _ref14$filterConfig === undefined ? {} : _ref14$filterConfig,\n        projection = _ref14.projection,\n        _ref14$feature_count = _ref14.feature_count,\n        feature_count = _ref14$feature_count === undefined ? 10 : _ref14$feature_count;\n\n    var d = $.Deferred();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapCrs = projection.getCode();\n    var filter = new Filter(filterConfig);\n    if (multilayers) {\n      (function () {\n        var filterGeometry = geometry;\n        if (!layers.length) d.resolve([]);\n        var multiLayers = _.groupBy(layers, function (layer) {\n          return layer.getMultiLayerId() + '_' + layer.getProjection().getCode();\n        });\n        var numberRequestd = Object.keys(multiLayers).length;\n        var layersLength = numberRequestd;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('filter');\n          var layerCrs = multilayer.getProjection().getCode();\n          if (mapCrs !== layerCrs) filterGeometry = filterGeometry.clone().transform(mapCrs, layerCrs);\n          filter.setGeometry(filterGeometry);\n          provider.query({\n            filter: filter,\n            layers: _layers,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) queryErrors.length === numberRequestd ? d.reject(queryErrors) : d.resolve(queryResponses);\n          });\n        }\n      })();\n    } else {\n      if (layers.length === 0) d.resolve([]);else {\n        var layersLenght = layers.length;\n        layers.forEach(function (layer) {\n          var layerCrs = layer.getProjection().getCode();\n          filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n          layer.query({\n            filter: filter,\n            filterConfig: filterConfig,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLenght -= 1;\n            if (layersLenght === 0) {\n              queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        });\n      }\n    }\n    return d.promise();\n  },\n  getQueryLayersPromisesByCoordinates: function getQueryLayersPromisesByCoordinates(layers) {\n    var _ref15 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        coordinates = _ref15.coordinates,\n        _ref15$feature_count = _ref15.feature_count,\n        feature_count = _ref15$feature_count === undefined ? 10 : _ref15$feature_count,\n        _ref15$query_point_to = _ref15.query_point_tolerance,\n        query_point_tolerance = _ref15$query_point_to === undefined ? QUERY_POINT_TOLERANCE : _ref15$query_point_to,\n        _ref15$multilayers = _ref15.multilayers,\n        multilayers = _ref15$multilayers === undefined ? false : _ref15$multilayers,\n        _ref15$reproject = _ref15.reproject,\n        reproject = _ref15$reproject === undefined ? true : _ref15$reproject;\n\n    var d = $.Deferred();\n    if (!layers.length) return d.resolve(layers);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var size = map.getSize();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapProjection = map.getView().getProjection();\n    var resolution = map.getView().getResolution();\n    if (multilayers) {\n      (function () {\n        // case of multilayers\n        var multiLayers = {};\n        layers.forEach(function (layer) {\n          var key = layer.getInfoFormat() + ':' + layer.getInfoUrl() + ':' + layer.getMultiLayerId();\n          if (multiLayers[key]) multiLayers[key].push(layer);else multiLayers[key] = [layer];\n        });\n        var numberOfRequests = Object.keys(multiLayers).length;\n        var layersLength = numberOfRequests;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers2 = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('query');\n          provider.query({\n            feature_count: feature_count,\n            coordinates: coordinates,\n            query_point_tolerance: query_point_tolerance,\n            mapProjection: mapProjection,\n            reproject: reproject,\n            resolution: resolution,\n            size: size,\n            layers: _layers2\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) {\n              queryErrors.length === numberOfRequests ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        }\n      })();\n    } else {\n      // single layers request\n      var layersLength = layers.length;\n      var rejectedResponses = 0;\n      layers.forEach(function (layer) {\n        layer.query({\n          feature_count: feature_count,\n          coordinates: coordinates,\n          query_point_tolerance: query_point_tolerance,\n          mapProjection: mapProjection,\n          size: size,\n          resolution: resolution\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          rejectedResponses += 1;\n          queryErrors.push(error);\n        }).always(function () {\n          layersLength -= 1;\n          if (layersLength === 0) {\n            rejectedResponses < layers.length ? d.resolve(queryResponses) : d.reject(queryErrors);\n          }\n        });\n      });\n    }\n    return d.promise();\n  },\n  transformBBOX: function transformBBOX() {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref16.bbox,\n        sourceCrs = _ref16.sourceCrs,\n        destinationCrs = _ref16.destinationCrs;\n\n    var point1 = new ol.geom.Point([bbox[0], bbox[1]]);\n    var point2 = new ol.geom.Point([bbox[2], bbox[3]]);\n    point1.transform(sourceCrs, destinationCrs);\n    point2.transform(sourceCrs, destinationCrs);\n    return [].concat(_toConsumableArray(point1.getCoordinates()), _toConsumableArray(point2.getCoordinates()));\n  },\n  parseQueryLayersPromiseResponses: function parseQueryLayersPromiseResponses(responses) {\n    var results = {\n      query: responses[0] ? responses[0].query : null,\n      data: []\n    };\n    responses.forEach(function (result) {\n      result.data && result.data.forEach(function (data) {\n        results.data.push(data);\n      });\n    });\n    return results;\n  },\n  getMapLayerById: function getMapLayerById(layerId) {\n    return _mapLayers2.default.getLayerById(layerId);\n  },\n\n\n  //return mapLayer based on filter (properties of layer. Es GEOLAYER etc..)\n  //Default values geolayer\n  getMapLayersByFilter: function getMapLayersByFilter() {\n    var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    filter = _extends({\n      GEOLAYER: true\n    }, filter);\n    var layers = [];\n    _mapLayers2.default.getQuerableLayersStores().forEach(function (layerStore) {\n      layers = layerStore.getLayers(filter, options);\n    });\n    return layers || [];\n  },\n  areCoordinatesEqual: function areCoordinatesEqual() {\n    var coordinates1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var coordinates2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return coordinates1[0] === coordinates2[0] && coordinates1[1] === coordinates2[1];\n  },\n\n  /**\n   *\n   *\n   * @param response\n   * @param type vector/results\n   * @returns {*|*[]|null}\n   */\n  getFeaturesFromResponseVectorApi: function getFeaturesFromResponseVectorApi() {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref17 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref17$type = _ref17.type,\n        type = _ref17$type === undefined ? 'vector' : _ref17$type;\n\n    if (response.result) {\n      var features = response.vector.data.features || [];\n      switch (type) {\n        case 'result':\n          return geoutils.covertVectorFeaturesToResultFeatures(features);\n          break;\n        case 'vector':\n        default:\n          return features;\n      }\n    } else return null;\n  },\n  covertVectorFeaturesToResultFeatures: function covertVectorFeaturesToResultFeatures() {\n    var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return features.map(function (feature) {\n      var id = feature.id,\n          attributes = feature.properties,\n          geometry = feature.geometry;\n\n      attributes[G3W_FID] = id;\n      return {\n        geometry: geometry,\n        attributes: attributes,\n        id: id\n      };\n    });\n  },\n  splitGeometryLine: function splitGeometryLine(splitGeometry, lineGeometry) {\n    var isZType = lineGeometry.getCoordinates()[0][2] !== undefined;\n    var splitted = false;\n    var splittedSegments = [];\n    var jstsFromWkt = new jsts.io.WKTReader();\n    var wktFromOl = new ol.format.WKT();\n    var olFromJsts = new jsts.io.OL3Parser();\n    var splitLine = jstsFromWkt.read(wktFromOl.writeGeometry(splitGeometry));\n    var wktLineString = wktFromOl.writeGeometry(lineGeometry);\n    if (isZType) wktLineString = wktLineString.replace(' Z', '');\n    var targetLine = jstsFromWkt.read(wktLineString);\n    var targetCoordinates = targetLine.getCoordinates();\n    var targetCoordinatesLength = targetCoordinates.length;\n    var geometryFactory = new jsts.geom.GeometryFactory();\n    var pointsNotSplitted = [];\n    var endPoint = void 0;\n    var startPoint = void 0;\n    for (var i = 0; i < targetCoordinatesLength - 1; i++) {\n      startPoint = targetCoordinates[i];\n      endPoint = targetCoordinates[i + 1];\n      if (isZType) {\n        startPoint.z = lineGeometry.getCoordinates()[i][2];\n        endPoint.z = lineGeometry.getCoordinates()[i + 1][2];\n      }\n      // create a segment of two vertex\n      var segment = geometryFactory.createLineString([startPoint, endPoint]);\n      var intersectCoordinates = segment.intersection(splitLine).getCoordinates();\n      if (intersectCoordinates.length) {\n        splitted = true;\n        intersectCoordinates.forEach(function (splitPoint) {\n          if (isZType) splitPoint.z = startPoint.z;\n          if (pointsNotSplitted.length) {\n            var lineNewSegment = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted.concat([startPoint, splitPoint])));\n            if (isZType) {\n              var coordinates = lineNewSegment.getCoordinates();\n              lineNewSegment.setCoordinates([[].concat(_toConsumableArray(coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(lineNewSegment);\n            pointsNotSplitted = [];\n          } else {\n            var _lineNewSegment = olFromJsts.write(geometryFactory.createLineString([startPoint, splitPoint]));\n            if (isZType) {\n              var _coordinates = _lineNewSegment.getCoordinates();\n              _lineNewSegment.setCoordinates([[].concat(_toConsumableArray(_coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(_coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(_lineNewSegment);\n          }\n          startPoint = splitPoint;\n        });\n        pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n      } else pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n    }\n    var restOfLine = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted));\n    if (isZType) {\n      var zCoordinates = [];\n      pointsNotSplitted.forEach(function (pointNotSplitted, index) {\n        var coordinate = restOfLine.getCoordinates()[index];\n        coordinate.push(pointNotSplitted.z);\n        zCoordinates.push(coordinate);\n      });\n      restOfLine.setCoordinates(zCoordinates);\n    }\n    splittedSegments.push(restOfLine);\n    return splitted && splittedSegments || [];\n  },\n  splitFeatures: function splitFeatures() {\n    var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref18$features = _ref18.features,\n        features = _ref18$features === undefined ? [] : _ref18$features,\n        splitfeature = _ref18.splitfeature;\n\n    var splitterdGeometries = [];\n    features.forEach(function (feature) {\n      var geometries = geoutils.splitFeature({ feature: feature, splitfeature: splitfeature });\n      geometries.length > 1 && splitterdGeometries.push({\n        uid: feature.getUid(),\n        geometries: geometries\n      });\n    });\n    return splitterdGeometries;\n  },\n  splitFeature: function splitFeature() {\n    var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref19.feature,\n        splitfeature = _ref19.splitfeature;\n\n    var geometries = {\n      feature: feature.getGeometry(), //geometry of the feature to split\n      split: splitfeature.getGeometry() // geometry of split feature\n    };\n    // check geometry type of split\n    var splitType = geometries.split.getType();\n    // check geometry type of feature\n    var featureGeometryType = geometries.feature.getType();\n    // array of splitted geometries\n    var splittedFeatureGeometries = [];\n    var parser = new jsts.io.OL3Parser();\n    switch (splitType) {\n      case 'LineString':\n        // check if geometry is Polygon\n        if (featureGeometryType.indexOf('Polygon') !== -1) {\n          // check if is a MultiPolygon\n          var isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          // if multiPolygon\n          var polygonFeature = isMulti ? geometries.feature.getPolygons() : geometries.feature;\n          if (Array.isArray(polygonFeature)) {\n            polygonFeature.forEach(function (geometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: geometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiPolygon([geometry.getCoordinates()]));\n              });\n            });\n          } else {\n            // case a Polygon\n            var isZType = polygonFeature.getCoordinates()[0][0][2] !== undefined;\n            var polygonFeatureGeometry = parser.read(polygonFeature);\n            var externalPolygonFeatureGeometry = parser.read(polygonFeature.getLinearRing(0));\n            // create a line splittinf feature in jsts\n            var splitGeometry = parser.read(geometries.split);\n            // add holes geometries\n            var holePolygons = void 0;\n            if (polygonFeature.getLinearRingCount() > 1) {\n              var holeFeaturesGeometry = void 0;\n              for (var index = 1; index < polygonFeature.getLinearRingCount(); index++) {\n                var holeRing = parser.read(polygonFeature.getLinearRing(index));\n                if (holeFeaturesGeometry === undefined) holeFeaturesGeometry = holeRing;else holeFeaturesGeometry = holeFeaturesGeometry.union(holeRing);\n              }\n              holePolygons = new jsts.operation.polygonize.Polygonizer();\n              holePolygons.add(holeFeaturesGeometry);\n              var holyPolygonUnion = void 0;\n              holePolygons.getPolygons().toArray().forEach(function (polygon) {\n                if (holyPolygonUnion === undefined) holyPolygonUnion = polygon;else holyPolygonUnion = holyPolygonUnion.union(polygon);\n              });\n              holePolygons = holyPolygonUnion;\n            }\n\n            if (isZType) {\n              polygonFeature.getCoordinates()[0].forEach(function (coordinate, index) {\n                externalPolygonFeatureGeometry.getCoordinates()[index].z = coordinate[2];\n              });\n              splitGeometry.getCoordinates().forEach(function (coordinate) {\n                return coordinate.z = 0;\n              });\n            }\n\n            var union = externalPolygonFeatureGeometry.union(splitGeometry);\n            var polygonizer = new jsts.operation.polygonize.Polygonizer();\n            polygonizer.add(union);\n            var polygons = polygonizer.getPolygons().toArray();\n            polygons.length > 1 && polygons.forEach(function (polygon) {\n              if (holePolygons) polygon = polygon.difference(holePolygons);\n              if (polygonFeatureGeometry.intersects(polygon.getInteriorPoint())) {\n                var geometry = parser.write(polygon);\n                var polygonCoordinates = polygon.getCoordinates();\n                if (isZType) {\n                  polygonCoordinates.forEach(function (coordinate, index) {\n                    coordinate.z = coordinate.z === undefined ? polygonCoordinates[index === 0 ? index + 1 : index - 1].z : coordinate.z;\n                  });\n                }\n                if (isZType) {\n                  var zCoordinates = [];\n                  geometry.getCoordinates()[0].forEach(function (coordinate, index) {\n                    coordinate.push(polygonCoordinates[index].z);\n                    zCoordinates.push(coordinate);\n                  });\n                  geometry.setCoordinates([zCoordinates]);\n                }\n                var geometryType = geometry.getType();\n                if (isMulti) {\n                  splittedFeatureGeometries.push(new ol.geom.MultiPolygon(geometryType === 'Polygon' ? [geometry.getCoordinates()] : geometry.getCoordinates()));\n                } else {\n                  if (geometryType === 'Polygon') {\n                    splittedFeatureGeometries.push(geometry);\n                  } else geometry.getCoordinates().forEach(function (coordinates) {\n                    splittedFeatureGeometries.push(new ol.geom.Polygon(coordinates));\n                  });\n                }\n              }\n            });\n          }\n          //LineString or MultiLineString\n        } else if (featureGeometryType.indexOf('LineString') !== -1) {\n          var _isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          var lineFeatureGeometry = _isMulti ? geometries.feature.getLineStrings() : geometries.feature;\n          if (Array.isArray(lineFeatureGeometry)) {\n            lineFeatureGeometry.forEach(function (lineGeometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: lineGeometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiLineString([geometry.getCoordinates()]));\n              });\n            });\n          } else return geoutils.splitGeometryLine(geometries.split, geometries.feature);\n        }\n        break;\n    }\n    return splittedFeatureGeometries;\n  },\n\n  /**\n   * Return Point feature vertex from geometry\n   * @param geometry\n   */\n  getPointFeaturesfromGeometryVertex: function getPointFeaturesfromGeometryVertex(geometry) {\n    var pointFeatures = [];\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function (coordinates) {\n              var feature = new ol.Feature(new ol.geom.Point(coordinates));\n              pointFeatures.push(feature);\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTILINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.LINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          var feature = new ol.Feature(new ol.geom.Point(coordinates));\n          pointFeatures.push(feature);\n        });\n        break;\n      case GeometryTypes.POINT:\n        var coordinates = geometry.getCoordinates();\n        var feature = new ol.geom.Point(coordinates);\n        pointFeatures.push(feature);\n        break;\n    }\n    return pointFeatures;\n  },\n\n\n  /**\n   * Return number of vertex of a feature\n   * @param geometries\n   * @returns {*}\n   */\n  getVertexLength: function getVertexLength(geometry) {\n    var vertexLength = 0;\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function () {\n              return vertexLength += 1;\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function () {\n            return vertexLength += 1;\n          });\n        });\n        break;\n    }\n    return vertexLength;\n  },\n\n\n  /**\n   * Method that compare two geometry type and return true id are same geometry type or have in common tha same base geometry type:\n   * es. Point <--> Point => true\n   *  MultiPoint <--> Point => true\n   *  Point <--> Polygon => false\n   *\n   */\n  isSameBaseGeometryType: function isSameBaseGeometryType(geometryType1, geometryType2) {\n    geometryType1 = geometryType1.replace('Multi', '');\n    geometryType2 = geometryType2.replace('Multi', '');\n    return geometryType1 === geometryType2;\n  },\n  isSingleGeometry: function isSingleGeometry(geometry) {\n    return !Geometry.isMultiGeometry(geometry.getType());\n  },\n  singleGeometriesToMultiGeometry: function singleGeometriesToMultiGeometry() {\n    var geometries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var geometryType = geometries[0] && geometries[0].getType();\n    return geometryType && new ol.geom['Multi' + geometryType](geometries.map(function (geometry) {\n      return geometry.getCoordinates();\n    }));\n  },\n  multiGeometryToSingleGeometries: function multiGeometryToSingleGeometries(geometry) {\n    var geometryType = geometry.getType();\n    var geometries = [];\n    switch (geometryType) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometries = geometry.getPolygons();\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINESTRING:\n        geometries = geometry.getLineStrings();\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometries = geometry.getPoints();\n        break;\n    }\n    return geometries;\n  },\n\n  /**\n   * Convert geometry to geometryType (from Single to Multi or viceversa)\n   * @param geometry //from geometry\n   * @param toGeometryType\n   * @returns {*}\n   */\n  convertSingleMultiGeometry: function convertSingleMultiGeometry(geometry, toGeometryType) {\n    var fromGeometryType = geometry.getType();\n    if (toGeometryType && fromGeometryType !== toGeometryType) {\n      var isFromGeometryMulti = Geometry.isMultiGeometry(fromGeometryType);\n      var isToGeometryMulti = Geometry.isMultiGeometry(toGeometryType);\n      if (isFromGeometryMulti && !isToGeometryMulti) return geoutils.multiGeometryToSingleGeometries(geometry);else if (!isFromGeometryMulti && isToGeometryMulti) return geoutils.singleGeometriesToMultiGeometry([geometry]);\n    }\n    return geometry;\n  },\n  dissolve: function dissolve() {\n    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref20$features = _ref20.features,\n        features = _ref20$features === undefined ? [] : _ref20$features,\n        _ref20$index = _ref20.index,\n        index = _ref20$index === undefined ? 0 : _ref20$index,\n        _ref20$clone = _ref20.clone,\n        clone = _ref20$clone === undefined ? false : _ref20$clone;\n\n    var parser = new jsts.io.OL3Parser();\n    var featuresLength = features.length;\n    var dissolvedFeature = void 0;\n    var jstsdissolvedFeatureGeometry = void 0;\n    switch (featuresLength) {\n      case 0:\n        dissolvedFeature = null;\n        break;\n      case 1:\n        dissolvedFeature = features[0];\n        break;\n      default:\n        var baseFeature = dissolvedFeature = clone ? features[index].clone() : features[index];\n        var baseFeatureGeometry = baseFeature.getGeometry();\n        var baseFeatureGeometryType = baseFeatureGeometry.getType();\n        // check if can buil a LineString\n        if (baseFeatureGeometryType === 'LineString') {\n          var lineMerger = new jsts.operation.linemerge.LineMerger();\n          for (var i = 0; i < featuresLength; i++) {\n            var feature = features[i];\n            var coordinates = parser.read(feature.getGeometry()).getCoordinates();\n            var LineString = new jsts.geom.GeometryFactory().createLineString(coordinates);\n            lineMerger.addLineString(LineString);\n          }\n          var mergedLineString = lineMerger.getMergedLineStrings();\n          jstsdissolvedFeatureGeometry = mergedLineString.size() === 1 ? mergedLineString.toArray()[0] : null;\n        } else {\n          jstsdissolvedFeatureGeometry = parser.read(baseFeatureGeometry);\n          for (var _i = 0; _i < featuresLength; _i++) {\n            if (index !== _i) {\n              var _feature3 = features[_i];\n              jstsdissolvedFeatureGeometry = jstsdissolvedFeatureGeometry.union(parser.read(_feature3.getGeometry()));\n            }\n          }\n        }\n        if (jstsdissolvedFeatureGeometry) {\n          var dissolvedFeatureGeometry = parser.write(jstsdissolvedFeatureGeometry);\n          var dissolvedFeatureGeometryType = dissolvedFeatureGeometry.getType();\n          var dissolvedFeatuteGeometryCoordinates = dissolvedFeatureGeometryType === baseFeatureGeometryType ? dissolvedFeatureGeometry.getCoordinates() : baseFeatureGeometryType.indexOf('Multi') !== -1 && dissolvedFeatureGeometryType === baseFeatureGeometryType.replace('Multi', '') ? [dissolvedFeatureGeometry.getCoordinates()] : null;\n          if (dissolvedFeatuteGeometryCoordinates) baseFeature.getGeometry().setCoordinates(dissolvedFeatuteGeometryCoordinates);else dissolvedFeature = null;\n        } else dissolvedFeature = null;\n    }\n    return dissolvedFeature;\n  },\n\n\n  /**\n   * Method to find Self Intersection\n   * @param geoJsonPolygon\n   * @returns {[]}\n   */\n  findSelfIntersects: function findSelfIntersects(geometry) {\n    // temporary return true or false (commented the array result for point intersect)\n    var selfIntersectPoint = [];\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsPolygon = olFromJsts.read(geometry);\n    // if the geometry is already a simple linear ring, do not\n    // try to find self intersection points.\n    var validator = new jsts.operation.IsSimpleOp(jstsPolygon);\n    //if (validator.isSimpleLinearGeometry(jstsPolygon)) return selfIntersectPoint;\n    if (validator.isSimpleLinearGeometry(jstsPolygon)) return false;\n    var graph = new jsts.geomgraph.GeometryGraph(0, jstsPolygon);\n    var cat = new jsts.operation.valid.ConsistentAreaTester(graph);\n    var r = cat.isNodeConsistentArea();\n    if (!r) {\n      return true;\n      //const pt = cat.getInvalidPoint();\n      //selfIntersectPoint.push([pt.x, pt.y]);\n    }\n  },\n  normalizeEpsg: function normalizeEpsg(epsg) {\n    if (typeof epsg === 'number') return 'EPSG:' + epsg;\n    epsg = epsg.replace(/[^\\d\\.\\-]/g, \"\");\n    if (epsg !== '') return 'EPSG:' + parseInt(epsg);\n  },\n  crsToCrsObject: function crsToCrsObject(crs) {\n    if (crs === null || crs === undefined) return crs;\n    if (toRawType(crs) === 'Object' && crs.epsg) crs.epsg = geoutils.normalizeEpsg(crs.epsg);else crs = {\n      epsg: geoutils.normalizeEpsg(crs),\n      proj4: \"\",\n      axisinverted: false,\n      geographic: false\n    };\n    return crs;\n  },\n\n  /**\n   * Method to convert Degree Minutes  to Degree\n   * @param dm\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMToDEG: function ConvertDMToDEG(_ref21) {\n    var dms = _ref21.dms,\n        _ref21$type = _ref21.type,\n        type = _ref21$type === undefined ? \"Array\" : _ref21$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var deg = (Number(degrees) + Number(minutes) / 60).toFixed(6);\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DM\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDM: function ConvertDEGToDM() {\n    var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref22.deg,\n        _ref22$output = _ref22.output,\n        output = _ref22$output === undefined ? 'Array' : _ref22$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutes = (absolute - degrees) * 60;\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\";\n    }\n  },\n\n  /**\n   * Method to convert Degree Minutes Seconto to Degree\n   * @param dms\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMSToDEG: function ConvertDMSToDEG(_ref23) {\n    var dms = _ref23.dms,\n        _ref23$type = _ref23.type,\n        type = _ref23$type === undefined ? \"Array\" : _ref23$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var seconds = 1 * dms_Array[2];\n    var direction = dms_Array[3];\n    var deg = (Number(degrees) + Number(minutes) / 60 + Number(seconds) / 3600).toFixed(6);\n    if (direction == \"S\" || direction == \"W\") deg = deg * -1;\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DMS\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDMS: function ConvertDEGToDMS() {\n    var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref24.deg,\n        lat = _ref24.lat,\n        lon = _ref24.lon,\n        _ref24$output = _ref24.output,\n        output = _ref24$output === undefined ? 'Array' : _ref24$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutesNotTruncated = (absolute - degrees) * 60;\n    var minutes = Math.floor(minutesNotTruncated);\n    var seconds = ((minutesNotTruncated - minutes) * 60).toFixed(2);\n    var direction = void 0;\n    if (lat) direction = deg >= 0 ? \"N\" : \"S\";\n    if (lon) direction = deg >= 0 ? \"E\" : \"W\";\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes, seconds, direction];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes,\n          seconds: seconds,\n          direction: direction\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\" + seconds + \"\\\"\" + direction;\n    }\n  },\n\n  /**\n   * Method to get geotiff file create by server\n   *\n   * @param options {\n   *   url: server url end point\n   *   method: \"GET\" or \"POST\" - default POST\n   * }\n   * @returns {Promise<Blob>}\n   */\n  getGeoTIFFfromServer: function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var url, _options$params, image, csrfmiddlewaretoken, bbox, _options$method, method, body, response, geoTIFF;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              url = options.url, _options$params = options.params, image = _options$params.image, csrfmiddlewaretoken = _options$params.csrfmiddlewaretoken, bbox = _options$params.bbox, _options$method = options.method, method = _options$method === undefined ? \"POST\" : _options$method;\n              body = new FormData();\n\n              body.append('image', image);\n              body.append('csrfmiddlewaretoken', csrfmiddlewaretoken);\n              body.append('bbox', bbox);\n              _context4.next = 7;\n              return fetch(url, {\n                method: method, // *GET, POST, PUT, DELETE, etc.,\n                body: body\n              });\n\n            case 7:\n              response = _context4.sent;\n              _context4.next = 10;\n              return response.blob();\n\n            case 10:\n              geoTIFF = _context4.sent;\n              return _context4.abrupt('return', geoTIFF);\n\n            case 12:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function getGeoTIFFfromServer() {\n      return _ref25.apply(this, arguments);\n    }\n\n    return getGeoTIFFfromServer;\n  }(),\n\n  /**\n   * Method to convert feature forma api\n   * @param feature\n   * @returns {*|Feature|Feature}\n   */\n  createOlFeatureFromApiResponseFeature: function createOlFeatureFromApiResponseFeature(feature) {\n    var _feature$properties = feature.properties,\n        properties = _feature$properties === undefined ? {} : _feature$properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    properties[G3W_FID] = id;\n    var Feature = new ol.Feature(geometry && new ol.geom[geometry.type](geometry.coordinates));\n    Feature.setProperties(properties);\n    Feature.setId(id);\n    return Feature;\n  },\n  sanitizeFidFeature: function sanitizeFidFeature(fid) {\n    if (toRawType(fid) === 'String' && Number.isNaN(1 * fid)) {\n      fid = fid.split('.');\n      fid = fid.length === 2 ? fid[1] : fid[0];\n    }\n    return fid;\n  },\n  parseAttributes: function parseAttributes(layerAttributes, featureAttributes) {\n    var featureAttributesNames = Object.keys(featureAttributes).filter(function (featureAttributesName) {\n      return geometryFields.indexOf(featureAttributesName) === -1;\n    });\n    if (layerAttributes && layerAttributes.length) {\n      var _featureAttributesNames = Object.keys(featureAttributes);\n      return layerAttributes.filter(function (attribute) {\n        return _featureAttributesNames.indexOf(attribute.name) > -1;\n      });\n    } else {\n      return featureAttributesNames.map(function (featureAttributesName) {\n        return {\n          name: featureAttributesName,\n          label: featureAttributesName\n        };\n      });\n    }\n  },\n\n  /**\n   * Handle case query response\n   */\n  handleQueryResponse: function handleQueryResponse() {\n    var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref26.response,\n        projections = _ref26.projections,\n        layers = _ref26.layers,\n        _ref26$wms = _ref26.wms,\n        wms = _ref26$wms === undefined ? true : _ref26$wms;\n\n    layers = layers ? layers : [this._layer];\n    var layer = layers[0];\n    var infoFormat = layer.getInfoFormat();\n    response = responseParser.get(infoFormat)({\n      response: response,\n      projections: projections,\n      layers: layers,\n      wms: wms\n    });\n    return response;\n  },\n\n\n  /**\n   * core/geometry/geom::distance@v3.4\n   */\n  distance: function distance(c1, c2) {\n    return Math.sqrt(geom.squaredDistance(c1, c2));\n  },\n\n\n  /**\n   * * core/geometry/geom::squaredDistance@v3.4\n   */\n  squaredDistance: function squaredDistance(c1, c2) {\n    var x1 = c1[0];\n    var y1 = c1[1];\n    var x2 = c2[0];\n    var y2 = c2[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  },\n\n\n  /**\n   * core/geometry/geom::closestOnSegment@v3.4\n   */\n  closestOnSegment: function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0 ? 0 : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x = void 0,\n        y = void 0;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  },\n  get_LEGEND_ON_LEGEND_OFF_Params: function get_LEGEND_ON_LEGEND_OFF_Params(layer) {\n    var LEGEND_ON = void 0,\n        LEGEND_OFF = void 0;\n    if (layer.getCategories()) {\n      /**\n       * checked: current status\n       * _checked: original status\n       * handle only difference (diff) from original checked status and current chenge by toc categories\n       */\n      layer.getCategories().forEach(function (_ref27) {\n        var checked = _ref27.checked,\n            _checked = _ref27._checked,\n            ruleKey = _ref27.ruleKey;\n\n        if (checked !== _checked) {\n          if (checked) {\n            if (typeof LEGEND_ON === 'undefined') LEGEND_ON = layer.getWMSLayerName() + ':';else LEGEND_ON = LEGEND_ON + ',';\n            LEGEND_ON = '' + LEGEND_ON + ruleKey;\n          } else {\n            if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = layer.getWMSLayerName() + ':';else LEGEND_OFF = LEGEND_OFF + ',';\n            LEGEND_OFF = '' + LEGEND_OFF + ruleKey;\n          }\n        }\n      });\n    }\n    return {\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF\n    };\n  },\n\n\n  /**\n   * @TODO remove \"Geometry\" sub-property (ie. find out how to merge the following functions)\n   */\n  Geometry: Geometry\n\n};\n\nmodule.exports = geoutils;\n\n},{\"app/constant\":5,\"core/layers/filter/filter\":31,\"core/layers/map/wmslayer\":46,\"core/utils/parsers\":67,\"core/utils/utils\":68,\"services/gui\":349,\"store/map-layers\":365}],66:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @FIXME remove weird import (utility functions should be stateles)\n                                                                                                                                                                                                                                                                   */\n\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n */\n// const { Geometry } = require('core/utils/geo');\n\nvar INCHES_PER_UNIT = {\n  m: 39.37, //\n  degrees: 4374754\n};\n\n//const DOTS_PER_INCH = ol.has.DEVICE_PIXEL_RATIO * 96; //DPI96\nvar DOTS_PER_INCH = 96; //DPI96\n\nvar utils = {\n  merge: function merge(obj1, obj2) {\n    var obj3 = _extends({}, obj1, obj2);\n    return obj3;\n  },\n  getExtentForViewAndSize: function getExtentForViewAndSize(center, resolution, rotation, size) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    //return [Math.min(y0, y1, y2, y3),Math.min(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), Math.max(x0, x1, x2, x3)]\n    return [Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3)];\n  },\n\n  // function that create a polygon vector layer from bbox\n  createPolygonLayerFromBBox: function createPolygonLayerFromBBox(bbox) {\n    var polygonFeature = new ol.Feature(new ol.geom.Polygon.fromExtent(bbox));\n    var vectorSource = new ol.source.Vector({\n      features: [polygonFeature]\n    });\n    var polygonLayer = new ol.layer.Vector({\n      source: vectorSource\n    });\n    return polygonLayer;\n  },\n  reverseGeometry: function reverseGeometry(geometry) {\n    var reverseCoordinates = function reverseCoordinates(coordinates) {\n      coordinates.find(function (coordinate) {\n        if (Array.isArray(coordinate)) {\n          reverseCoordinates(coordinate);\n        } else {\n          var _coordinates = _slicedToArray(coordinates, 2),\n              y = _coordinates[0],\n              x = _coordinates[1];\n\n          coordinates[0] = x;\n          coordinates[1] = y;\n          return true;\n        }\n      });\n    };\n    var coordinates = geometry.getCoordinates();\n    reverseCoordinates(coordinates);\n    geometry.setCoordinates(coordinates);\n    return geometry;\n  },\n  getScaleFromResolution: function getScaleFromResolution(resolution) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    return Math.round(resolution * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getResolutionFromScale: function getResolutionFromScale(scale) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    var normScale = scale >= 1.0 ? 1.0 / scale : scale; // just to prevent that scale is passed as 1:10000 or 0.0001\n    return 1 / (normScale * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getDPI: function getDPI() {\n    return DOTS_PER_INCH;\n  },\n  getMetersFromDegrees: function getMetersFromDegrees(degrees) {\n    return degrees * ol.proj.Units.METERS_PER_UNIT.degrees;\n  },\n  needUseSphereMethods: function needUseSphereMethods(projection) {\n    return projection.getCode() === 'EPSG:3857' || projection.getUnits() === 'degrees';\n    //return projection.getUnits() === 'degrees';\n  },\n  getLengthMessageText: function getLengthMessageText() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        unit = _ref.unit,\n        projection = _ref.projection,\n        geometry = _ref.geometry;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require = require('core/utils/geo'),\n        Geometry = _require.Geometry;\n    //\n\n\n    var geometryType = geometry.getType();\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var length = useSphereMethods ? ol.sphere.getLength(geometry, {\n      projection: projection.getCode()\n    }) : Geometry.isMultiGeometry(geometryType) ? geometry.getLineStrings().reduce(function (totalLength, lineGeometry) {\n      return totalLength += lineGeometry.getLength();\n    }, 0) : geometry.getLength();\n    var message = void 0;\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterLength(length, unit) + \" nm\";\n        break;\n      case 'metric':\n      default:\n        message = length > 1000 ? (Math.round(length / 1000 * 100) / 100).toFixed(3) + \" km\" : (Math.round(length * 100) / 100).toFixed(2) + \" m\";\n    }\n    return message;\n  },\n  getAreaMessageText: function getAreaMessageText(_ref2) {\n    var unit = _ref2.unit,\n        geometry = _ref2.geometry,\n        projection = _ref2.projection,\n        _ref2$segments = _ref2.segments,\n        segments = _ref2$segments === undefined ? [] : _ref2$segments;\n\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var area = Math.round(useSphereMethods ? ol.sphere.getArea(geometry, {\n      projection: projection.getCode()\n    }) : geometry.getArea());\n    var message = void 0;\n    var segments_info_meausure = '';\n    var segmentLength = segments.length;\n    if (segmentLength > 2) {\n      segments_info_meausure += this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: new ol.geom.LineString(segments)\n      }) + \" <br>\";\n    }\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterArea(area, unit) + \" \\u2009nmi\\xB2\";\n        break;\n      case 'metric':\n      default:\n        message = area > 1000000 ? (Math.round(area / 1000000 * 100) / 100).toFixed(6) + \" km<sup>2</sup>\" : (Math.round(area * 100) / 100).toFixed(3) + \" m<sup>2</sup>\";\n    }\n    if (segments_info_meausure) message = \"Area: \" + message + \" <br><div style=\\\"width: 100%; padding: 3px; border-bottom: 2px solid #ffffff\\\"></div> \" + segments_info_meausure;\n    return message;\n  },\n  formatMeasure: function formatMeasure() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometry = _ref3.geometry,\n        projection = _ref3.projection;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require2 = require('core/utils/geo'),\n        Geometry = _require2.Geometry,\n        multiGeometryToSingleGeometries = _require2.multiGeometryToSingleGeometries;\n    //\n\n\n    var geometryType = geometry.getType();\n    var unit = this.getCurrentMapUnit();\n    if (Geometry.isLineGeometryType(geometryType)) {\n      return this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: geometry\n      });\n    } else if (Geometry.isPolygonGeometryType(geometryType)) {\n      var segments = void 0;\n      if (Geometry.isMultiGeometry(geometryType)) {\n        segments = [];\n        multiGeometryToSingleGeometries(geometry).forEach(function (geometry) {\n          geometry.getLinearRing().getCoordinates().forEach(function (coordinates) {\n            return segments.push(coordinates);\n          });\n        });\n      } else segments = geometry.getLinearRing().getCoordinates();\n      return this.getAreaMessageText({ unit: unit, geometry: geometry, projection: projection, segments: segments });\n    }\n  },\n\n\n  //create and add measure tooltip\n  createMeasureTooltip: function createMeasureTooltip() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        map = _ref4.map,\n        feature = _ref4.feature;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var element = document.createElement('div');\n    element.className = 'mtooltip mtooltip-measure';\n    var tooltip = new ol.Overlay({\n      element: element,\n      offset: [0, -15],\n      positioning: 'bottom-center'\n    });\n    map.addOverlay(tooltip);\n    var unbyKey = feature.getGeometry().on('change', function (evt) {\n      var tooltipCoord = void 0;\n      var geometry = evt.target;\n      if (geometry instanceof ol.geom.Polygon) tooltipCoord = geometry.getInteriorPoint().getCoordinates();else if (geometry instanceof ol.geom.MultiPolygon) tooltipCoord = geometry.getInteriorPoints().getCoordinates()[0];else if (geometry instanceof ol.geom.LineString) tooltipCoord = geometry.getLastCoordinate();else if (geometry instanceof ol.geom.MultiLineString) tooltipCoord = geometry.getLastCoordinate();\n      var output = utils.formatMeasure({\n        geometry: geometry,\n        projection: map.getView().getProjection()\n      }, options);\n      element.innerHTML = output;\n      tooltip.setPosition(tooltipCoord);\n    });\n\n    return {\n      tooltip: tooltip,\n      unbyKey: unbyKey\n    };\n  },\n\n  /**\n   * @FIXME utility functions should be stateles (move it elsewhere)\n   */\n  getCurrentMapUnit: function getCurrentMapUnit() {\n    return _applicationState2.default.map.unit;\n  },\n\n\n  /**\n   * Method to transform length meter in a specific unti (ex.nautilcal mile)\n   * @param length\n   * @param tounit\n   * @returns {null}\n   */\n  transformMeterLength: function transformMeterLength(length, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        length = length * 0.0005399568;\n        break;\n    }\n    return length;\n  },\n  transformMeterArea: function transformMeterArea(area, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        area = area * 0.000000291553349598122862913947445759414840765222583489217190918463024037990567;\n        break;\n    }\n    return area;\n  },\n\n\n  //remove mesure tootltip\n  removeMeasureTooltip: function removeMeasureTooltip(_ref5) {\n    var map = _ref5.map,\n        tooltip = _ref5.tooltip,\n        unbyKey = _ref5.unbyKey;\n\n    map.removeOverlay(tooltip);\n    ol.Observable.unByKey(unbyKey);\n  },\n  setMeasureTooltipStatic: function setMeasureTooltipStatic(tooltip) {\n    var element = tooltip.getElement();\n    element.className = 'mtooltip mtooltip-static';\n    tooltip.setOffset([0, -7]);\n  }\n};\n\nmodule.exports = utils;\n\n},{\"core/utils/geo\":65,\"store/application-state\":361}],67:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar Feature = require('core/layers/features/feature');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar olutils = require('core/utils/ol');\nvar WORD_NUMERIC_FIELD_ESCAPE = 'GIS3W_ESCAPE_NUMERIC_FIELD_';\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level)\n */\n// const { Geometry : { is3DGeometry, removeZValueToOLFeatureGeometry } } = require('core/utils/geo');\n\n/**\n * Response parser (internal utilities)\n */\nvar utils = {\n  getHandledResponsesFromResponse: function getHandledResponsesFromResponse(_ref) {\n    var _this = this;\n\n    var response = _ref.response,\n        layers = _ref.layers,\n        projections = _ref.projections,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? false : _ref$id;\n\n    var multilayers = false;\n    var x2js = new X2JS();\n    var jsonresponse = x2js.xml_str2json(response);\n    // in case of parser return null\n    if (!jsonresponse) return [{\n      layer: layers[0],\n      features: []\n    }];\n    var FeatureCollection = jsonresponse.FeatureCollection;\n    var handledResponses = [];\n    if (FeatureCollection.featureMember) {\n      var originalFeatureMember = Array.isArray(FeatureCollection.featureMember) ? FeatureCollection.featureMember : [FeatureCollection.featureMember];\n\n      var _loop = function _loop(i) {\n        var layer = layers[i];\n        var layerName = id ? layer.getId() : 'layer' + i;\n        var featureMemberArrayAndPrefix = {\n          features: null,\n          __prefix: null\n        };\n        jsonresponse.FeatureCollection.featureMember = originalFeatureMember.filter(function (feature) {\n          var featureMember = feature[layerName];\n          if (featureMember) {\n            featureMember.g3w_fid = {\n              __prefix: feature.__prefix,\n              __text: featureMember._fid && featureMember._fid.split('.')[1]\n            };\n            if (Array.isArray(featureMember)) {\n              featureMemberArrayAndPrefix.features = featureMember;\n              featureMemberArrayAndPrefix.__prefix = feature.__prefix;\n              return false;\n            }\n            return true;\n          }\n        });\n        if (featureMemberArrayAndPrefix.features) {\n          var prefix = featureMemberArrayAndPrefix.__prefix;\n          // check if features have the same fields. If not group the features with the same fields\n          var groupFeatures = _this.groupFeaturesByFields(featureMemberArrayAndPrefix.features);\n          //check if features have different fields (multilayers)\n          if (Object.keys(groupFeatures).length > 1) {\n            // is a multilayers. Each feature has different fields\n            multilayers = true;\n            _this.handleWMSMultiLayersResponseFromQGISSERVER({\n              groupFeatures: groupFeatures,\n              prefix: prefix,\n              handledResponses: handledResponses,\n              jsonresponse: jsonresponse,\n              layer: layer,\n              projections: projections\n            });\n          } else {\n            featureMemberArrayAndPrefix.features.forEach(function (feature) {\n              var _jsonresponse$Feature;\n\n              //for Each element have to add and object contain layerName and information, and __prefix\n              jsonresponse.FeatureCollection.featureMember.push((_jsonresponse$Feature = {}, _defineProperty(_jsonresponse$Feature, layerName, feature), _defineProperty(_jsonresponse$Feature, '__prefix', prefix), _jsonresponse$Feature));\n            });\n          }\n        }\n        if (!multilayers) {\n          var handledResponse = _this.parseLayerFeatureCollection({\n            jsonresponse: jsonresponse,\n            layer: layer,\n            projections: projections\n          });\n          handledResponse && handledResponses.unshift(handledResponse[0]);\n        }\n      };\n\n      for (var i = 0; i < layers.length; i++) {\n        _loop(i);\n      }\n    }\n    return handledResponses;\n  },\n  transformFeatures: function transformFeatures(features, projections) {\n    if (features.length) {\n      if (!!features[0].getGeometry()) {\n        var mainProjection = projections.layer ? projections.layer : projections.map;\n        var invertedAxis = mainProjection.getAxisOrientation().substr(0, 2) === 'ne';\n        if (projections.layer && projections.layer.getCode() !== projections.map.getCode()) {\n          features.forEach(function (feature) {\n            var geometry = feature.getGeometry();\n            feature.setGeometry(geometry.transform(projections.layer.getCode(), projections.map.getCode()));\n          });\n        }\n        if (invertedAxis) features = this.reverseFeaturesCoordinates(features);\n      }\n    }\n    return features;\n  },\n  parseLayerFeatureCollection: function parseLayerFeatureCollection(_ref2) {\n    var _this2 = this;\n\n    var jsonresponse = _ref2.jsonresponse,\n        layer = _ref2.layer,\n        projections = _ref2.projections;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level)\n     */\n    var _require3 = require('core/utils/geo'),\n        _require3$Geometry = _require3.Geometry,\n        is3DGeometry = _require3$Geometry.is3DGeometry,\n        removeZValueToOLFeatureGeometry = _require3$Geometry.removeZValueToOLFeatureGeometry;\n\n    var x2js = new X2JS();\n    var layerFeatureCollectionXML = x2js.json2xml_str(jsonresponse);\n    var parser = new ol.format.WMSGetFeatureInfo();\n    var features = this.transformFeatures(parser.readFeatures(layerFeatureCollectionXML), projections);\n    if (layer.isGeoLayer()) {\n      var geometryType = layer.getGeometryType();\n\n      // Need to remove Z values due a incorrect addition when using\n      // ol.format.WMSGetFeatureInfo readFeatures method from XML\n      // (eg. WMS getFeatureInfo);\n      if (!is3DGeometry(geometryType)) {\n        features.forEach(function (feature) {\n          return removeZValueToOLFeatureGeometry({ feature: feature });\n        });\n      }\n    }\n\n    if (features.length && this.hasFieldsStartWithNotPermittedKey) {\n      var properties = Object.keys(features[0].getProperties());\n      var numericFields = properties.filter(function (property) {\n        return property.indexOf(WORD_NUMERIC_FIELD_ESCAPE) !== -1;\n      });\n      features.forEach(function (feature) {\n        numericFields.forEach(function (_field) {\n          var value = feature.get(_field);\n          var ori_field = _field.replace(WORD_NUMERIC_FIELD_ESCAPE, '');\n          feature.set(_this2.hasFieldsStartWithNotPermittedKey[ori_field], Array.isArray(value) ? value[0] : value);\n          feature.unset(_field);\n        });\n      });\n    }\n    return [{\n      layer: layer,\n      features: features\n    }];\n  },\n  reverseFeaturesCoordinates: function reverseFeaturesCoordinates(features) {\n    features.forEach(function (feature) {\n      var geometry = feature.getGeometry();\n      feature.setGeometry(olutils.reverseGeometry(geometry));\n    });\n    return features;\n  },\n  handleXMLStringResponseBeforeConvertToJSON: function handleXMLStringResponseBeforeConvertToJSON() {\n    var _this3 = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref3.response,\n        layers = _ref3.layers,\n        wms = _ref3.wms;\n\n    if (!response) return; // return undefined if no response\n    if (!(typeof response === 'string' || response instanceof String)) response = new XMLSerializer().serializeToString(response);\n    for (var i = 0; i < layers.length; i++) {\n      var _layer = layers[i];\n      var originalName = wms && _layer.isWmsUseLayerIds() ? _layer.getId() : _layer.getName();\n      var sanitizeLayerName = wms ? originalName.replace(/[/\\s]/g, '') : originalName.replace(/[/\\s]/g, '_');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\'+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\)+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\(+)/, '');\n      var reg = new RegExp('qgs:' + sanitizeLayerName, \"g\");\n      response = response.replace(reg, 'qgs:layer' + i);\n    }\n    // add match numeric value integer or float\n    var arrayQGS = [].concat(_toConsumableArray(response.matchAll(/qgs:(\\d+(?:\\.\\d+)?)(\\w+)/g)), _toConsumableArray(response.matchAll(/qgs:(\\w+):(\\w+)/g)));\n    arrayQGS.forEach(function (find, idx) {\n      if (idx % 2 === 0) {\n        if (!_this3.hasFieldsStartWithNotPermittedKey) _this3.hasFieldsStartWithNotPermittedKey = {};\n        var originalField = find[0].replace('qgs:', '');\n        _this3.hasFieldsStartWithNotPermittedKey['' + find[1] + find[2]] = originalField;\n        var regex = new RegExp('' + find[0], \"g\");\n        response = response.replace(regex, 'qgs:' + WORD_NUMERIC_FIELD_ESCAPE + find[1] + find[2]);\n      }\n    });\n    //PATCH id strange\n    var strangeChar = new RegExp('' + String.fromCharCode(0), \"g\");\n    response = response.replace(strangeChar, '0');\n    ///\n    return response;\n  },\n  groupFeaturesByFields: function groupFeaturesByFields(features) {\n    return _.groupBy(features, function (feature) {\n      return Object.keys(feature);\n    });\n  },\n  handleWMSMultiLayersResponseFromQGISSERVER: function handleWMSMultiLayersResponseFromQGISSERVER() {\n    var _this4 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        groupFeatures = _ref4.groupFeatures,\n        prefix = _ref4.prefix,\n        handledResponses = _ref4.handledResponses,\n        jsonresponse = _ref4.jsonresponse,\n        layer = _ref4.layer,\n        projections = _ref4.projections;\n\n    // is a multilayers. Each feature has different fields. If group has more that one feature spit it and create single features\n    Object.keys(groupFeatures).forEach(function (key, index) {\n      var features = groupFeatures[key];\n      features.forEach(function (feature, sub_index) {\n        var _jsonresponse$Feature2;\n\n        jsonresponse.FeatureCollection.featureMember = (_jsonresponse$Feature2 = {}, _defineProperty(_jsonresponse$Feature2, 'layer' + index + '_' + sub_index, feature), _defineProperty(_jsonresponse$Feature2, '__prefix', prefix), _jsonresponse$Feature2);\n        var handledResponse = _this4.parseLayerFeatureCollection({\n          jsonresponse: jsonresponse,\n          layer: layer,\n          projections: projections\n        });\n        if (handledResponse) {\n          var response = handledResponse[0];\n          response.layer = layer;\n          handledResponses.unshift(response);\n        }\n      });\n    });\n  }\n};\n\n/**\n * Response parser (content types)\n */\nvar contenttypes = {\n  'application/json': function applicationJson() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$layers = _ref5.layers,\n        layers = _ref5$layers === undefined ? [] : _ref5$layers,\n        response = _ref5.response,\n        projections = _ref5.projections,\n        _ref5$wms = _ref5.wms,\n        wms = _ref5$wms === undefined ? true : _ref5$wms;\n\n    var _require4 = require('core/utils/geo'),\n        sanitizeFidFeature = _require4.sanitizeFidFeature;\n\n    var layersFeatures = [];\n    var layersId = layers.map(function (layer) {\n      layersFeatures.push({\n        layer: layer,\n        features: []\n      });\n      return wms ? layer.getWMSLayerName() : layer.getWFSLayerName();\n    });\n    var data = response;\n    var parseData = function parseData() {\n      var defaultDataProjection = projections.layer || projections.map;\n      var geojson = new ol.format.GeoJSON({\n        defaultDataProjection: defaultDataProjection,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    };\n    var features = data && parseData();\n    features.filter(function (feature) {\n      var featureId = feature.getId();\n      var g3w_fid = sanitizeFidFeature(featureId);\n      // in case of wms getfeature without filter return string contain layerName or layerid\n      var index = featureId == g3w_fid ? 0 : layersId.indexOf(featureId);\n      if (index !== -1) {\n        var fields = layersFeatures[index].layer.getFields().filter(function (field) {\n          return field.show;\n        });\n        var properties = feature.getProperties();\n        feature.set(_constant.G3W_FID, g3w_fid);\n        fields.forEach(function (field) {\n          if (properties[field.name] === undefined) {\n            properties[field.label] !== undefined && feature.set(field.name, properties[field.label]);\n          }\n        });\n        layersFeatures[index].features.push(feature);\n      }\n    });\n    return layersFeatures;\n  },\n  'application/geojson': function applicationGeojson() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref6.layers,\n        projections = _ref6.projections,\n        response = _ref6.response;\n\n    var handleResponse = [];\n    var parserGEOJson = Parsers.vector.get({\n      type: 'geojson'\n    });\n    if (response) {\n      layers.forEach(function (layer) {\n        handleResponse.push({\n          layer: layer,\n          features: parserGEOJson(response, {})\n        });\n      });\n    }\n    return handleResponse;\n  },\n  'text/html': function textHtml() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref7.layers,\n        response = _ref7.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/plain': function textPlain() {\n    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref8.layers,\n        response = _ref8.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/gml': function textGml(_ref9) {\n    var layers = _ref9.layers,\n        response = _ref9.response;\n\n    var parserGML = Parsers.vector.get({\n      type: 'gml'\n    });\n    var features = parserGML({\n      data: response,\n      layer: layers[0]\n    });\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        features: features\n      };\n    });\n  },\n  'application/vnd.ogc.gml': function applicationVndOgcGml() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref10.response,\n        projections = _ref10.projections,\n        layers = _ref10.layers,\n        _ref10$wms = _ref10.wms,\n        wms = _ref10$wms === undefined ? true : _ref10$wms;\n\n    return utils.getHandledResponsesFromResponse({\n      response: utils.handleXMLStringResponseBeforeConvertToJSON({\n        layers: layers,\n        response: response,\n        wms: wms\n      }),\n      layers: layers,\n      projections: projections\n    });\n  },\n  not_supported_format: function not_supported_format() {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref11$layers = _ref11.layers,\n        layers = _ref11$layers === undefined ? [] : _ref11$layers;\n\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        rawdata: t('warning.not_supported_format')\n      };\n    });\n  }\n};\n\n/**\n * Vector parser\n */\nvar VectorParser = function VectorParser() {\n  // return the right parser for the request\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'geojson':\n      case 'json':\n        parser = this._parseLayerGeoJSON;\n        break;\n      case 'gml':\n        parser = this._parseLayermsGMLOutput;\n        break;\n      default:\n        parser = this._parseLayerGeoJSON;\n    }\n    return parser;\n  };\n  this._parseLayermsGMLOutput = function (_ref12) {\n    var data = _ref12.data,\n        layer = _ref12.layer;\n\n    try {\n      var gml = void 0;\n      // to extract gml from multiple (Tuscany region)\n      if (data.substr(0, 2) !== '--') gml = data;else {\n        var gmlTag1 = new RegExp(\"<([^ ]*)FeatureCollection\");\n        var gmlTag2 = new RegExp(\"<([^ ]*)msGMLOutput\");\n        var boundary = '\\r\\n--';\n        var parts = data.split(new RegExp(boundary));\n        parts.forEach(function (part) {\n          var isGmlPart = part.search(gmlTag1) > -1 ? true : part.search(gmlTag2) > -1 ? true : false;\n          if (isGmlPart) {\n            gml = part.substr(part.indexOf(\"<?xml\"));\n          }\n        });\n      }\n      var layers = layer.getQueryLayerOrigName();\n      var parser = new ol.format.WMSGetFeatureInfo({\n        layers: layers\n      });\n      return parser.readFeatures(gml);\n    } catch (err) {\n      return [];\n    }\n  };\n\n  this._parseLayerGeoJSON = function (data, options) {\n    try {\n      data = toRawType(data) === 'String' ? JSON.parse(data) : data;\n      var crs = options.crs,\n          mapCrs = options.mapCrs;\n\n      var geojson = new ol.format.GeoJSON({\n        dataProjection: crs,\n        featureProjection: mapCrs || crs,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    } catch (err) {\n      return [];\n    }\n  };\n};\n\n/**\n * Table parser\n */\nvar TableParser = function TableParser() {\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'json':\n        parser = this._parserJSON.bind(this);\n        break;\n      default:\n        parser = this._parserJSON.bind(this);\n    }\n    return parser;\n  };\n\n  this._parserJSON = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _data$features = data.features,\n        features = _data$features === undefined ? [] : _data$features;\n\n    return features.map(function (_feature) {\n      var id = _feature.id,\n          properties = _feature.properties;\n\n      var feature = new Feature();\n      feature.setProperties(properties);\n      feature.setId(id);\n      return feature;\n    });\n  };\n};\n\nvar Parsers = {\n  vector: new VectorParser(),\n  table: new TableParser(),\n  /**\n   * @TODO wrap within dedicated class (ie. new ResponseParser())\n   */\n  response: {\n    get: function get(type) {\n      return contenttypes[type] || contenttypes.not_supported_format;\n    },\n\n    utils: {\n      getTimeoutData: function getTimeoutData() {\n        var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        return layers.map(function (layer) {\n          return {\n            layer: layer,\n            rawdata: 'timeout'\n          };\n        });\n      }\n    }\n  }\n};\n\nmodule.exports = Parsers;\n\n},{\"app/constant\":5,\"core/i18n/i18n.service\":14,\"core/layers/features/feature\":27,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68}],68:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\n\n/**\n * Decimal adjustment of a number.\n *\n * @param {String}  type  The type of adjustment.\n * @param {Number}  value The number.\n * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n * @returns {Number} The adjusted value.\n */\nfunction decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) return Math[type](value);\n  value = +value;\n  exp = +exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math[type](+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\n// Decimal round\nif (!Math.round10) {\n  Math.round10 = function (value, exp) {\n    return decimalAdjust('round', value, exp);\n  };\n}\n// Decimal floor\nif (!Math.floor10) {\n  Math.floor10 = function (value, exp) {\n    return decimalAdjust('floor', value, exp);\n  };\n}\n// Decimal ceil\nif (!Math.ceil10) {\n  Math.ceil10 = function (value, exp) {\n    return decimalAdjust('ceil', value, exp);\n  };\n}\n\nString.prototype.hashCode = function () {\n  var hash = 0,\n      i = void 0,\n      chr = void 0,\n      len = void 0;\n  if (this.length === 0) return hash;\n  for (i = 0, len = this.length; i < len; i++) {\n    chr = this.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n};\n\nvar Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0,\n        s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n      n = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n        u = a = 64;\n      } else if (isNaN(i)) {\n        a = 64;\n      }t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n    }return t;\n  }, decode: function decode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0;var s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");while (f < e.length) {\n      s = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n        t = t + String.fromCharCode(r);\n      }if (a != 64) {\n        t = t + String.fromCharCode(i);\n      }\n    }t = Base64._utf8_decode(t);return t;\n  }, _utf8_encode: function _utf8_encode(e) {\n    e = e.replace(/rn/g, \"n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n      var r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);\n      } else if (r > 127 && r < 2048) {\n        t += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n      } else {\n        t += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n      }\n    }return t;\n  }, _utf8_decode: function _utf8_decode(e) {\n    var t = \"\";var n = 0;var r = c1 = c2 = 0;while (n < e.length) {\n      r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);n++;\n      } else if (r > 191 && r < 224) {\n        c2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n      } else {\n        c2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n      }\n    }return t;\n  } };\n\nvar _uid = 0;\n\nvar utils = {\n  getUniqueDomId: function getUniqueDomId() {\n    _uid += 1;\n    return _uid + '_' + Date.now();\n  },\n  uniqueId: function uniqueId() {\n    return utils.getUniqueDomId();\n  },\n  basemixin: function basemixin(destination, source) {\n    return utils.merge(destination.prototype, source);\n  },\n  mixin: function mixin(destination, source) {\n    var sourceInstance = new source();\n    utils.merge(destination, sourceInstance);\n    utils.merge(destination.prototype, source.prototype);\n  },\n  merge: function merge(destination, source) {\n    var key = void 0;\n    for (key in source) {\n      if (utils.hasOwn(source, key)) destination[key] = source[key];\n    }\n  },\n  hasOwn: function hasOwn(object, key) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n  },\n\n  // google closure library impememtation\n  inherit: function inherit(childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n  },\n\n  // goole closure library implementation\n  base: function base(me, opt_methodName, var_args) {\n    // who call base\n    // noinspection JSAnnotator\n    var caller = arguments.callee.caller;\n    if (caller.superClass_) {\n      // This function constructor (that inherit from superClass_). Call the superclass constructor.\n      //It is a easy way to cal super class in binding to this\n      return caller.superClass_.constructor.apply(me, Array.prototype.slice.call(arguments, 1));\n    }\n    var args = Array.prototype.slice.call(arguments, 2);\n    var foundCaller = false;\n    //constructor is the constructor function of the object\n    for (var ctor = me.constructor; ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n      if (ctor.prototype[opt_methodName] === caller) {\n        foundCaller = true;\n      } else if (foundCaller) {\n        return ctor.prototype[opt_methodName].apply(me, args);\n      }\n    }\n    // If we did not find the caller in the prototype chain,\n    // then one of two things happened:\n    // 1) The caller is an instance method.\n    // 2) This method was not called by the right caller.\n    if (me[opt_methodName] === caller) {\n      // call the function from prototype object\n      return me.constructor.prototype[opt_methodName].apply(me, args);\n    } else {\n      throw Error('base called from a method of one name ' + 'to a method of a different name');\n    }\n  },\n  noop: function noop() {},\n  truefnc: function truefnc() {\n    return true;\n  },\n  falsefnc: function falsefnc() {\n    return true;\n  },\n  resolve: function resolve(value) {\n    var d = $.Deferred();\n    d.resolve(value);\n    return d.promise();\n  },\n  reject: function reject(value) {\n    var d = $.Deferred();\n    d.reject(value);\n    return d.promise();\n  },\n  getValueFromG3WObjectEvent: function getValueFromG3WObjectEvent() {\n    //TODO\n  },\n  getAjaxResponses: function getAjaxResponses() {\n    var listRequests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var requestsLenght = listRequests.length;\n    var d = $.Deferred();\n    var DoneRespones = [];\n    var FailedResponses = [];\n    listRequests.forEach(function (request) {\n      request.then(function (response) {\n        DoneRespones.push(response);\n      }).fail(function (err) {\n        FailedResponses.push(err);\n      }).always(function () {\n        requestsLenght = requestsLenght > 0 ? requestsLenght - 1 : requestsLenght;\n        if (requestsLenght === 0) d.resolve({\n          done: DoneRespones,\n          fail: FailedResponses\n        });\n      });\n    });\n    return d.promise();\n  },\n\n  trimValue: function trimValue(value) {\n    return value.replace(/ /g, '');\n  },\n  /**\n   * Method to check if is a url\n   * @param url\n   * @returns {boolean}\n   */\n  isURL: function isURL(url) {\n    return url && url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n  },\n\n  sanitizeUrl: function sanitizeUrl() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref.url,\n        _ref$reserverParamete = _ref.reserverParameters,\n        reserverParameters = _ref$reserverParamete === undefined ? [] : _ref$reserverParamete;\n\n    var checkUrl = new URL(url);\n    reserverParameters.forEach(function (param) {\n      var _params = [param.toUpperCase(), param.toLowerCase()];\n      for (var i = 0; i < 2; i++) {\n        var _param = _params[i];\n        var _value = checkUrl.searchParams.get(_param);\n        if (_value) {\n          url = url.replace(_param + '=' + _value, '');\n          break;\n        }\n      }\n    });\n    return url;\n  },\n  convertObjectToUrlParams: function convertObjectToUrlParams() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return $.param(params);\n  },\n\n  // Appends query parameters to a URI\n  appendParams: function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n      if (params[k] !== null && params[k] !== undefined) {\n        keyParams.push(k + '=' + encodeURIComponent(params[k]));\n      }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n  },\n  imageToDataURL: function imageToDataURL(_ref2) {\n    var src = _ref2.src,\n        _ref2$type = _ref2.type,\n        type = _ref2$type === undefined ? 'image/jpeg' : _ref2$type,\n        _ref2$callback = _ref2.callback,\n        callback = _ref2$callback === undefined ? function () {} : _ref2$callback;\n\n    var image = new Image();\n    image.onload = function () {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      context.drawImage(this, 0, 0);\n      var dataURL = canvas.toDataURL(type);\n      callback(dataURL);\n    };\n    image.src = src;\n  },\n  capitalize_first_letter: function capitalize_first_letter(string) {\n    return '' + string[0].toUpperCase() + string.slice(1);\n  },\n\n  Base64: Base64,\n  toRawType: function toRawType(value) {\n    var _toString = Object.prototype.toString;\n    return _toString.call(value).slice(8, -1);\n  },\n  isEmptyObject: function isEmptyObject(obj) {\n    return JSON.stringify(obj) === '{}';\n  },\n\n  // build throttle function\n  throttle: function throttle(fnc) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var lastCall = void 0;\n    return function () {\n      var previousCall = lastCall;\n      lastCall = Date.now();\n      if (previousCall === undefined // function is being called for the first time\n      || lastCall - previousCall > delay) {\n        // throttle time has elapsed\n        fnc.apply(undefined, arguments);\n      }\n    };\n  },\n\n  //build debounce function\n  debounce: function debounce(func) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var timeout = void 0;\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        func.apply(undefined, args);\n      }, delay);\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    return '#' + ((1 << 24) * Math.random() | 0).toString(16);\n  },\n  copyUrl: function copyUrl(url) {\n    var tempinput = document.createElement('input');\n    document.body.appendChild(tempinput);\n    tempinput.value = url;\n    tempinput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempinput);\n  },\n  downloadFile: function downloadFile() {\n    var _this = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        filename = _ref3.filename,\n        content = _ref3.content,\n        url = _ref3.url,\n        _ref3$mime_type = _ref3.mime_type,\n        mime_type = _ref3$mime_type === undefined ? 'text/plain' : _ref3$mime_type;\n\n    var download = function download(blob) {\n      var temapAncor = document.createElement('a');\n      temapAncor.setAttribute('href', window.URL.createObjectURL(blob));\n      temapAncor.setAttribute('download', filename);\n      temapAncor.dataset.downloadurl = [mime_type, temapAncor.download, temapAncor.href].join(':');\n      temapAncor.click();\n      temapAncor = null;\n    };\n    return new Promise(function (resolve, reject) {\n      if (content) {\n        var blob = new Blob([content], { type: mime_type });\n        download(blob);\n        resolve();\n      } else if (url) {\n        fetch(url).then(function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n            var _ref5, message;\n\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(response.status === 200)) {\n                      _context.next = 6;\n                      break;\n                    }\n\n                    mime_type = mime_type || response.headers.get('content-type');\n                    filename = filename || response.headers.get('content-disposition').split('filename=').length ? response.headers.get('content-disposition').split('filename=')[1] : 'g3w_download_file';\n                    return _context.abrupt('return', response.blob());\n\n                  case 6:\n                    if (!(response.status === 400 || response.status === 500)) {\n                      _context.next = 12;\n                      break;\n                    }\n\n                    _context.next = 9;\n                    return response.json();\n\n                  case 9:\n                    _ref5 = _context.sent;\n                    message = _ref5.message;\n                    return _context.abrupt('return', Promise.reject(message));\n\n                  case 12:\n                  case 'end':\n                    return _context.stop();\n                }\n              }\n            }, _callee, _this);\n          }));\n\n          return function (_x7) {\n            return _ref4.apply(this, arguments);\n          };\n        }()).then(function (blob) {\n          download(blob);\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      }\n    });\n  },\n  downloadCSVLayerFeatures: function downloadCSVLayerFeatures() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref6.layer,\n        _ref6$alias = _ref6.alias,\n        alias = _ref6$alias === undefined ? true : _ref6$alias;\n\n    var _require = require('core/utils/geo'),\n        getAlphanumericPropertiesFromFeature = _require.getAlphanumericPropertiesFromFeature;\n    //get headers\n\n\n    var attributes = Object.keys(layer.features[0].attributes);\n    var properties = getAlphanumericPropertiesFromFeature(attributes);\n    var headers = !alias ? properties : properties.map(function (property) {\n      var attribute = layer.attributes.find(function (attribute) {\n        return attribute.name === property;\n      });\n      return attribute ? attribute.label : property;\n    });\n    var items = layer.features.map(function (feature) {\n      var attributes = feature.attributes;\n      var item = {};\n      properties.forEach(function (property, index) {\n        var key = !alias && property || headers[index];\n        item[key] = attributes[property];\n      });\n      return item;\n    });\n\n    utils.downloadCSV({\n      filename: layer.id,\n      items: items\n    });\n  },\n  downloadCSV: function downloadCSV() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$filename = _ref7.filename,\n        filename = _ref7$filename === undefined ? utils.getUniqueDomId() : _ref7$filename,\n        _ref7$items = _ref7.items,\n        items = _ref7$items === undefined ? [] : _ref7$items;\n\n    function convertToCSV(items) {\n      var str = '';\n      for (var i = 0; i < items.length; i++) {\n        var line = '';\n        for (var index in items[i]) {\n          if (line !== '') line += ';';\n          line += items[i][index];\n        }\n        str += line + '\\r\\n';\n      }\n      return str;\n    }\n    var exportedFilenmae = filename + '.csv';\n    var csv = convertToCSV(items);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    if (navigator.msSaveBlob) {\n      // IE 10+\n      navigator.msSaveBlob(blob, exportedFilenmae);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) {\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", exportedFilenmae);\n        link.style.visibility = 'hidden';\n        link.click();\n      }\n    }\n  },\n\n  /**\n   * Method to set timeout\n   * @param timeout\n   * @param resolve\n   * @param data\n   * @returns {number}\n   */\n  getTimeoutPromise: function getTimeoutPromise(_ref8) {\n    var _ref8$timeout = _ref8.timeout,\n        timeout = _ref8$timeout === undefined ? _constant.TIMEOUT : _ref8$timeout,\n        resolve = _ref8.resolve,\n        data = _ref8.data;\n\n    var timeoutKey = setTimeout(function () {\n      resolve(data);\n    }, timeout);\n    return timeoutKey;\n  },\n\n  XHR: {\n    get: function get() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref9.url,\n          _ref9$params = _ref9.params,\n          params = _ref9$params === undefined ? {} : _ref9$params;\n\n      return new Promise(function (resolve, reject) {\n        url ? $.get(url, params).then(function (response) {\n          resolve(response);\n        }).fail(function (error) {\n          return reject(error);\n        }) : reject('No url');\n      });\n    },\n    post: function post() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref10.url,\n          data = _ref10.data,\n          _ref10$formdata = _ref10.formdata,\n          formdata = _ref10$formdata === undefined ? false : _ref10$formdata,\n          contentType = _ref10.contentType;\n\n      var getResponseStatusHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (formdata) {\n          var _formdata = new FormData();\n          for (var param in data) {\n            _formdata.append(param, data[param]);\n          }\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: _formdata,\n            processData: false,\n            contentType: false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else if (contentType) {\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: data,\n            processData: false,\n            contentType: contentType || false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else {\n          $.post(url, data).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        }\n      });\n    },\n    htmlescape: function htmlescape(string) {\n      string = string.replace(\"&\", \"&amp;\");\n      string = string.replace(\"<\", \"&lt;\");\n      string = string.replace(\">\", \"&gt;\");\n      string = string.replace('\"', \"&quot;\");\n      return string;\n    },\n    fileDownload: function fileDownload() {\n      var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref11.url,\n          data = _ref11.data,\n          _ref11$httpMethod = _ref11.httpMethod,\n          httpMethod = _ref11$httpMethod === undefined ? \"POST\" : _ref11$httpMethod;\n\n      var timeoutId = void 0;\n      return new Promise(function (resolve, reject) {\n        var downloadPromise = $.fileDownload(url, {\n          httpMethod: httpMethod,\n          data: data\n        });\n        timeoutId = setTimeout(function () {\n          reject('Timeout');\n          downloadPromise.abort();\n        }, _constant.TIMEOUT);\n        downloadPromise.done(function () {\n          return resolve();\n        }).fail(function () {\n          return reject();\n        }).always(function () {\n          clearTimeout(timeoutId);\n        });\n      });\n    }\n  },\n  createSingleFieldParameter: function createSingleFieldParameter(_ref12) {\n    var field = _ref12.field,\n        value = _ref12.value,\n        _ref12$operator = _ref12.operator,\n        operator = _ref12$operator === undefined ? 'eq' : _ref12$operator,\n        _ref12$logicop = _ref12.logicop,\n        logicop = _ref12$logicop === undefined ? null : _ref12$logicop,\n        _ref12$search_endpoin = _ref12.search_endpoint,\n        search_endpoint = _ref12$search_endpoin === undefined ? \"api\" : _ref12$search_endpoin;\n\n    if (search_endpoint === 'api') {\n      logicop = logicop && '|' + logicop;\n      if (Array.isArray(value)) {\n        var filter = '';\n        var valueLenght = value.length;\n        value.forEach(function (value, index) {\n          filter += field + '|' + operator + '|' + encodeURIComponent(value) + (index < valueLenght - 1 ? logicop + ',' : '');\n        });\n        return filter;\n      } else return field + '|' + operator.toLowerCase() + '|' + encodeURIComponent(value) + (logicop || '');\n    } else {\n      if (Array.isArray(value)) {\n        var _filter = '';\n        var _valueLenght = value.length;\n        value.forEach(function (value, index) {\n          _filter += '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\' ' + (index < _valueLenght - 1 ? logicop + ' ' : '');\n        });\n        return _filter;\n      } else return '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\'';\n    }\n  },\n  createFilterFromString: function createFilterFromString(_ref13) {\n    var layer = _ref13.layer,\n        _ref13$search_endpoin = _ref13.search_endpoint,\n        search_endpoint = _ref13$search_endpoin === undefined ? 'ows' : _ref13$search_endpoin,\n        _ref13$filter = _ref13.filter,\n        filter = _ref13$filter === undefined ? '' : _ref13$filter;\n\n    var stringFilter = filter;\n    switch (search_endpoint) {\n      case 'ows':\n        var layerName = layer.getWMSLayerName();\n        var expression = new Expression({\n          layerName: layerName,\n          filter: stringFilter\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        //remove all blank space between operators\n        Object.values(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (operator) {\n          var regexoperator = new RegExp('\\\\s+' + operator + '\\\\s+', 'g');\n          stringFilter = stringFilter.replace(regexoperator, '' + operator);\n          var regexsinglequote = new RegExp('\\'' + operator, 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n          regexsinglequote = new RegExp(operator + '\\'', 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n        });\n        stringFilter = stringFilter.replace(/'$/g, '');\n        filter = stringFilter.replace(/\"/g, '');\n        Object.entries(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (_ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              key = _ref15[0],\n              value = _ref15[1];\n\n          var re = new RegExp(value, \"g\");\n          var replaceValue = value === 'AND' || value === 'OR' ? '|' + key + ',' : '|' + key + '|';\n          filter = filter.replace(re, replaceValue);\n        });\n        //encode value\n        filter = filter.split('|').map(function (value, index) {\n          return (index + 1) % 3 === 0 ? encodeURIComponent(value) : value;\n        }).join('|');\n        break;\n    }\n    return filter;\n  },\n\n  /**\n   *\n   * @param layer single layer or an array of layers\n   * @param search_endpoint\n   * @param inputs\n   * @returns {*}\n   */\n  createFilterFormInputs: function createFilterFormInputs(_ref16) {\n    var layer = _ref16.layer,\n        _ref16$search_endpoin = _ref16.search_endpoint,\n        search_endpoint = _ref16$search_endpoin === undefined ? 'ows' : _ref16$search_endpoin,\n        _ref16$inputs = _ref16.inputs,\n        inputs = _ref16$inputs === undefined ? [] : _ref16$inputs;\n\n    var isLayerArray = Array.isArray(layer);\n    var filter = void 0;\n    var filters = []; // in case of layer is an array\n    switch (search_endpoint) {\n      case 'ows':\n        if (isLayerArray) {\n          layer.forEach(function (layer) {\n            var expression = new Expression();\n            var layerName = layer.getWMSLayerName();\n            expression.createExpressionFromFilter(inputs, layerName);\n            filter = new Filter();\n            filter.setExpression(expression.get());\n            filters.push(filter);\n          });\n        } else {\n          var expression = new Expression();\n          var layerName = layer.getWMSLayerName();\n          expression.createExpressionFromFilter(inputs, layerName);\n          filter = new Filter();\n          filter.setExpression(expression.get());\n        }\n        break;\n      case 'api':\n        var inputsLength = inputs.length - 1;\n        var fields = inputs.map(function (input, index) {\n          return utils.createSingleFieldParameter({\n            field: input.attribute,\n            value: input.value,\n            operator: input.operator,\n            logicop: index < inputsLength ? input.logicop : null\n          });\n        });\n        filter = fields.length ? fields.join() : undefined;\n        isLayerArray && layer.forEach(function () {\n          return filters.push(filter);\n        });\n        break;\n    }\n    return isLayerArray ? filters : filter;\n  },\n\n  //method to create filter from field based on search_endpoint\n  createFilterFormField: function createFilterFormField(_ref17) {\n    var layer = _ref17.layer,\n        _ref17$search_endpoin = _ref17.search_endpoint,\n        search_endpoint = _ref17$search_endpoin === undefined ? 'ows' : _ref17$search_endpoin,\n        field = _ref17.field,\n        value = _ref17.value,\n        _ref17$operator = _ref17.operator,\n        operator = _ref17$operator === undefined ? 'eq' : _ref17$operator;\n\n    var filter = void 0;\n    switch (search_endpoint) {\n      case 'ows':\n        var expression = new Expression();\n        var layerName = layer.getWMSLayerName();\n        expression.createExpressionFromField({\n          layerName: layerName,\n          field: field,\n          value: value,\n          operator: operator\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        filter = utils.createSingleFieldParameter({\n          field: field,\n          value: value,\n          operator: operator\n        });\n        break;\n    }\n    return filter;\n  },\n  splitContextAndMethod: function splitContextAndMethod() {\n    var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var _string$split = string.split(':'),\n        _string$split2 = _slicedToArray(_string$split, 2),\n        context = _string$split2[0],\n        method = _string$split2[1];\n\n    return {\n      context: context,\n      method: method\n    };\n  },\n\n\n  /**\n   * Convert Hex value color to RGB array\n   * @param color\n   * @returns {number[]}\n   */\n  colorHEXToRGB: function colorHEXToRGB() {\n    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#FFFFFF';\n\n    var r = parseInt(color.substr(1, 2), 16);\n    var g = parseInt(color.substr(3, 2), 16);\n    var b = parseInt(color.substr(5, 2), 16);\n    return [r, g, b];\n  },\n\n  /**\n   * Covert datetime format from Qgis format to Moment\n   * @param datetimeformat\n   * @returns {*}\n   */\n  convertQGISDateTimeFormatToMoment: function convertQGISDateTimeFormatToMoment(datetimeformat) {\n    datetimeformat = datetimeformat.replace(/y/g, 'Y');\n    var matchDayInDate = datetimeformat.match(/d/g);\n    if (matchDayInDate && matchDayInDate.length < 3) datetimeformat = datetimeformat.replace(/d/g, 'D');\n    return datetimeformat;\n  }\n};\n\nmodule.exports = utils;\n\n},{\"app/constant\":5,\"core/layers/filter/expression\":30,\"core/layers/filter/filter\":31,\"core/utils/geo\":65}],69:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    truefnc = _require.truefnc;\n\nvar InputValidators = {\n  validators: {\n    float: function float() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var float = Number(1 * value);\n        return !Number.isNaN(float);\n      };\n    },\n    integer: function integer() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var integer = 1 * value;\n        return !_.isNaN(integer) ? Number.isSafeInteger(integer) && integer <= 2147483647 : false;\n      };\n    },\n    checkbox: function checkbox() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var values = this.options.values || [];\n        return values.indexOf(value) !== -1;\n      };\n    },\n    datetimepicker: function datetimepicker() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value, options) {\n        var fielddatetimeformat = options.fielddatetimeformat;\n        return moment(value, fielddatetimeformat, true).isValid();\n      };\n    },\n    text: function text() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    string: function string() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    radio: function radio() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    default: function _default() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    range: function range() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var min = options.min,\n          max = options.max;\n\n      this.validate = function (value) {\n        value = 1 * value;\n        return value >= min && value <= max;\n      };\n    }\n  },\n\n  get: function get(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var Validator = this.validators[type] || this.validators.default;\n    return new Validator(options);\n  }\n};\n\nmodule.exports = InputValidators;\n\n},{\"core/utils/utils\":68}],70:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Queque = require('core/workflow/queque');\n\n//Class Flow of workflow step by step\nfunction Flow() {\n  var steps = [];\n  var inputs = void 0;\n  var counter = 0;\n  var context = null;\n  var d = void 0;\n  var _workflow = void 0;\n  this.queques = {\n    end: new Queque(),\n    micro: new Queque()\n  };\n  //start workflow\n  this.start = function (workflow) {\n    d = $.Deferred();\n    if (counter > 0) {\n      console.log(\"reset workflow before restarting\");\n    }\n    _workflow = workflow;\n    inputs = workflow.getInputs();\n    context = workflow.getContext();\n    steps = workflow.getSteps();\n    // check if there are steps\n    if (steps && steps.length) {\n      //run step (first)\n      this.runStep(steps[0], inputs, context);\n    }\n    // return a promise that will be reolved if all step go right\n    return d.promise();\n  };\n\n  //run step\n  this.runStep = function (step, inputs) {\n    var _this = this;\n\n    //run step that run task\n    _workflow.setMessages({\n      help: step.state.help\n    });\n    var runMicroTasks = this.queques.micro.getLength();\n    step.run(inputs, context, this.queques).then(function (outputs) {\n      runMicroTasks && _this.queques.micro.run();\n      _this.onDone(outputs);\n    }).fail(function (error) {\n      return _this.onError(error);\n    });\n  };\n\n  //check if all step are resolved\n  this.onDone = function (outputs) {\n    counter++;\n    if (counter === steps.length) {\n      counter = 0;\n      d.resolve(outputs);\n      return;\n    }\n    this.runStep(steps[counter], outputs);\n  };\n\n  // in case of error\n  this.onError = function (err) {\n    counter = 0;\n    this.clearQueques();\n    d.reject(err);\n  };\n\n  // stop flow\n  this.stop = function () {\n    var d = $.Deferred();\n    steps[counter].isRunning() ? steps[counter].stop() : null;\n    this.clearQueques();\n    if (counter > 0) {\n      // set counter to 0\n      counter = 0;\n      // reject flow\n      d.reject();\n    } else {\n      //reject to force rollback session\n      d.resolve();\n    }\n    return d.promise();\n  };\n  base(this);\n}\n\ninherit(Flow, G3WObject);\n\nvar proto = Flow.prototype;\n\nproto.clearQueques = function () {\n  this.queques.micro.clear();\n  this.queques.end.clear();\n};\n\nmodule.exports = Flow;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"core/workflow/queque\":71}],71:[function(require,module,exports){\nfunction Queque() {\n  this.tasks = [];\n}\n\nvar proto = Queque.prototype;\n\nproto.addTask = function (task) {\n  this.tasks.push(task);\n};\n\nproto.run = function () {\n  var reverse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  while (this.tasks.length) {\n    var task = reverse ? this.tasks.pop() : this.tasks.shift();\n    task();\n  }\n};\n\nproto.flush = function () {\n  return this.tasks.splice(0);\n};\n\nproto.getLength = function () {\n  return this.tasks.length;\n};\n\nproto.clear = function () {\n  this.run();\n  this.tasks = [];\n};\n\nmodule.exports = Queque;\n\n},{}],72:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Step() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$task = options.task,\n      task = _options$task === undefined ? null : _options$task,\n      _options$outputs = options.outputs,\n      outputs = _options$outputs === undefined ? null : _options$outputs,\n      escKeyPressEventHandler = options.escKeyPressEventHandler;\n\n  this._inputs = inputs;\n  this._context = context;\n  this._task = task;\n  this._outputs = outputs;\n  //dynamic state of step\n  this.state = {\n    id: options.id || null,\n    name: options.name || null,\n    help: options.help || null, // help to show wat the user has to do\n    running: false, // running\n    error: null, // error\n    message: options.message || null // message\n  };\n  escKeyPressEventHandler && this.registerEscKeyEvent(escKeyPressEventHandler);\n}\n\ninherit(Step, G3WObject);\n\nvar proto = Step.prototype;\n\n//bind interrupt event on keys escape pressed\n\nproto.escKeyUpHandler = function (evt) {\n  var _evt$data = evt.data,\n      task = _evt$data.task,\n      callback = _evt$data.callback;\n\n  if (evt.key === 'Escape') callback({\n    task: task\n  });\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n  $(document).on('keyup', {\n    callback: callback,\n    task: this.getTask()\n  }, this.escKeyUpHandler);\n};\n\nproto.registerEscKeyEvent = function (callback) {\n  var _this = this;\n\n  this.on('run', function () {\n    return _this.bindEscKeyUp(callback);\n  });\n  this.on('stop', function () {\n    return _this.unbindEscKeyUp();\n  });\n};\n\n// End of handle key esc pressed\n\n// method to start task\nproto.run = function (inputs, context, queques) {\n  var _this2 = this;\n\n  //emit run\n  this.emit('run', {\n    inputs: inputs,\n    context: context\n  });\n  var d = $.Deferred();\n  if (this._task) {\n    try {\n      // change state to running\n      this.state.running = true;\n      this._task.setInputs(inputs);\n      this._task.setContext(context);\n      this._task.run(inputs, context, queques).then(function (outputs) {\n        _this2.stop();\n        d.resolve(outputs);\n      }).fail(function (err) {\n        _this2.stop();\n        d.reject(err);\n      });\n    } catch (err) {\n      console.log(err);\n      this.state.error = err;\n      this.state.error = 'Problem ..';\n      this.stop();\n      d.reject(err);\n    }\n  }\n  return d.promise();\n};\n\n// stop step\nproto.stop = function () {\n  // stop task\n  this._task.stop(this._inputs, this._context);\n  //emit run\n  // running to false\n  this.state.running = false;\n  this.emit('stop');\n  this._task.setInputs(null);\n  this._task.setContext(null);\n};\n\n// revert task\nproto.revert = function () {\n  if (this._task && this._task.revert) this._task.revert();\n};\n\n//panic\nproto.panic = function () {\n  if (this._task && this._task.panic) this._task.panic();\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getHelp = function () {\n  return this.state.help;\n};\n\nproto.getError = function () {\n  return this.state.error;\n};\n\nproto.getMessage = function () {\n  return this.state.message;\n};\n\nproto.isRunning = function () {\n  return this.state.running;\n};\n\nproto.setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setTask = function (task) {\n  this._task = task;\n};\n\nproto.getTask = function () {\n  return this._task;\n};\n\nproto.setOutputs = function (outputs) {\n  this._outputs = outputs;\n};\n\nproto.getOutputs = function () {\n  return this._outputs;\n};\n\nStep.MESSAGES = {\n  help: null\n};\n\nmodule.exports = Step;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],73:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Task() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.state = {\n    usermessagesteps: {}\n  };\n}\n\ninherit(Task, G3WObject);\n\nvar proto = Task.prototype;\n\n/**\n * Set and get task usefult properties used to run\n */\n\nproto.setInputs = function (inputs) {\n  this.inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this.inputs;\n};\n\nproto.setContext = function (context) {\n  return this.context = context;\n};\n\nproto.getContext = function () {\n  return this.context;\n};\n\nproto.revert = function () {\n  console.log('Revert to implemente ');\n};\n\nproto.panic = function () {\n  console.log('Panic to implement ..');\n};\n\nproto.stop = function () {\n  console.log('Task Stop to implement ..');\n};\n\nproto.run = function () {\n  console.log('Wrong. This method has to be overwrite from task');\n};\n\nproto.setRoot = function (task) {\n  this.state.root = task;\n};\n\nproto.getUserMessageSteps = function () {\n  return this.state.usermessagesteps;\n};\n\nproto.setUserMessageSteps = function () {\n  var steps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.usermessagesteps = steps;\n};\n\nproto.setUserMessageStepDone = function (type) {\n  if (type) this.state.usermessagesteps[type].done = true;\n};\n\nmodule.exports = Task;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],74:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\nvar Flow = require('core/workflow/flow');\n\nvar _require2 = require('core/workflow/step'),\n    MESSAGES = _require2.MESSAGES;\n\nvar createUserMessageStepsFactory = require('gui/workflow/createUserMessageStepsFactory');\n\n//Class to manage flow of steps\nfunction Workflow() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$flow = options.flow,\n      flow = _options$flow === undefined ? new Flow() : _options$flow,\n      _options$steps = options.steps,\n      steps = _options$steps === undefined ? [] : _options$steps,\n      _options$runOnce = options.runOnce,\n      runOnce = _options$runOnce === undefined ? false : _options$runOnce;\n\n  base(this);\n  this._promise = null;\n  // inputs mandatory to work with editing\n  this._inputs = inputs;\n  this._context = context;\n  // flow object to control the flow\n  this._flow = flow;\n  // all steps of flow\n  this._steps = steps;\n  // if is child of another workflow\n  this._child = null;\n  // stack workflowindex\n  this._stackIndex = null;\n  // stop when flow stop\n  this.runOnce = runOnce;\n  this._messages = MESSAGES;\n  this._userMessageSteps = this._steps.reduce(function (messagesSteps, step) {\n    var usermessagesteps = step.getTask().getUserMessageSteps();\n    return usermessagesteps && _extends({}, messagesSteps, usermessagesteps) || messagesSteps;\n  }, {});\n}\n\ninherit(Workflow, G3WObject);\n\nvar proto = Workflow.prototype;\n\nproto.getContextService = function () {\n  var context = this.getContext();\n  return context.service;\n};\n\nproto.setContextService = function (service) {\n  var context = this.getContext();\n  context.service = service;\n};\n\nproto.getStackIndex = function () {\n  return this._stackIndex;\n};\n\nproto.addChild = function (workflow) {\n  if (this._child) this._child.addChild(workflow);else this._child = workflow;\n};\n\nproto.removeChild = function () {\n  if (this._child) {\n    var index = this._child.getStackIndex();\n    _workflows2.default.removeAt(index);\n  }\n  this._child = null;\n};\n\nproto.setInput = function (_ref) {\n  var key = _ref.key,\n      value = _ref.value;\n\n  this._inputs[key] = value;\n};\n\n/**\n * maybe unused method. Remove\n * @param inputs\n * @private\n */\nproto._setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setContext = function (context) {\n  this._context = context;\n};\n\nproto.getContext = function () {\n  return this._context;\n};\n\nproto.getFlow = function () {\n  return this._flow;\n};\n\nproto.setFlow = function (flow) {\n  this._flow = flow;\n};\n\nproto.addStep = function (step) {\n  this._steps.push(step);\n};\n\nproto.setSteps = function (steps) {\n  this._steps = steps;\n};\n\nproto.getSteps = function () {\n  return this._steps;\n};\n\nproto.getStep = function (index) {\n  return this._steps[index];\n};\n\nproto.setMessages = function (messages) {\n  Object.assign(this._messages, messages);\n};\n\nproto.getMessages = function () {\n  return this._messages;\n};\n\nproto.clearMessages = function () {\n  this._messages.help = null;\n  this._isThereUserMessaggeSteps() && this.clearUserMessagesSteps();\n};\n\nproto.getLastStep = function () {\n  var length = this._steps.length;\n  return length ? this._steps[length - 1] : null;\n};\n\nproto.getRunningStep = function () {\n  return this._steps.find(function (step) {\n    return step.isRunning();\n  });\n};\n\n//stop all workflow children\nproto._stopChild = function () {\n  return this._child ? this._child.stop() : resolve();\n};\n\nproto._isThereUserMessaggeSteps = function () {\n  return Object.keys(this._userMessageSteps).length;\n};\n\nproto.reject = function () {\n  this._promise && this._promise.reject();\n};\n\nproto.resolve = function () {\n  this._promise && this._promise.resolve();\n};\n\n// start workflow\nproto.start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._promise = d;\n  this._inputs = options.inputs;\n  this._context = options.context || {};\n  var isChild = this._context.isChild || false;\n  //check if are workflow running and if need to stop child\n  if (_workflows2.default.getLength() && _workflows2.default.getCurrent() !== this) {\n    !isChild && _workflows2.default.getCurrent().addChild(this);\n  }\n  this._stackIndex = _workflows2.default.push(this);\n  this._flow = options.flow || this._flow;\n  this._steps = options.steps || this._steps;\n  var showUserMessage = this._isThereUserMessaggeSteps();\n  if (showUserMessage) {\n    var stepsComponent = createUserMessageStepsFactory({\n      steps: this._userMessageSteps\n    });\n    _gui2.default.showUserMessage({\n      title: 'sdk.workflow.steps.title',\n      type: 'tool',\n      position: 'left',\n      size: 'small',\n      closable: false,\n      hooks: {\n        body: stepsComponent\n      }\n    });\n  }\n\n  this._flow.start(this).then(function (outputs) {\n    showUserMessage && setTimeout(function () {\n      _this.clearUserMessagesSteps();\n      d.resolve(outputs);\n    }, 500) || d.resolve(outputs);\n  }).fail(function (error) {\n    showUserMessage && _this.clearUserMessagesSteps();\n    d.reject(error);\n  }).always(function () {\n    _this.runOnce && _this.stop();\n  });\n  this.emit('start');\n  return d.promise();\n};\n\n// stop workflow during flow\nproto.stop = function () {\n  var _this2 = this;\n\n  this._promise = null;\n  var d = $.Deferred();\n  // stop child workflow\n  this._stopChild()\n  // in every case remove child\n  .always(function () {\n    _this2.removeChild();\n    _workflows2.default.removeAt(_this2.getStackIndex());\n    // call stop flow\n    _this2._flow.stop().then(function () {\n      return d.resolve();\n    }).fail(function (err) {\n      return d.reject(err);\n    }).always(function () {\n      return _this2.clearMessages();\n    });\n  });\n  this.emit('stop');\n  return d.promise();\n};\n\nproto.clearUserMessagesSteps = function () {\n  this._resetUserMessaggeStepsDone();\n  _gui2.default.closeUserMessage();\n};\n\nproto._resetUserMessaggeStepsDone = function () {\n  var _this3 = this;\n\n  Object.keys(this._userMessageSteps).forEach(function (type) {\n    var userMessageSteps = _this3._userMessageSteps[type];\n    userMessageSteps.done = false;\n    if (userMessageSteps.buttonnext) userMessageSteps.buttonnext.disabled = true;\n  });\n};\n\nmodule.exports = Workflow;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"core/workflow/flow\":70,\"core/workflow/step\":72,\"gui/workflow/createUserMessageStepsFactory\":189,\"services/gui\":349,\"services/workflows\":360}],75:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//SPATIAL METHODS USED TO FIND FEATURES\nvar SPATIALMETHODS = exports.SPATIALMETHODS = ['intersects', 'within'];\n\n/**\n * MAIN VUE INSTANCE USED TO WATCH OBJECT CHANGES OR TO EMIT EVENTS\n * \n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar VM = exports.VM = new Vue();\n\n},{}],76:[function(require,module,exports){\nvar Control = require('g3w-ol/controls/control');\n\nfunction AddLayersControl() {\n  var options = {\n    name: \"addlayer\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    label: \"\\uE907\"\n  };\n  Control.call(this, options);\n  this._layerstore = null;\n}\n\nol.inherits(AddLayersControl, Control);\n\nvar proto = AddLayersControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  $(this.element).on('click', function () {\n    return _this.dispatchEvent('addlayer');\n  });\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nproto.getLayersSore = function () {\n  return this._layerstore;\n};\n\nproto.setLayersStore = function (layersStore) {\n  this._layerstore = layersStore;\n};\n\nmodule.exports = AddLayersControl;\n\n},{\"g3w-ol/controls/control\":78}],77:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar AreaIteraction = require('g3w-ol/interactions/areainteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar AreaControl = function AreaControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.area.tooltip\",\n    label: '\\uE909',\n    clickmap: true, // set ClickMap\n    interactionClass: AreaIteraction\n  };\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(AreaControl, MeasureControl);\n\nmodule.exports = AreaControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/areainteraction\":98}],78:[function(require,module,exports){\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('g3w-ol/controls/utils'),\n    layout = _require.layout;\n\nvar Control = function Control() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$name = options.name,\n      name = _options$name === undefined ? \"\" : _options$name,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? false : _options$enabled;\n\n  this._enabled = enabled;\n  this.offline = options.offline !== undefined ? options.offline : true;\n  this.name = name.split(' ').join('-').toLowerCase();\n  this.id = this.name + '_' + Math.floor(Math.random() * 1000000);\n  this.eventKeys = {}; // store eventKey and original havenHandler\n  /*\n    tl: top-left\n    tr: top-right\n    bl: bottom-left\n    bt: bottom-right\n   */\n  this.positionCode = options.position || 'tl';\n  this.priority = options.priority || 0;\n  if (!options.element) {\n    var className = \"ol-\" + this.name.split(' ').join('-').toLowerCase();\n    var customClass = options.customClass;\n    var tipLabel = options.tipLabel || this.name;\n    var label = options.label || '';\n    var mapControlButtonVue = Vue.extend({\n      functional: true,\n      render: function render(h) {\n        var _class;\n\n        return h('div', {\n          class: (_class = {}, _defineProperty(_class, className, !!className), _defineProperty(_class, 'ol-unselectable', true), _defineProperty(_class, 'ol-control', true), _class)\n        }, [h('button', {\n          attrs: {\n            type: 'button'\n          },\n          directives: [{\n            name: 't-tooltip',\n            value: tipLabel\n          }]\n        }, [label, h('i', {\n          class: _defineProperty({}, customClass, !!customClass)\n        })])]);\n      }\n    });\n    var mapControlButtonDOMElement = new mapControlButtonVue().$mount().$el;\n    options.element = mapControlButtonDOMElement;\n  }\n  var buttonClickHandler = options.buttonClickHandler || Control.prototype._handleClick.bind(this);\n  $(options.element).on('click', buttonClickHandler);\n  ol.control.Control.call(this, options);\n  this.setVisible(visible);\n  this._postRender();\n};\n\nol.inherits(Control, ol.control.Control);\n\nvar proto = Control.prototype;\n\n//return if clickmap\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\nproto.setEventKey = function (_ref) {\n  var eventType = _ref.eventType,\n      eventKey = _ref.eventKey;\n\n  this.eventKeys[eventType] = {\n    eventKey: eventKey,\n    originalHandler: eventKey.linstener\n  };\n};\n\nproto.resetOriginalHandlerEvent = function (eventType) {\n  var eventKey = this.eventKeys[eventType].eventKey;\n  eventKey && ol.Observable.unByKey(eventKey);\n  this.eventKeys[eventType].eventKey = this.on(eventType, this.eventKeys[eventType].originalHandler);\n};\n\nproto.overwriteEventHandler = function (_ref2) {\n  var eventType = _ref2.eventType,\n      handler = _ref2.handler;\n\n  var eventKey = this.eventKeys[eventType].eventKey;\n  eventKey && ol.Observable.unByKey(eventKey);\n  this.eventKeys[eventType].eventKey = this.on(eventType, handler);\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  position['bottom'] = positionCode.indexOf('b') > -1 ? true : false;\n  position['right'] = positionCode.indexOf('r') > -1 ? true : false;\n  return position;\n};\n\n/**\n * Method to handle toggle map controls\n * @param event\n */\nproto._handleClick = function (event) {\n  var _this = this;\n\n  event.preventDefault();\n  var map = this.getMap();\n  var resetControl = null;\n  // remove all the other, eventually toggled, interactioncontrols\n  var controls = map.getControls();\n  this._toggled && controls.forEach(function (control) {\n    if (control.id && control.toggle && control.id !== _this.id) {\n      control.toggle(false);\n      if (control.name === 'reset') resetControl = control;\n    }\n  });\n  if (!this._toggled && resetControl) resetControl.toggle(true);\n  this.dispatchEvent('controlclick');\n};\n\n//shift of control position\nproto.shiftPosition = function (position) {\n  $(this.element).css(hWhere, position + 'px');\n};\n\n// layout handler\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var element = $(this.element);\n    layout({ map: map, position: position, element: element });\n  }\n};\n\n// change layout of controls // overwrite to customize beahviour\nproto.changelayout = function (map) {};\n\n//called when a control is added ore removed to map (added: map is an ol.Map instance , removed map is null)\nproto.setMap = function (map) {\n  if (map) {\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n/**\n *\n */\nproto.showControl = function () {\n  $(this.element).show();\n};\n\n//hide control and move all controls that sit on his right position\nproto.hideControl = function () {\n  var position = $(this.element).position().left;\n  var controlWidth = $(this.element).outerWidth();\n  var newPosition = position;\n  var controls = $(this.element).siblings('.ol-control-tl');\n  controls.each(function () {\n    if ($(this).position().left > position) {\n      newPosition = $(this).position().left;\n      if (controlWidth > $(this).outerWidth()) {\n        position = position + (controlWidth - $(this).outerWidth());\n      }\n      $(this).css('left', position + 'px');\n      position = newPosition;\n      controlWidth = $(this).outerWidth();\n    }\n  });\n  $(this.element).hide();\n};\n\nproto.setEnable = function (enabled) {\n  var toggled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var controlButton = $(this.element).find('button').first();\n  if (enabled) controlButton.removeClass('g3w-ol-disabled');else {\n    controlButton.addClass('g3w-ol-disabled');\n    this._interaction && this._interaction.setActive(false);\n  }\n  this.toggle && this.toggle(toggled);\n  this._enabled = enabled;\n};\n\nproto.getEnable = function () {\n  return this._enabled;\n};\n\nproto.setVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._visible = visible;\n  $(this.element)[visible ? 'show' : 'hide']();\n};\n\nproto.isVisible = function () {\n  return this._visible;\n};\n\nproto._postRender = function () {};\n\nmodule.exports = Control;\n\n},{\"g3w-ol/controls/utils\":95}],79:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Control = require('./control');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    XHR = _require.XHR;\n\nvar Projections = require('g3w-ol/projection/projections');\n/**\n * Classes for all element of dom control\n * @type {{country: string, hidden: string, city: string, road: string, spin: string, namespace: string, inputText: {container: string, result: string, input: string, reset: string, control: string}, olControl: string, inputResetId: string, inputQueryId: string}}\n */\nvar cssClasses = {\n  namespace: \"ol-geocoder\",\n  spin: \"gcd-pseudo-rotate\",\n  hidden: \"gcd-hidden\",\n  inputQueryId: \"gcd-input-query\",\n  inputResetId: \"gcd-input-reset\",\n  country: \"gcd-country\",\n  city: \"gcd-city\",\n  road: \"gcd-road\",\n  olControl: \"ol-control\",\n  inputText: {\n    container: \"gcd-txt-container\",\n    control: \"gcd-txt-control\",\n    input: \"gcd-txt-input\",\n    reset: \"gcd-txt-reset\",\n    result: \"gcd-txt-result\"\n  }\n};\n\nvar utils = {\n  isNumeric: function isNumeric(str) {\n    return (/^\\d+$/.test(str)\n    );\n  },\n  classRegex: function classRegex(classname) {\n    return new RegExp(\"(^|\\\\s+) \" + classname + \" (\\\\s+|$)\");\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to remove a class.\n   */\n  addClass: function addClass(element, classname, timeout) {\n    var _this = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this.addClass(each, classname);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (!this.hasClass(element, array[i])) this._addClass(element, array[i], timeout);\n    }\n  },\n  _addClass: function _addClass(el, klass, timeout) {\n    var _this2 = this;\n\n    // use native if available\n    if (el.classList) el.classList.add(klass);else el.className = (el.className + ' ' + klass).trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this2._removeClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to add a class.\n   */\n  removeClass: function removeClass(element, classname, timeout) {\n    var _this3 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this3.removeClass(each, classname, timeout);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (this.hasClass(element, array[i])) this._removeClass(element, array[i], timeout);\n    }\n  },\n  _removeClass: function _removeClass(el, klass, timeout) {\n    var _this4 = this;\n\n    if (el.classList) el.classList.remove(klass);else el.className = el.className.replace(this.classRegex(klass), ' ').trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this4._addClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element} element DOM node.\n   * @param {String} classname Classname.\n   * @return {Boolean}\n   */\n  hasClass: function hasClass(element, c) {\n    // use native if available\n    return element.classList ? element.classList.contains(c) : this.classRegex(c).test(element.className);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String} classname Classe.\n   */\n  toggleClass: function toggleClass(element, classname) {\n    var _this5 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this5.toggleClass(each, classname);\n      });\n      return;\n    }\n    // use native if available\n    if (element.classList) element.classList.toggle(classname);else {\n      if (this.hasClass(element, classname)) this._removeClass(element, classname);else this._addClass(element, classname);\n    }\n  },\n\n  /**\n   * Abstraction to querySelectorAll for increased\n   * performance and greater usability\n   * @param {String} selector\n   * @param {Element} context (optional)\n   * @param {Boolean} find_all (optional)\n   * @return (find_all) {Element} : {Array}\n   */\n  find: function find(selector, context, find_all) {\n    if (context === void 0) context = window.document;\n    var simpleRe = /^(#?[\\w-]+|\\.[\\w-.]+)$/,\n        periodRe = /\\./g,\n        slice = Array.prototype.slice,\n        matches = [];\n    // Redirect call to the more performant function\n    // if it's a simple selector and return an array\n    // for easier usage\n    if (simpleRe.test(selector)) {\n      switch (selector[0]) {\n        case '#':\n          matches = [this.$(selector.substr(1))];\n          break;\n        case '.':\n          matches = slice.call(context.getElementsByClassName(selector.substr(1).replace(periodRe, ' ')));\n          break;\n        default:\n          matches = slice.call(context.getElementsByTagName(selector));\n      }\n    } else {\n      // If not a simple selector, query the DOM as usual\n      // and return an array for easier usage\n      matches = slice.call(context.querySelectorAll(selector));\n    }\n    return find_all ? matches : matches[0];\n  },\n  $: function $(id) {\n    id = id[0] === '#' ? id.substr(1, id.length) : id;\n    return document.getElementById(id);\n  },\n  isElement: function isElement(obj) {\n    // DOM, Level2\n    if ('HTMLElement' in window) return !!obj && obj instanceof HTMLElement;\n    // Older browsers\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.nodeType === 1 && !!obj.nodeName;\n  },\n  getAllChildren: function getAllChildren(node, tag) {\n    return [].slice.call(node.getElementsByTagName(tag));\n  },\n  isEmpty: function isEmpty(str) {\n    return !str || 0 === str.length;\n  },\n  emptyArray: function emptyArray(array) {\n    while (array.length) {\n      array.pop();\n    }\n  },\n  anyMatchInArray: function anyMatchInArray(source, target) {\n    return source.some(function (each) {\n      return target.indexOf(each) >= 0;\n    });\n  },\n  everyMatchInArrayy: function everyMatchInArrayy(arr1, arr2) {\n    return arr2.every(function (each) {\n      return arr1.indexOf(each) >= 0;\n    });\n  },\n  anyItemHasValue: function anyItemHasValue(obj, has) {\n    var _this6 = this;\n\n    if (has === undefined) has = false;\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n      if (!_this6.isEmpty(obj[key])) {\n        has = true;\n      }\n    });\n    return has;\n  },\n  removeAllChildren: function removeAllChildren(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n  removeAll: function removeAll(collection) {\n    var node = void 0;\n    while (node = collection[0]) {\n      node.parentNode.removeChild(node);\n    }\n  },\n  getChildren: function getChildren(node, tag) {\n    return [].filter.call(node.childNodes, function (el) {\n      return tag ? el.nodeType === 1 && el.tagName.toLowerCase() === tag : el.nodeType === 1;\n    });\n  },\n  template: function template(html, row) {\n    var _this7 = this;\n\n    return html.replace(/\\{ *([\\w_-]+) *\\}/g, function (htm, key) {\n      var value = row[key] === undefined ? '' : row[key];\n      return _this7.htmlEscape(value);\n    });\n  },\n  htmlEscape: function htmlEscape(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n  },\n  createElement: function createElement(node, html) {\n    var elem = void 0;\n    if (Array.isArray(node)) {\n      elem = document.createElement(node[0]);\n      if (node[1].id) elem.id = node[1].id;\n      if (node[1].classname) elem.className = node[1].classname;\n      if (node[1].attr) {\n        var attr = node[1].attr;\n        if (Array.isArray(attr)) {\n          var i = -1;\n          while (++i < attr.length) {\n            elem.setAttribute(attr[i].name, attr[i].value);\n          }\n        } else elem.setAttribute(attr.name, attr.value);\n      }\n    } else elem = document.createElement(node);\n    elem.innerHTML = html;\n    var frag = document.createDocumentFragment();\n    while (elem.childNodes[0]) {\n      frag.appendChild(elem.childNodes[0]);\n    }\n    elem.appendChild(frag);\n    return elem;\n  }\n};\n\n/**\n * Providers\n */\n\nvar Nominatim = function () {\n  function Nominatim() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Nominatim);\n\n    this.id = 'Nominatim (OSM)';\n    this.active = true;\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://nominatim.openstreetmap.org/search/',\n      params: {\n        q: '',\n        format: 'json',\n        addressdetails: 1,\n        limit: 10\n      },\n      extent: extent,\n      viewbox: extent.join(',')\n    };\n  }\n\n  _createClass(Nominatim, [{\n    key: 'getParameters',\n    value: function getParameters(options) {\n      var _settings = this.settings,\n          url = _settings.url,\n          viewbox = _settings.viewbox,\n          limit = _settings.params.limit;\n\n      return {\n        url: url,\n        params: {\n          q: options.query,\n          format: 'json',\n          addressdetails: 1,\n          limit: options.limit || limit,\n          viewbox: viewbox,\n          bounded: 1\n        }\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this8 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var results = response.filter(function (place) {\n        return ol.extent.containsXY(_this8.settings.extent, place.lon, place.lat);\n      }).map(function (result) {\n        return {\n          lon: result.lon,\n          lat: result.lat,\n          address: {\n            name: result.address.neighbourhood || '',\n            road: result.address.road || '',\n            postcode: result.address.postcode,\n            city: result.address.city || result.address.town,\n            state: result.address.state,\n            country: result.address.country\n          },\n          original: {\n            formatted: result.display_name,\n            details: result.address\n          }\n        };\n      });\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Nominatim;\n}();\n\nvar Google = function () {\n  function Google() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Google);\n\n    this.id = 'Google';\n    this.active = _applicationState2.default.keys.vendorkeys.google !== undefined; // PUT HERE A CONDITION TO ACTIVATE OR NOT GOODGLE GEOCODING PROVIDER\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://maps.googleapis.com/maps/api/geocode/json',\n      extent: extent,\n      viewbox: extent[1] + ',' + extent[0] + '|' + extent[3] + ',' + extent[2]\n    };\n  }\n\n  _createClass(Google, [{\n    key: 'getParameters',\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var language = options.lang;\n      var _settings2 = this.settings,\n          url = _settings2.url,\n          viewbox = _settings2.viewbox;\n\n      var params = {\n        address: options.query,\n        key: _applicationState2.default.keys.vendorkeys.google,\n        bounds: viewbox,\n        language: language\n      };\n\n      return {\n        url: url,\n        params: params\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this9 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var results = []; // Set  to be an Array\n\n      if (response.status === 'OK') {\n        results = response.results.filter(function (result) {\n          return ol.extent.containsXY(_this9.settings.extent, result.geometry.location.lng, result.geometry.location.lat);\n        }).map(function (result) {\n          var name = void 0,\n              road = void 0,\n              city = void 0,\n              postcode = void 0,\n              state = void 0,\n              country = void 0;\n          result.address_components.forEach(function (_ref) {\n            var types = _ref.types,\n                short_name = _ref.short_name,\n                long_name = _ref.long_name;\n\n            if (types.find(function (type) {\n              return type === 'route';\n            })) name = long_name;else if (types.find(function (type) {\n              return type === 'locality';\n            })) city = long_name;else if (types.find(function (type) {\n              return type === 'country';\n            })) country = long_name;\n          });\n          return {\n            lon: result.geometry.location.lng,\n            lat: result.geometry.location.lat,\n            address: {\n              name: name,\n              road: road,\n              postcode: '',\n              city: city,\n              state: state,\n              country: country\n            },\n            original: {\n              formatted: result.display_name,\n              details: result.address\n            }\n          };\n        });\n      } else if (response.status === 'REQUEST_DENIED') {\n        /* disable google geocoding provider on API key error */\n        this.active = false;\n      }\n\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}();\n\n/**\n * Geocoding class\n * @param options\n * @constructor\n */\n\n\nfunction GeocodingControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.options = {\n    provider: 'osm',\n    placeholder: options.placeholder || 'Città, indirizzo ... ',\n    noresults: options.noresults || 'Nessun risultato ',\n    notresponseserver: options.notresponseserver || 'Il server non risponde',\n    lang: _applicationState2.default.language || 'it-IT',\n    limit: options.limit || 5,\n    keepOpen: true,\n    preventDefault: false,\n    autoComplete: false,\n    autoCompleteMinLength: 4,\n    debug: false,\n    viewbox: options.bbox,\n    bounded: 1,\n    classMobile: options.isMobile ? 'nominatim-mobile' : '',\n    mapCrs: options.mapCrs,\n    fontIcon: _gui2.default.getFontClass('search')\n  };\n\n  var _options = this.options,\n      placeholder = _options.placeholder,\n      fontIcon = _options.fontIcon,\n      mapCrs = _options.mapCrs,\n      viewbox = _options.viewbox;\n  /**\n   * Providers\n   * @type []\n   */\n\n  this.providers = [new Google({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  }), new Nominatim({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  })];\n\n  /**\n   * Layer to show marker after search\n   * IN FUTURE SET AS CONTROL UTILITY (at moment duplicate also in GEOLOCATION CONTROL)\n   */\n\n  this.layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: '\\uF3C5',\n        font: '900 3em \"Font Awesome 5 Free\"',\n        stroke: new ol.style.Stroke({\n          color: 'red',\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 0,0, 0.7)'\n        })\n      })\n    })\n  });\n\n  this.projection;\n\n  var containerClass = cssClasses.namespace + ' ' + cssClasses.inputText.container + ' ' + this.options.classMobile;\n  var self = this;\n\n  var GeocoderVueContainer = Vue.extend({\n    functional: true,\n    render: function render(h) {\n      return h('div', { class: _defineProperty({}, containerClass, true) }, [h('div', {\n        class: _defineProperty({}, cssClasses.inputText.control, true)\n      }, [h('input', {\n        attrs: {\n          type: 'text',\n          id: cssClasses.inputQueryId,\n          autocomplete: 'off'\n        },\n        class: _defineProperty({}, cssClasses.inputText.input, true),\n        directives: [{\n          name: 't-placeholder',\n          value: placeholder\n        }]\n      }), h('button', {\n        attrs: {\n          type: 'button',\n          id: 'search_nominatim'\n        },\n        class: {\n          btn: true\n        },\n        on: {\n          click: function click() {\n            var value = $('input.' + cssClasses.inputText.input).val();\n            self.query(value);\n          }\n        }\n      }, [h('i', {\n        attrs: {\n          'aria-hidden': true\n        },\n        style: {\n          color: '#ffffff'\n        },\n        class: _defineProperty({}, fontIcon, true)\n      })]), h('button', {\n        attrs: {\n          type: 'button',\n          id: cssClasses.inputResetId\n        },\n        class: _defineProperty({}, cssClasses.inputText.reset + '  ' + cssClasses.hidden, true)\n      })]), h('ul', {\n        class: _defineProperty({}, cssClasses.inputText.result, true)\n      })]);\n    }\n  });\n  this.container = new GeocoderVueContainer().$mount().$el;\n  this.lastQuery = '';\n  this.registeredListeners = {\n    mapClick: false\n  };\n\n  this.showMarker = function (coordinates) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { transform: true };\n    var transform = options.transform;\n\n    this.hideMarker();\n    coordinates = transform ? ol.proj.transform(coordinates, 'EPSG:4326', this.getMap().getView().getProjection()) : coordinates;\n    var geometry = new ol.geom.Point(coordinates);\n    var feature = new ol.Feature(geometry);\n    this.layer.getSource().addFeature(feature);\n    this.getMap().addLayer(this.layer);\n    _gui2.default.getService('map').zoomToGeometry(geometry);\n  };\n\n  this.hideMarker = function () {\n    this.layer.getSource().clear();\n    this.getMap().removeLayer(this.layer);\n  };\n  /**\n   * Methods\n   */\n  this.createControl = function () {\n    var _this10 = this;\n\n    var timeout = void 0,\n        lastQuery = void 0;\n    this.control = utils.find('.' + cssClasses.inputText.control, this.container);\n    this.input = utils.find('.' + cssClasses.inputText.input, this.container);\n    this.reset = utils.find('.' + cssClasses.inputText.reset, this.container);\n    this.result = utils.find('.' + cssClasses.inputText.result, this.container);\n    var query = function query(evt) {\n      var value = evt.target.value.trim();\n      var hit = evt.key ? evt.key === 'Enter' : evt.which ? evt.which === 13 : evt.keyCode ? evt.keyCode === 13 : false;\n      if (hit) {\n        evt.preventDefault();\n        _this10.query(value);\n      }\n    };\n    var reset = function reset() {\n      _this10.input.focus();\n      _this10.input.value = '';\n      _this10.lastQuery = '';\n      utils.addClass(_this10.reset, cssClasses.hidden);\n      _this10.clearResults();\n    };\n    var handleValue = function handleValue(evt) {\n      var value = evt.target.value.trim();\n      value.length ? utils.removeClass(_this10.reset, cssClasses.hidden) : utils.addClass(_this10.reset, cssClasses.hidden);\n      if (_this10.options.autoComplete && value !== lastQuery) {\n        lastQuery = value;\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          return value.length >= _this10.options.autoCompleteMinLength && _this10.query(value);\n        }, 200);\n      }\n    };\n    this.input.addEventListener('keyup', query, false);\n    this.input.addEventListener('input', handleValue, false);\n    this.reset.addEventListener('click', reset, false);\n  };\n  this.query = function (q) {\n    var _this11 = this;\n\n    /**\n     * Clear source\n     */\n    this.hideMarker();\n    return new Promise(function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var isNumber, coordinates, transform, _q$split, _q$split2, x, y, epsg, promises, providers, responses;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isNumber = function isNumber(value) {\n                  return toRawType(value) === 'Number' && !Number.isNaN(value);\n                };\n\n                coordinates = null;\n                transform = false;\n\n                if (q) {\n                  _q$split = q.split(','), _q$split2 = _slicedToArray(_q$split, 3), x = _q$split2[0], y = _q$split2[1], epsg = _q$split2[2];\n\n                  coordinates = isNumber(1 * x) && isNumber(1 * y) ? [1 * x, 1 * y] : null;\n                  try {\n                    /**\n                     * check if is sett epsg code and if is register on project\n                     */\n                    if (epsg && Projections.get('EPSG:' + epsg.trim())) {\n                      coordinates = ol.proj.transform(coordinates, Projections.get('EPSG:' + epsg.trim()), 'EPSG:4326');\n                      transform = true;\n                    }\n                  } catch (err) {}\n                }\n\n                if (!coordinates) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this11.showMarker(coordinates, {\n                  transform: transform\n                });\n                resolve(coordinates);\n                _context.next = 19;\n                break;\n\n              case 9:\n                if (!(_this11.lastQuery === q && _this11.result.firstChild)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 11:\n                promises = [];\n                /**\n                 * For loop to active Providers\n                 */\n\n                providers = _this11.providers.filter(function (provider) {\n                  return provider.active;\n                });\n\n                providers.forEach(function (provider) {\n                  var _provider$getParamete = provider.getParameters({\n                    query: q,\n                    lang: _this11.options.lang,\n                    countrycodes: _this11.options.countrycodes,\n                    limit: _this11.options.limit\n                  }),\n                      url = _provider$getParamete.url,\n                      params = _provider$getParamete.params;\n\n                  _this11.lastQuery = q;\n                  _this11.clearResults();\n                  utils.addClass(_this11.reset, cssClasses.spin);\n                  promises.push(XHR.get({\n                    url: url,\n                    params: params\n                  }));\n                });\n                _context.next = 16;\n                return Promise.allSettled(promises);\n\n              case 16:\n                responses = _context.sent;\n\n                responses.forEach(function (_ref3, index) {\n                  var status = _ref3.status,\n                      response = _ref3.value;\n\n                  if (status === 'fulfilled') {\n                    var _providers$index$hand = providers[index].handleResponse(response),\n                        header = _providers$index$hand.header,\n                        results = _providers$index$hand.results;\n\n                    if (providers[index].active) {\n                      _this11.createList({\n                        header: header,\n                        results: results\n                      });\n                    }\n                  }\n                });\n                utils.removeClass(_this11.reset, cssClasses.spin);\n\n              case 19:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this11);\n      }));\n\n      return function (_x8, _x9) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n  this.createList = function () {\n    var _this12 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        header = _ref4.header,\n        _ref4$results = _ref4.results,\n        results = _ref4$results === undefined ? {} : _ref4$results;\n\n    var ul = this.result;\n    ul.appendChild(this.createHeaderProviderResults(header));\n    if (results.length) {\n      results.forEach(function (result) {\n        var addressHtml = _this12.addressTemplate(result.address),\n            html = ['<a href=\"#\">', addressHtml, '</a>'].join(''),\n            li = utils.createElement('li', html);\n        li.addEventListener('click', function (evt) {\n          evt.preventDefault();\n          _this12.chosen(result, addressHtml, result.address, result.original);\n        }, false);\n        ul.appendChild(li);\n      });\n    } else {\n      var noresults = this.options.noresults;\n\n      var elementVue = Vue.extend({\n        functional: true,\n        render: function render(h) {\n          return h('li', {\n            class: {\n              'nominatim-noresult': true\n            },\n            directives: [{ name: 't', value: noresults }]\n          });\n        }\n      });\n      var li = new elementVue().$mount().$el;\n      ul.appendChild(li);\n    }\n  };\n  this.chosen = function (place, addressHtml, addressObj, addressOriginal) {\n    var coord = [parseFloat(place.lon), parseFloat(place.lat)];\n    this.options.keepOpen === false && this.clearResults(true);\n    this.showMarker(coord);\n  };\n  this.createHeaderProviderResults = function () {\n    var header = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var headerNodeElement = '\\n      <div style=\"display: flex; justify-content: space-between; padding: 5px\">\\n        <span  style=\"color: #FFFFFF; font-weight: bold\">' + header.title + '</span>\\n      </div>';\n    var li = utils.createElement('li', headerNodeElement);\n    li.classList.add(\"skin-background-color\");\n    return li;\n  };\n\n  this.addressTemplate = function (address) {\n    var html = [];\n    if (address.name) html.push(['<div class=\"', cssClasses.road, '\">{name}</div>'].join(''));\n    if (address.road || address.building || address.house_number) {\n      html.push(['<div class=\"', cssClasses.road, '\">{building} {road} {house_number}</div>'].join(''));\n    }\n    if (address.city || address.town || address.village) {\n      html.push(['<div class=\"', cssClasses.city, '\">{postcode} {city} {town} {village}</div>'].join(''));\n    }\n    if (address.state || address.country) {\n      html.push(['<div class=\"', cssClasses.country, '\">{state} {country}</div>'].join(''));\n    }\n    return utils.template(html.join('<br>'), address);\n  };\n  this.expand = function () {\n    var _this13 = this;\n\n    utils.removeClass(this.input, cssClasses.spin);\n    utils.addClass(this.control, cssClasses.glass.expanded);\n    setTimeout(function () {\n      return _this13.input.focus();\n    }, 100);\n  };\n  this.collapse = function () {\n    this.input.value = '';\n    this.input.blur();\n    utils.addClass(this.reset, cssClasses.hidden);\n    this.clearResults();\n  };\n\n  this.clearResults = function () {\n    utils.removeAllChildren(this.result);\n    this.hideMarker();\n  };\n  this.getSource = function () {\n    return this.layer.getSource();\n  };\n  this.addLayer = function () {\n    var _this14 = this;\n\n    var map = this.getMap();\n    var layer = map.getLayers().find(function (layer) {\n      return layer === _this14.layer;\n    });\n    !layer && map.addLayer(this.layer);\n  };\n  /**\n   * End methods\n   */\n\n  this.createControl();\n\n  Control.call(this, {\n    element: this.container,\n    name: \"nominatim\",\n    offline: false\n  });\n}\n\nol.inherits(GeocodingControl, Control);\n\nmodule.exports = GeocodingControl;\n\n},{\"./control\":78,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":108,\"services/gui\":349,\"store/application-state\":361}],80:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nfunction GeolocationControl() {\n  var options = {\n    visible: false, // set initial to false. Is set visible if is autorized\n    offline: false,\n    name: \"geolocation\",\n    tipLabel: \"sdk.mapcontrols.geolocation.tooltip\",\n    label: \"\\uE904\"\n  };\n  this._layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: \"\\uF3C5\",\n        font: '900 3em \"Font Awesome 5 Free\"',\n        fill: new ol.style.Fill({\n          color: 'red'\n        })\n      })\n    })\n  });\n  InteractionControl.call(this, options);\n}\n\nol.inherits(GeolocationControl, InteractionControl);\n\nvar proto = GeolocationControl.prototype;\n\n/**\n * Method to add market position layer and feature point always on top of map\n * @param map\n * @param coordinates\n * @param show\n * @private\n */\nproto._showMarker = function (_ref) {\n  var map = _ref.map,\n      coordinates = _ref.coordinates,\n      _ref$show = _ref.show,\n      show = _ref$show === undefined ? true : _ref$show;\n\n  //in case of control is initialized\n  if (this._layer) {\n    this._layer.getSource().clear();\n    if (show) {\n      map.getView().setCenter(coordinates);\n      var feature = new ol.Feature({\n        geometry: new ol.geom.Point(coordinates)\n      });\n      this._layer.getSource().addFeature(feature);\n      map.addLayer(this._layer);\n    } else map.removeLayer(this._layer);\n  }\n};\n\nproto.getMap = function () {\n  return InteractionControl.prototype.getMap.call(this);\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  var toggledKeyEvent = void 0; // key toggled event handler\n  InteractionControl.prototype.setMap.call(this, map);\n\n  var geolocation = new ol.Geolocation({\n    projection: map.getView().getProjection(),\n    tracking: true, // set tracking\n    trackingOptions: {\n      enableHighAccuracy: true\n    }\n  });\n\n  geolocation.on('change:position', function () {\n    var coordinates = geolocation.getPosition();\n    if (coordinates) {\n      if (!_this.isVisible()) {\n        _this.setVisible(true);\n        $(_this.element).removeClass('g3w-ol-disabled');\n        geolocation.dispatchEvent('authorized');\n      }\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    } else _this.hideControl(); // remove control from map control flow\n  });\n\n  geolocation.once('error', function (evt) {\n    _this.hideControl();\n    _this._layer = null;\n    evt.code !== 1 && _this.dispatchEvent('error');\n    ol.Observable.unByKey(toggledKeyEvent);\n    toggledKeyEvent = null;\n  });\n\n  //only when authorized register toogled event\n  geolocation.once('authorized', function () {\n    toggledKeyEvent = _this.on('toggled', function () {\n      var coordinates = geolocation.getPosition();\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    });\n  });\n};\n\nmodule.exports = GeolocationControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],81:[function(require,module,exports){\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\n\nfunction GeoScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.name = \"maptoimagegeo\";\n  options.tipLabel = \"Geo Screenshot\";\n  options.label = \"\\uE900\";\n  ScreenshotControl.call(this, options);\n}\n\nol.inherits(GeoScreenshotControl, ScreenshotControl);\n\nmodule.exports = GeoScreenshotControl;\n\n},{\"g3w-ol/controls/screenshotcontrol\":93}],82:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar Control = require('g3w-ol/controls/control');\n\nvar InteractionControl = function InteractionControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? true : _options$enabled,\n      _options$toggled = options.toggled,\n      toggled = _options$toggled === undefined ? false : _options$toggled,\n      _options$clickmap = options.clickmap,\n      clickmap = _options$clickmap === undefined ? false : _options$clickmap,\n      _options$interactionC = options.interactionClass,\n      interactionClass = _options$interactionC === undefined ? null : _options$interactionC,\n      _options$autountoggle = options.autountoggle,\n      autountoggle = _options$autountoggle === undefined ? false : _options$autountoggle,\n      _options$geometryType = options.geometryTypes,\n      geometryTypes = _options$geometryType === undefined ? [] : _options$geometryType,\n      onSelectlayer = options.onSelectlayer,\n      _options$onhover = options.onhover,\n      onhover = _options$onhover === undefined ? false : _options$onhover,\n      _options$help = options.help,\n      help = _options$help === undefined ? null : _options$help,\n      toggledTool = options.toggledTool,\n      _options$interactionC2 = options.interactionClassOptions,\n      interactionClassOptions = _options$interactionC2 === undefined ? {} : _options$interactionC2,\n      spatialMethod = options.spatialMethod;\n\n  this._visible = visible;\n  this._toggled = toggled;\n  this.clickmap = clickmap; // check if interact with map\n  this._interactionClass = interactionClass;\n  this._interaction = null;\n  this._autountoggle = autountoggle;\n  this._geometryTypes = geometryTypes; // array of types geometries\n  this.onSelectLayer = onSelectlayer;\n  this._onhover = onhover;\n  this._help = help;\n  this._helpButton; // used to show help info button\n  this._toolButton; // used to show toolbutton\n  //spatial method (intersect, within)\n  this.spatialMethod = spatialMethod;\n  this.toggledTool;\n  this._interactionClassOptions = interactionClassOptions;\n  options.buttonClickHandler = InteractionControl.prototype._handleClick.bind(this);\n  Control.call(this, options);\n  // create an help message\n  this._help && this._createModalHelp();\n  // create tool\n  toggledTool && this.createControlTool(toggledTool);\n  ///se enabled\n  this.setEnable(enabled);\n  toggled && this.toggle(toggled);\n};\n\nol.inherits(InteractionControl, Control);\n\nvar proto = InteractionControl.prototype;\n\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\n/**\n * Enable map control dom\n */\nproto.enable = function () {\n  $(this.element).removeClass('g3w-disabled');\n};\n\nproto.disable = function () {\n  $(this.element).addClass('g3w-disabled');\n};\n\nproto.createControlTool = function () {\n  var _this = this;\n\n  var toggledTool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * how can be {\n   *  'toggled'(default) => show tools when control is toggled\n   *  'hover' =>  (show button tool as info help)\n   * }\n   */\n  var type = toggledTool.type,\n      component = toggledTool.component,\n      _toggledTool$how = toggledTool.how,\n      how = _toggledTool$how === undefined ? \"toggled\" : _toggledTool$how;\n\n  switch (type) {\n    case 'spatialMethod':\n      var method = this.getSpatialMethod();\n      this.toggledTool = {\n        data: function data() {\n          this.methods = _constants.SPATIALMETHODS;\n          return {\n            method: method\n          };\n        },\n\n        template: '\\n          <div style=\"width: 100%; padding: 5px;\">\\n            <select ref=\"select\" style=\"width: 100%\"  :search=\"false\" v-select2=\"\\'method\\'\">\\n              <option v-for=\"method in methods\">{{method}}</option>\\n            </select>\\n          </div>',\n        watch: {\n          'method': function method(_method) {\n            return _this.setSpatialMethod(_method);\n          }\n        },\n        created: function created() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(false);\n        },\n        beforeDestroy: function beforeDestroy() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(true);\n        }\n      };\n      break;\n    case 'custom':\n      this.toggledTool = component;\n      break;\n    // if we want to create a button (as info on hover)\n  }\n  switch (how) {\n    case 'hover':\n      this._createToolOnHoverButton();\n      break;\n  }\n};\n\nproto._createToolOnHoverButton = function () {\n  var _this2 = this;\n\n  if (this._onhover) {\n    this._toolButton = $('<span style=\"display:none\" class=\"tool_mapcontrol_button\"><i class=\"' + _gui2.default.getFontClass('tool') + '\"></i></span>');\n    $(this.element).prepend(this._toolButton);\n    this._toolButton.on('click', function (event) {\n      event.stopPropagation();\n      _this2.showToggledTool(true);\n    });\n    $(this.element).hover(function () {\n      return _this2._toggled && _this2._toolButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this2._toolButton.hide();\n    });\n  }\n};\n\nproto.showToggledTool = function () {\n  var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (show) {\n    _gui2.default.showUserMessage({\n      title: '',\n      type: 'tool',\n      size: 'small',\n      closable: this._toolButton ? true : false,\n      hooks: {\n        body: this.toggledTool\n      }\n    });\n  } else _gui2.default.closeUserMessage();\n};\n\n//show help message\nproto._showModalHelp = function () {\n  _gui2.default.showModalDialog({\n    title: t(this._help.title),\n    message: t(this._help.message)\n  });\n};\n\n// create modal help\nproto._createModalHelp = function () {\n  var _this3 = this;\n\n  if (this._onhover) {\n    this._helpButton = $('<span style=\"display:none\" class=\"info_mapcontrol_button\">i</span>');\n    $(this.element).prepend(this._helpButton);\n    this._helpButton.on('click', function (event) {\n      event.stopPropagation();\n      _this3._showModalHelp();\n    });\n    $(this.element).hover(function () {\n      return _this3._helpButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this3._helpButton.hide();\n    });\n  }\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.getInteraction = function () {\n  return this._interaction;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\n/**\n *\n * Get dom bottom\n * @returns {JQuery<HTMLElement> | jQuery | HTMLElement}\n */\nproto.getControlBottom = function () {\n  return $(this.element).find('button').first();\n};\n\nproto.addClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.addClass(className);\n};\n\nproto.removeClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.removeClass(className);\n};\n\n// press or not press\nproto.toggle = function (toggle) {\n  toggle = toggle !== undefined ? toggle : !this._toggled;\n  this._toggled = toggle;\n  if (toggle) {\n    this._interaction && this._interaction.setActive(true);\n    this.addClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.show();\n  } else {\n    this._help && this._helpButton.hide();\n    this._interaction && this._interaction.setActive(false);\n    this.removeClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.hide();\n    this.toggledTool && this.showToggledTool(false);\n  }\n  this._toolButton === undefined && this.toggledTool && this.showToggledTool(this._toggled);\n  this.dispatchEvent('toggled', toggle);\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.setGeometryTypes = function (types) {\n  this._geometryTypes = types;\n};\n\nproto.setMap = function (map) {\n  var _this4 = this;\n\n  Control.prototype.setMap.call(this, map);\n  if (!this._interaction && this._interactionClass) {\n    this._interaction = new this._interactionClass(this._interactionClassOptions);\n    map.addInteraction(this._interaction);\n    this._interaction.setActive(false);\n  }\n  this._toggled && setTimeout(function () {\n    _this4.toggle(true);\n  });\n};\n\nproto._handleClick = function (evt) {\n  if (this._enabled) {\n    this.toggle();\n    Control.prototype._handleClick.call(this, evt);\n  }\n};\n\nproto.getIteraction = function () {\n  return this._interaction;\n};\n\n/**\n * Method to set filter operation intersect or Contains\n */\n\nproto.setSpatialMethod = function () {\n  var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'intersects';\n\n  this.spatialMethod = method;\n};\n\nproto.getSpatialMethod = function () {\n  return this.spatialMethod;\n};\n\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n};\n\n/**\n * called when project change\n * @param layers\n */\nproto.change = function () {\n  //to owerwite to each control\n\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n};\n\nmodule.exports = InteractionControl;\n\n},{\"core/i18n/i18n.service\":14,\"g3w-ol/constants\":75,\"g3w-ol/controls/control\":78,\"services/gui\":349}],83:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar LenghtIteraction = require('g3w-ol/interactions/lengthinteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar LengthControl = function LengthControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.length.tooltip\",\n    label: '\\uE908',\n    clickmap: true, // set ClickMap\n    interactionClass: LenghtIteraction\n  };\n\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(LengthControl, MeasureControl);\n\nmodule.exports = LengthControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/lengthinteraction\":100}],84:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar MeasureControl = function MeasureControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._map = null;\n  InteractionControl.call(this, options);\n};\n\nol.inherits(MeasureControl, InteractionControl);\n\nvar proto = MeasureControl.prototype;\n\nproto.setMap = function (map) {\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\nproto.toggle = function (toggle) {\n  InteractionControl.prototype.toggle.call(this, toggle);\n  if (!this.isToggled() && this.getIteraction()) {\n    //clean of the measure control if it was activated\n    this.getIteraction().clear();\n  }\n};\n\nmodule.exports = MeasureControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],85:[function(require,module,exports){\nvar MousePositionControl = function MousePositionControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.target = options.target || 'mouse-position-control';\n  ol.control.MousePosition.call(this, options);\n};\n\nol.inherits(MousePositionControl, ol.control.MousePosition);\n\nmodule.exports = MousePositionControl;\n\nvar proto = MousePositionControl.prototype;\n\nproto.offline = true;\n\nproto.setEnable = function (bool) {\n  bool ? $(this.element) : $(this.element);\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    $(this.element).removeClass('ol-control');\n    ol.control.MousePosition.prototype.setMap.call(this, map);\n  }\n};\n\n},{}],86:[function(require,module,exports){\nvar OLControl = function OLControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._control = null;\n  this.positionCode = options.position || 'tl';\n  switch (options.type) {\n    case 'zoom':\n      this._control = new ol.control.Zoom(options);\n      break;\n    case 'zoomtoextent':\n      this._control = new ol.control.ZoomToExtent(options);\n      break;\n    case 'scaleline':\n      this._control = new ol.control.ScaleLine(options);\n      break;\n    case 'overview':\n      this._control = new ol.control.OverviewMap(options);\n      break;\n  }\n\n  $(this._control.element).addClass(\"ol-control-\" + this.positionCode);\n\n  ol.control.Control.call(this, {\n    element: this._control.element\n  });\n};\n\n// subclass of OpenLayer Control\nol.inherits(OLControl, ol.control.Control);\n\nmodule.exports = OLControl;\n\nvar proto = OLControl.prototype;\n\nproto.offline = true;\n\n/**\n * Return Ol Control\n * @returns {*}\n */\nproto.getOlControl = function () {\n  return this._control;\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  return position;\n};\n\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var viewPort = map.getViewport();\n    var previusControls = $(viewPort).find('.ol-control-' + this.positionCode);\n    if (previusControls.length) {\n      previusControl = previusControls.last();\n      var previousOffset = position.left ? previusControl.position().left : previusControl.position().right;\n      var hWhere = position.left ? 'left' : 'right';\n      var previousWidth = previusControl[0].offsetWidth;\n      var hOffset = $(this.element).position()[hWhere] + previousOffset + previousWidth + 2;\n      $(this.element).css(hWhere, hOffset + 'px');\n    }\n  }\n};\n\nproto.changelayout = function () {};\n\nproto.showHide = function () {\n  $(this.element).toggle();\n};\n\nproto.setMap = function (map) {\n  this.layout(map);\n  this._control.setMap(map);\n};\n\n},{}],87:[function(require,module,exports){\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction OnClickControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._originalonlick = null;\n  this._onclick = options.onclick;\n  Control.call(this, options);\n}\n\nol.inherits(OnClickControl, Control);\n\nvar proto = OnClickControl.prototype;\n\nproto.overwriteOnClickEvent = function (clickHandler) {\n  this._originalonlick = this._originalonlick || this._onclick;\n  this._onclick = clickHandler;\n};\n\nproto.resetOriginalOnClickEvent = function () {\n  this._onclick = this._originalonlick || this._onclick;\n  this._originalonlick = null;\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  var controlElement = $(this.element);\n  var buttonControl = controlElement.children('button');\n  var cliccked = false;\n  controlElement.on('click', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cliccked) {\n              _context.next = 9;\n              break;\n            }\n\n            cliccked = true;\n            buttonControl.addClass('g3w-ol-disabled');\n            _context.t0 = _this._onclick;\n\n            if (!_context.t0) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return _this._onclick();\n\n          case 7:\n            buttonControl.removeClass('g3w-ol-disabled');\n            cliccked = false;\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n};\n\nmodule.exports = OnClickControl;\n\n},{\"g3w-ol/controls/control\":78}],88:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _require = require('core/utils/ol'),\n    merge = _require.merge;\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar QueryBBoxControl = function QueryBBoxControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options2 = options,\n      _options2$spatialMeth = _options2.spatialMethod,\n      spatialMethod = _options2$spatialMeth === undefined ? _constants.SPATIALMETHODS[0] : _options2$spatialMeth;\n\n  this._startCoordinate = null;\n  this.layers = options.layers || [];\n  var visible = this.checkVisible(this.layers);\n  options.visible = visible;\n  options.enabled = visible && this.checkEnabled(this.layers);\n  this.unwatches = [];\n  this.listenLayersVisibleChange();\n  var _options = {\n    offline: false,\n    name: \"querybbox\",\n    tipLabel: \"sdk.mapcontrols.querybybbox.tooltip\",\n    label: options.label || '\\uE902',\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.DragBox,\n    onSelectlayer: function onSelectlayer(selectLayer) {\n      var layers = this.layers;\n      var selected = selectLayer.isSelected();\n      if (selected) {\n        var findLayer = layers.find(function (layer) {\n          return layer === selectLayer;\n        });\n        var enabled = findLayer && findLayer.isVisible() ? true : false;\n        this.setEnable(enabled, false);\n      } else {\n        var _enabled = this.checkEnabled(layers);\n        this.setEnable(_enabled);\n      }\n    },\n\n    onhover: true,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    spatialMethod: spatialMethod\n  };\n  options = merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(QueryBBoxControl, InteractionControl);\n\nvar proto = QueryBBoxControl.prototype;\n\nproto.listenLayersVisibleChange = function () {\n  var _this = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    var state = layer.state;\n\n    _this.unwatches.push(_constants.VM.$watch(function () {\n      return state.visible;\n    }, function (visible) {\n      if (state.selected && !visible) _this.setEnable(false);else {\n        var enabled = _this.checkEnabled(_this.layers);\n        enabled !== _this.getEnable() && _this.setEnable(enabled, enabled && _this.isToggled());\n      }\n    }));\n  });\n};\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  var visible = this.checkVisible(layers);\n  this.setVisible(visible);\n  var enabled = this.checkEnabled(layers);\n  this.setEnable(enabled);\n  this.listenLayersVisibleChange(this.layers);\n};\n\nproto.checkVisible = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return layers.length > 0;\n};\n\nproto.checkEnabled = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return layers.length > 0 && layers.reduce(function (accumulator, layer) {\n    return accumulator || layer.isVisible();\n  }, false);\n};\n\nproto.setMap = function (map) {\n  var _this2 = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('boxstart', function (evt) {\n    return _this2._startCoordinate = evt.coordinate;\n  });\n  this._interaction.on('boxend', function (evt) {\n    var start_coordinate = _this2._startCoordinate;\n    var end_coordinate = evt.coordinate;\n    var extent = ol.extent.boundingExtent([start_coordinate, end_coordinate]);\n    _this2.dispatchEvent({\n      type: 'bboxend',\n      extent: extent\n    });\n    _this2._startCoordinate = null;\n    _this2._autountoggle && _this2.toggle();\n  });\n};\n\nmodule.exports = QueryBBoxControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/constants\":75,\"g3w-ol/controls/interactioncontrol\":82}],89:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _require = require('core/utils/ol'),\n    merge = _require.merge;\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar getAllPolygonGeometryTypes = require('core/utils/geo').Geometry.getAllPolygonGeometryTypes;\n\nvar VALIDGEOMETRIES = getAllPolygonGeometryTypes();\n\nvar QueryByPolygonControl = function QueryByPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options2 = options,\n      _options2$spatialMeth = _options2.spatialMethod,\n      spatialMethod = _options2$spatialMeth === undefined ? _constants.SPATIALMETHODS[0] : _options2$spatialMeth;\n\n  this.layers = options.layers || [];\n  this.unwatches = [];\n  this.listenPolygonLayersChange();\n  options.visible = this.checkVisibile(this.layers);\n  var _options = {\n    offline: false,\n    name: \"querybypolygon\",\n    tipLabel: \"sdk.mapcontrols.querybypolygon.tooltip\",\n    label: options.label || '\\uE903',\n    // function to get selection layer\n    onSelectlayer: function onSelectlayer(selectedLayer) {\n      var selected = selectedLayer.isSelected();\n      var geometryType = selectedLayer.getGeometryType();\n      var querable = selectedLayer.isQueryable();\n      if (selected) {\n        if (this.getGeometryTypes().indexOf(geometryType) !== -1) {\n          this.setEnable(querable ? selectedLayer.isVisible() : querable);\n        } else this.setEnable(false, false);\n      } else this.setEnable(false, false);\n    },\n\n    clickmap: true, // set ClickMap\n    interactionClass: PickCoordinatesInteraction,\n    spatialMethod: spatialMethod,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    onhover: true\n  };\n  options = merge(options, _options);\n  options.geometryTypes = VALIDGEOMETRIES;\n  InteractionControl.call(this, options);\n  //starting disabled\n  this.setEnable(false);\n};\n\nol.inherits(QueryByPolygonControl, InteractionControl);\n\nvar proto = QueryByPolygonControl.prototype;\n\nproto.listenPolygonLayersChange = function () {\n  var _this = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  var polygonLayers = this.layers.filter(function (layer) {\n    return VALIDGEOMETRIES.indexOf(layer.getGeometryType()) !== -1;\n  });\n  polygonLayers.forEach(function (layer) {\n    var state = layer.state;\n\n    _this.unwatches.push(_constants.VM.$watch(function () {\n      return state.visible;\n    }, function (visible) {\n      // need to be visible or selected\n      _this.setEnable(visible && state.selected);\n    }));\n  });\n};\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  var visible = this.checkVisibile(layers);\n  this.setVisible(visible);\n  this.setEnable(false);\n  this.listenPolygonLayersChange();\n};\n\nproto.checkVisibile = function (layers) {\n  var visible = void 0;\n  // if no layer or just one\n  if (!layers.length || layers.length === 1) visible = false;else {\n    // geometries to check\n    // get all layers that haven't the geometries above filterable\n    var filterableLayers = layers.filter(function (layer) {\n      return layer.isFilterable();\n    });\n    // get all layer that have the valid geometries\n    var querableLayers = layers.filter(function (layer) {\n      return VALIDGEOMETRIES.indexOf(layer.getGeometryType()) !== -1;\n    });\n    var filterableLength = filterableLayers.length;\n    var querableLength = querableLayers.length;\n    if (querableLength === 1 && filterableLength === 1) {\n      visible = filterableLayers[0] !== querableLayers[0];\n    } else visible = querableLength > 0 && filterableLength > 0;\n  }\n  return visible;\n};\n\nproto.setMap = function (map) {\n  var _this2 = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('picked', function (evt) {\n    _this2.dispatchEvent({\n      type: 'picked',\n      coordinates: evt.coordinate\n    });\n    _this2._autountoggle && _this2.toggle();\n  });\n  this.setEnable(false);\n};\n\nmodule.exports = QueryByPolygonControl;\n\n},{\"core/utils/geo\":65,\"core/utils/ol\":66,\"g3w-ol/constants\":75,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":102}],90:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar QueryControl = function QueryControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    name: \"querylayer\",\n    tipLabel: \"sdk.mapcontrols.query.tooltip\",\n    label: options.label || '\\uEA0F',\n    clickmap: true, // set ClickMap\n    interactionClass: PickCoordinatesInteraction\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(QueryControl, InteractionControl);\n\nvar proto = QueryControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  var eventToggledKey = void 0;\n  var querySingleClickFnc = function querySingleClickFnc(event) {\n    _this.dispatchEvent({\n      type: 'picked',\n      coordinates: event.coordinate\n    });\n    _this._autountoggle && _this.toggle(true);\n  };\n  if (map) {\n    eventToggledKey = this.on('toggled', function (event) {\n      var toggled = event.target.isToggled();\n      toggled && map.on('singleclick', querySingleClickFnc) || map.un('singleclick', querySingleClickFnc);\n    });\n  } else ol.Observable.unByKey(eventToggledKey);\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\nmodule.exports = QueryControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":102}],91:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ResetControl = function ResetControl(options) {\n  this._toggled = true;\n  this._startCoordinate = null;\n  var _options = {\n    name: \"reset\",\n    tipLabel: \"Pan\",\n    label: '\\uE901'\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(ResetControl, InteractionControl);\n\nmodule.exports = ResetControl;\n\nvar proto = ResetControl.prototype;\n\nproto._postRender = function () {\n  this.toggle(true);\n};\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/interactioncontrol\":82}],92:[function(require,module,exports){\nvar t = require('core/i18n/i18n.service').t;\n\nvar _require = require('core/utils/ol'),\n    getResolutionFromScale = _require.getResolutionFromScale,\n    getScaleFromResolution = _require.getScaleFromResolution;\n\nvar SCALES = [1000000, 5000000, 250000, 100000, 50000, 25000, 10000, 5000, 2500, 2000, 1000];\n\nvar ScaleControl = function ScaleControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.isMobile = options.isMobile || false;\n  options.target = 'scale-control';\n  ol.control.Control.call(this, options);\n};\n\nol.inherits(ScaleControl, ol.control.Control);\n\nmodule.exports = ScaleControl;\n\nvar proto = ScaleControl.prototype;\n\nproto.offline = true;\n\n// called from map when layout change\nproto.changelayout = function (map) {\n  var position = this.position;\n  var element = $(this.element);\n};\n\nproto.layout = function (map) {\n  var self = this;\n  var isMapResolutionChanged = false;\n  var selectedOnClick = false;\n  var element = $(this.element);\n  var select2 = element.children('select').select2({\n    tags: true,\n    dropdownParent: $(map.getTargetElement()),\n    width: '120px',\n    height: '20px',\n    language: {\n      noResults: function noResults(params) {\n        return t(\"sdk.mapcontrols.scale.no_valid_scale\");\n      }\n    },\n    minimumResultsForSearch: this.isMobile ? -1 : 0,\n    createTag: function createTag(params) {\n      var newTag = null;\n      var scale = void 0;\n      // Don't offset to create a tag if there is no @ symbol\n      if (params.term.indexOf('1:') !== -1) {\n        // Return null to disable tag creation\n        scale = params.term.split('1:')[1];\n      } else if (Number.isInteger(Number(params.term)) && Number(params.term) > 0) {\n        scale = Number(params.term);\n        if (1 * scale <= self.scales[0]) {\n          newTag = {\n            id: scale,\n            text: '1:' + params.term,\n            new: true\n          };\n          deleteLastCustomScale();\n        }\n      }\n      return newTag;\n    }\n  });\n  //get change mapsize to close\n  map.on('change:size', function () {\n    return select2.select2('close');\n  });\n  function deleteLastCustomScale() {\n    select2.find('option').each(function (index, option) {\n      return self.scales.indexOf(1 * option.value) === -1 && $(option).remove();\n    });\n  }\n\n  function addCustomTag(data) {\n    if (select2.find(\"option[value='\" + data.id + \"']\").length) select2.val(data.id).trigger('change');else {\n      deleteLastCustomScale();\n      var newOption = new Option(data.text, data.id, true, true);\n      select2.append(newOption).trigger('change');\n    }\n  }\n\n  map.on('moveend', function () {\n    if (isMapResolutionChanged) {\n      var view = this.getView();\n      var resolution = view.getResolution();\n      var mapUnits = view.getProjection().getUnits();\n      var scale = parseInt(getScaleFromResolution(resolution, mapUnits));\n      var data = {\n        id: scale,\n        text: '1:' + scale,\n        new: true\n      };\n      addCustomTag(data);\n      isMapResolutionChanged = false;\n    } else selectedOnClick = false;\n  });\n  var setChangeResolutionHandler = function setChangeResolutionHandler() {\n    map.getView().on('change:resolution', function () {\n      return isMapResolutionChanged = !selectedOnClick;\n    });\n  };\n  setChangeResolutionHandler();\n\n  map.on('change:view', function () {\n    return setChangeResolutionHandler();\n  });\n\n  select2.on('select2:select', function (e) {\n    selectedOnClick = true;\n    var data = e.params.data;\n    if (data.new) {\n      deleteLastCustomScale();\n      addCustomTag(data);\n    }\n    var mapUnits = map.getView().getProjection().getUnits();\n    var scale = 1 * data.id;\n    var resolution = getResolutionFromScale(scale, mapUnits);\n    map.getView().setResolution(resolution);\n  });\n};\n\nproto._setScales = function (map) {\n  var mapUnits = map.getView().getProjection().getUnits();\n  var currentResolution = map.getView().getResolution();\n  var currentScale = parseInt(getScaleFromResolution(currentResolution, mapUnits));\n  this.scales = SCALES.filter(function (scale) {\n    return scale < currentScale;\n  });\n  this.scales.unshift(currentScale);\n  this._createControl();\n};\n\nproto._createControl = function () {\n  var controlDomElement = document.createElement('div');\n  var select = document.createElement('select');\n  var optgroup = document.createElement('optgroup');\n  optgroup.label = '';\n  this.scales.forEach(function (scale, index) {\n    var option = document.createElement('option');\n    option.value = scale;\n    option.text = '1:' + scale;\n    option.selected = index === 0 ? true : false;\n    optgroup.appendChild(option);\n  });\n  select.appendChild(optgroup);\n  if (!this.isMobile) {\n    var optgroup_custom = document.createElement('optgroup');\n    optgroup_custom.label = 'Custom';\n    select.appendChild(optgroup_custom);\n  }\n  controlDomElement.appendChild(select);\n  // set element of control (it is necessary to visualize it)\n  this.element = controlDomElement;\n  $(this.element).css('height', '20px');\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    this._setScales(map);\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/ol\":66}],93:[function(require,module,exports){\nvar OnClickControl = require('g3w-ol/controls/onclickcontrol');\n\nfunction ScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.layers = options.layers || [];\n  var visible = this.checkVisible(this.layers);\n  options.visible = visible;\n  options.name = options.name || \"maptoimage\";\n  options.tipLabel = options.tipLabel || \"Screenshot\";\n  options.label = options.label || \"\\uE90F\";\n  options.toggled = false;\n  OnClickControl.call(this, options);\n}\n\nol.inherits(ScreenshotControl, OnClickControl);\n\nvar proto = ScreenshotControl.prototype;\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var visible = this.checkVisible(layers);\n  this.setVisible(visible);\n};\n\nproto.checkVisible = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var find = layers.find(function (layer) {\n    return layer.isExternalWMS ? layer.isExternalWMS() : false;\n  });\n  return !find;\n};\n\nmodule.exports = ScreenshotControl;\n\n},{\"g3w-ol/controls/onclickcontrol\":87}],94:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar utils = require('core/utils/ol');\nvar StreetViewComponent = require('gui/streetview/vue/streetview');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar GoogleStreetViewApiUrl = 'https://maps.googleapis.com/maps/api/';\n\nvar StreetViewControl = function StreetViewControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    visible: true, // always visible. Only change behavior if exist or not\n    name: \"streetview\",\n    tipLabel: \"StreetView\",\n    clickmap: true, // set ClickMap\n    label: '\\uE905',\n    interactionClass: PickCoordinatesInteraction\n  };\n  /**\n   * Check Google Key\n   * */\n\n  this.key = _applicationState2.default.keys.vendorkeys.google;\n  this.keyError;\n  if (this.key) {\n    XHR.get({\n      url: GoogleStreetViewApiUrl + 'streetview?location=0,0&size=456x456&key=' + this.key\n    }).catch(function (error) {\n      return _this.keyError = error.responseText;\n    });\n  }\n  //get script script\n  $script(GoogleStreetViewApiUrl + 'js?' + (this.key ? 'key=' + this.key : ''));\n\n  /***/\n\n  this._sv = null;\n  this._panorama = null;\n  this._map = null;\n  this._projection = null;\n  this._lastposition = null;\n  this._streetViewFeature = new ol.Feature();\n  var streetVectorSource = new ol.source.Vector({ features: [] });\n  this.active = false;\n  this._layer = new ol.layer.Vector({\n    source: streetVectorSource,\n    style: function style(feature) {\n      var coordinates = feature.getGeometry().getCoordinates();\n      this._lastposition = this._lastposition ? this._lastposition : coordinates;\n      var dx = coordinates[0] - this._lastposition[0];\n      var dy = coordinates[1] - this._lastposition[1];\n      var rotation = -Math.atan2(dy, dx);\n      var styles = [new ol.style.Style({\n        text: new ol.style.Text({\n          text: '\\uE905',\n          font: 'bold 18px icomoon',\n          fill: new ol.style.Fill({\n            color: '#ffffff'\n          })\n        })\n      }), new ol.style.Style({\n        image: new ol.style.Icon({\n          src: '/static/client/images/streetviewarrow.png',\n          rotation: rotation\n        })\n      })];\n      this._lastposition = coordinates;\n      return styles;\n    }\n  });\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(StreetViewControl, InteractionControl);\n\nvar proto = StreetViewControl.prototype;\n\nproto.setProjection = function (projection) {\n  this._projection = projection;\n};\n\nproto.setPosition = function (position) {\n  var _this2 = this;\n\n  var self = this;\n  this.active = true;\n  var pixel = void 0;\n  if (!this._sv) this._sv = new google.maps.StreetViewService();\n  this._sv.getPanorama({ location: position }, function (data, status) {\n    self._panorama = new google.maps.StreetViewPanorama(document.getElementById('streetview'), {\n      imageDateControl: true\n    });\n    /**\n     * Listen on position change\n    */\n    self._panorama.addListener('position_changed', function () {\n      if (self.isToggled()) {\n        var lnglat = ol.proj.transform([this.getPosition().lng(), this.getPosition().lat()], 'EPSG:4326', self._projection.getCode());\n        self._streetViewFeature.setGeometry(new ol.geom.Point(lnglat));\n        pixel = self._map.getPixelFromCoordinate(lnglat);\n        if (pixel[0] + 15 > self._map.getSize()[0] || pixel[1] + 15 > self._map.getSize()[1] || pixel[0] < 15 || pixel[1] < 15) {\n          self._map.getView().setCenter(lnglat);\n        }\n      }\n    });\n    if (data && data.location) {\n      self._panorama.setPov({\n        pitch: 0,\n        heading: 0\n      });\n      self._panorama.setPosition(latLng);\n    }\n  }).then(function (response) {\n    if (response === undefined) {\n      _gui2.default.closeContent();\n    }\n  }).catch(function () {\n    return _this2.toggle();\n  });\n};\n\nproto.setMap = function (map) {\n  var _this3 = this;\n\n  this._map = map;\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this.setProjection(this._map.getView().getProjection());\n  this._map.addLayer(this._layer);\n\n  this._interaction.on('picked', function (_ref) {\n    var coordinate = _ref.coordinate;\n\n    _this3.showStreetView(coordinate);\n    _this3._autountoggle && _this3.toggle();\n  });\n};\n\n/**\n * Method to show StreetView depending of key and keyError\n * @param coordinate\n */\nproto.showStreetView = function (coordinate) {\n  var _ol$proj$transform = ol.proj.transform(coordinate, this._map.getView().getProjection().getCode(), 'EPSG:4326'),\n      _ol$proj$transform2 = _slicedToArray(_ol$proj$transform, 2),\n      lng = _ol$proj$transform2[0],\n      lat = _ol$proj$transform2[1];\n\n  if (this.key) {\n    _gui2.default.setContent({\n      content: new StreetViewComponent({\n        keyError: this.keyError\n      }),\n      title: 'StreetView'\n    });\n    !this.keyError && this.setPosition({\n      lng: lng, lat: lat\n    });\n  } else {\n    this._streetViewFeature.setGeometry(new ol.geom.Point(coordinate));\n    window.open('https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=' + lat + ',' + lng);\n  }\n};\n\nproto.clearMarker = function () {\n  this._streetViewFeature.setGeometry(null);\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._streetViewFeature.setGeometry(null);\n  this.clearMarker();\n  this._panorama = null;\n  this.active && _gui2.default.closeContent();\n  this.active = false;\n};\n\nproto.toggle = function (toggle) {\n  InteractionControl.prototype.toggle.call(this, toggle);\n  if (!this.isToggled()) this.clear();else this._layer.getSource().addFeatures([this._streetViewFeature]);\n};\n\nmodule.exports = StreetViewControl;\n\n},{\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":102,\"gui/streetview/vue/streetview\":177,\"services/gui\":349,\"store/application-state\":361}],95:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TOPOFFSET = 35;\n\nmodule.exports = {\n  layout: function layout(_ref) {\n    var map = _ref.map,\n        position = _ref.position,\n        element = _ref.element;\n  },\n  changeLayoutBottomControl: function changeLayoutBottomControl(_ref2) {\n    var map = _ref2.map,\n        position = _ref2.position,\n        element = _ref2.element,\n        _ref2$isMobile = _ref2.isMobile,\n        isMobile = _ref2$isMobile === undefined ? false : _ref2$isMobile;\n\n    var viewPort = map.getViewport();\n    var positionCode = (position['top'] ? 't' : 'b') + (position['left'] ? 'l' : 'r');\n    var previusControls = $(viewPort).find('.ol-control-' + positionCode + ':visible');\n    if (previusControls.length) {\n      var previusControl = void 0;\n      previusControls.each(function (index, elem) {\n        if (elem != element[0]) previusControl = $(elem);else return false;\n      });\n      if (previusControl && positionCode === 'br') {\n        if (!isMobile) {\n          var previousTopPosition = previusControl.position().top;\n          var elementTopPosition = element.position().top;\n          if (previousTopPosition - elementTopPosition != TOPOFFSET) {\n            var hOffset = previousTopPosition - TOPOFFSET;\n            element.css('top', hOffset + 'px');\n          }\n        } else {\n          var previusControlWidth = previusControl.width();\n          var previousLeftPosition = previusControlWidth < 10 ? 130 : previusControlWidth + 20;\n          element.css('right', previousLeftPosition + 'px');\n          element.css('bottom', '15px');\n        }\n      }\n    }\n  },\n\n  // method to create user message tool fro map control\n  createControlUserMessageTool: function createControlUserMessageTool() {\n    var tool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      hooks: {\n        body: {\n          template: '<div>\\n                <div >\\n                  <input type=\"radio\" name=\"radio\" id=\"g3w-map_theme-0\" class=\"magic-radio\" value=\"view1\">\\n                  <label  for=\"g3w-map_theme-0\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>Intersect</span>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input  type=\"radio\" name=\"radio\" id=\"_cotains\" class=\"magic-radio\" value=\"view2\">\\n                  <label  for=\"g3w-map_theme-1\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>view2</span>\\n                  </label>\\n                </div>\\n              </div>'\n        }\n      },\n      title: 'Scelgli il tipo di operazione'\n    };\n\n    _gui2.default.showUserMessage({\n      type: 'tool',\n      message: tool.message,\n      size: tool.size || 'small', // small, medium\n      title: tool.title || '',\n      hooks: tool.hooks\n    });\n  }\n};\n\n},{\"services/gui\":349}],96:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ZoomBoxControl = function ZoomBoxControl(options) {\n  this._startCoordinate = null;\n  var _options = {\n    name: \"zoombox\",\n    tipLabel: \"Zoom to box\",\n    label: \"\\uE901\",\n    interactionClass: ol.interaction.DragBox\n  };\n  options = Object.assign({}, options, _options);\n  InteractionControl.call(this, options);\n};\nol.inherits(ZoomBoxControl, InteractionControl);\nmodule.exports = ZoomBoxControl;\n\nvar proto = ZoomBoxControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('boxstart', function (evt) {\n    return _this._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', function (evt) {\n    var start_coordinate = _this._startCoordinate;\n    var end_coordinate = evt.coordinate;\n    var extent = ol.extent.boundingExtent([start_coordinate, end_coordinate]);\n    _this.dispatchEvent({\n      type: 'zoomend',\n      extent: extent\n    });\n    _this._startCoordinate = null;\n    _this._autountoggle && _this.toggle();\n  });\n};\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],97:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar maphelpers = require('g3w-ol/map/maphelpers');\n\nvar helpers = utils.merge({}, maphelpers);\n\nmodule.exports = {\n  helpers: helpers\n};\n\n},{\"core/utils/ol\":66,\"g3w-ol/map/maphelpers\":106}],98:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// Area\nvar AreaIteraction = function AreaIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"Polygon\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(AreaIteraction, MeasureInteraction);\n\nmodule.exports = AreaIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":101}],99:[function(require,module,exports){\nvar DeleteInteractionEvent = function DeleteInteractionEvent(type, layer, features, coordinate) {\n  this.type = type;\n  this.features = features;\n  this.coordinate = coordinate;\n};\n\nvar DeleteInteraction = function DeleteInteraction(options) {\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: DeleteInteraction.handleDownEvent_,\n    handleMoveEvent: DeleteInteraction.handleMoveEvent_,\n    handleUpEvent: DeleteInteraction.handleUpEvent_,\n    handleEvent: DeleteInteraction.handleEvent_\n  });\n\n  this.previousCursor_ = undefined;\n  this.startCursor_ = undefined;\n  this.lastCoordinate_ = null;\n  this.features_ = options.features !== undefined ? options.features : null;\n  this.layer_ = options.layer !== undefined ? options.layer : null;\n  this.map_ = null;\n};\n\nol.inherits(DeleteInteraction, ol.interaction.Pointer);\n\nDeleteInteraction.handleEvent_ = function (mapBrowserEvent) {\n  if (mapBrowserEvent.type == 'keydown') {\n    if (this.features_.getArray().length && mapBrowserEvent.originalEvent.keyCode == 46) {\n      // an event can be string or an object with attribute type\n      this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n      return true;\n    }\n  } else {\n    return ol.interaction.Pointer.handleEvent.call(this, mapBrowserEvent);\n  }\n};\n\nDeleteInteraction.handleDownEvent_ = function (event) {\n  this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  if (this.lastFeature_) {\n    DeleteInteraction.handleMoveEvent_.call(this, event);\n    this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n    return true;\n  }\n  return false;\n};\n\nDeleteInteraction.handleMoveEvent_ = function (event) {\n  var _this = this;\n\n  this.map_ = event.map;\n  var elem = this.map_.getTargetElement();\n  if (this.startCursor_ === undefined) {\n    this.startCursor_ = elem.style.cursor;\n  }\n  var intersectingFeature = this.map_.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\n    ///check if is the same layero of editing\n    feature = layer == _this.layer_ ? feature : null;\n    return feature;\n  });\n  if (intersectingFeature) {\n    this.previousCursor_ = elem.style.cursor;\n    elem.style.cursor = 'pointer';\n  } else {\n    elem.style.cursor = this.previousCursor_ !== undefined ? this.previousCursor_ : '';\n    this.previousCursor_ = undefined;\n  }\n};\n\nDeleteInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var found = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    return feature;\n  });\n  if (this.features_ && _.includes(this.features_.getArray(), intersectingFeature)) {\n    found = intersectingFeature;\n  }\n  return found;\n};\n\nDeleteInteraction.prototype.clear = function () {\n  var elem = void 0;\n  if (this.map_) {\n    elem = this.map_.getTargetElement();\n    elem.style.cursor = this.startCursor_;\n  }\n};\n\nmodule.exports = DeleteInteraction;\n\n},{}],100:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// LenghtInteracion\nvar LengthIteraction = function LengthIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"LineString\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(LengthIteraction, MeasureInteraction);\n\nmodule.exports = LengthIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":101}],101:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    createMeasureTooltip = _require2.createMeasureTooltip,\n    setMeasureTooltipStatic = _require2.setMeasureTooltipStatic,\n    removeMeasureTooltip = _require2.removeMeasureTooltip,\n    needUseSphereMethods = _require2.needUseSphereMethods;\n\nvar MeasureIteraction = function MeasureIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._helpTooltip;\n  this._measureTooltipElement;\n  this._measureTooltip;\n  this._featureGeometryChangelistener;\n  this._poinOnMapMoveListener;\n  this.testTooltip;\n  this._helpMsg = options.help;\n  this._projection = options.projection;\n  this.feature = options.feature;\n  var drawColor = options.drawColor || 'rgba(0, 0, 0, 0.5)';\n  var useSphereMethods = needUseSphereMethods(this._projection);\n  var measureStyle = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: 'rgba(255, 255, 255, 0.2)'\n    }),\n    stroke: new ol.style.Stroke({\n      color: drawColor,\n      lineDash: [10, 10],\n      width: 3\n    }),\n    image: new ol.style.Circle({\n      radius: 5,\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.7)'\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.2)'\n      })\n    })\n  });\n  var geometryType = options.geometryType || 'LineString';\n  var source = new ol.source.Vector();\n  this._helpTooltipElement;\n  this._map = null;\n  this._feature = null;\n  this._layer = new ol.layer.Vector({\n    source: source,\n    style: function style() {\n      var styles = [\n      // linestring\n      new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          lineDash: [10, 10],\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 255, 255, 0.2)'\n        })\n      })];\n      return styles;\n    }\n  });\n\n  ol.interaction.Draw.call(this, {\n    source: source,\n    type: geometryType,\n    style: measureStyle\n  });\n  this.set('beforeRemove', this.clear);\n  this.set('layer', this._layer);\n  // register event on two action\n  this.on('drawstart', this._drawStart);\n  this.on('drawend', this._drawEnd);\n};\n\nol.inherits(MeasureIteraction, ol.interaction.Draw);\n\nvar proto = MeasureIteraction.prototype;\n\nproto.setDrawMessage = function (message) {\n  this._helpMsg = message;\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._clearMessagesAndListeners();\n  if (this._map) {\n    removeMeasureTooltip(_extends({\n      map: this._map\n    }, this.measureTooltip));\n    this.measureTooltip = null;\n    this._map.removeLayer(this._layer);\n  }\n};\n\nproto._clearMessagesAndListeners = function () {\n  this._feature = null;\n  // unset tooltip so that a new one can be created\n  if (this._map) {\n    this._measureTooltipElement = null;\n    this._helpTooltipElement.innerHTML = '';\n    this._helpTooltipElement.classList.add('hidden');\n    ol.Observable.unByKey(this._featureGeometryChangelistener);\n    ol.Observable.unByKey(this._poinOnMapMoveListener);\n    $(document).off('keydown', this._keyDownEventHandler);\n  }\n};\n\nproto._removeLastPoint = function (event) {\n  var geom = this._feature.getGeometry();\n  if (event.keyCode === 46) {\n    if (geom instanceof ol.geom.Polygon && geom.getCoordinates()[0].length > 2) {\n      this.removeLastPoint();\n    } else if (geom instanceof ol.geom.LineString && geom.getCoordinates().length > 1) {\n      this.removeLastPoint();\n    }\n  }\n};\n\n//drawStart function\nproto._drawStart = function (evt) {\n  var _this = this;\n\n  this._map = this.getMap();\n  this._map.removeLayer(this._layer);\n  this._feature = evt.feature;\n  this.feature && this._feature.setGeometry(this.feature.getGeometry());\n  this._keyDownEventHandler = this._removeLastPoint.bind(this);\n  $(document).on('keydown', this._keyDownEventHandler);\n  this._layer.getSource().clear();\n  this._poinOnMapMoveListener = this._map.on('pointermove', function (evt) {\n    if (evt.dragging) return;\n    if (_this._feature && _this._helpMsg) {\n      var helpMsg = t(_this._helpMsg);\n      _this._helpTooltipElement.innerHTML = helpMsg;\n      _this._helpTooltip.setPosition(evt.coordinate);\n      _this._helpTooltipElement.classList.remove('hidden');\n    }\n  });\n  this._createHelpTooltip();\n  this._createMeasureTooltip();\n};\n\nproto._drawEnd = function () {\n  var tooltip = this.measureTooltip.tooltip;\n\n  setMeasureTooltipStatic(tooltip);\n  this._clearMessagesAndListeners();\n  this._map.addLayer(this._layer);\n};\n\n/**\n * Creates a new help tooltip\n */\nproto._createHelpTooltip = function () {\n  this._helpTooltipElement && this._helpTooltipElement.parentNode.removeChild(this._helpTooltipElement);\n  this._helpTooltip && this._map.removeOverlay(this._helpTooltip);\n  this._helpTooltipElement = document.createElement('div');\n  this._helpTooltipElement.className = 'mtooltip hidden';\n  this._helpTooltip = new ol.Overlay({\n    element: this._helpTooltipElement,\n    offset: [15, 0],\n    positioning: 'center-left'\n  });\n  this._map.addOverlay(this._helpTooltip);\n};\n\n/**\n * Creates a new measure tooltip\n */\nproto._createMeasureTooltip = function () {\n  this.measureTooltip && removeMeasureTooltip(_extends({}, this.measureTooltip, {\n    map: this._map\n  }));\n  this.measureTooltip = createMeasureTooltip({\n    map: this._map,\n    feature: this._feature\n  });\n};\n// END MEASURE CONTROLS //\n\nmodule.exports = MeasureIteraction;\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/ol\":66}],102:[function(require,module,exports){\nvar PickCoordinatesEventType = {\n  PICKED: 'picked'\n};\n\nvar PickCoordinatesEvent = function PickCoordinatesEvent(type, coordinate) {\n  this.type = type;\n  this.coordinate = coordinate;\n};\n\nvar PickCoordinatesInteraction = function PickCoordinatesInteraction(options) {\n  this.previousCursor_ = null;\n  this._centerMap = null;\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickCoordinatesInteraction.handleDownEvent_,\n    handleUpEvent: PickCoordinatesInteraction.handleUpEvent_,\n    handleMoveEvent: PickCoordinatesInteraction.handleMoveEvent_\n  });\n};\n\nol.inherits(PickCoordinatesInteraction, ol.interaction.Pointer);\n\nPickCoordinatesInteraction.handleDownEvent_ = function (event) {\n  var _this = this;\n\n  this._centerMap = event.map.getView().getCenter();\n  // set timeout to avoid to block pan\n  setTimeout(function () {\n    if (_this._centerMap === event.map.getView().getCenter()) {\n      PickCoordinatesInteraction.handleUpEvent_.call(_this, event);\n    }\n  }, 300);\n  // return false to avoid  start of drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleUpEvent_ = function (event) {\n  this.dispatchEvent(new PickCoordinatesEvent(PickCoordinatesEventType.PICKED, event.coordinate));\n  // it used to stop drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  elem.style.cursor = 'pointer';\n  return true;\n};\n\nPickCoordinatesInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickCoordinatesInteraction.prototype.setActive = function (active) {\n  var map = this.getMap();\n  if (map) {\n    var elem = map.getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setActive.call(this, active);\n};\n\nPickCoordinatesInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickCoordinatesInteraction;\n\n},{}],103:[function(require,module,exports){\nvar PickFeatureEventType = {\n  PICKED: 'picked'\n};\n\nvar PickFeatureEvent = function PickFeatureEvent(type, coordinate, layer, feature) {\n  this.type = type;\n  this.feature = feature;\n  this.coordinate = coordinate;\n  this.layer = layer;\n};\n\nvar PickFeatureInteraction = function PickFeatureInteraction() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickFeatureInteraction.handleDownEvent_,\n    handleUpEvent: PickFeatureInteraction.handleUpEvent_,\n    handleMoveEvent: PickFeatureInteraction.handleMoveEvent_\n  });\n  var features = options.features;\n\n  this.features_ = Array.isArray(features) && features.length && features || null;\n  this.layers_ = options.layers || null;\n  this.pickedFeature_ = null;\n  this.pickedLayer_ = null;\n  this.layerFilter_ = function (layer) {\n    var include = _.includes(_this.layers_, layer);\n    _this.pickedLayer_ = include && layer;\n    return include;\n  };\n};\nol.inherits(PickFeatureInteraction, ol.interaction.Pointer);\n\nPickFeatureInteraction.handleDownEvent_ = function (event) {\n  this.pickedFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  return this.pickedFeature_;\n};\n\nPickFeatureInteraction.handleUpEvent_ = function (event) {\n  if (this.pickedFeature_) {\n    this.dispatchEvent(new PickFeatureEvent(PickFeatureEventType.PICKED, event.coordinate, this.pickedLayer_, this.pickedFeature_));\n  }\n  return true;\n};\n\nPickFeatureInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  var intersectingFeature = this.featuresAtPixel_(event.pixel, event.map);\n  elem.style.cursor = intersectingFeature ? 'pointer' : '';\n};\n\nPickFeatureInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var _this2 = this;\n\n  var featureFound = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    if (_this2.features_) {\n      if (_this2.features_.indexOf(feature) > -1) return feature;else return null;\n    }\n    return feature;\n  }, {\n    layerFilter: this.layerFilter_,\n    hitTolerance: isMobile && isMobile.any ? 10 : 0\n  });\n  if (intersectingFeature) featureFound = intersectingFeature;\n  return featureFound;\n};\n\nPickFeatureInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickFeatureInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickFeatureInteraction;\n\n},{}],104:[function(require,module,exports){\nvar RasterLayers = require('g3w-ol/layers/rasters');\nvar BaseLayers = {};\n\nBaseLayers.OSM = {};\n\nBaseLayers.OSM.get = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      title = _ref.title,\n      id = _ref.id,\n      url = _ref.url;\n\n  return new ol.layer.Tile({\n    source: new ol.source.OSM({\n      url: url\n    }),\n    id: id || 'osm',\n    title: title || 'OSM',\n    basemap: true\n  });\n};\n\nBaseLayers.TMS = {\n  get: function get() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$visible = _ref2.visible,\n        visible = _ref2$visible === undefined ? false : _ref2$visible,\n        _ref2$url = _ref2.url,\n        url = _ref2$url === undefined ? null : _ref2$url,\n        _ref2$source_type = _ref2.source_type,\n        source_type = _ref2$source_type === undefined ? \"xyz\" : _ref2$source_type,\n        minZoom = _ref2.minZoom,\n        maxZoom = _ref2.maxZoom,\n        projection = _ref2.projection,\n        attributions = _ref2.attributions;\n\n    var layer = void 0;\n    switch (source_type) {\n      case 'xyz':\n        layer = RasterLayers.XYZLayer({\n          url: url,\n          visible: visible,\n          minZoom: minZoom,\n          maxZoom: maxZoom,\n          attributions: attributions,\n          projection: projection\n        });\n        break;\n      case 'arcgismapserver':\n        layer = TiledArgisMapServer({\n          url: url,\n          visible: visible,\n          projection: projection,\n          attributions: attributions\n        });\n        break;\n      default:\n    }\n    return layer;\n  }\n};\n\nBaseLayers.WMS = {\n  get: function get(_ref3) {\n    var url = _ref3.url,\n        projection = _ref3.projection,\n        attributions = _ref3.attributions,\n        layers = _ref3.layers,\n        _ref3$singleTile = _ref3.singleTile,\n        singleTile = _ref3$singleTile === undefined ? false : _ref3$singleTile,\n        _ref3$opacity = _ref3.opacity,\n        opacity = _ref3$opacity === undefined ? 1 : _ref3$opacity;\n\n    return RasterLayers.WMSLayer({\n      url: url,\n      projection: projection,\n      attributions: attributions,\n      layers: layers,\n      tiled: singleTile,\n      opacity: opacity\n    });\n  }\n};\n\nBaseLayers.WMTS = {\n  get: function get() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        layer = _ref4.layer,\n        visible = _ref4.visible,\n        attributions = _ref4.attributions,\n        matrixSet = _ref4.matrixSet,\n        projection = _ref4.projection,\n        requestEncoding = _ref4.requestEncoding,\n        _ref4$style = _ref4.style,\n        style = _ref4$style === undefined ? 'default' : _ref4$style,\n        _ref4$format = _ref4.format,\n        format = _ref4$format === undefined ? 'image/png' : _ref4$format,\n        _ref4$opacity = _ref4.opacity,\n        opacity = _ref4$opacity === undefined ? 0.7 : _ref4$opacity;\n\n    var projectionExtent = projection.getExtent();\n    var resolutions = new Array(14);\n    var size = ol.extent.getWidth(projectionExtent) / 256;\n    var matrixIds = new Array(14);\n    for (var z = 0; z < 14; ++z) {\n      // generate resolutions and matrixIds arrays for this WMTS\n      resolutions[z] = size / Math.pow(2, z);\n      matrixIds[z] = z;\n    }\n    return new ol.layer.Tile({\n      opacity: opacity,\n      source: new ol.source.WMTS({\n        url: url,\n        projection: projection,\n        layer: layer,\n        matrixSet: matrixSet,\n        requestEncoding: requestEncoding,\n        format: format,\n        attributions: attributions,\n        tileGrid: new ol.tilegrid.WMTS({\n          origin: ol.extent.getTopLeft(projectionExtent),\n          resolutions: resolutions,\n          matrixIds: matrixIds\n        }),\n        style: style\n      })\n    });\n  }\n};\n\nBaseLayers.BING = {};\n\nBaseLayers.BING.get = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var imagerySet = config.imagerySet || 'Aerial'; // 'Road', 'AerialWithLabels', 'Aerial'\n  return new ol.layer.Tile({\n    name: imagerySet,\n    visible: false,\n    preload: Infinity,\n    source: new ol.source.BingMaps({\n      imagerySet: imagerySet,\n      key: config.key\n    }),\n    basemap: true\n  });\n};\n\nmodule.exports = BaseLayers;\n\n},{\"g3w-ol/layers/rasters\":105}],105:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar DPI = require('core/utils/ol').getDPI();\n\nvar RasterLayers = {};\n\nvar loadImageTileFunction = function loadImageTileFunction(_ref) {\n  var _ref$method = _ref.method,\n      method = _ref$method === undefined ? 'GET' : _ref$method,\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'image' : _ref$type,\n      _ref$sourceOptions = _ref.sourceOptions,\n      sourceOptions = _ref$sourceOptions === undefined ? {} : _ref$sourceOptions;\n\n  window.URL = window.URL || window.webkitURL;\n  sourceOptions[type + 'LoadFunction'] = function (imageTile, url) {\n    var xhr = new XMLHttpRequest();\n\n    var _url$split = url.split('?'),\n        _url$split2 = _slicedToArray(_url$split, 2),\n        _url = _url$split2[0],\n        params = _url$split2[1];\n\n    xhr.open(method, method === 'POST' && _url || url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n      var data = this.response;\n      if (data !== undefined) imageTile.getImage().src = window.URL.createObjectURL(data);else imageTile.setState(ol.TileState.ERROR);\n    };\n    xhr.onerror = function () {\n      image.setState(ol.TileState.ERROR);\n    };\n    xhr.send(method === 'POST' && params);\n  };\n};\n\nRasterLayers.TiledWMSLayer = function (layerObj, extraParams) {\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams || {},\n    tiled: true\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMSLayer = function (layerObj) {\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams,\n    method: method\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMTSLayer = function (layerObj, extraParams) {\n  var optionsFromCapabilities = ol.source.WMTS.optionsFromCapabilities;\n  return new ol.layer.Tile({\n    opacity: 1,\n    source: new ol.source.WMTS(options)\n  });\n};\n\nRasterLayers.ImageArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  return new ol.layer.Image({\n    source: new ol.source.ImageArcGISRest({\n      ratio: options.ratio,\n      params: {\n        FORMAT: options.format\n      },\n      url: options.url\n    })\n  });\n};\n\nRasterLayers.TiledArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var url = options.url,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      extent = options.extent,\n      projection = options.projection,\n      attributions = options.attributions;\n\n  var source = new ol.source.TileArcGISRest({\n    url: url,\n    projection: projection,\n    attributions: attributions\n  });\n  return new ol.layer.Tile({\n    extent: extent,\n    visible: visible,\n    source: source\n  });\n};\n\nRasterLayers._WMSLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var layerObj = options.layerObj,\n      _options$method = options.method,\n      method = _options$method === undefined ? 'GET' : _options$method,\n      extraParams = options.extraParams,\n      _options$tiled = options.tiled,\n      tiled = _options$tiled === undefined ? false : _options$tiled;\n  var _layerObj$iframe_inte = layerObj.iframe_internal,\n      iframe_internal = _layerObj$iframe_inte === undefined ? false : _layerObj$iframe_inte,\n      _layerObj$layers = layerObj.layers,\n      layers = _layerObj$layers === undefined ? '' : _layerObj$layers,\n      _layerObj$version = layerObj.version,\n      version = _layerObj$version === undefined ? '1.3.0' : _layerObj$version,\n      _layerObj$sld_version = layerObj.sld_version,\n      sld_version = _layerObj$sld_version === undefined ? '1.1.0' : _layerObj$sld_version,\n      id = layerObj.id,\n      name = layerObj.name,\n      _layerObj$opacity = layerObj.opacity,\n      opacity = _layerObj$opacity === undefined ? 1.0 : _layerObj$opacity,\n      visible = layerObj.visible,\n      extent = layerObj.extent,\n      maxResolution = layerObj.maxResolution;\n\n  var projection = layerObj.projection ? layerObj.projection.getCode() : null;\n  var params = {\n    LAYERS: layers,\n    VERSION: version,\n    TRANSPARENT: true,\n    SLD_VERSION: sld_version,\n    DPI: DPI\n  };\n\n  params = Object.assign({}, params, extraParams);\n  var sourceOptions = {\n    url: layerObj.url,\n    params: params,\n    ratio: 1,\n    projection: projection\n  };\n\n  if (iframe_internal || method === 'POST') loadImageTileFunction({\n    method: method,\n    type: 'image',\n    sourceOptions: sourceOptions\n  });\n\n  var imageOptions = {\n    id: id,\n    name: name,\n    opacity: opacity,\n    visible: visible,\n    extent: extent,\n    maxResolution: maxResolution\n  };\n\n  var imageClass = void 0;\n  var source = void 0;\n  if (tiled) {\n    source = new ol.source.TileWMS(sourceOptions);\n    imageClass = ol.layer.Tile;\n  } else {\n    source = new ol.source.ImageWMS(sourceOptions);\n    imageClass = ol.layer.Image;\n  }\n  imageOptions.source = source;\n  var image = new imageClass(imageOptions);\n  return image;\n};\n\nRasterLayers.XYZLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var iframe_internal = options.iframe_internal || false;\n  var url = options.url,\n      projection = options.projection,\n      maxZoom = options.maxZoom,\n      minZoom = options.minZoom,\n      _options$visible2 = options.visible,\n      visible = _options$visible2 === undefined ? true : _options$visible2;\n\n  if (!url) return;\n  var sourceOptions = {\n    url: url,\n    maxZoom: maxZoom,\n    minZoom: minZoom,\n    projection: projection\n  };\n  if (iframe_internal) loadImageTileFunction({\n    method: method,\n    type: 'tile',\n    sourceOptions: sourceOptions\n  });\n\n  if (projection.getUnits() === 'degrees') {\n    var extent = projection.getExtent();\n    var resolutions = ol.tilegrid.createXYZ({ extent: extent, maxZoom: maxZoom }).getResolutions();\n    // needed to remove the first resolutis because in this version of ol createXYZ doesn't  accept maxResolution options .\n    // The extent of EPSG:4326 is not squared [-180, -90, 180, 90] as EPSG:3857 so the resolution is calculate by Math.max(width(extent)/tileSize,Height(extent)/tileSize)\n    // we need to calculate to Math.min instead so we have to remove the first resolution\n    resolutions.splice(0, 1);\n    //////////////////////////////////////////\n    sourceOptions.tileGrid = new ol.tilegrid.TileGrid({\n      extent: extent,\n      resolutions: resolutions\n    });\n  }\n\n  var source = new ol.source.XYZ(sourceOptions);\n  return new ol.layer.Tile({\n    visible: visible,\n    projection: projection,\n    source: source\n  });\n};\n\nmodule.exports = RasterLayers;\n\n},{\"core/utils/ol\":66}],106:[function(require,module,exports){\nvar BaseLayers = require('g3w-ol/layers/bases');\nvar Projections = require('g3w-ol/projection/projections');\n\nvar MapHelpers = {\n  createViewer: function createViewer() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new _Viewer(opts);\n  }\n};\n\nvar _Viewer = function _Viewer() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var controls = ol.control.defaults({\n    attribution: false,\n    zoom: false\n  });\n\n  var interactions = ol.interaction.defaults().extend([new ol.interaction.DragRotate()]);\n  interactions.removeAt(1); // remove douclickzoom\n  var view = opts.view instanceof ol.View ? opts.view : new ol.View(opts.view);\n  var options = {\n    controls: controls,\n    interactions: interactions,\n    ol3Logo: false,\n    view: view,\n    keyboardEventTarget: document\n  };\n  if (opts.id) {\n    options.target = opts.id;\n  }\n  Projections.setApplicationProjections();\n  var map = new ol.Map(options);\n  this.map = map;\n};\n\n_Viewer.prototype.destroy = function () {\n  if (this.map) {\n    this.map.dispose();\n    this.map = null;\n  }\n};\n\n_Viewer.prototype.getView = function () {\n  return this.map.getView();\n};\n\n_Viewer.prototype.updateMap = function (mapObject) {};\n\n_Viewer.prototype.updateView = function () {};\n\n_Viewer.prototype.getMap = function () {\n  return this.map;\n};\n\n_Viewer.prototype.setTarget = function (id) {\n  this.map.setTarget(id);\n};\n\n_Viewer.prototype.zoomTo = function (coordinate, zoom) {\n  var view = this.map.getView();\n  view.setCenter(coordinate);\n  view.setZoom(zoom);\n};\n\n_Viewer.prototype.goTo = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var zoom = options.zoom || false;\n  var view = this.map.getView();\n  var panAnimation = void 0;\n  var duration = 300;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: duration,\n      center: coordinates\n    };\n    if (zoom) {\n      zoomAnimation = {\n        duration: duration,\n        zoom: zoom\n      };\n    } else {\n      zoomAnimation = {\n        duration: duration,\n        resolution: view.getResolution()\n      };\n    }\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    if (zoom) {\n      view.setZoom(zoom);\n    }\n  }\n};\n\n_Viewer.prototype.goToRes = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var view = this.map.getView();\n  var resolution = options.resolution || view.getResolution();\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: 200,\n      center: coordinates\n    };\n    zoomAnimation = {\n      duration: 200,\n      resolution: resolution\n    };\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    view.setResolution(resolution);\n  }\n};\n\n_Viewer.prototype.fit = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var view = this.map.getView();\n  var animate = options.animate || true;\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  var duration = 200;\n  if (animate) {\n    panAnimation = view.animate({\n      duration: duration,\n      center: view.getCenter()\n    });\n    zoomAnimation = view.animate({\n      duration: duration,\n      resolution: view.getResolution()\n    });\n  }\n\n  if (options.animate) {\n    delete options.animate; // non lo passo al metodo di OL3 perché è un'opzione interna\n  }\n  options.constrainResolution = options.constrainResolution === undefined && true || options.constrainResolution;\n  options.size = this.map.getSize();\n  view.fit(geometry, options);\n};\n\n_Viewer.prototype.getZoom = function () {\n  var view = this.map.getView();\n  return view.getZoom();\n};\n\n_Viewer.prototype.getResolution = function () {\n  var view = this.map.getView();\n  return view.getResolution();\n};\n\n_Viewer.prototype.getCenter = function () {\n  var view = this.map.getView();\n  return view.getCenter();\n};\n\n_Viewer.prototype.getBBOX = function () {\n  return this.map.getView().calculateExtent(this.map.getSize());\n};\n\n_Viewer.prototype.getLayerByName = function (layerName) {\n  var layers = this.map.getLayers();\n  var length = layers.getLength();\n  for (var i = 0; i < length; i++) {\n    if (layerName === layers.item(i).get('name')) {\n      return layers.item(i);\n    }\n  }\n  return null;\n};\n\n_Viewer.prototype.removeLayerByName = function (layerName) {\n  var layer = this.getLayerByName(layerName);\n  if (layer) {\n    this.map.removeLayer(layer);\n    layer = undefined;\n  }\n};\n\n_Viewer.prototype.getActiveLayers = function () {\n  var activelayers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap !== true && props.visible) {\n      activelayers.push(layer);\n    }\n  });\n\n  return activelayers;\n};\n\n_Viewer.prototype.removeLayers = function () {\n  this.map.getLayers().clear();\n};\n\n_Viewer.prototype.getLayersNoBase = function () {\n  var layers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap != true) {\n      layers.push(layer);\n    }\n  });\n\n  return layers;\n};\n\n_Viewer.prototype.addBaseLayer = function (type) {\n  var layer = void 0;\n  type ? layer = BaseLayers[type] : layer = BaseLayers.BING.Aerial;\n  this.map.addLayer(layer);\n};\n\n_Viewer.prototype.changeBaseLayer = function (layerName) {\n  var baseLayer = this.getLayerByName(layername);\n  var layers = this.map.getLayers();\n  layers.insertAt(0, baseLayer);\n};\n\nmodule.exports = MapHelpers;\n\n},{\"g3w-ol/layers/bases\":104,\"g3w-ol/projection/projections\":108}],107:[function(require,module,exports){\nvar GENERIC_GRID_EXTENT = [0, 0, 8388608, 8388608];\nvar GRID_EXTENT_3857 = ol.proj.get('EPSG:3857').getExtent();\nvar GENERIC_GRID_EXTENT_DEGREE = [-180, -90, 180, 90];\n/**\n * BACK COMPATIBILITY  < v3.5\n */\nvar CUSTOM_PROJECTIONS_EXTENT = {\n  'EPSG:3876': [18835101.07, 4367049.45, 22702879.51, 9383109.87],\n  'EPSG:32733': GRID_EXTENT_3857,\n  'EPSG:25833': [-2465144.8, 3638055.41, 2885759.28, 9493779.8]\n};\n\nvar Projection = function Projection() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!options.crs) return null;\n  var _options$crs = options.crs,\n      epsg = _options$crs.epsg,\n      proj4def = _options$crs.proj4,\n      _options$crs$geograph = _options$crs.geographic,\n      geographic = _options$crs$geograph === undefined ? false : _options$crs$geograph,\n      _options$crs$axisinve = _options$crs.axisinverted,\n      axisinverted = _options$crs$axisinve === undefined ? false : _options$crs$axisinve,\n      extent = _options$crs.extent; // new structure of information crs from server\n\n  proj4def && proj4.defs(epsg, proj4def);\n  this._axisOrientation = axisinverted ? 'neu' : 'enu';\n  var degrees = geographic;\n  ol.proj.Projection.call(this, {\n    code: epsg,\n    //FOR NOW FORCE TO GET EXTENT\n    extent: false ? extent : degrees ? GENERIC_GRID_EXTENT_DEGREE : CUSTOM_PROJECTIONS_EXTENT[epsg] || GENERIC_GRID_EXTENT,\n    axisOrientation: this._axisOrientation,\n    units: degrees ? 'degrees' : 'm'\n  });\n};\n\nol.inherits(Projection, ol.proj.Projection);\n\nvar proto = Projection.prototype;\n\nproto.getAxisOrientation = function () {\n  return this._axisOrientation;\n};\n\nproto.isInvertedAxisOrientation = function () {\n  return this._axisOrientation === 'neu';\n};\n\nproto.getOlProjection = function () {};\n\nmodule.exports = Projection;\n\n},{}],108:[function(require,module,exports){\nvar Projection = require('g3w-ol/projection/projection');\nvar ADDEDPROJECTIONS = ['EPSG:4326', 'EPSG:3857'];\n\nvar Projections = {\n  get: function get() {\n    var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var cachedProjection = ADDEDPROJECTIONS.indexOf(crs.epsg) !== -1 ? ol.proj.get(crs.epsg) : null;\n    if (cachedProjection) return cachedProjection;\n    var projection = new Projection({\n      crs: crs\n    });\n    ol.proj.addProjection(projection);\n    ADDEDPROJECTIONS.push(crs.epsg);\n    return projection;\n  },\n\n  /**\n   * extent get from https://epsg.io/\n   */\n  setApplicationProjections: function setApplicationProjections() {\n    this.get({\n      epsg: \"EPSG:3003\",\n      proj4: \"+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [1290650.93, 4190305.78, 2343702.24, 5261004.57]\n    });\n\n    this.get({\n      epsg: \"EPSG:3004\",\n      proj4: \"+proj=tmerc +lat_0=0 +lon_0=15 +k=0.9996 +x_0=2520000 +y_0=0 +ellps=intl +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [1782205.39, 4190307.02, 2834974.5, 5250474.42]\n    });\n\n    this.get({\n      epsg: \"EPSG:3045\",\n      proj4: \"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n      axisinverted: true,\n      geographic: false,\n      extent: [-2465144.8, 3638055.41, 2885759.28, 9493779.8]\n    });\n\n    this.get({\n      epsg: \"EPSG:6708\",\n      proj4: \"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n      axisinverted: true,\n      geographic: false,\n      extent: [-331278.39, 3846440.97, 865258.04, 5256332.65]\n    });\n\n    this.get({\n      epsg: \"EPSG:32632\",\n      proj4: \"+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [166021.44, 0.0, 833978.56, 9329005.18]\n    });\n\n    this.get({\n      epsg: \"EPSG:32633\",\n      proj4: \"+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [166021.44, 0.0, 833978.56, 9329005.18]\n    });\n\n    this.get({\n      epsg: \"EPSG:32634\",\n      proj4: \"+proj=utm +zone=34 +datum=WGS84 +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [166021.44, 0.0, 833978.56, 9329005.18]\n    });\n\n    this.get({\n      epsg: \"EPSG:25833\",\n      proj4: \"+proj=utm +zone=33 +ellps=GRS80 +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [-2465144.8, 3638055.41, 2885759.28, 9493779.8]\n    });\n\n    this.get({\n      epsg: \"EPSG:23032\",\n      proj4: \"+proj=utm +zone=32 +ellps=intl +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [-1206117.77, 3859932.9, 2582411.08, 8051813.3]\n    });\n\n    this.get({\n      epsg: \"EPSG:23033\",\n      proj4: \"+proj=utm +zone=33 +ellps=intl +units=m +no_defs\",\n      axisinverted: false,\n      geographic: false,\n      extent: [-1767202.11, 3859945.89, 2023400.16, 8079073.01]\n    });\n    //REGISTER AT THE END THE CUSTOM PROJECTIONS\n    ol.proj.proj4.register(proj4);\n  }\n};\n\nmodule.exports = Projections;\n\n},{\"g3w-ol/projection/projection\":107}],109:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction CatalogService() {\n  var _this = this;\n\n  this.state = {\n    prstate: _projects2.default.state,\n    highlightlayers: false,\n    external: {\n      wms: [], // added by wms cside bar component\n      vector: [] // added to map controls for the moment\n    },\n    layerstrees: [],\n    layersgroups: []\n  };\n  this.setters = {};\n  base(this);\n  var layersStores = _catalogLayers2.default.getLayersStores();\n\n  layersStores.forEach(function (layersStore) {\n    return _this.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('addLayersStore', function (layersStore) {\n    _this.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('removeLayersStore', function (layersStore) {\n    _this.state.layerstrees.find(function (layersTree, idx) {\n      if (layersTree.storeid === layersStore.getId()) {\n        _this.state.layerstrees.splice(idx, 1);\n        return true;\n      }\n    });\n  });\n  _catalogLayers2.default.onafter('removeLayersStores', function () {\n    _this.state.layerstrees.forEach(function (layersTree, idx) {\n      _this.state.layerstrees.splice(idx, 1);\n    });\n  });\n}\n\ninherit(CatalogService, G3WObject);\n\nvar proto = CatalogService.prototype;\n\nproto.createLayersGroup = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? 'Layers Group' : _ref$title,\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === undefined ? [] : _ref$layers;\n\n  var nodes = [];\n  layers.forEach(function (layer) {\n    return nodes.push(layer);\n  });\n  return {\n    title: title,\n    nodes: nodes\n  };\n};\n\nproto.getMajorQgisVersion = function () {\n  return _projects2.default.getCurrentProject().getQgisVersion({\n    type: 'major'\n  });\n};\n\n// method to add a custom layers group\nproto.addLayersGroup = function (layersGroup) {\n  this.state.layersgroups.push(layersGroup);\n};\n\nproto.addExternalLayer = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref2.layer,\n      _ref2$type = _ref2.type,\n      type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n  layer.removable = true;\n  this.state.external[type].push(layer);\n};\n\nproto.removeExternalLayer = function () {\n  var _this2 = this;\n\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      name = _ref3.name,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'vector' : _ref3$type;\n\n  this.state.external[type].find(function (layer, index) {\n    if (layer.name === name) {\n      _this2.state.external[type].splice(index, 1);\n      return true;\n    }\n  });\n};\n\nproto.addLayersStoreToLayersTrees = function (layersStore) {\n  this.state.layerstrees.push({\n    tree: layersStore.getLayersTree(),\n    storeid: layersStore.getId()\n  });\n};\n\nproto.changeMapTheme = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(map_theme) {\n    var currentProject, rootNode, layerstree, changeMapThemeProjectObj;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // set is changing project view\n            _application2.default.changeProjectView(true);\n            currentProject = this.state.prstate.currentProject;\n            rootNode = this.state.layerstrees[0];\n\n            rootNode.checked = true;\n            layerstree = rootNode.tree[0].nodes;\n            _context.next = 7;\n            return currentProject.setLayersTreePropertiesFromMapTheme({\n              map_theme: map_theme,\n              layerstree: layerstree,\n              rootNode: rootNode\n            });\n\n          case 7:\n            changeMapThemeProjectObj = _context.sent;\n\n            _application2.default.changeProjectView(false);\n            return _context.abrupt('return', changeMapThemeProjectObj);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nmodule.exports = CatalogService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":339,\"store/catalog-layers\":362,\"store/projects\":367}],110:[function(require,module,exports){\nvar _Catalog = require('components/Catalog.vue');\n\nvar catalogComponentOptions = _interopRequireWildcard(_Catalog);\n\nvar _CatalogLayersGroup = require('components/CatalogLayersGroup.vue');\n\nvar catalogLayersGroupComponentOptions = _interopRequireWildcard(_CatalogLayersGroup);\n\nvar _CatalogTristateTree = require('components/CatalogTristateTree.vue');\n\nvar catalogTristateTreeComponentOptions = _interopRequireWildcard(_CatalogTristateTree);\n\nvar _CatalogLayersLegend = require('components/CatalogLayersLegend.vue');\n\nvar catalogLayersLegendComponentOptions = _interopRequireWildcard(_CatalogLayersLegend);\n\nvar _CatalogLayersLegendItems = require('components/CatalogLayersLegendItems.vue');\n\nvar catalogLayersLegendItemsComponentOptions = _interopRequireWildcard(_CatalogLayersLegendItems);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/catalog/catalogservice');\n\nvar InternalComponent = Vue.extend(catalogComponentOptions);\n\nVue.component('g3w-catalog', catalogComponentOptions);\nVue.component('layers-group', catalogLayersGroupComponentOptions);\nVue.component('tristate-tree', catalogTristateTreeComponentOptions);\nVue.component('layerslegend', catalogLayersLegendComponentOptions);\nVue.component('layerslegend-items', catalogLayersLegendItemsComponentOptions);\n\nfunction CatalogComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.resizable = true;\n  base(this, options);\n  var legend = options.config.legend;\n\n  this.title = \"catalog\";\n  this.mapComponentId = options.mapcomponentid;\n  var service = options.service || new Service();\n  this.setService(service);\n  this.setInternalComponent(new InternalComponent({\n    service: service,\n    legend: legend\n  }));\n  this.internalComponent.state = this.getService().state;\n  var listenToMapVisibility = function listenToMapVisibility(map) {\n    var mapService = map.getService();\n    _this.state.visible = !mapService.state.hidden;\n    mapService.onafter('setHidden', function (hidden) {\n      _this.state.visible = !mapService.state.hidden;\n      _this.state.expanded = true;\n    });\n  };\n  if (this.mapComponentId) {\n    var map = _gui2.default.getComponent(this.mapComponentId);\n    !map && _components2.default.on('componentregistered', function (component) {\n      return component.getId() === _this.mapComponentId && listenToMapVisibility(component);\n    }) || listenToMapVisibility(map);\n  }\n}\n\ninherit(CatalogComponent, Component);\n\nmodule.exports = CatalogComponent;\n\n},{\"components/Catalog.vue\":193,\"components/CatalogLayersGroup.vue\":197,\"components/CatalogLayersLegend.vue\":198,\"components/CatalogLayersLegendItems.vue\":199,\"components/CatalogTristateTree.vue\":200,\"core/utils/utils\":68,\"gui/catalog/catalogservice\":109,\"gui/component/component\":113,\"services/gui\":349,\"store/components\":363}],111:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar CatalogEventHub = new Vue();\n\nexports.default = CatalogEventHub;\n\n},{}],112:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Chartsfactory = {\n  CHARTS: {\n    c3: {\n      lineXY: _C3XYLine2.default\n    }\n  },\n  /*\n  * type: <library(es:c3)>:<chartType:(es.lineXY)>\n  * */\n  build: function build() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref.type,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    var _type$split = type.split(':'),\n        _type$split2 = _slicedToArray(_type$split, 2),\n        _type$split2$ = _type$split2[0],\n        library = _type$split2$ === undefined ? 'c3' : _type$split2$,\n        _type$split2$2 = _type$split2[1],\n        chartType = _type$split2$2 === undefined ? 'lineXY' : _type$split2$2;\n\n    var chartVue = this.CHARTS[library][chartType];\n    return Object.assign(hooks, chartVue);\n  }\n};\n\nmodule.exports = Chartsfactory;\n\n},{\"components/C3XYLine.vue\":192}],113:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge,\n    noop = _require.noop,\n    capitalize_first_letter = _require.capitalize_first_letter,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar VUECOMPONENTSATTRIBUTES = ['methods', 'computed', 'data', 'components'];\n\n// class component\nvar Component = function Component() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._firstLayout = true;\n  // internal VUE component\n  this.internalComponent = null;\n  this._components = [];\n  var _options$id = options.id,\n      id = _options$id === undefined ? Math.random() * 1000 : _options$id,\n      _options$title = options.title,\n      title = _options$title === undefined ? '' : _options$title,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$open = options.open,\n      open = _options$open === undefined ? false : _options$open,\n      _options$resizable = options.resizable,\n      resizable = _options$resizable === undefined ? false : _options$resizable,\n      _options$info = options.info,\n      info = _options$info === undefined ? null : _options$info,\n      _options$loading = options.loading,\n      loading = _options$loading === undefined ? false : _options$loading,\n      _options$disabled = options.disabled,\n      disabled = _options$disabled === undefined ? false : _options$disabled,\n      _options$closewhensho = options.closewhenshowviewportcontent,\n      closewhenshowviewportcontent = _options$closewhensho === undefined ? true : _options$closewhensho;\n\n  this.id = id;\n  this.title = title;\n  this.state = {\n    visible: visible, // visibile\n    open: open, // open,\n    resizable: resizable,\n    info: info,\n    loading: loading,\n    disabled: disabled,\n    closewhenshowviewportcontent: closewhenshowviewportcontent,\n    sizes: {\n      width: 0,\n      height: 0\n    }\n  };\n  //setters\n  this.setters = {\n    setOpen: function setOpen(bool) {\n      this.state.open = bool;\n      this._setOpen(bool);\n    },\n    setVisible: function setVisible(bool) {\n      this.state.visible = bool;\n      this._setVisible(bool);\n    },\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.loading = bool;\n    },\n    setDisabled: function setDisabled() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.disabled = bool;\n    },\n    reload: function reload() {\n      this._reload();\n    }\n  };\n  merge(this, options);\n  base(this);\n  // add events options\n  this.events = options.events;\n  this.events && this.handleEventsComponent();\n};\n\ninherit(Component, G3WObject);\n\nvar proto = Component.prototype;\n\nproto.init = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.vueComponent = this.createVueComponent(options.vueComponentObject);\n  this._components = options.components || [];\n  var service = options.service || noop;\n  var template = options.template,\n      propsData = options.propsData;\n\n  this.setService(service);\n  this._service.init ? this._service.init(options) : null;\n  template && this.setInternalComponentTemplate(template);\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: this._service,\n      template: template,\n      propsData: propsData\n    });\n    this.internalComponent.state = this.getService().state;\n  };\n  this.setInternalComponent();\n};\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.setId = function (id) {\n  this.id = id;\n};\n\nproto.getOpen = function () {\n  return this.state.open;\n};\n\nproto.closeWhenViewportContentIsOpen = function () {\n  return this.getOpen() && this.state.closewhenshowviewportcontent;\n};\n\nproto.getVisible = function () {\n  return this.state.visible;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  this.state.title = title;\n};\n\nproto.getService = function () {\n  return this._service;\n};\n\nproto.setService = function (service) {\n  this._service = service;\n};\n\nproto.handleEventsComponent = function () {\n  var _events = this.events,\n      open = _events.open,\n      visible = _events.visible;\n\n  if (open) {\n    var _open$when = open.when,\n        when = _open$when === undefined ? \"after\" : _open$when,\n        _open$cb = open.cb,\n        cb = _open$cb === undefined ? function () {} : _open$cb,\n        _open$guiEvents = open.guiEvents,\n        guiEvents = _open$guiEvents === undefined ? [] : _open$guiEvents;\n\n    this['on' + when]('setOpen', function (bool) {\n      return cb(bool);\n    });\n  }\n};\n\nproto.insertComponentAt = function (index, Component) {\n  this._components.splice(index, 0, Component);\n};\n\nproto.removeCompomentAt = function (index) {\n  this._components.splice(index, 1);\n};\n\nproto.addComponent = function (Component) {\n  this._components.push(Component);\n};\n\nproto.popComponent = function () {\n  return this._components.pop();\n};\n\nproto.removeComponent = function (Component) {\n  var _this = this;\n\n  this._components.forEach(function (component, index) {\n    if (component === Component) {\n      _this.splice(index, 1);\n      return false;\n    }\n  });\n};\n\nproto.setComponents = function (components) {\n  this._components = Array.isArray(components) ? components : [];\n};\n\nproto.exendComponents = function (components) {\n  _.merge(this._components, components);\n};\n\nproto.getInternalComponent = function () {\n  return this.internalComponent;\n};\n\nproto.setInternalComponent = function (internalComponent) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!internalComponent && this.internalComponentClass) this.internalComponent = new this.internalComponentClass();else this.internalComponent = internalComponent;\n  var _options$events = options.events,\n      events = _options$events === undefined ? [] : _options$events;\n\n  events.forEach(function (event) {\n    var name = event.name,\n        handler = event.handler;\n\n    _this2.internalComponent.$on(name, function (data) {\n      return handler && handler(data) || _this2['set' + capitalize_first_letter(name)](data);\n    });\n  });\n};\n\nproto.createVueComponent = function (vueObjOptions) {\n  return _.cloneDeep(vueObjOptions);\n};\n\nproto.addInternalComponentData = function (data) {\n  _.merge(this.internalComponent, data);\n};\n\nproto.overwriteServiceMethod = function (methodName, method) {\n  this._service[methodName] = method;\n};\n\nproto.overwriteServiceMethods = function (methodsOptions) {\n  var _this3 = this;\n\n  Object.entries(methodsOptions).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        methodName = _ref2[0],\n        method = _ref2[1];\n\n    return _this3.overwriteServiceMethod(methodName, method);\n  });\n};\n\nproto.extendService = function (serviceOptions) {\n  this._service && merge(this._service, serviceOptions);\n};\n\nproto.extendInternalComponent = function (internalComponentOptions) {\n  var _this4 = this;\n\n  if (this.vueComponent) {\n    Object.entries(internalComponentOptions).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (VUECOMPONENTSATTRIBUTES.indexOf(key) > -1) {\n        switch (key) {\n          case 'methods':\n            _this4.extendInternalComponentMethods(value);\n            break;\n          case 'components':\n            _this4.extendInternalComponentComponents(value);\n            break;\n          default:\n            merge(_this4.vueComponent[key], value);\n        }\n      }\n    });\n  } else this.vueComponent = internalComponentOptions;\n};\n\nproto.extendInternalComponentComponents = function (components) {\n  components && merge(this.vueComponent.components, components);\n};\n\nproto.extendComponents = function (components) {\n  this.extendInternalComponentComponents(components);\n};\n\nproto.addComponent = function (component) {\n  if (component) this.vueComponent.components[component.key] = component.value;\n};\n\nproto.extendInternalComponentMethods = function (methods) {\n  if (methods) {\n    Object.entries(methods).forEach.forEach(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          value = _ref6[1];\n\n      return !(value instanceof Function) && delete methods[key];\n    });\n    merge(this.vueComponent.methods, methods);\n  }\n};\n\nproto.extendInternalComponentComputed = function (computed) {\n  if (computed) {\n    Object.entries(computed).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          value = _ref8[1];\n\n      return !(value instanceof Function) && delete computed[key];\n    });\n    merge(this.vueComponent.computed, computed);\n  }\n};\n\nproto.setInternalComponentTemplate = function (template) {\n  if (template) this.vueComponent.template = template;\n};\n\nproto.getInternalTemplate = function () {\n  return this.vueComponent.template;\n};\n\nproto.destroy = function () {};\n\nproto.click = function () {};\n\n// hook function to show componet\nproto.show = function () {};\n\nproto._setOpen = function (bool) {};\n\nproto._setVisible = function () {};\n\nproto._reload = function () {};\n\nproto.mount = function (parent, append) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  if (!this.internalComponent) this.setInternalComponent();\n  if (append) {\n    var iCinstance = this.internalComponent.$mount();\n    $(parent).append(iCinstance.$el);\n  } else this.internalComponent.$mount(parent);\n  this.internalComponent.$nextTick(function () {\n    $(parent).localize();\n    _this5.emit('ready');\n    d.resolve(true);\n  });\n  // emit mount event\n  this.emit('mount');\n  return d.promise();\n};\n\nproto.unmount = function () {\n  if (!this.internalComponent) return resolve();\n  if (this.state.resizable) this.internalComponent.$off('resize-component', this.internalComponent.layout);\n  this.state.open = false;\n  // destroy vue component\n  this.internalComponent.$destroy(true);\n  // remove dom element\n  $(this.internalComponent.$el).remove();\n  // set internal componet to null (for GC)\n  this.internalComponent = null;\n  // emit unmount event\n  this.emit('unmount');\n  return resolve();\n};\n\nproto.ismount = function () {\n  return this.internalComponent && this.internalComponent.$el;\n};\n\nproto.layout = function (width, height) {\n  var _this6 = this;\n\n  if (this.state.resizable && this._firstLayout) {\n    this.internalComponent.$on('resize-component', this.internalComponent.layout);\n    this._firstLayout = false;\n  }\n  this.internalComponent.$nextTick(function () {\n    _this6.internalComponent.$emit('resize-component', {\n      width: width,\n      height: height\n    });\n  });\n  // emit layout event\n  this.emit('layout');\n};\n\nmodule.exports = Component;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],114:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Component = require('gui/component/component');\n\nvar ComponentsFactory = {\n  // build a componet\n  build: function build(_ref) {\n    var vueComponentObject = _ref.vueComponentObject,\n        service = _ref.service,\n        propsData = _ref.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var component = new Component(options);\n    component.init({\n      vueComponentObject: vueComponentObject,\n      service: service,\n      propsData: propsData\n    });\n    return component;\n  },\n\n  //buildSidebarComponent and add to sidebar\n  buildSidebar: function buildSidebar(_ref2) {\n    var vueComponentObject = _ref2.vueComponentObject,\n        service = _ref2.service,\n        propsData = _ref2.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = options.id,\n        title = options.title,\n        _options$open = options.open,\n        open = _options$open === undefined ? false : _options$open,\n        _options$collapsible = options.collapsible,\n        collapsible = _options$collapsible === undefined ? true : _options$collapsible,\n        _options$isolate = options.isolate,\n        isolate = _options$isolate === undefined ? false : _options$isolate,\n        _options$mobile = options.mobile,\n        mobile = _options$mobile === undefined ? true : _options$mobile,\n        _options$iconConfig = options.iconConfig,\n        iconConfig = _options$iconConfig === undefined ? {} : _options$iconConfig,\n        _options$events = options.events,\n        events = _options$events === undefined ? {} : _options$events,\n        _options$sidebarOptio = options.sidebarOptions,\n        sidebarOptions = _options$sidebarOptio === undefined ? { position: 1 } : _options$sidebarOptio;\n\n\n    var component = this.build({ vueComponentObject: vueComponentObject }, {\n      id: id,\n      title: title,\n      open: open,\n      collapsible: collapsible,\n      isolate: isolate,\n      iconColor: iconConfig.color && iconConfig.color,\n      icon: iconConfig.icon && _gui2.default.getFontClass(iconConfig.icon),\n      mobile: mobile,\n      events: events\n    });\n\n    _gui2.default.addComponent(component, 'sidebar', sidebarOptions);\n    return component;\n  }\n};\n\nmodule.exports = ComponentsFactory;\n\n},{\"gui/component/component\":113,\"services/gui\":349}],115:[function(require,module,exports){\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nmodule.exports = {\n  matcher: function matcher(params, data) {\n    var searchItem = params.term ? params.term.toLowerCase() : params.term;\n    // If there are no search terms, return all of the data\n    if ($.trim(searchItem) === '') return data;\n    // Do not display the item if there is no 'text' property\n    if (typeof data.text === 'undefined') return null;\n    // `params.term` should be the term that is used for searching\n    // `data.text` is the text that is displayed for the data object\n    if (data.text.toLowerCase().indexOf(searchItem) > -1) {\n      var modifiedData = $.extend({}, data, true);\n      // You can return modified objects from here\n      // This includes matching the `children` how you want in nested data sets\n      return modifiedData;\n    }\n    // Return `null` if the term should not be displayed\n    return null;\n  },\n  language: {\n    noResults: function noResults() {\n      return t(\"sdk.search.no_results\");\n    },\n    errorLoading: function errorLoading() {\n      return t(\"sdk.search.error_loading\");\n    },\n    searching: function searching() {\n      return t(\"sdk.search.searching\");\n    },\n    inputTooShort: function inputTooShort(args) {\n      var remainingChars = args.minimum - args.input.length;\n      return t(\"sdk.search.autocomplete.inputshort.pre\") + ' ' + remainingChars + ' ' + t(\"sdk.search.autocomplete.inputshort.post\");\n    }\n  }\n};\n\n},{\"core/i18n/i18n.service\":14}],116:[function(require,module,exports){\nvar _FieldText = require('components/FieldText.vue');\n\nvar _FieldText2 = _interopRequireDefault(_FieldText);\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldImage = require('components/FieldImage.vue');\n\nvar _FieldImage2 = _interopRequireDefault(_FieldImage);\n\nvar _FieldGeo = require('components/FieldGeo.vue');\n\nvar _FieldGeo2 = _interopRequireDefault(_FieldGeo);\n\nvar _FieldMedia = require('components/FieldMedia.vue');\n\nvar _FieldMedia2 = _interopRequireDefault(_FieldMedia);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = {\n  simple_field: _FieldText2.default,\n  text_field: _FieldText2.default,\n  link_field: _FieldLink2.default,\n  image_field: _FieldImage2.default,\n  geo_field: _FieldGeo2.default,\n  photo_field: _FieldImage2.default,\n  media_field: _FieldMedia2.default,\n  vue_field: _FieldVue2.default\n};\n\nmodule.exports = Fields;\n\n},{\"components/FieldGeo.vue\":203,\"components/FieldImage.vue\":204,\"components/FieldLink.vue\":205,\"components/FieldMedia.vue\":206,\"components/FieldText.vue\":207,\"components/FieldVue.vue\":208}],117:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('./fields');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar URLPattern = /^(https?:\\/\\/[^\\s]+)/g;\nvar PhotoPattern = /[^\\s]+.(png|jpg|jpeg|gif)$/g;\n\nvar FieldType = {\n  SIMPLE: 'simple',\n  GEO: 'geo',\n  LINK: 'link',\n  PHOTO: 'photo',\n  PHOTOLINK: \"photolink\",\n  IMAGE: 'image',\n  POINTLINK: 'pointlink',\n  ROUTE: 'route',\n  VUE: 'vue'\n};\n\nmodule.exports = {\n  /**\n   * Get Type field from field value\n   * field : Object contain the value of the field\n   * @param field\n   * @returns {string}\n   */\n  getType: function getType(field) {\n    var type = field.type;\n    if (type !== 'vue') {\n      var fieldValue = field.value;\n      var value = fieldValue && toRawType(fieldValue) === 'Object' && !fieldValue.coordinates && !fieldValue.vue ? fieldValue.value : fieldValue;\n      if (!value) type = FieldType.SIMPLE;else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\n        if (value.coordinates) type = FieldType.GEO;else if (value.vue) type = FieldType.VUE;\n      } else if (value && Array.isArray(value)) {\n        if (value.length && value[0].photo) type = FieldType.PHOTO;else type = FieldType.SIMPLE;\n      } else if (value.toString().toLowerCase().match(PhotoPattern)) {\n        type = FieldType.PHOTO;\n      } else if (value.toString().match(URLPattern)) {\n        type = FieldType.LINK;\n      } else type = FieldType.SIMPLE;\n    }\n    return type + '_field';\n  },\n  isSimple: function isSimple(field) {\n    return this.getType(field) === FieldType.SIMPLE + '_field';\n  },\n  isLink: function isLink(field) {\n    return this.getType(field) === FieldType.LINK + '_field';\n  },\n  isImage: function isImage(field) {\n    return this.getType(field) === FieldType.IMAGE + '_field';\n  },\n  isPhoto: function isPhoto(field) {\n    return this.getType(field) === FieldType.PHOTO + '_field';\n  },\n  isVue: function isVue(field) {\n    return this.getType(field) === FieldType.VUE + '_field';\n  },\n\n  /**\n   * Method to add a new field type to Fields\n   * @param type\n   * @param field\n   */\n  add: function add(_ref) {\n    var type = _ref.type,\n        field = _ref.field;\n\n    Fields[type] = field;\n  },\n\n  /**\n   * Remove field from Fields list\n   * @param type\n   */\n  remove: function remove(type) {\n    delete Fields[type];\n  },\n\n  /**\n   * chenge type of field (example to set vue type)\n   * @param layerId\n   * @param field\n   */\n  changeConfigFieldType: function changeConfigFieldType(_ref2) {\n    var layerId = _ref2.layerId,\n        _ref2$field = _ref2.field,\n        field = _ref2$field === undefined ? {} : _ref2$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.changeConfigFieldType(field);\n  },\n\n  /**\n   * Reset origin type\n   * @param layerId\n   * @param field\n   */\n  resetConfigFieldType: function resetConfigFieldType(_ref3) {\n    var layerId = _ref3.layerId,\n        _ref3$field = _ref3.field,\n        field = _ref3$field === undefined ? {} : _ref3$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.resetConfigField(field);\n  }\n};\n\n},{\"./fields\":116,\"core/utils/utils\":68,\"store/catalog-layers\":362}],118:[function(require,module,exports){\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction FormService() {\n  var _this = this;\n\n  this.state = null;\n  this.eventBus = new Vue();\n  /**\n   * property used to force some state property to force to be a certain value.\n   * It set fro example by child form service to form service parent\n   * @type {{valid: boolean, update: boolean}}\n   */\n  this.force = {\n    update: false,\n    valid: false // NOT USED FOR THE MOMENT\n  };\n  this.layer;\n  this.setters = {\n    setInitForm: function setInitForm() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setInitForm(options);\n    },\n    setFormStructure: function setFormStructure(formStructure) {\n      this.state.formstructure = formStructure;\n    },\n\n    // setter change fields\n    setFormFields: function setFormFields() {\n      var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.fields = fields;\n      this.handleFieldsWithExpression(fields);\n    },\n    setupFields: function setupFields() {\n      this._setupFields();\n    },\n\n    // setter insert data into form\n    setFormData: function setFormData(fields) {\n      this.setFormFields(fields);\n    },\n\n    // setter single field\n    setField: function setField(field) {},\n\n    // settere state\n    setState: function setState(state) {\n      this._setState(state);\n    },\n\n    // setter add action\n    addActionsForForm: function addActionsForForm(actions) {},\n    postRender: function postRender(element) {\n      // hook for listener to chenge DOM\n    }\n  };\n  base(this);\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._setInitForm(options);\n  };\n  // init form options passed for example by editor\n  this._setInitForm = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fields = options.fields,\n        feature = options.feature,\n        parentData = options.parentData,\n        layer = options.layer,\n        _options$title = options.title,\n        title = _options$title === undefined ? 'Form' : _options$title,\n        formId = options.formId,\n        name = options.name,\n        _options$buttons = options.buttons,\n        buttons = _options$buttons === undefined ? {} : _options$buttons,\n        context_inputs = options.context_inputs,\n        isnew = options.isnew,\n        _options$footer = options.footer,\n        footer = _options$footer === undefined ? {} : _options$footer,\n        headerComponent = options.headerComponent;\n\n    this.layer = layer;\n    // need to be cloned\n    this.feature = feature.clone();\n    this.title = title;\n    this.formId = formId;\n    this.name = name;\n    this.buttons = buttons;\n    this.context_inputs = context_inputs;\n    this.parentData = parentData;\n    this.headerComponent = headerComponent;\n    // Property used to set forced update state of the service\n    //Used fro example from child form to set update also parent service\n    this.state = {\n      layerid: layer.getId(),\n      loading: false,\n      components: [],\n      disabledcomponents: [],\n      component: null,\n      headers: [],\n      currentheaderid: null,\n      fields: null,\n      buttons: this.buttons,\n      disabled: false,\n      isnew: isnew,\n      valid: true, // global form validation state. True at beginning\n      update: feature.isNew(), // set update in case or not is a new feature\n      // when input change will be update\n      tovalidate: {},\n      feature: feature,\n      componentstovalidate: {},\n      footer: footer,\n      ready: false\n    };\n    this.force.update = feature.isNew();\n    this.filter_expression_fields_dependencies = {}; // expression fields dependencies from filter_expression\n    this.default_expression_fields_dependencies = {};\n    this.setFormFields(fields);\n    if (this.layer && options.formStructure) {\n      var formstructure = this.layer.getLayerEditingFormStructure(fields);\n      this.setFormStructure(formstructure);\n    }\n  };\n  this.eventBus.$on('set-loading-form', function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return _this.state.loading = bool;\n  });\n}\n\ninherit(FormService, G3WObject);\n\nvar proto = FormService.prototype;\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.ready = bool;\n};\n\n/**\n * Method called when an input change value\n * @param input\n */\nproto.changeInput = function (input) {\n  this.evaluateFilterExpressionFields(input);\n  this.evaluateDefaultExpressionFields(input);\n  this.isValid(input);\n  this.isUpdated(input);\n};\n\n/**\n * Method to check if form is updated base on change on input\n * @param input\n */\nproto.isUpdated = function (input) {\n  this.state.update = this.force.update || (!this.state.update ? input.update : !!this.state.fields.find(function (field) {\n    return field.update;\n  }));\n};\n\n/**\n *\n */\nproto.setUpdate = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$force = options.force,\n      force = _options$force === undefined ? false : _options$force;\n\n  this.force.update = force;\n  this.state.update = this.force.update || bool;\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateDefaultExpressionFields = function () {\n  var _this2 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var default_expression_fields_dependencies = this.default_expression_fields_dependencies[input.name];\n  if (default_expression_fields_dependencies) {\n    this.feature.set(input.name, input.value);\n    default_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this2._getField(expression_dependency_field);\n      var qgs_layer_id = _this2.layer.getId();\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        parentData: _this2.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this2.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateFilterExpressionFields = function () {\n  var _this3 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filter_expression_fields_dependencies = this.filter_expression_fields_dependencies[input.name];\n  if (filter_expression_fields_dependencies) {\n    //need in case of init form service where filter_expression option has\n    //referencing_fields or referenced_columns from another layer\n    var fieldForm = this._getField(input.name);\n    fieldForm && this.feature.set(fieldForm.name, fieldForm.value);\n    filter_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this3._getField(expression_dependency_field);\n      var qgs_layer_id = _this3.layer.getId();\n      _inputservice2.default.handleFilterExpressionFormInput({\n        parentData: _this3.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this3.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to handle expression on\n * @param fields\n */\nproto.handleFieldsWithExpression = function () {\n  var _this4 = this;\n\n  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fields.forEach(function (field) {\n    var _field$input$options = field.input.options,\n        options = _field$input$options === undefined ? {} : _field$input$options;\n    /**\n     * Case of a field that has a filter_expression value object\n     */\n\n    if (options.filter_expression) {\n      var filter_expression_dependency_fields = new Set();\n      var _options$filter_expre = options.filter_expression,\n          _options$filter_expre2 = _options$filter_expre.referencing_fields,\n          referencing_fields = _options$filter_expre2 === undefined ? [] : _options$filter_expre2,\n          _options$filter_expre3 = _options$filter_expre.referenced_columns,\n          referenced_columns = _options$filter_expre3 === undefined ? [] : _options$filter_expre3;\n\n      [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n        return filter_expression_dependency_fields.add(dependency_field);\n      });\n      filter_expression_dependency_fields.forEach(function (dependency_field) {\n        if (_this4.filter_expression_fields_dependencies[dependency_field] === undefined) _this4.filter_expression_fields_dependencies[dependency_field] = [];\n        _this4.filter_expression_fields_dependencies[dependency_field].push(field.name);\n      });\n    }\n    /**\n     * Case of a field that has a default_value object and check if apply_on_update only\n     */\n    if (options.default_expression) {\n      var _options$default_expr = options.default_expression,\n          _options$default_expr2 = _options$default_expr.referencing_fields,\n          _referencing_fields = _options$default_expr2 === undefined ? [] : _options$default_expr2,\n          _options$default_expr3 = _options$default_expr.referenced_columns,\n          _referenced_columns = _options$default_expr3 === undefined ? [] : _options$default_expr3,\n          _options$default_expr4 = _options$default_expr.apply_on_update,\n          apply_on_update = _options$default_expr4 === undefined ? false : _options$default_expr4;\n      /**\n       * In case on apply_on_update true always listend dependenencies change\n       * otherwise only for new Feature\n       */\n\n\n      if (apply_on_update || _this4.state.isnew) {\n        var default_expression_dependency_fields = new Set();\n        [].concat(_toConsumableArray(_referenced_columns), _toConsumableArray(_referencing_fields)).forEach(function (dependency_field) {\n          return default_expression_dependency_fields.add(dependency_field);\n        });\n        default_expression_dependency_fields.forEach(function (dependency_field) {\n          if (_this4.default_expression_fields_dependencies[dependency_field] === undefined) _this4.default_expression_fields_dependencies[dependency_field] = [];\n          _this4.default_expression_fields_dependencies[dependency_field].push(field.name);\n        });\n      }\n    }\n  });\n  // start to evaluate filter expression field\n  Object.keys(this.filter_expression_fields_dependencies).forEach(function (name) {\n    _this4.evaluateFilterExpressionFields({\n      name: name\n    });\n  });\n};\n\nproto.setCurrentFormPercentage = function (perc) {\n  this.layer.setFormPercentage(perc);\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.setValidComponent = function (_ref) {\n  var id = _ref.id,\n      valid = _ref.valid;\n\n  this.state.componentstovalidate[id] = valid;\n  this.isValid();\n};\n\nproto.getValidComponent = function (id) {\n  return this.state.componentstovalidate[id];\n};\n\n// Every input send to form it valid value that will change the general state of form\nproto.isValid = function (input) {\n  var _this5 = this;\n\n  if (input) {\n    // check mutually\n    if (input.validate.mutually) {\n      if (!input.validate.required) {\n        if (!input.validate.empty) {\n          input.validate._valid = input.validate.valid;\n          input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n            return previous && _this5.state.tovalidate[inputname].validate.empty;\n          }, true);\n          input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n        } else {\n          input.value = null;\n          input.validate.mutually_valid = true;\n          input.validate.valid = true;\n          input.validate._valid = true;\n          var countNoTEmptyInputName = [];\n          for (var i = input.validate.mutually.length; i--;) {\n            var inputname = input.validate.mutually[i];\n            !this.state.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n          }\n          if (countNoTEmptyInputName.length < 2) {\n            countNoTEmptyInputName.forEach(function (inputname) {\n              _this5.state.tovalidate[inputname].validate.mutually_valid = true;\n              _this5.state.tovalidate[inputname].validate.valid = true;\n              setTimeout(function () {\n                _this5.state.tovalidate[inputname].validate.valid = _this5.state.tovalidate[inputname].validate._valid;\n                _this5.state.valid = _this5.state.valid && _this5.state.tovalidate[inputname].validate.valid;\n              });\n            });\n          }\n        }\n      }\n      //check if min_field or max_field is set\n    } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n      var input_name = input.validate.min_field || input.validate.max_field;\n      input.validate.valid = input.validate.min_field ? this.state.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.state.tovalidate[input.validate.min_field].value : this.state.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.state.tovalidate[input.validate.max_field].value;\n      if (input.validate.valid) this.state.tovalidate[input_name].validate.valid = true;\n    }\n  }\n  this.state.valid = Object.values(this.state.tovalidate).reduce(function (previous, input) {\n    return previous && input.validate.valid;\n  }, true) && Object.values(this.state.componentstovalidate).reduce(function (previous, valid) {\n    return previous && valid;\n  }, true);\n};\n\nproto.addComponents = function () {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var component = _step.value;\n\n      this.addComponent(component);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addComponent = function (component) {\n  var id = component.id,\n      title = component.title,\n      name = component.name,\n      icon = component.icon,\n      valid = component.valid,\n      headerComponent = component.headerComponent,\n      _component$header = component.header,\n      header = _component$header === undefined ? true : _component$header;\n\n  if (valid !== undefined) {\n    this.state.componentstovalidate[id] = valid;\n    this.state.valid = this.state.valid && valid;\n    this.eventBus.$emit('add-component-validate', {\n      id: id,\n      valid: valid\n    });\n  }\n  // we can set a component that can be part of headers (tabs or not)\n  if (header) {\n    this.state.headers.push({ title: title, name: name, id: id, icon: icon, component: headerComponent });\n    this.state.currentheaderid = this.state.currentheaderid || id;\n  }\n\n  this.state.components.push(component);\n};\n\nproto.replaceComponent = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      component = _ref2.component;\n\n  var index = this.state.components.findIndex(function (component) {\n    return component.id === id;\n  });\n  this.state.components.splice(index, 1, component);\n};\n\nproto.disableComponent = function (_ref3) {\n  var id = _ref3.id,\n      disabled = _ref3.disabled;\n\n  if (disabled) this.state.disabledcomponents.push(id);else this.state.disabledcomponents = this.state.disabledcomponents.filter(function (disableId) {\n    return disabledId !== id;\n  });\n};\n\nproto.setCurrentComponentById = function (id) {\n  if (this.state.disabledcomponents.indexOf(id) === -1) {\n    this.setIdHeader(id);\n    this.state.component = this.state.components.find(function (component) {\n      return component.id === id;\n    }).component;\n    return this.state.component;\n  }\n};\n\n/**\n * setRootComponent (is form )\n */\nproto.setRootComponent = function () {\n  this.state.component = this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.getRootComponent = function () {\n  return this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.isRootComponent = function (component) {\n  return this.getRootComponent() == component;\n};\n\nproto.getComponentById = function (id) {\n  return this.state.components.find(function (component) {\n    return component.id === id;\n  });\n};\n\nproto.setComponent = function (component) {\n  this.state.component = component;\n};\n\nproto.addedComponentTo = function () {\n  var formcomponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'body';\n\n  this.state.addedcomponentto[formcomponent] = true;\n};\n\nproto.addToValidate = function (input) {\n  this.state.tovalidate[input.name] = input;\n  // check if is mounted on form gui otherwise leave form component to run is Valid whe form is mounted on dom\n  this.state.ready && this.isValid(input);\n};\n\nproto.removeToValidate = function (input) {\n  delete this.state.tovalidate[input.name];\n  this.isValid();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._setState = function (state) {\n  this.state = state;\n};\n\nproto.getFields = function () {\n  return this.state.fields;\n};\n\nproto._getField = function (fieldName) {\n  return this.state.fields.find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEventBus = function () {\n  return this.eventBus;\n};\n\nproto.setIdHeader = function (id) {\n  this.state.currentheaderid = id;\n};\n\nproto.getContext = function () {\n  return this.context_inputs.context;\n};\n\nproto.getSession = function () {\n  return this.getContext().session;\n};\n\nproto.getInputs = function () {\n  return this.context_inputs.inputs;\n};\n\n/**\n * handleRelation\n */\n\nproto.handleRelation = function (_ref4) {\n  //OVERWRITE BY  PLUGIN EDITING PLUGIN\n\n  var relationId = _ref4.relationId,\n      feature = _ref4.feature;\n};\n\n//method to clear all the open thinghs opened by service\nproto.clearAll = function () {\n  this.eventBus.$off('addtovalidate');\n  this.eventBus.$off('set-main-component');\n  this.eventBus.$off('set-loading-form');\n  this.eventBus.$off('component-validation');\n  this.eventBus.$off('disable-component');\n};\n\nmodule.exports = FormService;\n\n},{\"core/expression/inputservice\":11,\"core/g3wobject\":13,\"core/utils/utils\":68}],119:[function(require,module,exports){\nvar _Form = require('components/Form.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Form);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/form/formservice');\n\nfunction FormComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$id = options.id,\n      id = _options$id === undefined ? 'form' : _options$id,\n      name = options.name,\n      title = options.title,\n      headerComponent = options.headerComponent;\n\n  base(this, options);\n  options.service = options.service ? new options.service() : new Service();\n  options.vueComponentObject = options.vueComponentObject || vueComponentOptions;\n  //set element of the form\n  var components = options.components || [{\n    id: id,\n    title: title,\n    name: name,\n    root: true,\n    component: _FormBody2.default,\n    headerComponent: headerComponent\n  }];\n  options.perc = options.layer.getFormPercentage() !== null ? options.layer.getFormPercentage() : options.perc;\n  // initialize component\n  this.init(options);\n  this.getService().addComponents(components);\n  this.getService().setComponent(components[0].component);\n  /**\n   * Used to add component to form body\n   * @param component\n   */\n  this.addBodyFormComponent = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        component = _ref.component,\n        _ref$where = _ref.where,\n        where = _ref$where === undefined ? 'after' : _ref$where;\n\n    this.getInternalComponent().body.components[where].push(component);\n  };\n\n  this.addBodyFormComponents = function () {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$components = _ref2.components,\n        components = _ref2$components === undefined ? [] : _ref2$components,\n        _ref2$where = _ref2.where,\n        where = _ref2$where === undefined ? \"after\" : _ref2$where;\n\n    components.forEach(function (component) {\n      return _this.addBodyFormComponent({\n        component: component,\n        where: where\n      });\n    });\n  };\n\n  this.addFormComponents = function () {\n    var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.getService().addComponents(components);\n  };\n\n  this.addFormComponent = function (component) {\n    component && this.getService().addComponent(component);\n  };\n  // some utilities methods\n  this.addDependecyComponents = function (components) {\n    this.getService().addDependecyComponents(components);\n  };\n  this.addComponentBeforeBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(1, Component);\n  };\n\n  this.addComponentAfterBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(2, Component)\n  };\n\n  this.addComponentBeforeFooter = function () {\n    //TODO\n  };\n\n  this.addComponentAfterFooter = function (Component) {\n    //TODO\n  };\n  // overwrite father mount method.\n  this.mount = function (parent, append) {\n    return base(this, 'mount', parent, append).then(function () {\n      // set modal window to true\n      _gui2.default.setModal(true);\n    });\n  };\n\n  this.layout = function () {\n    this.internalComponent.reloadLayout();\n  };\n}\n\ninherit(FormComponent, Component);\n\nmodule.exports = FormComponent;\n\n},{\"components/Form.vue\":210,\"components/FormBody.vue\":211,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/form/formservice\":118,\"services/gui\":349}],120:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction CheckBoxService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var value = options.state.input.options.values.find(function (value) {\n    return value.checked === false;\n  });\n  options.validatorOptions = {\n    values: options.state.input.options.values.map(function (value) {\n      return value;\n    })\n  };\n  if (options.state.value === null && !options.state.forceNull) options.state.value = value.value;\n  base(this, options);\n}\n\ninherit(CheckBoxService, Service);\n\nvar proto = CheckBoxService.prototype;\n\nproto.convertCheckedToValue = function (checked) {\n  checked = checked === null || checked === undefined ? false : checked;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.checked === checked;\n  });\n  this.state.value = option.value;\n  return this.state.value;\n};\n\nproto.convertValueToChecked = function () {\n  var valueToCheck = this.state.value;\n  if (valueToCheck === null || valueToCheck === undefined) return false;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.value == valueToCheck;\n  });\n  if (option === undefined) {\n    option = this.state.input.options.values.find(function (value) {\n      return value.checked === false;\n    });\n    this.state.value = option.value;\n  }\n  return option.checked;\n};\n\nmodule.exports = CheckBoxService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143}],121:[function(require,module,exports){\nvar _InputCheckbox = require('components/InputCheckbox.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputCheckbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar CheckBoxInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = CheckBoxInput;\n\n},{\"components/InputCheckbox.vue\":231}],122:[function(require,module,exports){\nvar _InputColor = require('components/InputColor.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputColor.vue\":232}],123:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nvar Service = require('gui/inputs/service');\n\nfunction DateTimePickerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.validatorOptions = {};\n  base(this, options);\n}\n\ninherit(DateTimePickerService, Service);\n\nvar proto = DateTimePickerService.prototype;\n\nproto.getLocale = function () {\n  var applicationConfig = _application2.default.getConfig();\n  return applicationConfig.user.i18n ? applicationConfig.user.i18n : 'en';\n};\n\nproto.convertQGISDateTimeFormatToMoment = function (datetimeformat) {\n  return convertQGISDateTimeFormatToMoment(datetimeformat);\n};\n\nproto.setValidatorOptions = function (options) {\n  this.validatorOptions = options;\n};\n\nmodule.exports = DateTimePickerService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143,\"services/application\":339}],124:[function(require,module,exports){\nvar _InputDateTimePicker = require('components/InputDateTimePicker.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputDateTimePicker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DateTimePickerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = DateTimePickerInput;\n\n},{\"components/InputDateTimePicker.vue\":233}],125:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction FloatService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(FloatService, Service);\n\nmodule.exports = FloatService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143}],126:[function(require,module,exports){\nvar _InputFloat = require('components/InputFloat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputFloat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar FloatInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = FloatInput;\n\n},{\"components/InputFloat.vue\":234}],127:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputBase = require('components/InputBase.vue');\n\nvar _InputBase2 = _interopRequireDefault(_InputBase);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputServices = require('./services');\n\nvar Input = {\n  props: ['state'],\n  mixins: [_mixins.baseInputMixin],\n  components: {\n    'baseinput': _InputBase2.default\n  },\n  watch: {\n    'notvalid': function notvalid(_notvalid) {\n      _notvalid && this.service.setErrorMessage(this.state);\n    },\n    'state.value': function stateValue() {\n      this.state.input.options.default_expression && this.change();\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.service = new InputServices[this.state.input.type]({\n      state: this.state\n    });\n    this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      return _this.service.setErrorMessage(_this.state);\n    });\n    this.state.editable && this.state.validate.required && this.service.validate();\n    this.$emit('addinput', this.state);\n    /**\n     * in case of input value is fill with default value option we need to emit changeinput event\n     * without check validation. Example:\n     * {\n        \"name\": \"id\",\n        \"type\": \"integer\",\n        \"label\": \"id\",\n        \"editable\": false,\n        \"validate\": {\n            \"required\": true,\n            \"unique\": true\n        },\n        \"pk\": true,\n        \"default\": \"nextval('g3wsuite.zone_id_seq'::regclass)\",\n        \"input\": {\n            \"type\": \"text\",\n            \"options\": {}\n        }\n      }\n     in this case if we start a validation, it fail because default value is a string while input is interger\n     */\n    this.state.value_from_default_value && this.$emit('changeinput', this.state);\n  },\n  destroyed: function destroyed() {\n    // emit remove input to form (in case for example tab visibility condition)\n    this.$emit('removeinput', this.state);\n  }\n};\n\nmodule.exports = Input;\n\n},{\"./services\":144,\"components/InputBase.vue\":230,\"mixins\":331,\"store/application-state\":361}],128:[function(require,module,exports){\nvar InputsComponents = {\n  'text_input': require('./text/vue/text'),\n  'texthtml_input': require('./texthtml/vue/texthtml'),\n  'textarea_input': require('./textarea/vue/textarea'),\n  'integer_input': require('./integer/vue/integer'),\n  'string_input': require('./text/vue/text'), //temporary\n  'float_input': require('./float/vue/float'),\n  'radio_input': require('./radio/vue/radio'),\n  'check_input': require('./checkbox/vue/checkbox'),\n  'range_input': require('./range/vue/range'),\n  'datetimepicker_input': require('./datetimepicker/vue/datetimepicker'),\n  'unique_input': require('./unique/vue/unique'),\n  'select_input': require('./select/vue/select'),\n  'media_input': require('./media/vue/media'),\n  'select_autocomplete_input': require('./select/vue/select'),\n  'picklayer_input': require('./picklayer/vue/picklayer'),\n  'color_input': require('./color/vue/color'),\n  'slider_input': require('./sliderrange/vue/sliderrange'),\n  'lonlat_input': require('./lonlat/vue/lonlat')\n};\n\nmodule.exports = InputsComponents;\n\n},{\"./checkbox/vue/checkbox\":121,\"./color/vue/color\":122,\"./datetimepicker/vue/datetimepicker\":124,\"./float/vue/float\":126,\"./integer/vue/integer\":130,\"./lonlat/vue/lonlat\":132,\"./media/vue/media\":134,\"./picklayer/vue/picklayer\":136,\"./radio/vue/radio\":138,\"./range/vue/range\":140,\"./select/vue/select\":142,\"./sliderrange/vue/sliderrange\":146,\"./text/vue/text\":147,\"./textarea/vue/textarea\":148,\"./texthtml/vue/texthtml\":149,\"./unique/vue/unique\":151}],129:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction IntegerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(IntegerService, Service);\n\nmodule.exports = IntegerService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143}],130:[function(require,module,exports){\nvar _InputInteger = require('components/InputInteger.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputInteger);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar IntegerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = IntegerInput;\n\n},{\"components/InputInteger.vue\":237}],131:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction LonLatService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.coordinatebutton;\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.mapEpsg = this.mapService.getCrs();\n  this.mapControlToggleEventHandler = function (evt) {\n    if (evt.target.isToggled() && evt.target.isClickMap()) {\n      _this.coordinatebutton.active && _this.toggleGetCoordinate();\n    }\n  };\n  this.map = _gui2.default.getComponent('map').getService().getMap();\n  this.outputEpsg = this.state.epsg || this.mapEpsg;\n  this.eventMapKey;\n}\n\ninherit(LonLatService, Service);\n\nvar proto = LonLatService.prototype;\n\nproto.setCoordinateButtonReactiveObject = function (coordinatebutton) {\n  this.coordinatebutton = coordinatebutton;\n};\n\nproto.validate = function () {\n  if (this.state.values.lon < -180) this.state.values.lon = -180;else if (this.state.values.lon > 180) this.state.values.lon = 180;\n  if (this.state.values.lat < -90) this.state.values.lon = -90;else if (this.state.values.lat > 90) this.state.values.lon = 90;\n  this.state.validate.valid = !Number.isNaN(1 * this.state.values.lon);\n};\n\nproto.toggleGetCoordinate = function () {\n  this.coordinatebutton.active = !this.coordinatebutton.active;\n  this.coordinatebutton.active ? this.startToGetCoordinates() : this.stopToGetCoordinates();\n};\n\nproto.startToGetCoordinates = function () {\n  var _this2 = this;\n\n  this.mapService.deactiveMapControls();\n  this.mapService.on('mapcontrol:toggled', this.mapControlToggleEventHandler);\n  this.eventMapKey = this.map.on('click', function (evt) {\n    evt.originalEvent.stopPropagation();\n    evt.preventDefault();\n    var coordinate = _this2.mapEpsg !== _this2.outputEpsg ? ol.proj.transform(evt.coordinate, _this2.mapEpsg, _this2.outputEpsg) : evt.coordinate;\n    _this2.state.value = [coordinate];\n\n    var _coordinate = _slicedToArray(coordinate, 2),\n        lon = _coordinate[0],\n        lat = _coordinate[1];\n\n    _this2.state.values.lon = lon;\n    _this2.state.values.lat = lat;\n  });\n};\n\nproto.stopToGetCoordinates = function () {\n  ol.Observable.unByKey(this.eventMapKey);\n  this.mapService.off('mapcontrol:toggled', this.mapControlToggleEventHandler);\n};\n\nproto.clear = function () {\n  this.stopToGetCoordinates();\n};\n\nmodule.exports = LonLatService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143,\"services/gui\":349}],132:[function(require,module,exports){\nvar _InputLonLat = require('components/InputLonLat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputLonLat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar LatLontInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = LatLontInput;\n\n},{\"components/InputLonLat.vue\":238}],133:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction MediaService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(MediaService, Service);\n\nmodule.exports = MediaService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143}],134:[function(require,module,exports){\nvar _InputMedia = require('components/InputMedia.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputMedia);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar MediaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = MediaInput;\n\n},{\"components/InputMedia.vue\":239}],135:[function(require,module,exports){\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar _require = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require.getQueryLayersPromisesByCoordinates;\n\nfunction PickLayerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.pick_type = options.pick_type || 'wms';\n  this.ispicked = false;\n  this.fields = options.fields || [options.value];\n  this.layerId = options.layer_id;\n  this.mapService = _gui2.default.getService('map');\n  this.interaction = this.pick_type === 'map' ? new PickFeatureInteraction({\n    layers: [this.mapService.getLayerById(this.layerId)]\n  }) : new PickCoordinatesInteraction();\n}\n\nvar proto = PickLayerService.prototype;\n\nproto.isPicked = function () {\n  return this.ispicked;\n};\n\n//bind interrupt event\nproto.escKeyUpHandler = function (_ref) {\n  var keyCode = _ref.keyCode,\n      owner = _ref.data.owner;\n\n  keyCode === 27 && owner.unpick();\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  $(document).on('keyup', { owner: this }, this.escKeyUpHandler);\n};\n\nproto.pick = function () {\n  var _this = this;\n\n  return new Promise(function (resolve, reject) {\n    _this.bindEscKeyUp();\n    var values = {};\n    _this.ispicked = true;\n    var afterPick = function afterPick(feature) {\n      if (feature) {\n        var attributes = feature.getProperties();\n        _this.fields.forEach(function (field) {\n          values[field] = attributes[field];\n        });\n        resolve(values);\n      } else reject();\n      _this.ispicked = false;\n      _this.unpick();\n    };\n    _gui2.default.setModal(false);\n    _this.mapService.addInteraction(_this.interaction);\n    _this.interaction.once('picked', function (event) {\n      if (_this.pick_type === 'map') {\n        var feature = event.feature;\n        afterPick(feature);\n      } else if (_this.pick_type === 'wms') {\n        var layer = _mapLayers2.default.getLayerById(_this.layerId);\n        if (layer) {\n          getQueryLayersPromisesByCoordinates([layer], {\n            map: _this.mapService.getMap(),\n            feature_count: 1,\n            coordinates: event.coordinate\n          }).then(function (response) {\n            var _response$0$data = response[0].data,\n                data = _response$0$data === undefined ? [] : _response$0$data;\n\n            var feature = data.length && data[0].features[0] || null;\n            afterPick(feature);\n          });\n        }\n      }\n    });\n  });\n};\n\nproto.unpick = function () {\n  this.mapService.removeInteraction(this.interaction);\n  _gui2.default.setModal(true);\n  this.unbindEscKeyUp();\n  this.ispicked = false;\n};\n\nproto.clear = function () {\n  this.isPicked() && this.unpick();\n  this.mapService = this.interaction = this.field = null;\n};\n\nmodule.exports = PickLayerService;\n\n},{\"core/utils/geo\":65,\"g3w-ol/interactions/pickcoordinatesinteraction\":102,\"g3w-ol/interactions/pickfeatureinteraction\":103,\"services/gui\":349,\"store/map-layers\":365}],136:[function(require,module,exports){\nvar _InputPickLayer = require('components/InputPickLayer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputPickLayer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PickLayerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = PickLayerInput;\n\n},{\"components/InputPickLayer.vue\":240}],137:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction RadioService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(RadioService, Service);\n\nmodule.exports = RadioService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143}],138:[function(require,module,exports){\nvar _InputRadio = require('components/InputRadio.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRadio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RadioInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RadioInput;\n\n},{\"components/InputRadio.vue\":241}],139:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction RangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$state$input$ = options.state.input.options.values[0],\n      min = _options$state$input$.min,\n      max = _options$state$input$.max;\n\n  options.state.info = '[MIN: ' + min + ' - MAX: ' + max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * min,\n    max: 1 * max\n  });\n  this.setValidator(validator);\n}\n\ninherit(RangeService, Service);\n\nvar proto = Service.prototype;\n\nproto.isValueInRange = function (value, min, max) {\n  return value <= max && value >= min;\n};\n\nmodule.exports = RangeService;\n\n},{\"core/utils/utils\":68,\"core/utils/validators\":69,\"gui/inputs/service\":143}],140:[function(require,module,exports){\nvar _InputRange = require('components/InputRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputRange.vue\":242}],141:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction SelectService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.layer = null;\n}\n\ninherit(SelectService, Service);\n\nvar proto = SelectService.prototype;\n\nproto._getLayerById = function (layer_id) {\n  return _catalogLayers2.default.getLayerById(layer_id);\n};\n\nproto.addValue = function (value) {\n  this.state.input.options.values.push(value);\n};\n\nproto.getKeyByValue = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      search = _ref.search;\n\n  var options = this.state.input.options;\n  var value = options.value,\n      key = options.key;\n\n  this.getData({\n    key: value,\n    value: key,\n    search: search\n  }).then(function (arrayValues) {\n    var _arrayValues = _slicedToArray(arrayValues, 1),\n        _value = _arrayValues[0];\n\n    var key = _value.$value,\n        value = _value.text;\n\n    _this.addValue({\n      key: key,\n      value: value\n    });\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\n\nproto.getData = function () {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$layer_id = _ref2.layer_id,\n      layer_id = _ref2$layer_id === undefined ? this.state.input.options.layer_id : _ref2$layer_id,\n      _ref2$key = _ref2.key,\n      key = _ref2$key === undefined ? this.state.input.options.key : _ref2$key,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === undefined ? this.state.input.options.value : _ref2$value,\n      search = _ref2.search;\n\n  var search_value = (key + '|' + search).trim();\n  return new Promise(function (resolve, reject) {\n    if (!_this2._layer) _this2._layer = _this2._getLayerById(layer_id);\n    _this2._layer.getDataTable({\n      suggest: search_value,\n      ordering: key\n    }).then(function (response) {\n      var values = [];\n      var features = response.features;\n      for (var i = 0; i < features.length; i++) {\n        values.push({\n          text: features[i].properties[key],\n          id: i,\n          $value: features[i].properties[value]\n        });\n      }\n      resolve(values);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nmodule.exports = SelectService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143,\"store/catalog-layers\":362}],142:[function(require,module,exports){\nvar _InputSelect = require('components/InputSelect.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSelect);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar SelectInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = SelectInput;\n\n},{\"components/InputSelect.vue\":243}],143:[function(require,module,exports){\nvar Validators = require('core/utils/validators');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nfunction Service() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // set state of input\n  this.state = options.state || {};\n  // type of input\n  //this.state.validate.required && this.setValue(this.state.value);\n  /*\n  * set starting value of input based on value or default value on options\n   */\n  this.setValue(this.state.value);\n  this.setEmpty(this.state.value);\n  var type = this.state.type;\n  var validatorOptions = options.validatorOptions || this.state.input.options || {};\n  // useful for the validator to validate input\n  this._validator = Validators.get(type, validatorOptions);\n  this.setErrorMessage(options.state);\n}\n\nvar proto = Service.prototype;\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getValue = function () {\n  return this.state.value;\n};\n\nproto.setValue = function (value) {\n  if (value === null || value === undefined) {\n    if (Array.isArray(this.state.input.options)) {\n      if (this.state.input.options[0].default) this.state.value = this.state.input.options[0].default;else if (Array.isArray(this.state.input.options.values)) {\n        if (this.state.input.options.values.length) {\n          this.state.value = this.state.input.options.values[0] && this.state.input.options.values[0].value || this.state.input.options.values[0];\n        }\n      }\n    } else {\n      //check if we can state.check get_default_value from input.options.default is set\n      if (this.state.get_default_value && typeof this.state.input.options.default !== \"undefined\" && this.state.input.options.default !== null) {\n        this.state.value = this.state.input.options.default;\n        this.state.value_from_default_value = true;\n      }\n    }\n  }\n};\n\nproto.addValueToValues = function (value) {\n  this.state.input.options.values.unshift(value);\n};\n\nproto._getValidatorType = function () {\n  return this.state.type;\n};\n\nproto.setState = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = _.isObject(state) ? state : {};\n};\n\n// return validator\nproto.getValidator = function () {\n  return this._validator;\n};\n\nproto.setValidator = function (validator) {\n  this._validator = validator;\n};\n\nproto.setEmpty = function () {\n  this.state.validate.empty = !(Array.isArray(this.state.value) && this.state.value.length || !_.isEmpty(_.trim(this.state.value)));\n};\n\n// general method to check the value of the state is valid or not\nproto.validate = function () {\n  if (this.state.validate.empty) {\n    this.state.validate.empty = true;\n    this.state.value = null;\n    this.state.validate.unique = true;\n    // check if require or check validation\n    this.state.validate.valid = this.state.validate.required ? false : this._validator.validate(this.state.value);\n  } else {\n    if (this.state.input.type === 'integer' || this.state.input.type === 'float') {\n      if (+this.state.value < 0) {\n        this.state.value = null;\n        this.state.validate.empty = true;\n        this.state.validate.valid = !this.state.validate.required;\n      } else this.state.validate.valid = this._validator.validate(this.state.value);\n    }\n    if (this.state.validate.exclude_values && this.state.validate.exclude_values.size) {\n      this.state.validate.valid = !this.state.validate.exclude_values.has(this.state.value);\n    } else this.state.validate.valid = this._validator.validate(this.state.value);\n  }\n  return this.state.validate.valid;\n};\n\nproto.setErrorMessage = function (input) {\n  var message = void 0;\n  if (input.validate.mutually && !input.validate.mutually_valid) this.state.validate.message = t(\"sdk.form.inputs.input_validation_mutually_exclusive\") + ' ( ' + input.validate.mutually.join(',') + ' )';else if (input.validate.max_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_max_field\") + ' (' + input.validate.max_field + ')';else if (input.validate.min_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_min_field\") + ' (' + input.validate.min_field + ')';else if (input.validate.unique && input.validate.exclude_values && input.validate.exclude_values.size) this.state.validate.message = '' + t(\"sdk.form.inputs.input_validation_exclude_values\");else if (input.validate.required) {\n    message = t(\"sdk.form.inputs.input_validation_error\") + ' ( ' + t(\"sdk.form.inputs.\" + input.type) + ' )';\n    if (this.state.info) {\n      message = message + '\\n                 <div>\\n                  <b>' + this.state.info + '</b>\\n                 </div>         \\n      ';\n    }\n    this.state.validate.message = this.state.info || message;\n  } else this.state.validate.message = this.state.info;\n};\n/**\n * Method to set update\n */\nproto.setUpdate = function () {\n  var _state = this.state,\n      value = _state.value,\n      _value = _state._value;\n\n  if (this.state.input.type === 'media' && toRawType(value) !== 'Object' && toRawType(_value) !== 'Object') {\n    this.state.update = value.value != _value.value;\n  } else this.state.update = value != _value;\n};\n\nmodule.exports = Service;\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"core/utils/validators\":69}],144:[function(require,module,exports){\nvar InputsServices = {\n  'text': require('./service'),\n  'textarea': require('./service'),\n  'texthtml': require('./service'),\n  'integer': require('./integer/service'),\n  'string': require('./service'),\n  'float': require('./float/service'),\n  'radio': require('./radio/service'),\n  'check': require('./checkbox/service'),\n  'range': require('./range/service'),\n  'datetimepicker': require('./datetimepicker/service'),\n  'unique': require('./unique/service'),\n  'select': require('./select/service'),\n  'media': require('./media/service'),\n  'select_autocomplete': require('./select/service'),\n  'picklayer': require('./service'),\n  'color': require('./service'),\n  'slider': require('./sliderrange/service'),\n  'lonlat': require('./lonlat/service')\n};\n\nmodule.exports = InputsServices;\n\n},{\"./checkbox/service\":120,\"./datetimepicker/service\":123,\"./float/service\":125,\"./integer/service\":129,\"./lonlat/service\":131,\"./media/service\":133,\"./radio/service\":137,\"./range/service\":139,\"./select/service\":141,\"./service\":143,\"./sliderrange/service\":145,\"./unique/service\":150}],145:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction SliderRangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var state = options.state;\n\n  options.state.info = '[MIN: ' + state.input.options.min + ' - MAX: ' + state.input.options.max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * state.input.options.min,\n    max: 1 * state.input.options.max\n  });\n  this.setValidator(validator);\n  this.validate = function () {\n    this.state.value = 1 * this.state.value;\n    this.state.validate.valid = this.state.value >= this.state.input.options.min || this.state.value <= this.state.input.options.max;\n  };\n}\n\ninherit(SliderRangeService, Service);\n\nvar proto = SliderRangeService.prototype;\n\nproto.changeInfoMessage = function () {\n  this.state.info = '[MIN: ' + this.state.input.options.min + ' - MAX: ' + this.state.input.options.max + ']';\n};\n\nmodule.exports = SliderRangeService;\n\n},{\"core/utils/utils\":68,\"core/utils/validators\":69,\"gui/inputs/service\":143}],146:[function(require,module,exports){\nvar _InputSliderRange = require('components/InputSliderRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSliderRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputSliderRange.vue\":244}],147:[function(require,module,exports){\nvar _InputText = require('components/InputText.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputText);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputText.vue\":245}],148:[function(require,module,exports){\nvar _InputTextArea = require('components/InputTextArea.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextArea);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextAreaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextAreaInput;\n\n},{\"components/InputTextArea.vue\":246}],149:[function(require,module,exports){\nvar _InputTextHtml = require('components/InputTextHtml.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextHtml);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextHtmlInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextHtmlInput;\n\n},{\"components/InputTextHtml.vue\":247}],150:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction UniqueService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(UniqueService, Service);\n\nmodule.exports = UniqueService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":143}],151:[function(require,module,exports){\nvar _InputUnique = require('components/InputUnique.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputUnique);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar UniqueInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = UniqueInput;\n\n},{\"components/InputUnique.vue\":248}],152:[function(require,module,exports){\nvar ResetControl = require('g3w-ol/controls/resetcontrol');\nvar QueryControl = require('g3w-ol/controls/querycontrol');\nvar ZoomBoxControl = require('g3w-ol/controls/zoomboxcontrol');\nvar QueryBBoxControl = require('g3w-ol/controls/querybboxcontrol');\nvar QueryByPolygonControl = require('g3w-ol/controls/querybypolygoncontrol');\nvar GeolocationControl = require('g3w-ol/controls/geolocationcontrol');\nvar StreetViewControl = require('g3w-ol/controls/streetviewcontrol');\nvar AddLayersControl = require('g3w-ol/controls/addlayers');\nvar LengthControl = require('g3w-ol/controls/lengthcontrol');\nvar AreaControl = require('g3w-ol/controls/areacontrol');\nvar OLControl = require('g3w-ol/controls/olcontrol');\nvar GeocodingControl = require('g3w-ol/controls/geocodingcontrol');\nvar MousePositionControl = require('g3w-ol/controls/mousepositioncontrol');\nvar ScaleControl = require('g3w-ol/controls/scalecontrol');\nvar OnClikControl = require('g3w-ol/controls/onclickcontrol');\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\nvar geoScreenshotControl = require('g3w-ol/controls/geoscreenshotcontrol');\n\nvar ControlsFactory = {\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var ControlClass = ControlsFactory.CONTROLS[options.type];\n    if (ControlClass) return new ControlClass(options);\n  }\n};\n\nControlsFactory.CONTROLS = {\n  'reset': ResetControl,\n  'zoombox': ZoomBoxControl,\n  'zoomtoextent': OLControl,\n  'query': QueryControl,\n  'querybbox': QueryBBoxControl,\n  'querybypolygon': QueryByPolygonControl,\n  'geolocation': GeolocationControl,\n  'streetview': StreetViewControl,\n  'zoom': OLControl,\n  'scaleline': OLControl,\n  'overview': OLControl,\n  'nominatim': GeocodingControl, // temporary fro backward compatibility\n  'geocoding': GeocodingControl,\n  'addlayers': AddLayersControl,\n  'length': LengthControl,\n  'area': AreaControl,\n  'mouseposition': MousePositionControl,\n  'scale': ScaleControl,\n  'onclick': OnClikControl,\n  'screenshot': ScreenshotControl,\n  'geoscreenshot': geoScreenshotControl\n};\n\nmodule.exports = ControlsFactory;\n\n},{\"g3w-ol/controls/addlayers\":76,\"g3w-ol/controls/areacontrol\":77,\"g3w-ol/controls/geocodingcontrol\":79,\"g3w-ol/controls/geolocationcontrol\":80,\"g3w-ol/controls/geoscreenshotcontrol\":81,\"g3w-ol/controls/lengthcontrol\":83,\"g3w-ol/controls/mousepositioncontrol\":85,\"g3w-ol/controls/olcontrol\":86,\"g3w-ol/controls/onclickcontrol\":87,\"g3w-ol/controls/querybboxcontrol\":88,\"g3w-ol/controls/querybypolygoncontrol\":89,\"g3w-ol/controls/querycontrol\":90,\"g3w-ol/controls/resetcontrol\":91,\"g3w-ol/controls/scalecontrol\":92,\"g3w-ol/controls/screenshotcontrol\":93,\"g3w-ol/controls/streetviewcontrol\":94,\"g3w-ol/controls/zoomboxcontrol\":96}],153:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _wms = require('gui/wms/vue/wms');\n\nvar _wms2 = _interopRequireDefault(_wms);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    copyUrl = _require2.copyUrl,\n    uniqueId = _require2.uniqueId,\n    throttle = _require2.throttle,\n    toRawType = _require2.toRawType,\n    createFilterFromString = _require2.createFilterFromString;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    createVectorLayerFromFile = _require3.createVectorLayerFromFile,\n    createWMSLayer = _require3.createWMSLayer,\n    createSelectedStyle = _require3.createSelectedStyle,\n    getMapLayersByFilter = _require3.getMapLayersByFilter,\n    getGeoTIFFfromServer = _require3.getGeoTIFFfromServer;\n\nvar WFSProvider = require('core/layers/providers/wfsprovider');\nvar olhelpers = require('g3w-ol/g3w.ol').helpers;\n\nvar _require4 = require('core/utils/ol'),\n    getScaleFromResolution = _require4.getScaleFromResolution,\n    getResolutionFromScale = _require4.getResolutionFromScale;\n\nvar ControlsFactory = require('gui/map/control/factory');\nvar VectorLayer = require('core/layers/vectorlayer');\n\nvar SETTINGS = {\n  zoom: {\n    maxScale: 1000\n  },\n  animation: {\n    duration: 2000\n  }\n};\n\nfunction MapService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {\n    mapUnits: 'm',\n    bbox: [],\n    hidemaps: [],\n    resolution: null,\n    center: null,\n    loading: false,\n    hidden: true,\n    scale: 0,\n    mapcontrolsalignement: 'rv',\n    mapcontrolDOM: null,\n    mapcontrolready: false,\n    mapcontrolSizes: {\n      height: 47,\n      width: 47,\n      minWidth: 47,\n      minHeight: 47\n    },\n    mapControl: {\n      grid: [],\n      length: 0,\n      currentIndex: 0,\n      update: true,\n      disabled: false\n    },\n    map_info: {\n      info: null,\n      style: null\n    },\n    mapunits: ['metric']\n  };\n  this.id = 'MapService';\n  this.viewer = null;\n  this.target = options.target || null;\n  this.layersCount = 0; // useful to set Zindex to layer order on map\n  this.maps_container = options.maps_container || null;\n  this._layersStoresEventKeys = {};\n  this._keyEvents = {\n    ol: [],\n    g3wobject: [],\n    eventemitter: []\n  };\n  this.project = null;\n  this._mapControls = [];\n  this._changeMapMapControls = [];\n  this._mapLayers = [];\n  this._externalMapLayers = [];\n  this._externalLayers = [];\n  // array where store interactions added from plugin or extenal from application\n  this._externalInteractions = [];\n  this.mapBaseLayers = {};\n  this.defaultsLayers = {\n    _style: {\n      highlightLayer: {\n        color: undefined\n      },\n      selectionLayer: {\n        color: 'red'\n      }\n    },\n    highlightLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.highlightLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    }),\n    selectionLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.selectionLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    })\n  };\n  this.layersExtraParams = {};\n  this._greyListenerKey = null;\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n  this.config = options.config || _application2.default.getConfig();\n  this._howManyAreLoading = 0;\n  this._layersLoadingError = false;\n  // function to show spinner layers\n  this._incrementLoaders = function () {\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadstart');\n      _gui2.default.showSpinner({\n        container: $('#map-spinner'),\n        id: 'maploadspinner',\n        style: 'transparent'\n      });\n    }\n    _this._howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    _this._howManyAreLoading -= 1;\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadend');\n      _gui2.default.hideSpinner('maploadspinner');\n    }\n  };\n\n  this._mapLayerLoadError = function () {\n    if (!_this._layersLoadingError) {\n      _gui2.default.notify.warning('sdk.errors.layers.load');\n      _this._layersLoadingError = true;\n    }\n    _this._decrementLoaders();\n  };\n  if (options.project) this.project = options.project;else {\n    this.project = _projects2.default.getCurrentProject();\n    //on after setting current project\n    var keysetCurrentProject = _projects2.default.onafter('setCurrentProject', function (project) {\n      _this.removeLayers();\n      _this._removeListeners();\n      // check if reload same project\n      var isSameProject = _this.project.getId() === project.getId();\n      _this.project = project;\n      var changeProjectCallBack = function changeProjectCallBack() {\n        _this._resetView();\n        _this._setupAllLayers();\n        _this._checkMapControls();\n        _this.setUpMapOlEvents();\n        _this.setupCustomMapParamsToLegendUrl();\n      };\n      _application2.default.isIframe() && changeProjectCallBack();\n      isSameProject ? changeProjectCallBack() : _this.getMap().once('change:size', changeProjectCallBack);\n    });\n    this._keyEvents.g3wobject.push({\n      who: _projects2.default,\n      setter: 'setCurrentProject',\n      key: keysetCurrentProject\n    });\n  }\n  this._setupListeners();\n  this._marker = null;\n  this._bboxLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({})\n  });\n  this.debounces = {\n    setupCustomMapParamsToLegendUrl: {\n      fnc: function fnc() {\n        _this._setupCustomMapParamsToLegendUrl.apply(_this, arguments);\n      },\n      delay: 1000\n    }\n  };\n  this.setters = {\n    setupControls: function setupControls() {\n      return this._setupControls();\n    },\n    addHideMap: function addHideMap() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          ratio = _ref.ratio,\n          _ref$layers = _ref.layers,\n          layers = _ref$layers === undefined ? [] : _ref$layers,\n          _ref$mainview = _ref.mainview,\n          mainview = _ref$mainview === undefined ? false : _ref$mainview,\n          _ref$switchable = _ref.switchable,\n          switchable = _ref$switchable === undefined ? false : _ref$switchable;\n\n      var id = 'hidemap_' + Date.now();\n      var idMap = {\n        id: id,\n        map: null,\n        switchable: switchable\n      };\n      this.state.hidemaps.push(idMap);\n      return idMap;\n    },\n    updateMapView: function updateMapView(bbox, resolution, center) {\n      this.state.bbox = bbox;\n      this.state.resolution = resolution;\n      this.state.center = center;\n      this.updateMapLayers();\n    },\n    setHidden: function setHidden(bool) {\n      this.state.hidden = bool;\n    },\n    setupViewer: function setupViewer(width, height) {\n      if (width === 0 || height === 0) return;\n      if (this.viewer) {\n        this.viewer.destroy();\n        this.viewer = null;\n      }\n      this._setupViewer(width, height);\n      this.state.bbox = this.viewer.getBBOX();\n      this.state.resolution = this.viewer.getResolution();\n      this.state.center = this.viewer.getCenter();\n      this._setupAllLayers();\n      this.setUpMapOlEvents();\n      this.emit('viewerset');\n    },\n    controlClick: function controlClick(mapcontrol) {\n      var info = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    },\n    loadExternalLayer: function loadExternalLayer(layer) {},\n    // used in general to alert external layer is  loaded\n    unloadExternalLayer: function unloadExternalLayer(layer) {}\n  };\n\n  this._onCatalogSelectLayer = function (layer) {\n    if (layer) {\n      for (var i = 0; i < this._mapControls.length; i++) {\n        var mapcontrol = this._mapControls[i];\n        //is a function\n        if (mapcontrol.control.onSelectLayer) mapcontrol.control.onSelectLayer(layer);\n      }\n    }\n  };\n\n  this.on('cataloglayerselected', this._onCatalogSelectLayer);\n\n  this._keyEvents.eventemitter.push({\n    event: 'cataloglayerselected',\n    listener: this._onCatalogSelectLayer\n  });\n\n  var extraParamsSet = function extraParamsSet(extraParams, update) {\n    update && _this.getMapLayers().forEach(function (mapLayer) {\n      return mapLayer.update(_this.state, extraParams);\n    });\n  };\n\n  this.on('extraParamsSet', extraParamsSet);\n\n  this._keyEvents.eventemitter.push({\n    event: 'extraParamsSet',\n    listener: extraParamsSet\n  });\n\n  this.once('viewerset', function () {\n    //CHECK IF MAPLAYESRSTOREREGISTRY HAS LAYERSTORE\n    _mapLayers2.default.getLayersStores().forEach(function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTEN ON EVERY ADDED LAYERSSTORE\n    _mapLayers2.default.onafter('addLayersStore', function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTENER ON REMOVE LAYERSTORE\n    _mapLayers2.default.onafter('removeLayersStore', function (layerStore) {\n      _this._removeEventsKeysToLayersStore(layerStore);\n    });\n  });\n\n  base(this);\n}\n\ninherit(MapService, G3WObject);\n\nvar proto = MapService.prototype;\n\nproto.setUpMapOlEvents = function () {\n  var _this2 = this;\n\n  var dynamicLegend = this.project.getContextBaseLegend();\n  // set change resolution\n  this._keyEvents.ol.forEach(function (keyEvent) {\n    return ol.Observable.unByKey(keyEvent);\n  });\n  var keyolchangeresolution = this.viewer.map.getView().on(\"change:resolution\", function (evt) {\n    _this2._updateMapView();\n    dynamicLegend && _this2.setupCustomMapParamsToLegendUrl();\n  });\n  this._keyEvents.ol.push(keyolchangeresolution);\n  if (dynamicLegend) {\n    var keyolmoveeend = this.viewer.map.on(\"moveend\", function (evt) {\n      return _this2.setupCustomMapParamsToLegendUrl();\n    });\n    this._keyEvents.ol.push(keyolmoveeend);\n  } else this.setupCustomMapParamsToLegendUrl(); //set always to show legend at start\n};\n\n//clear methods to remove all listeners events\nproto.clear = function () {\n  var _this3 = this;\n\n  Object.keys(this._keyEvents).forEach(function (type) {\n    switch (type) {\n      case 'ol':\n        _this3._keyEvents[type].forEach(function (keyEvent) {\n          return ol.Observable.unByKey(keyEvent);\n        });\n        break;\n      case 'g3wobject':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var who = eventObject.who,\n              setter = eventObject.setter,\n              key = eventObject.key;\n\n          who.un(setter, key);\n        });\n        break;\n      case 'eventemitter':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var event = eventObject.event,\n              listener = eventObject.listener;\n\n          _this3.removeListener(event, listener);\n        });\n        break;\n    }\n  });\n  this._keyEvents = null;\n  _mapLayers2.default.getLayersStores().forEach(function (layerStore) {\n    _this3._removeEventsKeysToLayersStore(layerStore);\n  });\n};\n\nproto.showMapSpinner = function () {\n  _gui2.default.showSpinner({\n    container: $('#map-spinner'),\n    id: 'maploadspinner',\n    style: 'transparent'\n  });\n};\n\nproto.hideMapSpinner = function () {\n  _gui2.default.hideSpinner('maploadspinner');\n};\n\nproto.getScaleFromExtent = function (extent) {\n  var resolution = this.getMap().getView().getResolutionForExtent(extent, this.getMap().getSize());\n  var scale = getScaleFromResolution(resolution, this.getMapUnits());\n  return scale;\n};\n\nproto._addHideMap = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      ratio = _ref2.ratio,\n      _ref2$layers = _ref2.layers,\n      layers = _ref2$layers === undefined ? [] : _ref2$layers,\n      _ref2$mainview = _ref2.mainview,\n      mainview = _ref2$mainview === undefined ? false : _ref2$mainview;\n\n  var idMap = this.state.hidemaps[this.state.hidemaps.length - 1];\n  var view = this.getMap().getView();\n  var view_options = {\n    projection: view.getProjection(),\n    center: view.getCenter(),\n    resolution: this.getResolution()\n  };\n  var viewer = olhelpers.createViewer({\n    id: idMap.id,\n    view: mainview ? view : view_options\n  });\n  // set Map\n  idMap.map = viewer.getMap();\n  // in case of rate\n  if (ratio) {\n    var _idMap$map$getSize = idMap.map.getSize(),\n        _idMap$map$getSize2 = _slicedToArray(_idMap$map$getSize, 2),\n        width = _idMap$map$getSize2[0],\n        height = _idMap$map$getSize2[1];\n\n    idMap.map.setSize([width, width * ratio]);\n  }\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    idMap.map.addLayer(layer);\n  }\n  return idMap.map;\n};\n\nproto.removeHideMap = function (id) {\n  var index = void 0;\n  for (var i = 0; i < this.state.hidemaps.length; i++) {\n    if (id === this.state.hidemaps[i].id) {\n      index = i;\n      break;\n    }\n  }\n  index !== undefined && this.state.hidemaps.splice(index, 1);\n};\n\nproto._showHideMapElement = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref3.map,\n      _ref3$show = _ref3.show,\n      show = _ref3$show === undefined ? false : _ref3$show;\n\n  show ? $(map.getTargetElement()).addClass('show') : $(map.getTargetElement()).removeClass('show');\n};\n\nproto.createMapImage = function () {\n  var _this4 = this;\n\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref4.map,\n      background = _ref4.background;\n\n  return new Promise(function (resolve, reject) {\n    try {\n      var canvas = _this4.getMapCanvas(map);\n      if (navigator.msSaveBlob) resolve(canvas.msToBlob());else canvas.toBlob(function (blob) {\n        return resolve(blob);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nproto.getApplicationAttribution = function () {\n  var _config$group = this.config.group,\n      header_terms_of_use_link = _config$group.header_terms_of_use_link,\n      header_terms_of_use_text = _config$group.header_terms_of_use_text;\n\n  if (header_terms_of_use_text) {\n    return header_terms_of_use_link ? '<a href=\"' + header_terms_of_use_link + '\">' + header_terms_of_use_text + '</a>' : '<span class=\"skin-color\" style=\"font-weight: bold\">' + header_terms_of_use_text + '</span>';\n  } else return false;\n};\n\nproto.slaveOf = function (mapService, sameLayers) {\n  sameLayers = sameLayers || false;\n};\n\nproto.setLayersExtraParams = function (params, update) {\n  this.layersExtraParams = _.assign(this.layersExtraParams, params);\n  this.emit('extraParamsSet', params, update);\n};\n\nproto.getProject = function () {\n  return this.project;\n};\n\nproto.getMap = function () {\n  try {\n    return this.viewer.map;\n  } catch (err) {}\n};\n\nproto.getMapCanvas = function (map) {\n  var viewport = map ? map.getViewport() : $('#' + this.maps_container + ' .g3w-map').last().children('.ol-viewport')[0];\n  return $(viewport).children('canvas')[0];\n};\n\nproto.getProjection = function () {\n  return this.project.getProjection();\n};\n\nproto.isMapHidden = function () {\n  return this.state.hidden;\n};\n\nproto.isAxisOrientationInverted = function () {\n  return this.getProjection().getAxisOrientation() === 'neu' ? true : false;\n};\n\nproto.getCrs = function () {\n  return this.getProjection().getCode();\n};\n\nproto.getViewerElement = function () {\n  return this.viewer.map.getTargetElement();\n};\n\nproto.getViewport = function () {\n  return this.viewer.map.getViewport();\n};\n\nproto.getResolution = function () {\n  return this.viewer.map.getView().getResolution();\n};\n\nproto.getEpsg = function () {\n  return this.viewer.map.getView().getProjection().getCode();\n};\n\nproto.getGetFeatureInfoUrlForLayer = function (layer, coordinates, resolution, epsg, params) {\n  var mapLayer = this.getMapLayerForLayer(layer);\n  return mapLayer.getGetFeatureInfoUrl(coordinates, resolution, epsg, params);\n};\n\n/**\n * Show Marker on map\n * @param coordinates\n * @param duration\n */\nproto.showMarker = function (coordinates) {\n  var _this5 = this;\n\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n\n  this._marker.setPosition(coordinates);\n  setTimeout(function () {\n    return _this5._marker.setPosition();\n  }, duration);\n};\n\n// return layer by name\nproto.getLayerByName = function (name) {\n  return this.getMap().getLayers().getArray().find(function (lyr) {\n    return lyr.get('name') === name;\n  });\n};\n\n// return layer by id\nproto.getLayerById = function (id) {\n  return this.getMap().getLayers().getArray().find(function (layer) {\n    return layer.get('id') === id;\n  });\n};\n\n// method do get all feature from vector layer based on coordinates\nproto.getVectorLayerFeaturesFromCoordinates = function (layerId, coordinates) {\n  var intersectGeom = void 0;\n  var features = [];\n  var map = this.getMap();\n  var vectorLayer = this.getLayerById(layerId);\n  if (Array.isArray(coordinates)) {\n    if (coordinates.length === 2) {\n      var pixel = map.getPixelFromCoordinate(coordinates);\n      map.forEachFeatureAtPixel(pixel, function (feature) {\n        return features.push(feature);\n      }, {\n        layerFilter: function layerFilter(layer) {\n          return layer === vectorLayer;\n        }\n      });\n    } else if (coordinates.length === 4) {\n      intersectGeom = ol.geom.Polygon.fromExtent(coordinates);\n      switch (vectorLayer.constructor) {\n        case VectorLayer:\n          features = vectorLayer.getIntersectedFeatures(intersectGeom);\n          break;\n        case ol.layer.Vector:\n          vectorLayer.getSource().getFeatures().forEach(function (feature) {\n            intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n          });\n          break;\n      }\n    }\n  } else if (coordinates instanceof ol.geom.Polygon || coordinates instanceof ol.geom.MultiPolygon) {\n    intersectGeom = coordinates;\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(intersectGeom);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n  }\n  return features;\n};\n\nproto.getQueryLayerByCoordinates = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref5.layer,\n      coordinates = _ref5.coordinates;\n\n  var mapProjection = this.getProjection();\n  var resolution = this.getResolution();\n  return new Promise(function (resolve, reject) {\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      return resolve(response);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nproto.getQueryLayerPromiseByCoordinates = function () {\n  var _this6 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref6.layer,\n      coordinates = _ref6.coordinates;\n\n  return new Promise(function (resolve, reject) {\n    var mapProjection = _this6.getProjection();\n    var resolution = _this6.getResolution();\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      resolve(response);\n    }).fail(function (error) {\n      reject(error);\n    });\n  });\n};\n\n//setup controls\n/*\n  layout : {\n    lv: <options> h : horizontal (default), v vertical\n    lh: <options> h: horizontal: v vertical (default)\n  }\n */\n\nproto.activeMapControl = function (controlName) {\n  var mapControl = this._mapControls.find(function (control) {\n    return control.type === controlName;\n  });\n  var control = mapControl.control;\n  !control.isToggled() ? control.toggle() : null;\n};\n\nproto.createMapControl = function (type) {\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      id = _ref7.id,\n      _ref7$add = _ref7.add,\n      add = _ref7$add === undefined ? true : _ref7$add,\n      _ref7$toggled = _ref7.toggled,\n      toggled = _ref7$toggled === undefined ? false : _ref7$toggled,\n      visible = _ref7.visible,\n      _ref7$options = _ref7.options,\n      options = _ref7$options === undefined ? {} : _ref7$options;\n\n  id = id || type;\n  var control = ControlsFactory.create(_extends({\n    type: type,\n    toggled: toggled\n  }, options));\n  visible = visible === undefined ? control.isVisible ? control.isVisible() : true : visible;\n  control && this.addControl(id, type, control, add, visible);\n  return control;\n};\n\nproto.addScaleLineUnits = function () {\n  var _this7 = this;\n\n  var units = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  units.forEach(function (unit) {\n    return _this7.state.mapunits.push(unit);\n  });\n};\n\nproto.changeScaleLineUnit = function (unit) {\n  var scalelinecontrol = this.getMapControlByType({\n    type: 'scaleline'\n  });\n  scalelinecontrol && scalelinecontrol.getOlControl().setUnits(unit);\n};\n\nproto.showAddLayerModal = function () {\n  this.emit('addexternallayer');\n};\n\nproto._checkMapControls = function () {\n  this._changeMapMapControls.forEach(function (_ref8) {\n    var control = _ref8.control,\n        getLayers = _ref8.getLayers;\n\n    var layers = getLayers();\n    control.change(layers);\n  });\n};\n\nproto._setupControls = function () {\n  var _this8 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  this.getMapLayers().forEach(function (mapLayer) {\n    return mapLayer.getSource().setAttributions(_this8.getApplicationAttribution());\n  });\n  // check if base layer is set. If true add attribution control\n  if (this.getApplicationAttribution() || baseLayers.length) {\n    var attributionControl = new ol.control.Attribution({\n      collapsible: false,\n      target: 'map_footer_left'\n    });\n    this.getMap().addControl(attributionControl);\n  }\n\n  if (this.config && this.config.mapcontrols) {\n    var mapcontrols = this.config.mapcontrols;\n    var feature_count = this.project.getQueryFeatureCount();\n    var query_point_tolerance = this.project.getQueryPointTolerance();\n    var map = this.getMap();\n    mapcontrols.forEach(function (mapcontrol) {\n      var control = void 0;\n      // mapcontrol can be a String or object with options\n      var controlType = toRawType(mapcontrol) === 'String' ? mapcontrol : mapcontrol.name;\n      switch (controlType) {\n        case 'reset':\n          if (!isMobile.any) {\n            control = ControlsFactory.create({\n              type: controlType\n            });\n          }\n          _this8.addControl(controlType, control, false);\n          break;\n        case 'zoom':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              zoomInLabel: '\\uE98A',\n              zoomOutLabel: '\\uE98B'\n            }\n          });\n          break;\n        case 'zoombox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('zoomend', function (e) {\n              _this8.viewer.fit(e.extent);\n            });\n          }\n          break;\n        case 'zoomtoextent':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              label: '\\uE98C',\n              extent: _this8.project.state.initextent\n            }\n          });\n          break;\n        case 'mouseposition':\n          if (!isMobile.any) {\n            var coordinateLabels = _this8.getProjection().getUnits() === 'm' ? ['X', 'Y'] : ['Lng', 'Lat'];\n            var crs = _this8.getCrs();\n            control = _this8.createMapControl(controlType, {\n              add: false,\n              options: {\n                coordinateFormat: function coordinateFormat(coordinate) {\n                  return ol.coordinate.format(coordinate, '\\xA0' + coordinateLabels[0] + ': {x}, ' + coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + crs + ']\\xA0', 4);\n                },\n\n                undefinedHTML: false,\n                projection: _this8.getCrs()\n              }\n            });\n            if (_this8.getEpsg() !== 'EPSG:4326') {\n              var mapEspg = _this8.getEpsg();\n              var _coordinateLabels = ['Lng', 'Lat'];\n              var _crs = _this8.getCrs();\n              control = _this8.createMapControl(controlType, {\n                add: false,\n                options: {\n                  target: 'mouse-position-control-epsg-4326',\n                  coordinateFormat: function coordinateFormat(coordinate) {\n                    coordinate = ol.proj.transform(coordinate, mapEspg, 'EPSG:4326');\n                    return ol.coordinate.format(coordinate, '\\xA0' + _coordinateLabels[0] + ': {x}, ' + _coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + _crs + ']\\xA0', 4);\n                  },\n\n                  undefinedHTML: false,\n                  projection: _this8.getCrs()\n                }\n              });\n            }\n          }\n          break;\n        case 'screenshot':\n        case 'geoscreenshot':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                layers: _mapLayers2.default.getLayers(),\n                onclick: function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                    var caller_download_id, blobImage, url, _bbox, csrfmiddlewaretoken, geoTIFF;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            // Start download show Image\n                            caller_download_id = _application2.default.setDownload(true);\n                            _context.prev = 1;\n                            _context.next = 4;\n                            return _this8.createMapImage();\n\n                          case 4:\n                            blobImage = _context.sent;\n\n                            if (!(controlType === 'screenshot')) {\n                              _context.next = 9;\n                              break;\n                            }\n\n                            saveAs(blobImage, 'map_' + Date.now() + '.png');\n                            _context.next = 22;\n                            break;\n\n                          case 9:\n                            url = '/' + _this8.project.getType() + '/api/asgeotiff/' + _this8.project.getId() + '/';\n                            _bbox = _this8.getMapBBOX().toString();\n                            csrfmiddlewaretoken = _this8.getCookie('csrftoken');\n                            _context.prev = 12;\n                            _context.next = 15;\n                            return getGeoTIFFfromServer({\n                              url: url,\n                              params: {\n                                image: blobImage,\n                                csrfmiddlewaretoken: csrfmiddlewaretoken,\n                                bbox: _bbox\n                              },\n                              method: \"POST\"\n                            });\n\n                          case 15:\n                            geoTIFF = _context.sent;\n\n                            saveAs(geoTIFF, 'map_' + Date.now() + '.tif');\n                            _context.next = 22;\n                            break;\n\n                          case 19:\n                            _context.prev = 19;\n                            _context.t0 = _context['catch'](12);\n\n                            console.log(_context.t0);\n\n                          case 22:\n                            _context.next = 27;\n                            break;\n\n                          case 24:\n                            _context.prev = 24;\n                            _context.t1 = _context['catch'](1);\n\n                            _gui2.default.showUserMessage({\n                              type: 'alert',\n                              message: t(\"mapcontrols.screenshot.error\"),\n                              autoclose: true\n                            });\n\n                          case 27:\n                            // Stop download show Image\n                            _application2.default.setDownload(false, caller_download_id);\n                            return _context.abrupt('return', true);\n\n                          case 29:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this8, [[1, 24], [12, 19]]);\n                  }));\n\n                  function onclick() {\n                    return _ref9.apply(this, arguments);\n                  }\n\n                  return onclick;\n                }()\n              }\n            });\n            var change = {\n              control: control,\n              getLayers: function getLayers() {\n                return _this8.getMapLayers();\n              }\n            };\n            _this8._changeMapMapControls.push(change);\n          }\n          break;\n        case 'scale':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              coordinateFormat: ol.coordinate.createStringXY(4),\n              projection: _this8.getCrs(),\n              isMobile: isMobile.any\n            }\n          });\n          break;\n        case 'query':\n          control = _this8.createMapControl(controlType, {\n            add: true,\n            toggled: true\n          });\n          var runQuery = throttle(function () {\n            var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(e) {\n              var coordinates, _ref11, _ref11$data, data;\n\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      coordinates = e.coordinates;\n\n                      _gui2.default.closeOpenSideBarComponent();\n                      _context2.prev = 2;\n                      _context2.next = 5;\n                      return _data2.default.getData('query:coordinates', {\n                        inputs: {\n                          coordinates: coordinates,\n                          feature_count: feature_count,\n                          query_point_tolerance: query_point_tolerance,\n                          multilayers: _this8.project.isQueryMultiLayers(controlType)\n                        }\n                      });\n\n                    case 5:\n                      _ref11 = _context2.sent;\n                      _ref11$data = _ref11.data;\n                      data = _ref11$data === undefined ? [] : _ref11$data;\n\n                      data.length && _this8.showMarker(coordinates);\n                      _context2.next = 13;\n                      break;\n\n                    case 11:\n                      _context2.prev = 11;\n                      _context2.t0 = _context2['catch'](2);\n\n                    case 13:\n                    case 'end':\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2, _this8, [[2, 11]]);\n            }));\n\n            return function (_x12) {\n              return _ref10.apply(this, arguments);\n            };\n          }());\n          var eventKey = control.on('picked', runQuery);\n          control.setEventKey({\n            eventType: 'picked',\n            eventKey: eventKey\n          });\n          break;\n        case 'querybypolygon':\n          if (!isMobile.any) {\n            var condition = {\n              filtrable: {\n                ows: 'WFS'\n              }\n            };\n            var getControlLayers = function getControlLayers() {\n              var controlQuerableLayers = getMapLayersByFilter({\n                QUERYABLE: true,\n                SELECTEDORALL: true\n              });\n              var controlFiltrableLayers = _this8.filterableLayersAvailable({\n                FILTERABLE: true,\n                SELECTEDORALL: true\n              }, condition);\n              return controlFiltrableLayers.length ? [].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(controlFiltrableLayers), _toConsumableArray(controlQuerableLayers))))) : [];\n            };\n            var spatialMethod = 'intersects';\n            control = _this8.createMapControl(controlType, {\n              options: {\n                spatialMethod: spatialMethod,\n                layers: getControlLayers(),\n                help: {\n                  title: \"sdk.mapcontrols.querybypolygon.help.title\",\n                  message: \"sdk.mapcontrols.querybypolygon.help.message\"\n                }\n              }\n            });\n            if (control) {\n              var _change = {\n                control: control,\n                getLayers: getControlLayers\n              };\n              _this8._changeMapMapControls.push(_change);\n              var _runQuery = throttle(function () {\n                var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(e) {\n                  var coordinates, _ref13, _ref13$data, dataCoordinates, feature, excludeLayers, _ref15, _ref15$data, data;\n\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          _gui2.default.closeOpenSideBarComponent();\n                          coordinates = e.coordinates;\n                          // ask for coordinates\n\n                          _context3.prev = 2;\n                          _context3.next = 5;\n                          return _data2.default.getData('query:coordinates', {\n                            inputs: {\n                              feature_count: feature_count,\n                              coordinates: coordinates\n                            },\n                            outputs: {\n                              show: function show(_ref14) {\n                                var _ref14$data = _ref14.data,\n                                    data = _ref14$data === undefined ? [] : _ref14$data,\n                                    query = _ref14.query;\n\n                                var show = data.length === 0;\n                                // set coordinates to null in case of show  is false to avoid that externalvector added to query result\n                                // response to coordinates otherwise we show coordinate in point\n                                query.coordinates = !show ? null : query.coordinates;\n                                return show;\n                              }\n                            }\n                          });\n\n                        case 5:\n                          _ref13 = _context3.sent;\n                          _ref13$data = _ref13.data;\n                          dataCoordinates = _ref13$data === undefined ? [] : _ref13$data;\n\n                          if (!(dataCoordinates.length && dataCoordinates[0].features.length)) {\n                            _context3.next = 17;\n                            break;\n                          }\n\n                          feature = dataCoordinates[0].features[0];\n                          excludeLayers = [dataCoordinates[0].layer];\n                          _context3.next = 13;\n                          return _data2.default.getData('query:polygon', {\n                            inputs: {\n                              excludeLayers: excludeLayers,\n                              feature: feature,\n                              filterConfig: {\n                                spatialMethod: control.getSpatialMethod() // added spatial method to polygon filter\n                              },\n                              multilayers: _this8.project.isQueryMultiLayers(controlType)\n                            },\n                            outputs: {\n                              show: function show(_ref16) {\n                                var _ref16$error = _ref16.error,\n                                    error = _ref16$error === undefined ? false : _ref16$error;\n\n                                return !error;\n                              }\n                            }\n                          });\n\n                        case 13:\n                          _ref15 = _context3.sent;\n                          _ref15$data = _ref15.data;\n                          data = _ref15$data === undefined ? [] : _ref15$data;\n\n                          data.length && map.getView().setCenter(coordinates);\n\n                        case 17:\n                          _context3.next = 22;\n                          break;\n\n                        case 19:\n                          _context3.prev = 19;\n                          _context3.t0 = _context3['catch'](2);\n\n                          console.log(_context3.t0);\n\n                        case 22:\n                        case 'end':\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, _this8, [[2, 19]]);\n                }));\n\n                return function (_x13) {\n                  return _ref12.apply(this, arguments);\n                };\n              }());\n              var _eventKey = control.on('picked', _runQuery);\n              control.setEventKey({\n                eventType: 'picked',\n                eventKey: _eventKey\n              });\n            }\n          }\n          break;\n        case 'querybbox':\n          if (!isMobile.any) {\n            var _condition = {\n              filtrable: {\n                ows: 'WFS'\n              }\n            };\n            var _getControlLayers = function _getControlLayers() {\n              var layers = _this8.filterableLayersAvailable(_condition) || [];\n              layers.forEach(function (layer) {\n                return layer.setTocHighlightable(true);\n              });\n              return layers;\n            };\n            // check the start iniztial layer available to create and add querybobx control to map\n            var layers = _getControlLayers();\n            var _spatialMethod = 'intersects';\n            control = _this8.createMapControl(controlType, {\n              options: {\n                spatialMethod: _spatialMethod,\n                layers: layers,\n                help: {\n                  title: \"sdk.mapcontrols.querybybbox.help.title\",\n                  message: \"sdk.mapcontrols.querybybbox.help.message\"\n                }\n              }\n            });\n            if (control) {\n              var _change2 = {\n                control: control,\n                getLayers: _getControlLayers\n              };\n              _this8._changeMapMapControls.push(_change2);\n              // get all filtrable layers in toc no based on selection or visibility\n              var layersFilterObject = {\n                SELECTEDORALL: true, // selected or all\n                FILTERABLE: true,\n                VISIBLE: true\n              };\n              var _runQuery2 = throttle(function () {\n                var _ref17 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(e) {\n                  var bbox, _ref18, _ref18$data, data, center;\n\n                  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          _gui2.default.closeOpenSideBarComponent();\n                          bbox = e.extent;\n                          _context4.prev = 2;\n                          _context4.next = 5;\n                          return _data2.default.getData('query:bbox', {\n                            inputs: {\n                              bbox: bbox,\n                              feature_count: feature_count,\n                              layersFilterObject: layersFilterObject,\n                              filterConfig: {\n                                spatialMethod: control.getSpatialMethod() // added spatial method to polygon filter\n                              },\n                              condition: _condition,\n                              multilayers: _this8.project.isQueryMultiLayers(controlType)\n                            }\n                          });\n\n                        case 5:\n                          _ref18 = _context4.sent;\n                          _ref18$data = _ref18.data;\n                          data = _ref18$data === undefined ? [] : _ref18$data;\n\n                          if (data.length) {\n                            center = ol.extent.getCenter(bbox);\n\n                            _this8.getMap().getView().setCenter(center);\n                          }\n                          _context4.next = 14;\n                          break;\n\n                        case 11:\n                          _context4.prev = 11;\n                          _context4.t0 = _context4['catch'](2);\n\n                          console.log(_context4.t0);\n\n                        case 14:\n                        case 'end':\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4, _this8, [[2, 11]]);\n                }));\n\n                return function (_x14) {\n                  return _ref17.apply(this, arguments);\n                };\n              }());\n              var _eventKey2 = control.on('bboxend', _runQuery2);\n              control.setEventKey({\n                eventType: 'bboxend',\n                eventKey: _eventKey2\n              });\n            }\n          }\n          break;\n        case 'streetview':\n          // streetview\n          control = _this8.createMapControl(controlType, {});\n          break;\n        case 'scaleline':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              position: 'br'\n            }\n          });\n          break;\n        case 'overview':\n          if (!isMobile.any) {\n            if (!_this8.config.overviewproject) return;\n            var overviewProjectGid = _this8.config.overviewproject.gid;\n            if (overviewProjectGid) {\n              _projects2.default.getProject(overviewProjectGid).then(function (project) {\n                var overViewMapLayers = _this8.getOverviewMapLayers(project);\n                var viewOptions = _this8._calculateViewOptions({\n                  width: 200, // at moment hardcoded\n                  height: 150,\n                  project: project\n                });\n                var view = new ol.View(viewOptions);\n                var mainView = _this8.getMap().getView();\n                view.on('change:center', function () {\n                  var currentCenter = this.getCenter();\n                  var center = mainView.constrainCenter(currentCenter);\n                  center[0] !== currentCenter[0] || center[1] !== currentCenter[1] && view.setCenter(center);\n                });\n                control = _this8.createMapControl(controlType, {\n                  add: false,\n                  options: {\n                    position: 'bl',\n                    className: 'ol-overviewmap ol-custom-overviewmap',\n                    collapseLabel: $('<span class=\"' + _gui2.default.getFontClass('arrow-left') + '\"></span>')[0],\n                    label: $('<span class=\"' + _gui2.default.getFontClass('arrow-right') + '\"></span>')[0],\n                    collapsed: false,\n                    layers: overViewMapLayers,\n                    view: view\n                  }\n                });\n              });\n            }\n          }\n          break;\n        case 'geocoding':\n        case 'nominatim':\n          var _project$state = _this8.project.state,\n              bbox = _project$state.extent,\n              _mapCrs = _project$state.crs.epsg;\n\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              isMobile: isMobile.any,\n              bbox: bbox,\n              mapCrs: _mapCrs,\n              placeholder: \"mapcontrols.nominatim.placeholder\",\n              noresults: \"mapcontrols.nominatim.noresults\",\n              notresponseserver: \"mapcontrols.nominatim.notresponseserver\"\n            }\n          });\n          break;\n        case 'geolocation':\n          control = _this8.createMapControl(controlType);\n          control.on('click', throttle(function (evt) {\n            return _this8.showMarker(evt.coordinates);\n          }));\n          control.on('error', function (evt) {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: \"mapcontrols.geolocations.error\",\n              autoclose: true\n            });\n          });\n          break;\n        case 'addlayers':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('addlayer', function () {\n              return _this8.emit('addexternallayer');\n            });\n          }\n          break;\n        case 'length':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.length.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.length.help'\n                }\n              }\n            });\n          }\n          break;\n        case 'area':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.area.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.area.help'\n                }\n              }\n            });\n          }\n          break;\n      }\n    });\n    return this.getMapControls();\n  }\n};\n\n/**\n *  Set ZIndex layer from fa stack\n */\nproto.setZIndexLayer = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref19.layer,\n      _ref19$zindex = _ref19.zindex,\n      zindex = _ref19$zindex === undefined ? this.getMap().getLayers().getLength() : _ref19$zindex;\n\n  layer && layer.setZIndex(zindex);\n};\n\n/**\n *\n * Get map stack layer position\n */\nproto.getLayerZindex = function (layer) {\n  return layer && layer.getZIndex();\n};\n\nproto.getCenter = function () {\n  var map = this.getMap();\n  return map.getView().getCenter();\n};\n\n/**\n *\n *method to zoom to feature\n */\nproto.zoomToFid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var zoom_to_fid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '|';\n\n  var _zoom_to_fid$split, _zoom_to_fid$split2, layerId, fid, layer, _ref21, _ref21$data, data, feature;\n\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _zoom_to_fid$split = zoom_to_fid.split(separator), _zoom_to_fid$split2 = _slicedToArray(_zoom_to_fid$split, 2), layerId = _zoom_to_fid$split2[0], fid = _zoom_to_fid$split2[1];\n\n          if (!(layerId !== undefined && fid !== undefined)) {\n            _context5.next = 10;\n            break;\n          }\n\n          layer = this.project.getLayerById(layerId);\n          _context5.next = 5;\n          return _data2.default.getData('search:fids', {\n            inputs: {\n              layer: layer,\n              fids: [fid]\n            },\n            outputs: {\n              show: {\n                loading: false,\n                condition: function condition() {\n                  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                      _ref22$data = _ref22.data,\n                      data = _ref22$data === undefined ? [] : _ref22$data;\n\n                  return data[0] && data[0].features.length > 0;\n                }\n              }\n            }\n          });\n\n        case 5:\n          _ref21 = _context5.sent;\n          _ref21$data = _ref21.data;\n          data = _ref21$data === undefined ? [] : _ref21$data;\n          feature = data[0] && data[0].features[0];\n\n          feature && this.zoomToFeatures([feature]);\n\n        case 10:\n        case 'end':\n          return _context5.stop();\n      }\n    }\n  }, _callee5, this);\n}));\n\n/**\n * Method to handele ztf url parameter\n * @param zoom_to_feature\n */\nproto.handleZoomToFeaturesUrlParameter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref24$zoom_to_featur = _ref24.zoom_to_features,\n      zoom_to_features = _ref24$zoom_to_featur === undefined ? '' : _ref24$zoom_to_featur,\n      _ref24$search_endpoin = _ref24.search_endpoint,\n      search_endpoint = _ref24$search_endpoin === undefined ? 'api' : _ref24$search_endpoin;\n\n  var _zoom_to_features$spl, _zoom_to_features$spl2, layerNameorIdorOrigname, fieldsValuesSearch, projectLayer, layer, filter, _ref25, data;\n\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _zoom_to_features$spl = zoom_to_features.split(':'), _zoom_to_features$spl2 = _slicedToArray(_zoom_to_features$spl, 2), layerNameorIdorOrigname = _zoom_to_features$spl2[0], fieldsValuesSearch = _zoom_to_features$spl2[1];\n\n          if (!(layerNameorIdorOrigname && fieldsValuesSearch)) {\n            _context6.next = 12;\n            break;\n          }\n\n          projectLayer = this.project.getLayers().find(function (layer) {\n            return layer.id === layerNameorIdorOrigname || layer.name === layerNameorIdorOrigname || layer.origname === layerNameorIdorOrigname;\n          });\n\n          if (!projectLayer) {\n            _context6.next = 12;\n            break;\n          }\n\n          layer = this.project.getLayerById(projectLayer.id);\n          filter = createFilterFromString({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            filter: fieldsValuesSearch\n          });\n          _context6.next = 9;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              filter: filter,\n              search_endpoint: search_endpoint\n            },\n            outputs: {\n              show: {\n                loading: false\n              }\n            }\n          });\n\n        case 9:\n          _ref25 = _context6.sent;\n          data = _ref25.data;\n\n          data && data[0] && data[0].features && this.zoomToFeatures(data[0].features);\n\n        case 12:\n          _context6.next = 17;\n          break;\n\n        case 14:\n          _context6.prev = 14;\n          _context6.t0 = _context6['catch'](0);\n\n          console.log(_context6.t0);\n\n        case 17:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[0, 14]]);\n}));\n\nproto.getMapExtent = function () {\n  var map = this.getMap();\n  return map.getView().calculateExtent(map.getSize());\n};\n\nproto.addMapExtentUrlParameterToUrl = function (url) {\n  url = new URL(url);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.getMapExtentUrl = function () {\n  var url = new URL(location.href);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.createCopyMapExtentUrl = function () {\n  var url = this.getMapExtentUrl();\n  copyUrl(url);\n};\n\nproto._setMapControlsGrid = function (length) {\n  var grid = this.state.mapControl.grid;\n  if (length < 2) {\n    var rC = grid[grid.length - 1];\n    grid.push({\n      rows: rC.rows * 2,\n      columns: 2\n    });\n    return;\n  }\n  if (length === 2) {\n    if (grid.length) {\n      var _rC = grid[grid.length - 1];\n      grid.push({\n        rows: _rC.columns,\n        columns: _rC.rows\n      });\n    } else {\n      grid.push({\n        rows: 1,\n        columns: 2\n      });\n    }\n  } else if (length === 3) {\n    var _rC2 = grid[grid.length - 1];\n    grid.push({\n      rows: 2 * _rC2.rows,\n      columns: length\n    });\n  } else {\n    grid.push({\n      rows: grid.length + 1 + (Number.isInteger(length) ? 0 : 1),\n      columns: Number.isInteger(length) ? length : parseInt(length) + 1\n    });\n    var _length = Number.isInteger(length) ? length : parseInt(length);\n    this._setMapControlsGrid(_length / 2);\n  }\n};\n\nproto._setMapControlsInsideContainerLenght = function () {\n  var _this9 = this;\n\n  this.state.mapControl.length = 1;\n  // count the mapcontrol inside g3w-map-control container\n  this._mapControls.forEach(function (control) {\n    var map = _this9.getMap();\n    _this9.state.mapControl.length += control.mapcontrol ? control.id === 'zoom' ? 2 : 1 : 0;\n    control.control.changelayout ? control.control.changelayout(map) : null;\n  });\n  // add 1 id odd number\n  this.state.mapControl.length += this.state.mapControl.length % 2;\n  this.state.mapControl.grid = [];\n  this._setMapControlsGrid(this.state.mapControl.length);\n};\n\n/**\n * Get filtrable layer. Get parameter to custom filter Object\n */\nproto.filterableLayersAvailable = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = getMapLayersByFilter({\n    FILTERABLE: true,\n    SELECTEDORALL: true\n  }, options);\n  return layers.filter(function (layer) {\n    return layer.getProvider('filter') instanceof WFSProvider;\n  });\n};\n\nproto.setMapControlsAlignement = function () {\n  var alignement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rv';\n\n  this.state.mapcontrolsalignement = alignement;\n};\n\nproto.getMapControlsAlignement = function () {\n  return this.state.mapcontrolsalignement;\n};\n\nproto.isMapControlsVerticalAlignement = function () {\n  return this.state.mapcontrolsalignement.indexOf('v') !== -1;\n};\n\nproto.setMapControlsVerticalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsHorizontalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'h';\n};\n\nproto.flipControlsHorizontally = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] === 'r' ? 'l' + this.state.mapcontrolsalignement[1] : 'r' + this.state.mapcontrolsalignement[1];\n};\n\nproto.flipMapControlsVertically = function () {\n  this.state.mapcontrolsalignment = this.state.mapcontrolsalignement[1] === 'v' ? this.state.mapcontrolsalignement[0] + 'h' : this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsContainer = function (mapControlDom) {\n  this.state.mapcontrolDOM = mapControlDom;\n};\n\nproto._updateMapControlsLayout = function () {\n  var _this10 = this;\n\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref26.width,\n      height = _ref26.height;\n\n  // case mobile open keyboard\n  width == 0 || height == 0 ? this.state.mapcontrolDOM.css('z-index', 0) : this.state.mapcontrolDOM.css('z-index', 1);\n  // update only when all control are ready\n  if (this.state.mapcontrolready && this.state.mapControl.update) {\n    var changedAndMoreSpace = {\n      changed: false,\n      space: false\n    };\n    // count the mapcontrol insied g3w-map-control container\n    this._mapControls.forEach(function (control) {\n      var map = _this10.getMap();\n      control.control.changelayout ? control.control.changelayout(map) : null;\n    });\n    // check if is vertical\n    if (this.isMapControlsVerticalAlignement()) {\n      var handleVerticalMapControlDOMElements = function handleVerticalMapControlDOMElements() {\n        var mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n        // get bottom controls\n        var bottomMapControls = $('.ol-control-b' + _this10.getMapControlsAlignement()[0]);\n        var bottomMapControlTop = bottomMapControls.length ? $(bottomMapControls[bottomMapControls.length - 1]).position().top : height;\n        var freeSpace = bottomMapControlTop > 0 ? bottomMapControlTop - mapControslHeight : height - mapControslHeight;\n        if (freeSpace < 10) {\n          _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === _this10.state.mapControl.grid.length - 1 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex + 1;\n          changedAndMoreSpace.changed = true;\n        } else {\n          // check if there enough space to expand map controls\n          /**\n           Add 15 px of offset. Need to find a better solution in future\n           */\n          var nextHeight = 15 + (_this10.state.mapControl.currentIndex > 0 ? _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex - 1].columns * _this10.state.mapcontrolSizes.minWidth - mapControslHeight : mapControslHeight);\n          if (freeSpace > nextHeight) {\n            changedAndMoreSpace.changed = true;\n            changedAndMoreSpace.space = true;\n            _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === 0 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex - 1;\n          }\n        }\n        if (changedAndMoreSpace.changed) {\n          var _mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n          var mapControlsWidth = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].rows * _this10.state.mapcontrolSizes.minWidth;\n          _this10.state.mapcontrolDOM.css('height', _mapControslHeight + 'px');\n          _this10.state.mapcontrolDOM.css('width', mapControlsWidth + 'px');\n          changedAndMoreSpace.changed = false;\n          changedAndMoreSpace.space && setTimeout(function () {\n            return handleVerticalMapControlDOMElements();\n          });\n        }\n      };\n      handleVerticalMapControlDOMElements();\n    } else isMobile.any && this.setMapControlsAlignement('rv');\n  }\n};\n\n/**\n *\n * @param control\n * @param visible\n * @private\n */\nproto._setMapControlVisible = function (_ref27) {\n  var control = _ref27.control,\n      _ref27$visible = _ref27.visible,\n      visible = _ref27$visible === undefined ? true : _ref27$visible;\n\n  control && control.setVisible(visible);\n};\n\nproto._addControlToMapControls = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var controlElement = control.element;\n  if (!visible) control.element.style.display = \"none\";\n  $('.g3w-map-controls').append(controlElement);\n};\n\nproto.getMapControlByType = function () {\n  var _ref28 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref28.type;\n\n  var mapControl = this._mapControls.find(function (mapControl) {\n    return type === mapControl.type;\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n *\n *\n * @param id\n * @param type\n * @param control\n * @param addToMapControls\n * @param visible\n */\nproto.addControl = function (id, type, control) {\n  var _this11 = this;\n\n  var addToMapControls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var visible = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n  this.state.mapcontrolready = false;\n  this.viewer.map.addControl(control);\n  control.on('toggled', function (evt) {\n    return _this11.emit('mapcontrol:toggled', evt);\n  });\n  this._mapControls.push({\n    id: id,\n    type: type,\n    control: control,\n    visible: visible,\n    mapcontrol: addToMapControls && visible\n  });\n  control.on('controlclick', function (evt) {\n    var mapcontrol = evt.target;\n\n    var info = {\n      clickmap: mapcontrol.isClickMap && mapcontrol.isClickMap() || false\n    };\n    info.clickmap && _this11._externalInteractions.forEach(function (interaction) {\n      return interaction.setActive(false);\n    });\n    _this11.controlClick(mapcontrol, info);\n  });\n  var buttonControl = $(control.element).find('button');\n  buttonControl.tooltip({\n    placement: 'bottom',\n    trigger: _gui2.default.isMobile() ? 'click' : 'hover'\n  });\n  // in case of mobile hide tooltip after click\n  _gui2.default.isMobile() && buttonControl.on('shown.bs.tooltip', function () {\n    var _this12 = this;\n\n    setTimeout(function () {\n      return $(_this12).tooltip('hide');\n    }, 600);\n  });\n  if (addToMapControls) this._addControlToMapControls(control, visible);else {\n    var $mapElement = $('#' + this.getMap().getTarget());\n    this._updateMapControlsLayout({\n      width: $mapElement.width(),\n      height: $mapElement.height()\n    });\n  }\n  _mapControls2.default.registerControl(type, control);\n  this._setMapControlsInsideContainerLenght();\n  this.state.mapcontrolready = true;\n};\n\nproto.showControl = function (type) {\n  this.showControls([type]);\n};\n\nproto.hideControl = function (type) {\n  this.hideControls([type]);\n};\n\nproto.showControls = function (types) {\n  this.toggleControls(true, types);\n};\n\nproto.hideControls = function (types) {\n  this.toggleControls(false, types);\n};\n\nproto.showAllControls = function () {\n  this.toggleControls(true);\n};\n\nproto.hideAllControls = function () {\n  this.toggleControls(false);\n};\n\nproto.toggleControls = function (toggle, types) {\n  this._removeControls();\n  this._mapControls.forEach(function (controlObj) {\n    if (types) {\n      if (types.indexOf(controlObj.type) > -1) controlObj.visible = toggle;\n    } else controlObj.visible = toggle;\n  });\n  this._layoutControls();\n};\n\nproto._layoutControls = function () {\n  var _this13 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.visible) _this13.viewer.map.addControl(controlObj.control);\n  });\n};\n\nproto.getMapControls = function () {\n  return this._mapControls;\n};\n\nproto.removeControlById = function (id) {\n  var _this14 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (id === controlObj.id) {\n      _this14._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this14.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto.removeControl = function (type) {\n  var _this15 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (type === controlObj.type) {\n      _this15._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this15.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto._removeControls = function () {\n  var _this16 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    return _this16.viewer.map.removeControl(controlObj.control);\n  });\n};\n\n/**\n * untoggle mapcontrol\n * @param close GUI content\n * @private\n */\nproto._unToggleControls = function () {\n  var _ref29 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref29$close = _ref29.close,\n      close = _ref29$close === undefined ? true : _ref29$close;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.control.isToggled && controlObj.control.isToggled()) {\n      controlObj.control.toggle(false);\n      close && _gui2.default.closeContent();\n    }\n  });\n};\n\nproto.deactiveMapControls = function () {\n  this._unToggleControls({\n    close: false\n  });\n};\n\n/**\n *\n * Method to disable\n */\nproto.disableClickMapControls = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._mapControls.forEach(function (controlObj) {\n    var control = controlObj.control;\n\n    var clickmap = control.isClickMap ? control.isClickMap() : false;\n    if (clickmap) {\n      control.isToggled() && control.toggle();\n      control[bool ? 'disable' : 'enable']();\n    }\n  });\n};\n\nproto.addMapLayers = function (mapLayers) {\n  var _this17 = this;\n\n  mapLayers.reverse().forEach(function (mapLayer) {\n    return _this17.addMapLayer(mapLayer);\n  });\n};\n\nproto._setupCustomMapParamsToLegendUrl = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (bool) {\n    var map = this.getMap();\n    var size = map && map.getSize().filter(function (value) {\n      return value > 0;\n    }) || null;\n    var bbox = size && size.length === 2 ? map.getView().calculateExtent(size) : this.project.state.initextent;\n    // in case of axis orientation inverted i need to inverted the axis\n    bbox = map.getView().getProjection().getAxisOrientation() === \"neu\" ? [bbox[1], bbox[0], bbox[3], bbox[2]] : bbox;\n    var crs = this.getEpsg();\n    //setup initial legend parameter\n    this.getMapLayers().forEach(function (mapLayer) {\n      mapLayer.setupCustomMapParamsToLegendUrl && mapLayer.setupCustomMapParamsToLegendUrl({\n        crs: crs,\n        bbox: bbox\n      });\n    });\n    this.emit('change-map-legend-params');\n  }\n};\n\nproto.addMapLayer = function (mapLayer) {\n  this._mapLayers.push(mapLayer);\n  this.addLayerToMap(mapLayer);\n};\n\nproto.getMapLayerByLayerId = function (layerId) {\n  return this.getMapLayers().find(function (mapLayer) {\n    return mapLayer.getLayerConfigs().find(function (layer) {\n      return layer.getId() === layerId;\n    });\n  });\n};\n\nproto.getMapLayers = function () {\n  return this._mapLayers;\n};\n\nproto.getBaseLayers = function () {\n  return this.mapBaseLayers;\n};\n\nproto.getMapLayerForLayer = function (layer) {\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayers = this.getMapLayers();\n  var mapLayer = mapLayers.find(function (mapLayer) {\n    return mapLayer.getId() === multilayerId;\n  });\n  return mapLayer;\n};\n\nproto.getProjectLayer = function (layerId) {\n  return _mapLayers2.default.getLayerById(layerId);\n};\n\nproto._setSettings = function () {\n  var ZOOM = _constant.MAP_SETTINGS.ZOOM;\n\n  var maxScale = this.getScaleFromExtent(this.project.state.initextent);\n  // settings maxScale\n  ZOOM.maxScale = ZOOM.maxScale > maxScale ? maxScale : ZOOM.maxScale;\n};\n\nproto._resetView = function () {\n  var _viewer$map$getSize = this.viewer.map.getSize(),\n      _viewer$map$getSize2 = _slicedToArray(_viewer$map$getSize, 2),\n      width = _viewer$map$getSize2[0],\n      height = _viewer$map$getSize2[1];\n\n  var extent = this.project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var minyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, minyRes) > this.viewer.map.getView().getMaxResolution() ? Math.max(maxxRes, minyRes) : this.viewer.map.getView().getMaxResolution();\n  var view = new ol.View({\n    extent: extent,\n    projection: this.viewer.map.getView().getProjection(),\n    center: this.viewer.map.getView().getCenter(),\n    resolution: this.viewer.map.getView().getResolution(),\n    maxResolution: maxResolution\n  });\n  this._setSettings();\n  this.viewer.map.setView(view);\n};\n\nproto._calculateViewOptions = function () {\n  var _this18 = this;\n\n  var _ref30 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      project = _ref30.project,\n      width = _ref30.width,\n      height = _ref30.height;\n\n  var searchParams = new URLSearchParams(location.search);\n  var map_extent = searchParams.get('map_extent');\n  var zoom_to_fid = searchParams.get('zoom_to_fid');\n  var zoom_to_features = searchParams.get('ztf'); // zoom to features\n  var lat_lon = searchParams.get('lat') && searchParams.get('lon') && {\n    lat: 1 * searchParams.get('lat'),\n    lon: 1 * searchParams.get('lon')\n  };\n  var x_y = searchParams.get('x') && searchParams.get('y') && {\n    x: 1 * searchParams.get('x'),\n    y: 1 * searchParams.get('y')\n  };\n  if (zoom_to_fid) this.zoomToFid(zoom_to_fid);else if (zoom_to_features) this.handleZoomToFeaturesUrlParameter({ zoom_to_features: zoom_to_features });else if (lat_lon && !Number.isNaN(lat_lon.lat) && !Number.isNaN(lat_lon.lon)) {\n    setTimeout(function () {\n      var geometry = new ol.geom.Point(ol.proj.transform([lat_lon.lon, lat_lon.lat], 'EPSG:4326', _this18.getEpsg()));\n      if (geometry.getExtent()) _this18.zoomToGeometry(geometry);\n    });\n  } else if (x_y && !Number.isNaN(x_y.x) && !Number.isNaN(x_y.y)) setTimeout(function () {\n    var geometry = new ol.geom.Point([x_y.x, x_y.y]);\n    _this18.zoomToGeometry(geometry);\n  });\n  var initextent = map_extent ? map_extent.split(',').map(function (coordinate) {\n    return 1 * coordinate;\n  }) : project.state.initextent;\n  var projection = this.getProjection();\n  var extent = project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var maxyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, maxyRes);\n  var initxRes = ol.extent.getWidth(initextent) / width;\n  var inityRes = ol.extent.getHeight(initextent) / height;\n  var resolution = Math.max(initxRes, inityRes);\n  var center = ol.extent.getCenter(initextent);\n  return {\n    projection: projection,\n    center: center,\n    extent: extent,\n    maxResolution: maxResolution,\n    resolution: resolution\n  };\n};\n\n// set view based on project config\nproto._setupViewer = function (width, height) {\n  var _this19 = this;\n\n  this.viewer = olhelpers.createViewer({\n    id: this.target,\n    view: this._calculateViewOptions({\n      width: width,\n      height: height,\n      project: this.project\n    })\n  });\n  this._setSettings();\n  this.state.size = this.viewer.map.getSize();\n  //set mapunit\n  this.state.mapUnits = this.viewer.map.getView().getProjection().getUnits();\n\n  if (this.config.background_color) {\n    $('#' + this.target).css('background-color', this.config.background_color);\n  }\n\n  $(this.viewer.map.getViewport()).prepend('<div id=\"map-spinner\" style=\"position:absolute; top: 50%; right: 50%\"></div>');\n\n  this.viewer.map.getInteractions().forEach(function (interaction) {\n    return _this19._watchInteraction(interaction);\n  });\n\n  this.viewer.map.getInteractions().on('add', function (interaction) {\n    return _this19._watchInteraction(interaction.element);\n  });\n\n  this.viewer.map.getInteractions().on('remove', function (interaction) {\n    //this._onRemoveInteraction(interaction););\n  });\n\n  this._marker = new ol.Overlay({\n    position: null,\n    positioning: 'center-center',\n    element: document.getElementById('marker'),\n    stopEvent: false\n  });\n\n  this.viewer.map.addOverlay(this._marker);\n\n  /**\n   *\n   * Register map addLayer\n   *\n   */\n  this.viewer.map.getLayers().on('add', function (evt) {\n    var layer = evt.element;\n\n    var basemap = layer.get('basemap');\n    var position = layer.get('position');\n    var zindex = basemap && 0;\n    if (position && position === 'bottom') zindex = 0;\n    zindex = _this19.setLayerZIndex({\n      layer: layer,\n      zindex: zindex\n    });\n    _this19.moveDefaultLayersOnTop(zindex);\n  });\n\n  this.viewer.map.getLayers().on('remove', function (evt) {\n    var layer = evt.element;\n\n    var layerZIndex = layer.getZIndex();\n    if (layerZIndex === _this19.layersCount) _this19.layersCount -= 1;\n  });\n};\n\nproto.getMapUnits = function () {\n  return this.state.mapUnits;\n};\n\nproto._removeListeners = function () {\n  this._setBaseLayerListenerKey && this.project.un('setBaseLayer', this._setBaseLayerListenerKey);\n};\n\n// remove all events of layersStore\nproto._removeEventsKeysToLayersStore = function (layerStore) {\n  var layerStoreId = layerStore.getId();\n  if (this._layersStoresEventKeys[layerStoreId]) {\n    this._layersStoresEventKeys[layerStoreId].forEach(function (eventObj) {\n      Object.entries(eventObj).forEach(function (_ref31) {\n        var _ref32 = _slicedToArray(_ref31, 2),\n            event = _ref32[0],\n            eventKey = _ref32[1];\n\n        return layerStore.un(event, eventKey);\n      });\n    });\n    delete this._layersStoresEventKeys[layerStoreId];\n  }\n};\n\n// register all events of layersStore and relative keys\nproto._setUpEventsKeysToLayersStore = function (layerStore) {\n  var _this20 = this;\n\n  var layerStoreId = layerStore.getId();\n  // check if already store a key of events\n  this._layersStoresEventKeys[layerStoreId] = [];\n  //ADD LAYER\n  var addLayerKey = layerStore.onafter('addLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var mapLayer = layer.getMapLayer();\n      _this20.addLayerToMap(mapLayer);\n    }\n  });\n  this._layersStoresEventKeys[layerStoreId].push({\n    addLayer: addLayerKey\n  });\n  // REMOVE LAYER\n  var removeLayerKey = layerStore.onafter('removeLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var olLayer = layer.getOLLayer();\n      _this20.viewer.map.removeLayer(olLayer);\n    }\n  });\n\n  this._layersStoresEventKeys[layerStoreId].push({\n    removeLayer: removeLayerKey\n  });\n};\n\nproto._setupListeners = function () {\n  var _this21 = this;\n\n  this._setBaseLayerListenerKey = this.project.onafter('setBaseLayer', function () {\n    _this21.updateMapLayers();\n  });\n};\n\n// SETUP ALL LAYERS\nproto._setupAllLayers = function () {\n  this._setupBaseLayers();\n  this._setupMapLayers();\n  this._setupVectorLayers();\n  this._setUpDefaultLayers();\n};\n\n//SETUP BASELAYERS\nproto._setupBaseLayers = function () {\n  var _this22 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  if (!baseLayers.length) return;\n  baseLayers.forEach(function (layer) {\n    var baseMapLayer = layer.getMapLayer();\n    _this22.registerMapLayerListeners(baseMapLayer);\n    _this22.mapBaseLayers[layer.getId()] = baseMapLayer;\n  });\n  var reverseBaseLayers = Object.values(this.mapBaseLayers).reverse();\n  reverseBaseLayers.forEach(function (baseMapLayer) {\n    baseMapLayer.update(_this22.state, _this22.layersExtraParams);\n    _this22.addLayerToMap(baseMapLayer);\n  });\n};\n\n//SETUP MAPLAYERS\nproto._setupMapLayers = function () {\n  var _this23 = this;\n\n  // get all geolayers exclude baselayers and eventually vector layers\n  var layers = getMapLayersByFilter({\n    BASELAYER: false,\n    VECTORLAYER: false\n  });\n  this._setMapProjectionToLayers(layers);\n  //group layer by mutilayer (multilayer property of layer on project configuration)\n  // nee to split time series to group to speed up eventualli time seriesries loading of single layer\n  var qtimeseries_multilayerid_split_values = {};\n  var multiLayers = _.groupBy(layers, function (layer) {\n    var multiLayerId = layer.getMultiLayerId();\n    if (layer.isQtimeseries()) {\n      qtimeseries_multilayerid_split_values[multiLayerId] = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? 0 : qtimeseries_multilayerid_split_values[multiLayerId] + 1;\n      multiLayerId = multiLayerId + '_' + qtimeseries_multilayerid_split_values[multiLayerId];\n    } else multiLayerId = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? multiLayerId : multiLayerId + '_' + (qtimeseries_multilayerid_split_values[multiLayerId] + 1);\n    return multiLayerId;\n  });\n  qtimeseries_multilayerid_split_values = null; // delete to garbage collector\n  var mapLayers = [];\n  Object.entries(multiLayers).forEach(function (_ref33) {\n    var _ref34 = _slicedToArray(_ref33, 2),\n        id = _ref34[0],\n        layers = _ref34[1];\n\n    var multilayerId = 'layer_' + id;\n    var mapLayer = void 0;\n    var layer = layers[0] || [];\n    if (layers.length === 1) {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, {});\n      mapLayer.addLayer(layer);\n      mapLayers.push(mapLayer);\n    } else {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, _this23.layersExtraParams);\n      layers.reverse().forEach(function (sub_layer) {\n        return mapLayer.addLayer(sub_layer);\n      });\n      mapLayers.push(mapLayer);\n    }\n    _this23.registerMapLayerListeners(mapLayer);\n  });\n  this.addMapLayers(mapLayers);\n  this.updateMapLayers();\n  return mapLayers;\n};\n\n//SETUP VECTORLAYERS\nproto._setupVectorLayers = function () {\n  var _this24 = this;\n\n  var layers = getMapLayersByFilter({\n    VECTORLAYER: true\n  });\n  this._setMapProjectionToLayers(layers);\n  layers.forEach(function (layer) {\n    var mapVectorLayer = layer.getMapLayer();\n    _this24.addLayerToMap(mapVectorLayer);\n  });\n};\n\nproto._setUpDefaultLayers = function () {\n  // follow the order that i want\n  this.getMap().addLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().addLayer(this.defaultsLayers.selectionLayer);\n};\n\nproto.moveDefaultLayersOnTop = function (zindex) {\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.highlightLayer,\n    zindex: zindex + 1\n  });\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.selectionLayer,\n    zindex: zindex + 2\n  });\n};\n\nproto.removeDefaultLayers = function () {\n  this.defaultsLayers.highlightLayer.getSource().clear();\n  this.defaultsLayers.selectionLayer.getSource().clear();\n  this.getMap().removeLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().removeLayer(this.defaultsLayers.selectionLayer);\n};\n\nproto.setDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = style;\n};\n\nproto.resetDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = {\n    color: type === 'highlightLayer' ? undefined : 'red'\n  };\n};\n\nproto.removeLayers = function () {\n  this._removeBaseLayers();\n  this._removeMapLayers();\n  this.removeExternalLayers();\n  this.removeDefaultLayers();\n};\n\nproto.removeAllLayers = function () {\n  this.viewer.removeLayers();\n};\n\n//set ad increase layerIndex\nproto.setLayerZIndex = function (_ref35) {\n  var layer = _ref35.layer,\n      _ref35$zindex = _ref35.zindex,\n      zindex = _ref35$zindex === undefined ? this.layersCount += 1 : _ref35$zindex;\n\n  layer.setZIndex(zindex);\n  return zindex;\n};\n\n/**\n * Add olLayer to mapLayer\n * @param layer\n */\nproto.addLayerToMap = function (layer) {\n  var olLayer = layer.getOLLayer();\n  olLayer && this.getMap().addLayer(olLayer);\n};\n\nproto._setMapProjectionToLayers = function (layers) {\n  var _this25 = this;\n\n  // setup mapProjection on ech layers\n  layers.forEach(function (layer) {\n    return layer.setMapProjection(_this25.getProjection());\n  });\n};\n\nproto.createMapLayer = function (layer) {\n  layer.setMapProjection(this.getProjection());\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayer = layer.getMapLayer({\n    id: multilayerId,\n    projection: this.getProjection()\n  }, this.layersExtraParams);\n  mapLayer.addLayer(layer);\n  return mapLayer;\n};\n\nproto.getOverviewMapLayers = function (project) {\n  var WMSLayer = require('core/layers/map/wmslayer');\n  var projectLayers = project.getLayersStore().getLayers({\n    GEOLAYER: true,\n    BASELAYER: false\n  });\n  var multiLayers = _.groupBy(projectLayers, function (layer) {\n    return layer.getMultiLayerId();\n  });\n  var overviewMapLayers = [];\n\n  Object.entries(multiLayers).forEach(function (_ref36) {\n    var _ref37 = _slicedToArray(_ref36, 2),\n        id = _ref37[0],\n        layers = _ref37[1];\n\n    var multilayerId = 'overview_layer_' + id;\n    var tiled = layers[0].state.tiled;\n    var config = {\n      url: project.getWmsUrl(),\n      id: multilayerId,\n      tiled: tiled\n    };\n    var mapLayer = new WMSLayer(config);\n    layers.reverse().forEach(function (layer) {\n      return mapLayer.addLayer(layer);\n    });\n    overviewMapLayers.push(mapLayer.getOLLayer(true));\n  });\n  return overviewMapLayers.reverse();\n};\n\n/**\n * method to update MapLayer\n * @param mapLayer\n * @param options\n */\nproto.updateMapLayer = function (mapLayer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var _ref38 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref38$showSpinner = _ref38.showSpinner,\n      showSpinner = _ref38$showSpinner === undefined ? true : _ref38$showSpinner;\n\n  // if force add g3w_time parameter to force request of map layer from server\n  if (options.force) options.g3w_time = Date.now();\n  if (showSpinner !== mapLayer.showSpinnerWhenLoading) {\n    mapLayer.showSpinnerWhenLoading = showSpinner;\n    this[showSpinner ? 'registerMapLayerLoadingEvents' : 'unregisterMapLayerLoadingEvents'](mapLayer);\n  }\n  mapLayer.update(this.state, options);\n  return mapLayer;\n};\n\n// run update function on each mapLayer\nproto.updateMapLayers = function () {\n  var _this26 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    return _this26.updateMapLayer(mapLayer, options);\n  });\n  var baseLayers = this.getBaseLayers();\n  //updatebase layer\n  Object.values(baseLayers).forEach(function (baseLayer) {\n    return baseLayer.update(_this26.state, _this26.layersExtraParams);\n  });\n};\n\n// register map Layer listeners of creation\nproto.registerMapLayerListeners = function (mapLayer) {\n  var _this27 = this;\n\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  this.registerMapLayerLoadingEvents(mapLayer);\n  //listen change filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.onbefore('change', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n    layer.on('filtertokenchange', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n  });\n  ///\n};\n\n/** Methos to register and unregister map loadmap\n *\n * */\nproto.registerMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.on('loadstart', this._incrementLoaders);\n  mapLayer.on('loadend', this._decrementLoaders);\n  mapLayer.on('loaderror', this._mapLayerLoadError);\n};\n\nproto.unregisterMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.off('loadstart', this._incrementLoaders);\n  mapLayer.off('loadend', this._decrementLoaders);\n  mapLayer.off('loaderror', this._mapLayerLoadError);\n};\n\n/**\n * End\n */\n\n// unregister listeners of mapLayers creation\nproto.unregisterMapLayerListeners = function (mapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this.unregisterMapLayerLoadingEvents(mapLayer);\n  // try to remove layer filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.un('change');\n    layer.removeEvent('filtertokenchange');\n  });\n};\n\nproto.setTarget = function (elId) {\n  this.target = elId;\n};\n\nproto.getCurrentToggledMapControl = function () {\n  var mapControl = this._mapControls.find(function (_ref39) {\n    var control = _ref39.control;\n    return control && control.isToggled && control.isToggled();\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n * close: param to close eventually right content open\n * @param interaction\n * @param options is an object contain: {\n *   active: If set new interaction active or not\n *   active: If set new interaction active or not\n *   close: if close eventually GUI Content (es. result right content )\n * }\n * return object having current toggled control if there is a toggled mapcontrol\n */\nproto.addInteraction = function (interaction) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { active: true, close: true };\n  var _options$active = options.active,\n      active = _options$active === undefined ? true : _options$active;\n\n  var control = this.getCurrentToggledMapControl();\n  var toggled = control && control.isToggled && control.isToggled() || false;\n  var untoggleMapControls = control && control.isClickMap ? control.isClickMap() : true;\n  untoggleMapControls && active && this._unToggleControls(options);\n  this.getMap().addInteraction(interaction);\n  interaction.setActive(active);\n  this._externalInteractions.push(interaction);\n  return {\n    control: control,\n    toggled: toggled // return current toggled map control if toggled\n  };\n};\n\nproto.removeInteraction = function (interaction) {\n  interaction && interaction.setActive(false);\n  this.viewer.map.removeInteraction(interaction);\n  this._externalInteractions = this._externalInteractions.filter(function (_interaction) {\n    return interaction !== _interaction;\n  });\n};\n\nproto._watchInteraction = function (interaction) {\n  var _this28 = this;\n\n  interaction.on('change:active', function (e) {\n    if (e.target instanceof ol.interaction.Pointer && e.target.getActive()) {\n      _this28.emit('mapcontrol:active', e.target);\n    }\n  });\n};\n\n/**\n * Show map Info\n * @param info\n */\nproto.showMapInfo = function () {\n  var _ref40 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      info = _ref40.info,\n      style = _ref40.style;\n\n  this.state.map_info.info = info;\n  this.state.map_info.style = style || this.state.map_info.style;\n};\n\nproto.hideMapInfo = function () {\n  this.state.map_info.info = null;\n  this.state.map_info.style = null;\n};\n\nproto.zoomTo = function (coordinate) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n\n  this.viewer.zoomTo(coordinate, zoom);\n};\n\nproto.goTo = function (coordinates, zoom) {\n  var options = {\n    zoom: zoom || 6\n  };\n  this.viewer.goTo(coordinates, options);\n};\n\nproto.goToRes = function (coordinates, resolution) {\n  this.viewer.goToRes(coordinates, {\n    resolution: resolution\n  });\n};\n\nproto.getGeometryAndExtentFromFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var extent = void 0;\n  var geometryType = void 0;\n  var geometry = void 0;\n  var coordinates = void 0;\n  var geometryCoordinates = [];\n  for (var i = 0; i < features.length; i++) {\n    var feature = features[i];\n    var _geometry = feature.getGeometry ? feature.getGeometry() : feature.geometry;\n    if (_geometry) {\n      if (_geometry instanceof ol.geom.Geometry) {\n        var featureExtent = [].concat(_toConsumableArray(_geometry.getExtent()));\n        extent = !extent ? featureExtent : ol.extent.extend(extent, featureExtent);\n        geometryType = geometryType ? geometryType : _geometry.getType();\n        coordinates = _geometry.getCoordinates();\n        if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n      } else {\n        var _featureExtent = feature.bbox;\n        extent = !extent ? _featureExtent : ol.extent.extend(extent, _featureExtent);\n        geometryType = _geometry.type;\n        coordinates = _geometry.coordinates;\n      }\n      if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n    }\n  }\n  try {\n    var olClassGeomType = geometryType.includes('Multi') ? geometryType : 'Multi' + geometryType;\n    geometry = new ol.geom[olClassGeomType](geometryCoordinates);\n    if (extent === undefined) extent = geometry.getExtent();\n  } catch (err) {}\n  return {\n    extent: extent,\n    geometry: geometry\n  };\n};\n\nproto.highlightFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _getGeometryAndExtent = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent.geometry;\n  //force zoom false\n\n\n  options.zoom = false;\n  this.highlightGeometry(geometry, options);\n};\n\n/**\n * Zoom methods\n */\n\nproto.zoomToGeometry = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var extent = geometry && geometry.getExtent();\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  extent && this.zoomToExtent(extent, options);\n};\n\nproto.zoomToFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var _getGeometryAndExtent2 = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent2.geometry,\n      extent = _getGeometryAndExtent2.extent;\n\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  return extent && this.zoomToExtent(extent, options) || Promise.resolve();\n};\n\nproto.zoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var center = ol.extent.getCenter(extent);\n  var resolution = this.getResolutionForZoomToExtent(extent);\n  this.goToRes(center, resolution);\n  return options.highLightGeometry && this.highlightGeometry(options.highLightGeometry, {\n    zoom: false,\n    duration: options.duration\n  }) || Promise.resolve();\n};\n\nproto.zoomToProjectInitExtent = function () {\n  this.zoomToExtent(this.project.state.initextent);\n};\n\n/**\n * End zoom methods\n */\n\nproto.compareExtentWithProjectMaxExtent = function (extent) {\n  var projectExtent = this.project.state.extent;\n  var inside = ol.extent.containsExtent(projectExtent, extent);\n  return inside ? extent : projectExtent;\n};\n\nproto.getResolutionForZoomToExtent = function (extent) {\n  var resolution = void 0;\n  var ZOOM = _constant.MAP_SETTINGS.ZOOM;\n\n  var map = this.getMap();\n  var projectExtent = this.project.state.extent;\n  var projectMaxResolution = map.getView().getResolutionForExtent(projectExtent, map.getSize());\n  var inside = ol.extent.containsExtent(projectExtent, extent);\n  // max resolution of the map\n  var maxResolution = getResolutionFromScale(ZOOM.maxScale, this.getMapUnits()); // map resolution of the map\n  // check if\n  if (inside) {\n    // calculate main resolutions\n    var currentResolution = map.getView().getResolution(); // Current Resolution\n    var extentResolution = map.getView().getResolutionForExtent(extent, map.getSize()); // resolution of request extent\n    ////\n    // set the final resolution to go to\n    resolution = extentResolution > maxResolution ? extentResolution : maxResolution;\n    resolution = currentResolution < resolution && currentResolution > extentResolution ? currentResolution : resolution;\n  } else resolution = projectMaxResolution; // set max resolution\n  return resolution;\n};\n\nproto.goToBBox = function (bbox) {\n  var epsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getEpsg();\n\n  bbox = epsg === this.getEpsg() ? bbox : ol.proj.transformExtent(bbox, epsg, this.getEpsg());\n  this.viewer.fit(this.compareExtentWithProjectMaxExtent(bbox));\n};\n\nproto.goToWGS84 = function (coordinates, zoom) {\n  coordinates = ol.proj.transform(coordinates, 'EPSG:4326', this.project.state.crs.epsg);\n  this.goTo(coordinates, zoom);\n};\n\nproto.extentToWGS84 = function (extent) {\n  return ol.proj.transformExtent(extent, this.project.state.crs.epsg, 'EPSG:4326');\n};\n\nproto.getResolutionForMeters = function (meters) {\n  var viewport = this.viewer.map.getViewport();\n  return meters / Math.max(viewport.clientWidth, viewport.clientHeight);\n};\n\nvar animatingHighlight = false;\n\n/*\n* geometries = array of geometries\n* action: add, clear, remove :\n*                             add: feature/features to selectionLayer. If selectionLayer doesn't exist create a  new vector layer.\n*                             clear: remove selectionLayer\n*                             remove: remove feature from selection layer. If no more feature are in selectionLayer it will be removed\n* */\nproto.setSelectionFeatures = function () {\n  var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'add';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var feature = options.feature,\n      color = options.color;\n\n  color && this.setDefaultLayerStyle('selectionLayer', {\n    color: color\n  });\n  var source = this.defaultsLayers.selectionLayer.getSource();\n  switch (action) {\n    case 'add':\n      source.addFeature(feature);\n      break;\n    case 'remove':\n      source.removeFeature(feature);\n      break;\n    case 'update':\n      var id = feature.getId();\n      var addedFeature = source.getFeatureById(id);\n      addedFeature.setGeometry(feature.getGeometry());\n      break;\n    case 'clear':\n      source.clear();\n      break;\n  }\n};\n\nproto.clearSelectionFeatures = function () {\n  this.defaultsLayers.selectionLayer.getSource().clear();\n};\n\nproto.seSelectionLayerVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.defaultsLayers.selectionLayer.setVisible(visible);\n};\n\nproto.highlightGeometry = function (geometryObj) {\n  var _this29 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new Promise(function (resolve, reject) {\n    var color = options.color;\n\n    _this29.clearHighlightGeometry();\n    _this29.setDefaultLayerStyle('highlightLayer', {\n      color: color\n    });\n    var zoom = typeof options.zoom === 'boolean' ? options.zoom : true;\n    var hide = options.hide;\n    if (hide) hide = typeof hide === 'function' ? hide : null;\n    var customStyle = options.style;\n    var defaultStyle = function defaultStyle(feature) {\n      var styles = [];\n      var geometryType = feature.getGeometry().getType();\n      var style = createSelectedStyle({\n        geometryType: geometryType,\n        color: color,\n        fill: false\n      });\n      styles.push(style);\n      return styles;\n    };\n    var ANIMATION = _constant.MAP_SETTINGS.ANIMATION;\n\n    var highlight = typeof options.highlight == 'boolean' ? options.highlight : true;\n    var duration = options.duration || ANIMATION.duration;\n    var geometry = void 0;\n    if (geometryObj instanceof ol.geom.Geometry) geometry = geometryObj;else {\n      var format = new ol.format.GeoJSON();\n      geometry = format.readGeometry(geometryObj);\n    }\n    if (zoom) {\n      var extent = geometry.getExtent();\n      _this29.zoomToExtent(extent);\n    }\n    if (highlight) {\n      var feature = new ol.Feature({\n        geometry: geometry\n      });\n      var highlightLayer = _this29.defaultsLayers.highlightLayer;\n      customStyle && highlightLayer.setStyle(customStyle);\n      highlightLayer.getSource().addFeature(feature);\n      if (hide) {\n        var callback = function callback() {\n          highlightLayer.getSource().clear();\n          customStyle && highlightLayer.setStyle(defaultStyle);\n          resolve();\n        };\n        hide(callback);\n      } else if (duration) {\n        if (duration !== Infinity) {\n          animatingHighlight = true;\n          setTimeout(function () {\n            highlightLayer.getSource().clear();\n            customStyle && highlightLayer.setStyle(defaultStyle);\n            animatingHighlight = false;\n            resolve();\n          }, duration);\n        }\n      }\n    } else resolve();\n  });\n};\n\nproto.clearHighlightGeometry = function () {\n  !animatingHighlight && this.defaultsLayers.highlightLayer.getSource().clear();\n  this.resetDefaultLayerStyle('highlightLayer');\n};\n\n/**\n * Force to referesh map\n * @param options\n */\nproto.refreshMap = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { force: true };\n\n  this.updateMapLayers(options);\n};\n\n// called when layout (window) resize\nproto.layout = function (_ref41) {\n  var width = _ref41.width,\n      height = _ref41.height;\n\n  var is_hidden = width <= 0 || height <= 0;\n  if (!this.viewer) {\n    this.setupViewer(width, height);\n    if (this.viewer) {\n      this.setupControls();\n      this.emit('ready');\n    }\n  } else {\n    if (!is_hidden) {\n      this.getMap().updateSize();\n      this.state.hidemaps.forEach(function (hidemap) {\n        return hidemap.map.updateSize();\n      });\n      this._updateMapView();\n    }\n  }\n  this.setHidden(is_hidden);\n  this._mapControls.length && this._updateMapControlsLayout({ width: width, height: height });\n};\n\n//remove BaseLayers\nproto._removeBaseLayers = function () {\n  var _this30 = this;\n\n  Object.keys(this.mapBaseLayers).forEach(function (baseLayerId) {\n    _this30.viewer.map.removeLayer(_this30.mapBaseLayers[baseLayerId].getOLLayer());\n  });\n};\n\n// function to remove maplayers\nproto._removeMapLayers = function () {\n  var _this31 = this;\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    _this31.unregisterMapLayerListeners(mapLayer);\n    _this31.viewer.map.removeLayer(mapLayer.getOLLayer());\n  });\n  this._mapLayers = [];\n};\n\nproto.getMapBBOX = function () {\n  return this.viewer.getBBOX();\n};\n\nproto._updateMapView = function () {\n  var bbox = this.viewer.getBBOX();\n  var resolution = this.viewer.getResolution();\n  var center = this.viewer.getCenter();\n  var size = this.getMap().getSize();\n  this.updateMapView(bbox, resolution, center, size);\n};\n\nproto.getMapSize = function () {\n  var map = this.viewer.map;\n  return map.getSize();\n};\n\nproto.setInnerGreyCoverScale = function (scale) {\n  this._drawShadow.scale = scale;\n};\n\nproto._resetDrawShadowInner = function () {\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n};\n\nproto.setInnerGreyCoverBBox = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var map = this.viewer.map;\n  var type = options.type || 'coordinate';\n  var inner = options.inner || null;\n  var rotation = options.rotation;\n  var scale = options.scale;\n  var lowerLeftInner = void 0;\n  var upperRightInner = void 0;\n  if (inner) {\n    switch (type) {\n      case 'coordinate':\n        lowerLeftInner = map.getPixelFromCoordinate([inner[0], inner[1]]);\n        upperRightInner = map.getPixelFromCoordinate([inner[2], inner[3]]);\n        break;\n      case 'pixel':\n        lowerLeftInner = [inner[0], inner[1]];\n        upperRightInner = [inner[2], inner[3]];\n        break;\n    }\n    var y_min = lowerLeftInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_min = lowerLeftInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    var y_max = upperRightInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_max = upperRightInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    this._drawShadow.inner[0] = x_min;\n    this._drawShadow.inner[1] = y_min;\n    this._drawShadow.inner[2] = x_max;\n    this._drawShadow.inner[3] = y_max;\n  }\n  if (_.isNil(scale)) this._drawShadow.scale = this._drawShadow.scale || 1;else this._drawShadow.scale = scale;\n\n  if (_.isNil(rotation)) this._drawShadow.rotation = this._drawShadow.rotation || 0;else this._drawShadow.rotation = rotation;\n\n  this._drawShadow.outer && map.render();\n};\n\n// grey map precompose mapcompose\nproto.startDrawGreyCover = function (message) {\n  var _this32 = this;\n\n  // after rendering the layer, restore the canvas context\n  var map = this.viewer.map;\n  var x_min = void 0,\n      x_max = void 0,\n      y_min = void 0,\n      y_max = void 0,\n      rotation = void 0,\n      scale = void 0;\n  this.stopDrawGreyCover();\n  var postcompose = function postcompose(evt) {\n    var ctx = evt.context;\n    var size = _this32.getMap().getSize();\n    // Inner polygon,must be counter-clockwise\n    var height = size[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var width = size[0] * ol.has.DEVICE_PIXEL_RATIO;\n    _this32._drawShadow.outer = [0, 0, width, height];\n    ctx.restore();\n    ctx.beginPath();\n    // Outside polygon, must be clockwise\n    ctx.moveTo(0, 0);\n    ctx.lineTo(width, 0);\n    ctx.lineTo(width, height);\n    ctx.lineTo(0, height);\n    ctx.lineTo(0, 0);\n    ctx.closePath();\n    // end external bbox (map is cover)\n    if (_this32._drawShadow.inner.length) {\n      ctx.save();\n      x_min = _this32._drawShadow.inner[0];\n      y_min = _this32._drawShadow.inner[3];\n      x_max = _this32._drawShadow.inner[2];\n      y_max = _this32._drawShadow.inner[1];\n      rotation = _this32._drawShadow.rotation;\n      scale = _this32._drawShadow.scale;\n      // Inner polygon,must be counter-clockwise antiorario\n      ctx.translate((x_max + x_min) / 2, (y_max + y_min) / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.moveTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.closePath();\n      // end inner bbox\n    }\n    ctx.fillStyle = 'rgba(0, 5, 25, 0.40)';\n    ctx.fill();\n    if (message) {\n      ctx.font = \"bold 25px Arial\";\n      ctx.fillStyle = \"#ffffff\";\n      ctx.textAlign = \"center\";\n      var arrayMessages = message.split('\\n');\n      for (var i = 0; i < arrayMessages.length; i++) {\n        ctx.fillText(arrayMessages[i], width / 2, height / 2 + 30 * i);\n      }\n      //ctx.fillText(message,width/2, height/2);\n    }\n    ctx.restore();\n  };\n  this._greyListenerKey = map.on('postcompose', postcompose);\n};\n\nproto.stopDrawGreyCover = function () {\n  var map = this.getMap();\n  if (this._greyListenerKey) {\n    ol.Observable.unByKey(this._greyListenerKey);\n    this._greyListenerKey = null;\n    this._drawShadow.inner.length && this._resetDrawShadowInner();\n  }\n  map.render();\n};\n\nproto.removeExternalLayers = function () {\n  var _this33 = this;\n\n  this._externalLayers.forEach(function (layer) {\n    var name = layer.get('name');\n    _this33.removeExternalLayer(name);\n  });\n  this._externalLayers = [];\n};\n\nproto.changeLayerVisibility = function (_ref42) {\n  var id = _ref42.id,\n      visible = _ref42.visible;\n\n  var layer = this.getLayerById(id);\n  layer && layer.setVisible(visible);\n  this.emit('change-layer-visibility', { id: id, visible: visible });\n};\n\nproto.changeLayerOpacity = function () {\n  var _ref43 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref43.id,\n      _ref43$opacity = _ref43.opacity,\n      opacity = _ref43$opacity === undefined ? 1 : _ref43$opacity;\n\n  var layer = this.getLayerById(id);\n  layer && layer.setOpacity(opacity);\n  this.emit('change-layer-opacity', { id: id, opacity: opacity });\n};\n\nproto.changeLayerMapPosition = function (_ref44) {\n  var id = _ref44.id,\n      _ref44$position = _ref44.position,\n      position = _ref44$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref44$position;\n\n  var layer = this.getLayerById(id);\n  switch (position) {\n    case 'top':\n      layer.setZIndex(this.layersCount);\n      break;\n    case 'bottom':\n      layer.setZIndex(0);\n      break;\n  }\n  this.emit('change-layer-position-map', { id: id, position: position });\n};\n\n/**\n * Remove externla layer\n * @param name\n */\nproto.removeExternalLayer = function (name) {\n  var _this34 = this;\n\n  var layer = this.getLayerByName(name);\n  var catalogService = _gui2.default.getService('catalog');\n  var QueryResultService = _gui2.default.getService('queryresults');\n  QueryResultService.unregisterVectorLayer(layer);\n  this.viewer.map.removeLayer(layer);\n  var type = layer._type || 'vector';\n  catalogService.removeExternalLayer({\n    name: name,\n    type: type\n  });\n  if (type == 'wms') this._externalMapLayers = this._externalMapLayers.filter(function (externalMapLayer) {\n    if (externalMapLayer.getId() === layer.id) _this34.unregisterMapLayerListeners(externalMapLayer, layer.projectLayer);\n    return externalMapLayer.getId() !== layer.id;\n  });\n  this._externalLayers = this._externalLayers.filter(function (externalLayer) {\n    return externalLayer.get('id') !== layer.get('id');\n  });\n  this.unloadExternalLayer(layer);\n  this.emit('remove-external-layer', name);\n};\n\n/**\n * Add wms external layer to mapo\n * @param url\n * @param layers\n * @param name\n * @param projection\n * @param position\n * @returns {Promise<unknown>}\n */\nproto.addExternalWMSLayer = function () {\n  var _this35 = this;\n\n  var _ref45 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref45.url,\n      layers = _ref45.layers,\n      name = _ref45.name,\n      _ref45$epsg = _ref45.epsg,\n      epsg = _ref45$epsg === undefined ? this.getEpsg() : _ref45$epsg,\n      _ref45$position = _ref45.position,\n      position = _ref45$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref45$position,\n      opacity = _ref45.opacity,\n      _ref45$visible = _ref45.visible,\n      visible = _ref45$visible === undefined ? true : _ref45$visible;\n\n  var projection = ol.proj.get(epsg);\n  return new Promise(function (resolve, reject) {\n    var _createWMSLayer = createWMSLayer({\n      name: name,\n      url: url,\n      layers: layers,\n      projection: projection\n    }),\n        wmslayer = _createWMSLayer.wmslayer,\n        olLayer = _createWMSLayer.olLayer;\n\n    wmslayer.once('loadend', function () {\n      resolve(wmslayer);\n    });\n\n    wmslayer.once('loaderror', function (err) {\n      reject(err);\n    });\n\n    /**\n     * add to map\n     */\n    _this35.addExternalLayer(olLayer, {\n      position: position,\n      opacity: opacity,\n      visible: visible\n    });\n\n    /**\n     * cal register and other thing to alert that new map layer is added\n     */\n    _this35.addExternalMapLayer(wmslayer, false);\n  });\n};\n\n/**\n *\n * Return extanla layers added to map\n * @returns {[]|*[]|T[]}\n */\nproto.getExternalLayers = function () {\n  return this._externalLayers;\n};\n\nproto.addExternalMapLayer = function (externalMapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this._externalMapLayers.push(externalMapLayer);\n  this.registerMapLayerListeners(externalMapLayer, projectLayer);\n};\n\n/**\n * Method to add external layer to map\n * @param externalLayer\n * @param options\n * @returns {Promise<Promise<*> | Promise<never>>}\n */\nproto.addExternalLayer = function () {\n  var _ref46 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(externalLayer) {\n    var _this36 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var vectorLayer, name, data, color, style, type, crs, _options$position, position, _options$opacity, opacity, _options$visible, visible, map, catalogService, QueryResultService, _color, filter, selection, id, _style, layer, loadExternalLayer;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            vectorLayer = void 0, name = void 0, data = void 0, color = void 0, style = void 0, type = void 0, crs = void 0;\n            _options$position = options.position, position = _options$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _options$position, _options$opacity = options.opacity, opacity = _options$opacity === undefined ? 1 : _options$opacity, _options$visible = options.visible, visible = _options$visible === undefined ? true : _options$visible;\n            map = this.viewer.map;\n            catalogService = _gui2.default.getService('catalog');\n            QueryResultService = _gui2.default.getService('queryresults');\n\n            if (externalLayer instanceof ol.layer.Vector) {\n              _color = void 0;\n              /**\n               * Used to selection query result purpose\n               * @type {{active: boolean}}\n               */\n\n              filter = {\n                active: false // AT MOMENT NOT USED\n              };\n              selection = {\n                active: false,\n                features: []\n              };\n              /**\n               * end selection query result purpose properties\n               */\n\n              id = externalLayer.get('id');\n\n              if (id === undefined) {\n                id = uniqueId();\n                externalLayer.set('id', id);\n              }\n              vectorLayer = externalLayer;\n              vectorLayer.filter = filter;\n              vectorLayer.selection = selection;\n              try {\n                _style = externalLayer.getStyle();\n\n                _color = _style._g3w_options ? _style._g3w_options.color : 'blue'; //setted by geo utils create style function\n              } catch (err) {\n                _color = 'blue';\n              }\n              name = vectorLayer.get('name') || vectorLayer.get('id');\n              type = 'vector';\n              externalLayer = {\n                id: id,\n                name: name,\n                projectLayer: false,\n                title: name,\n                removable: true,\n                external: true,\n                crs: options.crs,\n                type: options.type,\n                _type: type,\n                download: options.download || false,\n                visible: visible,\n                checked: true,\n                position: position,\n                opacity: opacity,\n                color: _color,\n                filter: filter,\n                selection: selection\n              };\n            } else if (externalLayer instanceof ol.layer.Image) {\n              type = 'wms';\n              name = externalLayer.get('name');\n              externalLayer.id = externalLayer.get('id');\n              externalLayer.removable = true;\n              externalLayer.projectLayer = false;\n              externalLayer.name = name;\n              externalLayer.title = name;\n              externalLayer._type = type;\n              externalLayer.opacity = opacity;\n              externalLayer.position = position;\n              externalLayer.external = true;\n              externalLayer.checked = visible;\n            } else {\n              name = externalLayer.name;\n              type = externalLayer.type;\n              crs = externalLayer.crs;\n              data = externalLayer.data;\n              color = externalLayer.color;\n            }\n            layer = this.getLayerByName(name);\n\n            loadExternalLayer = function loadExternalLayer(layer, type) {\n              var extent = void 0;\n              if (layer) {\n                if (type === 'vector') {\n                  var features = layer.getSource().getFeatures();\n                  if (features.length) {\n                    var _id = 0;\n                    /**\n                     * need to add id value\n                     */\n                    features.forEach(function (feature) {\n                      feature.setId(_id);\n                      _id += 1;\n                    });\n                    externalLayer.geometryType = features[0].getGeometry().getType();\n                  }\n                  extent = layer.getSource().getExtent();\n                  externalLayer.bbox = {\n                    minx: extent[0],\n                    miny: extent[1],\n                    maxx: extent[2],\n                    maxy: extent[3]\n                  };\n                }\n                layer.set('position', position);\n                layer.setOpacity(opacity);\n                layer.setVisible(visible);\n                map.addLayer(layer);\n                _this36._externalLayers.push(layer);\n                QueryResultService.registerVectorLayer(layer);\n                catalogService.addExternalLayer({\n                  layer: externalLayer,\n                  type: type\n                });\n                extent && map.getView().fit(extent);\n                _this36.loadExternalLayer(layer);\n                return Promise.resolve(layer);\n              } else return Promise.reject();\n            };\n\n            if (layer) {\n              _context7.next = 23;\n              break;\n            }\n\n            _context7.t0 = type;\n            _context7.next = _context7.t0 === 'vector' ? 12 : _context7.t0 === 'wms' ? 14 : 16;\n            break;\n\n          case 12:\n            return _context7.abrupt('return', loadExternalLayer(vectorLayer, type));\n\n          case 14:\n            return _context7.abrupt('return', loadExternalLayer(externalLayer, type));\n\n          case 16:\n            _context7.next = 18;\n            return createVectorLayerFromFile({\n              name: name, type: type, crs: crs, mapCrs: mapCrs, data: data, style: style\n            });\n\n          case 18:\n            vectorLayer = _context7.sent;\n            return _context7.abrupt('return', loadExternalLayer(vectorLayer));\n\n          case 20:\n            loadExternalLayer(vectorLayer);\n            _context7.next = 24;\n            break;\n\n          case 23:\n            _gui2.default.notify.warning(\"layer_is_added\", false);\n\n          case 24:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x57) {\n    return _ref46.apply(this, arguments);\n  };\n}();\n\nproto.setExternalLayerStyle = function (color, field) {\n  color = color.rgba;\n  color = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n  var defaultStyle = {\n    'Point': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'LineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'Polygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPoint': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'MultiLineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPolygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    })\n  };\n  var styleFunction = function styleFunction(feature, resolution) {\n    var featureStyleFunction = feature.getStyleFunction();\n    return featureStyleFunction ? featureStyleFunction.call(feature, resolution) : defaultStyle[feature.getGeometry().getType()];\n  };\n  return styleFunction;\n};\n\nmodule.exports = MapService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/map/wmslayer\":46,\"core/layers/providers/wfsprovider\":54,\"core/layers/vectorlayer\":58,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/g3w.ol\":97,\"gui/map/control/factory\":152,\"gui/wms/vue/wms\":188,\"services/application\":339,\"services/data\":346,\"services/gui\":349,\"store/map-controls\":364,\"store/map-layers\":365,\"store/projects\":367}],154:[function(require,module,exports){\nvar _Map = require('components/Map.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Map);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    merge = _require.merge,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar MapService = require('gui/map/mapservice');\n\n// interanl registration\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nVue.component('g3w-map', vueComponentOptions);\n\nfunction MapComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"map-component\";\n  this.title = \"Map Component\";\n  var target = options.target || \"map\";\n  var maps_container = options.maps_container || \"g3w-maps\";\n  options.target = target;\n  options.maps_container = maps_container;\n  var service = new MapService(options);\n  this.setService(service);\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: service,\n    target: target,\n    maps_container: maps_container\n  });\n  /**\n   * add Vue get cookie method\n   *\n   */\n  service.getCookie = this.internalComponent.$cookie.get;\n}\n\ninherit(MapComponent, Component);\n\nvar proto = MapComponent.prototype;\n\nproto.layout = function (width, height) {\n  $('#' + this.target).height(height);\n  $('#' + this.target).width(width);\n  this._service.layout({ width: width, height: height });\n};\n\nmodule.exports = MapComponent;\n\n},{\"components/Map.vue\":249,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/map/mapservice\":153}],155:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectMetadataComponent = require('gui/metadata/vue/components/project/project');\n\nvar METADATAGROUPS = {\n  general: ['title', 'name', 'description', 'abstract', 'keywords', 'fees', 'accessconstraints', 'contactinformation', 'wms_url'],\n  spatial: ['crs', 'extent'],\n  layers: ['layers']\n};\n\nfunction MetadataService() {\n  this.content = null;\n  this.show = false;\n  this.state = {\n    name: '',\n    groups: {}\n  };\n  this._buildProjectGroupMetadata();\n}\n\ninherit(MetadataService, G3WObject);\n\nvar proto = MetadataService.prototype;\n\nproto._buildProjectGroupMetadata = function () {\n  var project = _projects2.default.getCurrentProject().getState();\n  this.state.name = project.title;\n  var groups = {};\n  Object.entries(METADATAGROUPS).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        groupName = _ref2[0],\n        value = _ref2[1];\n\n    groups[groupName] = {};\n    value.forEach(function (field) {\n      var fieldValue = project.metadata && project.metadata[field] ? project.metadata[field] : project[field];\n      if (!!fieldValue) {\n        groups[groupName][field] = {\n          label: ['sdk', 'metadata', 'groups', groupName, 'fields', field].join('.'),\n          value: fieldValue\n        };\n      }\n    });\n  });\n  this.state.groups = groups;\n};\n\nproto.getProjectMetadata = function () {\n  return this.state;\n};\n\nproto.getLayersMetadata = function () {\n  return this.state.groups.layers;\n};\n\nproto.getLayerMetadata = function (id) {\n  var layerMetadata = this.state.groups.layers.filter(function (layer) {\n    return layer.id === id;\n  });\n  return layerMetadata[0];\n};\n\nproto.showMetadata = function (bool) {\n  this.show = bool;\n  if (this.show) {\n    this.content = new ProjectMetadataComponent({\n      state: this.getProjectMetadata(),\n      service: this\n    });\n    _gui2.default.setContent({\n      content: this.content,\n      title: \"sdk.metadata.title\",\n      perc: 100\n    });\n    this.show = true;\n  } else _gui2.default.closeContent();\n};\n\nproto.reload = function () {\n  this.emit('reload');\n  this._buildProjectGroupMetadata();\n};\n\nmodule.exports = MetadataService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/metadata/vue/components/project/project\":156,\"services/gui\":349,\"store/projects\":367}],156:[function(require,module,exports){\nvar _MetadataProject = require('components/MetadataProject.vue');\n\nvar _MetadataProject2 = _interopRequireDefault(_MetadataProject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nfunction ProjectMetadataComponent() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$state = _ref.state,\n      state = _ref$state === undefined ? {} : _ref$state,\n      service = _ref.service;\n\n  base(this);\n  var vueComponent = Vue.extend(_MetadataProject2.default);\n  this.setService(service);\n  this.internalComponent = new vueComponent({\n    state: state\n  });\n  this.layout = function () {};\n}\n\ninherit(ProjectMetadataComponent, Component);\n\nmodule.exports = ProjectMetadataComponent;\n\n},{\"components/MetadataProject.vue\":256,\"core/utils/utils\":68,\"gui/component/component\":113}],157:[function(require,module,exports){\nvar _Metadata = require('components/Metadata.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Metadata);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar MetadataService = require('gui/metadata/metadataservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar MetadataComponent = function MetadataComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.metadata.title\";\n  var service = options.service || new MetadataService(options);\n  this.setService(service);\n  this._service.on('reload', function () {\n    _this.setOpen(false);\n  });\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n  this._setOpen = function (bool) {\n    this._service.showMetadata(bool);\n  };\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(MetadataComponent, Component);\n\nmodule.exports = MetadataComponent;\n\n},{\"components/Metadata.vue\":254,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/metadata/metadataservice\":155,\"services/gui\":349}],158:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    resolvedValue = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar Panel = function Panel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id || null;\n  this.title = options.title || '';\n  this.internalPanel = options.panel || null;\n  this.service = options.service;\n};\n\ninherit(Panel, G3WObject);\n\nvar proto = Panel.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setService = function (service) {\n  this.service = service;\n};\n\nproto.getInternalPanel = function () {\n  return this.internalPanel;\n};\n\nproto.setInternalPanel = function (internalPanel) {\n  this.internalPanel = internalPanel;\n};\n\nproto.show = function () {\n  _gui2.default.showPanel(this);\n};\n\nproto.close = function () {\n  _gui2.default.closePanel();\n};\n\nproto.mount = function (parent) {\n  var panel = this.internalPanel;\n  var iCinstance = panel.$mount();\n  $(parent).append(iCinstance.$el);\n  iCinstance.$nextTick(function () {\n    $(parent).localize();\n    panel.onShow && panel.onShow();\n  });\n  return resolvedValue(true);\n};\n\nproto.unmount = function () {\n  var panel = this.internalPanel;\n  var d = $.Deferred();\n  panel.$destroy(true);\n  $(panel.$el).remove();\n  panel.onClose && panel.onClose();\n  this.internalComponent = null;\n  d.resolve();\n  return d.promise();\n};\n\nproto.onResize = function (parentWidth, parentHeight) {};\n\nmodule.exports = Panel;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/gui\":349}],159:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    downloadFile = _require.downloadFile;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar G3WObject = require('core/g3wobject');\nvar PrintService = require('core/print/printservice');\n\nvar _require3 = require('core/utils/ol'),\n    getScaleFromResolution = _require3.getScaleFromResolution,\n    getResolutionFromScale = _require3.getResolutionFromScale,\n    getMetersFromDegrees = _require3.getMetersFromDegrees;\n\nvar PrintPage = require('gui/print/vue/printpage');\n\nfunction PrintComponentService() {\n  base(this);\n  this.printService = new PrintService();\n  this._initialized = false;\n  this.state = {\n    loading: false\n  };\n  this._moveMapKeyEvent = null;\n  this._page = null;\n  this._mapService = null;\n  this._map = null;\n  this._mapUnits;\n  this._scalesResolutions = {};\n  this.init = function () {\n    this._project = _projects2.default.getCurrentProject();\n    this.state.print = this._project.getPrint() || [];\n    this.state.visible = this.state.print.length > 0;\n    this.state.isShow = false;\n    this.state.url = null;\n    this.state.output = {\n      url: null,\n      method: this._project.getOwsMethod(),\n      layers: true,\n      format: null,\n      loading: false,\n      type: null\n    };\n    this.state.printextent = {\n      minx: [0, 0],\n      miny: [0, 0],\n      maxx: [0, 0],\n      maxy: [0, 0]\n    };\n    this.state.visible && this.setInitState();\n  };\n}\n\ninherit(PrintComponentService, G3WObject);\n\nvar proto = PrintComponentService.prototype;\n\nproto.setInitState = function () {\n  this.state.template = this.state.print[0].name;\n  this.state.atlas = this.state.print[0].atlas;\n  this.state.atlasValues = [];\n  this.state.rotation = 0;\n  this.state.inner = [0, 0, 0, 0];\n  this.state.center = null;\n  this.state.size = null;\n  this.state.scale = _constant.PRINT_SCALES;\n  this.state.scala = null;\n  this.state.dpis = _constant.PRINT_RESOLUTIONS;\n  this.state.dpi = _constant.PRINT_RESOLUTIONS[0];\n  this.state.formats = _constant.PRINT_FORMATS;\n  this.state.output.format = _constant.PRINT_FORMATS[0].value;\n  this.state.maps = this.state.print[0].maps;\n  // label section\n  this.state.labels = this.state.print[0].labels;\n};\n\nproto.changeTemplate = function () {\n  var _this = this;\n\n  if (!this.state.template) return;\n  var isPreviousAtlas = this.state.atlas;\n\n  var _state$print$find = this.state.print.find(function (print) {\n    return print.name === _this.state.template;\n  }),\n      atlas = _state$print$find.atlas,\n      maps = _state$print$find.maps,\n      labels = _state$print$find.labels;\n\n  this.state.maps = maps;\n  this.state.atlas = atlas;\n  this.state.labels = labels;\n  this.state.atlasValues = [];\n  this.state.atlas ? this._clearPrint() : isPreviousAtlas ? this.showPrintArea(true) : this._setPrintArea();\n};\n\nproto.changeScale = function () {\n  this.state.scala && this._setPrintArea();\n};\n\nproto.changeRotation = function () {\n  this._mapService.setInnerGreyCoverBBox({\n    rotation: this.state.rotation\n  });\n};\n\nproto._getPrintExtent = function () {\n  var _ref = [].concat(_toConsumableArray(this.state.printextent.lowerleft), _toConsumableArray(this.state.printextent.upperright)),\n      minx = _ref[0],\n      miny = _ref[1],\n      maxx = _ref[2],\n      maxy = _ref[3];\n\n  var extent = this._mapService.isAxisOrientationInverted() ? [miny, minx, maxy, maxx] : [minx, miny, maxx, maxy];\n  return extent.join();\n};\n\nproto.getOverviewExtent = function () {\n  var extent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var xmin = extent.xmin,\n      xmax = extent.xmax,\n      ymin = extent.ymin,\n      ymax = extent.ymax;\n\n  var overviewextent = this._mapService.isAxisOrientationInverted() ? [ymin, xmin, ymax, xmax] : [xmin, ymin, xmax, ymax];\n  return overviewextent.join();\n};\n\nproto._getOptionsPrint = function () {\n  var _this2 = this;\n\n  var is_maps_preset_theme = false;\n  var maps = this.state.maps.map(function (map) {\n    is_maps_preset_theme = is_maps_preset_theme || map.preset_theme !== undefined;\n    return {\n      name: map.name,\n      preset_theme: map.preset_theme,\n      scale: map.overview ? map.scale : _this2.state.scala,\n      extent: map.overview ? _this2.getOverviewExtent(map.extent) : _this2._getPrintExtent()\n    };\n  });\n  var options = {\n    rotation: this.state.rotation,\n    dpi: this.state.dpi,\n    template: this.state.template,\n    maps: maps,\n    scale: this.state.scala,\n    format: this.state.output.format,\n    labels: this.state.labels,\n    is_maps_preset_theme: is_maps_preset_theme\n  };\n\n  return options;\n};\n\nproto.setPrintAreaAfterCloseContent = function () {\n  this._map.once('postrender', this._setPrintArea.bind(this));\n  this.stopLoading();\n};\n\nproto.print = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve, reject) {\n    //disable sidebar\n    _gui2.default.disableSideBar(true);\n    if (_this3.state.atlas) {\n      var caller_download_id = _application2.default.setDownload(true);\n      _this3.state.loading = true;\n      _this3.printService.printAtlas({\n        template: _this3.state.template,\n        field: _this3.state.atlas.field_name || '$id',\n        values: _this3.state.atlasValues,\n        download: true\n      }).then(function (_ref2) {\n        var url = _ref2.url;\n\n        downloadFile({\n          url: url,\n          filename: _this3.state.template,\n          mime_type: 'application/pdf'\n        }).then(function () {\n          resolve();\n        }).catch(function (error) {\n          _this3.showError(error);\n          reject();\n        }).finally(function () {\n          _this3.state.loading = false;\n          _application2.default.setDownload(false, caller_download_id);\n          _gui2.default.disableSideBar(false);\n        });\n      });\n    } else {\n      _this3.state.output.url = null;\n      _this3.state.output.layers = true;\n      _this3._page = new PrintPage({\n        service: _this3\n      });\n      _gui2.default.setContent({\n        content: _this3._page,\n        title: 'print',\n        perc: 100\n      });\n      var options = _this3._getOptionsPrint();\n      _this3.printService.print(options, method = _this3.state.output.method).then(function (data) {\n        _this3.state.output.url = data.url;\n        _this3.state.output.layers = data.layers;\n        _this3.state.output.mime_type = data.mime_type;\n        resolve();\n      }).catch(function (err) {\n        _this3.showError();\n        reject(err);\n      }).finally(function () {\n        // in case of no layers\n        !_this3.state.output.layers && _gui2.default.disableSideBar(false);\n      });\n    }\n  });\n};\n\nproto.startLoading = function () {\n  this.state.output.loading = true;\n};\n\nproto.stopLoading = function () {\n  this.state.output.loading = false;\n};\n\nproto.showError = function (error) {\n  _gui2.default.notify.error(error || t(\"info.server_error\"));\n  _gui2.default.closeContent();\n};\n\nproto._calculateInternalPrintExtent = function () {\n  var resolution = this._map.getView().getResolution();\n  var scala = parseFloat(this.state.scala);\n\n  var _state$maps$find = this.state.maps.find(function (map) {\n    return !map.overview;\n  }),\n      height = _state$maps$find.h,\n      width = _state$maps$find.w;\n\n  var resolutionInMeters = this._mapService.getMapUnits() === 'm' ? resolution : getMetersFromDegrees(resolution);\n  var w = width / 1000.0 * scala / resolutionInMeters;\n  var h = height / 1000.0 * scala / resolutionInMeters;\n  // get current map center ( in pixel)\n  var center = [this.state.size[0] / 2, // X\n  this.state.size[1] / 2 // Y\n  ];\n  // Calculate the inner bbox in pixel\n  var xmin = center[0] - w / 2;\n  var ymin = center[1] - h / 2;\n  var xmax = center[0] + w / 2;\n  var ymax = center[1] + h / 2;\n  this.state.printextent.lowerleft = this._map.getCoordinateFromPixel([xmin, ymax]) ? this._map.getCoordinateFromPixel([xmin, ymax]) : this.state.printextent.lowerleft;\n  this.state.printextent.upperright = this._map.getCoordinateFromPixel([xmax, ymin]) ? this._map.getCoordinateFromPixel([xmax, ymin]) : this.state.printextent.upperright;\n  this.state.inner = [xmin, ymax, xmax, ymin];\n};\n\nproto._setPrintArea = function () {\n  this.state.size = this._map.getSize();\n  var resolution = this._map.getView().getResolution();\n  this.state.currentScala = getScaleFromResolution(resolution, this._mapUnits);\n  this.state.center = this._map.getView().getCenter();\n  this._calculateInternalPrintExtent();\n  this._mapService.setInnerGreyCoverBBox({\n    type: 'pixel',\n    inner: this.state.inner,\n    rotation: this.state.rotation\n  });\n};\n\nproto._clearPrint = function () {\n  var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ol.Observable.unByKey(this._moveMapKeyEvent);\n  this._moveMapKeyEvent = null;\n  this._mapService.stopDrawGreyCover();\n};\n\nproto._setAllScalesBasedOnMaxResolution = function (maxResolution) {\n  var _this4 = this;\n\n  var resolution = maxResolution;\n  var mapScala = getScaleFromResolution(resolution, this._mapUnits);\n  var orderScales = _.orderBy(this.state.scale, ['value'], ['desc']);\n  var scale = [];\n  var addedFirstHighestScale = false;\n  var handleScala = function handleScala(scala) {\n    scale.push(scala);\n    resolution = getResolutionFromScale(scala.value, _this4._mapUnits);\n    _this4._scalesResolutions[scala.value] = resolution;\n    resolution = resolution / 2;\n  };\n  orderScales.forEach(function (scala, index) {\n    if (mapScala > scala.value) {\n      if (!addedFirstHighestScale) {\n        var higherScale = orderScales[index - 1];\n        handleScala(higherScale);\n        addedFirstHighestScale = true;\n      }\n      handleScala(scala);\n    }\n  });\n  this.state.scale = scale;\n};\n\nproto._setInitialScalaSelect = function () {\n  this.state.scala = this.state.scale[0].value;\n  $('#scala').val(this.state.scala);\n};\n\nproto._setCurrentScala = function (resolution) {\n  var _this5 = this;\n\n  Object.entries(this._scalesResolutions).find(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        scala = _ref4[0],\n        res = _ref4[1];\n\n    if (resolution <= res) {\n      _this5.state.scala = scala;\n      return true;\n    }\n  });\n};\n\nproto._setMoveendMapEvent = function () {\n  this._moveMapKeyEvent = this._map.on('moveend', this._setPrintArea.bind(this));\n};\n\nproto._showPrintArea = function () {\n  if (this.state.atlas === undefined) {\n    this._setPrintArea();\n    this._mapService.startDrawGreyCover();\n  }\n};\n\nproto._initPrintConfig = function () {\n  if (!this._initialized) {\n    var maxResolution = this._map.getView().getMaxResolution();\n    this._setAllScalesBasedOnMaxResolution(maxResolution);\n    this._initialized = true;\n  }\n  var resolution = this._map.getView().getResolution();\n  this._setCurrentScala(resolution);\n};\n\nproto.showPrintArea = function (bool) {\n  var _this6 = this;\n\n  // close content if open\n  this.state.isShow = bool;\n  _gui2.default.closeContent().then(function (mapComponent) {\n    setTimeout(function () {\n      _this6._mapService = mapComponent.getService();\n      _this6._mapUnits = _this6._mapService.getMapUnits();\n      _this6._mapService.getMap().once('postrender', function (evt) {\n        _this6._map = evt.map;\n        if (bool) {\n          _this6._setMoveendMapEvent();\n          _this6._initPrintConfig();\n          _this6._showPrintArea();\n        } else _this6._clearPrint();\n      });\n      _this6._mapService.getMap().renderSync();\n    });\n  });\n};\n\nproto.reload = function () {\n  var _this7 = this;\n\n  this._project = _projects2.default.getCurrentProject();\n  this._mapService = _gui2.default.getService('map');\n  this._map = this._mapService.viewer.map;\n  this.state.print = this._project.state.print || [];\n  this.state.visible = this.state.print.length > 0;\n  if (this.state.visible) {\n    this.state.template = this.state.print[0].name;\n    !this._initialized && this.init();\n    this._initPrintConfig();\n    this._mapService.on('changeviewaftercurrentproject', function () {\n      var maxResolution = _this7._map.getView().getMaxResolution();\n      _this7.state.scale = _constant.PRINT_SCALES;\n      _this7._setAllScalesBasedOnMaxResolution(maxResolution);\n    });\n  } else this._clearPrint();\n};\n\nmodule.exports = PrintComponentService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/print/printservice\":61,\"core/utils/ol\":66,\"core/utils/utils\":68,\"gui/print/vue/printpage\":161,\"services/application\":339,\"services/gui\":349,\"store/projects\":367}],160:[function(require,module,exports){\nvar _Print = require('components/Print.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Print);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar PrintService = require('gui/print/printservice');\n\nfunction PrintComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"print\";\n  this.vueComponent = vueComponentOptions;\n  this.internalComponent = null;\n  var service = options.service || new PrintService();\n  this.setService(service);\n  // init service\n  this._service.init();\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.state.visible = service.state.visible;\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n\n  this._reload = function () {\n    var service = this.getService();\n    service.reload();\n    this.state.visible = service.state.visible;\n  };\n\n  this._setOpen = function (bool) {\n    this._service.showPrintArea(bool);\n  };\n}\n\ninherit(PrintComponent, Component);\n\nmodule.exports = PrintComponent;\n\n},{\"components/Print.vue\":265,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/print/printservice\":159}],161:[function(require,module,exports){\nvar _PrintPage = require('components/PrintPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_PrintPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar PrintPage = function PrintPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var service = options.service;\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = service.state.output;\n  this.unmount = function () {\n    this.getService().setPrintAreaAfterCloseContent();\n    return base(this, 'unmount');\n  };\n};\n\ninherit(PrintPage, Component);\n\nmodule.exports = PrintPage;\n\n},{\"components/PrintPage.vue\":267,\"core/utils/utils\":68,\"gui/component/component\":113}],162:[function(require,module,exports){\nvar _ProjectsMenu = require('components/ProjectsMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ProjectsMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction MenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = options.title || \"menu\";\n  this.state.visible = true;\n  this.state.menuitems = options.menuitems;\n  var host = options.host;\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: this,\n    host: host\n  });\n  this.internalComponent.state = this.state;\n}\ninherit(MenuComponent, Component);\n\nvar proto = MenuComponent.prototype;\n\nproto.trigger = function (item) {};\n\nmodule.exports = MenuComponent;\n\n},{\"components/ProjectsMenu.vue\":269,\"core/utils/utils\":68,\"gui/component/component\":113}],163:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MenuComponent = require('gui/projectsmenu/menu');\n\nfunction ProjectsMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'projectsmenu';\n  base(this, options);\n  this.state.menuitems = [];\n  var host = options.host;\n  var projects = options.projects || _projects2.default.getListableProjects();\n  this.state.menuitems = projects.map(function (project) {\n    return {\n      title: project.title,\n      description: project.description,\n      thumbnail: project.thumbnail,\n      gid: project.gid,\n      cbk: options.cbk || function () {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var gid = options.gid;\n\n        return _application2.default.changeProject({\n          gid: gid,\n          host: host\n        });\n      }\n    };\n  });\n}\n\ninherit(ProjectsMenuComponent, MenuComponent);\n\nmodule.exports = ProjectsMenuComponent;\n\n},{\"core/utils/utils\":68,\"gui/projectsmenu/menu\":162,\"services/application\":339,\"store/projects\":367}],164:[function(require,module,exports){\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\nvar QueryBuilderPanel = require('gui/querybuilder/vue/panel/querybuilderpanel');\n\nvar QuerybuilderUIfactory = {\n  type: null,\n  show: function show() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$type = _ref.type,\n        type = _ref$type === undefined ? 'sidebar' : _ref$type,\n        options = _ref.options;\n\n    var QueryBuilderInstance = void 0;\n    this.type = this.type === null ? type : this.type;\n    if (this.type === 'modal') {\n      QueryBuilderInstance = new QueryBuilder({\n        options: options\n      });\n      var queryBuilderDom = QueryBuilderInstance.$mount().$el;\n      GUI.showModalDialog({\n        title: 'Query Builder',\n        message: queryBuilderDom,\n        className: \"modal-background-dark \"\n      });\n    } else {\n      var panel = new QueryBuilderPanel({\n        options: options\n      });\n      QueryBuilderInstance = panel.getInternalPanel();\n      panel.show();\n    }\n    return QueryBuilderInstance;\n  }\n};\n\nmodule.exports = QuerybuilderUIfactory;\n\n},{\"gui/querybuilder/vue/panel/querybuilderpanel\":165,\"gui/querybuilder/vue/querybuilder\":166}],165:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Panel = require('gui/panel');\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\n\nfunction QueryBuilderPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.title = 'Query Builder';\n  base(this, options);\n  var internalPanel = new QueryBuilder(options);\n  this.setInternalPanel(internalPanel);\n}\n\ninherit(QueryBuilderPanel, Panel);\n\nmodule.exports = QueryBuilderPanel;\n\n},{\"core/utils/utils\":68,\"gui/panel\":158,\"gui/querybuilder/vue/querybuilder\":166}],166:[function(require,module,exports){\nvar _QueryBuilder = require('components/QueryBuilder.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryBuilder);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar QueryBuilder = Vue.extend(vueComponentOptions);\n\nmodule.exports = QueryBuilder;\n\n},{\"components/QueryBuilder.vue\":270}],167:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constant = require('constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _QueryResultsActionQueryPolygonCSVAttributes = require('components/QueryResultsActionQueryPolygonCSVAttributes.vue');\n\nvar _QueryResultsActionQueryPolygonCSVAttributes2 = _interopRequireDefault(_QueryResultsActionQueryPolygonCSVAttributes);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop,\n    downloadFile = _require.downloadFile,\n    throttle = _require.throttle,\n    getUniqueDomId = _require.getUniqueDomId,\n    copyUrl = _require.copyUrl;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject;\n\nvar _require3 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require3.getAlphanumericPropertiesFromFeature,\n    createFeatureFromGeometry = _require3.createFeatureFromGeometry,\n    createFeatureFromBBOX = _require3.createFeatureFromBBOX,\n    createFeatureFromCoordinates = _require3.createFeatureFromCoordinates;\n\nvar _require4 = require('core/i18n/i18n.service'),\n    t = _require4.t;\n\nvar Layer = require('core/layers/layer');\nvar G3WObject = require('core/g3wobject');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar PrintService = require('core/print/printservice');\nvar RelationsPage = require('gui/relations/vue/relationspage');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\n//used to get and set vue reactivity to queryresultservice\nvar VM = new Vue();\n\nfunction QueryResultsService() {\n  var _this = this;\n\n  this.printService = new PrintService();\n  this._currentLayerIds = [];\n\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this._project = project;\n    _this._setRelations(project);\n    _this._setAtlasActions(project);\n    _this.state.download_data = false;\n    _this.plotLayerIds = [];\n  });\n  this.unlistenerlayeractionevents = [];\n  this._actions = {\n    'zoomto': QueryResultsService.zoomToElement,\n    'highlightgeometry': this.highlightGeometry.bind(this),\n    'clearHighlightGeometry': this.clearHighlightGeometry.bind(this)\n  };\n  this._relations = [];\n  this._atlas = [];\n  this.plotLayerIds = [];\n  var project = this._project = _projects2.default.getCurrentProject();\n  // userful to set right order for query result based on toc order layers\n  this._projectLayerIds = this._project.getConfigLayers().map(function (layer) {\n    return layer.id;\n  });\n  // set reactive state\n  this.state = {\n    zoomToResult: true,\n    components: [],\n    layers: [],\n    changed: false,\n    query: null,\n    type: 'ows', // or api in case of search\n    layersactions: {},\n    actiontools: {}, // addd action tools (for features)\n    currentactiontools: {}, // current action tools contain component of a specific action (for example download)\n    currentactionfeaturelayer: {}, // contain current action that expose component vue (it useful to comprare id other action is toggled and expose component)\n    layeractiontool: {},\n    layersFeaturesBoxes: {},\n    layerscustomcomponents: {} // used to show a custom component for a layer\n  };\n  this.init = function () {\n    this.clearState();\n  };\n  // Is a vector layer used by query resul to show eventually query resuesta as coordnates, bbox, polygon, etc ..\n  var color = 'blue';\n  var stroke = new ol.style.Stroke({\n    color: color,\n    width: 3\n  });\n  var fill = new ol.style.Fill({\n    color: color\n  });\n  this.resultsQueryLayer = new ol.layer.Vector({\n    style: new ol.style.Style({\n      stroke: stroke,\n      image: new ol.style.Circle({\n        fill: fill,\n        radius: 6\n      })\n    }),\n    source: new ol.source.Vector()\n  });\n\n  this._vectorLayers = [];\n  this._addFeaturesLayerResultInteraction = {\n    id: null, // reference to current layer\n    interaction: null, // interaction bind to layer,\n    mapcontrol: null, // add current toggled map control if toggled\n    toggleeventhandler: null\n  };\n  this.setters = {\n    /**\n     * Method call when response is handled by Data Provider\n     * @param queryResponse\n     * @param options: add is used to know if is a new query request or add/remove query request\n     */\n    setQueryResponse: function setQueryResponse(queryResponse) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n      var add = options.add;\n      // in case of new request results reset the query otherwise maintain the previous request\n\n      if (!add) {\n        this.clearState();\n        this.state.query = queryResponse.query;\n        this.state.type = queryResponse.type;\n      }\n      var data = queryResponse.data;\n\n      var layers = this._digestFeaturesForLayers(data);\n      this.setLayersData(layers, options);\n    },\n\n\n    /**\n     * method to add layer and feature for response\n     * @param layers\n     * @param options\n     */\n    setLayersData: function setLayersData(layers) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n      var add = options.add;\n\n      if (!add) {\n        // here set the right order of result layers based on toc\n        this._currentLayerIds = layers.map(function (layer) {\n          return layer.id;\n        });\n        this._orderResponseByProjectLayers(layers);\n      }\n      layers.forEach(function (layer) {\n        // in case of a new request query\n        if (!add) _this2.state.layers.push(layer);\n        //get features from add pick layer\n        else _this2.updateLayerResultFeatures(layer);\n      });\n      this.setActionsForLayers(layers, { add: add });\n      this.state.changed = true;\n    },\n\n    /**\n     * Method\n     * @param component\n     */\n    addComponent: function addComponent(component) {\n      this._addComponent(component);\n    },\n\n    /**\n     *\n     */\n    addActionsForLayers: function addActionsForLayers(actions, layers) {},\n\n    /**\n     *\n     * @param element\n     */\n    postRender: function postRender(element) {},\n\n    /**\n     *\n     */\n    closeComponent: function closeComponent() {},\n\n    /**\n     *\n     * @param layer\n     */\n    changeLayerResult: function changeLayerResult(layer) {\n      this._changeLayerResult(layer);\n    },\n\n    /**\n     *\n     */\n    activeMapInteraction: function activeMapInteraction() {},\n\n    /**\n     *  setter hook to relation table\n     */\n    editFeature: function editFeature() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          feature = _ref.feature;\n    },\n\n    /**\n     * Method to listen open/close feature info data content.\n     * @param open\n     * @param layer\n     * @param feature\n     * @param container\n     */\n    openCloseFeatureResult: function openCloseFeatureResult() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          open = _ref2.open,\n          layer = _ref2.layer,\n          feature = _ref2.feature,\n          container = _ref2.container;\n    }\n  };\n  base(this);\n\n  this.addLayersPlotIds = function () {\n    var layerIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.plotLayerIds = layerIds;\n  };\n\n  this.getPlotIds = function () {\n    return this.plotLayerIds;\n  };\n\n  this.findPlotId = function (id) {\n    return this.plotLayerIds.find(function (plotId) {\n      return plotId == id;\n    });\n  };\n\n  this._setRelations(project);\n  this._setAtlasActions(project);\n  this._addVectorLayersDataToQueryResponse();\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    var perc = options.perc;\n\n    _this.mapService = _this.mapService || _application2.default.getApplicationService('map');\n    if (perc === 100 && _gui2.default.isMobile()) {\n      _this._asyncFnc.zoomToLayerFeaturesExtent.async = true;\n      _this._asyncFnc.goToGeometry.async = true;\n    }\n  });\n}\n\n// Make the public service en Event Emitter\ninherit(QueryResultsService, G3WObject);\n\nvar proto = QueryResultsService.prototype;\n\n/**\n * Method to register for plugin or other component of application to add custom component on result for each layer feature or layer\n * @param id unique id identification\n * @param layerId Layer id of layer\n * @param component custom component\n * @param type feature or layer\n */\nproto.registerCustomComponent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$id = _ref3.id,\n      id = _ref3$id === undefined ? getUniqueDomId() : _ref3$id,\n      layerId = _ref3.layerId,\n      component = _ref3.component,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'feature' : _ref3$type,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === undefined ? 'after' : _ref3$position;\n\n  if (this.state.layerscustomcomponents[layerId] === undefined) this.state.layerscustomcomponents[layerId] = {\n    layer: {\n      before: [],\n      after: []\n    },\n    feature: {\n      before: [],\n      after: []\n    }\n  };\n  this.state.layerscustomcomponents[layerId][type][position].push({\n    id: id,\n    component: component\n  });\n  return id;\n};\n\n/**\n * To check position\n * @param id\n * @param layerId\n * @param type\n */\nproto.unRegisterCustomComponent = function (_ref4) {\n  var _this3 = this;\n\n  var id = _ref4.id,\n      layerId = _ref4.layerId,\n      type = _ref4.type,\n      position = _ref4.position;\n\n  if (position) this.state.layerscustomcomponents[layerId][type][position] = this.state.layerscustomcomponents[layerId][type][position].filter(function (_ref5) {\n    var componentId = _ref5.id;\n    return componentId !== id;\n  });else Object.keys(this.state.layerscustomcomponents[layerId][type]).forEach(function (position) {\n    _this3.state.layerscustomcomponents[layerId][type][position] = _this3.state.layerscustomcomponents[layerId][type][position].filter(function (_ref6) {\n      var componentId = _ref6.id;\n      return componentId !== id;\n    });\n  });\n};\n\n/**\n * Method to add a feature to current layer result\n * @param layer\n * @param feature\n */\nproto.addFeatureLayerToResult = function (layer, feature) {\n  this.state.layersFeaturesBoxes[this.getBoxId(layer, feature)].collapsed = true;\n};\n\n/**\n * Method to remove a feature from current layer result\n * @param layer\n * @param feature\n */\nproto.removeFeatureLayerFromResult = function (layer, feature) {\n  var id = layer.id,\n      external = layer.external;\n\n  this.updateLayerResultFeatures({\n    id: id,\n    external: external,\n    features: [feature]\n  });\n};\n\n/**\n * Method wrapper for download\n */\n\nproto.downloadApplicationWrapper = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(downloadFnc) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var download_caller_id;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            download_caller_id = _application2.default.setDownload(true);\n\n            _gui2.default.setLoadingContent(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return downloadFnc(options);\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context.t0 || 'server_error',\n              textMessage: _context.t0 ? true : false\n            });\n\n          case 10:\n            _application2.default.setDownload(false, download_caller_id);\n            _gui2.default.setLoadingContent(false);\n\n          case 12:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 7]]);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Based on layer response check if features layer are to add or remove to current state.layers results\n * @param layer\n * @since v3.8.0\n */\nproto.updateLayerResultFeatures = function (layer) {\n  var _this4 = this;\n\n  //extract features from layer object\n  var _layer$features = layer.features,\n      features = _layer$features === undefined ? [] : _layer$features;\n  // get layer from current state.layers showed on result\n\n  var findLayer = this.state.layers.find(function (_layer) {\n    return _layer.id === layer.id;\n  });\n  // if get features and find layer\n  if (findLayer && features.length) {\n    // get id external layer or not (external is a layer added by mapcontrol addexternlayer)\n    var external = findLayer.external;\n    // is array of idexes od features that we has to remove from state.layer because is already loaded\n\n    var removeFeatureIndexes = [];\n    // get id of the features\n    var features_ids = features.map(function (feature) {\n      return !external ? feature.attributes[_constant.G3W_FID] : feature.id;\n    });\n    // loop nad filter the features that we had to remove)\n    findLayer.features = findLayer.features.filter(function (feature) {\n      var indexFindFeature = features_ids.indexOf(!external ? feature.attributes[_constant.G3W_FID] : feature.id);\n      // check if need to filter or not\n      var filtered = indexFindFeature === -1;\n      if (!filtered) {\n        removeFeatureIndexes.push(indexFindFeature);\n        var featureRemoved = features[indexFindFeature];\n        _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n        setTimeout(function () {\n          return delete _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, featureRemoved)];\n        });\n      } else _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n      return filtered;\n    });\n    // filter features to add\n    features = features.filter(function (feature, index) {\n      return removeFeatureIndexes.indexOf(index) === -1;\n    });\n    // check if new feature ha to be added\n    if (features.length) {\n      var newlayerfeatures = [].concat(_toConsumableArray(findLayer.features), _toConsumableArray(features));\n      findLayer.features = newlayerfeatures;\n    }\n    //in case of removed features\n    if (findLayer.features.length === 1 && this.state.layersFeaturesBoxes[this.getBoxId(findLayer, findLayer.features[0])])\n      // used to do all vue reactive thing before update layers\n      setTimeout(function () {\n        return _this4.state.layersFeaturesBoxes[_this4.getBoxId(findLayer, findLayer.features[0])].collapsed = false;\n      });\n    // in case no more features on layer remove interaction pickcoordinate to get result from map\n    this.checkIfLayerHasNoFeatures(findLayer);\n  }\n  // hightlight new feature\n  this.state.layers.length === 1 && this.highlightFeaturesPermanently(this.state.layers[0]);\n  this.changeLayerResult(findLayer);\n};\n\n/**\n * @deprecated since v3.8. Will be deleted in 4.x. Use QueryResultsService::updateLayerResultFeatures(layer) instead\n */\nproto.addRemoveFeaturesToLayerResult = proto.updateLayerResultFeatures;\n\n/**\n * Method called when layer result features for example is changed\n * @param layer\n */\nproto._changeLayerResult = function (layer) {\n  var layeractions = this.state.layersactions[layer.id];\n  // call if present change mthod to action\n  layeractions.forEach(function (action) {\n    return action.change && action.change(layer);\n  });\n  //reset layer current actions tools\n  this.resetCurrentActionToolsLayer(layer);\n};\n\n/**\n * Check and do action if layer has no features after delete feature(s\n */\nproto.checkIfLayerHasNoFeatures = function (layer) {\n  var _this5 = this;\n\n  if (layer.features.length === 0) {\n    // used to do all vue reactive thing before update layers\n    setTimeout(function () {\n      _this5.state.layers = _this5.state.layers.filter(function (_layer) {\n        return _layer.id !== layer.id;\n      });\n      _this5.clearHighlightGeometry(layer);\n      _this5.removeAddFeaturesLayerResultInteraction({\n        toggle: true\n      });\n    });\n  }\n};\n\n/**\n * Method to create boxid identify to query result hmtl\n * @param layer\n * @param feature\n * @param relation_index\n * @returns {string}\n */\nproto.getBoxId = function (layer, feature, relation_index) {\n  return relation_index !== null && relation_index !== undefined ? layer.id + '_' + feature.id + '_' + relation_index : layer.id + '_' + feature.id;\n};\n\nproto.setActionsForLayers = function (layers) {\n  var _this6 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n  var add = options.add;\n\n  if (!add) {\n    this.unlistenerlayeractionevents = [];\n    layers.forEach(function (layer) {\n      /**\n       * set eventually layer action tool and need to be reactive\n       * @type {{}}\n       */\n      _this6.state.layeractiontool[layer.id] = Vue.observable({\n        component: null,\n        config: null\n      });\n      var currentactiontoolslayer = {};\n      var currentationfeaturelayer = {};\n      layer.features.forEach(function (feature, index) {\n        currentactiontoolslayer[index] = null;\n        currentationfeaturelayer[index] = null;\n      });\n      _this6.state.currentactiontools[layer.id] = Vue.observable(currentactiontoolslayer);\n      _this6.state.currentactionfeaturelayer[layer.id] = Vue.observable(currentationfeaturelayer);\n      var is_external_layer_or_wms = layer.external || (layer.source ? layer.source.type === 'wms' : false);\n      if (!_this6.state.layersactions[layer.id]) _this6.state.layersactions[layer.id] = [];\n      /**\n       * An action is an object contains\n       * {\n       * id: Unique action Id => required True\n          download: if is action download or not => required False\n          class: calss fontawsome to show icon => required True,\n          state: need to be reactive. Used for example to toggled state of action icon => required False\n          hint: Tooltip text => required False\n          init: Method called when action is loaded => required False\n          clear: Method called before clear the service. Used for example to clear unwatch => require False\n          change: Method called when feature of layer is changed\n          cbk: Method called when action is cliccked => required True\n          }\n       *\n       * }\n       */\n\n      //in case of geometry\n      if (layer.hasgeometry) {\n        _this6.state.layersactions[layer.id].push({\n          id: 'gotogeometry',\n          download: false,\n          mouseover: true,\n          class: _gui2.default.getFontClass('marker'),\n          hint: 'sdk.mapcontrols.query.actions.zoom_to_feature.hint',\n          cbk: throttle(_this6.goToGeometry.bind(_this6))\n        });\n      }\n      // in case of relations\n      if (_this6._relations) {\n        var relations = _this6._relations[layer.id] && _this6._relations[layer.id].filter(function (relation) {\n          return relation.type === 'MANY';\n        });\n        if (relations && relations.length) {\n          var chartRelationIds = [];\n          relations.forEach(function (relation) {\n            var id = _this6.plotLayerIds.find(function (id) {\n              return id === relation.referencingLayer;\n            });\n            id && chartRelationIds.push(id);\n          });\n\n          _this6.state.layersactions[layer.id].push({\n            id: 'show-query-relations',\n            download: false,\n            class: _gui2.default.getFontClass('relation'),\n            hint: 'sdk.mapcontrols.query.actions.relations.hint',\n            cbk: _this6.showQueryRelations,\n            relations: relations,\n            chartRelationIds: chartRelationIds\n          });\n          var _state = _this6.createActionState({\n            layer: layer\n          });\n          chartRelationIds.length && _this6.state.layersactions[layer.id].push({\n            id: 'show-plots-relations',\n            download: false,\n            opened: true,\n            class: _gui2.default.getFontClass('chart'),\n            state: _state,\n            hint: 'sdk.mapcontrols.query.actions.relations_charts.hint',\n            cbk: throttle(_this6.showRelationsChart.bind(_this6, chartRelationIds))\n          });\n        }\n      }\n      /**\n       *\n       * Check if layer has atlas\n       */\n      _this6.getAtlasByLayerId(layer.id).length && _this6.state.layersactions[layer.id].push({\n        id: 'printatlas',\n        download: true,\n        class: _gui2.default.getFontClass('print'),\n        hint: 'sdk.tooltips.atlas',\n        cbk: _this6.printAtlas.bind(_this6)\n      });\n      var state = _this6.createActionState({\n        layer: layer\n      });\n      if (layer.downloads.length === 1) {\n        var _layer$downloads = _slicedToArray(layer.downloads, 1),\n            format = _layer$downloads[0];\n\n        var _cbk = _this6.downloadFeatures.bind(_this6, format);\n        layer[format] = Vue.observable({\n          active: false\n        });\n        _this6.state.layersactions[layer.id].push({\n          id: 'download_' + format + '_feature',\n          download: true,\n          state: state,\n          class: _gui2.default.getFontClass('download'),\n          hint: 'sdk.tooltips.download_' + format,\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            if (action.state.toggled[index]) _cbk(layer, feature, action, index);else _this6.setCurrentActionLayerFeatureTool({\n              index: index,\n              action: action,\n              layer: layer\n            });\n          }\n        });\n      } else if (layer.downloads.length > 1) {\n        // SET CONSTANT TO AVOID TO CHANGE ALL THINGS\n        var ACTIONTOOLSDOWNLOADFORMATS = _QueryResultsActionDownloadFormats2.default.name;\n        var downloads = [];\n        layer.downloads.forEach(function (format) {\n          downloads.push({\n            id: 'download_' + format + '_feature',\n            download: true,\n            format: format,\n            class: _gui2.default.getFontClass(format),\n            hint: 'sdk.tooltips.download_' + format,\n            cbk: function cbk(layer, feature, action, index) {\n              //used to untoggle downloads action\n              _this6.downloadFeatures(format, layer, feature, action, index);\n              var downloadsaction = _this6.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              if (_this6.state.query.type !== 'polygon') downloadsaction.cbk(layer, feature, downloadsaction, index);\n            }\n          });\n        });\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] = _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] || {};\n        // set config of actionstools\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS][layer.id] = {\n          downloads: downloads // ARE DOWNLOAD ACTIONS,\n        };\n        // used to\n        //check if has download actions\n        _this6.state.layersactions[layer.id].push({\n          id: 'downloads',\n          download: true,\n          class: _gui2.default.getFontClass('download'),\n          state: state,\n          toggleable: true,\n          hint: 'Downloads',\n          change: function change(_ref8) {\n            var _this7 = this;\n\n            var features = _ref8.features;\n\n            features.forEach(function (feature, index) {\n              if (_this7.state.toggled[index] === undefined) VM.$set(_this7.state.toggled, index, false);else _this7.state.toggled[index] = false;\n            });\n          },\n\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            _this6.setCurrentActionLayerFeatureTool({\n              layer: layer,\n              index: index,\n              action: action,\n              component: action.state.toggled[index] ? _QueryResultsActionDownloadFormats2.default : null\n            });\n          }\n        });\n      }\n      /*\n      Check if si external layer or wms\n       */\n      !is_external_layer_or_wms && _this6.state.layersactions[layer.id].push({\n        id: 'removefeaturefromresult',\n        download: false,\n        mouseover: true,\n        class: _gui2.default.getFontClass('minus-square'),\n        style: {\n          color: 'red'\n        },\n        hint: 'sdk.mapcontrols.query.actions.remove_feature_from_results.hint',\n        cbk: _this6.removeFeatureLayerFromResult.bind(_this6)\n      });\n\n      /**\n       * check if selection is active\n       */\n      if (layer.selection.active !== undefined) {\n        // selection action\n        var _state2 = _this6.createActionState({\n          layer: layer\n        });\n\n        _this6.state.layersactions[layer.id].push({\n          id: 'selection',\n          download: false,\n          class: _gui2.default.getFontClass('success'),\n          hint: 'sdk.mapcontrols.query.actions.add_selection.hint',\n          state: _state2,\n          init: function init() {\n            var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                feature = _ref9.feature,\n                index = _ref9.index,\n                action = _ref9.action;\n\n            typeof layer.selection.active !== \"undefined\" && _this6.checkFeatureSelection({\n              layer: layer,\n              index: index,\n              feature: feature,\n              action: action\n            });\n          },\n          cbk: throttle(_this6.addToSelection.bind(_this6))\n        });\n        /*\n        * In case of external layer don't listen selection event\n        * */\n        _this6.listenClearSelection(layer, 'selection');\n        //end selection action\n      }\n      /*\n        If not wms of external layer show copy link to feature\n       */\n      !is_external_layer_or_wms && layer.hasgeometry && _this6.state.layersactions[layer.id].push({\n        id: 'link_zoom_to_fid',\n        download: false,\n        class: _gui2.default.getFontClass('link'),\n        hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint',\n        hint_change: {\n          hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint_change',\n          duration: 1000\n        },\n        cbk: _this6.copyZoomToFidUrl.bind(_this6)\n      });\n      layer.editable && !layer.inediting && _this6.state.layersactions[layer.id].push({\n        id: 'editing',\n        class: _gui2.default.getFontClass('pencil'),\n        hint: 'Editing',\n        cbk: function cbk(layer, feature) {\n          _this6.editFeature({\n            layer: layer,\n            feature: feature\n          });\n        }\n      });\n    });\n    this.addActionsForLayers(this.state.layersactions, this.state.layers);\n  }\n};\n\nproto.createActionState = function (_ref10) {\n  var layer = _ref10.layer,\n      _ref10$dynamicPropert = _ref10.dynamicProperties,\n      dynamicProperties = _ref10$dynamicPropert === undefined ? ['toggled'] : _ref10$dynamicPropert;\n\n  // check number of download formats\n  var propertiesObject = dynamicProperties.reduce(function (accumulator, property) {\n    accumulator[property] = {};\n    return accumulator;\n  }, {});\n  layer.features.map(function (feature, index) {\n    Object.keys(propertiesObject).forEach(function (property) {\n      propertiesObject[property][index] = null;\n    });\n  });\n  return Vue.observable(propertiesObject);\n};\n\n/**\n * Method to get action referred to layer getting the acion id\n * @param layer layer linked to action\n * @param id action id\n * @returns {*}\n */\nproto.getActionLayerById = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref11.layer,\n      id = _ref11.id;\n\n  return this.state.layersactions[layer.id].find(function (action) {\n    return action.id === id;\n  });\n};\n\n/**\n * Set current layer action tool in feature\n * @param layer current layer\n * @param index feature index\n * @param value component value or null\n */\nproto.setCurrentActionLayerFeatureTool = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref12.layer,\n      action = _ref12.action,\n      index = _ref12.index,\n      _ref12$component = _ref12.component,\n      component = _ref12$component === undefined ? null : _ref12$component;\n\n  if (component) {\n    if (this.state.currentactiontools[layer.id][index] && action.id !== this.state.currentactionfeaturelayer[layer.id][index].id && this.state.currentactionfeaturelayer[layer.id][index].toggleable) this.state.currentactionfeaturelayer[layer.id][index].state.toggled[index] = false;\n    this.state.currentactionfeaturelayer[layer.id][index] = action;\n  } else this.state.currentactionfeaturelayer[layer.id][index] = null;\n  this.state.currentactiontools[layer.id][index] = component;\n};\n\nproto.addCurrentActionToolsLayer = function (_ref13) {\n  var id = _ref13.id,\n      layer = _ref13.layer,\n      _ref13$config = _ref13.config,\n      config = _ref13$config === undefined ? {} : _ref13$config;\n\n  this.state.actiontools[id] = {};\n  this.state.actiontools[id][layer.id] = config;\n};\n\n/**\n * Reset current action tools on layer when feature layer change\n * @param layer\n */\nproto.resetCurrentActionToolsLayer = function (layer) {\n  var _this8 = this;\n\n  layer.features.forEach(function (feature, index) {\n    if (_this8.state.currentactiontools[layer.id]) {\n      if (_this8.state.currentactiontools[layer.id][index] === undefined) Vue.set(_this8.state.currentactiontools[layer.id], index, null);else _this8.state.currentactiontools[layer.id][index] = null;\n      _this8.state.currentactionfeaturelayer[layer.id][index] = null;\n    }\n  });\n};\n\n/**\n *\n */\nproto.setLayerActionTool = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref14.layer,\n      _ref14$component = _ref14.component,\n      component = _ref14$component === undefined ? null : _ref14$component,\n      _ref14$config = _ref14.config,\n      config = _ref14$config === undefined ? null : _ref14$config;\n\n  this.state.layeractiontool[layer.id].component = component;\n  this.state.layeractiontool[layer.id].config = config;\n};\n\n/**\n * Method copy zoomtofid url\n * @param layer\n * @param feature\n */\nproto.copyZoomToFidUrl = function (layer, feature, action) {\n  var fid = feature.attributes[_constant.G3W_FID];\n  var url = new URL(location.href);\n  var zoom_to_fid = layer.id + '|' + fid;\n  url.searchParams.set('zoom_to_fid', zoom_to_fid);\n  copyUrl(url.toString());\n  action.hint_changed = true;\n};\n\n/**\n * Clear all\n */\nproto.clear = function () {\n  this.runAsyncTodo();\n  this.unlistenerEventsActions();\n  this.mapService.clearHighlightGeometry();\n  this.resultsQueryLayer.getSource().clear();\n  this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n  this._asyncFnc = null;\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  this.clearState();\n  this.closeComponent();\n};\n\nproto.getCurrentLayersIds = function () {\n  return this._currentLayerIds;\n};\n\nproto.runAsyncTodo = function () {\n  this._asyncFnc.todo();\n};\n\nproto._orderResponseByProjectLayers = function (layers) {\n  var _this9 = this;\n\n  layers.sort(function (layerA, layerB) {\n    var aIndex = _this9._projectLayerIds.indexOf(layerA.id);\n    var bIndex = _this9._projectLayerIds.indexOf(layerB.id);\n    return aIndex > bIndex ? 1 : -1;\n  });\n};\n\nproto.setZoomToResults = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.zoomToResult = bool;\n};\n\nproto.highlightFeaturesPermanently = function (layer) {\n  var features = layer.features;\n\n  this.mapService.highlightFeatures(features, {\n    duration: Infinity\n  });\n};\n\n/**\n * Check if one layer result\n * @returns {boolean}\n */\nproto.isOneLayerResult = function () {\n  return this.state.layers.length === 1;\n};\n\n/**\n *\n * @param toggle boolean If true toggle true the mapcontrol\n */\nproto.removeAddFeaturesLayerResultInteraction = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$toggle = _ref15.toggle,\n      toggle = _ref15$toggle === undefined ? false : _ref15$toggle;\n\n  if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  this._addFeaturesLayerResultInteraction.interaction = null;\n  this._addFeaturesLayerResultInteraction.id = null;\n  // check if map control query map is register and if toggled\n  toggle && this._addFeaturesLayerResultInteraction.mapcontrol && this._addFeaturesLayerResultInteraction.mapcontrol.toggle(true);\n  this._addFeaturesLayerResultInteraction.mapcontrol = null;\n  this._addFeaturesLayerResultInteraction.toggleeventhandler && this.mapService.off('mapcontrol:toggled', this._addFeaturesLayerResultInteraction.toggleeventhandler);\n  this._addFeaturesLayerResultInteraction.toggleeventhandler = null;\n};\n\n/**\n *\n * Adde feature to Features results\n * @param layer\n */\nproto.addLayerFeaturesToResultsAction = function (layer) {\n  var _this10 = this;\n\n  /**\n   * Check if layer is current layer to add or clear previous\n   */\n  if (this._addFeaturesLayerResultInteraction.id !== null && this._addFeaturesLayerResultInteraction.id !== layer.id) {\n    var _layer2 = this.state.layers.find(function (layer) {\n      return layer.id === _this10._addFeaturesLayerResultInteraction.id;\n    });\n    if (_layer2) _layer2.addfeaturesresults.active = false;\n    //remove previous add result interaction\n    if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  }\n  this._addFeaturesLayerResultInteraction.id = layer.id;\n  layer.addfeaturesresults.active = !layer.addfeaturesresults.active;\n  if (layer.addfeaturesresults.active) {\n    this.activeMapInteraction(); // useful o send an event\n    var external = layer.external;\n\n    if (!this._addFeaturesLayerResultInteraction.mapcontrol) this._addFeaturesLayerResultInteraction.mapcontrol = this.mapService.getCurrentToggledMapControl();\n    this._addFeaturesLayerResultInteraction.interaction = new PickCoordinatesInteraction();\n    this.mapService.addInteraction(this._addFeaturesLayerResultInteraction.interaction, {\n      close: false\n    });\n    this._addFeaturesLayerResultInteraction.interaction.on('picked', function () {\n      var _ref16 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(evt) {\n        var coordinates, vectorLayer, responseObject;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                coordinates = evt.coordinate;\n\n                if (external) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _data2.default.getData('query:coordinates', {\n                  inputs: {\n                    coordinates: coordinates,\n                    query_point_tolerance: _this10._project.getQueryPointTolerance(),\n                    layerIds: [layer.id],\n                    multilayers: false\n                  }, outputs: {\n                    show: {\n                      add: true\n                    }\n                  }\n                });\n\n              case 4:\n                _context2.next = 9;\n                break;\n\n              case 6:\n                vectorLayer = _this10._vectorLayers.find(function (vectorLayer) {\n                  return layer.id === vectorLayer.get('id');\n                });\n                responseObject = _this10.getVectorLayerFeaturesFromQueryRequest(vectorLayer, {\n                  coordinates: coordinates\n                });\n\n                _this10.setQueryResponse({\n                  data: [responseObject],\n                  query: {\n                    coordinates: coordinates\n                  }\n                }, { add: true });\n\n              case 9:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this10);\n      }));\n\n      return function (_x16) {\n        return _ref16.apply(this, arguments);\n      };\n    }());\n    var eventHandler = function eventHandler(evt) {\n      if (evt.target.isToggled() && evt.target.isClickMap()) layer.addfeaturesresults.active = false;\n    };\n    this._addFeaturesLayerResultInteraction.toggleeventhandler = eventHandler;\n    this.mapService.once('mapcontrol:toggled', eventHandler);\n  } else this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n};\n\nproto.deactiveQueryInteractions = function () {\n  this.state.layers.forEach(function (layer) {\n    if (layer.addfeaturesresults) layer.addfeaturesresults.active = false;\n  });\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.zoomToLayerFeaturesExtent = function (layer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var features = layer.features;\n\n  options.highlight = !this.isOneLayerResult();\n  if (this._asyncFnc.zoomToLayerFeaturesExtent.async) this._asyncFnc.todo = this.mapService.zoomToFeatures.bind(this.mapService, features, options);else this.mapService.zoomToFeatures(features, options);\n};\n\nproto.clearState = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.layers.splice(0);\n  this.state.query = {};\n  this.state.querytitle = \"\";\n  this.state.changed = false;\n  // clear action if present\n  Object.values(this.state.layersactions).forEach(function (layeractions) {\n    return layeractions.forEach(function (action) {\n      return action.clear && action.clear();\n    });\n  });\n  this.state.layersactions = {};\n  this.state.actiontools = {};\n  this.state.layeractiontool = {};\n  // current action tools\n  this.state.currentactiontools = {};\n  this.state.layersFeaturesBoxes = {};\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state = state;\n};\n\nproto._setRelations = function (project) {\n  var projectRelations = project.getRelations();\n  this._relations = projectRelations ? _.groupBy(projectRelations, 'referencedLayer') : [];\n};\n\nproto.getAtlasByLayerId = function (layerId) {\n  return this._atlas.filter(function (atlas) {\n    return atlas.atlas.qgs_layer_id === layerId;\n  });\n};\n\nproto._setAtlasActions = function (project) {\n  this._atlas = project.getPrint().filter(function (printconfig) {\n    return printconfig.atlas;\n  }) || [];\n};\n\nproto.setTitle = function (querytitle) {\n  this.state.querytitle = querytitle || \"\";\n};\n\nproto.reset = function () {\n  this.clearState();\n};\n\n/**\n * Method that convert response from Data Provider to a Query Result component data structure\n * @param featuresForLayers: Array contains for each layer features\n * @returns {[]}\n * @private\n */\nproto._digestFeaturesForLayers = function (featuresForLayers) {\n  var _this11 = this;\n\n  var id = 0;\n  featuresForLayers = featuresForLayers || [];\n  var layers = [];\n  var layerAttributes = void 0,\n      layerRelationsAttributes = void 0,\n      layerTitle = void 0,\n      layerId = void 0;\n  var _handleFeatureFoLayer = function _handleFeatureFoLayer(featuresForLayer) {\n    var _layerObj;\n\n    var formStructure = void 0;\n    var sourceType = void 0;\n    var source = void 0;\n    var extractRelations = false;\n    var external = false;\n    var editable = false;\n    var inediting = false;\n    var layer = featuresForLayer.layer;\n    var downloads = [];\n    var infoformats = [];\n    var infoformat = void 0;\n    var filter = {};\n    var selection = {};\n    if (layer instanceof Layer) {\n      editable = layer.isEditable();\n      inediting = layer.isInEditing();\n      source = layer.getSource();\n      infoformats = layer.getInfoFormats(); // add infoformats property\n      infoformat = layer.getInfoFormat();\n      // set selection filter and relation if not wms\n      if ([Layer.SourceTypes.WMS, Layer.SourceTypes.WCS, Layer.SourceTypes.WMST].indexOf(layer.getSourceType()) === -1) {\n        filter = layer.state.filter;\n        selection = layer.state.selection;\n        extractRelations = true;\n      }\n      downloads = layer.getDownloadableFormats();\n      try {\n        sourceType = layer.getSourceType();\n      } catch (err) {}\n      // sanitize attributes layer only if is ows\n      layerAttributes = _this11.state.type === 'ows' ? layer.getAttributes().map(function (attribute) {\n        var sanitizeAttribute = _extends({}, attribute);\n        sanitizeAttribute.name = sanitizeAttribute.name.replace(/ /g, '_');\n        return sanitizeAttribute;\n      }) : layer.getAttributes();\n\n      layerRelationsAttributes = [];\n      layerTitle = layer.getTitle();\n      layerId = layer.getId();\n      if (layer.hasFormStructure()) {\n        var structure = layer.getLayerEditingFormStructure();\n        if (_this11._relations && _this11._relations.length) {\n          var getRelationFieldsFromFormStructure = function getRelationFieldsFromFormStructure(node) {\n            if (!node.nodes) {\n              node.name ? node.relation = true : null;\n            } else {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = node.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _node = _step.value;\n\n                  getRelationFieldsFromFormStructure(_node);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          };\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = structure[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var node = _step2.value;\n\n              getRelationFieldsFromFormStructure(node);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n        var fields = layer.getFields().filter(function (field) {\n          return field.show;\n        }); // get features show\n        formStructure = {\n          structure: structure,\n          fields: fields\n        };\n      }\n    } else if (layer instanceof ol.layer.Vector) {\n      selection = layer.selection;\n      layerAttributes = layer.getProperties();\n      layerRelationsAttributes = [];\n      layerTitle = layer.get('name');\n      layerId = layer.get('id');\n      external = true;\n    } else if (typeof layer === 'string' || layer instanceof String) {\n      sourceType = Layer.LayerTypes.VECTOR;\n      var feature = featuresForLayer.features[0];\n      layerAttributes = feature ? feature.getProperties() : [];\n      layerRelationsAttributes = [];\n      var split_layer_name = layer.split('_');\n      layerTitle = split_layer_name.length > 4 ? split_layer_name.slice(0, split_layer_name.length - 4).join(' ') : layer;\n      layerId = layer;\n      external = true;\n    }\n    var layerObj = (_layerObj = {\n      title: layerTitle,\n      id: layerId,\n      infoformat: infoformat,\n      infoformats: infoformats,\n      attributes: [],\n      features: [],\n      hasgeometry: false,\n      atlas: _this11.getAtlasByLayerId(layerId),\n      source: source,\n      downloads: downloads,\n      show: true,\n      filter: filter,\n      addfeaturesresults: {\n        active: false\n      }\n    }, _defineProperty(_layerObj, _QueryResultsActionDownloadFormats2.default.name, {\n      active: false\n    }), _defineProperty(_layerObj, 'external', external), _defineProperty(_layerObj, 'editable', editable), _defineProperty(_layerObj, 'inediting', inediting), _defineProperty(_layerObj, 'selection', selection), _defineProperty(_layerObj, 'expandable', true), _defineProperty(_layerObj, 'hasImageField', false), _defineProperty(_layerObj, 'relationsattributes', layerRelationsAttributes), _defineProperty(_layerObj, 'formStructure', formStructure), _defineProperty(_layerObj, 'error', ''), _defineProperty(_layerObj, 'rawdata', null), _defineProperty(_layerObj, 'loading', false), _layerObj);\n    if (featuresForLayer.rawdata) {\n      layerObj.rawdata = featuresForLayer.rawdata;\n      layers.push(layerObj);\n    } else if (featuresForLayer.features && featuresForLayer.features.length) {\n      var layerSpecialAttributesName = layer instanceof Layer ? layerAttributes.filter(function (attribute) {\n        try {\n          return attribute.name[0] === '_' || Number.isInteger(1 * attribute.name[0]);\n        } catch (e) {\n          return false;\n        }\n      }).map(function (attribute) {\n        return {\n          alias: attribute.name.replace(/_/, ''),\n          name: attribute.name\n        };\n      }) : [];\n      layerSpecialAttributesName.length && featuresForLayer.features.forEach(function (feature) {\n        return _this11._setSpecialAttributesFeatureProperty(layerSpecialAttributesName, feature);\n      });\n      layerObj.attributes = _this11._parseAttributes(layerAttributes, featuresForLayer.features[0], sourceType);\n      layerObj.attributes.forEach(function (attribute) {\n        if (formStructure) {\n          var relationField = layer.getFields().find(function (field) {\n            return field.name === attribute.name;\n          }); // need to check all field also show false\n          !relationField && formStructure.fields.push(attribute);\n        }\n        if (attribute.type === 'image') layerObj.hasImageField = true;\n      });\n      featuresForLayer.features.forEach(function (feature) {\n        var _getFeatureProperties = _this11.getFeaturePropertiesAndGeometry(feature),\n            fid = _getFeatureProperties.id,\n            geometry = _getFeatureProperties.geometry,\n            attributes = _getFeatureProperties.properties,\n            selection = _getFeatureProperties.selection;\n\n        if (geometry) layerObj.hasgeometry = true;\n        var featureObj = {\n          id: layerObj.external ? feature.getId() : fid,\n          attributes: attributes,\n          geometry: geometry,\n          selection: selection,\n          show: true\n        };\n        layerObj.features.push(featureObj);\n        id += 1;\n      });\n      layers.push(layerObj);\n    } else if (featuresForLayer.error) layerObj.error = featuresForLayer.error;\n  };\n  featuresForLayers.forEach(function (featuresForLayer) {\n    if (!Array.isArray(featuresForLayer)) _handleFeatureFoLayer(featuresForLayer);else featuresForLayer.forEach(function (featuresForLayer) {\n      return _handleFeatureFoLayer(featuresForLayer);\n    });\n  });\n  return layers;\n};\n\n/**\n * Method to set special attributes\n * @param layerSpecialAttributesName\n * @param feature\n * @private\n */\nproto._setSpecialAttributesFeatureProperty = function (layerSpecialAttributesName, feature) {\n  // get feature properties get from server request\n  var featureAttributes = feature.getProperties();\n  // get attributes special keys\n  var featureAttributesNames = Object.keys(featureAttributes);\n  if (layerSpecialAttributesName.length) {\n    layerSpecialAttributesName.forEach(function (attributeObj) {\n      featureAttributesNames.find(function (featureAttribute) {\n        if (featureAttribute === attributeObj.alias) {\n          feature.set(attributeObj.name, feature.get(featureAttribute));\n          return true;\n        }\n      });\n    });\n  }\n};\n\n/**\n * Method to get properties geometry and id from different type of fetaure\n * @param feature\n * @returns {{geometry: (undefined|*|null|ol.Feature), id: *, properties: string[]}|{geometry: *, id: *, properties: *}}\n */\nproto.getFeaturePropertiesAndGeometry = function (feature) {\n  if (feature instanceof ol.Feature) {\n    return {\n      selection: feature.selection,\n      properties: feature.getProperties(),\n      geometry: feature.getGeometry(),\n      id: feature.getId()\n    };\n  } else {\n    var selection = feature.selection,\n        properties = feature.properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    return {\n      selection: selection,\n      properties: properties,\n      geometry: geometry,\n      id: id\n    };\n  }\n};\n\n/**\n * parse attributre to show on result based on field\n * @param layerAttributes\n * @param feature\n * @param sourceType\n * @returns {{name: T, show: boolean, label: T}[]|*}\n * @private\n */\nproto._parseAttributes = function (layerAttributes, feature, sourceType) {\n  var _getFeatureProperties2 = this.getFeaturePropertiesAndGeometry(feature),\n      featureAttributes = _getFeatureProperties2.properties;\n\n  var featureAttributesNames = Object.keys(featureAttributes);\n  featureAttributesNames = getAlphanumericPropertiesFromFeature(featureAttributesNames);\n  if (layerAttributes && layerAttributes.length) {\n    var attributes = layerAttributes.filter(function (attribute) {\n      return featureAttributesNames.indexOf(attribute.name) > -1;\n    });\n    return attributes;\n  } else {\n    var _Layer$SourceTypes = Layer.SourceTypes,\n        GDAL = _Layer$SourceTypes.GDAL,\n        WMS = _Layer$SourceTypes.WMS,\n        WCS = _Layer$SourceTypes.WCS,\n        WMST = _Layer$SourceTypes.WMST;\n\n    var showSourcesTypes = [GDAL, WMS, WCS, WMST];\n    return featureAttributesNames.map(function (featureAttributesName) {\n      return {\n        name: featureAttributesName,\n        label: featureAttributesName,\n        show: featureAttributesName !== _constant.G3W_FID && (sourceType === undefined || showSourcesTypes.indexOf(sourceType) !== -1),\n        type: 'varchar'\n      };\n    });\n  }\n};\n\nproto.trigger = function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(actionId, layer, feature, index, container) {\n    var actionMethod, layerActions, action;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            actionMethod = this._actions[actionId];\n\n            actionMethod && actionMethod(layer, feature, index);\n\n            if (!layer) {\n              _context3.next = 10;\n              break;\n            }\n\n            layerActions = this.state.layersactions[layer.id];\n\n            if (!layerActions) {\n              _context3.next = 10;\n              break;\n            }\n\n            action = layerActions.find(function (layerAction) {\n              return layerAction.id === actionId;\n            });\n            _context3.t0 = action;\n\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 10;\n            return this.triggerLayerAction(action, layer, feature, index, container);\n\n          case 10:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x19, _x20, _x21, _x22, _x23) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\nproto.triggerLayerAction = function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(action, layer, feature, index, container) {\n    var url, urlTemplate;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.t0 = action.cbk;\n\n            if (!_context4.t0) {\n              _context4.next = 4;\n              break;\n            }\n\n            _context4.next = 4;\n            return action.cbk(layer, feature, action, index, container);\n\n          case 4:\n            if (action.route) {\n              url = void 0;\n              urlTemplate = action.route;\n\n              url = urlTemplate.replace(/{(\\w*)}/g, function (m, key) {\n                return feature.attributes.hasOwnProperty(key) ? feature.attributes[key] : \"\";\n              });\n              url && url !== '' && _gui2.default.goto(url);\n            }\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x24, _x25, _x26, _x27, _x28) {\n    return _ref18.apply(this, arguments);\n  };\n}();\n\nproto.registerVectorLayer = function (vectorLayer) {\n  this._vectorLayers.indexOf(vectorLayer) === -1 && this._vectorLayers.push(vectorLayer);\n};\n\nproto.unregisterVectorLayer = function (vectorLayer) {\n  var _this12 = this;\n\n  this._vectorLayers = this._vectorLayers.filter(function (layer) {\n    _this12.state.layers = _this12.state.layers && _this12.state.layers.filter(function (layer) {\n      return layer.id !== vectorLayer.get('id');\n    });\n    return layer !== vectorLayer;\n  });\n};\n\nproto.getVectorLayerFeaturesFromQueryRequest = function (vectorLayer) {\n  var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var isVisible = false;\n  var coordinates = query.coordinates,\n      bbox = query.bbox,\n      geometry = query.geometry; // extract information about query type\n\n  var features = [];\n  switch (vectorLayer.constructor) {\n    case VectorLayer:\n      isVisible = vectorLayer.isVisible();\n      break;\n    case ol.layer.Vector:\n      isVisible = vectorLayer.getVisible();\n      break;\n  }\n  if (!isVisible) return true;\n  // case query coordinates\n  if (coordinates && Array.isArray(coordinates)) {\n    var pixel = this.mapService.viewer.map.getPixelFromCoordinate(coordinates);\n    this.mapService.viewer.map.forEachFeatureAtPixel(pixel, function (feature, layer) {\n      features.push(feature);\n    }, {\n      layerFilter: function layerFilter(layer) {\n        return layer === vectorLayer;\n      }\n    });\n    //case bbox\n  } else if (bbox && Array.isArray(bbox)) {\n    var _geometry = ol.geom.Polygon.fromExtent(bbox);\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(_geometry);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          _geometry.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n    //case geometry\n  } else if (geometry instanceof ol.geom.Polygon || geometry instanceof ol.geom.MultiPolygon) {\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(geometry);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          geometry.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n  }\n  return {\n    features: features,\n    layer: vectorLayer\n  };\n};\n\nproto._addVectorLayersDataToQueryResponse = function () {\n  var _this13 = this;\n\n  this.onbefore('setQueryResponse', function (queryResponse) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _queryResponse$query = queryResponse.query,\n        query = _queryResponse$query === undefined ? {} : _queryResponse$query;\n    var _options$add = options.add,\n        add = _options$add === undefined ? false : _options$add;\n\n    !add && _this13._vectorLayers.forEach(function (vectorLayer) {\n      var responseObj = _this13.getVectorLayerFeaturesFromQueryRequest(vectorLayer, query);\n      if (!queryResponse.data) queryResponse.data = [];\n      queryResponse.data.push(responseObj);\n    });\n  });\n};\n\n//function to add custom component in query result\nproto._addComponent = function (component) {\n  this.state.components.push(component);\n};\n\nproto._printSingleAtlas = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$atlas = _ref19.atlas,\n      atlas = _ref19$atlas === undefined ? {} : _ref19$atlas,\n      _ref19$features = _ref19.features,\n      features = _ref19$features === undefined ? [] : _ref19$features;\n\n  var template = atlas.name,\n      field_name = atlas.atlas.field_name;\n\n  field_name = field_name || '$id';\n  var values = features.map(function (feature) {\n    return feature.attributes[field_name === '$id' ? _constant.G3W_FID : field_name];\n  });\n  var download_caller_id = _application2.default.setDownload(true);\n  return this.printService.printAtlas({\n    field: field_name,\n    values: values,\n    template: template,\n    download: true\n  }).then(function (_ref20) {\n    var url = _ref20.url;\n\n    downloadFile({\n      url: url,\n      filename: template,\n      mime_type: 'application/pdf'\n    }).catch(function (error) {\n      _gui2.default.showUserMessage({\n        type: 'alert',\n        error: error\n      });\n    }).finally(function () {\n      _application2.default.setDownload(false, download_caller_id);\n      _gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.showChart = function (ids, container, relationData) {\n  this.emit('show-chart', ids, container, relationData);\n};\n\nproto.hideChart = function (container) {\n  this.emit('hide-chart', container);\n};\n\nproto.showRelationsChart = function () {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var layer = arguments[1];\n  var feature = arguments[2];\n  var action = arguments[3];\n  var index = arguments[4];\n  var container = arguments[5];\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  if (action.state.toggled[index]) {\n    var relations = this._relations[layer.id];\n    var relationData = {\n      relations: relations,\n      fid: feature.attributes[_constant.G3W_FID],\n      height: 400\n    };\n    this.emit('show-chart', ids, container, relationData);\n  } else this.hideChart(container);\n};\n\nproto.printAtlas = function (layer, feature) {\n  var _this14 = this;\n\n  var layerId = layer.id,\n      features = layer.features;\n\n  var inputAtlasAttr = 'g3w_atlas_index';\n  features = feature ? [feature] : features;\n  var atlasLayer = this.getAtlasByLayerId(layerId);\n  if (atlasLayer.length > 1) {\n    var inputs = '';\n    atlasLayer.forEach(function (atlas, index) {\n      var id = getUniqueDomId();\n      inputs += '<input id=\"' + id + '\" ' + inputAtlasAttr + '=\"' + index + '\" class=\"magic-radio\" type=\"radio\" name=\"template\" value=\"' + atlas.name + '\"/>\\n                 <label for=\"' + id + '\">' + atlas.name + '</label>\\n                 <br>';\n    });\n\n    _gui2.default.showModalDialog({\n      title: \"Seleziona Template\",\n      message: inputs,\n      buttons: {\n        success: {\n          label: \"OK\",\n          className: \"skin-button\",\n          callback: function callback() {\n            var index = $('input[name=\"template\"]:checked').attr(inputAtlasAttr);\n            if (index !== null || index !== undefined) {\n              var atlas = atlasLayer[index];\n              _this14._printSingleAtlas({\n                atlas: atlas,\n                features: features\n              });\n            }\n          }\n        }\n      }\n    });\n  } else this._printSingleAtlas({\n    atlas: atlasLayer[0],\n    features: features\n  });\n};\n\n/**\n * Method that in case\n * @param layer\n */\nproto.showLayerDownloadFormats = function (layer) {\n  var layerKey = _QueryResultsActionDownloadFormats2.default.name;\n  layer[layerKey].active = !layer[layerKey].active;\n  this.setLayerActionTool({\n    layer: layer,\n    component: layer[layerKey].active ? _QueryResultsActionDownloadFormats2.default : null,\n    config: layer[layerKey].active ? this.state.actiontools[layerKey][layer.id] : null\n  });\n};\n\n/**\n *\n * @param type\n * @param layerId\n * @param features\n */\nproto.downloadFeatures = function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(type, layer) {\n    var features = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var _this15 = this;\n\n    var action = arguments[3];\n    var index = arguments[4];\n\n    var layerId, _state$query, query, data, runDownload, downloadsactions, fid, polygonLayer, config;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            layerId = layer.id;\n            _state$query = this.state.query, query = _state$query === undefined ? {} : _state$query;\n\n            features = features ? Array.isArray(features) ? features : [features] : features;\n            data = {\n              fids: features.map(function (feature) {\n                return feature.attributes[_constant.G3W_FID];\n              }).join(',')\n            };\n            /**\n             * is a function that che be called in case of querybypolygon\n             * @param active\n             */\n\n            runDownload = function () {\n              var _ref22 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n                var active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n                var projectLayer, download_caller_id, downloadsactions;\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (features.length > 1) {\n                          layer[_QueryResultsActionDownloadFormats2.default.name].active = active;\n                          _this15.setLayerActionTool({\n                            layer: layer\n                          });\n                        }\n                        projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n                        download_caller_id = _application2.default.setDownload(true);\n\n                        _gui2.default.setLoadingContent(true);\n                        _context5.prev = 4;\n                        _context5.next = 7;\n                        return projectLayer.getDownloadFilefromDownloadDataType(type, {\n                          data: data\n                        });\n\n                      case 7:\n                        _context5.t0 = _context5.sent;\n\n                        if (_context5.t0) {\n                          _context5.next = 10;\n                          break;\n                        }\n\n                        Promise.resolve();\n\n                      case 10:\n                        _context5.next = 15;\n                        break;\n\n                      case 12:\n                        _context5.prev = 12;\n                        _context5.t1 = _context5['catch'](4);\n\n                        _gui2.default.notify.error(_context5.t1 || t(\"info.server_error\"));\n\n                      case 15:\n                        _application2.default.setDownload(false, download_caller_id);\n                        _gui2.default.setLoadingContent(false);\n                        downloadsactions = _this15.state.layersactions[layer.id].find(function (action) {\n                          return action.id === 'downloads';\n                        });\n\n                        if (features.length > 1) {\n                          if (downloadsactions === undefined) {\n                            layer[type].active = false;\n                            _this15.setLayerActionTool({\n                              layer: layer\n                            });\n                          } else layer[_QueryResultsActionDownloadFormats2.default.name].active = false;\n                        } else {\n                          if (downloadsactions === undefined) action.state.toggled[index] = false;else downloadsactions.state.toggled[index] = false;\n                          _this15.setCurrentActionLayerFeatureTool({\n                            index: index,\n                            action: action,\n                            layer: layer\n                          });\n                        }\n\n                      case 19:\n                      case 'end':\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5, _this15, [[4, 12]]);\n              }));\n\n              return function runDownload() {\n                return _ref22.apply(this, arguments);\n              };\n            }();\n\n            if (query.type === 'polygon') {\n              //check if multidownload if present\n              downloadsactions = this.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              fid = query.fid, polygonLayer = query.layer;\n              config = {\n                choices: [{\n                  id: getUniqueDomId(),\n                  type: 'feature',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature.label'\n                }, {\n                  id: getUniqueDomId(),\n                  type: 'polygon',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature_polygon.label'\n                }],\n                download: function download(type) {\n                  // choose between only feature attribute or also polygon attibute\n                  if (type === 'polygon') {\n                    // id type polygon add paramateres to api download\n                    data.sbp_qgs_layer_id = polygonLayer.getId();\n                    data.sbp_fid = fid;\n                  } else {\n                    // force to remove\n                    delete data.sbp_fid;\n                    delete data.sbp_qgs_layer_id;\n                  }\n                  runDownload(true);\n                }\n              };\n\n              if (features.length === 1) {\n                if (downloadsactions === undefined) {\n                  action.state.toggled[index] = true;\n                }\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name] = this.state.actiontools[layerId] || {};\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name][layerId] = config;\n                this.setCurrentActionLayerFeatureTool({\n                  layer: layer,\n                  index: index,\n                  action: action,\n                  component: _QueryResultsActionQueryPolygonCSVAttributes2.default\n                });\n              } else {\n                if (downloadsactions === undefined) {\n                  layer[type].active = !layer[type].active;\n                  if (layer[type].active) {\n                    this.setLayerActionTool({\n                      layer: layer,\n                      component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                      config: config\n                    });\n                  } else this.setLayerActionTool({\n                    layer: layer\n                  });\n                } else {\n                  this.setLayerActionTool({\n                    layer: layer,\n                    component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                    config: config\n                  });\n                }\n              }\n            } else runDownload();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x34, _x35) {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\nproto.downloadGpx = function () {\n  var _this16 = this;\n\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref23.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getGpx({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this16.layerMenu.loading.shp = false;\n    _this16._hideMenu();\n  });\n};\n\nproto.downloadXls = function () {\n  var _this17 = this;\n\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref24.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getXls({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this17.layerMenu.loading.shp = false;\n    _this17._hideMenu();\n  });\n};\n\nproto.listenClearSelection = function (layer, actionId) {\n  var _this18 = this;\n\n  if (!layer.external) {\n    var _layer = _catalogLayers2.default.getLayerById(layer.id);\n    var handler = function handler() {\n      var action = _this18.state.layersactions[layer.id].find(function (action) {\n        return action.id === actionId;\n      });\n      layer.features.forEach(function (feature, index) {\n        return action.state.toggled[index] = false;\n      });\n    };\n    _layer.on('unselectionall', handler);\n    this.unlistenerlayeractionevents.push({\n      layer: _layer,\n      event: 'unselectionall',\n      handler: handler\n    });\n  } else {\n    layer.features.forEach(function (feature) {\n      var selectionFeature = layer.selection.features.find(function (selectionFeature) {\n        return feature.id === selectionFeature.getId();\n      });\n      feature.selection = selectionFeature ? selectionFeature.selection : {\n        selected: false\n      };\n    });\n  }\n};\n\nproto.clearSelectionExtenalLayer = function (layer) {\n  var _this19 = this;\n\n  layer.selection.active = false;\n  var action = this.state.layersactions[layer.id] && this.state.layersactions[layer.id].find(function (action) {\n    return action.id === 'selection';\n  });\n  layer.selection.features.forEach(function (feature, index) {\n    if (feature.selection.selected) {\n      feature.selection.selected = false;\n      if (action) action.state.toggled[index] = false;\n      _this19.mapService.setSelectionFeatures('remove', {\n        feature: feature\n      });\n    }\n  });\n};\n\nproto.unlistenerEventsActions = function () {\n  this.unlistenerlayeractionevents.forEach(function (obj) {\n    return obj.layer.off(obj.event, obj.handler);\n  });\n  this.unlistenerlayeractionevents = [];\n};\n\nproto.addRemoveFilter = function (layer) {\n  var _layer = _catalogLayers2.default.getLayerById(layer.id);\n  _layer.toggleFilterToken();\n};\n\n/**\n *\n * @param layer\n */\nproto.selectionFeaturesLayer = function (layer) {\n  var _this20 = this;\n\n  var layerId = layer.id;\n  var action = this.state.layersactions[layerId].find(function (action) {\n    return action.id === 'selection';\n  });\n  var bool = Object.values(action.state.toggled).reduce(function (acculmulator, value) {\n    return acculmulator && value;\n  }, true);\n  var _layer = !layer.external ? _catalogLayers2.default.getLayerById(layerId) : layer;\n  layer.features.forEach(function (feature, index) {\n    action.state.toggled[index] = !bool;\n    _this20._addRemoveSelectionFeature(_layer, feature, index, bool ? 'remove' : 'add');\n  });\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param index\n * @param force\n * @returns {Promise<void>}\n * @private\n */\nproto._addRemoveSelectionFeature = function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(layer, feature, index, force) {\n    var selectionFeature, fid, hasAlreadySelectioned, currentLayer;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof layer.external !== \"undefined\" && layer.external)) {\n              _context7.next = 12;\n              break;\n            }\n\n            if (typeof layer.selection.features === \"undefined\") layer.selection.features = {};\n            if (!layer.selection.features.find(function (selectionFeature) {\n              return selectionFeature.getId() === feature.id;\n            })) {\n              /***\n               * Feature used in selection tool action\n               */\n              selectionFeature = createFeatureFromFeatureObject({\n                feature: feature,\n                id: feature.id\n              });\n\n              selectionFeature.__layerId = layer.id;\n              selectionFeature.selection = feature.selection;\n              layer.selection.features.push(selectionFeature);\n            }\n\n            if (!(force === 'add' && feature.selection.selected || force === 'remove' && !feature.selection.selected)) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt('return');\n\n          case 7:\n            feature.selection.selected = !feature.selection.selected;\n\n          case 8:\n            this.mapService.setSelectionFeatures(feature.selection.selected ? 'add' : 'remove', {\n              feature: layer.selection.features.find(function (selectionFeature) {\n                return feature.id === selectionFeature.getId();\n              })\n            });\n            /*\n            * Set selection layer active based on features selection selected properties\n             */\n            layer.selection.active = layer.selection.features.reduce(function (accumulator, feature) {\n              return accumulator || feature.selection.selected;\n            }, false);\n            _context7.next = 28;\n            break;\n\n          case 12:\n            // case of project layer on TOC\n            fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n            hasAlreadySelectioned = layer.getFilterActive() || layer.hasSelectionFid(fid);\n\n            if (!hasAlreadySelectioned) {\n              if (feature && feature.geometry && !layer.getOlSelectionFeature(fid)) {\n                layer.addOlSelectionFeature({\n                  id: fid,\n                  feature: feature\n                });\n              }\n            }\n\n            if (!(force === undefined)) {\n              _context7.next = 19;\n              break;\n            }\n\n            layer[hasAlreadySelectioned ? 'excludeSelectionFid' : 'includeSelectionFid'](fid);\n            _context7.next = 27;\n            break;\n\n          case 19:\n            if (!(!hasAlreadySelectioned && force === 'add')) {\n              _context7.next = 24;\n              break;\n            }\n\n            _context7.next = 22;\n            return layer.includeSelectionFid(fid);\n\n          case 22:\n            _context7.next = 27;\n            break;\n\n          case 24:\n            if (!(hasAlreadySelectioned && force === 'remove')) {\n              _context7.next = 27;\n              break;\n            }\n\n            _context7.next = 27;\n            return layer.excludeSelectionFid(fid);\n\n          case 27:\n            if (layer.getFilterActive()) {\n              currentLayer = this.state.layers.find(function (_layer) {\n                return _layer.id === layer.getId();\n              });\n\n              layer.getSelectionFids().size > 0 && currentLayer && currentLayer.features.splice(index, 1);\n              this.mapService.clearHighlightGeometry();\n              this.state.layers.length === 1 && !this.state.layers[0].features.length && this.state.layers.splice(0);\n            }\n\n          case 28:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x39, _x40, _x41, _x42) {\n    return _ref25.apply(this, arguments);\n  };\n}();\n\n/**\n * Initial check of selection active on layer\n * @param layer\n * @param feature\n * @param index\n * @param action\n */\nproto.checkFeatureSelection = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref26.layer,\n      feature = _ref26.feature,\n      index = _ref26.index,\n      action = _ref26.action;\n\n  if (!layer.external) {\n    var projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n    if (feature) {\n      var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n      action.state.toggled[index] = projectLayer.getFilterActive() || projectLayer.hasSelectionFid(fid);\n    }\n  } else {\n    action.state.toggled[index] = feature.selection.selected;\n  }\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param action\n * @param index\n */\nproto.addToSelection = function (layer, feature, action, index) {\n  var _layer$external = layer.external,\n      external = _layer$external === undefined ? false : _layer$external;\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  var _layer = !external ? _catalogLayers2.default.getLayerById(layer.id) : layer;\n  this._addRemoveSelectionFeature(_layer, feature, index);\n};\n\nproto.removeQueryResultLayerFromMap = function () {\n  this.resultsQueryLayer.getSource().clear();\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n};\n\n// show layerQuery result on map\nproto.addQueryResultsLayerToMap = function (_ref27) {\n  var _this21 = this;\n\n  var feature = _ref27.feature,\n      _ref27$timeout = _ref27.timeout,\n      timeout = _ref27$timeout === undefined ? 1500 : _ref27$timeout;\n\n  this.removeQueryResultLayerFromMap();\n  this.resultsQueryLayer.getSource().addFeature(feature);\n  this.mapService.getMap().addLayer(this.resultsQueryLayer);\n  try {\n    var center = ol.extent.getCenter(feature.getGeometry().getExtent());\n    this.mapService.getMap().getView().setCenter(center);\n  } catch (err) {}\n  timeout && setTimeout(function () {\n    _this21.removeQueryResultLayerFromMap();\n  }, timeout);\n};\n\n/**\n *\n  Show featureFormCoordinates\n */\nproto.showCoordinates = function (coordinates) {\n  var feature = createFeatureFromCoordinates(coordinates);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show BBox\n * @param bbox\n */\nproto.showBBOX = function (bbox) {\n  var feature = createFeatureFromBBOX(bbox);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show Geometry\n * @param geometry\n */\nproto.showGeometry = function (geometry) {\n  var feature = createFeatureFromGeometry({\n    geometry: geometry\n  });\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n *\n * @param layer\n * @param feature\n */\nproto.goToGeometry = function (layer, feature) {\n  var _this22 = this;\n\n  if (feature.geometry) {\n    var handlerOptions = {\n      mapServiceMethod: this.isOneLayerResult() ? 'zoomToFeatures' : 'highlightGeometry',\n      firstParam: this.isOneLayerResult() ? [feature] : feature.geometry,\n      options: this.isOneLayerResult() ? {} : {\n        layerId: layer.id,\n        duration: 1500\n      }\n    };\n    if (this._asyncFnc.goToGeometry.async) this._asyncFnc.todo = this.mapService[handlerOptions.mapServiceMethod].bind(this.mapService, handlerOptions.firstParam, handlerOptions.options);else setTimeout(function () {\n      return _this22.mapService[handlerOptions.mapServiceMethod](handlerOptions.firstParam, handlerOptions.options);\n    });\n  }\n};\n\n//save layer result\nproto.saveLayerResult = function () {\n  var _ref28 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref28.layer,\n      _ref28$type = _ref28.type,\n      type = _ref28$type === undefined ? 'csv' : _ref28$type;\n\n  this.downloadFeatures(type, layer, layer.features);\n};\n\nproto.highlightGeometry = function (layer, feature) {\n  feature.geometry && this.mapService.highlightGeometry(feature.geometry, {\n    layerId: layer.id,\n    zoom: false,\n    duration: Infinity\n  });\n};\n\nproto.clearHighlightGeometry = function (layer) {\n  this.mapService.clearHighlightGeometry();\n  this.isOneLayerResult() && this.highlightFeaturesPermanently(layer);\n};\n\n/**\n * method to handle show Relation on result\n * @param relationId,\n * layerId : current layer fathre id\n * feature: current feature father id\n */\nproto.showRelation = function () {\n  var _ref29 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relation = _ref29.relation,\n      layerId = _ref29.layerId,\n      feature = _ref29.feature;\n\n  var relationId = relation.name,\n      nmRelationId = relation.nmRelationId;\n\n  var chartRelationIds = [];\n  var projectRelation = this._project.getRelationById(relationId);\n  var nmRelation = this._project.getRelationById(nmRelationId);\n  this.findPlotId(projectRelation.referencingLayer) && chartRelationIds.push(projectRelation.referencingLayer);\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      currentview: 'relation',\n      relations: [projectRelation],\n      chartRelationIds: chartRelationIds,\n      nmRelation: nmRelation,\n      feature: feature,\n      layer: {\n        id: layerId\n      }\n    }),\n    crumb: {\n      title: projectRelation.name\n    },\n    title: projectRelation.name,\n    closable: false\n  });\n};\n\nproto.showQueryRelations = function (layer, feature, action) {\n\n  _gui2.default.changeCurrentContentOptions({\n    crumb: {\n      title: layer.title\n    }\n  });\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      relations: action.relations,\n      chartRelationIds: action.chartRelationIds,\n      feature: feature,\n      layer: layer\n    }),\n    backonclose: true,\n    title: _constant.LIST_OF_RELATIONS_TITLE,\n    id: _constant.LIST_OF_RELATIONS_ID,\n    crumb: {\n      title: _constant.LIST_OF_RELATIONS_TITLE,\n      trigger: null\n    },\n    closable: false\n  });\n};\n\nmodule.exports = QueryResultsService;\n\n},{\"components/QueryResultsActionDownloadFormats.vue\":274,\"components/QueryResultsActionQueryPolygonCSVAttributes.vue\":276,\"constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/layer\":35,\"core/layers/vectorlayer\":58,\"core/print/printservice\":61,\"core/utils/geo\":65,\"core/utils/utils\":68,\"g3w-ol/interactions/pickcoordinatesinteraction\":102,\"gui/relations/vue/relationspage\":171,\"services/application\":339,\"services/data\":346,\"services/gui\":349,\"store/catalog-layers\":362,\"store/projects\":367}],168:[function(require,module,exports){\nvar _QueryResults = require('components/QueryResults.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryResults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar QueryResultsService = require('gui/queryresults/queryresultsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction QueryResultsComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"queryresults\";\n  this.title = \"Query Results\";\n  this._service = new QueryResultsService();\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      queryResultsService: this._service\n    });\n    this.internalComponent.querytitle = this._service.state.querytitle;\n  };\n\n  this.getElement = function () {\n    if (this.internalComponent) return this.internalComponent.$el;\n  };\n\n  this._service.onafter('setLayersData', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            !_this.internalComponent && _this.setInternalComponent();\n            _context.next = 3;\n            return _this.internalComponent.$nextTick();\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n\n  this.layout = function (width, height) {};\n  this.unmount = function () {\n    this.getService().closeComponent();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(QueryResultsComponent, Component);\n\nmodule.exports = QueryResultsComponent;\n\n},{\"components/QueryResults.vue\":272,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/queryresults/queryresultsservice\":167}],169:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsComponentService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {};\n  this._options = {};\n  base(this);\n}\n\ninherit(RelationsComponentService, G3WObject);\n\nvar proto = RelationsComponentService.prototype;\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._options = options;\n  return _relations2.default.getRelations(options);\n};\n\nproto.getRelationsNM = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var nmRelation = _ref.nmRelation,\n        features = _ref.features;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _relations2.default.getRelationsNM({\n              nmRelation: nmRelation,\n              features: features\n            });\n\n          case 2:\n            return _context.abrupt('return', _context.sent);\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nproto.saveRelations = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(type) {\n    var caller_download_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this._options.type = type;\n            caller_download_id = _application2.default.setDownload(true);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _relations2.default.save(this._options);\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context2.t0 || \"info.server_error\",\n              closable: true\n            });\n\n          case 10:\n            _application2.default.setDownload(false, caller_download_id);\n\n          case 11:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[2, 7]]);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nproto.buildRelationTable = function () {\n  var relations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var id = arguments[1];\n\n  var layer = _application2.default.getCurrentProject().getLayerById(id);\n  var headers = layer.getTableHeaders();\n  var columns = null;\n  var rows = [];\n  var rows_fid = [];\n  var fields = void 0;\n  if (relations.length) {\n    var attributes = Object.keys(relations[0].attributes);\n    columns = headers.filter(function (header) {\n      return attributes.indexOf(header.name) !== -1;\n    });\n    rows = relations.map(function (relation) {\n      rows_fid.push(relation.attributes[_constant.G3W_FID]);\n      return columns.map(function (column) {\n        return relation.attributes[column.name];\n      });\n    });\n    fields = columns;\n    columns = columns.map(function (column) {\n      return column.label;\n    });\n  }\n  return {\n    columns: columns,\n    rows: rows,\n    rows_fid: rows_fid,\n    features: relations,\n    fields: fields,\n    formStructure: layer.getLayerEditingFormStructure(),\n    rowFormStructure: null,\n    layerId: layer.getId()\n  };\n};\n\nmodule.exports = RelationsComponentService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":339,\"services/gui\":349,\"services/relations\":355}],170:[function(require,module,exports){\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nmodule.exports = new Vue();\n\n},{}],171:[function(require,module,exports){\nvar _RelationsPage = require('components/RelationsPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_RelationsPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/relations/relationsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar RelationsPage = function RelationsPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  var service = options.service || new Service();\n  var layer = options.layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? null : _options$relation,\n      _options$relations = options.relations,\n      relations = _options$relations === undefined ? [] : _options$relations,\n      _options$feature = options.feature,\n      feature = _options$feature === undefined ? null : _options$feature,\n      _options$table = options.table,\n      table = _options$table === undefined ? null : _options$table,\n      _options$chartRelatio = options.chartRelationIds,\n      chartRelationIds = _options$chartRelatio === undefined ? [] : _options$chartRelatio,\n      nmRelation = options.nmRelation,\n      _options$currentview = options.currentview,\n      currentview = _options$currentview === undefined ? \"relations\" : _options$currentview;\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    previousview: currentview,\n    service: service,\n    relations: relations,\n    relation: relation,\n    nmRelation: nmRelation,\n    chartRelationIds: chartRelationIds,\n    feature: feature,\n    currentview: currentview,\n    layer: layer,\n    table: table\n  });\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(RelationsPage, Component);\n\nmodule.exports = RelationsPage;\n\n},{\"components/RelationsPage.vue\":282,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/relations/relationsservice\":169}],172:[function(require,module,exports){\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\n\nfunction Service() {\n  base(this);\n  var currentProjectState = _projects2.default.getCurrentProject().state;\n  this.title = currentProjectState.search_title || \"search\";\n  this.init = function (searchesObject) {\n    this.state.searches = searchesObject || currentProjectState.search;\n  };\n  this.state = {\n    searches: [],\n    searchtools: [],\n    querybuildersearches: _querybuilder2.default.getCurrentProjectItems()\n  };\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.removeItem = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref.type,\n      index = _ref.index;\n\n  switch (type) {\n    case 'querybuilder':\n      this.state.querybuildersearches.splice(index, 1);\n      break;\n  }\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.showPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var panel = new SearchPanel(config);\n  panel.show();\n  return panel;\n};\n\nproto.cleanSearchPanels = function () {\n  this.state.panels = {};\n};\n\nproto.stop = function () {\n  var d = $.Deferred();\n  d.resolve();\n  return d.promise();\n};\n\nproto.addTool = function (searchTool) {\n  this.state.searchtools.push(searchTool);\n};\n\nproto.addTools = function (searchTools) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = searchTools[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var searchTool = _step.value;\n\n      this.addTool(searchTool);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addQueryBuilderSearch = function (querybuildersearch) {\n  this.state.querybuildersearches.push(querybuildersearch);\n};\n\nproto.removeTool = function (searchTool) {};\n\nproto.removeTools = function () {\n  this.state.searchtools.splice(0);\n};\n\nproto.reload = function () {\n  this.state.searches = _projects2.default.getCurrentProject().state.search;\n  this.state.querybuildersearches = _querybuilder2.default.getCurrentProjectItems();\n};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/search/vue/panel/searchpanel\":173,\"services/querybuilder\":354,\"store/projects\":367}],173:[function(require,module,exports){\nvar _SearchPanel = require('components/SearchPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SearchPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\nvar Service = require('gui/search/vue/panel/searchservice');\n\nvar SearchPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = options.service || new Service(options);\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'search';\n  var SearchPanel = options.component || SearchPanelComponent;\n  var internalPanel = new SearchPanel({\n    service: service\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(SearchPanel, Panel);\n\nmodule.exports = SearchPanel;\n\n},{\"components/SearchPanel.vue\":285,\"core/utils/utils\":68,\"gui/panel\":158,\"gui/search/vue/panel/searchservice\":174}],174:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType,\n    getUniqueDomId = _require.getUniqueDomId,\n    createFilterFormInputs = _require.createFilterFormInputs,\n    createSingleFieldParameter = _require.createSingleFieldParameter,\n    isEmptyObject = _require.isEmptyObject;\n\nvar G3WObject = require('core/g3wobject');\n\nvar NONVALIDVALUES = [null, undefined, _constant.SEARCH_ALLVALUE];\n\nfunction SearchService() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.debounces = {\n    run: {\n      fnc: function fnc() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (_gui2.default.isMobile()) {\n          var _mapService$getMap$ge = _this.mapService.getMap().getSize(),\n              _mapService$getMap$ge2 = _slicedToArray(_mapService$getMap$ge, 2),\n              width = _mapService$getMap$ge2[0],\n              heigth = _mapService$getMap$ge2[1];\n\n          if (width === 0 || heigth === 0) {\n            _gui2.default.hideSidebar();\n            setTimeout(function () {\n              _this._run.apply(_this, args);\n            }, 600);\n          } else _this._run.apply(_this, args);\n        } else _this._run.apply(_this, args);\n      }\n    }\n  };\n  base(this);\n  // reactivity data\n  this.state = {\n    title: null,\n    forminputs: [],\n    loading: {},\n    searching: false\n  };\n  this.config = config;\n  var _config = this.config,\n      type = _config.type,\n      _config$options = _config.options,\n      options = _config$options === undefined ? {} : _config$options;\n\n  var layerid = options.querylayerid || options.layerid || null;\n  var otherquerylayerids = options.otherquerylayerids || [];\n  var filter = options.filter || [];\n  this.inputdependance = {};\n  this.inputdependencies = {};\n  this.cachedependencies = {};\n  this.project = _projects2.default.getCurrentProject();\n  this.mapService = _gui2.default.getService('map');\n  this.searchLayer = null;\n  this.filter = null;\n  this.inputs = [];\n  this.state.title = config.name;\n  this.search_endpoint = config.search_endpoint;\n  this.url = options.queryurl;\n  this.filter = options.filter;\n  /*\n   type:\n     search: search default ,\n     search_1n in case of 1:N\n  */\n  this.type = type || 'search';\n  this.return = options.return || 'data';\n  this.show = this.return === 'data' && this.type === 'search';\n  this.searchLayer = _catalogLayers2.default.getLayerById(layerid);\n  // store layers that will be searchable for that form search. First one is layer owner of the search setted on admin\n  this.searchLayers = [layerid].concat(_toConsumableArray(otherquerylayerids)).map(function (layerid) {\n    return _catalogLayers2.default.getLayerById(layerid);\n  });\n  // stat to create the form search structure\n  this.createInputsFormFromFilter({ filter: filter });\n}\n\ninherit(SearchService, G3WObject);\n\nvar proto = SearchService.prototype;\n\n/**\n * Start Method to create right search structure for search form\n * @param filter\n * @returns {Promise<void>}\n */\nproto.createInputsFormFromFilter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$filter = _ref2.filter,\n      filter = _ref2$filter === undefined ? [] : _ref2$filter;\n\n  var filterLenght, _loop, index;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          filterLenght = filter.length - 1;\n\n          _loop = function _loop(index) {\n            var input = filter[index];\n            var forminput = {\n              label: input.label,\n              attribute: input.attribute,\n              type: input.input.type || 'textfield',\n              options: _extends({}, input.input.options),\n              value: null,\n              operator: input.op,\n              logicop: index === filterLenght ? null : input.logicop,\n              id: input.id || getUniqueDomId(),\n              loading: false,\n              widget: null\n            };\n            //check if has a dependance\n            var _forminput$options = forminput.options,\n                dependance = _forminput$options.dependance,\n                dependance_strict = _forminput$options.dependance_strict;\n\n            if (forminput.type === 'selectfield' || forminput.type === 'autocompletefield') {\n              // to be sure set values options to empty array if undefined\n              forminput.loading = forminput.type !== 'autocompletefield';\n              var promise = new Promise(function (resolve, reject) {\n                if (forminput.options.values === undefined) forminput.options.values = [];else if (dependance) {\n                  // in case of dependence load right now\n                  if (!dependance_strict) _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });else {\n                    forminput.loading = false;\n                    resolve();\n                  }\n                } else {\n                  // no dependance\n                  _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });\n                }\n              });\n              if (dependance) {\n                //set dependance of input\n                _this2.inputdependance[forminput.attribute] = dependance;\n                _this2.state.loading[dependance] = false;\n                // set disabled false for back compatibility\n                forminput.options.disabled = dependance_strict;\n                /**\n                 * Set dependance between input\n                 */\n                _this2.setInputDependencies({\n                  master: dependance,\n                  slave: forminput\n                });\n                /**\n                 * Set widget type for fill dependency\n                 */\n                if (forminput.options.values.length) {\n                  forminput.widget = 'valuemap';\n                  forminput.options._values = [].concat(_toConsumableArray(forminput.options.values));\n                } else if (forminput.options.layer_id) {\n                  forminput.widget = 'valuerelation';\n                }\n              }\n              promise.then(function () {\n                if (forminput.type !== 'autocompletefield') {\n                  if (forminput.options.values.length) forminput.options.values[0].value !== _constant.SEARCH_ALLVALUE && forminput.options.values.unshift({ value: _constant.SEARCH_ALLVALUE });else forminput.options.values.push({ value: _constant.SEARCH_ALLVALUE });\n                  forminput.value = _constant.SEARCH_ALLVALUE;\n                }\n              });\n            }\n            // ad form inputs to list of search input\n            _this2.state.forminputs.push(forminput);\n          };\n\n          for (index = 0; index <= filterLenght; index++) {\n            _loop(index);\n          }\n\n        case 3:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\n/**\n * Get return type\n */\n\nproto.getReturnType = function () {\n  return this.return;\n};\n\n/**\n * Set return type\n */\n\nproto.setReturnType = function () {\n  var returnType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n\n  this.return = returnType;\n  //set show only in case return === 'data'\n  this.show = this.return === 'data';\n};\n\nproto.getAutoFieldDependeciesParamField = function (field) {\n  var fieldDependency = this.getCurrentFieldDependance(field);\n  if (fieldDependency) {\n    var _Object$entries$ = _slicedToArray(Object.entries(fieldDependency)[0], 2),\n        _field = _Object$entries$[0],\n        value = _Object$entries$[1];\n\n    return this.createFieldsDependenciesAutocompleteParameter({ field: _field, value: value });\n  }\n};\n\nproto.createFieldsDependenciesAutocompleteParameter = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$fields = _ref3.fields,\n      fields = _ref3$fields === undefined ? [] : _ref3$fields,\n      field = _ref3.field,\n      value = _ref3.value;\n\n  var dependendency = this.getCurrentFieldDependance(field);\n  if (value !== undefined) {\n    var fieldParam = createSingleFieldParameter({\n      field: field,\n      value: value,\n      operator: this.getFilterInputFromField(field).op\n    });\n    fields.push(fieldParam);\n  }\n  if (dependendency) {\n    var _Object$entries$2 = _slicedToArray(Object.entries(dependendency)[0], 2),\n        _field2 = _Object$entries$2[0],\n        _value = _Object$entries$2[1];\n    // In case of some input dependeny are not filled\n\n\n    if (typeof _value !== \"undefined\") {\n      // need to set to lower case for api purpose\n      var _getFilterInputFromFi = this.getFilterInputFromField(_field2),\n          op = _getFilterInputFromFi.op,\n          logicop = _getFilterInputFromFi.logicop;\n\n      if (fields.length) fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value) + '|' + logicop.toLowerCase());else fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value));\n    }\n    return this.createFieldsDependenciesAutocompleteParameter({\n      fields: fields,\n      field: _field2\n    });\n  }\n  return fields.length && fields.join() || undefined;\n};\n\n/**\n * Request to server value for a specific select select field\n * @param field (form input)\n * @returns {Promise<*[]>}\n */\nproto.getValuesFromField = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(field) {\n    var uniqueValues, layer, filter;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!field.options.layer_id) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 3;\n            return this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            });\n\n          case 3:\n            uniqueValues = _context2.sent;\n            layer = _catalogLayers2.default.getLayerById(field.options.layer_id);\n            filter = createFilterFormInputs({\n              layer: layer,\n              search_endpoint: this.getSearchEndPoint(),\n              inputs: uniqueValues.map(function (value) {\n                return {\n                  attribute: field.options.value,\n                  logicop: \"OR\",\n                  operator: \"eq\",\n                  value: value\n                };\n              })\n            });\n            return _context2.abrupt('return', this.getValueRelationValues(field, filter));\n\n          case 9:\n            if (!field.options.values.length) {\n              _context2.next = 13;\n              break;\n            }\n\n            return _context2.abrupt('return', this.getValueMapValues(field));\n\n          case 13:\n            return _context2.abrupt('return', this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            }));\n\n          case 14:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.getValueRelationValues = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(field, filter) {\n    var _field$options, layer_id, key, value, layer, _ref6, _ref6$data, data, features, values;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _field$options = field.options, layer_id = _field$options.layer_id, key = _field$options.key, value = _field$options.value;\n            layer = _catalogLayers2.default.getLayerById(layer_id);\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _data3.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: this.getSearchEndPoint(),\n                filter: filter,\n                ordering: key\n              },\n              outputs: false\n            });\n\n          case 5:\n            _ref6 = _context3.sent;\n            _ref6$data = _ref6.data;\n            data = _ref6$data === undefined ? [] : _ref6$data;\n            features = data && data[0] && data[0].features || [];\n            values = [];\n\n            features.forEach(function (feature) {\n              values.push({\n                key: feature.get(key),\n                value: feature.get(value)\n              });\n            });\n            return _context3.abrupt('return', values);\n\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3['catch'](2);\n            return _context3.abrupt('return', []);\n\n          case 17:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 14]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Return values map\n * @param field\n * @returns {Promise<*>}\n */\nproto.getValueMapValues = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(field) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', field.options.values.filter(function (value) {\n              return value !== _constant.SEARCH_ALLVALUE;\n            }));\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Method to get unique values from field\n * @param field\n * @param value\n * @param unique\n * @returns {Promise<[]>}\n */\nproto.getUniqueValuesFromField = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref8) {\n    var field = _ref8.field,\n        value = _ref8.value,\n        unique = _ref8.unique;\n    var data;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            data = [];\n            _context5.prev = 1;\n            _context5.next = 4;\n            return this.searchLayer.getFilterData({\n              suggest: value !== undefined ? field + '|' + value : undefined,\n              unique: unique,\n              ordering: field.attribute\n            });\n\n          case 4:\n            data = _context5.sent;\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            return _context5.abrupt('return', data);\n\n          case 10:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x9) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nproto.autocompleteRequest = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref11.field,\n      value = _ref11.value;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = [];\n          _context6.prev = 1;\n          _context6.next = 4;\n          return this.searchLayer.getFilterData({\n            field: this.getAutoFieldDependeciesParamField(field),\n            suggest: field + '|' + value,\n            unique: field\n          });\n\n        case 4:\n          data = _context6.sent;\n          _context6.next = 10;\n          break;\n\n        case 7:\n          _context6.prev = 7;\n          _context6.t0 = _context6['catch'](1);\n\n          console.log(_context6.t0);\n\n        case 10:\n          return _context6.abrupt('return', data.map(function (value) {\n            return {\n              id: value,\n              text: value\n            };\n          }));\n\n        case 11:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[1, 7]]);\n}));\n\n/**\n * Method to run search\n * @param filter\n * @param search_endpoint\n * @param queryUrl\n * @param feature_count\n * @param show\n * @returns {Promise<void|unknown>}\n */\nproto.doSearch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      filter = _ref13.filter,\n      _ref13$search_endpoin = _ref13.search_endpoint,\n      search_endpoint = _ref13$search_endpoin === undefined ? this.getSearchEndPoint() : _ref13$search_endpoin,\n      _ref13$queryUrl = _ref13.queryUrl,\n      queryUrl = _ref13$queryUrl === undefined ? this.url : _ref13$queryUrl,\n      _ref13$feature_count = _ref13.feature_count,\n      feature_count = _ref13$feature_count === undefined ? 10000 : _ref13$feature_count,\n      _ref13$show = _ref13.show,\n      show = _ref13$show === undefined ? this.show : _ref13$show;\n\n  var data, relationId, _ref14, _ref14$features, features, relation, inputs, referencedLayer, _relation$fieldRef, referencedField, referencingField, uniqueValues, layer, _filter, dataPromise, SearchPanel, add_panel;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          filter = filter || this.createFilter();\n          // call a generic method of layer\n          data = void 0;\n\n          this.state.searching = true;\n          _context7.prev = 3;\n          _context7.next = 6;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: this.searchLayers,\n              search_endpoint: search_endpoint,\n              filter: filter,\n              queryUrl: queryUrl,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count,\n              raw: this.return === 'search' // parameter to get raw response\n            },\n            outputs: show && {\n              title: this.state.title\n            }\n          });\n\n        case 6:\n          data = _context7.sent;\n\n          if (!show) {\n            _context7.next = 11;\n            break;\n          }\n\n          // in case of autozoom_query\n          if (this.project.state.autozoom_query && data && data.data.length === 1) {\n            this.mapService.zoomToFeatures(data.data[0].features);\n          }\n          _context7.next = 38;\n          break;\n\n        case 11:\n          if (!(this.type === 'search_1n')) {\n            _context7.next = 31;\n            break;\n          }\n\n          relationId = this.config.options.search_1n_relationid;\n          _ref14 = data.data[0] || {}, _ref14$features = _ref14.features, features = _ref14$features === undefined ? [] : _ref14$features;\n          // check if has features on result\n\n          if (!features.length) {\n            _context7.next = 28;\n            break;\n          }\n\n          relation = this.project.getRelationById(relationId);\n          inputs = [];\n\n          if (!relation) {\n            _context7.next = 26;\n            break;\n          }\n\n          referencedLayer = relation.referencedLayer, _relation$fieldRef = relation.fieldRef, referencedField = _relation$fieldRef.referencedField, referencingField = _relation$fieldRef.referencingField;\n          uniqueValues = new Set();\n\n          features.forEach(function (feature) {\n            var value = feature.getProperties()[referencingField];\n            if (!uniqueValues.has(value)) {\n              uniqueValues.add(value);\n              inputs.push({\n                attribute: referencedField,\n                logicop: \"OR\",\n                operator: \"eq\",\n                value: value\n              });\n            }\n          });\n          layer = this.project.getLayerById(referencedLayer);\n          _filter = createFilterFormInputs({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            inputs: inputs\n          });\n          _context7.next = 25;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              search_endpoint: search_endpoint,\n              filter: _filter,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count\n            },\n            outputs: {\n              title: this.state.title\n            }\n          });\n\n        case 25:\n          data = _context7.sent;\n\n        case 26:\n          _context7.next = 29;\n          break;\n\n        case 28:\n          _data3.default.showEmptyOutputs();\n\n        case 29:\n          _context7.next = 38;\n          break;\n\n        case 31:\n          _context7.t0 = this.return;\n          _context7.next = _context7.t0 === 'search' ? 34 : 38;\n          break;\n\n        case 34:\n          _gui2.default.closeContent();\n          // in case of api get first response on array\n          data = data.data[0].data;\n          if (isEmptyObject(data)) {\n            dataPromise = Promise.resolve({});\n\n            _data3.default.showCustomOutputDataPromise(dataPromise);\n          } else {\n            SearchPanel = require('gui/search/vue/panel/searchpanel');\n            add_panel = new SearchPanel(data);\n\n            add_panel.show();\n          }\n          return _context7.abrupt('break', 38);\n\n        case 38:\n          _context7.next = 42;\n          break;\n\n        case 40:\n          _context7.prev = 40;\n          _context7.t1 = _context7['catch'](3);\n\n        case 42:\n          this.state.searching = false;\n          return _context7.abrupt('return', data);\n\n        case 44:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this, [[3, 40]]);\n}));\n\nproto.filterValidFormInputs = function () {\n  return this.state.forminputs.filter(function (input) {\n    return NONVALIDVALUES.indexOf(input.value) === -1 && input.value.toString().trim() !== '';\n  });\n};\n\n/**\n *\n * @returns {string|*|string}\n */\nproto.getSearchEndPoint = function () {\n  return this.search_endpoint || this.searchLayer.getSearchEndPoint();\n};\n\n/*\n* type wms, vector (for vector api)\n* */\nproto.createFilter = function () {\n  var search_endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSearchEndPoint();\n\n  var inputs = this.filterValidFormInputs();\n  return createFilterFormInputs({\n    layer: this.searchLayers,\n    inputs: inputs,\n    search_endpoint: search_endpoint\n  });\n};\n\nproto._run = function () {\n  this.doSearch();\n};\n\n/**\n * Method called when input search change\n * @param id\n * @param value\n */\nproto.changeInput = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref15.id,\n      value = _ref15.value;\n\n  var input = this.state.forminputs.find(function (input) {\n    return id == input.id;\n  });\n  input.value = value;\n};\n\nproto.createQueryFilterFromConfig = function (_ref16) {\n  var filter = _ref16.filter;\n\n  var queryFilter = void 0;\n  function createOperatorObject(inputObj) {\n    for (var _operator in inputObj) {\n      var input = inputObj[_operator];\n      if (Array.isArray(input)) {\n        createBooleanObject(_operator, input);\n        break;\n      }\n    }\n    var field = inputObj.attribute;\n    var operator = inputObj.op;\n    var evalObject = {};\n    evalObject[operator] = {};\n    evalObject[operator][field] = null;\n    return evalObject;\n  }\n\n  function createBooleanObject(booleanOperator) {\n    var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var booleanObject = {};\n    booleanObject[booleanOperator] = [];\n    inputs.forEach(function (input) {\n      booleanObject[booleanOperator].push(createOperatorObject(input));\n    });\n    return booleanObject;\n  }\n\n  for (var operator in filter) {\n    var inputs = filter[operator];\n    queryFilter = createBooleanObject(operator, inputs);\n  }\n  return queryFilter;\n};\n\nproto.getFilterInputFromField = function (field) {\n  return this.filter.find(function (input) {\n    return input.attribute === field;\n  });\n};\n\nproto._getExpressionOperatorFromInput = function (field) {\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  return dependanceCascadeField ? dependanceCascadeField.op : null;\n};\n\nproto._getCascadeDependanciesFilter = function (field) {\n  var dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  var dependance = dependanceCascadeField.input.options.dependance;\n  if (dependance) {\n    dependencies.unshift(dependance);\n    this._getCascadeDependanciesFilter(dependance, dependencies);\n  }\n  return dependencies;\n};\n\n/**\n * Check if a field has a dependance\n * @param field\n * @returns {{}}\n */\nproto.getCurrentFieldDependance = function (field) {\n  var dependance = this.inputdependance[field];\n  // found a dependance\n  if (dependance) {\n    // check if as value\n    if (this.cachedependencies[dependance] && this.cachedependencies[dependance]._currentValue !== _constant.SEARCH_ALLVALUE) return _defineProperty({}, dependance, this.cachedependencies[dependance]._currentValue);\n    // otherwise se value of dependance undefined so it no add on list o field dependance\n    else return _defineProperty({}, dependance, undefined);\n  }\n  return dependance;\n};\n\n// check the current value of dependance\nproto.getDependanceCurrentValue = function (field) {\n  var dependance = this.inputdependance[field];\n  return dependance ? this.cachedependencies[dependance]._currentValue : this.state.forminputs.find(function (forminput) {\n    return forminput.attribute === field;\n  }).value;\n};\n\n// fill all dependencies inputs based on value\nproto.fillDependencyInputs = function () {\n  var _this3 = this;\n\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref19.field,\n      _ref19$subscribers = _ref19.subscribers,\n      subscribers = _ref19$subscribers === undefined ? [] : _ref19$subscribers,\n      _ref19$value = _ref19.value,\n      value = _ref19$value === undefined ? _constant.SEARCH_ALLVALUE : _ref19$value;\n\n  var isRoot = this.inputdependance[field] === undefined;\n  //check id inpute father is valid to search on subscribers\n  var invalidValue = value === _constant.SEARCH_ALLVALUE || value === null || value === undefined || value.toString().trim() === '';\n  return new Promise(function (resolve, reject) {\n    //loop over dependencies fields inputs\n    subscribers.forEach(function (subscribe) {\n      // in case of autocomplete reset values to empty array\n      if (subscribe.type === 'autocompletefield') subscribe.options.values.splice(0);else {\n        //set starting all values\n        if (subscribe.options._allvalues === undefined) subscribe.options._allvalues = [].concat(_toConsumableArray(subscribe.options.values));\n        //case of father is set an empty invalid value (all value example)\n        if (invalidValue) {\n          //subscribe has to set all valaues\n          subscribe.options.values.splice(0);\n          setTimeout(function () {\n            return subscribe.options.values = [].concat(_toConsumableArray(subscribe.options._allvalues));\n          });\n        } else subscribe.options.values.splice(1); //otherwise has to get first __ALL_VALUE\n      }\n      subscribe.value = subscribe.type !== 'selectfield' ? _constant.SEARCH_ALLVALUE : null;\n    });\n    // check i cache field values are set\n    _this3.cachedependencies[field] = _this3.cachedependencies[field] || {};\n    _this3.cachedependencies[field]._currentValue = value;\n    var notAutocompleteSubscribers = subscribers.filter(function (subscribe) {\n      return subscribe.type !== 'autocompletefield';\n    });\n    if (value && value !== _constant.SEARCH_ALLVALUE) {\n      var isCached = void 0;\n      var rootValues = void 0;\n      if (isRoot) {\n        var cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][value];\n        isCached = cachedValue !== undefined;\n        rootValues = isCached && cachedValue;\n      } else {\n        var dependenceCurrentValue = _this3.getDependanceCurrentValue(field);\n        var _cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][dependenceCurrentValue] && _this3.cachedependencies[field][dependenceCurrentValue][value];\n        isCached = _cachedValue !== undefined;\n        rootValues = isCached && _cachedValue;\n      }\n      if (isCached) {\n        for (var i = 0; i < subscribers.length; i++) {\n          var subscribe = subscribers[i];\n          var values = rootValues[subscribe.attribute];\n          if (values && values.length) {\n            for (var _i = 0; _i < values.length; _i++) {\n              subscribe.options.values.push(values[_i]);\n            }\n          }\n          // set disabled false to dependence field\n          subscribe.options.disabled = false;\n          resolve();\n        }\n      } else {\n        _this3.state.loading[field] = true;\n        if (isRoot) _this3.cachedependencies[field][value] = _this3.cachedependencies[field][value] || {};else {\n          var dependenceValue = _this3.getDependanceCurrentValue(field);\n          _this3.cachedependencies[field][dependenceValue] = _this3.cachedependencies[field][dependenceValue] || {};\n          _this3.cachedependencies[field][dependenceValue][value] = _this3.cachedependencies[field][dependenceValue][value] || {};\n        }\n        // exclude autocomplete subscribers\n        if (notAutocompleteSubscribers.length) {\n          var fieldParams = _this3.createFieldsDependenciesAutocompleteParameter({\n            field: field,\n            value: value\n          });\n          //need to set undefined because if we has a subscribe input with valuerelations widget i need to extract the value of the field to get\n          // filter data from relation layer\n          _this3.searchLayer.getFilterData({\n            field: fieldParams\n          }).then(function () {\n            var _ref20 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(data) {\n              var parentData, _loop2, _i2;\n\n              return regeneratorRuntime.wrap(function _callee8$(_context9) {\n                while (1) {\n                  switch (_context9.prev = _context9.next) {\n                    case 0:\n                      parentData = data.data[0].features || [];\n                      _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i2) {\n                        var subscribe, attribute, widget, uniqueValues, _values, _data, filter, _values2, _dependenceValue;\n\n                        return regeneratorRuntime.wrap(function _loop2$(_context8) {\n                          while (1) {\n                            switch (_context8.prev = _context8.next) {\n                              case 0:\n                                subscribe = notAutocompleteSubscribers[_i2];\n                                attribute = subscribe.attribute, widget = subscribe.widget;\n                                uniqueValues = new Set();\n                                // case value map\n\n                                if (!(widget === 'valuemap')) {\n                                  _context8.next = 11;\n                                  break;\n                                }\n\n                                _values = [].concat(_toConsumableArray(subscribe.options._values));\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _data = [].concat(_toConsumableArray(uniqueValues));\n\n                                _values = _values.filter(function (_ref21) {\n                                  var key = _ref21.key;\n                                  return _data.indexOf(key) !== -1;\n                                });\n                                _values.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 29;\n                                break;\n\n                              case 11:\n                                if (!(widget === 'valuerelation')) {\n                                  _context8.next = 27;\n                                  break;\n                                }\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n\n                                if (!(uniqueValues.size > 0)) {\n                                  _context8.next = 25;\n                                  break;\n                                }\n\n                                filter = createSingleFieldParameter({\n                                  field: subscribe.options.key,\n                                  value: [].concat(_toConsumableArray(uniqueValues))\n                                });\n                                _context8.prev = 15;\n                                _context8.next = 18;\n                                return _this3.getValueRelationValues(subscribe, filter);\n\n                              case 18:\n                                _values2 = _context8.sent;\n\n                                _values2.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 25;\n                                break;\n\n                              case 22:\n                                _context8.prev = 22;\n                                _context8.t0 = _context8['catch'](15);\n                                console.log(_context8.t0);\n\n                              case 25:\n                                _context8.next = 29;\n                                break;\n\n                              case 27:\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _this3.valuesToKeysValues([].concat(_toConsumableArray(uniqueValues)).sort()).forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n\n                              case 29:\n                                if (isRoot) _this3.cachedependencies[field][value][subscribe.attribute] = subscribe.options.values.slice(1);else {\n                                  _dependenceValue = _this3.getDependanceCurrentValue(field);\n\n                                  _this3.cachedependencies[field][_dependenceValue][value][subscribe.attribute] = subscribe.options.values.slice(1);\n                                }\n                                subscribe.options.disabled = false;\n\n                              case 31:\n                              case 'end':\n                                return _context8.stop();\n                            }\n                          }\n                        }, _loop2, _this3, [[15, 22]]);\n                      });\n                      _i2 = 0;\n\n                    case 3:\n                      if (!(_i2 < notAutocompleteSubscribers.length)) {\n                        _context9.next = 8;\n                        break;\n                      }\n\n                      return _context9.delegateYield(_loop2(_i2), 't0', 5);\n\n                    case 5:\n                      _i2++;\n                      _context9.next = 3;\n                      break;\n\n                    case 8:\n                    case 'end':\n                      return _context9.stop();\n                  }\n                }\n              }, _callee8, _this3);\n            }));\n\n            return function (_x17) {\n              return _ref20.apply(this, arguments);\n            };\n          }()).catch(function (error) {\n            return reject(error);\n          }).finally(function () {\n            _this3.state.loading[field] = false;\n            resolve();\n          });\n        } else {\n          //set disable\n          subscribers.forEach(function (subscribe) {\n            if (subscribe.options.dependance_strict) subscribe.options.disabled = false;\n          });\n          _this3.state.loading[field] = false;\n          resolve();\n        }\n      }\n    } else {\n      subscribers.forEach(function (subscribe) {\n        return subscribe.options.disabled = subscribe.options.dependance_strict;\n      });\n      resolve();\n    }\n  });\n};\n\nproto.getDependencies = function (field) {\n  return this.inputdependencies[field] || [];\n};\n\nproto.setInputDependencies = function () {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      master = _ref22.master,\n      slave = _ref22.slave;\n\n  this.inputdependencies[master] = this.inputdependencies[master] !== undefined ? this.inputdependencies[master] : [];\n  this.inputdependencies[master].push(slave);\n};\n\n//set key value for select\nproto.valuesToKeysValues = function (values) {\n  if (values.length) {\n    var type = toRawType(values[0]);\n    values = type !== 'Object' ? values.map(function (value) {\n      return {\n        key: value,\n        value: value\n      };\n    }) : values;\n  }\n  return values;\n};\n\nproto.createQueryFilterObject = function () {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref23$ogcService = _ref23.ogcService,\n      ogcService = _ref23$ogcService === undefined ? 'wms' : _ref23$ogcService,\n      _ref23$filter = _ref23.filter,\n      filter = _ref23$filter === undefined ? {} : _ref23$filter;\n\n  var info = this.getInfoFromLayer(ogcService);\n  Object.assign(info, {\n    ogcService: ogcService,\n    filter: filter\n  });\n  return info;\n};\n\nproto.getInfoFromLayer = function (ogcService) {\n  var queryUrl = ogcService === 'wfs' ? this.searchLayer.getProject().getWmsUrl() : this.searchLayer.getQueryUrl();\n  return {\n    url: queryUrl,\n    layers: [],\n    infoFormat: this.searchLayer.getInfoFormat(ogcService),\n    crs: this.searchLayer.getCrs(),\n    serverType: this.searchLayer.getServerType()\n  };\n};\n\nproto.setSearchLayer = function (layer) {\n  this.searchLayer = layer;\n};\n\nproto.getSearchLayer = function () {\n  return this.searchLayer;\n};\n\nproto.clear = function () {\n  this.state = null;\n};\n\nmodule.exports = SearchService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/search/vue/panel/searchpanel\":173,\"services/data\":346,\"services/gui\":349,\"store/catalog-layers\":362,\"store/projects\":367}],175:[function(require,module,exports){\nvar _Search = require('components/Search.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Search);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/search/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"search\";\n  this._service = options.service || new Service();\n  this._service.init();\n  this.title = this._service.getTitle();\n  this.internalComponent = new InternalComponent({\n    service: this._service\n  });\n  this.internalComponent.state = this._service.state;\n  this.state.visible = true;\n  this._reload = function () {\n    this._service.reload();\n  };\n  this.unmount = function () {\n    this._searches_searchtools.$destroy();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(SearchComponent, Component);\n\nmodule.exports = SearchComponent;\n\n},{\"components/Search.vue\":283,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/search/service\":172}],176:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nexports.default = new Vue();\n\n},{}],177:[function(require,module,exports){\nvar _StreetView = require('components/StreetView.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_StreetView);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar StreetViewComponent = function StreetViewComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var keyError = options.keyError;\n\n  var internalComponent = new InternalComponent({\n    keyError: keyError\n  });\n  this.setInternalComponent(internalComponent);\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n};\n\ninherit(StreetViewComponent, Component);\n\nmodule.exports = StreetViewComponent;\n\n},{\"components/StreetView.vue\":291,\"core/utils/utils\":68,\"gui/component/component\":113}],178:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('core/utils/geo'),\n    coordinatesToGeometry = _require3.coordinatesToGeometry;\n\nvar _require4 = require('core/layers/layer'),\n    SELECTION_STATE = _require4.SELECTION_STATE;\n\nvar PAGELENGTHS = [10, 25, 50];\n\nvar TableService = function TableService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.currentPage = 0; // number of pages\n  this.layer = options.layer;\n  this.formatter = options.formatter;\n  var headers = this.getHeaders();\n  this.allfeaturesnumber;\n  this.nopaginationsfilter = [];\n  this.selectedfeaturesfid = this.layer.getSelectionFids();\n  this.geolayer = this.layer.isGeoLayer();\n  this.relationsGeometry = [];\n  !this.geolayer && this.layer.getRelations().getArray().forEach(function (relation) {\n    var relationLayer = _catalogLayers2.default.getLayerById(relation.getChild());\n    if (relationLayer.isGeoLayer()) {\n      _this.relationsGeometry.push({\n        layer: relationLayer,\n        child_field: relation.getChildField(),\n        field: relation.getFatherField(),\n        features: {}\n      });\n    }\n  });\n  this.projection = this.geolayer ? this.layer.getProjection() : null;\n  this.mapService = _gui2.default.getService('map');\n  this.getAll = false;\n  this.paginationfilter = false;\n  this.mapBBoxEventHandlerKey = {\n    key: null,\n    cb: null\n  };\n  this.clearAllSelection = function () {\n    _this.state.features.forEach(function (feature) {\n      return feature.selected = false;\n    });\n    _this.state.tools.show = false;\n    _this.state.selectAll = false;\n  };\n  this.state = {\n    pageLengths: PAGELENGTHS,\n    pageLength: this.layer.getAttributeTablePageLength() || PAGELENGTHS[0],\n    features: [],\n    title: this.layer.getTitle(),\n    headers: headers,\n    geometry: true,\n    loading: false,\n    allfeatures: 0,\n    pagination: !this.getAll,\n    selectAll: false,\n    nofilteredrow: false,\n    tools: {\n      geolayer: {\n        show: this.geolayer,\n        active: false,\n        in_bbox: void 0\n      },\n      show: false,\n      filter: this.layer.state.filter\n    }\n  };\n  // pagination filter features\n  this._async = {\n    state: false,\n    fnc: noop\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    _this._async.state = options.perc === 100;\n  });\n  this.layer.on('unselectionall', this.clearAllSelection);\n  this.filterChangeHandler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref2.type;\n\n    var data, emitRedraw;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _this.allfeaturesnumber = undefined;\n            data = [];\n            // emit redraw if in_bbox filter or not select all\n\n            emitRedraw = type === 'in_bbox' || !_this.selectedfeaturesfid.has(SELECTION_STATE.ALL);\n\n            if (_this.state.pagination) {\n              _context.next = 12;\n              break;\n            }\n\n            if (!emitRedraw) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _this.reloadData();\n\n          case 7:\n            _context.t0 = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t0 = [];\n\n          case 11:\n            data = _context.t0;\n\n          case 12:\n            emitRedraw && _this.emit('redraw', data);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n  this.layer.on('filtertokenchange', this.filterChangeHandler);\n};\n\ninherit(TableService, G3WObject);\n\nvar proto = TableService.prototype;\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return this.layer.toggleFilterToken();\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.getHeaders = function () {\n  //add null as firs vale of header because need to add a custom input selector fro datatable purpose\n  return [null].concat(_toConsumableArray(this.layer.getTableHeaders()));\n};\n\n// function need to work with pagination\nproto.setDataForDataTable = function () {\n  var _this2 = this;\n\n  var data = [];\n  this.state.features.forEach(function (feature) {\n    var attributes = feature.attributes ? feature.attributes : feature.properties;\n    var values = [null];\n    _this2.state.headers.forEach(function (header) {\n      if (header) {\n        var value = attributes[header.name];\n        header.value = value;\n        //header.label = undefined; // removed label\n        values.push(value);\n      }\n    });\n    data.push(values);\n  });\n  return data;\n};\n\nproto.addRemoveSelectedFeature = function (feature) {\n  feature.selected = !feature.selected;\n  if (this.state.selectAll) {\n    this.state.selectAll = false;\n    this.layer.excludeSelectionFid(feature.id, this.state.pagination);\n  } else if (this.selectedfeaturesfid.has(SELECTION_STATE.EXCLUDE)) {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var size = this.selectedfeaturesfid.size;\n    if (size === 1) {\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n      this.state.selectAll = true;\n    } else if (size - 1 === this.state.features.length) this.layer.clearSelectionFids();\n  } else {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var _size = this.selectedfeaturesfid.size;\n    if (_size === this.allfeaturesnumber) {\n      this.state.selectAll = true;\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n    }\n  }\n  this.state.tools.show = this.selectedfeaturesfid.size > 0;\n  if (!this.state.pagination) {\n    if (this.nopaginationsfilter.length) {\n      this.state.selectAll = this.state.features.filter(function (feature) {\n        return feature.selected;\n      }).length === this.nopaginationsfilter.length;\n    }\n  }\n};\n\nproto.createFeatureForSelection = function (feature) {\n  return {\n    attributes: feature.attributes ? feature.attributes : feature.properties,\n    geometry: this._returnGeometry(feature)\n  };\n};\n\nproto.getAllFeatures = function (params) {\n  var _this3 = this;\n\n  _gui2.default.setLoadingContent(true);\n  return new Promise(function (resolve, reject) {\n    _this3.layer.getDataTable(params || {}).then(function (data) {\n      var features = data.features;\n\n      if (_this3.geolayer && features) {\n        if (!params) {\n          var LoadedFeaturesId = _this3.state.features.map(function (feature) {\n            return feature.id;\n          });\n          features.forEach(function (feature) {\n            if (LoadedFeaturesId.indexOf(feature.id) === -1) {\n              feature.geometry && _this3.layer.addOlSelectionFeature({\n                id: feature.id,\n                feature: _this3.createFeatureForSelection(feature)\n              });\n            }\n          });\n          _this3.getAll = true;\n        }\n        resolve(features);\n      }\n    }).fail(function () {\n      return reject();\n    }).always(function () {\n      return _gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.switchSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _this4 = this;\n\n  var selected, filterFeatures, _selected;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (this.state.pagination) {\n            _context3.next = 4;\n            break;\n          }\n\n          // no pagination\n          if (this.nopaginationsfilter.length) {\n            //filtered\n            selected = false;\n            filterFeatures = [];\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this4.nopaginationsfilter.indexOf(index) !== -1) filterFeatures.push(feature);\n              feature.selected = !feature.selected;\n              _this4.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n              selected = selected || feature.selected;\n            });\n            this.state.tools.show = selected;\n            this.checkSelectAll(filterFeatures);\n          } else {\n            // no filter\n            this.state.features.forEach(function (feature) {\n              feature.selected = !feature.selected;\n            });\n            this.layer.invertSelectionFids();\n            this.checkSelectAll();\n            this.state.tools.show = this.selectedfeaturesfid.size > 0;\n          }\n          _context3.next = 13;\n          break;\n\n        case 4:\n          // pagination\n          _selected = false;\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = !feature.selected;\n            _selected = feature.selected;\n          });\n          _context3.t0 = !this.getAll;\n\n          if (!_context3.t0) {\n            _context3.next = 10;\n            break;\n          }\n\n          _context3.next = 10;\n          return this.getAllFeatures();\n\n        case 10:\n          this.state.selectAll = this.paginationfilter ? _selected : this.state.selectAll;\n          this.layer.invertSelectionFids();\n          this.state.tools.show = this.selectedfeaturesfid.size > 0;\n\n        case 13:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\nproto.clearLayerSelection = function () {\n  this.layer.clearSelectionFids();\n};\n\n/**\n * Called when alla selected feature is checked\n * @returns {Promise<void>}\n */\nproto.selectAllFeatures = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  var _this5 = this;\n\n  var selected, _paginationParams, search, ordering, formatter, in_bbox, features;\n\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // set inverse of selectAll\n          this.state.selectAll = !this.state.selectAll;\n\n          if (this.state.pagination) {\n            _context4.next = 5;\n            break;\n          }\n\n          //no pagination no filter\n          if (this.nopaginationsfilter.length) {\n            //check if filter is set (no pagination)\n            selected = false;\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this5.nopaginationsfilter.indexOf(index) !== -1) {\n                feature.selected = _this5.state.selectAll;\n                _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n                selected = selected || feature.selected;\n              }\n            });\n            this.state.tools.show = selected;\n          } else {\n            this.state.tools.show = this.state.selectAll;\n            this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n            this.state.features.forEach(function (feature) {\n              return feature.selected = _this5.state.selectAll;\n            });\n          }\n          _context4.next = 25;\n          break;\n\n        case 5:\n          if (!this.paginationfilter) {\n            _context4.next = 18;\n            break;\n          }\n\n          if (!(this.state.featurescount >= this.state.allfeatures)) {\n            _context4.next = 10;\n            break;\n          }\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = _this5.state.selectAll;\n            _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n          _context4.next = 15;\n          break;\n\n        case 10:\n          _paginationParams = this.paginationParams, search = _paginationParams.search, ordering = _paginationParams.ordering, formatter = _paginationParams.formatter, in_bbox = _paginationParams.in_bbox;\n          _context4.next = 13;\n          return this.getAllFeatures({\n            search: search,\n            ordering: ordering,\n            formatter: formatter,\n            in_bbox: in_bbox\n          });\n\n        case 13:\n          features = _context4.sent;\n\n          features.forEach(function (feature) {\n            !_this5.getAll && _this5.geolayer && feature.geometry && _this5.layer.addOlSelectionFeature({\n              id: feature.id,\n              feature: _this5.createFeatureForSelection(feature)\n            });\n            _this5.layer[_this5.state.selectAll ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n\n        case 15:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.next = 24;\n          break;\n\n        case 18:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.t0 = !this.getAll;\n\n          if (!_context4.t0) {\n            _context4.next = 23;\n            break;\n          }\n\n          _context4.next = 23;\n          return this.getAllFeatures();\n\n        case 23:\n          this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n\n        case 24:\n          this.state.tools.show = this.state.selectAll || this.selectedfeaturesfid.size > 0;\n\n        case 25:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this);\n}));\n\n/**\n * Method to set filtered features\n * @param featuresIndex\n */\nproto.setFilteredFeature = function (featuresIndex) {\n  var _this6 = this;\n\n  this.nopaginationsfilter = featuresIndex;\n  this.checkSelectAll(featuresIndex.length === this.allfeaturesnumber || featuresIndex.length === 0 ? undefined : this.nopaginationsfilter.map(function (index) {\n    return _this6.state.features[index];\n  }));\n};\n\nproto.setAttributeTablePageLength = function (length) {\n  this.layer.setAttributeTablePageLength(length);\n};\n\n/**\n * Main method to get data table layer\n * @param start\n * @param order\n * @param length\n * @param columns\n * @param search\n * @param firstCall\n * @returns {Promise<unknown>}\n */\nproto.getData = function () {\n  var _this7 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$start = _ref6.start,\n      start = _ref6$start === undefined ? 0 : _ref6$start,\n      _ref6$order = _ref6.order,\n      order = _ref6$order === undefined ? [] : _ref6$order,\n      _ref6$length = _ref6.length,\n      length = _ref6$length === undefined ? this.state.pageLength : _ref6$length,\n      _ref6$columns = _ref6.columns,\n      columns = _ref6$columns === undefined ? [] : _ref6$columns,\n      _ref6$search = _ref6.search,\n      search = _ref6$search === undefined ? { value: null } : _ref6$search,\n      _ref6$firstCall = _ref6.firstCall,\n      firstCall = _ref6$firstCall === undefined ? false : _ref6$firstCall;\n\n  // reset features before load\n  _gui2.default.setLoadingContent(true);\n  this.setAttributeTablePageLength(length);\n  return new Promise(function (resolve, reject) {\n    if (!_this7.state.headers.length) resolve({\n      data: [],\n      recordsTotal: 0,\n      recordsFiltered: 0\n    });else {\n      var searchText = search.value && search.value.length > 0 ? search.value : null;\n      _this7.state.features.splice(0);\n      if (!order.length) {\n        order.push({\n          column: 1,\n          dir: 'asc'\n        });\n      }\n      var ordering = order[0].dir === 'asc' ? _this7.state.headers[order[0].column].name : '-' + _this7.state.headers[order[0].column].name;\n      _this7.currentPage = start === 0 || _this7.state.pagination && _this7.state.tools.filter.active ? 1 : start / length + 1;\n      var in_bbox = _this7.state.tools.geolayer.in_bbox;\n      var field = _this7.state.pagination ? columns.filter(function (column) {\n        return column.search && column.search.value;\n      }).map(function (column) {\n        return column.name + '|ilike|' + column.search.value + '|and';\n      }).join(',') : undefined;\n      _this7.paginationParams = {\n        field: field || undefined,\n        page: _this7.currentPage,\n        page_size: length,\n        search: searchText,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter,\n        ordering: ordering\n      };\n      var getDataPromise = _this7.state.pagination ? _this7.layer.getDataTable(_this7.paginationParams) : _this7.layer.getDataTable({\n        ordering: ordering,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter\n      });\n      getDataPromise.then(function (data) {\n        var _data$features = data.features,\n            features = _data$features === undefined ? [] : _data$features;\n\n        _this7.state.allfeatures = data.count || _this7.state.features.length;\n        _this7.state.featurescount = features.length;\n        _this7.allfeaturesnumber = _this7.allfeaturesnumber === undefined ? data.count : _this7.allfeaturesnumber;\n        _this7.paginationfilter = data.count !== _this7.allfeaturesnumber;\n        _this7.state.pagination = firstCall ? _this7.state.tools.filter.active || features.length < _this7.allfeaturesnumber : _this7.state.pagination;\n        _this7.addFeatures(features);\n        resolve({\n          data: _this7.setDataForDataTable(),\n          recordsFiltered: data.count,\n          recordsTotal: data.count\n        });\n      }).fail(function (err) {\n        _gui2.default.notify.error(t(\"info.server_error\"));\n        reject(err);\n      }).always(function () {\n        _gui2.default.setLoadingContent(false);\n      });\n    }\n  });\n};\n\nproto.setInBBoxParam = function () {\n  this.state.tools.geolayer.in_bbox = this.state.tools.geolayer.active ? this.mapService.getMapBBOX().join(',') : void 0;\n};\n\nproto.resetMapBBoxEventHandlerKey = function () {\n  ol.Observable.unByKey(this.mapBBoxEventHandlerKey.key);\n  this.mapBBoxEventHandlerKey.key = null;\n  this.mapBBoxEventHandlerKey.cb = null;\n};\n\nproto.getDataFromBBOX = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _this8 = this;\n\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          this.state.tools.geolayer.active = !this.state.tools.geolayer.active;\n          if (this.state.tools.geolayer.active) {\n            this.mapBBoxEventHandlerKey.cb = this.state.pagination ? function () {\n              _this8.setInBBoxParam();\n              _this8.emit('ajax-reload');\n            } : _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n              return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      _this8.setInBBoxParam();\n                      _this8.filterChangeHandler({\n                        type: 'in_bbox'\n                      });\n\n                    case 2:\n                    case 'end':\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5, _this8);\n            }));\n            this.mapBBoxEventHandlerKey.key = this.mapService.getMap().on('moveend', this.mapBBoxEventHandlerKey.cb);\n            this.mapBBoxEventHandlerKey.cb();\n          } else {\n            this.mapBBoxEventHandlerKey.cb && this.mapBBoxEventHandlerKey.cb();\n            this.resetMapBBoxEventHandlerKey();\n          }\n\n        case 2:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this);\n}));\n\nproto.addFeature = function (feature) {\n  var tableFeature = {\n    id: feature.id,\n    selected: this.state.tools.filter.active || this.layer.hasSelectionFid(feature.id),\n    attributes: feature.attributes ? feature.attributes : feature.properties\n  };\n  if (this.geolayer && feature.geometry) {\n    this.layer.getOlSelectionFeature(tableFeature.id) || this.layer.addOlSelectionFeature({\n      id: tableFeature.id,\n      feature: this.createFeatureForSelection(feature)\n    });\n    tableFeature.geometry = feature.geometry;\n  }\n  this.state.features.push(tableFeature);\n};\n\nproto.checkSelectAll = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.features;\n\n  this.state.selectAll = this.selectedfeaturesfid.has(SELECTION_STATE.ALL) || features.length && features.reduce(function (accumulator, feature) {\n    return accumulator && feature.selected;\n  }, true);\n};\n\nproto.addFeatures = function () {\n  var _this9 = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this9.addFeature(feature);\n  });\n  this.state.tools.show = this.layer.getFilterActive() || this.selectedfeaturesfid.size > 0;\n  this.checkSelectAll();\n};\n\nproto.reloadData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var pagination = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var tabledata, _tabledata$data, data, reloadData;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          this.state.features.splice(0);\n          this.state.pagination = pagination;\n          _context7.next = 4;\n          return this.getData();\n\n        case 4:\n          tabledata = _context7.sent;\n          _tabledata$data = tabledata.data, data = _tabledata$data === undefined ? [] : _tabledata$data, reloadData = tabledata.reloadData;\n          return _context7.abrupt('return', data);\n\n        case 7:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this);\n}));\n\nproto._setLayout = function () {\n  //TODO\n};\n\nproto._returnGeometry = function (feature) {\n  var geometry = void 0;\n  if (feature.attributes) geometry = feature.geometry;else if (feature.geometry) geometry = coordinatesToGeometry(feature.geometry.type, feature.geometry.coordinates);\n  return geometry;\n};\n\nproto.zoomAndHighLightFeature = function (feature) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var geometry = feature.geometry;\n  if (geometry) {\n    if (this._async.state) this._async.fnc = this.mapService.highlightGeometry.bind(mapService, geometry, { zoom: zoom });else this.mapService.highlightGeometry(geometry, { zoom: zoom });\n  }\n};\n\n/**\n * Zoom to eventually features relation\n */\nproto.zoomAndHighLightGeometryRelationFeatures = function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(feature) {\n    var _this10 = this;\n\n    var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var features, promises, values, promisesData;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!this.relationsGeometry.length) {\n              _context8.next = 10;\n              break;\n            }\n\n            features = [];\n            promises = [];\n            values = []; // usefult to check if add or not\n\n            this.relationsGeometry.forEach(function (_ref11) {\n              var layer = _ref11.layer,\n                  child_field = _ref11.child_field,\n                  field = _ref11.field,\n                  features = _ref11.features;\n\n              var value = feature.attributes[field];\n              values.push(value);\n              if (features[value] === undefined) {\n                var promise = void 0;\n                if (zoom) {\n                  promise = _data2.default.getData('search:features', {\n                    inputs: {\n                      layer: layer,\n                      filter: child_field + '|eq|' + value,\n                      formatter: 1, // set formatter to 1\n                      search_endpoint: 'api'\n                    },\n                    outputs: false\n                  });\n                } else promise = Promise.reject();\n                promises.push(promise);\n              } else promises.push(Promise.resolve({\n                data: [{\n                  features: features[value]\n                }]\n              }));\n            });\n            _context8.next = 7;\n            return Promise.allSettled(promises);\n\n          case 7:\n            promisesData = _context8.sent;\n\n            promisesData.forEach(function (_ref12, index) {\n              var status = _ref12.status,\n                  value = _ref12.value;\n\n              if (status === 'fulfilled') {\n                var _features = value.data[0] ? value.data[0].features : [];\n                _features.forEach(function (feature) {\n                  return features.push(feature);\n                });\n                if (_this10.relationsGeometry[index].features[values[index]] === undefined) {\n                  _this10.relationsGeometry[index].features[values[index]] = _features;\n                }\n              }\n            });\n            zoom ? this.mapService.zoomToFeatures(features, {\n              highlight: true\n            }) : this.mapService.highlightFeatures(features);\n\n          case 10:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n\n  return function (_x9) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nproto.clear = function () {\n  var _this11 = this;\n\n  this.layer.off('unselectionall', this.clearAllSelection);\n  this.layer.off('filtertokenchange', this.filterChangeHandler);\n  this.resetMapBBoxEventHandlerKey();\n  this.allfeaturesnumber = null;\n  this.mapService = null;\n  this._async.state && setTimeout(function () {\n    _this11._async.fnc();\n    _this11._async.state = false;\n    _this11._async.fnc = noop;\n  });\n};\n\nmodule.exports = TableService;\n\n},{\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/layer\":35,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/data\":346,\"services/gui\":349,\"store/catalog-layers\":362}],179:[function(require,module,exports){\nvar _Table = require('components/Table.vue');\n\nvar _Table2 = _interopRequireDefault(_Table);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit;\n\nvar Component = require('gui/component/component');\nvar TableService = require('gui/table/tableservice');\n\nvar InternalComponent = Vue.extend(_Table2.default);\n\nvar TableComponent = function TableComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.id = \"openattributetable\";\n  var layer = options.layer,\n      formatter = options.formatter;\n\n  var service = options.service || new TableService({\n    layer: layer,\n    formatter: formatter\n  });\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n\n  service.on('redraw', function () {\n    _this.layout();\n  });\n\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(TableComponent, Component);\n\nvar proto = TableComponent.prototype;\n\n// overwrite show method\nproto.show = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = this.getService();\n  // close all sidebar open component\n  _gui2.default.closeOpenSideBarComponent();\n  service.getData({ firstCall: true }).then(function () {\n    _gui2.default.showContent({\n      content: _this2,\n      perc: 50,\n      split: _gui2.default.isMobile() ? 'h' : 'v',\n      push: false,\n      title: options.title\n    });\n  }).catch(function (err) {\n    return _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    return _this2.emit('show');\n  });\n};\n\nproto.unmount = function () {\n  var _this3 = this;\n\n  return base(this, 'unmount').then(function () {\n    _this3._service.clear();\n  });\n};\n\nmodule.exports = TableComponent;\n\n},{\"components/Table.vue\":292,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/table/tableservice\":178,\"services/gui\":349}],180:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"error-initial-page skin-background-color\\\">\\n  <template v-if=\\\"isMobile()\\\">\\n    <h3 class=\\\"oops\\\">Oops!</h3>\\n    <h5 class=\\\"cause\\\">{{messages.error}}</h5>\\n    <h6 class=\\\"at-moment\\\">{{ messages.at_moment }}</h6>\\n    <h4 class=\\\"f5\\\">{{ messages.f5}}</h4>\\n  </template>\\n  <template v-else>\\n    <h1 class=\\\"oops\\\">Oops!</h1>\\n    <h1 class=\\\"cause\\\">{{messages.error}}</h1>\\n    <h3 class=\\\"at-moment\\\">{{ messages.at_moment }}</h3>\\n    <h2 class=\\\"f5\\\">{{ messages.f5}}</h2>\\n  </template>\\n\\n</div>\\n\";\n\n},{}],181:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = null;\n  this.state = _extends({}, options, {\n    toolsGroups: [],\n    visible: false,\n    loading: false\n  });\n  this.setters = {\n    addTool: function addTool(tool, groupName) {\n      tool.state = tool.state ? tool.state : {\n        type: null,\n        message: null\n      };\n      return this._addTool(tool, groupName);\n    },\n    addTools: function addTools(tools, groupName) {\n      return this._addTools(tools, groupName);\n    },\n    addToolGroup: function addToolGroup(order, name) {\n      return this._addToolGroup(order, name);\n    },\n    removeToolGroup: function removeToolGroup(name) {\n      return this._removeToolGroup(name);\n    },\n    removeTools: function removeTools() {\n      return this._removeTools();\n    }\n  };\n\n  base(this);\n\n  var project = _projects2.default.getCurrentProject();\n\n  var _project$getState = project.getState(),\n      _project$getState$too = _project$getState.tools,\n      tools = _project$getState$too === undefined ? {} : _project$getState$too;\n\n  var _loop = function _loop(toolName) {\n    var groupName = toolName.toUpperCase();\n    _this.addToolGroup(0, groupName);\n    var _tools = tools[toolName].map(function (tool) {\n      return {\n        name: tool.name,\n        action: ToolsService.ACTIONS[toolName].bind(null, tool)\n      };\n    });\n    _this.addTools(_tools, { position: 0, title: groupName });\n  };\n\n  for (var toolName in tools) {\n    _loop(toolName);\n  }\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.reload = function () {\n  this.removeTools();\n};\n\nproto._addTool = function (tool, _ref) {\n  var order = _ref.position,\n      name = _ref.title;\n\n  var group = this._addToolGroup(order, name);\n  if (tool.action === undefined && tool.type) tool.action = Service.ACTIONS[tool.type] ? Service.ACTIONS[tool.type].bind(null, tool.options) : function () {};\n  group.tools.push(tool);\n};\n\nproto._addTools = function (tools, groupName) {\n  var _this2 = this;\n\n  tools.forEach(function (tool) {\n    return _this2.addTool(tool, groupName);\n  });\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto._removeTool = function (toolIdx) {\n  this.state.toolsGroups = this.state.toolsGroups.splice(toolIdx, 1);\n};\n\nproto._removeTools = function () {\n  this.state.toolsGroups.splice(0);\n};\n\nproto.updateToolsGroup = function (order, groupConfig) {\n  Vue.set(this.state.toolsGroups, order, groupConfig);\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._removeToolGroup = function (name) {\n  this.state.toolsGroups = this.state.toolsGroups.filter(function (group) {\n    return group.name !== name;\n  });\n};\n\nproto._addToolGroup = function (order, name) {\n  var group = this.state.toolsGroups.find(function (_group) {\n    return _group.name === name;\n  });\n  if (!group) {\n    group = {\n      name: name,\n      tools: []\n    };\n    this.state.toolsGroups.splice(order, 0, group);\n  }\n  return group;\n};\n\nproto.setToolState = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      _ref2$state = _ref2.state,\n      state = _ref2$state === undefined ? { type: null, message: null } : _ref2$state;\n\n  this.state.toolsGroups.find(function (toolGroup) {\n    var tool = toolGroup.tools.find(function (tool) {\n      return tool.name === id;\n    });\n    if (tool) {\n      tool.state.type = state.type;\n      tool.state.message = state.message;\n      return true;\n    }\n  });\n};\n\nService.ACTIONS = {};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"store/projects\":367}],182:[function(require,module,exports){\nvar _Tools = require('components/Tools.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Tools);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar ToolsService = require('gui/tools/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new ToolsService(options);\n  this.title = \"tools\";\n\n  var internalComponent = new InternalComponent({\n    toolsService: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent, {\n    events: [{ name: 'visible' }]\n  });\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/Tools.vue\":297,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/tools/service\":181,\"services/gui\":349}],183:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Component = require('gui/component/component');\nvar Panel = require('gui/panel');\n\n//Barstack Class\n// It used to mount panels stack\n// on top of each parent\nfunction BarStack() {\n  this._parent = null;\n  // barstack state. It store the panels array\n  this.state = {\n    contentsdata: []\n  };\n}\n\ninherit(BarStack, G3WObject);\n\nvar proto = BarStack.prototype;\n\n// push componenet on top of parent\nproto.push = function (content) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // parent identify the DOM element where insert (append o meno) the component/panel\n  this._parent = options.parent;\n  // call barstack mount method\n  return this._mount(content, options);\n};\n\n// remove last component from stack\nproto.pop = function () {\n  var _this = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var content = this.state.contentsdata.slice(-1)[0].content;\n    this._unmount(content).then(function () {\n      var content = _this.state.contentsdata.pop();\n      d.resolve(content);\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\n// clear all stack\nproto.clear = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var unmountRequests = [];\n    this.state.contentsdata.forEach(function (data) {\n      unmountRequests.push(_this2._unmount(data.content));\n    });\n    $.when(unmountRequests).then(function () {\n      _this2.state.contentsdata.splice(0, _this2.state.contentsdata.length);\n      d.resolve();\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\nproto.getContentData = function () {\n  return this.state.contentsdata;\n};\n\nproto.getCurrentContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 1];\n};\n\nproto.getPreviousContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 2];\n};\n\n// mount component\nproto._mount = function (content, options) {\n  // check the type of content:\n  // JQuery type\n  if (content instanceof jQuery) return this._setJqueryContent(content);\n  //String\n  else if (_.isString(content)) {\n      var jqueryEl = $(content);\n      if (!jqueryEl.length) jqueryEl = $('<div>' + content + '</div>');\n      return this._setJqueryContent(jqueryEl);\n    }\n    // Vue\n    else if (content.mount && typeof content.mount == 'function') {\n        this._checkDuplicateVueContent(content); // if already exist it removed before based on id\n        return this._setVueContent(content, options);\n      }\n      // DOM\n      else return this._setDOMContent(content);\n};\n\n// JQuery append jQuery component\nproto._setJqueryContent = function (content, options) {\n  $(this._parent).append(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n//Append DOM element\nproto._setDOMContent = function (content, options) {\n  this._parent.appendChild(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n// Mount component to parent\nproto._setVueContent = function (content) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  var append = options.append || false;\n  content.mount(this._parent, append).then(function () {\n    $(_this3._parent).localize();\n    // Insert the content into the array with the following attributes:\n    // content: component object\n    // options: es. title, perc etc ...\n    _this3.state.contentsdata.push({\n      content: content,\n      options: options\n    });\n    d.resolve(content);\n  });\n  return d.promise();\n};\n\n// Check duplicate Vue Content\nproto._checkDuplicateVueContent = function (content) {\n  var _this4 = this;\n\n  var idxToRemove = null;\n  var id = content.getId();\n  this.state.contentsdata.forEach(function (data, idx) {\n    if (data.content.getId && data.content.getId() == id) idxToRemove = idx;\n  });\n  if (!_.isNull(idxToRemove)) {\n    var data = this.state.contentsdata[idxToRemove];\n    data.content.unmount().then(function () {\n      return _this4.state.contentsdata.splice(idxToRemove, 1);\n    });\n  }\n};\n\n// unmount component\nproto._unmount = function (content) {\n  var d = $.Deferred();\n  if (content instanceof Component || content instanceof Panel) {\n    content.unmount().then(function () {\n      return d.resolve();\n    });\n  } else {\n    $(this._parent).empty();\n    d.resolve();\n  }\n  return d.promise();\n};\n\nproto.forEach = function (cbk) {\n  this.state.contentsdata.forEach(function (data) {\n    return cbk(data.content);\n  });\n};\n\n// Get lenght / numbero of element stored in stack\nproto.getLength = function () {\n  return this.state.contentsdata.length;\n};\n\nmodule.exports = BarStack;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/panel\":158}],184:[function(require,module,exports){\nmodule.exports = {\n  barstack: require('./barstack')\n};\n\n},{\"./barstack\":183}],185:[function(require,module,exports){\nvar _ViewportContentsViewer = require('components/ViewportContentsViewer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ViewportContentsViewer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar Component = require('gui/component/component');\n\n// Internal Component (VUE) of the content of the  viewport\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ContentsViewerComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.stack = new Stack();\n  this.setService(this);\n  this.title = \"contents\";\n  this.contentsdata = this.stack.state.contentsdata;\n  this.state.visible = true;\n  var internalComponent = new InternalComponent({\n    service: this\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = this.state;\n}\n\ninherit(ContentsViewerComponent, Component);\n\nvar proto = ContentsViewerComponent.prototype;\n\nproto.setContent = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$push = options.push,\n      push = _options$push === undefined ? false : _options$push,\n      content = options.content,\n      crumb = options.crumb;\n\n  var d = $.Deferred();\n  // clean the stack every time, sure to have just one component.\n  // Use barstack because it handle the logic og mounting component on DOM\n  if (push) {\n    this.addContent(content, options).then(function () {\n      return d.resolve(options);\n    });\n  } else {\n    // clear stack\n    this.clearContents().then(function () {\n      _this.addContent(content, options).then(function () {\n        return d.resolve(options);\n      });\n    });\n  }\n\n  this.setOpen(true);\n  return d.promise();\n};\n\nproto.addContent = function (content) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // parent element is the internal element\n  options.parent = this.internalComponent.$el;\n  options.append = true;\n  var promise = this.stack.push(content, options);\n  promise.then(function () {\n    // get stack content\n    _this2.contentsdata = _this2.stack.state.contentsdata;\n    // update the visibility of the others components\n    _this2.updateContentVisibility();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// remove content from stack\nproto.removeContent = function () {\n  this.setOpen(false);\n  return this.clearContents();\n};\n\n// used by  viewport.js\nproto.popContent = function () {\n  var _this3 = this;\n\n  return this.stack.pop().then(function () {\n    // update the content of contentsdata only after stack is updated\n    _this3.contentsdata = _this3.stack.state.contentsdata;\n    _this3.updateContentVisibility();\n  });\n};\n\n// get component through class\nproto.getComponentByClass = function (componentClass) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content instanceof componentClass) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\n// get component by component id\nproto.getComponentById = function (id) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content.id == id) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\nproto.getContentData = function () {\n  return this.stack.getContentData();\n};\n\n// get current contentdata\nproto.getCurrentContentData = function () {\n  return this.stack.getCurrentContentData();\n};\n\n// get  previuos contentdata\nproto.getPreviousContentData = function () {\n  return this.stack.getPreviousContentData();\n};\n\n// update visibility of the components of content\nproto.updateContentVisibility = function () {\n  // hide each elements but not the last one\n  var contentsEls = $(this.internalComponent.$el).children();\n  contentsEls.hide();\n  contentsEls.last().show();\n};\n\n// stack clear because if we want the contentComponente stack\n// it has to be empty stack\nproto.clearContents = function () {\n  var _this4 = this;\n\n  return this.stack.clear().then(function () {\n    return _this4.contentsdata = _this4.stack.state.contentsdata;\n  });\n};\n\n// Set layout of the content each time\n// Parameters are: height and with of the parent content\nproto.layout = function (parentWidth, parentHeight) {\n  var _this5 = this;\n\n  var el = $(this.internalComponent.$el);\n  //run the callback only after that vue state is updated\n  Vue.nextTick(function () {\n    var contentsdata = _this5.stack.state.contentsdata;\n    // el.parent() is div g3w-view-content\n    var height = el.parent().height() - el.siblings('.close-panel-block').outerHeight(true) - el.siblings('.content_breadcrumb').outerHeight(true) - 10; // margin 10 from bottom\n    el.height(height);\n    el.children().first().height(height);\n    contentsdata.forEach(function (data) {\n      //check each componentstored in stack\n      if (typeof data.content.layout == 'function') {\n        //call function layout of each component that are stored into the stack\n        data.content.layout(parentWidth + 0.5, height);\n      }\n    });\n  });\n};\n\nmodule.exports = ContentsViewerComponent;\n\n},{\"components/ViewportContentsViewer.vue\":300,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/utils/utils\":184}],186:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _wmslayerspanel = require('gui/wms/vue/panel/wmslayerspanel');\n\nvar _wmslayerspanel2 = _interopRequireDefault(_wmslayerspanel);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$wmsurls = options.wmsurls,\n      wmsurls = _options$wmsurls === undefined ? [] : _options$wmsurls;\n\n  this.projectId = _projects2.default.getCurrentProject().getId(); // get current project id used to store data or get data to current project\n  this.panel;\n  this.state = {\n    adminwmsurls: wmsurls, // coming from admin wmsurls\n    localwmsurls: [] // contain array of object {id, url}\n  };\n  this.loadClientWmsUrls().then(function (urls) {\n    return _this.state.localwmsurls = urls;\n  });\n  _projects2.default.onafter('setCurrentProject', function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(project) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.projectId = project.getId();\n              _this.state.adminwmsurls = project.wmsurls || [];\n              _context.next = 4;\n              return _this.loadClientWmsUrls();\n\n            case 4:\n              _this.state.localwmsurls = _context.sent;\n\n            case 5:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\n\nvar proto = Service.prototype;\n\n/**\n * Getting Wms Urls from local browser storage\n */\nproto.loadClientWmsUrls = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _this2 = this;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          data = this.getLocalWMSData();\n\n          if (data === undefined) {\n            data = {\n              urls: [], // unique url fro wms\n              wms: {} // object contain url as key and array of layers bind to url\n            };\n            this.updateLocalWMSData(data);\n          }\n          _context2.next = 4;\n          return _gui2.default.isReady();\n\n        case 4:\n          setTimeout(function () {\n            var mapService = _gui2.default.getService('map');\n            mapService.on('remove-external-layer', function (name) {\n              return _this2.deleteWms(name);\n            });\n            mapService.on('change-layer-position-map', function () {\n              var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref3.id,\n                  position = _ref3.position;\n\n              return _this2.changeLayerData(name, {\n                key: 'position',\n                value: position\n              });\n            });\n            mapService.on('change-layer-opacity', function () {\n              var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref4.id,\n                  opacity = _ref4.opacity;\n\n              return _this2.changeLayerData(name, {\n                key: 'opacity',\n                value: opacity\n              });\n            });\n            mapService.on('change-layer-visibility', function () {\n              var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref5.id,\n                  visible = _ref5.visible;\n\n              return _this2.changeLayerData(name, {\n                key: 'visible',\n                value: visible\n              });\n            });\n\n            // load eventually data\n            Object.keys(data.wms).forEach(function (url) {\n              data.wms[url].forEach(function (config) {\n                _this2.loadWMSLayerToMap(_extends({\n                  url: url\n                }, config));\n              });\n            });\n          });\n          return _context2.abrupt('return', data.urls);\n\n        case 6:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * General Method to change config of storage layer options as position, opacity\n * @param name\n * @param config\n */\nproto.changeLayerData = function (name) {\n  var attribute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers[index][attribute.key] = attribute.value;\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Create a common status object\n * @param error\n * @param added\n * @returns {{error, status: string}}\n */\nproto.getRequestStatusObject = function () {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$error = _ref6.error,\n      error = _ref6$error === undefined ? false : _ref6$error,\n      _ref6$added = _ref6.added,\n      added = _ref6$added === undefined ? false : _ref6$added;\n\n  return {\n    error: error,\n    added: added\n  };\n};\n\n/**\n * Add new\n * @param wmsurl\n * @returns {*}\n */\nproto.addNewUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id,\n      url = _ref8.url;\n\n  var find, status, response, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          find = this.state.localwmsurls.find(function (_ref9) {\n            var localid = _ref9.id,\n                localurl = _ref9.url;\n            return localurl == url || localid == id;\n          });\n          status = this.getRequestStatusObject({\n            added: !!find\n          });\n\n          if (find) {\n            _context3.next = 13;\n            break;\n          }\n\n          _context3.prev = 3;\n          _context3.next = 6;\n          return this.getWMSLayers(url);\n\n        case 6:\n          response = _context3.sent;\n\n          // if result (meaning response in done right)\n          if (response.result) {\n            data = this.getLocalWMSData();\n\n            this.state.localwmsurls.push({\n              id: id,\n              url: url\n            });\n            data.urls = this.state.localwmsurls;\n            this.updateLocalWMSData(data);\n            response.wmsurl = url;\n            this.showWmsLayersPanel(response);\n          } else status.error = true;\n          _context3.next = 13;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3['catch'](3);\n\n          status.error = true;\n\n        case 13:\n          return _context3.abrupt('return', status);\n\n        case 14:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[3, 10]]);\n}));\n\n/**\n * Delete WMS\n * @param name\n */\nproto.deleteWms = function (name) {\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers.splice(index, 1);\n      if (wmsConfigLayers.length == 0) delete data.wms[wmsurl];\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n/**\n * Method to find if name or layer of a specific url is already added\n * @param name\n * @param layers\n */\nproto.checkIfWMSAlreadyAdded = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref10.url,\n      _ref10$layers = _ref10.layers,\n      layers = _ref10$layers === undefined ? [] : _ref10$layers;\n\n  var added = false;\n  var data = this.getLocalWMSData();\n  if (data.wms[url]) {\n    added = !!data.wms[url].find(function (_ref11) {\n      var addedLayers = _ref11.layers;\n\n      var layersLength = layers.length;\n      if (addedLayers.length === layersLength) {\n        return layers.reduce(function (accumulator, layerName) {\n          return accumulator + addedLayers.indexOf(layerName) !== -1 ? 1 : 0;\n        }, 0) === layersLength;\n      }\n    });\n  }\n  return added;\n};\n\n/**\n * Delete url from local storage\n * @param wmsurl\n */\nproto.deleteWmsUrl = function (id) {\n  this.state.localwmsurls = this.state.localwmsurls.filter(function (_ref12) {\n    var localid = _ref12.id;\n    return id !== localid;\n  });\n  var data = this.getLocalWMSData();\n  data.urls = this.state.localwmsurls;\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Method to lad data from server and show wms layer panel\n * @param wmsurl\n * @returns {Promise<{added: boolean, error: boolean}>}\n */\nproto.loadWMSDataAndShowWmsLayersPanel = function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(url) {\n    var status, response;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            status = this.getRequestStatusObject();\n            _context4.prev = 1;\n            _context4.next = 4;\n            return this.getWMSLayers(url);\n\n          case 4:\n            response = _context4.sent;\n\n            status.error = !response.result;\n            if (response.result) {\n              response.wmsurl = url;\n              this.showWmsLayersPanel(response);\n            }\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4['catch'](1);\n\n            status.error = true;\n\n          case 12:\n            return _context4.abrupt('return', status);\n\n          case 13:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[1, 9]]);\n  }));\n\n  return function (_x10) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\n/**\n * show addding wma layers wms panel\n * @param wmsurl\n * @returns {WmsLayersPanel}\n */\nproto.showWmsLayersPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.panel = new _wmslayerspanel2.default({\n    service: this,\n    config: config\n  });\n  this.panel.show();\n  return this.panel;\n};\n\n/**\n * gettind data of wms url from server\n * @param url\n * @returns {Promise<{result: boolean, info_formats: [], layers: [], map_formats: [], abstract: null, title: null}>}\n */\nproto.getWMSLayers = function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(url) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            response = {\n              result: false,\n              layers: [],\n              info_formats: [],\n              abstract: null,\n              map_formats: [],\n              title: null\n            };\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _data2.default.getData('ows:wmsCapabilities', {\n              inputs: {\n                url: url\n              },\n              outputs: false\n            });\n\n          case 4:\n            response = _context5.sent;\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n            console.log(_context5.t0);\n\n          case 10:\n            if (!response.result) {\n              _context5.next = 12;\n              break;\n            }\n\n            return _context5.abrupt('return', response);\n\n          case 12:\n            return _context5.abrupt('return', response);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x12) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\nproto.loadWMSLayerToMap = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref15.url,\n      name = _ref15.name,\n      epsg = _ref15.epsg,\n      position = _ref15.position,\n      opacity = _ref15.opacity,\n      _ref15$visible = _ref15.visible,\n      visible = _ref15$visible === undefined ? true : _ref15$visible,\n      _ref15$layers = _ref15.layers,\n      layers = _ref15$layers === undefined ? [] : _ref15$layers;\n\n  var mapService = _gui2.default.getService('map');\n  return mapService.addExternalWMSLayer({\n    url: url,\n    name: name,\n    layers: layers,\n    epsg: epsg,\n    position: position,\n    visible: visible,\n    opacity: opacity\n  });\n};\n\n/**\n * Method to check if a layer is already added to map\n * @param url\n * @param name\n * @param epsg\n * @param position\n * @param layers\n * @returns {Promise<void>}\n */\nproto.addWMSlayer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref17.url,\n      _ref17$name = _ref17.name,\n      name = _ref17$name === undefined ? 'wms_' + uniqueId() : _ref17$name,\n      epsg = _ref17.epsg,\n      position = _ref17.position,\n      _ref17$layers = _ref17.layers,\n      layers = _ref17$layers === undefined ? [] : _ref17$layers,\n      _ref17$opacity = _ref17.opacity,\n      opacity = _ref17$opacity === undefined ? 1 : _ref17$opacity,\n      _ref17$visible = _ref17.visible,\n      visible = _ref17$visible === undefined ? true : _ref17$visible;\n\n  var data, wmsLayerConfig, mapService;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = this.getLocalWMSData();\n          wmsLayerConfig = {\n            url: url,\n            name: name,\n            layers: layers,\n            epsg: epsg,\n            position: position,\n            visible: visible,\n            opacity: opacity\n          };\n\n          if (data.wms[url] === undefined) data.wms[url] = [wmsLayerConfig];else data.wms[url].push(wmsLayerConfig);\n          this.updateLocalWMSData(data);\n          _context6.prev = 4;\n          _context6.next = 7;\n          return this.loadWMSLayerToMap(wmsLayerConfig);\n\n        case 7:\n          _context6.next = 15;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6['catch'](4);\n          mapService = _gui2.default.getService('map');\n\n          mapService.removeExternalLayer(name);\n          this.deleteWms(name);\n          setTimeout(function () {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: 'sidebar.wms.layer_add_error'\n            });\n          });\n\n        case 15:\n          this.panel.close();\n\n        case 16:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[4, 9]]);\n}));\n\n/**\n * Method to get local storage wms  data based on current projectId\n * @returns {*}\n */\nproto.getLocalWMSData = function () {\n  return _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) && _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM)[this.projectId];\n};\n\n/**\n * Method to update local storage data based on changes\n * @param data\n */\nproto.updateLocalWMSData = function (data) {\n  // in case for the firs time is non present set empty object\n  var alldata = _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) || {};\n  alldata[this.projectId] = data;\n  _application2.default.setLocalItem({\n    id: _constant.LOCALSTORAGE_EXTERNALWMS_ITEM,\n    data: alldata\n  });\n};\n\nproto.clear = function () {\n  this.panel = null;\n};\n\nexports.default = Service;\n\n},{\"app/constant\":5,\"core/utils/utils\":68,\"gui/wms/vue/panel/wmslayerspanel\":187,\"services/application\":339,\"services/data\":346,\"services/gui\":349,\"store/projects\":367}],187:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _WMSLayersPanel = require('components/WMSLayersPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMSLayersPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\n\nvar WMSLayersPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction WmsLayersPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var service = options.service,\n      config = options.config;\n\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'sidebar.wms.panel.title';\n  var panel = WMSLayersPanelComponent;\n  var internalPanel = new panel({\n    service: service,\n    config: config\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(WmsLayersPanel, Panel);\n\nexports.default = WmsLayersPanel;\n\n},{\"components/WMSLayersPanel.vue\":302,\"core/utils/utils\":68,\"gui/panel\":158}],188:[function(require,module,exports){\nvar _WMS = require('components/WMS.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMS);\n\nvar _service = require('gui/wms/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new _service2.default(options);\n  this.title = \"WMS\";\n\n  var internalComponent = new InternalComponent({\n    service: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent);\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/WMS.vue\":301,\"core/utils/utils\":68,\"gui/component/component\":113,\"gui/wms/service\":186,\"services/gui\":349}],189:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nmodule.exports = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$steps = _ref.steps,\n      steps = _ref$steps === undefined ? {} : _ref$steps;\n\n  return {\n    data: function data() {\n      return {\n        steps: steps,\n        currentStep: 0\n      };\n    },\n\n    watch: {\n      steps: {\n        handler: function handler(steps) {\n          var _this = this;\n\n          Object.values(steps).find(function (step, index) {\n            if (!step.done) {\n              _this.currentStep = index;\n              return true;\n            }\n          });\n        },\n\n        deep: false\n      }\n    },\n    render: function render(h) {\n      var _this2 = this;\n\n      return h('ul', {\n        style: {\n          alignSelf: 'flex-start',\n          listStyle: 'none',\n          padding: (_applicationState2.default.ismobile ? 5 : 10) + 'px !important',\n          marginBottom: 0\n        }\n      }, Object.values(this.steps).map(function (step, index) {\n        var _class;\n\n        var state = {\n          current: !step.done && index === _this2.currentStep,\n          done: step.done,\n          todo: !step.done && index !== _this2.currentStep\n        };\n        return h('li', {\n          style: {\n            fontWeight: (step.done || !step.done && index === _this2.currentStep) && 'bold' || null,\n            marginBottom: '5px',\n            color: step.done && \"green\",\n            display: step.buttonnext && 'inline-flex'\n          }\n        }, [h('i', {\n          style: {\n            marginRight: '5px',\n            fontWeight: step.done && 'bold'\n          },\n          class: (_class = {}, _defineProperty(_class, _gui2.default.getFontClass('arrow-right'), state.current), _defineProperty(_class, _gui2.default.getFontClass('empty-circle'), state.todo), _defineProperty(_class, _gui2.default.getFontClass('success'), state.done), _class)\n        }), h('span', {\n          directives: [{\n            name: step.directive,\n            value: step.description\n          }],\n          style: {\n            display: step.buttonnext ? 'inline-flex' : 'inline',\n            flexDirection: step.buttonnext && 'row-reverse'\n          }\n        }), step.dynamic !== undefined && h('span', {\n          style: {\n            alignSelf: 'center',\n            padding: '3px'\n          }\n        }, step.dynamic), step.buttonnext && h('button', {\n          on: {\n            click: function click() {\n              step.done = true;\n              step.buttonnext.done();\n            }\n          },\n          directives: [{\n            name: 't',\n            value: 'sdk.workflow.next'\n          }],\n          style: {\n            fontWeight: 'bold'\n          },\n          class: {\n            btn: true,\n            'btn-success': true,\n            'g3w-disabled': step.buttonnext.disabled\n          }\n        })]);\n      }));\n    }\n  };\n};\n\n},{\"services/gui\":349,\"store/application-state\":361}],190:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nrequire('../deprecated');\n\nrequire('regenerator-runtime');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _floatbar = require('services/floatbar');\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nvar _navbaritems = require('services/navbaritems');\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _App = require('components/App.vue');\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalImage = require('components/GlobalImage.vue');\n\nvar _GlobalImage2 = _interopRequireDefault(_GlobalImage);\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nvar _GlobalGeo = require('components/GlobalGeo.vue');\n\nvar _GlobalGeo2 = _interopRequireDefault(_GlobalGeo);\n\nvar _GlobalSkeleton = require('components/GlobalSkeleton.vue');\n\nvar _GlobalSkeleton2 = _interopRequireDefault(_GlobalSkeleton);\n\nvar _GlobalBarLoader = require('components/GlobalBarLoader');\n\nvar _GlobalBarLoader2 = _interopRequireDefault(_GlobalBarLoader);\n\nvar _GlobalProgressBar = require('components/GlobalProgressBar');\n\nvar _GlobalProgressBar2 = _interopRequireDefault(_GlobalProgressBar);\n\nvar _GlobalHelpDiv = require('components/GlobalHelpDiv.vue');\n\nvar _GlobalHelpDiv2 = _interopRequireDefault(_GlobalHelpDiv);\n\nvar _GlobalResize = require('components/GlobalResize.vue');\n\nvar _GlobalResize2 = _interopRequireDefault(_GlobalResize);\n\nvar _GlobalLayerPositions = require('components/GlobalLayerPositions.vue');\n\nvar _GlobalLayerPositions2 = _interopRequireDefault(_GlobalLayerPositions);\n\nvar _GlobalDateTime = require('components/GlobalDateTime.vue');\n\nvar _GlobalDateTime2 = _interopRequireDefault(_GlobalDateTime);\n\nvar _GlobalRange = require('components/GlobalRange.vue');\n\nvar _GlobalRange2 = _interopRequireDefault(_GlobalRange);\n\nvar _GlobalResizeIcon = require('components/GlobalResizeIcon.vue');\n\nvar _GlobalResizeIcon2 = _interopRequireDefault(_GlobalResizeIcon);\n\nvar _GlobalTabs = require('components/GlobalTabs.vue');\n\nvar _GlobalTabs2 = _interopRequireDefault(_GlobalTabs);\n\nvar _GlobalDivider = require('components/GlobalDivider.vue');\n\nvar _GlobalDivider2 = _interopRequireDefault(_GlobalDivider);\n\nvar _Floatbar = require('components/Floatbar.vue');\n\nvar _Floatbar2 = _interopRequireDefault(_Floatbar);\n\nvar _NavbaritemsLeft = require('components/NavbaritemsLeft.vue');\n\nvar _NavbaritemsLeft2 = _interopRequireDefault(_NavbaritemsLeft);\n\nvar _NavbaritemsRight = require('components/NavbaritemsRight.vue');\n\nvar _NavbaritemsRight2 = _interopRequireDefault(_NavbaritemsRight);\n\nvar _Sidebar = require('components/Sidebar.vue');\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _Viewport = require('components/Viewport.vue');\n\nvar _Viewport2 = _interopRequireDefault(_Viewport);\n\nvar _vDisabled = require('directives/v-disabled');\n\nvar _vDisabled2 = _interopRequireDefault(_vDisabled);\n\nvar _vChecked = require('directives/v-checked');\n\nvar _vChecked2 = _interopRequireDefault(_vChecked);\n\nvar _vSelectedFirst = require('directives/v-selected-first');\n\nvar _vSelectedFirst2 = _interopRequireDefault(_vSelectedFirst);\n\nvar _vSelect = require('directives/v-select2');\n\nvar _vSelect2 = _interopRequireDefault(_vSelect);\n\nvar _vTTooltip = require('directives/v-t-tooltip');\n\nvar _vTTooltip2 = _interopRequireDefault(_vTTooltip);\n\nvar _vTHtml = require('directives/v-t-html');\n\nvar _vTHtml2 = _interopRequireDefault(_vTHtml);\n\nvar _vTPlaceholder = require('directives/v-t-placeholder');\n\nvar _vTPlaceholder2 = _interopRequireDefault(_vTPlaceholder);\n\nvar _vTTitle = require('directives/v-t-title');\n\nvar _vTTitle2 = _interopRequireDefault(_vTTitle);\n\nvar _vT = require('directives/v-t');\n\nvar _vT2 = _interopRequireDefault(_vT);\n\nvar _vTPlugin = require('directives/v-t-plugin');\n\nvar _vTPlugin2 = _interopRequireDefault(_vTPlugin);\n\nvar _vPlugins = require('directives/v-plugins');\n\nvar _vPlugins2 = _interopRequireDefault(_vPlugins);\n\nvar _vOnline = require('directives/v-online');\n\nvar _vOnline2 = _interopRequireDefault(_vOnline);\n\nvar _vDownload = require('directives/v-download');\n\nvar _vDownload2 = _interopRequireDefault(_vDownload);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } // Backward compatibilies with old G3W-CLIENT plugins (eg. window variables)\n\n\n/**\n * Add babel runtime support for compiled/transpiled async functions\n * \n * @TODO check if this still useful nowdays (IE 11 ?)\n */\n\n\n//import core\n\n\n//import services\n\n\n// import store\n\n\n//components\n\n\n//directives\n\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t,\n    tPlugin = _require2.tPlugin;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectsMenuComponent = require('gui/projectsmenu/projectsmenu');\n\n/**\n * Expose \"g3wsdk\" variable globally\n *\n * used by plugins to load sdk class and instances\n */\nwindow.g3wsdk = require('api');\n\nrequire('app/dev');\n\n/**\n * EXPERIMENTAL: not yet implemented\n *\n * @see https://github.com/g3w-suite/g3w-client/issues/71\n * @see https://github.com/g3w-suite/g3w-client/issues/46\n */\n// window.g3w = window.g3wsdk;\n\n/**\n * Install global components\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.globalcomponents.js@3.6\n */\nVue.component(_GlobalImage2.default.name, _GlobalImage2.default);\nVue.component(_GlobalGallery2.default.name, _GlobalGallery2.default);\nVue.component(_GlobalGeo2.default.name, _GlobalGeo2.default);\nVue.component(_GlobalBarLoader2.default.name, _GlobalBarLoader2.default);\nVue.component(_GlobalProgressBar2.default.name, _GlobalProgressBar2.default);\nVue.component(_GlobalSkeleton2.default.name, _GlobalSkeleton2.default);\nVue.component(_GlobalHelpDiv2.default.name, _GlobalHelpDiv2.default);\nVue.component(_GlobalResize2.default.name, _GlobalResize2.default);\nVue.component(_GlobalLayerPositions2.default.name, _GlobalLayerPositions2.default);\nVue.component(_GlobalDateTime2.default.name, _GlobalDateTime2.default);\nVue.component(_GlobalRange2.default.name, _GlobalRange2.default);\nVue.component(_GlobalResizeIcon2.default.name, _GlobalResizeIcon2.default);\nVue.component(_GlobalTabs2.default.name, _GlobalTabs2.default);\nVue.component(_GlobalDivider2.default.name, _GlobalDivider2.default);\n\n/**\n * Install application filters\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.filter.js@3.6\n */\nVue.filter('t', function (value) {\n  return t(value);\n});\nVue.filter('tPlugin', function (value) {\n  return value !== null ? tPlugin(value) : '';\n});\n\n/**\n * Install global directives\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.directives.js@v3.6\n */\nVue.directive(\"disabled\", _vDisabled2.default);\nVue.directive(\"checked\", _vChecked2.default);\nVue.directive(\"selected-first\", _vSelectedFirst2.default);\nVue.directive('select2', _vSelect2.default);\nVue.directive('t-tooltip', _vTTooltip2.default);\nVue.directive('t-html', _vTHtml2.default);\nVue.directive('t-placeholder', _vTPlaceholder2.default);\nVue.directive('t-title', _vTTitle2.default);\nVue.directive(\"t\", _vT2.default);\nVue.directive(\"t-plugin\", _vTPlugin2.default);\nVue.directive(\"plugins\", _vPlugins2.default);\nVue.directive(\"online\", _vOnline2.default);\nVue.directive(\"download\", _vDownload2.default);\n\n/**\n * Install global plugins\n */\nVue.use(window.VueCookie);\n\n/**\n * Vue 2 Plugin used to add global-level functionality to Vue\n *\n * @link https://v2.vuejs.org/v2/guide/plugins.html\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vueappplugin.js@3.6\n */\nVue.use({\n  install: function install(Vue) {\n    // hold a list of registered fontawsome classes for current project\n    Vue.prototype.g3wtemplate = {\n      font: {\n        'change-map': \"fas fa-map-signs\",\n        map: \"far fa-map\",\n        file: \"fas fa-file-code\",\n        marker: \"fas fa-map-marker-alt\",\n        relation: \"fas fa-sitemap\",\n        tools: \"fas fa-cogs\",\n        tool: \"fas fa-cog\",\n        search: \"fas fa-search\",\n        print: \"fas fa-print\",\n        info: \"fas fa-info-circle\",\n        'info-circle': \"fas fa-info-circle\",\n        globe: \"fas fa-globe\",\n        mail: \"fas fa-envelope\",\n        mobile: \"fas fa-mobile\",\n        fax: \"fas fa-fax\",\n        user: \"fas fa-user\",\n        bars: \"fas fa-bars\",\n        uncheck: \"far fa-square\",\n        check: \"far fa-check-square\",\n        filluncheck: \"fas fa-square\",\n        table: \"fas fa-table\",\n        trash: \"fas fa-trash\",\n        'trash-o': \"far fa-trash-alt\",\n        pencil: \"fas fa-pencil-alt\",\n        'ellips-h': \"fas fa-ellipsis-h\",\n        'ellips-v': \"fas fa-ellipsis-v\",\n        'arrow-up': \"fas fa-chevron-up\",\n        'arrow-down': \"fas fa-chevron-down\",\n        'arrow-left': \"fas fa-chevron-left\",\n        'arrow-right': \"fas fa-chevron-right\",\n        'resize-h': \"fas fa-arrows-alt-h\",\n        'resize-v': \"fas fa-arrows-alt-v\",\n        'resize-default': \"fas fa-compress\",\n        'caret-up': \"fas fa-caret-up\",\n        'caret-down': \"fas fa-caret-down\",\n        'caret-left': \"fas fa-caret-left\",\n        'caret-right': \"fas fa-caret-right\",\n        'empty-circle': \"far fa-circle\",\n        'cloud-upload': \"fas fa-cloud-upload-alt\",\n        spinner: \"fas fa-spinner\",\n        minus: \"fas fa-minus\",\n        \"minus-square\": \"far fa-minus-square\",\n        plus: \"fas fa-plus\",\n        'plus-circle': \"fas fa-plus-circle\",\n        'plus-square': \"far fa-plus-square\",\n        grid: \"fas fa-th\",\n        home: \"fas fa-home\",\n        folder: \"fas fa-folder\",\n        'sign-out': \"fas fa-sign-out-alt\",\n        close: \"fas fa-times\",\n        time: \"far fa-clock\",\n        calendar: \"fas fa-calendar-alt\",\n        list: \"fas fa-list-alt\",\n        link: \"fas fa-link\",\n        unlink: \"fas fa-unlink\",\n        eye: \"far fa-eye\",\n        'eye-close': \"far fa-eye-slash\",\n        save: \"far fa-save\",\n        pdf: \"fas fa-file-pdf\",\n        image: \"far fa-image\",\n        video: \"far fa-file-video\",\n        unknow: \"far fa-question-circle\",\n        zip: \"far fa-file-archive\",\n        text: \"far fa-file-alt\",\n        excel: \"far fa-file-excel\",\n        xls: \"far fa-file-excel\",\n        gpx: \"fas fa-location-arrow\",\n        gpkg: \"fas fa-box-open\",\n        shapefile: \"fas fa-file-archive\",\n        csv: \"fas fa-file-csv\",\n        geotiff: \"fas fa-th\",\n        ppt: \"far fa-file-powerpoint\",\n        circle: \"fas fa-circle\",\n        calculator: \"fas fa-calculator\",\n        picture: \"far fa-image\",\n        keyboard: \"far fa-keyboard\",\n        'file-download': \"fas fa-file-download\",\n        copy: \"far fa-copy\",\n        draw: \"fas fa-draw-polygon\",\n        chart: \"fas fa-chart-bar\",\n        'chart-line': \"fas fa-chart-line\",\n        'chart-area': \"fas fa-chart-area\",\n        'chart-pie': \"fas fa-chart-pie\",\n        run: \"fas fa-play\",\n        warning: \"fas fa-exclamation-circle\",\n        alert: \"fas fa-exclamation-triangle\",\n        crosshairs: \"fas fa-crosshairs\",\n        success: \"far fa-check-circle\",\n        back: \"fas fa-chevron-circle-left\",\n        'file-upload': \"fas fa-file-upload\",\n        wifi: \"fas fa-wifi\",\n        mouse: \"fas fa-mouse\",\n        'copy-paste': \"far fa-copy\",\n        'vector-square': \"fas fa-vector-square\",\n        download: \"fas fa-download\",\n        credits: \"fas fa-euro-sign\",\n        filter: \"fas fa-filter\",\n        plugin: \"fas fa-plug\",\n        invert: \"fas fa-exchange-alt\",\n        clear: \"fas fa-broom\",\n        palette: \"fas fa-palette\",\n        layers: \"fas fa-layer-group\",\n        'sign-in': \"fas fa-sign-in-alt\",\n        language: \"fas fa-language\",\n        target: \"fas fa-bullseye\",\n        pin: \"fas fa-map-pin\",\n        square: \"far fa-square\",\n        move: \"fas fa-arrows-alt\",\n        moon: \"fas fa-moon\",\n        sun: \"fas fa-sun\",\n        refresh: \"fas fa-sync-alt\",\n        pause: \"fas fa-pause\",\n        'step-backward': \"fas fa-step-backward\",\n        'fast-backward': \"fas fa-fast-backward\",\n        'step-forward': \"fas fa-step-forward\",\n        'fast-forward': \"fas fa-fast-forward\",\n        crop: \"fas fa-crop-alt\",\n        exit: \"fas fa-door-open\"\n      },\n      /**\n       * @TODO check if deprecated\n       */\n      get: function get() {},\n      getInfo: function getInfo() {\n        return {\n          font: this.font\n        };\n      },\n      addFontClass: function addFontClass() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            name = _ref.name,\n            className = _ref.className;\n\n        var added = this.font[name] === undefined;\n        if (added) this.font[name] = className;\n        return added;\n      },\n\n      /**\n       * @TODO check if deprecated\n       */\n      getInfoString: function getInfoString() {},\n      getFontClass: function getFontClass(type) {\n        return typeof this.font[type] !== \"undefined\" ? this.font[type] : '';\n      }\n    };\n    // include isMobile() method within all Vue instances\n    Vue.mixin({\n      methods: {\n        isMobile: function (_isMobile) {\n          function isMobile() {\n            return _isMobile.apply(this, arguments);\n          }\n\n          isMobile.toString = function () {\n            return _isMobile.toString();\n          };\n\n          return isMobile;\n        }(function () {\n          return isMobile.any;\n        })\n      }\n    });\n  }\n}, {});\n\nVue.mixin({ inheritAttrs: false }); // set mixins inheriAttrs to avoid tha unused props are setted as attrs\n\n/**\n * @requires components/App.vue\n */\nvar layout = $.LayoutManager;\n\n// loading spinner at beginning\nlayout.loading(true);\n\n/**\n * ORIGINAL SOURCE: src/gui/app/index.js@3.4\n */\nvar ApplicationTemplate = function ApplicationTemplate(_ref2) {\n  var ApplicationService = _ref2.ApplicationService;\n\n  var appLayoutConfig = ApplicationService.getConfig().layout || {};\n  // useful to build a difference layout/compoìnent based on mobile or not\n  this._isMobile = isMobile.any;\n  this._isIframe = appLayoutConfig.iframe;\n  //ussefult ot not close user message when set content is called\n  this.sizes = {\n    sidebar: {\n      width: 0\n    }\n  };\n  /*\n    usefull to show onaly last waiting request output\n    at moment will be an object\n    {\n      stop: method to sot to show result\n    }\n   */\n  this.waitingoutputdataplace = null;\n  this.init = function () {\n    // create Vue App\n    this._createApp();\n  };\n  // create application config\n  this._createTemplateConfig = function () {\n    var G3WTemplate = Vue.prototype.g3wtemplate;\n    var appTitle = ApplicationService.getConfig().apptitle || 'G3W Suite';\n    var ContentsComponent = require('gui/viewport/contentsviewer');\n    var CatalogComponent = require('gui/catalog/vue/catalog');\n    var SearchComponent = require('gui/search/vue/search');\n    var QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n    var PrintComponent = require('gui/print/vue/print');\n    var MetadataComponent = require('gui/metadata/vue/metadata');\n    var ToolsComponent = require('gui/tools/vue/tools');\n    var WMSComponent = require('gui/wms/vue/wms');\n    var MapComponent = require('gui/map/vue/map');\n    var QueryResultsComponent = require('gui/queryresults/vue/queryresults');\n    return {\n      title: appTitle,\n      placeholders: {\n        navbar: {\n          components: []\n        },\n        sidebar: {\n          components: [new MetadataComponent({\n            id: 'metadata',\n            open: false,\n            collapsible: false,\n            icon: G3WTemplate.getFontClass('file'),\n            mobile: true\n          }), new PrintComponent({\n            id: 'print',\n            open: false,\n            collapsible: true, //  it used to manage click event if can run setOpen component method\n            icon: G3WTemplate.getFontClass('print'),\n            mobile: false\n          }), new SearchComponent({\n            id: 'search',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('search'),\n            actions: [{\n              id: \"querybuilder\",\n              class: G3WTemplate.getFontClass('calculator') + ' sidebar-button sidebar-button-icon',\n              tooltip: 'Query Builder',\n              fnc: function fnc() {\n                _gui2.default.closeContent();\n                ApplicationTemplate.Services.sidebar.closeOpenComponents();\n                QueryBuilderUIFactory.show({\n                  type: 'sidebar' // sidebar or modal\n                });\n              },\n              style: {\n                color: '#8DC3E3',\n                padding: '6px',\n                fontSize: '1.2em',\n                borderRadius: '3px',\n                marginRight: '5px'\n              }\n            }],\n            mobile: true\n          }),\n          // Component that store plugins\n          new ToolsComponent({\n            id: 'tools',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('tools'),\n            mobile: true\n          }), new WMSComponent({\n            id: 'wms',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('layers'),\n            mobile: true\n          }), new CatalogComponent({\n            id: 'catalog',\n            open: false,\n            collapsible: false,\n            isolate: true,\n            icon: G3WTemplate.getFontClass('map'),\n            mobile: true,\n            config: {\n              legend: {\n                config: appLayoutConfig.legend\n              }\n            }\n          })]\n        },\n        floatbar: {\n          components: []\n        }\n      },\n      othercomponents: [new QueryResultsComponent({\n        id: 'queryresults'\n      })],\n      viewport: {\n        // placeholder of the content (view content). Secondary view (hidden)\n        components: {\n          map: new MapComponent({\n            id: 'map'\n          }),\n          content: new ContentsComponent({\n            id: 'contents'\n          })\n        }\n      }\n    };\n  };\n\n  //Vue app\n  this._createApp = function () {\n    this._setDataTableLanguage();\n    var self = this;\n    if (isMobile.any || this._isIframe) $('body').addClass('sidebar-collapse');\n    return new Vue({\n      el: '#app',\n      created: function created() {\n        // set general metods for the application as  GUI.showForm etc ..\n        self._setupInterface();\n        // setup layout\n        self._setupLayout();\n        //register all services fro the application\n        self._setUpServices();\n        // create templateConfig\n        self.templateConfig = self._createTemplateConfig();\n        // listen lng change and reset datatable language\n        this.$watch(function () {\n          return _applicationState2.default.language;\n        }, function () {\n          self._setDataTableLanguage();\n        });\n      },\n      mounted: function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var skinColor;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return this.$nextTick();\n\n                case 2:\n                  self._buildTemplate();\n                  // setup Font, Css class methods\n                  self._setUpTemplateDependencies(this);\n                  $(document).localize();\n                  self._setViewport(self.templateConfig.viewport);\n                  skinColor = $('.navbar').css('background-color');\n\n                  _gui2.default.skinColor = skinColor && '#' + skinColor.substr(4, skinColor.indexOf(')') - 4).split(',').map(function (color) {\n                    return parseInt(color).toString(16);\n                  }).join('');\n                  _context.next = 10;\n                  return this.$nextTick();\n\n                case 10:\n                  self.emit('ready');\n                  self.sizes.sidebar.width = $('#g3w-sidebar').width();\n                  //getSkinColor\n                  _gui2.default.ready();\n\n                case 13:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function mounted() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return mounted;\n      }()\n    });\n  };\n\n  this._setupLayout = function () {\n    if (!isMobile.any) {\n      // setup map controls\n      $(\"<style type='text/css'> .ol-control-tl {\" + \"top: 7px;\" + \"left:43px;\" + \"}</style>\").appendTo(\"head\");\n    }\n    // Inizialization of the components of the application\n    Vue.component('sidebar', _Sidebar2.default);\n    //Navbar custom items\n    Vue.component('navbarleftitems', _NavbaritemsLeft2.default);\n    Vue.component('navbarrightitems', _NavbaritemsRight2.default);\n    Vue.component('viewport', _Viewport2.default);\n    Vue.component('floatbar', _Floatbar2.default);\n    Vue.component('app', _App2.default);\n  };\n\n  // dataTable Translations and custom extentions\n  this._setDataTableLanguage = function () {\n    var dataTable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var languageOptions = {\n      \"language\": {\n        \"sSearch\": '',\n        \"searchPlaceholder\": t(\"dosearch\"),\n        \"sLengthMenu\": t(\"dataTable.lengthMenu\"),\n        \"paginate\": {\n          \"previous\": t(\"dataTable.previous\"),\n          \"next\": t(\"dataTable.next\")\n        },\n        \"info\": t(\"dataTable.info\"),\n        \"zeroRecords\": t(\"dataTable.nodatafilterd\"),\n        \"infoFiltered\": ''\n      }\n    };\n    //set form control class to filter\n    $.extend($.fn.dataTableExt.oStdClasses, {\n      \"sFilterInput\": \"form-control search\"\n    });\n    !dataTable ? $.extend(true, $.fn.dataTable.defaults, languageOptions) : dataTable.dataTable({ \"oLanguage\": languageOptions });\n  };\n\n  // route setting att beginning (is an example)\n  this._addRoutes = function () {\n    var RouterService = ApplicationService.getRouterService();\n    var mapService = _gui2.default.getComponent('map').getService();\n    RouterService.addRoute('map/zoomto/{coordinate}/:zoom:', function (coordinate, zoom) {\n      coordinate = _.map(coordinate.split(','), function (xy) {\n        return Number(xy);\n      });\n      zoom = zoom ? Number(zoom) : null;\n      if (coordinate.length) {\n        mapService.on('ready', function () {\n          this.zoomTo(coordinate, zoom);\n        });\n      }\n    });\n  };\n\n  //register all services\n  this._setUpServices = function () {\n    Object.keys(ApplicationTemplate.Services).forEach(function (element) {\n      var service = ApplicationTemplate.Services[element];\n      ApplicationService.registerService(element, service);\n    });\n    Object.values(_gui2.default.getComponents()).forEach(function (component) {\n      ApplicationService.registerService(component.id, component.getService());\n    });\n    ApplicationTemplate.Services.viewport.on('resize', function () {\n      return _gui2.default.emit('resize');\n    });\n  };\n  // build template function\n  this._buildTemplate = function () {\n    var _this = this;\n\n    _floatbar2.default.init(layout);\n    var placeholdersConfig = this.templateConfig.placeholders;\n    Object.entries(placeholdersConfig).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          placeholder = _ref5[0],\n          options = _ref5[1];\n\n      _this._addComponents(options.components, placeholder);\n    });\n    //register other compoents\n    this._addOtherComponents();\n  };\n\n  //add component not related to placeholder\n  this._addOtherComponents = function () {\n    if (this.templateConfig.othercomponents) this._addComponents(this.templateConfig.othercomponents);\n  };\n  // viewport setting\n  this._setViewport = function (viewportOptions) {\n    // viewport components\n    // es.: map e content\n    /*\n     components: {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'content',\n      })\n     }\n      */\n    if (viewportOptions) {\n      ApplicationTemplate.Services.viewport.init(viewportOptions);\n      this._addComponents(viewportOptions.components);\n    }\n  };\n\n  // add component to template\n  this._addComponent = function (component, placeholder) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this._addComponents([component], placeholder, options);\n    return true;\n  };\n\n  // registry component\n  this._addComponents = function (components, placeholder, options) {\n    var register = true;\n    if (placeholder && ApplicationTemplate.PLACEHOLDERS.indexOf(placeholder) > -1) {\n      var placeholderService = ApplicationTemplate.Services[placeholder];\n      if (placeholderService) register = placeholderService.addComponents(components, options);\n    }\n    Object.entries(components).forEach(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          key = _ref7[0],\n          component = _ref7[1];\n\n      if (register) {\n        _components2.default.registerComponent(component);\n        ApplicationService.registerService(component.id, component.getService());\n      }\n    });\n  };\n\n  this._removeComponent = function (componentId, placeholder, options) {\n    var component = _components2.default.unregisterComponent(componentId);\n    placeholder && ApplicationTemplate.Services[placeholder] && ApplicationTemplate.Services[placeholder].removeComponent(component, options);\n  };\n\n  this._showModalOverlay = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var message = arguments[1];\n\n    var mapService = _gui2.default.getService('map');\n    if (bool) mapService.startDrawGreyCover(message);else mapService.stopDrawGreyCover();\n  };\n\n  this._isSidebarVisible = function () {\n    return !$('body').hasClass('sidebar-collapse');\n  };\n\n  this._showSidebar = function () {\n    $('body').addClass('sidebar-open');\n    $('body').removeClass('sidebar-collapse');\n  };\n\n  this._hideSidebar = function () {\n    $('body').removeClass('sidebar-open');\n    $('body').addClass('sidebar-collapse');\n  };\n\n  // setup Fonts Css dependencies methods\n  this._setUpTemplateDependencies = function (VueApp) {\n    _gui2.default.isMobile = function () {\n      return isMobile.any;\n    };\n    // method that return Template Info\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getFontClass = function (type) {\n      return VueApp.g3wtemplate.getFontClass(type);\n    };\n  };\n\n  /**\n   * Convert error to user message showed\n   * @param error\n   * @returns {string}\n   */\n  _gui2.default.errorToMessage = function (error) {\n    var message = 'server_error';\n    switch (toRawType(error)) {\n      case 'Error':\n        message = 'CLIENT - ' + error.message;\n        break;\n      case 'Object':\n        if (error.responseJSON) {\n          error = error.responseJSON;\n          if (error.result === false) {\n            var _error$error = error.error,\n                _error$error$code = _error$error.code,\n                code = _error$error$code === undefined ? '' : _error$error$code,\n                _error$error$data = _error$error.data,\n                data = _error$error$data === undefined ? '' : _error$error$data,\n                _error$error$message = _error$error.message,\n                msg = _error$error$message === undefined ? '' : _error$error$message;\n\n            message = code.toUpperCase() + ' ' + data + ' ' + msg;\n          }\n        } else if (error.responseText) {\n          message = error.responseText;\n        }\n        break;\n      case 'Array':\n        message = error.map(function (error) {\n          return _gui2.default.errorToMessage(error);\n        }).join(' ');\n        break;\n      case 'String':\n      default:\n        message = error;\n    }\n    return message;\n  };\n\n  // setup Interaces\n  this._setupInterface = function () {\n    var _this2 = this;\n\n    /* PLUBLIC INTERFACE */\n    /* Common methods */\n    _gui2.default.layout = layout;\n    _gui2.default.getSize = function (_ref8) {\n      var element = _ref8.element,\n          what = _ref8.what;\n\n      if (element && what) return _this2.sizes[element][what];\n    };\n    _gui2.default.addComponent = this._addComponent.bind(this);\n    _gui2.default.removeComponent = this._removeComponent.bind(this);\n    /* Metodos to define */\n    _gui2.default.getResourcesUrl = function () {\n      return ApplicationService.getConfig().resourcesurl;\n    };\n    //LIST\n    _gui2.default.showList = _floatbar2.default.showPanel.bind(_floatbar2.default);\n    _gui2.default.closeList = _floatbar2.default.closePanel.bind(_floatbar2.default);\n    _gui2.default.hideList = _floatbar2.default.hidePanel.bind(_floatbar2.default);\n    // TABLE\n    _gui2.default.showTable = function () {};\n    _gui2.default.closeTable = function () {};\n\n    //Function called from DataRouterservice for gui output\n    /**\n     *\n     * @param data\n     * @param options\n     */\n    _gui2.default.outputDataPlace = function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(dataPromise) {\n        var _this3 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var defaultOutputConfig, _options$title, title, _options$show, show, before, after, outputConfig, condition, add, loading, queryResultsService;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // show parameter it used to set condition to show result or not\n                // loading parameter is used to show result content when we are wait the response. Default true otherwise we shoe result content at the end\n                defaultOutputConfig = { condition: true, add: false, loading: true };\n                _options$title = options.title, title = _options$title === undefined ? '' : _options$title, _options$show = options.show, show = _options$show === undefined ? defaultOutputConfig : _options$show, before = options.before, after = options.after;\n                // convert show in an object\n\n                outputConfig = toRawType(show) !== 'Object' ? {\n                  condition: show, // can be Function or Boolean otherwise is set true\n                  add: false,\n                  loading: true\n                } : _extends({}, defaultOutputConfig, show);\n                condition = outputConfig.condition, add = outputConfig.add, loading = outputConfig.loading;\n                //check if waiting output data\n                // in case we stop and substiute with new request data\n\n                _context4.t0 = this.waitingoutputdataplace;\n\n                if (!_context4.t0) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                _context4.next = 8;\n                return this.waitingoutputdataplace.stop();\n\n              case 8:\n                queryResultsService = add ? _gui2.default.getService('queryresults') : loading && this.showContentFactory('query')(title);\n\n                this.waitingoutputdataplace = function () {\n                  var _stop = false;\n                  _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                    var data, showResult, message;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.prev = 0;\n                            _context2.next = 3;\n                            return dataPromise;\n\n                          case 3:\n                            data = _context2.sent;\n                            _context2.t0 = before;\n\n                            if (!_context2.t0) {\n                              _context2.next = 8;\n                              break;\n                            }\n\n                            _context2.next = 8;\n                            return before(data);\n\n                          case 8:\n                            // in case of usermessage show user message\n                            data.usermessage && _gui2.default.showUserMessage({\n                              type: data.usermessage.type,\n                              message: data.usermessage.message,\n                              autoclose: data.usermessage.autoclose\n                            });\n                            if (!_stop) {\n                              // check condition\n                              showResult = toRawType(condition) === 'Function' ? condition(data) : toRawType(condition) === 'Boolean' ? condition : true;\n\n                              if (showResult) {\n                                (queryResultsService ? queryResultsService : _this3.showContentFactory('query')(title)).setQueryResponse(data, {\n                                  add: add\n                                });\n                              } else _gui2.default.closeContent();\n                              // call after is set with data\n                              after && after(data);\n                            }\n                            _context2.next = 17;\n                            break;\n\n                          case 12:\n                            _context2.prev = 12;\n                            _context2.t1 = _context2['catch'](0);\n                            message = _this3.errorToMessage(_context2.t1);\n\n                            _this3.showUserMessage({\n                              type: 'alert',\n                              message: message,\n                              textMessage: true\n                            });\n                            _this3.closeContent();\n\n                          case 17:\n                            _context2.prev = 17;\n\n                            if (!_stop) _this3.waitingoutputdataplace = null;\n                            return _context2.finish(17);\n\n                          case 20:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, _this3, [[0, 12, 17, 20]]);\n                  }))();\n                  return {\n                    stop: function () {\n                      var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                _stop = true;\n\n                              case 1:\n                              case 'end':\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3, _this3);\n                      }));\n\n                      function stop() {\n                        return _ref11.apply(this, arguments);\n                      }\n\n                      return stop;\n                    }()\n                  };\n                }();\n\n              case 10:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x6) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _gui2.default.showContentFactory = function (type) {\n      var showPanelContent = void 0;\n      switch (type) {\n        case 'query':\n          showPanelContent = _gui2.default.showQueryResults;\n          break;\n        case 'form':\n          showPanelContent = _gui2.default.showForm;\n          break;\n      }\n      return showPanelContent;\n    };\n\n    _gui2.default.showForm = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var perc = options.perc,\n          _options$split = options.split,\n          split = _options$split === undefined ? 'h' : _options$split,\n          push = options.push,\n          showgoback = options.showgoback,\n          crumb = options.crumb;\n\n      var FormComponent = require('gui/form/vue/form');\n      // new isnstace every time\n      var formComponent = options.formComponent ? new options.formComponent(options) : new FormComponent(options);\n      //get service\n      var formService = formComponent.getService();\n      // parameters : [content, title, push, perc, split, closable, crumb]\n      _gui2.default.setContent({\n        perc: perc,\n        content: formComponent,\n        split: split,\n        crumb: crumb,\n        push: !!push, //only one( if other delete previous component)\n        showgoback: !!showgoback,\n        closable: false\n      });\n      // return service\n      return formService;\n    };\n    /**\n     *\n     * @param pop remove or not content or pop\n     */\n    _gui2.default.closeForm = function () {\n      var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref12$pop = _ref12.pop,\n          pop = _ref12$pop === undefined ? false : _ref12$pop;\n\n      this.emit('closeform', false);\n      pop ? _gui2.default.popContent() : _viewport2.default.removeContent();\n      // force set modal to false\n      _gui2.default.setModal(false);\n    };\n\n    _gui2.default.disableElement = function (_ref13) {\n      var element = _ref13.element,\n          disable = _ref13.disable;\n\n      disable && $(element).addClass('g3w-disabled') || $(element).removeClass('g3w-disabled');\n    };\n\n    _gui2.default.disableContent = function (disable) {\n      _viewport2.default.disableContent(disable);\n    };\n\n    _gui2.default.disablePanel = function () {\n      var disable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableElement({\n        element: \"#g3w-sidebarpanel-placeholder\",\n        disable: disable\n      });\n    };\n\n    // hide content\n    _gui2.default.hideContent = function (bool, perc) {\n      return _viewport2.default.hideContent(bool, perc);\n    };\n\n    _gui2.default.closeContent = function () {\n      this.emit('closecontent', false);\n      return _viewport2.default.closeContent();\n    };\n\n    _gui2.default.closeOpenSideBarComponent = function () {\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n    };\n\n    // show results info/search\n    _gui2.default.showQueryResults = function (title, results) {\n      var queryResultsComponent = _gui2.default.getComponent('queryresults');\n      var queryResultService = queryResultsComponent.getService();\n      queryResultService.reset();\n      results && queryResultService.setQueryResponse(results);\n      _gui2.default.showContextualContent({\n        content: queryResultsComponent,\n        title: \"info.title\",\n        crumb: {\n          title: \"info.title\",\n          trigger: null\n        },\n        push: _gui2.default.getPushContent(),\n        post_title: title\n      });\n      return queryResultService;\n    };\n    _gui2.default.addNavbarItem = function (item) {\n      _navbaritems2.default.addItem(item);\n    };\n    _gui2.default.removeNavBarItem = function () {};\n    _gui2.default.showPanel = _sidebar2.default.showPanel.bind(_sidebar2.default);\n    _gui2.default.closePanel = _sidebar2.default.closePanel.bind(_sidebar2.default);\n    ///\n    _gui2.default.disableApplication = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationService.disableApplication(bool);\n    };\n\n    //showusermessage\n    _gui2.default.showUserMessage = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _viewport2.default.showUserMessage(options);\n    };\n\n    _gui2.default.closeUserMessage = function () {\n      _viewport2.default.closeUserMessage();\n    };\n    /* ------------------ */\n    _gui2.default.notify = {\n      warning: function warning(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'warning',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      error: function error(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'alert',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      info: function info(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'info',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      success: function success(message) {\n        _gui2.default.showUserMessage({\n          type: 'success',\n          message: message,\n          autoclose: true\n        });\n      }\n    };\n    // proxy  bootbox library\n    _gui2.default.dialog = bootbox;\n    //modal dialog//\n    _gui2.default.showModalDialog = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _gui2.default.dialog.dialog(options);\n    };\n    /* spinner */\n    _gui2.default.showSpinner = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var container = options.container || 'body';\n      var id = options.id || 'loadspinner';\n      var where = options.where || 'prepend'; // append | prepend\n      var style = options.style || '';\n      var transparent = options.transparent ? 'background-color: transparent' : '';\n      var center = options.center ? 'margin: auto' : '';\n      if (!$(\"#\" + id).length) {\n        $(container)[where].call($(container), '<div id=\"' + id + '\" class=\"spinner-wrapper ' + style + '\" style=\"' + transparent + '\"><div class=\"spinner ' + style + '\" style=\"' + center + '\"></div></div>');\n      }\n    };\n    //hide spinner\n    _gui2.default.hideSpinner = function () {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'loadspinner';\n\n      $(\"#\" + id).remove();\n    };\n    /* end spinner*/\n    /* end common methods */\n\n    /*  */\n    // FLOATBAR //\n    _gui2.default.showFloatbar = function () {\n      _floatbar2.default.open();\n    };\n    _gui2.default.hideFloatbar = function () {\n      _floatbar2.default.close();\n    };\n    // SIDEBAR //\n    _gui2.default.showSidebar = this._showSidebar.bind(this);\n    _gui2.default.hideSidebar = this._hideSidebar.bind(this);\n    _gui2.default.isSidebarVisible = this._isSidebarVisible.bind(this);\n\n    // RELOAD COMPONENTS\n    _gui2.default.reloadComponents = function () {\n      ApplicationTemplate.Services.sidebar.reloadComponents();\n    };\n    // MODAL\n    _gui2.default.setModal = this._showModalOverlay.bind(this);\n    _gui2.default.showFullModal = function () {\n      var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref14$element = _ref14.element,\n          element = _ref14$element === undefined ? \"#full-screen-modal\" : _ref14$element,\n          _ref14$show = _ref14.show,\n          show = _ref14$show === undefined ? true : _ref14$show;\n\n      show ? $(element).modal('show') : $(element).modal('hide');\n    };\n\n    _gui2.default.disableSideBar = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      _applicationState2.default.gui.sidebar.disabled = bool;\n    };\n\n    // VIEWPORT //\n    _gui2.default.setPrimaryView = function (viewName) {\n      _viewport2.default.setPrimaryView(viewName);\n    };\n    // only map\n    _gui2.default.showMap = function () {\n      _viewport2.default.showMap();\n    };\n\n    _gui2.default.showContextualMap = function () {\n      var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n      var split = arguments[1];\n\n      _viewport2.default.showContextualMap({\n        perc: perc,\n        split: split\n      });\n    };\n\n    _gui2.default.setContextualMapComponent = function (mapComponent) {\n      _viewport2.default.setContextualMapComponent(mapComponent);\n    };\n\n    _gui2.default.resetContextualMapComponent = function () {\n      _viewport2.default.resetContextualMapComponent();\n    };\n\n    //  (100%) content\n    _gui2.default.showContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _gui2.default.setLoadingContent(false);\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n\n    _gui2.default.showContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n    // add component to stack (append)\n    // Differences between pushContent and setContent are :\n    //  - push every componet is added, set is refreshed\n    //  - pushContent has a new parameter (backonclose) when is clicked x\n    //  - the contentComponet is close all stack is closed\n    _gui2.default.pushContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.push = true;\n      _gui2.default.setContent(options);\n    };\n    // add content to stack\n    _gui2.default.pushContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.pushContent(options);\n    };\n    // remove last content from stack\n    _gui2.default.popContent = function () {\n      _viewport2.default.popContent();\n    };\n    //return number of component of stack\n    _gui2.default.getContentLength = function () {\n      return _viewport2.default.contentLength();\n    };\n\n    _gui2.default.getCurrentContentTitle = function () {\n      return _viewport2.default.getCurrentContentTitle();\n    };\n\n    _gui2.default.getCurrentContentId = function () {\n      return _viewport2.default.getCurrentContentId();\n    };\n\n    /**\n     * change current content title\n     * @param title\n     */\n    _gui2.default.changeCurrentContentTitle = function (title) {\n      _viewport2.default.changeCurrentContentTitle(title);\n    };\n    /**\n     * change current content options\n     * @param options: {title, crumb}\n     */\n    _gui2.default.changeCurrentContentOptions = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _viewport2.default.changeCurrentContentOptions(options);\n    };\n\n    /**\n     * Method to get current content\n     */\n    _gui2.default.getCurrentContent = function () {\n      return _viewport2.default.getCurrentContent();\n    };\n\n    _gui2.default.toggleFullViewContent = function () {\n      _viewport2.default.toggleFullViewContent();\n    };\n\n    _gui2.default.resetToDefaultContentPercentage = function () {\n      _viewport2.default.resetToDefaultContentPercentage();\n    };\n\n    _gui2.default.getProjectMenuDOM = function () {\n      var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          projects = _ref15.projects,\n          host = _ref15.host,\n          cbk = _ref15.cbk;\n\n      var options = {\n        projects: projects && Array.isArray(projects) && projects,\n        cbk: cbk,\n        host: host\n      };\n      var projectVueMenuComponent = new ProjectsMenuComponent(options).getInternalComponent();\n      return projectVueMenuComponent.$mount().$el;\n    };\n\n    _gui2.default.setCloseUserMessageBeforeSetContent = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._closeUserMessageBeforeSetContent = bool;\n    };\n\n    _gui2.default._setContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2._closeUserMessageBeforeSetContent && _gui2.default.closeUserMessage();\n      options.content = options.content || null;\n      options.title = options.title || \"\";\n      options.push = _.isBoolean(options.push) ? options.push : false;\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.split = options.split || 'h';\n      options.backonclose = _.isBoolean(options.backonclose) ? options.backonclose : false;\n      options.showtitle = _.isBoolean(options.showtitle) ? options.showtitle : true;\n      _viewport2.default.showContent(options);\n    };\n\n    _gui2.default.hideClientMenu = function () {\n      ApplicationService.getConfig().user = null;\n    };\n\n    _gui2.default.hideChangeMaps = function () {\n      ApplicationService.getConfig().projects = [];\n    };\n\n    // return specific classes\n    _gui2.default.getTemplateClasses = function () {\n      return BootstrapVersionClasses;\n    };\n\n    _gui2.default.getTemplateClass = function (_ref16) {\n      var element = _ref16.element,\n          type = _ref16.type;\n\n      return BootstrapVersionClasses[element][type];\n    };\n\n    _gui2.default.setLoadingContent = function () {\n      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationTemplate.Services.viewport.setLoadingContent(loading);\n      return loading && new Promise(function (resolve) {\n        setTimeout(resolve, 200);\n      });\n    };\n\n    _gui2.default.openProjectsMenu = function () {\n      var contentsComponent = _gui2.default.getComponent('contents');\n      // check if is projectmenucomponent\n      if (contentsComponent.getComponentById('projectsmenu')) _gui2.default.closeContent();else {\n        if (this.isMobile()) {\n          _gui2.default.hideSidebar();\n          $('#main-navbar.navbar-collapse').removeClass('in');\n        }\n        ApplicationTemplate.Services.sidebar.closeOpenComponents();\n        _gui2.default.setContent({\n          content: new ProjectsMenuComponent(),\n          title: '',\n          perc: 100\n        });\n      }\n    };\n  };\n  base(this);\n};\n\ninherit(ApplicationTemplate, G3WObject);\n\n// Placeholder knowed by application\nApplicationTemplate.PLACEHOLDERS = ['navbar', 'sidebar', 'viewport', 'floatbar'];\n\n// service know by the applications (standard)\nApplicationTemplate.Services = {\n  navbar: null,\n  sidebar: _sidebar2.default,\n  viewport: _viewport2.default,\n  floatbar: null\n};\n\nApplicationTemplate.fail = function (_ref17) {\n  var _ref17$language = _ref17.language,\n      language = _ref17$language === undefined ? 'en' : _ref17$language,\n      error = _ref17.error;\n\n  layout.loading(false);\n  var error_page = {\n    it: {\n      error: error || \"Errore di connessione\",\n      at_moment: \"Al momento non è possibile caricare la mappa\",\n      f5: \"Premi Ctrl+F5\"\n    },\n    en: {\n      error: error || \"Connection error\",\n      at_moment: \"At the moment is not possible show map\",\n      f5: \"Press Ctrl+F5\"\n    }\n  };\n  var compiledTemplate = Vue.compile(require('gui/templates/500.html'));\n  var app = new Vue(_extends({\n    el: '#app'\n  }, compiledTemplate, {\n    data: {\n      messages: error_page[language]\n    }\n  }));\n};\n\n/**\n * Application starting point\n *\n * create the ApplicationTemplate instance passing template interface configuration\n * and the applicationService instance that is useful to work with project API\n */\n_application2.default.init().then(function () {\n  var app = new ApplicationTemplate({ ApplicationService: _application2.default });\n  app.on('ready', function () {\n    return _application2.default.postBootstrap();\n  });\n  app.init();\n}).catch(function (_ref18) {\n  var _ref18$error = _ref18.error,\n      error = _ref18$error === undefined ? null : _ref18$error,\n      language = _ref18.language;\n\n  if (error) {\n    if (error.responseJSON && error.responseJSON.error.data) error = error.responseJSON.error.data;else if (error.statusText) error = error.statusText;\n  }\n  ApplicationTemplate.fail({\n    language: language,\n    error: error\n  });\n});\n\n},{\"../deprecated\":303,\"api\":3,\"app/dev\":1,\"components/App.vue\":191,\"components/Floatbar.vue\":209,\"components/GlobalBarLoader\":214,\"components/GlobalDateTime.vue\":215,\"components/GlobalDivider.vue\":216,\"components/GlobalGallery.vue\":217,\"components/GlobalGeo.vue\":218,\"components/GlobalHelpDiv.vue\":219,\"components/GlobalImage.vue\":220,\"components/GlobalLayerPositions.vue\":221,\"components/GlobalProgressBar\":222,\"components/GlobalRange.vue\":223,\"components/GlobalResize.vue\":224,\"components/GlobalResizeIcon.vue\":225,\"components/GlobalSkeleton.vue\":226,\"components/GlobalTabs.vue\":227,\"components/NavbaritemsLeft.vue\":260,\"components/NavbaritemsRight.vue\":261,\"components/Sidebar.vue\":288,\"components/Viewport.vue\":299,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"directives/v-checked\":305,\"directives/v-disabled\":306,\"directives/v-download\":307,\"directives/v-online\":308,\"directives/v-plugins\":309,\"directives/v-select2\":310,\"directives/v-selected-first\":311,\"directives/v-t\":317,\"directives/v-t-html\":312,\"directives/v-t-placeholder\":313,\"directives/v-t-plugin\":314,\"directives/v-t-title\":315,\"directives/v-t-tooltip\":316,\"gui/catalog/vue/catalog\":110,\"gui/form/vue/form\":119,\"gui/map/vue/map\":154,\"gui/metadata/vue/metadata\":157,\"gui/print/vue/print\":160,\"gui/projectsmenu/projectsmenu\":163,\"gui/querybuilder/querybuilderuifactory\":164,\"gui/queryresults/vue/queryresults\":168,\"gui/search/vue/search\":175,\"gui/templates/500.html\":180,\"gui/tools/vue/tools\":182,\"gui/viewport/contentsviewer\":185,\"gui/wms/vue/wms\":188,\"regenerator-runtime\":\"regenerator-runtime\",\"services/application\":339,\"services/floatbar\":348,\"services/gui\":349,\"services/navbaritems\":353,\"services/sidebar\":357,\"services/viewport\":359,\"store/application-state\":361,\"store/components\":363}],191:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueCookieLaw = require('vue-cookie-law');\n\nvar _vueCookieLaw2 = _interopRequireDefault(_vueCookieLaw);\n\nvar _HeaderItem = require('components/HeaderItem.vue');\n\nvar _HeaderItem2 = _interopRequireDefault(_HeaderItem);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nif (typeof jQuery === \"undefined\") {\n  throw new Error(\"LayoutManager requires jQuery\");\n}\n\n$.LayoutManager = $.LayoutManager || {\n  options: {\n    navbarMenuSlimscroll: true,\n    navbarMenuSlimscrollWidth: \"0px\",\n    navbarMenuHeight: \"200px\",\n    animationSpeed: 'fast',\n\n    sidebarToggleSelector: \"[data-toggle='offcanvas']\",\n\n    sidebarPushMenu: true,\n\n    sidebarSlimScroll: false,\n\n    sidebarExpandOnHover: false,\n\n    enableBoxRefresh: true,\n\n    enableFastclick: true,\n\n    enableControlSidebar: true,\n    controlSidebarOptions: {\n      toggleBtnSelector: \"[data-toggle='control-sidebar']\",\n\n      selector: \".control-sidebar\",\n\n      slide: true\n    },\n\n    enableBoxWidget: true,\n\n    boxWidgetOptions: {\n      boxWidgetIcons: {\n        collapse: 'fa-minus',\n\n        open: 'fa-plus',\n\n        remove: 'fa-times'\n      },\n      boxWidgetSelectors: {\n        remove: '[data-widget=\"remove\"]',\n\n        collapse: '[data-widget=\"collapse\"]'\n      }\n    },\n\n    directChat: {\n      enable: true,\n\n      contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\n    },\n\n    colors: {\n      lightBlue: \"#3c8dbc\",\n      red: \"#f56954\",\n      green: \"#00a65a\",\n      aqua: \"#00c0ef\",\n      yellow: \"#f39c12\",\n      blue: \"#0073b7\",\n      navy: \"#001F3F\",\n      teal: \"#39CCCC\",\n      olive: \"#3D9970\",\n      lime: \"#01FF70\",\n      orange: \"#FF851B\",\n      fuchsia: \"#F012BE\",\n      purple: \"#8E24AA\",\n      maroon: \"#D81B60\",\n      black: \"#222222\",\n      gray: \"#d2d6de\"\n    },\n\n    screenSizes: {\n      xs: 480,\n      sm: 768,\n      md: 992,\n      lg: 1200\n    }\n  },\n\n  _init: function _init() {\n    'use strict';\n\n    $.LayoutManager.layout = {\n      activate: function activate() {\n        var _this = this;\n        _this.fix();\n        _this.fixSidebar();\n        $(window, \".wrapper\").resize(function () {\n          _this.fix();\n          _this.fixSidebar();\n        });\n      },\n      fix: function fix() {\n        var neg = $('.main-header').outerHeight() + $('.main-footer').outerHeight();\n        var window_height = $(window).height();\n        var sidebar_height = $(\".sidebar\").height();\n\n        if ($(\"body\").hasClass(\"fixed\")) {\n          $(\".content-wrapper, .right-side\").css('min-height', window_height - $('.main-footer').outerHeight());\n          $(\".content-wrapper, .right-side\").css('height', window_height - $('.main-footer').outerHeight());\n        } else {\n          var postSetWidth = void 0;\n          if (window_height >= sidebar_height) {\n            $(\".content-wrapper, .right-side\").css('min-height', window_height - neg);\n            postSetWidth = window_height - neg;\n          } else {\n            $(\".content-wrapper, .right-side\").css('min-height', sidebar_height);\n            postSetWidth = sidebar_height;\n          }\n\n          var controlSidebar = $($.LayoutManager.options.controlSidebarOptions.selector);\n          if (typeof controlSidebar !== \"undefined\") {\n            if (controlSidebar.height() > postSetWidth) $(\".content-wrapper, .right-side\").css('min-height', controlSidebar.height());\n          }\n        }\n      },\n      fixSidebar: function fixSidebar() {\n        if (!$(\"body\").hasClass(\"fixed\")) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\".sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n          }\n          return;\n        } else if (typeof $.fn.slimScroll == 'undefined' && window.console) {\n          window.console.error(\"Error: the fixed layout requires the slimscroll plugin!\");\n        }\n\n        if ($.LayoutManager.options.sidebarSlimScroll && !isMobile.any) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\"#g3w-sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n\n            $(\"#g3w-sidebar\").slimScroll({\n              touchScrollStep: 50,\n              height: $(window).height() - $(\".navbar-header\").height() - 10 + \"px\",\n              color: \"rgba(255,255,255,0.7)\",\n              size: \"3px\"\n            });\n          }\n        } else {\n          $(\".sidebar\").css({ 'height': $(window).height() - $(\".navbar-header\").height() + \"px\" });\n          $(\".sidebar\").css('overflow-y', 'auto');\n        }\n      }\n    };\n\n    $.LayoutManager.pushMenu = {\n      activate: function activate(toggleBtn) {\n        var screenSizes = $.LayoutManager.options.screenSizes;\n\n        $(toggleBtn).on('click', function (e) {\n          e.preventDefault();\n\n          if ($(window).width() > screenSizes.sm - 1) {\n            if ($(\"body\").hasClass('sidebar-collapse')) {\n              $(\"body\").removeClass('sidebar-collapse').trigger('expanded.pushMenu');\n            } else {\n              $(\"body\").addClass('sidebar-collapse').trigger('collapsed.pushMenu');\n            }\n          } else {\n              if ($(\"body\").hasClass('sidebar-open')) {\n                $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n              } else {\n                $(\"body\").addClass('sidebar-open').trigger('expanded.pushMenu');\n              }\n            }\n        });\n\n        if ($.LayoutManager.options.sidebarExpandOnHover || $('body').hasClass('fixed') && $('body').hasClass('sidebar-mini')) {\n          this.expandOnHover();\n        }\n      },\n      expandOnHover: function expandOnHover() {\n        var _this = this;\n        var screenWidth = $.LayoutManager.options.screenSizes.sm - 1;\n\n        $('.main-sidebar').hover(function () {\n          if ($('body').hasClass('sidebar-mini') && $(\"body\").hasClass('sidebar-collapse') && $(window).width() > screenWidth) {\n            _this.expand();\n          }\n        }, function () {\n          if ($('body').hasClass('sidebar-mini') && $('body').hasClass('sidebar-expanded-on-hover') && $(window).width() > screenWidth) {\n            _this.collapse();\n          }\n        });\n      },\n      expand: function expand() {\n        $(\"body\").removeClass('sidebar-collapse').addClass('sidebar-expanded-on-hover');\n      },\n      collapse: function collapse() {\n        if ($('body').hasClass('sidebar-expanded-on-hover')) {\n          $('body').removeClass('sidebar-expanded-on-hover').addClass('sidebar-collapse');\n        }\n      }\n    };\n\n    $.LayoutManager.tree = function (menu) {\n      var _this = this;\n      var animationSpeed = $.LayoutManager.options.animationSpeed;\n\n      $(document).on('click', menu + ' li a', function (e) {\n        var $this = $(this);\n\n        var checkElement = $this.next();\n\n        if (checkElement.is('.treeview-menu') && checkElement.is(':visible')) {\n          checkElement.slideUp(animationSpeed, function () {\n            checkElement.parent(\"li.treeview\").removeClass(\"active\");\n            checkElement.removeClass('menu-open');\n          });\n        } else if (checkElement.is('.treeview-menu') && !checkElement.is(':visible')) {\n            var parent = $this.parents('ul').first();\n            var parent_li = $this.parent(\"li\");\n            var li_siblings = parent_li.siblings();\n            var parent_find_active;\n            var sidebar_content_height = parent.height() - parent.find('li.header').outerHeight();\n            var treeviewHeight = parent_li.outerHeight();\n            li_siblings.not('.header').each(function (index, el) {\n              treeviewHeight += $(el).find('a').outerHeight();\n            });\n            var section_height = sidebar_content_height - treeviewHeight;\n\n            var ul = parent.find('ul.treeview-menu:visible').slideUp(animationSpeed);\n\n            ul.removeClass('menu-open');\n\n            checkElement.slideDown(animationSpeed, function () {\n              checkElement.addClass('menu-open');\n              parent_find_active = parent.find('li.treeview.active');\n              parent_find_active.removeClass('active');\n              parent_li.addClass('active');\n\n              _this.layout.fix();\n            });\n          }\n\n        if (checkElement.is('.treeview-menu')) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    $.LayoutManager.floatBar = $.LayoutManager.controlSidebar = {\n      activate: function activate() {\n        var _this = this;\n\n        var o = $.LayoutManager.options.controlSidebarOptions;\n\n        var sidebar = $(o.selector);\n\n        var btn = $(o.toggleBtnSelector);\n\n        btn.on('click', function (e) {\n          e.preventDefault();\n\n          if (!sidebar.hasClass('control-sidebar-open') && !$('body').hasClass('control-sidebar-open')) {\n            _this.open(sidebar, o.slide);\n          } else {\n            _this.close(sidebar, o.slide);\n          }\n        });\n\n        var bg = $(\".control-sidebar-bg\");\n        _this._fix(bg);\n\n        if ($('body').hasClass('fixed')) {\n          _this._fixForFixed(sidebar);\n        } else {\n          if ($('.content-wrapper, .right-side').height() < sidebar.height()) {\n            _this._fixForContent(sidebar);\n          }\n        }\n      },\n      open: function open(sidebar, slide) {\n        if (slide) {\n          sidebar.addClass('control-sidebar-open');\n        } else {\n          $('body').addClass('control-sidebar-open');\n        }\n      },\n      close: function close(sidebar, slide) {\n        if (slide) {\n          sidebar.removeClass('control-sidebar-open');\n        } else {\n          $('body').removeClass('control-sidebar-open');\n        }\n      },\n      _fix: function _fix(sidebar) {\n        var _this = this;\n        if ($(\"body\").hasClass('layout-boxed')) {\n          sidebar.css('position', 'absolute');\n          sidebar.height($(\".wrapper\").height());\n          $(window).resize(function () {\n            _this._fix(sidebar);\n          });\n        } else {\n          sidebar.css({\n            'position': 'fixed',\n            'height': 'auto'\n          });\n        }\n      },\n      _fixForFixed: function _fixForFixed(sidebar) {\n        sidebar.css({\n          'position': 'fixed',\n          'max-height': '100%',\n\n          'padding-bottom': '50px'\n        });\n      },\n      _fixForContent: function _fixForContent(sidebar) {\n        $(\".content-wrapper, .right-side\").css('min-height', sidebar.height());\n      }\n    };\n\n    $.LayoutManager.boxWidget = {\n      selectors: $.LayoutManager.options.boxWidgetOptions.boxWidgetSelectors,\n      icons: $.LayoutManager.options.boxWidgetOptions.boxWidgetIcons,\n      animationSpeed: $.LayoutManager.options.animationSpeed,\n      activate: function activate(_box) {\n        var _this = this;\n        if (!_box) {\n          _box = document;\n        }\n\n        $(_box).on('click', _this.selectors.collapse, function (e) {\n          e.preventDefault();\n          _this.collapse($(this));\n        });\n\n        $(_box).on('click', _this.selectors.remove, function (e) {\n          e.preventDefault();\n          _this.remove($(this));\n        });\n      },\n      collapse: function collapse(element) {\n        var _this = this;\n\n        var box = element.parents(\".box\").first();\n\n        var box_content = box.find(\"> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer\");\n        if (!box.hasClass(\"collapsed-box\")) {\n          element.find(\".btn-collapser\").removeClass(_this.icons.collapse).addClass(_this.icons.open);\n\n          box_content.slideUp(_this.animationSpeed, function () {\n            box.addClass(\"collapsed-box\");\n          });\n        } else {\n          element.find(\".btn-collapser\").removeClass(_this.icons.open).addClass(_this.icons.collapse);\n\n          box_content.slideDown(_this.animationSpeed, function () {\n            box.removeClass(\"collapsed-box\");\n          });\n        }\n      },\n      remove: function remove(element) {\n        var box = element.parents(\".box\").first();\n        box.slideUp(this.animationSpeed);\n      }\n    };\n\n    return $.LayoutManager;\n  },\n\n  addRefreshButton: function addRefreshButton() {\n    \"use strict\";\n\n    $.fn.boxRefresh = function (options) {\n      var settings = $.extend({\n        trigger: \".refresh-btn\",\n\n        source: \"\",\n        onLoadStart: function onLoadStart(box) {\n          return box;\n        },\n        onLoadDone: function onLoadDone(box) {\n          return box;\n        }\n      }, options);\n\n      var overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>');\n\n      return this.each(function () {\n        if (settings.source === \"\") {\n          if (window.console) {\n            window.console.log(\"Please specify a source first - boxRefresh()\");\n          }\n          return;\n        }\n\n        var box = $(this);\n\n        var rBtn = box.find(settings.trigger).first();\n\n        rBtn.on('click', function (e) {\n          e.preventDefault();\n\n          start(box);\n\n          box.find(\".box-body\").load(settings.source, function () {\n            done(box);\n          });\n        });\n      });\n\n      function start(box) {\n        box.append(overlay);\n\n        settings.onLoadStart.call(box);\n      }\n\n      function done(box) {\n        box.find(overlay).remove();\n\n        settings.onLoadDone.call(box);\n      }\n    };\n    return $.LayoutManager;\n  },\n\n  activateBox: function activateBox() {\n    'use strict';\n\n    $.fn.activateBox = function () {\n      $.LayoutManager.boxWidget.activate(this);\n    };\n\n    return $.LayoutManager;\n  },\n\n  listCustomPlugin: function listCustomPlugin() {\n    'use strict';\n\n    $.fn.todolist = function (options) {\n      var settings = $.extend({\n        onCheck: function onCheck(ele) {\n          return ele;\n        },\n        onUncheck: function onUncheck(ele) {\n          return ele;\n        }\n      }, options);\n\n      return this.each(function () {\n\n        if (typeof $.fn.iCheck != 'undefined') {\n          $('input', this).on('ifChecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onCheck.call(ele);\n          });\n\n          $('input', this).on('ifUnchecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onUncheck.call(ele);\n          });\n        } else {\n          $('input', this).on('change', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            if ($('input', ele).is(\":checked\")) {\n              settings.onCheck.call(ele);\n            } else {\n              settings.onUncheck.call(ele);\n            }\n          });\n        }\n      });\n    };\n    return $.LayoutManager;\n  },\n\n  setup: function setup() {\n    \"use strict\";\n\n    $(\"body\").removeClass(\"hold-transition\");\n\n    if (typeof LayoutManagerOptions !== \"undefined\") {\n      $.extend(true, $.LayoutManager.options, LayoutManagerOptions);\n    }\n\n    var o = $.LayoutManager.options;\n\n    $.LayoutManager._init();\n\n    $.LayoutManager.layout.activate();\n\n    $.LayoutManager.tree('.sidebar');\n\n    if (o.enableControlSidebar) {\n      $.LayoutManager.controlSidebar.activate();\n    }\n\n    if (o.navbarMenuSlimscroll && typeof $.fn.slimscroll != 'undefined') {\n      $(\".navbar .menu\").slimscroll({\n        height: o.navbarMenuHeight,\n        alwaysVisible: false,\n        size: o.navbarMenuSlimscrollWidth\n      }).css(\"width\", \"100%\");\n    }\n\n    if (o.sidebarPushMenu) {\n      $.LayoutManager.pushMenu.activate(o.sidebarToggleSelector);\n    }\n\n    if (o.enableBoxWidget) {\n      $.LayoutManager.boxWidget.activate();\n    }\n\n    if (o.enableFastclick && typeof FastClick != 'undefined') {\n      FastClick.attach(document.body);\n    }\n\n    if (o.directChat.enable) {\n      $(document).on('click', o.directChat.contactToggleSelector, function () {\n        var box = $(this).parents('.direct-chat').first();\n        box.toggleClass('direct-chat-contacts-open');\n      });\n    }\n\n    $('.btn-group[data-toggle=\"btn-toggle\"]').each(function () {\n      var group = $(this);\n      $(this).find(\".btn\").on('click', function (e) {\n        group.find(\".btn.active\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n        e.preventDefault();\n      });\n    });\n\n    return $.LayoutManager.addRefreshButton().activateBox().listCustomPlugin();\n  },\n\n  loading: function loading(start) {\n    $('#initerror').remove();\n    start = _.isBoolean(start) ? start : true;\n    if (start) {\n      $('body').append('\\n          <div id=\"startingspinner\">\\n          <div class=\"double-bounce1\"></div>\\n          <div class=\"double-bounce2\"></div>\\n          </div>');\n    } else {\n      $('#startingspinner').remove();\n    }\n  }\n\n};\n\nvar layout = $.LayoutManager;\n\nexports.default = {\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      customcredits: false,\n      appState: _application2.default.getState(),\n      current_custom_modal_content: null,\n      language: null,\n      cookie_law_buttonText: t('cookie_law.buttonText')\n    };\n  },\n\n  components: {\n    HeaderItem: _HeaderItem2.default,\n    CookieLaw: _vueCookieLaw2.default\n  },\n  computed: {\n    app: function app() {\n      return this.appState.gui.app;\n    },\n    languages: function languages() {\n      var languages = Array.isArray(this.appconfig.i18n) && this.appconfig.i18n || [];\n      return languages.length > 1 && languages;\n    },\n    currentProject: function currentProject() {\n      return _projects2.default.getCurrentProject();\n    },\n    appconfig: function appconfig() {\n      return _application2.default.getConfig();\n    },\n    isIframe: function isIframe() {\n      return !!this.appconfig.group.layout.iframe;\n    },\n    urls: function urls() {\n      return this.appconfig.urls;\n    },\n    staticurl: function staticurl() {\n      return this.urls.staticurl;\n    },\n    powered_by: function powered_by() {\n      return this.appconfig.group.powered_by;\n    },\n    clienturl: function clienturl() {\n      return this.urls.clienturl;\n    },\n    g3w_suite_logo: function g3w_suite_logo() {\n      return this.clienturl + 'images/g3wsuite_logo.png';\n    },\n    credits_logo: function credits_logo() {\n      return this.clienturl + 'images/logo_gis3w_156_85.png';\n    },\n    logo_url: function logo_url() {\n      var logo_project_url = this.currentProject.getThumbnail();\n      return logo_project_url ? logo_project_url : '' + this.appconfig.mediaurl + this.appconfig.logo_img;\n    },\n    logo_link: function logo_link() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? logo_link : \"#\";\n    },\n    logo_link_target: function logo_link_target() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? \"_blank\" : \"\";\n    },\n    project_title: function project_title() {\n      return this.currentProject.getState().name;\n    },\n    user: function user() {\n      return this.appconfig.user && this.appconfig.user.username ? this.appconfig.user : null;\n    },\n    login_url: function login_url() {\n      return this.appconfig.user.login_url;\n    },\n    numberOfProjectsInGroup: function numberOfProjectsInGroup() {\n      return this.appconfig.projects.length;\n    },\n    frontendurl: function frontendurl() {\n      return this.urls.frontendurl;\n    },\n    main_title: function main_title() {\n      var main_title = this.appconfig.main_map_title;\n      var group_name = this.appconfig.group.name || this.appconfig.group.slug;\n      return main_title ? main_title + ' - ' + group_name : group_name;\n    }\n  },\n  methods: {\n    templateResultLanguages: function templateResultLanguages(state) {\n      if (!state.id) return state.text;\n      var flagsurl = this.staticurl + 'img/flags';\n      var $state = $('<div style=\"font-weight: bold; display:flex; align-items: center; justify-content: space-around\">\\n            <img src=\"' + flagsurl + '/' + state.element.value.toLowerCase() + '.png\" />\\n            <span style=\"margin-left: 5px;\">' + state.text + '</span> \\n          </span>');\n      return $state;\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var max_width;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.isIframe) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                max_width = this.$refs.navbar_toggle.offsetWidth > 0 ? this.$refs.navbar.offsetWidth - this.$refs.navbar_toggle.offsetWidth : this.$refs.mainnavbar.offsetWidth - this.$refs['app-navbar-nav'].offsetWidth;\n\n                this.$refs.main_title_project_title.style.maxWidth = max_width - this.logoWidth - 15 + 'px';\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    showCustomModalContent: function showCustomModalContent(id) {\n      var _custom_modals$find = this.custom_modals.find(function (custommodal) {\n        return custommodal.id === id;\n      }),\n          content = _custom_modals$find.content;\n\n      this.current_custom_modal_content = content;\n    },\n    closePanel: function closePanel() {\n      sidebarService.closePanel();\n    },\n    getLogoLink: function getLogoLink() {\n      return this.appconfig.logo_link ? this.appconfig.logo_link : null;\n    },\n    openProjectsMenu: function openProjectsMenu() {\n      _gui2.default.openProjectsMenu();\n    }\n  },\n  watch: {\n    'language': function language(_language, currentlanguage) {\n      if (currentlanguage) {\n        _application2.default.changeLanguage(_language);\n        this.cookie_law_buttonText = t('cookie_law.buttonText');\n      }\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n    this.delayTime = 0;\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.language = this.appconfig._i18n.language;\n    this.custom_modals = [];\n    this.custom_header_items_position = {\n      0: [],\n      1: [],\n      2: [],\n      3: [],\n      4: []\n    };\n    this.customlinks = Array.isArray(this.appconfig.header_custom_links) ? this.appconfig.header_custom_links.filter(function (customitem) {\n      if (customitem !== null) {\n        var id = customitem.id = uniqueId();\n        customitem.type === 'modal' && _this2.custom_modals.push({\n          id: id,\n          content: customitem.content\n        });\n        var position = 1 * (customitem.position || 0);\n        position = position > 4 ? 4 : position < 0 || Number.isNaN(position) ? 0 : position;\n        _this2.custom_header_items_position[position].push(customitem);\n        return true;\n      }\n      return false;\n    }) : [];\n\n    !!this.appconfig.credits && $.get(this.appconfig.credits).then(function (credits) {\n      return _this2.customcredits = credits !== 'None' && credits;\n    });\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this3 = this;\n\n      var rightNavBarElements, elementLenght, i, controlsidebarEl, setFloatBarMaxHeight, setModalHeight;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setModalHeight = function setModalHeight() {\n                $('#g3w-modal-overlay').css('height', $(window).height());\n              };\n\n              setFloatBarMaxHeight = function setFloatBarMaxHeight() {\n                $(controlsidebarEl).css('max-height', $(window).innerHeight());\n                $('.g3w-sidebarpanel').css('height', $(window).height() - $(\"#main-navbar\").height());\n              };\n\n              this.logoWidth = 0;\n              _context2.next = 5;\n              return this.$nextTick();\n\n            case 5:\n              rightNavBarElements = !this.isIframe ? this.$refs.mainnavbar.getElementsByTagName('ul') : [];\n              elementLenght = rightNavBarElements.length;\n\n              this.rightNavbarWidth = 15;\n              for (i = 0; i < elementLenght; i++) {\n                this.rightNavbarWidth += rightNavBarElements.item(i).offsetWidth;\n              }\n              this.language = this.appconfig.user.i18n;\n              _context2.next = 12;\n              return this.$nextTick();\n\n            case 12:\n              !this.isIframe && this.$refs.img_logo.addEventListener('load', function () {\n                _this3.logoWidth = _this3.$refs.img_logo.offsetWidth + 15;\n                _this3.resize();\n              }, { once: true });\n\n              layout.loading(false);\n              layout.setup();\n\n              layout.pushMenu.expandOnHover();\n              layout.controlSidebar._fix($(\".control-sidebar-bg\"));\n              layout.controlSidebar._fix($(\".control-sidebar\"));\n              controlsidebarEl = layout.options.controlSidebarOptions.selector;\n\n              setFloatBarMaxHeight();\n\n              $(window).resize(function () {\n                setFloatBarMaxHeight();\n                setModalHeight();\n              });\n\n            case 21:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.app.disabled),expression:\"app.disabled\"}],staticClass:\"wrapper\"},[_c('cookie-law',{attrs:{\"theme\":\"dark-lime\",\"buttonText\":_vm.cookie_law_buttonText}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('cookie_law.message'),expression:\"'cookie_law.message'\"}],attrs:{\"slot\":\"message\"},slot:\"message\"})]),_vm._v(\" \"),(!_vm.isIframe)?_c('header',{staticClass:\"main-header\"},[_c('nav',{ref:\"navbar\",staticClass:\"navbar navbar-inverse navbar-fixed-top\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"navbar-header\"},[_c('button',{ref:\"navbar_toggle\",staticClass:\"navbar-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#main-navbar\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('ellips-v'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),(_vm.isMobile())?_c('a',{staticClass:\"sidebar-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars'),staticStyle:{\"font-size\":\"1.3em\"}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"logo-wrapper\",class:{'mobile': _vm.isMobile()}},[(_vm.logo_url)?_c('a',{staticClass:\"project_logo_link\",attrs:{\"href\":_vm.logo_link,\"target\":_vm.logo_link_target}},[_c('img',{ref:\"img_logo\",staticClass:\"img-responsive\",staticStyle:{\"max-width\":\"250px\"},attrs:{\"src\":_vm.logo_url}})]):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"main_title_project_title\",staticClass:\"project_title_content\"},[_c('div',{staticClass:\"main_title\"},[_vm._v(_vm._s(_vm.main_title))]),_vm._v(\" \"),_c('div',{staticClass:\"sub_title\"},[_vm._v(_vm._s(_vm.project_title))])])])]),_vm._v(\" \"),_c('div',{ref:\"mainnavbar\",staticClass:\"collapse navbar-collapse\",staticStyle:{\"text-align\":\"center\",\"overflow\":\"hidden\",\"max-height\":\"50px\"},attrs:{\"id\":\"main-navbar\"}},[_c('navbarleftitems'),_vm._v(\" \"),_c('navbarrightitems'),_vm._v(\" \"),_c('ul',{ref:\"app-navbar-nav\",staticClass:\"nav navbar-nav navbar-right app-navbar-nav\"},[(!_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{attrs:{\"href\":_vm.login_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-in'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sign_in'),expression:\"'sign_in'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[0]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.numberOfProjectsInGroup > 1)?_c('li',{staticClass:\"dropdown user\",attrs:{\"id\":\"changemaps\"}},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"},on:{\"click\":_vm.openProjectsMenu}},[_c('i',{class:_vm.g3wtemplate.getFontClass('change-map'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('changemap'),expression:\"'changemap'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[1]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('user')}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-xs\"},[_vm._v(_vm._s(_vm.user.username))])]),_vm._v(\" \"),_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"user-header\"},[_c('p',[_vm._v(\"\\n                    \"+_vm._s(_vm.user.first_name)+\" \"+_vm._s(_vm.user.last_name)+\"\\n                  \")])]),_vm._v(\" \"),_c('li',{staticClass:\"user-footer\"},[(_vm.user.admin_url)?_c('div',{staticClass:\"pull-left\"},[_c('a',{staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.admin_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('folder')}),_vm._v(\" Admin\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('logout'),expression:\"'logout'\"}],staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.logout_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-out'),staticStyle:{\"margin-right\":\"2px\"}})])])])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[2]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#credits\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('credits'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Credits\")])])]),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[3]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.languages)?_c('li',{staticClass:\"g3w-languages\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('language'),expression:\"'language'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.language),expression:\"language\"}],staticClass:\"form-control\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"130px\"},attrs:{\"templateSelection\":_vm.templateResultLanguages,\"templateResult\":_vm.templateResultLanguages},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.language=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.languages),function(_language){return _c('option',{key:_language[0],domProps:{\"value\":_language[0],\"selected\":_language[0] === _vm.language && 'selected'}},[_vm._v(\"\\n                  \"+_vm._s(_language[1])+\"\\n                \")])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.frontendurl)?_c('li',{staticClass:\"dropdown\"},[_c('a',{attrs:{\"href\":_vm.frontendurl}},[_c('span',[_c('i',{class:_vm.g3wtemplate.getFontClass('home')}),_vm._v(\" Home\")])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[4]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})})],2)],1)])])]):_vm._e(),_vm._v(\" \"),_c('sidebar'),_vm._v(\" \"),_c('div',{staticClass:\"content-wrapper\",style:({paddingTop: _vm.isIframe ? 0 : null})},[_c('viewport',{attrs:{\"appState\":_vm.appState}})],1),_vm._v(\" \"),_c('floatbar'),_vm._v(\" \"),_c('div',{staticClass:\"control-sidebar-bg\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":\"full-screen-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",\"aria-labelledby\":\"full-screen-modal\",\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"credits\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-around\",\"justify-items\":\"center\",\"align-items\":\"center\"}},[(!!_vm.customcredits)?_c('div',{staticClass:\"customcredits\",domProps:{\"innerHTML\":_vm._s(_vm.customcredits)}}):_vm._e(),_vm._v(\" \"),(_vm.powered_by)?_c('div',[_c('div',{staticClass:\"g3w-credits-block\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteFramework'),expression:\"'credits.g3wSuiteFramework'\"}],staticClass:\"credit-title-logo\",staticStyle:{\"background-color\":\"#95ad36\",\"padding\":\"5px\",\"border-radius\":\"3px\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://g3wsuite.it/\"}},[_c('img',{staticClass:\"g3w-suite-logo\",attrs:{\"src\":_vm.g3w_suite_logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteDescription'),expression:\"'credits.g3wSuiteDescription'\"}],staticStyle:{\"margin-top\":\"10px\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('credits.productOf'),expression:\"'credits.productOf'\",arg:\"pre\"}],staticClass:\"credit-title-logo g3w-credits-block\",staticStyle:{\"font-size\":\"1em\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('a',{staticStyle:{\"text-align\":\"center!important\"},attrs:{\"href\":\"http://www.gis3w.it\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"img-responsive center-block\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"width\":\"60\",\"src\":_vm.credits_logo,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('address',{staticStyle:{\"line-height\":\"1.3\",\"text-align\":\"center\",\"margin-top\":\"5px\",\"display\":\"flex\",\"justify-content\":\"center\"},attrs:{\"id\":\"address-credits\"}},[_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('marker'),staticStyle:{\"color\":\"#95ad36\",\"font-weight\":\"bold\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Montecatini Terme - Italy\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mobile'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  +39 393 8534336\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mail'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('a',{staticStyle:{\"color\":\"#000000\"},attrs:{\"href\":\"mailto:info@gis3w.it\"}},[_vm._v(\" info@gis3w.it\")])])])]):_vm._e()])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"custom_modal\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\",domProps:{\"innerHTML\":_vm._s(_vm.current_custom_modal_content)}})])])],1)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",staticStyle:{\"color\":\"#ffffff\",\"font-weight\":\"bold\",\"opacity\":\"1\",\"position\":\"absolute\",\"right\":\"25px\",\"top\":\"20px\"},attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\n},{\"components/HeaderItem.vue\":229,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"mixins\":331,\"services/application\":339,\"services/gui\":349,\"store/projects\":367,\"vue-cookie-law\":\"vue-cookie-law\"}],192:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  props: {\n    showdata: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      id: 'graphline' + getUniqueDomId(),\n      selectitems: [],\n      data: [],\n      components: [],\n      config: {\n        data: {\n          columns: [['x'], ['y']]\n        }\n      },\n      size: {\n        width: 0,\n        height: 0\n      }\n    };\n  },\n\n  methods: {\n    addComponent: function addComponent(component) {\n      this.components.push(component);\n    },\n    addComponents: function addComponents() {\n      var _this = this;\n\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      components.forEach(function (component) {\n        return _this.addComponent(component);\n      });\n    },\n    setConfig: function setConfig() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.config = config;\n    },\n    setDataOffset: function setDataOffset(offset) {\n      var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var data = this.getData();\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        item.value += offset;\n      }\n      if (render) {\n        this.resize();\n      }\n    },\n    getSelectedItems: function getSelectedItems() {\n      return this.selectitems;\n    },\n    selectItem: function selectItem(id) {\n      this.chart.select(['y'], [id]);\n    },\n    unselectItem: function unselectItem(id) {\n      this.chart.unselect(['y'], [id]);\n    },\n    selectItems: function selectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.select([y], ids);\n    },\n    unselectItems: function unselectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.unselect(['y'], ids);\n    },\n    unselectAll: function unselectAll() {\n      this.chart.unselect();\n    },\n    selectAll: function selectAll() {\n      this.chart.select();\n    },\n    getData: function getData() {\n      return this.data;\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            width = _ref2.width,\n            height = _ref2.height;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.chart.resize({\n                  width: width,\n                  height: height || $('#' + this.id).height() - 4\n                });\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    _setAllowedSpace: function _setAllowedSpace() {\n      if (this.components && this.components.length) this.size.height = document.querySelector('.g3wform_content').offsetHeight - this.$el.offsetHeight - document.querySelector('.g3wform_header').offsetHeight - 50;\n    },\n    _setMaxMin: function _setMaxMin(_ref3) {\n      var value = _ref3.value,\n          max = _ref3.max,\n          min = _ref3.min;\n\n      min = value ? +value : +min;\n      max = value ? +value : +max;\n      if (min < this.chart.axis.min().y) this.chart.axis.min(min);else if (max > this.chart.axis.max().y) this.chart.axis.max(max);else {\n        var dataValues = this.data.map(function (data) {\n          return +data.value;\n        });\n        this.chart.axis.max(Math.max.apply(Math, _toConsumableArray(dataValues)));\n        this.chart.axis.min(Math.min.apply(Math, _toConsumableArray(dataValues)));\n      }\n      this.resize();\n    },\n    changeItems: function changeItems(items) {\n      if (items.length === 1) this._setMaxMin(items[0].value);else {\n        var max = Math.max.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        var min = Math.min.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        this._setMaxMin({\n          max: max,\n          min: min\n        });\n      }\n      this.resize();\n    },\n    changeItem: function changeItem(_ref4) {\n      var item = _ref4.item,\n          _ref4$render = _ref4.render,\n          render = _ref4$render === undefined ? true : _ref4$render;\n\n      var value = item.value;\n      this._setMaxMin({ value: value });\n      if (render) {\n        this.resize();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _gui2.default.on('resize', _this2.resize);\n      var self = _this2;\n      _this2.config.data.onselected = function (evt) {\n        var _temp = [].concat(_toConsumableArray(self.selectitems), [evt]);\n        self.selectitems = _temp;\n      };\n      _this2.config.data.onunselected = function (evt) {\n        self.selectitems = self.selectitems.filter(function (selectitem) {\n          return selectitem.index !== evt.index;\n        });\n      };\n      _this2.chart = c3.generate(_extends({\n        bindto: '#' + _this2.id\n      }, _this2.config));\n      var data = _this2.chart.data()[0] ? _this2.chart.data()[0].values : [];\n      data.forEach(function (item) {\n        _this2.data.push(item);\n      });\n      _this2._setAllowedSpace();\n\n      _this2.$emit('chart-ready', _this2.chart);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.data = this.selectitems = null;\n    this.chart.destroy();\n    this.chart = null;\n    _gui2.default.off('resize', this.resize);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_wrapper\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"min-height\":\"200px\",\"background-color\":\"#ffffff\"},attrs:{\"id\":_vm.id}}),_vm._v(\" \"),_vm._l((_vm.components),function(component){return _c('div',[_c('span',{staticClass:\"divider\"}),_vm._v(\" \"),_c(component,{tag:\"component\",attrs:{\"data\":_vm.data,\"selectitems\":_vm.selectitems,\"size\":_vm.size},on:{\"change-item\":_vm.changeItem,\"change-items\":_vm.changeItems,\"select-item\":_vm.selectItem,\"select-all\":_vm.selectAll,\"unselect-all\":_vm.unselectAll,\"unselect-item\":_vm.unselectItem}})],1)})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"services/gui\":349}],193:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _CatalogChangeMapThemes = require('components/CatalogChangeMapThemes.vue');\n\nvar _CatalogChangeMapThemes2 = _interopRequireDefault(_CatalogChangeMapThemes);\n\nvar _CatalogLayerContextMenu = require('components/CatalogLayerContextMenu.vue');\n\nvar _CatalogLayerContextMenu2 = _interopRequireDefault(_CatalogLayerContextMenu);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar DEFAULT_ACTIVE_TAB = 'layers';\n\nexports.default = {\n  data: function data() {\n    var legend = this.$options.legend;\n    legend.place = _application2.default.getCurrentProject().getLegendPosition() || 'tab';\n    return {\n      state: null,\n      legend: legend,\n      showlegend: false,\n      currentBaseLayer: null,\n      activeTab: null,\n      loading: false\n    };\n  },\n\n  components: {\n    'changemapthemes': _CatalogChangeMapThemes2.default,\n    'cataloglayercontextmenu': _CatalogLayerContextMenu2.default\n  },\n  computed: {\n    showTocTools: function showTocTools() {\n      var _project$state$map_th = this.project.state.map_themes,\n          map_themes = _project$state$map_th === undefined ? [] : _project$state$map_th;\n\n      var show = map_themes.length > 1;\n      return show;\n    },\n    project: function project() {\n      return this.state.prstate.currentProject;\n    },\n    title: function title() {\n      return this.project.state.name;\n    },\n    baselayers: function baselayers() {\n      return this.project.state.baselayers;\n    },\n    hasBaseLayers: function hasBaseLayers() {\n      return this.project.state.baselayers.length > 0;\n    },\n    hasLayers: function hasLayers() {\n      var layerstresslength = 0;\n      this.state.layerstrees.forEach(function (layerstree) {\n        return layerstresslength += layerstree.tree.length;\n      });\n      return this.state.external.vector.length > 0 || layerstresslength > 0 || this.state.layersgroups.length > 0;\n    }\n  },\n  methods: {\n    changeMapTheme: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(map_theme) {\n        var changes, changeStyleLayersId;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.closeContent();\n                _context.next = 3;\n                return this.$options.service.changeMapTheme(map_theme);\n\n              case 3:\n                changes = _context.sent;\n                changeStyleLayersId = Object.keys(changes.layers).filter(function (layerId) {\n                  if (changes.layers[layerId].style) {\n                    if (!changes.layers[layerId].visible) {\n                      var layer = _catalogLayers2.default.getLayerById(layerId);\n\n                      layer.clearCategories();\n                      layer.change();\n                    }\n                    return true;\n                  }\n                });\n\n                this.legend.place === 'tab' ? _catalogeventhub2.default.$emit('layer-change-style') : changeStyleLayersId.forEach(function (layerId) {\n                  _catalogeventhub2.default.$emit('layer-change-style', {\n                    layerId: layerId\n                  });\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changeMapTheme(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return changeMapTheme;\n    }(),\n    delegationClickEventTab: function delegationClickEventTab(evt) {\n      this.activeTab = evt.target.attributes['aria-controls'] ? evt.target.attributes['aria-controls'].value : this.activeTab;\n    },\n    showLegend: function showLegend(bool) {\n      this.showlegend = bool;\n    },\n    setBaseLayer: function setBaseLayer(id) {\n      this.currentBaseLayer = id;\n      this.project.setBaseLayer(id);\n      _application2.default.setBaseLayerId(id);\n    },\n    getSrcBaseLayerImage: function getSrcBaseLayerImage(baseLayer) {\n      var type = baseLayer && baseLayer.servertype || baseLayer;\n      var image = void 0;\n      var customimage = false;\n      switch (type) {\n        case 'OSM':\n          image = 'osm.png';\n          break;\n        case 'Bing':\n          var subtype = baseLayer.source.subtype;\n          image = 'bing' + subtype + '.png';\n          break;\n        case 'TMS':\n        case 'WMTS':\n          if (baseLayer.icon) {\n            customimage = true;\n            image = baseLayer.icon;\n            break;\n          }\n        default:\n          image = 'nobaselayer.png';\n      }\n      return !customimage ? _gui2.default.getResourcesUrl() + 'images/' + image : image;\n    }\n  },\n  watch: {\n    'state.external.wms': function stateExternalWms(newlayers, oldlayers) {\n      if (oldlayers && newlayers.length === 0) {\n        this.activeTab = this.project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n      }\n    },\n\n    'state.prstate.currentProject': {\n      handler: function () {\n        var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(project, oldproject) {\n          var _this = this;\n\n          var activeTab;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  activeTab = project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n\n                  this.loading = activeTab === 'baselayers';\n                  _context2.next = 4;\n                  return this.$nextTick();\n\n                case 4:\n                  setTimeout(function () {\n                    _this.loading = false;\n                    _this.activeTab = activeTab;\n                  }, activeTab === 'baselayers' ? 500 : 0);\n\n                case 5:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function handler(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return handler;\n      }(),\n\n      immediate: false\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layerpositions = _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions();\n    _catalogeventhub2.default.$on('unselectionlayer', function (storeid, layerstree) {\n      if (!layerstree.external) {\n        var layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id);\n        layer.clearSelectionFids();\n      } else {\n        _gui2.default.getService('queryresults').clearSelectionExtenalLayer(layerstree);\n      }\n    });\n\n    _catalogeventhub2.default.$on('activefiltertokenlayer', function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(storeid, layerstree) {\n        var layer;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id);\n                _context3.next = 3;\n                return layer.toggleFilterToken();\n\n              case 3:\n                layerstree.filter.active = _context3.sent;\n\n              case 4:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _catalogeventhub2.default.$on('treenodevisible', function (layer) {\n      var mapservice = _gui2.default.getService('map');\n      mapservice.emit('cataloglayervisible', layer);\n    });\n\n    _catalogeventhub2.default.$on('treenodeselected', function (storeid, node) {\n      var mapservice = _gui2.default.getService('map');\n      var layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(node.id);\n      _catalogLayers2.default.getLayersStore(storeid).selectLayer(node.id, !layer.isSelected());\n\n      mapservice.emit('cataloglayerselected', layer);\n    });\n\n    _mapControls2.default.onafter('registerControl', function (id, control) {\n      if (id === 'querybbox') {\n        control.getInteraction().on('propertychange', function (evt) {\n          if (evt.key === 'active') _this2.state.highlightlayers = !evt.oldValue;\n        });\n      }\n    });\n  },\n  beforeMount: function beforeMount() {\n    this.currentBaseLayer = this.project.state.initbaselayer;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabbable-panel catalog\",attrs:{\"id\":\"catalog\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"tabbable-line\"},[_c('ul',{staticClass:\"nav nav-tabs catalalog-nav-tabs\",attrs:{\"role\":\"tablist\"},on:{\"!click\":function($event){return _vm.delegationClickEventTab($event)}}},[(_vm.hasLayers)?_c('li',{class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('data'),expression:\"'data'\"}],attrs:{\"href\":\"#layers\",\"aria-controls\":\"layers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"tree\"}})]):_vm._e(),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('li',{class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('externalwms'),expression:\"'externalwms'\"}],attrs:{\"href\":\"#externalwms\",\"aria-controls\":\"externalwms\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"externalwms\"}})]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('li',{class:{ active: _vm.activeTab === 'baselayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('baselayers'),expression:\"'baselayers'\"}],attrs:{\"href\":\"#baselayers\",\"aria-controls\":\"baselayers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"baselayers\"}})]):_vm._e(),_vm._v(\" \"),(_vm.legend.place ===  'tab' && _vm.showlegend)?_c('li',{class:{ active: _vm.activeTab === 'legend' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('legend'),expression:\"'legend'\"}],attrs:{\"href\":\"#legend\",\"aria-controls\":\"legend\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"legend\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content catalog-tab-content\"},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"tabpanel\",\"id\":\"layers\"}},[_c('helpdiv',{attrs:{\"message\":\"catalog_items.helptext\"}}),_vm._v(\" \"),(_vm.showTocTools)?_c('div',{staticStyle:{\"margin\":\"2px\"},attrs:{\"id\":\"g3w-catalog-toc-layers-toolbar\"}},[_c('changemapthemes',{key:_vm.project.state.gid,attrs:{\"map_themes\":_vm.project.state.map_themes},on:{\"change-map-theme\":_vm.changeMapTheme}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return _c('ul',{key:_layerstree.storeid,staticClass:\"tree-root root project-root\"},_vm._l((_layerstree.tree),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"highlightlayers\":_vm.state.highlightlayers,\"layerstree\":layerstree,\"parentFolder\":false,\"root\":true,\"legendplace\":_vm.legend.place,\"parent_mutually_exclusive\":false,\"storeid\":_layerstree.storeid}})}),1)}),_vm._v(\" \"),(_vm.state.external.vector.length)?_c('ul',{staticClass:\"g3w-external_layers-group\"},_vm._l((_vm.state.external.vector),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.vector,\"layerstree\":layerstree}})}),1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layersgroups),function(layersgroup){return _c('ul',[_c('layers-group',{attrs:{\"layersgroup\":layersgroup}})],1)})],2),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"tabpanel\",\"id\":\"externalwms\"}},[_c('ul',{staticClass:\"g3w-external_wms_layers-group\"},_vm._l((_vm.state.external.wms),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.wms,\"layerstree\":layerstree}})}),1)]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('div',{staticClass:\"tab-pane baselayers\",class:{ active: _vm.activeTab === 'baselayers' || !_vm.hasLayers },attrs:{\"role\":\"tabpanel\",\"id\":\"baselayers\"}},[_c('ul',{class:{'mobile': _vm.isMobile()},style:({gridTemplateColumns: (\"repeat(auto-fill, minmax(\" + (_vm.baselayers.length > 4 ? 80 : 120) + \"px, 1fr))\")}),attrs:{\"id\":\"baselayers-content\"}},[_vm._l((_vm.baselayers),function(baselayer){return (!baselayer.fixed)?_c('li',{key:baselayer.title},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === baselayer.id ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(baselayer)},on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(baselayer.id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"baseselayer-text text-center\"},[_vm._v(_vm._s(baselayer.title))])]):_vm._e()}),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(null)}}},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === null ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(null)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('nobaselayer'),expression:\"'nobaselayer'\"}],staticClass:\"baseselayer-text text-center\"})])],2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return (_vm.legend.place === 'tab')?_c('layerslegend',{key:_layerstree.id,attrs:{\"legend\":_vm.legend,\"active\":_vm.activeTab === 'legend',\"layerstree\":_layerstree},on:{\"showlegend\":_vm.showLegend}}):_vm._e()})],2)]),_vm._v(\" \"),_c('cataloglayercontextmenu',{attrs:{\"external\":_vm.state.external}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"components/CatalogChangeMapThemes.vue\":194,\"components/CatalogLayerContextMenu.vue\":195,\"gui/catalog/vue/catalogeventhub\":111,\"services/application\":339,\"services/gui\":349,\"store/catalog-layers\":362,\"store/map-controls\":364}],194:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"changemapthemes\",\n  data: function data() {\n    var collapsed = _projects2.default.getCurrentProject().state.toc_themes_init_status === 'collapsed';\n    var current_map_theme = this.map_themes.find(function (map_theme) {\n      return map_theme.default;\n    });\n    return {\n      current_map_theme: current_map_theme ? current_map_theme.theme : null,\n      collapsed: collapsed\n    };\n  },\n\n  props: {\n    map_themes: {\n      type: Array,\n      default: []\n    }\n  },\n  watch: {\n    'current_map_theme': {\n      immediate: false,\n      handler: function handler(map_theme) {\n        this.$emit('change-map-theme', map_theme);\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sidebar-menu\"},[_c('li',{staticClass:\"treeview sidebaritem skin-border-color\",staticStyle:{\"margin-bottom\":\"5px\",\"border-bottom\":\"2px solid\"},attrs:{\"id\":\"g3w-catalog-toc-views\"}},[_c('a',{ref:\"g3w-map-theme-ancor\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"5px 5px 5px 2px\"},attrs:{\"href\":\"#\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('caret-down'),staticStyle:{\"padding\":\"3px\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('eye'),staticStyle:{\"padding\":\"0 0 0 4px\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current_map_theme ),expression:\"current_map_theme \"}],staticClass:\"treeview-label g3w-long-text\",staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"normal\",\"text-overflow\":\"ellipsis\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.catalog.current_map_theme_prefix'),expression:\"'sdk.catalog.current_map_theme_prefix'\",arg:\"pre\"}],staticStyle:{\"color\":\"#cccccc !important\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(_vm._s(_vm.current_map_theme))])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.current_map_theme),expression:\"!current_map_theme\"}],staticClass:\"treeview-label\",staticStyle:{\"color\":\"#cccccc !important\",\"font-weight\":\"bold\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.choose_map_theme'),expression:\"'sdk.catalog.choose_map_theme'\"}]})])]),_vm._v(\" \"),_c('ul',{staticClass:\"treeview-menu\",class:{'menu-open': !_vm.collapsed},style:({display: _vm.collapsed ? 'none' : 'block'}),attrs:{\"id\":\"g3w-catalog-views\"}},[_c('li',{staticStyle:{\"padding\":\"5px 5px 5px 17px\"}},_vm._l((_vm.map_themes),function(map_theme,index){return _c('div',{key:map_theme.theme},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_map_theme),expression:\"current_map_theme\"}],staticClass:\"magic-radio\",attrs:{\"type\":\"radio\",\"name\":\"radio\",\"id\":(\"g3w-map_theme-\" + index)},domProps:{\"value\":map_theme.theme,\"checked\":map_theme.default,\"checked\":_vm._q(_vm.current_map_theme,map_theme.theme)},on:{\"change\":function($event){_vm.current_map_theme=map_theme.theme}}}),_vm._v(\" \"),_c('label',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":(\"g3w-map_theme-\" + index)}},[_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(map_theme.theme))])])])}),0)])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3524e512\"\n\n},{\"store/projects\":367}],195:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-601a8731]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueColor = require('vue-color');\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar shpwrite = require('shp-write');\nvar TableComponent = require('gui/table/vue/table');\n\nvar OFFSETMENU = {\n  top: 50,\n  left: 15\n};\n\nexports.default = {\n  name: 'Cataloglayermenu',\n  props: {\n    external: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      layerMenu: {\n        show: false,\n        top: 0,\n        left: 0,\n        tooltip: false,\n        name: '',\n        layer: null,\n        loading: {\n          data_table: false,\n          shp: false,\n          csv: false,\n          gpx: false,\n          gpkg: false,\n          xls: false\n        },\n\n        colorMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          color: null\n        },\n\n        stylesMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          style: null,\n          default: null\n        },\n\n        metadatainfoMenu: {\n          show: false,\n          top: 0,\n          left: 0\n        }\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome\n  },\n  directives: {\n    'click-outside-layer-menu': {\n      bind: function bind(el, binding, vnode) {\n        this.event = function (event) {\n          !(el === event.target || el.contains(event.target)) && vnode.context[binding.expression](event);\n        };\n\n        document.body.addEventListener('click', this.event);\n      },\n      unbind: function unbind(el) {\n        document.body.removeEventListener('click', this.event);\n      }\n    }\n  },\n  methods: {\n    _hideMenu: function _hideMenu() {\n      this.layerMenu.show = false;\n      this.layerMenu.styles = false;\n      this.layerMenu.loading.data_table = false;\n      this.layerMenu.loading.shp = false;\n      this.layerMenu.loading.csv = false;\n      this.layerMenu.loading.gpx = false;\n      this.layerMenu.loading.gpkg = false;\n      this.layerMenu.loading.xls = false;\n      this.layerMenu.loading.geotiff = false;\n    },\n    closeLayerMenu: function closeLayerMenu() {\n      this._hideMenu();\n      this.showColorMenu(false);\n      this.layerMenu.stylesMenu.show = false;\n    },\n    onbeforeDestroyChangeColor: function onbeforeDestroyChangeColor() {\n      this.$refs.color_picker.$off();\n    },\n    onChangeColor: function onChangeColor(val) {\n      var mapService = _gui2.default.getService('map');\n      this.layerMenu.layer.color = val;\n      var layer = mapService.getLayerByName(this.layerMenu.name);\n      var style = layer.getStyle();\n      style._g3w_options.color = val;\n      layer.setStyle(style);\n    },\n    canShowWmsUrl: function canShowWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer ? !!(!originalLayer.isType('table') && originalLayer.getFullWmsUrl()) : false;\n    },\n    canShowWfsUrl: function canShowWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer && !originalLayer.isType('table') && originalLayer.isWfsActive();\n    },\n    canDownloadXls: function canDownloadXls(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isXlsDownlodable() : false;\n    },\n    canDownloadGpx: function canDownloadGpx(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpxDownlodable() : false;\n    },\n    canDownloadGpkg: function canDownloadGpkg(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpkgDownlodable() : false;\n    },\n    canDownloadCsv: function canDownloadCsv(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isCsvDownlodable() : false;\n    },\n    canDownloadGeoTIFF: function canDownloadGeoTIFF(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGeoTIFFDownlodable() : false;\n    },\n    canDownloadShp: function canDownloadShp(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isShpDownlodable() : false;\n    },\n    getWmsUrl: function getWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWmsUrl();\n    },\n    getWfsUrl: function getWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWfsUrl();\n    },\n    copyUrl: function copyUrl() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          evt = _ref.evt,\n          layerId = _ref.layerId,\n          type = _ref.type;\n\n      var url = this['get' + type + 'Url'](layerId);\n      var ancorEement = document.createElement('a');\n      ancorEement.href = url;\n      var tempInput = document.createElement('input');\n      tempInput.value = ancorEement.href;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      $(evt.target).attr('data-original-title', t('sdk.catalog.menu.wms.copied')).tooltip('show');\n      $(evt.target).attr('title', this.copywmsurltooltip).tooltip('fixTitle');\n      document.body.removeChild(tempInput);\n      ancorEement = null;\n      setTimeout(function () {\n        return _this._hideMenu();\n      }, 600);\n    },\n    downloadGeoTIFF: function downloadGeoTIFF(layerId) {\n      var _this2 = this;\n\n      var map_extent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.geotiff = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGeoTIFF({\n        data: map_extent ? {\n          map_extent: _gui2.default.getService('map').getMapExtent().toString()\n        } : undefined\n      }).catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this2.layerMenu.loading.geotiff = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this2._hideMenu();\n      });\n    },\n    downloadShp: function downloadShp(layerId) {\n      var _this3 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.shp = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getShp().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this3.layerMenu.loading.shp = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this3._hideMenu();\n      });\n    },\n    downloadCsv: function downloadCsv(layerId) {\n      var _this4 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.csv = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getCsv().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this4.layerMenu.loading.csv = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this4._hideMenu();\n      });\n    },\n    downloadXls: function downloadXls(layerId) {\n      var _this5 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.xls = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getXls().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this5.layerMenu.loading.xls = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this5._hideMenu();\n      });\n    },\n    downloadGpx: function downloadGpx(layerId) {\n      var _this6 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpx = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpx().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this6.layerMenu.loading.gpx = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this6._hideMenu();\n      });\n    },\n    downloadGpkg: function downloadGpkg(layerId) {\n      var _this7 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpkg = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpkg().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this7.layerMenu.loading.gpkg = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this7._hideMenu();\n      });\n    },\n    changeLayerMapPosition: function changeLayerMapPosition(_ref2) {\n      var position = _ref2.position,\n          layer = _ref2.layer;\n\n      var mapService = _gui2.default.getService('map');\n      var changed = layer.position !== position;\n      if (changed) {\n        layer.position = position;\n        mapService.changeLayerMapPosition({\n          id: layer.id,\n          position: position\n        });\n        changed && this._hideMenu();\n      }\n    },\n    setWMSOpacity: function setWMSOpacity(_ref3) {\n      var _ref3$id = _ref3.id,\n          id = _ref3$id === undefined ? this.layerMenu.layer.id : _ref3$id,\n          opacity = _ref3.value;\n\n      this.layerMenu.layer.opacity = opacity;\n      var mapService = _gui2.default.getService('map');\n      mapService.changeLayerOpacity({\n        id: id,\n        opacity: opacity\n      });\n    },\n    zoomToLayer: function zoomToLayer() {\n      var bbox = [this.layerMenu.layer.bbox.minx, this.layerMenu.layer.bbox.miny, this.layerMenu.layer.bbox.maxx, this.layerMenu.layer.bbox.maxy];\n      var mapService = _gui2.default.getService('map');\n      mapService.goToBBox(bbox, this.layerMenu.layer.epsg);\n      this._hideMenu();\n    },\n    canZoom: function canZoom(layer) {\n      var canZoom = false;\n      if (layer.bbox) {\n        var bbox = [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy];\n        canZoom = bbox.find(function (coordinate) {\n          return coordinate > 0;\n        });\n      }\n      return canZoom;\n    },\n    getGeometryType: function getGeometryType(layerId) {\n      var external = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var geometryType = void 0;\n      if (external) {\n        var layer = this.external.vector.find(function (layer) {\n          return layer.id === layerId;\n        });\n        if (layer) geometryType = layer.geometryType;\n      } else {\n        var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n        geometryType = originalLayer.config.geometrytype;\n      }\n      geometryType = geometryType && geometryType !== 'NoGeometry' ? geometryType : '';\n      return geometryType;\n    },\n    downloadExternalShapefile: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer) {\n        var EPSG4326, mapService, vectorLayer, GeoJSONFormat, features, GeoJSONFile, name;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                EPSG4326 = 'EPSG:4326';\n\n                this.layerMenu.loading.shp = true;\n                mapService = _gui2.default.getService('map');\n                vectorLayer = mapService.getLayerByName(layer.name);\n                GeoJSONFormat = new ol.format.GeoJSON();\n                features = vectorLayer.getSource().getFeatures();\n\n                if (layer.crs !== EPSG4326) {\n                  features = features.map(function (feature) {\n                    var clonefeature = feature.clone();\n                    clonefeature.getGeometry().transform(layer.crs, EPSG4326);\n                    return clonefeature;\n                  });\n                }\n                GeoJSONFile = GeoJSONFormat.writeFeaturesObject(features, {\n                  featureProjection: EPSG4326\n                });\n                name = layer.name.split('.' + layer.type)[0];\n\n                shpwrite.download(GeoJSONFile, {\n                  folder: name,\n                  types: {\n                    point: name,\n                    mulipoint: name,\n                    polygon: name,\n                    multipolygon: name,\n                    line: name,\n                    polyline: name,\n                    multiline: name\n                  }\n                });\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.layerMenu.loading.shp = false;\n                this._hideMenu();\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function downloadExternalShapefile(_x4) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return downloadExternalShapefile;\n    }(),\n    showAttributeTable: function showAttributeTable(layerId) {\n      var _this8 = this;\n\n      this.layerMenu.loading.data_table = false;\n      _gui2.default.closeContent();\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      this.layerMenu.loading.data_table = true;\n      var tableContent = new TableComponent({\n        layer: layer,\n        formatter: 1\n      });\n      tableContent.on('show', function () {\n        _this8.isMobile() && _gui2.default.hideSidebar();\n        _this8.layerMenu.loading.data_table = false;\n        _this8._hideMenu();\n      });\n      tableContent.show({\n        title: layer.getName()\n      });\n    },\n    startEditing: function startEditing() {\n      var _this9 = this;\n\n      var layer = void 0;\n      var catallogLayersStores = _catalogLayers2.default.getLayersStores();\n      catallogLayersStores.forEach(function (layerStore) {\n        layer = layerStore.getLayerById(_this9.layerMenu.layer.id);\n        if (layer) {\n          layer.getLayerForEditing();\n          return false;\n        }\n      });\n    },\n    setCurrentLayerStyle: function setCurrentLayerStyle(index) {\n      var _this10 = this;\n\n      var changed = false;\n      this.layerMenu.layer.styles.forEach(function (style, idx) {\n        if (idx === index) {\n          _this10.layerMenu.stylesMenu.style = style.name;\n          changed = !style.current;\n          style.current = true;\n        } else style.current = false;\n      });\n      if (changed) {\n        var layerId = this.layerMenu.layer.id;\n        var layer = _catalogLayers2.default.getLayerById(this.layerMenu.layer.id);\n        if (layer) {\n          _catalogeventhub2.default.$emit('layer-change-style', {\n            layerId: layerId\n          });\n          layer.change();\n        }\n      }\n      this.closeLayerMenu();\n    },\n    showStylesMenu: function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(bool, evt) {\n        var elem, contextmenu, menuentry, submenu, height, maxH;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!bool) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                this.layerMenu.stylesMenu.top = elem.offset().top;\n                this.layerMenu.stylesMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                contextmenu = $(this.$refs['layer-menu']);\n                menuentry = $(evt.target);\n                submenu = menuentry.children('ul');\n                height = submenu.height();\n                maxH = contextmenu.height();\n\n                this.layerMenu.stylesMenu.maxHeight = height >= maxH ? maxH : null;\n                this.layerMenu.stylesMenu.overflowY = height >= maxH ? 'scroll' : null;\n                this.layerMenu.stylesMenu.top = (height >= maxH ? contextmenu : menuentry).offset().top;\n                this.layerMenu.stylesMenu.left = this.isMobile() ? 0 : menuentry.offset().left + menuentry.width() + (menuentry.outerWidth() - menuentry.width()) / 2 + OFFSETMENU.left;\n                _context2.next = 15;\n                return this.$nextTick();\n\n              case 15:\n                this.layerMenu.stylesMenu.show = bool;\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function showStylesMenu(_x5, _x6) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return showStylesMenu;\n    }(),\n    showMetadataInfo: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(bool, evt) {\n        var elem;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!bool) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                this.layerMenu.metadatainfoMenu.top = elem.offset().top;\n                this.layerMenu.metadatainfoMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                this.layerMenu.metadatainfoMenu.show = bool;\n\n              case 7:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function showMetadataInfo(_x7, _x8) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return showMetadataInfo;\n    }(),\n    showColorMenu: function showColorMenu(bool, evt) {\n      if (bool) {\n        var elem = $(evt.target);\n        var contextmenu = $(this.$refs['layer-menu']);\n        this.layerMenu.colorMenu.top = contextmenu.offset().top;\n        this.layerMenu.colorMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 - OFFSETMENU.left;\n      }\n      this.layerMenu.colorMenu.show = bool;\n    }\n  },\n  created: function created() {\n    var _this11 = this;\n\n    _catalogeventhub2.default.$on('showmenulayer', function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(layerstree, evt) {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this11._hideMenu();\n                _context4.next = 3;\n                return _this11.$nextTick();\n\n              case 3:\n                _this11.layerMenu.left = evt.x;\n                _this11.layerMenu.name = layerstree.name;\n                _this11.layerMenu.layer = layerstree;\n                _this11.layerMenu.show = true;\n                _this11.layerMenu.colorMenu.color = layerstree.color;\n                _context4.next = 10;\n                return _this11.$nextTick();\n\n              case 10:\n                _this11.layerMenu.top = $(evt.target).offset().top - $(_this11.$refs['layer-menu']).height() + $(evt.target).height() / 2;\n                $('.catalog-menu-wms[data-toggle=\"tooltip\"]').tooltip();\n\n              case 12:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this11);\n      }));\n\n      return function (_x9, _x10) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.layerMenu.show)?_c('ul',{directives:[{name:\"click-outside-layer-menu\",rawName:\"v-click-outside-layer-menu\",value:(_vm.closeLayerMenu),expression:\"closeLayerMenu\"}],ref:\"layer-menu\",style:({top: _vm.layerMenu.top + 'px', left: _vm.layerMenu.left + 'px' }),attrs:{\"id\":\"layer-menu\",\"tabindex\":\"-1\"}},[_c('li',{staticClass:\"title\"},[_c('div',[_vm._v(_vm._s(_vm.layerMenu.layer.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"normal\",\"font-size\":\"0.8em\"}},[_vm._v(_vm._s(_vm.getGeometryType(_vm.layerMenu.layer.id, _vm.layerMenu.layer.external)))])]),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer)?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('layerspositions',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\"},attrs:{\"position\":_vm.layerMenu.layer.position},on:{\"layer-position-change\":function($event){return _vm.changeLayerMapPosition({position:$event, layer: _vm.layerMenu.layer})}}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.metadata && _vm.layerMenu.layer.metadata.abstract)?_c('li',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(false)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(true,  $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('info')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('Metadata'),expression:\"'Metadata'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.metadatainfoMenu.show),expression:\"layerMenu.metadatainfoMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\",\"padding-left\":\"0\",\"border-radius\":\"0 3px 3px 0\"},style:({ top: _vm.layerMenu.metadatainfoMenu.top + 'px', left: ((_vm.layerMenu.metadatainfoMenu.left+1) + \"px\") })},[_c('div',{staticClass:\"layer-menu-metadata-info\",staticStyle:{\"padding\":\"5px\"},domProps:{\"innerHTML\":_vm._s(_vm.layerMenu.layer.metadata.abstract)}})])]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.styles && _vm.layerMenu.layer.styles.length > 1)?_c('li',{staticClass:\"menu-icon\",on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(true,$event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('palette')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.styles'),expression:\"'catalog_items.contextmenu.styles'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.stylesMenu.show),expression:\"layerMenu.stylesMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"padding-left\":\"0\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\"},style:({ top: _vm.layerMenu.stylesMenu.top + 'px', left: ((_vm.layerMenu.stylesMenu.left) + \"px\"), maxHeight: _vm.layerMenu.stylesMenu.maxHeight + 'px', overflowY: _vm.layerMenu.stylesMenu.overflowY })},_vm._l((_vm.layerMenu.layer.styles),function(style,index){return _c('li',{key:style.name,on:{\"click\":function($event){$event.stopPropagation();return _vm.setCurrentLayerStyle(index)}}},[(style.current)?_c('span',{class:_vm.g3wtemplate.getFontClass('circle'),staticStyle:{\"font-size\":\"0.8em\"}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(style.name)+\"\\n          \"),(style.name === _vm.layerMenu.layer.defaultstyle && _vm.layerMenu.layer.styles.length > 1)?_c('span',[_vm._v(\"(\"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('default'),expression:\"'default'\"}]}),_vm._v(\")\")]):_vm._e()])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.canZoom(_vm.layerMenu.layer))?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.zoomToLayer($event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('search')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.zoomtolayer'),expression:\"'catalog_items.contextmenu.zoomtolayer'\"}],staticClass:\"item-text\"})]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.openattributetable)?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showAttributeTable(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.data_table}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('list')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.open_attribute_table'),expression:\"'catalog_items.contextmenu.open_attribute_table'\"}],staticClass:\"item-text\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(true,$event)}}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.vector_color_menu'),expression:\"'catalog_items.contextmenu.vector_color_menu'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),(_vm.layerMenu.colorMenu.show)?_c('ul',{staticStyle:{\"position\":\"fixed\"},style:({ top: _vm.layerMenu.colorMenu.top + 'px', left: _vm.layerMenu.colorMenu.left + 'px' })},[_c('li',{staticStyle:{\"padding\":\"0\"}},[_c('chrome-picker',{ref:\"color_picker\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"hook:beforeDestroy\":_vm.onbeforeDestroyChangeColor,\"input\":_vm.onChangeColor},model:{value:(_vm.layerMenu.colorMenu.color),callback:function ($$v) {_vm.$set(_vm.layerMenu.colorMenu, \"color\", $$v)},expression:\"layerMenu.colorMenu.color\"}})],1)]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadExternalShapefile(_vm.layerMenu.layer)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type === 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.setwmsopacity'),expression:\"'sdk.catalog.menu.setwmsopacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(_vm.layerMenu.layer.opacity))])]),_vm._v(\" \"),_c('range',{attrs:{\"value\":_vm.layerMenu.layer.opacity,\"min\":0,\"max\":1,\"step\":0.1,\"sync\":true},on:{\"changed\":_vm._hideMenu,\"change-range\":_vm.setWMSOpacity}})],1):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff'),expression:\"'sdk.catalog.menu.download.geotiff'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id, true)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff'),staticStyle:{\"color\":\"#777\"}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('crop'),staticStyle:{\"position\":\"absolute\",\"left\":\"-7px\",\"bottom\":\"8px\",\"font-size\":\"1.2em\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff_map_extent'),expression:\"'sdk.catalog.menu.download.geotiff_map_extent'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadShp(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadShp(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpx(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpx(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpx}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpx')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpx'),expression:\"'sdk.catalog.menu.download.gpx'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpkg(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpkg(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpkg}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpkg')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpkg'),expression:\"'sdk.catalog.menu.download.gpkg'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadCsv(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadCsv(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.csv}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('csv')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.csv'),expression:\"'sdk.catalog.menu.download.csv'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadXls(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadXls(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.xls}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('xls')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.xls'),expression:\"'sdk.catalog.menu.download.xls'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canShowWmsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wms'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WMS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWmsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e(),_vm._v(\" \"),(_vm.canShowWfsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wfs'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WFS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWfsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e()]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-601a8731\"\n\n},{\"core/i18n/i18n.service\":14,\"gui/catalog/vue/catalogeventhub\":111,\"gui/table/vue/table\":179,\"services/application\":339,\"services/gui\":349,\"shp-write\":\"shp-write\",\"store/catalog-layers\":362,\"vue-color\":\"vue-color\",\"vueify/lib/insert-css\":2}],196:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer-legend[data-v-de40554c]{padding-left:36px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nexports.default = {\n  name: \"layerlegend\",\n  props: {\n    legendplace: {\n      type: 'String'\n    },\n    layer: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      categories: []\n    };\n  },\n\n  computed: {\n    externallegend: function externallegend() {\n      return this.layer.source.type === 'wms';\n    },\n    legend: function legend() {\n      return this.layer.legend;\n    },\n    show: function show() {\n      return this.layer.expanded && this.layer.visible && (this.legendplace === 'toc' || this.legendplace === 'tab' && this.layer.categories);\n    },\n    showCategoriesCheckBox: function showCategoriesCheckBox() {\n      return this.categories.length > 1;\n    }\n  },\n  methods: {\n    getWmsSourceLayerLegendUrl: function getWmsSourceLayerLegendUrl() {\n      return this.getProjectLayer().getLegendUrl();\n    },\n    getProjectLayer: function getProjectLayer() {\n      return _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    isDisabled: function isDisabled(index) {\n      return this.categories[index].disabled;\n    },\n    showHideLayerCategory: function showHideLayerCategory(index) {\n      var projectLayer = this.getProjectLayer();\n      this.categories[index].checked = !this.categories[index].checked;\n      projectLayer.change();\n      if (this.legendplace === 'tab') _catalogeventhub2.default.$emit('layer-change-categories', this.layer);else if (this.categories[index].checked && this.mapReady) this.setLayerCategories(false);\n    },\n    setError: function setError() {\n      this.legend.error = true;\n      this.legend.loading = false;\n    },\n    urlLoaded: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.legend.loading = false;\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function urlLoaded() {\n        return _ref.apply(this, arguments);\n      }\n\n      return urlLoaded;\n    }(),\n    handlerChangeLegend: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var layerId;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.externallegend) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 2:\n                layerId = options.layerId;\n                _context2.t0 = layerId === this.layer.id;\n\n                if (!_context2.t0) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                _context2.next = 7;\n                return this.setLayerCategories(true);\n\n              case 7:\n                _context2.t1 = this.dynamic;\n\n                if (!_context2.t1) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 11;\n                return this.setLayerCategories(false);\n\n              case 11:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handlerChangeLegend() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return handlerChangeLegend;\n    }(),\n    setLayerCategories: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var projectLayer, categories, legendGraphics, _legendGraphics$nodes, nodes, _categories;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                projectLayer = this.getProjectLayer();\n                categories = projectLayer.getCategories();\n\n                if (!(all && categories)) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                this.categories = categories;\n                _context3.next = 18;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.next = 10;\n                return projectLayer.getLegendGraphic({\n                  all: all\n                });\n\n              case 10:\n                legendGraphics = _context3.sent;\n                _legendGraphics$nodes = legendGraphics.nodes, nodes = _legendGraphics$nodes === undefined ? [] : _legendGraphics$nodes;\n\n                if (all) {\n                  _categories = [];\n\n                  nodes.forEach(function (_ref4) {\n                    var icon = _ref4.icon,\n                        title = _ref4.title,\n                        _ref4$symbols = _ref4.symbols,\n                        symbols = _ref4$symbols === undefined ? [] : _ref4$symbols;\n\n                    if (icon) {\n                      _categories.push({\n                        icon: icon,\n                        title: title,\n                        disabled: false\n                      });\n                    } else {\n                      symbols.forEach(function (symbol) {\n                        symbol._checked = symbol.checked;\n                        symbol.disabled = false;\n                        _categories.push(symbol);\n                      });\n                    }\n                  });\n                  projectLayer.setCategories(_categories);\n                  this.categories = _categories;\n                } else {\n                  projectLayer.setCategories(categories);\n                  this.categories = categories;\n\n                  if (nodes.length) {\n                    nodes.forEach(function (_ref5) {\n                      var icon = _ref5.icon,\n                          title = _ref5.title,\n                          _ref5$symbols = _ref5.symbols,\n                          symbols = _ref5$symbols === undefined ? [] : _ref5$symbols;\n\n                      if (icon) symbols = [{ icon: icon, title: title }];\n                      categories.forEach(function (category) {\n                        var find = symbols.find(function (symbol) {\n                          return symbol.icon === category.icon && symbol.title === category.title;\n                        });\n                        var disabled = typeof category.checked !== \"undefined\" ? category.checked : true;\n                        category.disabled = disabled && !find;\n                      });\n                    });\n                  } else categories.forEach(function (category) {\n                    return category.disabled = typeof category.checked !== \"undefined\" ? category.checked : true;\n                  });\n                }\n                _context3.next = 18;\n                break;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3['catch'](7);\n                this.setError();\n\n              case 18:\n                _context3.next = 23;\n                break;\n\n              case 20:\n                _context3.prev = 20;\n                _context3.t1 = _context3['catch'](0);\n                this.setError();\n              case 23:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 20], [7, 15]]);\n      }));\n\n      function setLayerCategories() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setLayerCategories;\n    }()\n  },\n  watch: {\n    'layer.visible': function layerVisible(visible) {\n      !this.externallegend && visible && this.setLayerCategories(!this.dynamic);\n    }\n  },\n  created: function () {\n    var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n              this.mapReady = false;\n              _catalogeventhub2.default.$on('layer-change-style', this.handlerChangeLegend);\n\n              this.layer.visible && this.setLayerCategories(true).then(function () {\n                var mapService = _gui2.default.getService('map');\n                _this.dynamic && mapService.on('change-map-legend-params', _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n                  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          _this.mapReady = true;\n                          _this.layer.visible && !_this.externallegend && (_this.legendplace === 'toc' || _this.layer.categories) && _this.setLayerCategories(false);\n\n                        case 2:\n                        case 'end':\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4, _this);\n                })));\n              });\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function created() {\n      return _ref6.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _catalogeventhub2.default.$off('layer-change-style', this.handlerChangeLegend);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"layer-legend\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[(_vm.legend)?_c('bar-loader',{attrs:{\"loading\":_vm.legend.loading}}):_vm._e(),_vm._v(\" \"),(_vm.externallegend)?_c('figure',[_c('img',{attrs:{\"src\":_vm.getWmsSourceLayerLegendUrl()}})]):_c('figure',_vm._l((_vm.categories),function(category,index){return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(category.disabled),expression:\"category.disabled\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"width\":\"100%\"}},[(category.ruleKey)?_c('span',{class:_vm.g3wtemplate.getFontClass(category.checked ? 'check': 'uncheck'),staticStyle:{\"padding-right\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showHideLayerCategory(index)}}}):_vm._e(),_vm._v(\" \"),(_vm.legendplace === 'toc')?_c('img',{attrs:{\"src\":category.icon && (\"data:image/png;base64,\" + (category.icon))},on:{\"error\":function($event){return _vm.setError()},\"load\":function($event){return _vm.urlLoaded()}}}):_vm._e(),_vm._v(\" \"),((_vm.legendplace === 'tab' && category.ruleKey) || (_vm.legendplace === 'toc' && _vm.showCategoriesCheckBox))?_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"padding-left\":\"3px\"}},[_vm._v(_vm._s(category.title))]):_vm._e()])}),0)],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-de40554c\"\n\n},{\"core/utils/utils\":68,\"gui/catalog/vue/catalogeventhub\":111,\"services/gui\":349,\"store/catalog-layers\":362,\"store/projects\":367,\"vueify/lib/insert-css\":2}],197:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: {\n    layersgroup: {\n      type: Object\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"border\":\"1px solid #ffffff33\",\"margin\":\"5px\"}},[_c('h4',{staticStyle:{\"margin\":\"5px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layersgroup.title))]),_vm._v(\" \"),_vm._l((_vm.layersgroup.nodes),function(node){return _c('tristate-tree',{staticClass:\"item\",attrs:{\"layerstree\":node}})})],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],198:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['layerstree', 'legend', 'active'],\n  data: function data() {\n    return {};\n  },\n\n  computed: {\n    visiblelayers: function visiblelayers() {\n      var _visiblelayers = [];\n      var layerstree = this.layerstree.tree;\n      var traverse = function traverse(obj) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var layer = _step.value;\n\n            if (!_.isNil(layer.id) && layer.visible && layer.geolayer && !layer.exclude_from_legend) _visiblelayers.push(layer);\n            if (!_.isNil(layer.nodes)) traverse(layer.nodes);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      };\n      traverse(layerstree);\n      return _visiblelayers;\n    }\n  },\n  watch: {\n    'layerstree': {\n      handler: function handler(val, old) {},\n\n      deep: true\n    },\n    'visiblelayers': function visiblelayers(visibleLayers) {\n      var show = !!visibleLayers.length;\n      this.$emit('showlegend', show);\n    }\n  },\n  created: function created() {\n    var show = !!this.visiblelayers.length;\n    this.$emit('showlegend', show);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-pane\",class:{active:_vm.active},attrs:{\"role\":\"tabpanel\",\"id\":\"legend\"}},[_c('layerslegend-items',{attrs:{\"active\":_vm.active,\"legend\":_vm.legend,\"layers\":_vm.visiblelayers}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],199:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    layers: {\n      default: []\n    },\n    legend: {\n      type: Object\n    },\n    active: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      legendurls: []\n    };\n  },\n\n  watch: {\n    layers: {\n      handler: function handler() {\n        this.legendurls = [];\n      },\n\n      immediate: false\n    },\n    active: function active(bool) {\n      if (bool && (this.dynamic || this.legendurls.length === 0)) {\n        this.getLegendSrc(this.layers);\n      }\n    }\n  },\n  methods: {\n    setError: function setError(legendurl) {\n      legendurl.error = true;\n      legendurl.loading = false;\n    },\n    urlLoaded: function urlLoaded(legendurl) {\n      legendurl.loading = false;\n    },\n    getLegendUrl: function getLegendUrl(layer) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var legendurl = void 0;\n      var catalogLayers = _catalogLayers2.default.getLayersStores();\n      catalogLayers.forEach(function (layerStore) {\n        if (layerStore.getLayerById(layer.id)) {\n          legendurl = layerStore.getLayerById(layer.id).getLegendUrl(params);\n          return false;\n        }\n      });\n      return legendurl;\n    },\n    getLegendSrc: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_layers) {\n        var urlMethodsLayersName, self, layers, i, layer, style, urlLayersName, url, _url$split, _url$split2, prefix, layerName, method, _urlLayersName, _url2, legendUrl, legendUrlObject, _loop, _url3;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.active) {\n                  _context.next = 9;\n                  break;\n                }\n\n                urlMethodsLayersName = {\n                  GET: {},\n                  POST: {}\n                };\n                self = this;\n\n                this.legendurls = [];\n                _context.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                layers = _layers.filter(function (layer) {\n                  return layer.geolayer;\n                });\n\n                for (i = 0; i < layers.length; i++) {\n                  layer = layers[i];\n                  style = Array.isArray(layer.styles) && layer.styles.find(function (style) {\n                    return style.current;\n                  });\n                  urlLayersName = layer.source && layer.source.url || layer.external ? urlMethodsLayersName.GET : urlMethodsLayersName[layer.ows_method];\n                  url = '' + this.getLegendUrl(layer, this.legend.config);\n\n                  if (layer.source && layer.source.url) urlLayersName[url] = [];else {\n                    _url$split = url.split('LAYER='), _url$split2 = _slicedToArray(_url$split, 2), prefix = _url$split2[0], layerName = _url$split2[1];\n\n                    if (!urlLayersName[prefix]) urlLayersName[prefix] = [];\n                    urlLayersName[prefix].unshift({\n                      layerName: layerName,\n                      style: style && style.name\n                    });\n                  }\n                }\n                for (method in urlMethodsLayersName) {\n                  _urlLayersName = urlMethodsLayersName[method];\n\n                  if (method === 'GET') for (_url2 in _urlLayersName) {\n                    legendUrl = _urlLayersName[_url2].length ? _url2 + '&LAYER=' + encodeURIComponent(_urlLayersName[_url2].map(function (layerObj) {\n                      return layerObj.layerName;\n                    }).join(',')) + '&STYLES=' + encodeURIComponent(_urlLayersName[_url2].map(function (layerObj) {\n                      return layerObj.style;\n                    }).join(',')) + (_application2.default.getFilterToken() ? '&filtertoken=' + _application2.default.getFilterToken() : '') : _url2;\n                    legendUrlObject = {\n                      loading: true,\n                      url: legendUrl,\n                      error: false\n                    };\n\n                    this.legendurls.push(legendUrlObject);\n                  } else {\n                    _loop = function _loop(_url3) {\n                      var xhr = new XMLHttpRequest();\n\n                      var _url3$split = _url3.split('?'),\n                          _url3$split2 = _slicedToArray(_url3$split, 2),\n                          _url = _url3$split2[0],\n                          params = _url3$split2[1];\n\n                      params = params.split('&');\n                      var econdedParams = [];\n                      params.forEach(function (param) {\n                        var _param$split = param.split('='),\n                            _param$split2 = _slicedToArray(_param$split, 2),\n                            key = _param$split2[0],\n                            value = _param$split2[1];\n\n                        econdedParams.push(key + '=' + encodeURIComponent(value));\n                      });\n                      params = econdedParams.join('&');\n                      params = params + '&LAYERS=' + encodeURIComponent(_urlLayersName[_url3].map(function (layerObj) {\n                        return layerObj.layerName;\n                      }).join(','));\n                      params += '&STYLES=' + encodeURIComponent(_urlLayersName[_url3].map(function (layerObj) {\n                        return layerObj.style;\n                      }).join(','));\n                      params += '' + (_application2.default.getFilterToken() ? '&filtertoken=' + _application2.default.getFilterToken() : '');\n                      var legendUrlObject = {\n                        loading: true,\n                        url: null,\n                        error: false\n                      };\n\n                      xhr.open('POST', _url);\n                      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                      xhr.responseType = 'blob';\n                      self.legendurls.push(legendUrlObject);\n\n                      xhr.onload = function () {\n                        var data = this.response;\n                        if (data !== undefined) legendUrlObject.url = window.URL.createObjectURL(data);\n                        legendUrlObject.loading = false;\n                      };\n                      xhr.onerror = function () {\n                        legendUrlObject.loading = false;\n                      };\n                      xhr.send(params);\n                    };\n\n                    for (_url3 in _urlLayersName) {\n                      _loop(_url3);\n                    }\n                  }\n                }\n\n              case 9:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getLegendSrc(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return getLegendSrc;\n    }()\n  },\n  created: function created() {\n    var _this = this;\n\n    this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n    this.mapReady = false;\n    _catalogeventhub2.default.$on('layer-change-style', function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var layerId = options.layerId;\n\n      var changeLayersLegend = [];\n      if (layerId) {\n        var layer = _this.layers.find(function (layer) {\n          return layerId == layer.id;\n        });\n        layer && changeLayersLegend.push(layer);\n      } else changeLayersLegend = _this.layers;\n      changeLayersLegend.length && _this.getLegendSrc(changeLayersLegend);\n    });\n    _catalogeventhub2.default.$on('layer-change-categories', function (layer) {\n      _this.getLegendSrc(_this.layers);\n    });\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this2 = this;\n\n      var mapService;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              mapService = _gui2.default.getService('map');\n\n              if (this.dynamic) {\n                mapService.on('change-map-legend-params', function () {\n                  _this2.mapReady = true;\n                  _this2.getLegendSrc(_this2.layers);\n                });\n              } else this.mapReady = true;\n\n            case 4:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend-item\"},_vm._l((_vm.legendurls),function(legendurl){return _c('figure',{key:legendurl.url},[_c('bar-loader',{attrs:{\"loading\":legendurl.loading}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!legendurl.loading && !legendurl.error),expression:\"!legendurl.loading && !legendurl.error\"}],attrs:{\"src\":legendurl.url},on:{\"error\":function($event){return _vm.setError(legendurl)},\"load\":function($event){return _vm.urlLoaded(legendurl)}}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1)}),0)}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/catalog/vue/catalogeventhub\":111,\"services/application\":339,\"services/gui\":349,\"store/catalog-layers\":362,\"store/projects\":367}],200:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CatalogLayerLegend = require('components/CatalogLayerLegend.vue');\n\nvar _CatalogLayerLegend2 = _interopRequireDefault(_CatalogLayerLegend);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    downloadFile = _require.downloadFile;\n\nexports.default = {\n  props: ['layerstree', 'storeid', 'legend', 'legendplace', 'highlightlayers', 'parent_mutually_exclusive', 'parentFolder', 'externallayers', 'root', 'parent'],\n  components: {\n    'layerlegend': _CatalogLayerLegend2.default\n  },\n  data: function data() {\n    return {\n      expanded: this.layerstree.expanded,\n      isGroupChecked: true,\n      controltoggled: false,\n      n_childs: null,\n      filtered: false\n    };\n  },\n\n  computed: {\n    showLegendLayer: function showLegendLayer() {\n      return !this.layerstree.exclude_from_legend;\n    },\n    showLayerTocLegend: function showLayerTocLegend() {\n      return !this.isGroup && this.showLegendLayer && this.layerstree.geolayer && this.legendplace === 'toc';\n    },\n    isGroup: function isGroup() {\n      return !!this.layerstree.nodes;\n    },\n    legendlayerposition: function legendlayerposition() {\n      return this.showLegendLayer && this.layerstree.legend ? this.legendplace : 'tab';\n    },\n    showscalevisibilityclass: function showscalevisibilityclass() {\n      return !this.isGroup && this.layerstree.scalebasedvisibility;\n    },\n    showScaleVisibilityToolip: function showScaleVisibilityToolip() {\n      return this.showscalevisibilityclass && this.layerstree.disabled && this.layerstree.checked;\n    },\n    isTable: function isTable() {\n      return !this.isGroup && !this.layerstree.geolayer && !this.layerstree.external;\n    },\n    isHidden: function isHidden() {\n      return this.layerstree.hidden && this.layerstree.hidden === true;\n    },\n    selected: function selected() {\n      this.layerstree.selected = this.layerstree.disabled && this.layerstree.selected ? false : this.layerstree.selected;\n    },\n    isHighLight: function isHighLight() {\n      var id = this.layerstree.id;\n      return this.highlightlayers && !this.isGroup && _catalogLayers2.default.getLayerById(id).getTocHighlightable() && this.layerstree.visible;\n    },\n    isInGrey: function isInGrey() {\n      return !this.isGroup && !this.isTable && !this.layerstree.external && (!this.layerstree.visible || this.layerstree.disabled);\n    }\n  },\n  watch: {\n    'layerstree.disabled': function layerstreeDisabled(bool) {},\n    'layerstree.checked': function layerstreeChecked(n, o) {\n      this.isGroup ? this.handleGroupChecked(this.layerstree) : this.handleLayerChecked(this.layerstree);\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      if (this.isGroup && !this.layerstree.checked) this.handleGroupChecked(this.layerstree);\n      if (this.isGroup && !this.root) {\n        this.layerstree.nodes.forEach(function (node) {\n          if (_this.parent_mutually_exclusive && !_this.layerstree.mutually_exclusive) if (node.id) node.uncheckable = true;\n        });\n      }\n    },\n    handleGroupChecked: function handleGroupChecked(group) {\n      var checked = group.checked,\n          parentGroup = group.parentGroup,\n          nodes = group.nodes;\n\n      var setAllLayersVisible = function setAllLayersVisible(_ref) {\n        var nodes = _ref.nodes,\n            visible = _ref.visible;\n\n        nodes.forEach(function (node) {\n          if (node.id !== undefined) {\n            if (node.parentGroup.checked && node.checked) {\n              var projectLayer = _catalogLayers2.default.getLayerById(node.id);\n              projectLayer.setVisible(visible);\n            }\n          } else setAllLayersVisible({\n            nodes: node.nodes,\n            visible: visible && node.checked\n          });\n        });\n      };\n      if (checked) {\n        var visible = parentGroup ? parentGroup.checked : true;\n        if (parentGroup && parentGroup.mutually_exclusive) {\n          parentGroup.nodes.forEach(function (node) {\n            node.checked = node.groupId === group.groupId;\n            node.checked && setAllLayersVisible({\n              nodes: node.nodes,\n              visible: visible\n            });\n          });\n        } else setAllLayersVisible({\n          nodes: nodes,\n          visible: visible\n        });\n        while (parentGroup) {\n          parentGroup.checked = parentGroup.root || parentGroup.checked;\n          parentGroup = parentGroup.parentGroup;\n        }\n      } else {\n        nodes.forEach(function (node) {\n          if (node.id !== undefined) {\n            if (node.checked) {\n              var projectLayer = _catalogLayers2.default.getLayerById(node.id);\n              projectLayer.setVisible(false);\n            }\n          } else setAllLayersVisible({\n            nodes: node.nodes,\n            visible: false\n          });\n        });\n      }\n    },\n    handleLayerChecked: function handleLayerChecked(layerObject) {\n      var checked = layerObject.checked,\n          id = layerObject.id,\n          disabled = layerObject.disabled,\n          _layerObject$projectL = layerObject.projectLayer,\n          projectLayer = _layerObject$projectL === undefined ? false : _layerObject$projectL,\n          parentGroup = layerObject.parentGroup;\n\n      if (!projectLayer) {\n        var mapService = _gui2.default.getService('map');\n        mapService.changeLayerVisibility({\n          id: id,\n          visible: checked\n        });\n      } else {\n        var layer = _catalogLayers2.default.getLayerById(id);\n        if (checked) {\n          var visible = layer.setVisible(!disabled);\n          visible && this.legendplace === 'toc' && setTimeout(function () {\n            return _catalogeventhub2.default.$emit('layer-change-style', {\n              layerId: id\n            });\n          });\n          if (parentGroup.mutually_exclusive) {\n            parentGroup.nodes.forEach(function (node) {\n              return node.checked = node.id === id;\n            });\n          }\n          while (parentGroup) {\n            parentGroup.checked = true;\n            parentGroup = parentGroup.parentGroup;\n          }\n        } else layer.setVisible(false);\n        _catalogeventhub2.default.$emit('treenodevisible', layer);\n      }\n    },\n    toggleFilterLayer: function toggleFilterLayer() {\n      _catalogeventhub2.default.$emit('activefiltertokenlayer', this.storeid, this.layerstree);\n    },\n    clearSelection: function clearSelection() {\n      _catalogeventhub2.default.$emit('unselectionlayer', this.storeid, this.layerstree);\n    },\n    toggle: function toggle() {\n      this.layerstree.checked = !this.layerstree.checked;\n    },\n    expandCollapse: function expandCollapse() {\n      this.layerstree.expanded = !this.layerstree.expanded;\n    },\n    select: function select() {\n      if (!this.isGroup && !this.layerstree.external && !this.isTable) {\n        _catalogeventhub2.default.$emit('treenodeselected', this.storeid, this.layerstree);\n      }\n    },\n    triClass: function triClass() {\n      return this.layerstree.checked ? this.g3wtemplate.getFontClass('check') : this.g3wtemplate.getFontClass('uncheck');\n    },\n    downloadExternalLayer: function downloadExternalLayer(download) {\n      if (download.file) {\n        downloadFile(download.file);\n      } else if (download.url) {}\n    },\n    removeExternalLayer: function removeExternalLayer(name, type) {\n      var mapService = _gui2.default.getService('map');\n      mapService.removeExternalLayer(name, wms);\n    },\n    showLayerMenu: function showLayerMenu(layerstree, evt) {\n      if (!this.isGroup && (this.layerstree.openattributetable || this.layerstree.downloadable || this.layerstree.geolayer || this.layerstree.external)) {\n        _catalogeventhub2.default.$emit('showmenulayer', layerstree, evt);\n      }\n    }\n  },\n  created: function created() {\n    this.init();\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('span.scalevisibility').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"tree-item\",class:{selected: !_vm.isGroup || !_vm.isTable ? _vm.layerstree.selected : false, itemmarginbottom: !_vm.isGroup,  disabled: _vm.isInGrey, group: _vm.isGroup  },style:({marginLeft: !_vm.isGroup ? '5px' : '0'}),on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showLayerMenu(_vm.layerstree, $event)},\"click\":function($event){$event.preventDefault();return _vm.select($event)}}},[(_vm.isGroup)?_c('span',{staticClass:\"root collapse-expande-collapse-icon\",class:[{bold : _vm.isGroup}, _vm.layerstree.expanded ? _vm.g3wtemplate.getFontClass('caret-down') : _vm.g3wtemplate.getFontClass('caret-right')],staticStyle:{\"padding-right\":\"2px\"},on:{\"click\":_vm.expandCollapse}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('span',{class:[_vm.triClass()],staticStyle:{\"color\":\"#ffffff\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}}):(_vm.isTable)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],class:[_vm.parentFolder ? 'child' : 'root', _vm.g3wtemplate.getFontClass('table')],style:({paddingLeft: !_vm.layerstree.exclude_from_legend && _vm.legendplace === 'toc' ? '17px' : '18px'})}):[(_vm.layerstree.external && _vm.layerstree.removable)?_c('span',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding-left\":\"1px\"},on:{\"click\":function($event){return _vm.removeExternalLayer(_vm.layerstree.name, _vm.layerstree._type)}}}):_vm._e(),_vm._v(\" \"),(_vm.layerstree.external && _vm.layerstree.download)?_c('span',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"color\":\"#ffffff\",\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.downloadExternalLayer(_vm.layerstree.download)}}}):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],staticClass:\"checkbox-layer\",class:_vm.parentFolder ? 'child' : 'root'},[(_vm.legendlayerposition === 'toc' || !_vm.isGroup && _vm.layerstree.categories)?_c('span',{staticClass:\"collapse-expande-collapse-icon\",class:_vm.g3wtemplate.getFontClass(_vm.layerstree.visible && _vm.layerstree.expanded ? 'caret-down' : 'caret-right'),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.expandCollapse($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{class:[_vm.g3wtemplate.getFontClass(_vm.layerstree.checked ? 'check': 'uncheck'), {'toc-added-external-layer':(!_vm.layerstree.legend && _vm.layerstree.external)}],style:({paddingLeft: _vm.legendlayerposition === 'toc' ? '5px' : !_vm.isGroup && _vm.layerstree.categories ? '5px' : (!_vm.layerstree.legend && _vm.layerstree.external) ? '1px' :\n        (_vm.showLayerTocLegend || _vm.layerstree.categories) ? '13px' : '18px'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}})])],_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden || _vm.isGroup),expression:\"!layerstree.hidden || isGroup\"}],staticClass:\"tree-node-title\",class:{disabled: !_vm.layerstree.external && (_vm.layerstree.disabled || (_vm.layerstree.id && !_vm.layerstree.visible)) , bold: _vm.isGroup}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.text\",value:(_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale:\" + (_vm.layerstree.maxscale)) : ''),expression:\"showScaleVisibilityToolip ? `minscale:${layerstree.minscale} - maxscale:${layerstree.maxscale}` : ''\",modifiers:{\"text\":true}}],staticClass:\"skin-tooltip-top g3w-long-text\",class:{highlightlayer: _vm.isHighLight, scalevisibility: _vm.showscalevisibilityclass},attrs:{\"data-placement\":\"top\",\"current-tooltip\":_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale: \" + (_vm.layerstree.maxscale)) : ''}},[_vm._v(\"\\n      \"+_vm._s(_vm.layerstree.title)+\"\\n    \")]),_vm._v(\" \"),((!_vm.isGroup && _vm.layerstree.selection))?_c('div',[(_vm.layerstree.selection.active)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:_vm.g3wtemplate.getFontClass('success'),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.clearSelection($event)}}}):_vm._e(),_vm._v(\" \"),(!_vm.layerstree.external && (_vm.layerstree.selection.active || _vm.layerstree.filter.active))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.layerstree.filter.active ? 'active' : ''],attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.toggleFilterLayer($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.showLayerTocLegend)?_c('layerlegend',{attrs:{\"legendplace\":_vm.legendplace,\"layer\":_vm.layerstree}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerstree.expanded),expression:\"layerstree.expanded\"}],staticClass:\"tree-content-items group\",class:[(\"g3w-lendplace-\" + _vm.legendplace)]},_vm._l((_vm.layerstree.nodes),function(_layerstree){return _c('span',{key:_layerstree.id || _layerstree.groupId},[_c('tristate-tree',{attrs:{\"root\":false,\"legendConfig\":_vm.legend,\"legendplace\":_vm.legendplace,\"highlightlayers\":_vm.highlightlayers,\"parentFolder\":_vm.isGroup,\"layerstree\":_layerstree,\"storeid\":_vm.storeid,\"parent\":_vm.layerstree,\"parent_mutually_exclusive\":!!_vm.layerstree.mutually_exclusive}})],1)}),0):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/CatalogLayerLegend.vue\":196,\"core/utils/utils\":68,\"gui/catalog/vue/catalogeventhub\":111,\"services/gui\":349,\"store/catalog-layers\":362}],201:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field[data-v-3e1ec915]{background-color:transparent!important;padding-top:3px;padding-bottom:3px;display:flex;align-items:center}.value[data-v-3e1ec915]{position:relative}.field div[data-v-3e1ec915]{padding-left:3px;padding-right:3px}.field_value[data-v-3e1ec915]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"field\",\n  props: ['state']\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\",style:({fontSize: _vm.isMobile() && '0.8em'})},[(_vm.state.label)?_c('div',{staticClass:\"col-sm-6  field_label\"},[_vm._t(\"label\",[_vm._v(_vm._s(_vm.state.label))])],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"field_value\",class:[_vm.state.label ? 'col-sm-6' : null ]},[_vm._t(\"field\",[_c('span',{staticStyle:{\"word-wrap\":\"break-word\"},domProps:{\"innerHTML\":_vm._s(_vm.state.value)}})])],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3e1ec915\"\n\n},{\"vueify/lib/insert-css\":2}],202:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar fieldsService = require('gui/fields/fieldsservice');\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"g3w-field\",\n  props: {\n    state: {\n      required: true\n    },\n    feature: {\n      type: Object\n    }\n  },\n  components: _extends({}, Fields),\n  created: function created() {\n    this.type = fieldsService.getType(this.state);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.type,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-92197af4\"\n\n},{\"gui/fields/fields\":116,\"gui/fields/fieldsservice\":117}],203:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-0d97c5ac]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.font['eye-close'] : _vm.g3wtemplate.font['eye']],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0d97c5ac\"\n\n},{\"mixins\":331,\"vueify/lib/insert-css\":2}],204:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-2c267414]{cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nexports.default = {\n  name: \"image\",\n  props: ['state'],\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null,\n      value: this.state.value.mime_type !== undefined ? this.state.value.value : this.state.value\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      return toRawType(value) === 'Object' ? value.photo : value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (toRawType(this.value) === 'Object') this.value.active = true;\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      return this.values.map(function (image) {\n        return { src: _this.getSrc(image) };\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"field\"},slot:\"field\"},[_vm._l((_vm.values),function(value,index){return _c('img',{staticClass:\"img-responsive\",staticStyle:{\"max-height\":\"50px\"},attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})}),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2c267414\"\n\n},{\"components/Field.vue\":201,\"core/utils/utils\":68,\"vueify/lib/insert-css\":2}],205:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_link[data-v-fc346ca2]{max-width:100%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"link\",\n  props: ['state'],\n  data: function data() {\n    return {\n      value: null\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  methods: {\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  created: function created() {\n    this.value = this.state.value && _typeof(this.state.value) === 'object' ? this.state.value.value : this.state.value;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.link_button'),expression:\"'info.link_button'\"}],staticClass:\"btn skin-button field_link\",attrs:{\"slot\":\"field\"},on:{\"click\":function($event){return _vm.openLink(_vm.value)}},slot:\"field\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fc346ca2\"\n\n},{\"components/Field.vue\":201,\"vueify/lib/insert-css\":2}],206:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-media\",\n  mixins: [_mixins.mediaMixin],\n  props: ['state'],\n  computed: {\n    type: function type() {\n      return this.getMediaType(this.state.mime_type).type;\n    },\n    value: function value() {\n      return this.state.value;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"preview\"},[_c('a',{attrs:{\"href\":_vm.value,\"target\":\"_blank\"}},[_c('div',{staticClass:\"previewtype\",class:_vm.type},[_c('i',{staticClass:\"fa-2x\",class:_vm.g3wtemplate.font[_vm.type]})])]),_vm._v(\" \"),_c('div',{staticClass:\"filename\"},[_vm._v(_vm._s(_vm.filename))]),_vm._v(\" \"),_vm._t(\"default\")],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-c44dc002\"\n\n},{\"mixins\":331}],207:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_text_table[data-v-0234e53c]{background-color:transparent!important}.field_text_table .field_label[data-v-0234e53c]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"text\",\n  props: ['state'],\n  components: {\n    Field: _Field2.default\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0234e53c\"\n\n},{\"components/Field.vue\":201,\"vueify/lib/insert-css\":2}],208:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require(\"components/Field.vue\");\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"vuefield\",\n  props: {\n    feature: {\n      type: Object\n    },\n    state: {\n      type: Object,\n      default: {\n        value: null,\n        vueoptions: {\n          component: {}\n        }\n      }\n    }\n  },\n  components: {\n    Field: _Field2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"field\"},slot:\"field\"},[_c(_vm.state.vueoptions.component,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"value\":_vm.state.value}})],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-41d5dd61\"\n\n},{\"components/Field.vue\":201}],209:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _floatbar = require(\"services/floatbar\");\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"Floatbar\",\n  data: function data() {\n    return {\n      stack: _floatbar2.default.stack.state\n    };\n  },\n\n  computed: {\n    panelsinstack: function panelsinstack() {\n      return this.stack.contentsdata.length > 0;\n    },\n    panelname: function panelname() {\n      var name = void 0;\n      if (this.stack.contentsdata.length) {\n        name = this.stack.contentsdata.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    },\n    closable: function closable() {\n      return _floatbar2.default.closable;\n    }\n  },\n  watch: {\n    \"stack.contentsdata\": function stackContentsdata() {\n      var children = $(\"#g3w-floatbarpanel-placeholder\").children();\n      children.forEach(function (child, index) {\n        if (index == children.length - 1) $(child).show();else $(child).hide();\n      });\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _floatbar2.default.closePanel();\n    }\n  }\n\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"control-sidebar control-sidebar-light\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"floatbar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"control-sidebar\",\"role\":\"button\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Expand\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\"},attrs:{\"id\":\"floatbar-spinner\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[(_vm.closable)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-12\"},[_c('button',{staticClass:\"pull-right close-panel-button\",class:_vm.g3wtemplate.getFontClass('close'),on:{\"click\":_vm.closePanel}})])]):_vm._e(),_vm._v(\" \"),(_vm.panelname)?_c('div',[_c('h4',{staticClass:\"g3w-floatbarpanel-name\"},[_vm._v(_vm._s(_vm.panelname))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3w-floatbarpanel-placeholder\",attrs:{\"id\":\"g3w-floatbarpanel-placeholder\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-03e575ec\"\n\n},{\"services/floatbar\":348}],210:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FormHeader = require('components/FormHeader.vue');\n\nvar _FormHeader2 = _interopRequireDefault(_FormHeader);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: {},\n      switchcomponent: false,\n      body: {\n        components: {\n          before: [],\n          after: []\n        }\n      }\n    };\n  },\n\n  components: {\n    g3wformheader: _FormHeader2.default,\n    G3wFormFooter: _FormFooter2.default\n  },\n  transitions: { 'addremovetransition': 'showhide' },\n  methods: {\n    isRootComponent: function isRootComponent(component) {\n      return this.$options.service.isRootComponent(component);\n    },\n    backToRoot: function backToRoot() {\n      this.$options.service.setRootComponent();\n    },\n    handleRelation: function handleRelation(relationId) {\n      this.$options.service.handleRelation(relationId);\n    },\n    disableComponent: function disableComponent(_ref) {\n      var id = _ref.id,\n          _ref$disabled = _ref.disabled,\n          disabled = _ref$disabled === undefined ? false : _ref$disabled;\n\n      this.$options.service.disableComponent({\n        id: id,\n        disabled: disabled\n      });\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$options.service.setCurrentFormPercentage(perc);\n    },\n    switchComponent: function switchComponent(id) {\n      this.switchcomponent = true;\n      this.$options.service.setCurrentComponentById(id);\n    },\n    changeInput: function changeInput(input) {\n      return this.$options.service.changeInput(input);\n    },\n    addToValidate: function addToValidate(input) {\n      this.$options.service.addToValidate(input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$options.service.removeToValidate(input);\n    },\n    reloadLayout: function reloadLayout() {\n      var height = $(this.$el).height();\n      if (!height) return;\n      var footerDOM = $(this.$refs.g3w_form_footer.$el);\n      var bodyFromDOM = $(this.$refs.g3wform_body);\n      var footerHeight = footerDOM.height() ? footerDOM.height() + 50 : 50;\n      var bodyHeight = height - ($(this.$refs.g3wformheader.$el).height() + footerHeight);\n      bodyFromDOM.height(bodyHeight);\n    }\n  },\n  updated: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.switchcomponent && setTimeout(function () {\n                return _this.switchcomponent = false;\n              }, 0);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function updated() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return updated;\n  }(),\n  created: function created() {\n    var _this2 = this;\n\n    this.$options.service.getEventBus().$on('set-main-component', function () {\n      _this2.switchComponent(0);\n    });\n    this.$options.service.getEventBus().$on('component-validation', function (_ref3) {\n      var id = _ref3.id,\n          valid = _ref3.valid;\n\n      _this2.$options.service.setValidComponent({\n        id: id,\n        valid: valid\n      });\n    });\n    this.$options.service.getEventBus().$on('addtovalidate', this.addToValidate);\n    this.$options.service.getEventBus().$on('disable-component', this.disableComponent);\n  },\n  mounted: function mounted() {\n    this.$options.service.isValid();\n    this.$options.service.setReady(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clearAll();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_content\",staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('g3wformheader',{ref:\"g3wformheader\",attrs:{\"currentid\":_vm.state.currentheaderid,\"headers\":_vm.state.headers,\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"resize-form\":_vm.resizeForm,\"clickheader\":_vm.switchComponent}}),_vm._v(\" \"),_c('div',{ref:\"g3wform_body\",staticClass:\"g3wform_body\"},[_vm._l((_vm.body.components.before),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})}),_vm._v(\" \"),_c('keep-alive',[_c(_vm.state.component,{tag:\"component\",attrs:{\"handleRelation\":_vm.handleRelation,\"state\":_vm.state},on:{\"hook:activated\":_vm.reloadLayout,\"addtovalidate\":_vm.addToValidate,\"removetovalidate\":_vm.removeToValidate,\"changeinput\":_vm.changeInput}})],1),_vm._v(\" \"),_vm._l((_vm.body.components.after),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})})],2),_vm._v(\" \"),_c('g3w-form-footer',{ref:\"g3w_form_footer\",attrs:{\"isRootComponent\":_vm.isRootComponent,\"backToRoot\":_vm.backToRoot,\"state\":_vm.state}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/FormFooter.vue\":212,\"components/FormHeader.vue\":213}],211:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = Vue.extend({\n  props: ['state', 'handleRelation'],\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  components: {\n    G3wFormInputs: _InputG3WFormInputs2.default\n  },\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.$emit('addtovalidate', input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$emit('removetovalidate', input);\n    },\n    changeInput: function changeInput(input) {\n      this.$emit('changeinput', input);\n    }\n  },\n  computed: {\n    hasFormStructure: function hasFormStructure() {\n      return !!this.state.formstructure;\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[(_vm.hasFormStructure)?[_c('tabs',{attrs:{\"layerid\":_vm.state.layerid,\"feature\":_vm.state.feature,\"handleRelation\":_vm.handleRelation,\"contenttype\":'editing',\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput,\"removeToValidate\":_vm.removeToValidate,\"tabs\":_vm.state.formstructure,\"fields\":_vm.state.fields}})]:[_c('g3w-form-inputs',{attrs:{\"state\":_vm.state,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})]],2)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/InputG3WFormInputs.vue\":236}],212:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = Vue.extend({\n  props: {\n    state: {\n      type: Object\n    },\n    backToRoot: {\n      type: Function,\n      default: function _default() {}\n    },\n    isRootComponent: {\n      type: Function\n    }\n  },\n  data: function data() {\n    this.originalbuttons = this.state.buttons.map(function (button) {\n      return _extends({}, button);\n    });\n    return {\n      id: \"footer\",\n      active: true,\n      show: true\n    };\n  },\n\n  computed: {\n    enableSave: function enableSave() {\n      return this.state.valid && this.state.update;\n    }\n  },\n  methods: {\n    exec: function exec(cbk) {\n      cbk instanceof Function ? cbk(this.state.fields) : function () {\n        return this.state.fields;\n      }();\n    },\n    btnEnabled: function btnEnabled(button) {\n      var _button$enabled = button.enabled,\n          enabled = _button$enabled === undefined ? true : _button$enabled,\n          type = button.type;\n\n      return enabled && (type !== 'save' || type === 'save' && this.enableSave);\n    },\n    isValid: function isValid() {\n      return this.state.valid;\n    }\n  },\n  watch: {\n    'state.component': function stateComponent(component) {\n      this.show = this.isRootComponent(component);\n    },\n\n    'state.update': {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.state.buttons.find(function (button, index) {\n          if (button.eventButtons && button.eventButtons.update) {\n            if (button.eventButtons.update[value]) {\n              _this.state.buttons.splice(index, 1, _extends({}, button, button.eventButtons.update[value]));\n            } else _this.state.buttons.splice(index, 1, _this.originalbuttons[index]);\n          }\n        });\n      }\n    }\n  },\n  activated: function activated() {\n    this.active = true;\n  },\n  deactivated: function deactivated() {\n    this.active = false;\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group g3wform_footer\"},[(_vm.show)?[_vm._t(\"default\",[_c('div',{staticStyle:{\"margin\":\"3px\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n        * \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}]}),_vm._v(\" \"),(_vm.state.footer.message)?_c('div',{style:([_vm.state.footer.style])},[_vm._v(_vm._s(_vm.state.footer.message))]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.state.buttons),function(button){return _c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.btnEnabled(button)),expression:\"!btnEnabled(button)\"},{name:\"t\",rawName:\"v-t\",value:(button.title),expression:\"button.title\"}],key:button.id,staticClass:\"btn \",class:[button.class],attrs:{\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exec(button.cbk)}}})})])]:[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}],staticClass:\"btn skin-button\",on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"prevet\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.backToRoot($event)}}})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],213:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Vue.extend({\n  props: {\n    headers: {\n      type: Array,\n      default: []\n    },\n    currentid: {\n      type: 'String'\n    },\n    update: {\n      type: Boolean\n    },\n    valid: {\n      type: Boolean\n    }\n  },\n  methods: {\n    click: function click(id) {\n      if (this.currentid !== id) this.$emit('clickheader', id);\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$emit('resize-form', perc);\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_header box-header with-border\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('section',{staticClass:\"g3wform_header_content\"},_vm._l((_vm.headers),function(header){return _c('span',{key:header.id,staticClass:\"title\",class:[{item_selected: _vm.currentid === header.id && _vm.headers.length > 1},[_vm.headers.length > 1 ? 'tabs' : 'one' ]],staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},style:({fontSize: _vm.isMobile() && '1em !important'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.click(header.id)}}},[(header.icon)?_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{class:header.icon})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:(header.title),expression:\"header.title\",arg:\"pre\"}],staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(header.name))]),_vm._v(\" \"),_c(header.component,{tag:\"component\",attrs:{\"valid\":_vm.valid,\"update\":_vm.update}})],1)}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{}],214:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"bar-loader\",\n  props: ['loading', 'color'],\n  render: function render(createElement) {\n    if (this.loading) {\n      return createElement('div', {\n        style: {\n          backgroundColor: this.color || '#FFFFFF',\n          border: 0\n        },\n        class: {\n          \"bar-loader\": true\n        }\n      });\n    }\n  }\n};\n\n},{}],215:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"datetime\",\n  props: {\n    type: {\n      type: String,\n      default: 'date' },\n    format: {\n      type: String,\n      default: 'YYYY-MM-DD'\n    },\n    minDate: {\n      default: false\n    },\n    maxDate: {\n      default: false\n    },\n    enabledDates: {\n      default: false\n    },\n    value: {},\n    label: {\n      default: 'Date'\n    }\n  },\n  data: function data() {\n    return {\n      datetimevalue: this.value\n    };\n  },\n\n  methods: {\n    changeInput: function changeInput(evt) {},\n    change: function change(value) {\n      var date = moment(value).format(this.format);\n      this.$emit('change', date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.datetimeinputelement = $(this.$refs.iddatetimepicker);\n              this.datetimeinputelement.datetimepicker({\n                minDate: this.minDate,\n                maxDate: this.maxDate,\n                defaultDate: this.datetimevalue,\n                useCurrent: false,\n                allowInputToggle: true,\n                enabledDates: this.enabledDates,\n                showClose: true,\n                format: this.format,\n                locale: _applicationState2.default.language,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  horizontal: 'right'\n                }\n              });\n              this.datetimeinputelement.on(\"dp.change\", function (_ref2) {\n                var date = _ref2.date;\n\n                _this.change(date);\n              });\n              this.datetimeinputelement.on(\"dp.hide\", function (evt) {});\n              _applicationState2.default.ismobile && setTimeout(function () {\n                return datetimeinputelement.blur();\n              });\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    value: function value(datetime) {\n      this.datetimevalue = datetime;\n      this.datetimeinputelement.data(\"DateTimePicker\").date(datetime);\n    },\n    minDate: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(mindatetime) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").minDate(mindatetime);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function minDate(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return minDate;\n    }(),\n    maxDate: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(maxdatetime) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").maxDate(maxdatetime);\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function maxDate(_x2) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return maxDate;\n    }(),\n    enabledDates: function enabledDates(dates) {\n      this.datetimeinputelement.data(\"DateTimePicker\").enabledDates(dates);\n    }\n  },\n  created: function created() {\n    this.id = getUniqueDomId();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"datimecontainer\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('div',{ref:\"iddatetimepicker\",staticClass:\"input-group date\"},[_c('input',{ref:\"idinputdatetimepiker\",staticClass:\"form-control\",attrs:{\"id\":_vm.id,\"type\":\"text\"},on:{\"change\":_vm.changeInput}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{staticClass:\"datetimeinput\",class:[_vm.type === 'time'? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-63ff8e5a\"\n\n},{\"core/utils/utils\":68,\"store/application-state\":361}],216:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".divider[data-v-2417f111]{display:block;position:relative;padding:0;margin-bottom:5px;height:0;width:100%;max-height:0;font-size:1px;line-height:0;clear:both;border:none;border-bottom:2px solid #eee}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"divider\"\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"divider\"})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2417f111\"\n\n},{\"vueify/lib/insert-css\":2}],217:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".modal-content[data-v-0e2cde6c]{background:hsla(0,0%,100%,.6);border-radius:3px}.modal-dialog[data-v-0e2cde6c]{display:inline-block;text-align:left;vertical-align:middle}.modal[data-v-0e2cde6c]{text-align:center;padding:0!important}.modal[data-v-0e2cde6c]:before{content:\\\"\\\";display:inline-block;height:100%;vertical-align:middle;margin-right:-4px}.carousel .carousel-control span[data-v-0e2cde6c]{color:#3c8dbc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-images-gallery\",\n  props: {\n    images: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String,\n      default: 'gallery'\n    },\n    active: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      carouselId: 'carousel_' + Date.now()\n    };\n  },\n\n  methods: {\n    isActive: function isActive(src) {\n      return src === active;\n    },\n    isRelativePath: function isRelativePath(url) {\n      if (!_.startsWith(url, '/') && !_.startsWith(url, 'http')) {\n        return _projects2.default.getConfig().mediaurl + url;\n      }\n      return url;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"carousel slide\",attrs:{\"id\":_vm.carouselId,\"data-interval\":\"false\"}},[_c('div',{staticClass:\"carousel-inner\"},_vm._l((_vm.images),function(image,index){return _c('div',{staticClass:\"item\",class:_vm.active == index ? 'active' : ''},[_c('img',{staticStyle:{\"margin\":\"auto\"},attrs:{\"src\":_vm.isRelativePath(image.src)}})])}),0),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"left carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"prev\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"right carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"next\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0e2cde6c\"\n\n},{\"store/projects\":367,\"vueify/lib/insert-css\":2}],218:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-11a0fd6e]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.getFontClass('eye-close') : _vm.g3wtemplate.getFontClass('eye')],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-11a0fd6e\"\n\n},{\"mixins\":331,\"vueify/lib/insert-css\":2}],219:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".help_div_container[data-v-1d453408]{color:#fff;text-align:justify;position:relative;border-radius:3px;margin:5px 2px;white-space:pre-line;background-color:#384246!important}.help_icon[data-v-1d453408]{text-align:center;font-size:.7em;margin-top:-4px;margin-left:-4px;background-color:#222d32;font-weight:700;color:#fff;position:absolute;top:0;left:0;width:15px;height:15px;box-shadow:0 3px 5px rgba(0,0,0,.5);border:1px solid #fff;border-radius:50%}.g3w-help-message-content[data-v-1d453408]{max-height:200px;padding:10px;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"helpdiv\",\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'info' }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"help_div_container\"},[_c('span',{staticClass:\"help_icon\"},[_vm._v(\"i\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"g3w-help-message-content\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1d453408\"\n\n},{\"vueify/lib/insert-css\":2}],220:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-66f7e35a]{cursor:pointer}.g3w-image[data-v-66f7e35a]{padding-left:0!important;min-width:100px;max-width:100%;cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-image\",\n  props: {\n    value: {}\n  },\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null\n    };\n  },\n\n  components: {\n    'g3w-images-gallery': _GlobalGallery2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n        return value.photo;\n      }\n      return value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (_typeof(this.value) === 'object') {\n        this.value.active = true;\n      }\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      var images = [];\n      this.values.forEach(function (image) {\n        images.push({\n          src: _this.getSrc(image)\n        });\n      });\n      return images;\n    }\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.values),function(value,index){return _c('div',{staticClass:\"g3w-image col-md-6 col-sm-12\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})])}),0),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-66f7e35a\"\n\n},{\"components/GlobalGallery.vue\":217,\"vueify/lib/insert-css\":2}],221:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-layer-positions[data-v-4b2d4451]{display:flex;flex-direction:column;margin:5px 0}.g3w-layer-positions-info-message[data-v-4b2d4451]{margin-bottom:5px;font-weight:700}.g3w-layer-positions-checkboxes[data-v-4b2d4451]{display:flex;justify-content:space-between}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"layerspositions\",\n  props: {\n    position: {\n      type: String,\n      default: _constant.MAP_SETTINGS.LAYER_POSITIONS.default\n    }\n  },\n  data: function data() {\n    return {\n      layerpositions: _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions()\n    };\n  },\n\n  methods: {\n    change: function change() {\n      this.$emit('layer-position-change', this.position);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.ids = {\n      layerpositions: getUniqueDomId()\n    };\n    this.layerpositions.forEach(function (layerposition) {\n      return _this.ids[layerposition] = getUniqueDomId();\n    });\n    this.change();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-layer-positions\",attrs:{\"id\":_vm.ids.layerpositions}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(\"layer_position.message\"),expression:\"`layer_position.message`\"}],staticClass:\"g3w-layer-positions-info-message\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-layer-positions-checkboxes\"},_vm._l((_vm.layerpositions),function(layerposition){return _c('div',{key:layerposition},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],staticClass:\"form-control magic-radio\",attrs:{\"type\":\"radio\",\"id\":_vm.ids[layerposition]},domProps:{\"value\":layerposition,\"checked\":_vm.position === layerposition,\"checked\":_vm._q(_vm.position,layerposition)},on:{\"change\":[function($event){_vm.position=layerposition},_vm.change]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"layer_position.\" + layerposition)),expression:\"`layer_position.${layerposition}`\"}],attrs:{\"for\":_vm.ids[layerposition]}})])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4b2d4451\"\n\n},{\"app/constant\":5,\"core/utils/utils\":68,\"vueify/lib/insert-css\":2}],222:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"progressbar\",\n  props: ['progress'],\n  render: function render(createElement) {\n    if (this.progress !== null && this.progress !== undefined) {\n      return createElement('div', {\n        style: {\n          margin: '5px 0 5px 0',\n          width: '100%',\n          backgroundColor: '#FFFFFF',\n          border: 0,\n          borderRadius: '3px'\n        }\n      }, [createElement('div', {\n        style: {\n          width: (this.progress < 10 ? 10 : this.progress) + '%',\n          display: 'flex',\n          justifyContent: 'center',\n          fontWeight: 'bold'\n        },\n        class: {\n          'skin-background-color': true\n        }\n      }, [createElement('span', this.progress + '%')])]);\n    }\n  }\n};\n\n},{}],223:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"range\",\n  props: {\n    id: {\n      required: true\n    },\n    label: {\n      type: \"String\",\n      default: ''\n    },\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 10\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    labelValue: {},\n    value: {\n      default: 0\n    },\n    sync: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    changeBackGround: function changeBackGround(value) {\n      this.$refs['range-input'].style.backgroundSize = (value ? (value - this.min) * 100 / (this.max - this.min) : 0) + \"% 100%\";\n    },\n    setValue: function setValue(value) {\n      this.changedValue(value);\n    },\n    change: function change(evt) {\n      var value = 1 * evt.target.value;\n      this.changedValue(value);\n    },\n    emitChangeValue: function emitChangeValue(value) {\n      this.value = value;\n      this.$emit('change-range', {\n        id: this.id,\n        value: value\n      });\n    }\n  },\n  watch: {\n    value: function value(_value) {\n      this.changeBackGround(_value);\n      this.sync && this.emitChangeValue(_value);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.changedValue = this.sync ? function () {\n      return _this.$emit('changed');\n    } : debounce(function (value) {\n      _this.emitChangeValue(value);\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.changeBackGround(this.value);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"range-input\",attrs:{\"id\":_vm.id,\"type\":\"range\",\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step},domProps:{\"value\":(_vm.value)},on:{\"change\":_vm.change,\"__r\":function($event){_vm.value=$event.target.value}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-57e24596\"\n\n},{\"core/utils/utils\":68}],224:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"g3w-resize\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    orientation: {\n      type: String,\n      required: true,\n      default: 'h'\n    },\n    where: {\n      type: 'string',\n      default: 'document'\n    },\n    moveFnc: {\n      type: Function,\n      default: function _default(evt) {\n        return console.log(evt);\n      }\n    },\n    style: {\n      type: Object,\n      default: {}\n    }\n  },\n  methods: {\n    wrapMoveFnc: function wrapMoveFnc(evt) {\n      this.domElementMoveListen.addEventListener('mouseup', this.stop, { once: true });\n      this.moveFnc(evt);\n    },\n    start: function start() {\n      this.domElementMoveListen.addEventListener('mousemove', this.wrapMoveFnc);\n    },\n    stop: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.domElementMoveListen.removeEventListener('mousemove', this.wrapMoveFnc);\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                _gui2.default.emit('resize');\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stop() {\n        return _ref.apply(this, arguments);\n      }\n\n      return stop;\n    }()\n  },\n  watch: {\n    'orientation': {\n      handler: function handler(orientation) {\n        this.style.cursor = orientation === 'v' ? 'ns-resize' : 'col-resize';\n      },\n\n      immediate: true\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.domElementMoveListen;\n              this.style = _extends({\n                minWidth: '5px',\n                backgroundColor: '#dddddd',\n                cursor: 'col-resize'\n              }, this.style);\n              _context2.t0 = this.where;\n              _context2.next = _context2.t0 === 'content' ? 5 : _context2.t0 === 'document' ? 7 : 7;\n              break;\n\n            case 5:\n              this.domElementMoveListen = document.getElementById('g3w-view-content');\n              return _context2.abrupt('break', 8);\n\n            case 7:\n              this.domElementMoveListen = document;\n\n            case 8:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.domElementMoveListen = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],style:(_vm.style),attrs:{\"id\":_vm.$attrs.id},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.start($event)}}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-d2660d28\"\n\n},{\"services/gui\":349}],225:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'resize-icon',\n    props: {\n        type: {\n            type: String,\n            default: 'h'\n        }\n    },\n    computed: function computed() {},\n\n    methods: {\n        toggleFull: function toggleFull() {\n            _gui2.default.toggleFullViewContent();\n            _gui2.default.emit('resize');\n        },\n        resetToDefault: function resetToDefault() {\n            _gui2.default.resetToDefaultContentPercentage();\n            _gui2.default.emit('resize');\n        }\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('enlange_reduce'),expression:\"'enlange_reduce'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass((\"resize-\" + _vm.type)),staticStyle:{\"cursor\":\"pointer\",\"margin-right\":\"3px\"},on:{\"click\":_vm.toggleFull}}),_vm._v(\" \"),_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('reset_default'),expression:\"'reset_default'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass(\"resize-default\"),staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.resetToDefault}})])}\n__vue__options__.staticRenderFns = []\n\n},{\"services/gui\":349}],226:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".br[data-v-00ab4ef6]{border-radius:8px}.card[data-v-00ab4ef6]{width:80%;padding:10px 20px;margin:50px auto}.item[data-v-00ab4ef6]{height:15px;background:#ccc;margin-top:15px}.item-light[data-v-00ab4ef6]{background:#ddd}.text80[data-v-00ab4ef6]{width:80%}.chart-wrapper[data-v-00ab4ef6]{height:50px;display:flex;align-items:baseline;margin-bottom:20px}.chart-item[data-v-00ab4ef6]{height:100%;width:15px;background:#ccc;margin-right:10px}.chart-item-80[data-v-00ab4ef6]{height:80%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"skeleton\",\n  mounted: function mounted() {\n    this.$nextTick(function () {});\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card br\"},[_c('div',{staticClass:\"chart-wrapper\"},[_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item chart-item-80 item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br chart-item-80\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item br text80\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br text80\"})])}]\n__vue__options__._scopeId = \"data-v-00ab4ef6\"\n\n},{\"vueify/lib/insert-css\":2}],227:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".formquerytabs[data-v-4f13a336]{overflow:hidden!important;display:flex;flex-wrap:wrap}.formquerytabs>li[data-v-4f13a336]{flex:1;display:flex}.formquerytabs>li>a[data-v-4f13a336]{font-weight:700;flex:1}.tab-content[data-v-4f13a336]{//margin-top:10px}.nav-tabs>li>a.mobile[data-v-4f13a336]{padding:5px 10px}.tab_a[data-v-4f13a336]{padding:5px;margin-right:0!important;//border:1px solid #eee;border-bottom:0;margin-bottom:3px;border-radius:3px 3px 0 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name$props$component;\n\nvar _tabservice = require('core/expression/tabservice');\n\nvar _tabservice2 = _interopRequireDefault(_tabservice);\n\nvar _GlobalTabsNode = require('components/GlobalTabsNode.vue');\n\nvar _GlobalTabsNode2 = _interopRequireDefault(_GlobalTabsNode);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = (_name$props$component = {\n  name: \"tabs\",\n  props: {\n    group: {\n      type: Boolean,\n      default: false\n    },\n    contenttype: {\n      default: 'query' },\n    layerid: {\n      required: true\n    },\n    tabs: {\n      required: true\n    },\n    feature: {\n      required: true\n    },\n    fields: {\n      required: true\n    },\n    addToValidate: Function,\n    removeToValidate: Function,\n    changeInput: Function,\n    showRelationByField: {\n      type: Boolean,\n      default: true\n    },\n    handleRelation: {\n      type: Function,\n      default: function _default() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            relation = _ref.relation,\n            layerId = _ref.layerId,\n            feature = _ref.feature;\n\n        return _gui2.default.getService('queryresults').showRelation({ relation: relation, layerId: layerId, feature: feature });\n      }\n    }\n  },\n  components: {\n    Node: _GlobalTabsNode2.default\n  },\n  data: function data() {\n    return {\n      ids: []\n    };\n  },\n\n  computed: {\n    required_fields: function required_fields() {\n      return this.contenttype === 'editing' && this.fields.filter(function (field) {\n        return field.validate.required;\n      }).map(function (field) {\n        return field.name;\n      });\n    },\n    show: function show() {\n      return this.tabs.reduce(function (accumulator, tab) {\n        return accumulator || tab.visible === undefined || !!tab.visible;\n      }, false);\n    }\n  },\n  methods: {\n    setVisibility: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(tab) {\n        var visible;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _tabservice2.default.getVisibility({\n                  qgs_layer_id: this.layerid,\n                  expression: tab.visibility_expression.expression,\n                  feature: this.feature,\n                  contenttype: this.contenttype\n                });\n\n              case 2:\n                visible = _context.sent;\n\n                tab.visible = visible;\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setVisibility(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return setVisibility;\n    }(),\n    setEditingRequireTab: function setEditingRequireTab(obj) {\n      var _this = this;\n\n      var required = false;\n      if (obj.nodes === undefined) required = this.required_fields.indexOf(obj.field_name) !== -1;else required = !!obj.nodes.find(function (node) {\n        return _this.setEditingRequireTab(node);\n      });\n      return required;\n    },\n    getField: function getField(fieldName) {\n      return this.fields.find(function (field) {\n        return field.name === fieldName;\n      });\n    }\n  }\n}, _defineProperty(_name$props$component, 'components', {\n  Node: _GlobalTabsNode2.default\n}), _defineProperty(_name$props$component, 'created', function () {\n  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var _loop, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, tab, nodes;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.unwatch = [];\n\n            _loop = function _loop(tab) {\n              if (tab.visibility_expression) {\n                if (tab.visible === undefined) _this2.$set(tab, 'visible', 0);\n                _this2.setVisibility(tab);\n              }\n              if (_this2.contenttype === 'editing') {\n                if (tab.required === undefined) tab.required = _this2.setEditingRequireTab(tab);\n                if (tab.visibility_expression) {\n                  tab.visibility_expression.referenced_columns.forEach(function (column) {\n                    var field = _this2.fields.find(function (field) {\n                      return field.name === column;\n                    });\n                    _this2.unwatch.push(_this2.$watch(function () {\n                      return field.value;\n                    }, function () {\n                      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n                        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                          while (1) {\n                            switch (_context2.prev = _context2.next) {\n                              case 0:\n                                _this2.feature.set(field.name, value);\n                                _this2.setVisibility(tab);\n\n                              case 2:\n                              case 'end':\n                                return _context2.stop();\n                            }\n                          }\n                        }, _callee2, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref4.apply(this, arguments);\n                      };\n                    }()));\n                  });\n                }\n              }\n              _this2.ids.push('tab_' + getUniqueDomId());\n            };\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context3.prev = 5;\n            for (_iterator = this.tabs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              tab = _step.value;\n\n              _loop(tab);\n            }\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3['catch'](5);\n            _didIteratorError = true;\n            _iteratorError = _context3.t0;\n\n          case 13:\n            _context3.prev = 13;\n            _context3.prev = 14;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 16:\n            _context3.prev = 16;\n\n            if (!_didIteratorError) {\n              _context3.next = 19;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 19:\n            return _context3.finish(16);\n\n          case 20:\n            return _context3.finish(13);\n\n          case 21:\n            this.root_tabs = [];\n            if (!this.group) {\n              nodes = [];\n\n              this.tabs.forEach(function (tab_node) {\n                if (tab_node.nodes) nodes.push(tab_node);else {\n                  if (nodes.length) {\n                    _this2.root_tabs.push([].concat(nodes));\n                    nodes.splice(0);\n                  }_this2.root_tabs.push({ nodes: [tab_node] });\n                }\n              });\n              if (nodes.length) this.root_tabs.push(nodes);\n            } else this.root_tabs = [this.tabs];\n\n          case 23:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[5, 9, 13, 21], [14,, 16, 20]]);\n  }));\n\n  function created() {\n    return _ref3.apply(this, arguments);\n  }\n\n  return created;\n}()), _defineProperty(_name$props$component, 'beforeDestroy', function beforeDestroy() {\n  this.unwatch.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatch = null;\n}), _name$props$component);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"tabs-wrapper\"},[_vm._l((_vm.root_tabs),function(root_tab){return [(Array.isArray(root_tab))?[_c('ul',{staticClass:\"formquerytabs nav nav-tabs\"},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('li',{class:{active: index === 0}},[_c('a',{staticClass:\"tab_a\",class:{'mobile': _vm.isMobile(), 'group-title': _vm.group},style:({fontSize: _vm.isMobile() ? '1.0em': ((_vm.group ? '1.1': '1.2') + \"em\")}),attrs:{\"data-toggle\":\"tab\",\"href\":(\"#\" + (_vm.ids[index]))}},[_vm._v(\"\\n              \"+_vm._s(tab.name)+\" \"),(_vm.contenttype === 'editing' && tab.required)?_c('span',{staticStyle:{\"padding-left\":\"3px\",\"font-size\":\"1.1em\"}},[_vm._v(\"*\")]):_vm._e()])]):_vm._e()]})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\",class:{editing: _vm.contenttype === 'editing'}},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('div',{staticClass:\"tab-pane fade\",class:{'in active': index === 0},attrs:{\"id\":_vm.ids[index]}},[_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":tab}})],1):_vm._e()]})],2)]:_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":root_tab}})]})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f13a336\"\n\n},{\"components/GlobalTabsNode.vue\":228,\"core/expression/tabservice\":12,\"core/utils/utils\":68,\"services/gui\":349,\"vueify/lib/insert-css\":2}],228:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tab-node[data-v-131d3550]{min-width:0;overflow:hidden}.title[data-v-131d3550]{font-weight:700;width:100%;color:#fff;padding:3px;margin-top:5px;margin-bottom:5px;border-radius:2px}.node-row[data-v-131d3550]{margin-bottom:0;column-gap:2px;margin-top:0;display:grid;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column}.row.mobile[data-v-131d3550]{margin-bottom:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"node\",\n  props: ['contenttype', 'node', 'fields', 'showTitle', 'addToValidate', 'removeToValidate', 'changeInput', 'layerid', 'feature', 'showRelationByField', 'handleRelation'],\n  components: _extends({\n    G3wInput: _InputG3W2.default\n  }, Fields),\n  data: function data() {\n    return {\n      context: this.contenttype,\n      editing_required: false\n    };\n  },\n\n  computed: {\n    filterNodes: function filterNodes() {\n      var _this = this;\n\n      var filterNodes = this.node.nodes && this.node.nodes.filter(function (node) {\n        if (_this.getNodeType(node) === 'group') {\n          return true;\n        } else if (!node.nodes && node.name && _this.getNodeType(node) != 'group') {\n          node.relation = true;\n          return true;\n        } else {\n          return !!_this.fields.find(function (field) {\n            var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n            return field.name === field_name || node.relation;\n          });\n        }\n      });\n      return filterNodes || [];\n    },\n    nodesLength: function nodesLength() {\n      return this.filterNodes.length;\n    },\n    rows: function rows() {\n      var rowCount = 1;\n      if (this.nodesLength === 0) rowCount = 0;else if (this.columnNumber <= this.nodesLength) {\n        var rest = this.nodesLength % this.columnNumber;\n        rowCount = Math.floor(this.nodesLength / this.columnNumber) + rest;\n      }\n      return rowCount;\n    },\n    columnNumber: function columnNumber() {\n      var columnCount = parseInt(this.node.columncount) ? parseInt(this.node.columncount) : 1;\n      return columnCount > this.nodesLength ? this.nodesLength : columnCount;\n    },\n    showGroupTile: function showGroupTile() {\n      return this.showTitle && this.node.showlabel && this.node.groupbox;\n    }\n  },\n  methods: {\n    loadingRelation: function loadingRelation(relation) {\n      var layer = _projects2.default.getCurrentProject().getLayerById(this.layerid);\n      var relation_project = layer.getRelationById(relation.name);\n      return relation_project.state;\n    },\n    isRelationDisabled: function isRelationDisabled(relation) {\n      return this.getRelationName(relation.name) === undefined || this.contenttype === 'editing' && this.isRelationChildLayerNotEditable(relation);\n    },\n    getRelationName: function getRelationName(relationId) {\n      var relation = _projects2.default.getCurrentProject().getRelationById(relationId);\n      return relation && relation.name;\n    },\n    isRelationChildLayerNotEditable: function isRelationChildLayerNotEditable(relation) {\n      var nmRelationId = relation.nmRelationId,\n          name = relation.name;\n\n      var currentProject = _projects2.default.getCurrentProject();\n      var projectRelation = currentProject.getRelationById(name);\n      var relationLayerId = projectRelation.referencingLayer;\n      var relationLayer = currentProject.getLayerById(relationLayerId);\n\n      return !relationLayer.isEditable();\n    },\n    getNodes: function getNodes(row) {\n      var startIndex = (row - 1) * this.columnNumber;\n      return this.filterNodes.slice(startIndex, this.columnNumber + startIndex);\n    },\n    getNode: function getNode(row, column) {\n      return this.getNodes(row)[column - 1];\n    },\n    getField: function getField(node) {\n      if (node.relation) return node;\n      var field = this.fields.find(function (field) {\n        var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n        return field.name === field_name;\n      });\n      return field;\n    },\n    getNodeType: function getNodeType(node) {\n      var type = node.groupbox || node.nodes ? 'group' : node.relation ? 'relation' : 'field';\n      if (type === 'field' && (node.alias === undefined || node.alias === '')) {\n        node.alias = node.field_name;\n      }\n      return type;\n    },\n    getComponent: function getComponent(field) {\n      if (field.relation) return;else if (field.query) return field.input.type;else return 'g3w-input';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-node group\"},[(_vm.showGroupTile)?_c('h5',{staticClass:\"title group-title\",class:{'mobile': _vm.isMobile()},style:({fontSize: _vm.isMobile() ? '1em' : '1.1em'})},[_vm._v(_vm._s(_vm.node.name))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.rows),function(row){return _c('div',{staticClass:\"node-row\",class:{'mobile': _vm.isMobile()}},[_vm._l((_vm.columnNumber),function(column){return [(_vm.getNode(row, column))?[(_vm.getNodeType(_vm.getNode(row, column)) === 'field')?_c(_vm.getComponent(_vm.getField(_vm.getNode(row, column))),{tag:\"component\",staticStyle:{\"padding\":\"5px 3px 5px 3px\"},attrs:{\"state\":_vm.getField(_vm.getNode(row, column)),\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"feature\":_vm.feature},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}):[(_vm.getNodeType(_vm.getNode(row, column)) === 'group')?_c('tabs',_vm._b({staticClass:\"sub-group\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"group\":true,\"tabs\":[_vm.getNode(row, column)]}},'tabs',_vm.$props,false)):[(_vm.showRelationByField)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isRelationDisabled(_vm.getNode(row, column)) || _vm.loadingRelation(_vm.getNode(row, column)).loading),expression:\"isRelationDisabled(getNode(row, column)) || loadingRelation(getNode(row, column)).loading\"}],style:({cursor: _vm.showRelationByField && 'pointer'}),on:{\"click\":function($event){$event.stopPropagation();_vm.handleRelation({relation: _vm.getNode(row, column), feature:_vm.feature, layerId: _vm.layerid})}}},[_c('bar-loader',{attrs:{\"loading\":_vm.loadingRelation(_vm.getNode(row, column)).loading}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"query_relation_field\"},[_c('i',{class:_vm.g3wtemplate.font[(\"\" + (_vm.context === 'query' ? 'relation' : 'pencil'))]})]),_vm._v(\" \"),_c('span',{staticClass:\"query_relation_field_message g3w-long-text\"},[_c('span',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\" \"+_vm._s(_vm.getRelationName(_vm.getNode(row, column).name)))])])])],1):_vm._e()]]]:_vm._e()]})],2)})],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-131d3550\"\n\n},{\"components/InputG3W.vue\":235,\"gui/fields/fields\":116,\"services/gui\":349,\"store/projects\":367,\"vueify/lib/insert-css\":2}],229:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['state'],\n  methods: {\n    showCustomModal: function showCustomModal(id) {\n      this.$emit('show-custom-modal-content', id);\n    }\n  },\n  created: function created() {\n    this.state.type = this.state.type || 'link';\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"customheaderlink dropdown user user-menu\",attrs:{\"title\":_vm.state.title}},[(_vm.state.type === 'link')?_c('a',{staticClass:\"dropdown-toggle\",class:{ imagelink : !!_vm.state.img},attrs:{\"href\":_vm.state.url,\"target\":_vm.state.target}},[(_vm.state.img)?_c('img',{staticStyle:{\"max-height\":\"20px\"},attrs:{\"src\":_vm.state.img}}):_c('span',[(_vm.state.i18n)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.title),expression:\"state.title\"}]}):_c('span',[_vm._v(_vm._s(_vm.state.title))])])]):(_vm.state.type === 'modal')?_c('a',{staticClass:\"dropdown-toggle\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#custom_modal\"},on:{\"click\":function($event){return _vm.showCustomModal(_vm.state.id)}}},[_c('span',[_vm._v(_vm._s(_vm.state.title))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{}],230:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".control-label[data-v-06ccc3d6]{text-align:left!important;padding-top:0!important;margin-bottom:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nexports.default = _extends({\n  name: \"InputBase\",\n  props: ['state']\n}, _mixins.baseInputMixin);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',{staticClass:\"form-group\"},[_vm._t(\"label\",[_c('label',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"col-sm-12 control-label\",attrs:{\"for\":_vm.state.name}},[_vm._v(_vm._s(_vm.state.label)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"),(_vm.showhelpicon)?_c('i',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['info'],staticStyle:{\"margin-left\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.showHideHelp}}):_vm._e(),_vm._v(\" \"),_vm._t(\"label-action\")],2)]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12\"},[_vm._t(\"loading\",[(_vm.loadingState === 'loading')?_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\"},attrs:{\"slot\":\"loading\"},slot:\"loading\"},[_c('bar-loader',{attrs:{\"loading\":\"true\"}})],1):_vm._e()]),_vm._v(\" \"),_vm._t(\"body\"),_vm._v(\" \"),_vm._t(\"message\",[(_vm.notvalid)?_c('p',{staticClass:\"error-input-message\",staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.validate.message)}}):(_vm.state.info)?_c('p',{staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.info)}}):_vm._e()]),_vm._v(\" \"),(_vm.state.help && this.state.help.visible)?_c('div',{staticClass:\"g3w_input_help skin-background-color extralighten\",domProps:{\"innerHTML\":_vm._s(_vm.state.help.message)}}):_vm._e()],2)],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06ccc3d6\"\n\n},{\"mixins\":331,\"vueify/lib/insert-css\":2}],231:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins],\n  data: function data() {\n    return {\n      value: null,\n      label: null,\n      id: getUniqueDomId() };\n  },\n\n  methods: {\n    setLabel: function setLabel() {\n      this.label = this.service.convertCheckedToValue(this.value);\n    },\n    setValue: function setValue() {\n      this.value = this.service.convertValueToChecked();\n    },\n    changeCheckBox: function changeCheckBox() {\n      this.setLabel();\n      this.widgetChanged();\n    },\n    stateValueChanged: function stateValueChanged() {\n      this.setValue();\n      this.setLabel();\n    }\n  },\n  created: function created() {\n    this.value = this.state.forceNull ? this.value : this.service.convertValueToChecked();\n  },\n  mounted: function mounted() {\n    if (!this.state.forceNull) this.setLabel();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticStyle:{\"height\":\"20px\",\"margin-top\":\"8px\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"magic-checkbox\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"tabIndex\":_vm.tabIndex,\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":[function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}},_vm.changeCheckBox]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label))])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":127,\"mixins\":331}],232:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"type\":\"color\",\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":127}],233:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins, _mixins.resizeMixin],\n  data: function data() {\n    var uniqueValue = getUniqueDomId();\n    return {\n      widget_container: {\n        top: 0,\n        left: 0\n      },\n      iddatetimepicker: 'datetimepicker_' + uniqueValue,\n      idinputdatetimepiker: 'inputdatetimepicker_' + uniqueValue,\n      changed: false\n    };\n  },\n\n  methods: {\n    resize: function resize() {\n      var domeDataPicker = $('#' + this.iddatetimepicker);\n      domeDataPicker && domeDataPicker.data(\"DateTimePicker\") && domeDataPicker.data(\"DateTimePicker\").hide();\n    },\n    timeOnly: function timeOnly() {\n      return !this.state.input.options.formats[0].date;\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      var datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(this.state.input.options.formats[0].displayformat);\n      var date = moment(value).format(datetimedisplayformat);\n      $('#' + this.iddatetimepicker).val(date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      var _state$input$options, _state$input$options$, formats, _state$input$options$2, layout, _formats$, minDate, maxDate, fieldformat, enabledDates, disabledDates, displayformat, useCurrent, fielddatetimeformat, date, locale, datetimedisplayformat, datetimefieldformat;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _state$input$options = this.state.input.options, _state$input$options$ = _state$input$options.formats, formats = _state$input$options$ === undefined ? [] : _state$input$options$, _state$input$options$2 = _state$input$options.layout, layout = _state$input$options$2 === undefined ? { vertical: \"top\", horizontal: \"left\" } : _state$input$options$2;\n              _formats$ = formats[0], minDate = _formats$.minDate, maxDate = _formats$.maxDate, fieldformat = _formats$.fieldformat, enabledDates = _formats$.enabledDates, disabledDates = _formats$.disabledDates, displayformat = _formats$.displayformat, useCurrent = _formats$.useCurrent;\n              _context2.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              fielddatetimeformat = fieldformat.replace(/y/g, 'Y').replace(/d/g, 'D');\n\n              this.service.setValidatorOptions({\n                fielddatetimeformat: fielddatetimeformat\n              });\n              date = moment(this.state.value, fielddatetimeformat, true).isValid() ? moment(this.state.value, fielddatetimeformat).toDate() : null;\n              locale = this.service.getLocale();\n              datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(displayformat);\n              datetimefieldformat = this.service.convertQGISDateTimeFormatToMoment(fieldformat);\n\n              $('#' + this.iddatetimepicker).datetimepicker({\n                defaultDate: date,\n                format: datetimedisplayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                enabledDates: enabledDates,\n                disabledDates: disabledDates,\n                useCurrent: useCurrent,\n                toolbarPlacement: 'top',\n                minDate: minDate,\n                maxDate: maxDate,\n                widgetParent: $(this.$refs.datimewidget_container),\n                widgetPositioning: {\n                  vertical: layout.vertical || 'top',\n                  horizontal: layout.horizontal || 'left'\n                },\n                showClose: true,\n                locale: locale\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.change\", function (evt) {\n                var newDate = $('#' + _this.idinputdatetimepiker).val();\n                _this.state.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, datetimedisplayformat).format(datetimefieldformat);\n                _this.widgetChanged();\n              });\n              $('#' + this.iddatetimepicker).on(\"dp.show\", function () {\n                var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(evt) {\n                  var _$refs$datetimepicker, top, left, width;\n\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return _this.$nextTick();\n\n                        case 2:\n                          _$refs$datetimepicker = _this.$refs.datetimepicker_body.getBoundingClientRect(), top = _$refs$datetimepicker.top, left = _$refs$datetimepicker.left, width = _$refs$datetimepicker.width;\n\n                          _this.widget_container.top = top;\n                          _this.widget_container.left = left - width;\n                          _this.$emit('datetimepickershow');\n\n                        case 6:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n              $('#' + this.iddatetimepicker).on(\"dp.hide\", function (evt) {\n                _this.$emit('datetimepickershow');\n              });\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.idinputdatetimepiker).blur();\n              });\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{ref:\"datetimepicker_body\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{ref:\"datimewidget_container\",staticStyle:{\"position\":\"fixed\",\"z-index\":\"10000\"},style:({top: ((_vm.widget_container.top) + \"px\"), left: ((_vm.widget_container.left) + \"px\")})}),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"input-group date\",attrs:{\"id\":_vm.iddatetimepicker}},[_c('input',{staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"id\":_vm.idinputdatetimepiker,\"tabIndex\":_vm.tabIndex,\"readonly\":!_vm.editable || _vm.isMobile() ? 'readonly' : null,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{class:[_vm.timeOnly() ? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":127,\"mixins\":331,\"store/application-state\":361}],234:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.state.step || 1,\"placeholder\":_vm.state.default},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":127}],235:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar Inputs = require('gui/inputs/inputs');\n\nexports.default = {\n  name: \"g3w-input\",\n  props: {\n    state: {\n      required: true\n    },\n    addToValidate: {\n      type: Function,\n      required: true\n    },\n    removeToValidate: {\n      type: Function,\n      required: true\n    },\n    changeInput: {\n      type: Function,\n      required: true\n    }\n  },\n  components: _extends({}, Inputs),\n  computed: {\n    type: function type() {\n      if (this.state.type !== 'child') return this.state.input.type ? this.state.input.type + '_input' : this.state.type + '_input';\n    }\n  },\n  created: function created() {\n    if (this.state.type !== 'child' && !this.state.input.options) this.state.input.options = {};\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',[(_vm.state.type !== 'child')?_c('div',[_c(_vm.type,{tag:\"component\",attrs:{\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"state\":_vm.state},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1):_c('div',{staticClass:\"skin-border-color field-child\",staticStyle:{\"border-top\":\"2px solid\"}},[_c('h4',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.label))]),_vm._v(\" \"),_c('div',[_vm._v(\" \"+_vm._s(_vm.state.description)+\" \")]),_vm._v(\" \"),_vm._l((_vm.state.fields),function(field){return _c('g3w-input',{key:field.name,attrs:{\"state\":field,\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})})],2)]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2bbb7c94\"\n\n},{\"gui/inputs/inputs\":128}],236:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-for-inputs-required-inputs-message[data-v-155589a3]{margin-bottom:5px;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center}.box-body[data-v-155589a3]{padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3W = require(\"components/InputG3W.vue\");\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-form-inputs\",\n  props: {\n    state: {\n      type: Object,\n      default: {\n        fields: []\n      }\n    },\n    addToValidate: {\n      type: Function\n    },\n    changeInput: {\n      type: Function\n    },\n    show_required_field_message: {\n      type: Boolean,\n      default: false\n    }\n\n  },\n  components: {\n    G3wInput: _InputG3W2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[_vm._l((_vm.state.fields),function(field){return [_c('g3w-input',{attrs:{\"state\":field,\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput},on:{\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput}})]})],2),_vm._v(\" \"),(_vm.show_required_field_message)?_c('div',{attrs:{\"id\":\"g3w-for-inputs-required-inputs-message\"}},[_c('span',{staticClass:\"hide-cursor-caret-color\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}],staticClass:\"hide-cursor-caret-color\"})]):_vm._e()])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-155589a3\"\n\n},{\"components/InputG3W.vue\":235,\"vueify/lib/insert-css\":2}],237:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"type\":\"number\"},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":127}],238:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      lonId: getUniqueDomId(),\n      latId: getUniqueDomId(),\n      coordinatebutton: {\n        active: false\n      }\n    };\n  },\n\n  computed: {\n    getCoordinateActive: function getCoordinateActive() {\n      return this.service.state.getCoordinateActive;\n    }\n  },\n  methods: {\n    toggleGetCoordinate: function toggleGetCoordinate() {\n      this.service.toggleGetCoordinate();\n    },\n    changeLonLat: function changeLonLat() {\n      this.change();\n      this.setValue();\n    },\n    setValue: function setValue() {\n      this.state.value = [[1 * this.state.values.lon, 1 * this.state.values.lat]];\n    }\n  },\n  created: function created() {\n    this.state.values = this.state.values || { lon: 0, lat: 0 };\n    this.setValue();\n    this.service.setCoordinateButtonReactiveObject(this.coordinatebutton);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.$nextTick(function () {\n                $(_this.$refs['g3w-input-lat-lon']).tooltip({\n                  trigger: 'hover'\n                });\n              });\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"height\":\"35px\",\"margin-right\":\"12px\",\"margin-bottom\":\"5px\"}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.lonlat'),expression:\"'sdk.form.inputs.tooltips.lonlat'\"}],ref:\"g3w-input-lat-lon\",staticClass:\"action skin-tooltip-left skin-color skin-border-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"border-radius\":\"5px\",\"font-weight\":\"bold\",\"font-size\":\"20px\",\"cursor\":\"pointer\"},style:({border: _vm.coordinatebutton.active ? '2px solid' : 0}),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleGetCoordinate($event)}}})]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.lonId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lon)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lon),expression:\"state.values.lon\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.lonId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-180\",\"max\":\"180\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lon)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lon\", $event.target.value)}}})])]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.latId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lat)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lat),expression:\"state.values.lat\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.latId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-90\",\"max\":\"90\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lat)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lat\", $event.target.value)}}})])])],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":127}],239:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputMixins = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('gui/fields/fields'),\n    MediaField = _require3.media_field;\n\nexports.default = {\n  mixins: [InputMixins],\n  components: {\n    'g3w-media': MediaField\n  },\n  data: function data() {\n    return {\n      data: {\n        value: null,\n        mime_type: null\n      },\n      mediaid: 'media_' + getUniqueDomId(),\n      loading: false\n    };\n  },\n\n  methods: {\n    onClick: function onClick(e) {\n      document.getElementById(this.mediaid).click();\n    },\n    createImage: function createImage(file, field) {\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        field.value = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    checkFileSrc: function checkFileSrc(value) {\n      if (_.isNil(value)) {\n        value = '';\n      }\n      return value;\n    },\n    clearMedia: function clearMedia() {\n      this.data.value = this.data.mime_type = this.state.value = null;\n      this.change();\n    }\n  },\n  created: function created() {\n    if (this.state.value) {\n      this.data.value = this.state.value.value;\n      this.data.mime_type = this.state.value.mime_type;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var fieldName = this.state.name;\n    var formData = {\n      name: fieldName,\n      csrfmiddlewaretoken: this.$cookie.get('csrftoken')\n    };\n    this.$nextTick(function () {\n      $('#' + _this.mediaid).fileupload({\n        dataType: 'json',\n        formData: formData,\n        start: function start() {\n          _this.loading = true;\n        },\n        done: function done(e, data) {\n          var response = data.result[fieldName];\n          if (response) {\n            _this.data.value = response.value;\n            _this.data.mime_type = response.mime_type;\n            _this.state.value = _this.data;\n            _this.change();\n          }\n        },\n        fail: function fail() {\n          _gui2.default.notify.error(t(\"info.server_error\"));\n        },\n        always: function always() {\n          _this.loading = false;\n        }\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    $('#' + this.mediaid).fileupload('destroy');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"g3w_input_button skin-border-color\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"2px\",\"border-radius\":\"4px\",\"width\":\"100%\",\"cursor\":\"pointer\",\"text-align\":\"center\"},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fa-2x skin-color\",class:_vm.g3wtemplate.getFontClass('file-upload'),staticStyle:{\"padding\":\"5px\"}},[_c('input',{class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.mediaid,\"name\":_vm.state.name,\"tabIndex\":_vm.tabIndex,\"data-url\":_vm.state.input.options.uploadurl,\"type\":\"file\"}})])]),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('g3w-media',{attrs:{\"state\":_vm.data}},[_c('div',{staticClass:\"clearmedia\",on:{\"click\":function($event){return _vm.clearMedia()}}},[_c('i',{staticClass:\"g3w-icon\",class:_vm.g3wtemplate.font['trash-o']})])])],1)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/fields/fields\":116,\"gui/inputs/input\":127,\"services/gui\":349}],240:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\nvar Service = require('gui/inputs/picklayer/service');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    pickLayer: function pickLayer() {\n      var _this = this;\n\n      this.pickservice.pick().then(function (value) {\n        return _this.state.value = value;\n      }).catch(function () {});\n    },\n    unpick: function unpick() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return !_this2.pickservice.isPicked() && _this2.pickservice.unpick();\n      }, 200);\n    }\n  },\n  created: function created() {\n    this.pickservice = new Service(this.state.input.options);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pickservice.clear();\n    this.pickservice = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"left\":\"0\",\"top\":\"7px\",\"position\":\"absolute\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},style:({cursor: _vm.editable ? 'pointer': null}),attrs:{\"readonly\":\"readonly\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"click\":_vm.pickLayer,\"blur\":_vm.unpick}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":127,\"gui/inputs/picklayer/service\":135}],241:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      ids: [getUniqueDomId(), getUniqueDomId()],\n      name: 'name_' + getUniqueDomId(),\n      radio_value: this.state.value\n    };\n  },\n\n  watch: {\n    'radio_value': function radio_value() {\n      this.state.value = this.radio_value;\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},_vm._l((_vm.state.input.options.values),function(value,index){return _c('span',{key:value.key},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.radio_value),expression:\"radio_value\"}],staticClass:\"magic-radio\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"id\":_vm.ids[index],\"name\":_vm.name,\"tabIndex\":_vm.tabIndex,\"type\":\"radio\"},domProps:{\"value\":value.value,\"checked\":_vm._q(_vm.radio_value,value.value)},on:{\"change\":function($event){_vm.radio_value=value.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.ids[index]}},[_vm._v(_vm._s(value.key))])])}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":127}],242:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    var options = this.state.input.options.values[0];\n    var min = 1 * options.min;\n    var max = 1 * options.max;\n    var step = 1 * options.Step;\n    return {\n      max: max,\n      min: min,\n      step: step\n    };\n  },\n\n  methods: {\n    checkValue: function checkValue() {\n      var valid = this.state.validate.required || !_.isEmpty(_.trim(this.state.value)) ? this.service.getValidator().validate(this.state.value) : true;\n      this.state.validate.valid = valid;\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.step},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==69){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.stopPropagation();}],\"change\":_vm.checkValue,\"blur\":_vm.checkValue,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":127}],243:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar PickLayerInputService = require('gui/inputs/picklayer/service');\nvar Layer = require('core/layers/layer');\nvar InputMixin = require('gui/inputs/input');\n\nvar G3W_SELECT2_NULL_VALUE = null;exports.default = {\n  mixins: [InputMixin, _mixins.selectMixin, _mixins.select2Mixin],\n  data: function data() {\n    return {\n      showPickLayer: false,\n      picked: false\n    };\n  },\n\n  computed: {\n    showNullOption: function showNullOption() {\n      return this.state.nullOption === undefined || this.state.nullOption === true;\n    },\n    select2NullValue: function select2NullValue() {\n      return this.showNullOption && G3W_SELECT2_NULL_VALUE;\n    }\n  },\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        var _this = this;\n\n        var changed, value, findvalue;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                changed = false;\n\n                if (!this.autocomplete) {\n                  value = void 0;\n\n                  if (values.length === 0) value = G3W_SELECT2_NULL_VALUE;else {\n                    findvalue = values.find(function (keyvalue) {\n                      return keyvalue.value == _this.state.value;\n                    });\n\n                    if (!findvalue) value = G3W_SELECT2_NULL_VALUE;else value = findvalue.value;\n                  }\n                  changed = value != this.state.value;\n                  this.state.value = value;\n                  this.setValue();\n                }\n                changed && this.change();\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  methods: {\n    pickLayerValue: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var values, field, value;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!this.picked) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                this.pickLayerInputService.unpick();\n                this.picked = false;\n                _context2.next = 16;\n                break;\n\n              case 6:\n                this.picked = true;\n                _context2.next = 9;\n                return this.pickLayerInputService.pick();\n\n              case 9:\n                values = _context2.sent;\n                field = this.state.input.options.value;\n                value = values[field];\n\n                this.select2.val(value).trigger('change');\n                this.changeSelect(value);\n                _gui2.default.showUserMessage({\n                  type: 'success',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 16:\n                _context2.next = 22;\n                break;\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2['catch'](0);\n\n                _gui2.default.showUserMessage({\n                  type: \"warning\",\n                  message: 'sdk.form.inputs.messages.errors.picklayer',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 22:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 18]]);\n      }));\n\n      function pickLayerValue() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return pickLayerValue;\n    }(),\n    setAndListenSelect2Change: function setAndListenSelect2Change() {\n      var _this2 = this;\n\n      this.select2.on('select2:select', function (event) {\n        var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n        value = _this2.showNullOption ? value === G3W_SELECT2_NULL_VALUE ? null : value.toString() : value.toString();\n        _this2.changeSelect(value);\n      });\n    }\n  },\n  created: function created() {\n    this.open = false;\n    if (this.state.input.type === 'select_autocomplete') {\n      var dependencyLayerId = this.state.input.options.layer_id;\n      try {\n        var dependencyLayer = _mapLayers2.default.getLayerById(dependencyLayerId).getEditingLayer() || _catalogLayers2.default.getLayerById(dependencyLayerId);\n        this.showPickLayer = dependencyLayer ? dependencyLayer.getType() !== Layer.LayerTypes.TABLE : false;\n        var _state$input$options = this.state.input.options,\n            field = _state$input$options.value,\n            layer_id = _state$input$options.layer_id;\n\n        var options = {\n          layer_id: layer_id,\n          fields: [field],\n          pick_type: dependencyLayer.isStarted && dependencyLayer.isStarted() && 'map' || null\n        };\n        this.pickLayerInputService = this.showPickLayer && new PickLayerInputService(options);\n      } catch (err) {}\n    }\n    this.autocomplete && this.state.value && this.service.getKeyByValue({\n      search: this.state.value\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var selectElement, language, dropdownParent;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.unwatch;\n              selectElement = $(this.$refs.select);\n              language = this.getLanguage();\n              dropdownParent = this.state.dropdownParent === undefined && $('#g3w-view-content');\n\n              if (this.autocomplete) {\n                this.select2 = selectElement.select2({\n                  minimumInputLength: 1,\n                  dropdownParent: dropdownParent,\n                  allowClear: this.showNullOption,\n                  language: language,\n                  ajax: {\n                    delay: 250,\n                    transport: function transport(params, success, failure) {\n                      var search = params.data.term;\n\n                      $('.select2-results__option.loading-results').siblings().hide();\n                      _this3.resetValues();\n                      _this3.service.getData({\n                        search: search\n                      }).then(function (values) {\n                        return success(values);\n                      }).catch(function (err) {\n                        return failure(err);\n                      });\n                    },\n                    processResults: function processResults(data, params) {\n                      params.page = params.page || 1;\n                      return {\n                        results: data,\n                        pagination: {\n                          more: false\n                        }\n                      };\n                    } }\n                });\n              } else this.select2 = selectElement.select2({\n                language: language,\n                dropdownParent: dropdownParent,\n                minimumResultsForSearch: this.isMobile() ? -1 : null\n              });\n              this.setAndListenSelect2Change();\n              this.setValue();\n\n            case 9:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.pickLayerInputService) {\n      this.pickLayerInputService.clear();\n      this.pickLayerInputService = null;\n    }\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[(_vm.showPickLayer)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.picklayer'),expression:\"'sdk.form.inputs.tooltips.picklayer'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"cursor\":\"pointer\",\"position\":\"relative\",\"top\":\"2px\",\"font-size\":\"1.2em\"},attrs:{\"slot\":\"label-action\",\"data-placement\":\"top\"},on:{\"click\":_vm.pickLayerValue},slot:\"label-action\"}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('select',{ref:\"select\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"}},[(_vm.showNullOption)?_c('option',{domProps:{\"value\":_vm.select2NullValue}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:_vm.getValue(value.value),domProps:{\"value\":_vm.getValue(value.value)}},[_vm._v(_vm._s(value.key))])})],2)]),_vm._v(\" \"),(_vm.loadingState === 'error')?_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"error-input-message\",attrs:{\"slot\":\"message\"},slot:\"message\"}):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/layers/layer\":35,\"gui/inputs/input\":127,\"gui/inputs/picklayer/service\":135,\"mixins\":331,\"services/gui\":349,\"store/catalog-layers\":362,\"store/map-layers\":365}],244:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  watch: {\n    'state.input.options.min': function stateInputOptionsMin() {\n      this.service.changeInfoMessage();\n    },\n    'state.input.options.max': function stateInputOptionsMax() {\n      this.service.changeInfoMessage();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.value))]),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"min\":_vm.state.input.options.min,\"max\":_vm.state.input.options.max,\"type\":\"range\",\"step\":_vm.state.input.options.step},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"__r\":function($event){return _vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":127}],245:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"keyup\":function($event){_vm.isMobile() ? _vm.mobileChange($event) : _vm.change()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":127}],246:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"textarea[data-v-baa98542]{resize:none;border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('textarea',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"max-width\":\"100%\",\"min-width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"rows\":\"3\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"change\":_vm.change},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-baa98542\"\n\n},{\"gui/inputs/input\":127,\"vueify/lib/insert-css\":2}],247:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"button.ql-html{width:40px!important}button.ql-html:after{content:\\\"html\\\"}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    setupTableCustomTools: function setupTableCustomTools() {\n      var buttonColumnLeft = this.$el.querySelector('.ql-column-left');\n      buttonColumnLeft.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M10.205 12.456A.5.5 0 0 0 10.5 12V4a.5.5 0 0 0-.832-.374l-4.5 4a.5.5 0 0 0 0 .748l4.5 4a.5.5 0 0 0 .537.082z\"/></svg>';\n      buttonColumnLeft.title = \"Add column left\";\n\n      var buttonColumnRight = this.$el.querySelector('.ql-column-right');\n      buttonColumnRight.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M5.795 12.456A.5.5 0 0 1 5.5 12V4a.5.5 0 0 1 .832-.374l4.5 4a.5.5 0 0 1 0 .748l-4.5 4a.5.5 0 0 1-.537.082z\"/></svg>';\n      buttonColumnRight.title = \"Add column right\";\n\n      var buttonColumnRemove = this.$el.querySelector('.ql-column-remove');\n      buttonColumnRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/></svg>';\n      buttonColumnRemove.title = \"Remove column\";\n\n      var buttonRowAbove = this.$el.querySelector('.ql-row-above');\n      buttonRowAbove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-up-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z\"/></svg>';\n      buttonRowAbove.title = \"Add row above\";\n\n\n      var buttonRowBelow = this.$el.querySelector('.ql-row-below');\n      buttonRowBelow.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-down-square\" viewBox=\"0 0 16 16\"><path d=\"M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z\"/><path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z\"/></svg>';\n      buttonRowBelow.title = \"Add row below\";\n\n      var buttonRowRemove = this.$el.querySelector('.ql-row-remove');\n      buttonRowRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-dash-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/></svg>';\n      buttonRowRemove.title = \"Remove row\";\n    }\n  },\n  created: function created() {\n    this.edit_state = {\n      edit: false,\n      show_html: false\n    };\n\n    if (!this.state.edit_states) this.state.edit_states = [];\n    this.state.edit_states.push(this.edit_state);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var toolbarOptions;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toolbarOptions = [[{ header: [1, 2, 3, 4, 5, 6, false] }], [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }], [{ 'color': [] }, { 'background': [] }], ['bold', 'italic', 'underline', { 'list': 'ordered' }, { 'list': 'bullet' }, 'link', 'clean', 'html'], ['table', 'column-left', 'column-right', 'column-remove', 'row-above', 'row-below', 'row-remove']];\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.quill = new Quill(this.$refs.quill_editor, {\n                modules: {\n                  table: true,\n                  toolbar: {\n                    container: toolbarOptions,\n                    handlers: {\n                      html: function html() {\n                        _this.edit_state.show_html = !_this.edit_state.show_html;\n                        if (_this.edit_state.show_html) _this.quill.container.firstChild.innerText = _this.quill.container.firstChild.innerHTML;else _this.quill.container.firstChild.innerHTML = _this.quill.container.firstChild.innerText;\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                          for (var _iterator = _this.$el.querySelectorAll('.ql-formats')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var qlformat = _step.value;\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                              for (var _iterator2 = qlformat.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var child = _step2.value;\n\n                                if (!child.classList.contains('ql-html')) child.classList.toggle('g3w-disabled');else child.classList.toggle('skin-color');\n                              }\n                            } catch (err) {\n                              _didIteratorError2 = true;\n                              _iteratorError2 = err;\n                            } finally {\n                              try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                  _iterator2.return();\n                                }\n                              } finally {\n                                if (_didIteratorError2) {\n                                  throw _iteratorError2;\n                                }\n                              }\n                            }\n                          }\n                        } catch (err) {\n                          _didIteratorError = true;\n                          _iteratorError = err;\n                        } finally {\n                          try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                              _iterator.return();\n                            }\n                          } finally {\n                            if (_didIteratorError) {\n                              throw _iteratorError;\n                            }\n                          }\n                        }\n                      },\n                      'column-left': function columnLeft() {\n                        return _this.table.insertColumnLeft();\n                      },\n                      'column-right': function columnRight() {\n                        return _this.table.insertColumnRight();\n                      },\n                      'column-remove': function columnRemove() {\n                        return _this.table.deleteColumn();\n                      },\n                      'row-above': function rowAbove() {\n                        return _this.table.insertRowAbove();\n                      },\n                      'row-below': function rowBelow() {\n                        return _this.table.insertRowBelow();\n                      },\n                      'row-remove': function rowRemove() {\n                        return _this.table.deleteRow();\n                      }\n                    }\n\n                  }\n                },\n                theme: 'snow'\n              });\n              this.quill.container.firstChild.innerHTML = this.state.value;\n\n              this.table = this.quill.getModule('table');\n              this.setupTableCustomTools();\n\n              this.handler = function () {\n                _this.state.value = _this.edit_state.show_html ? _this.quill.container.firstChild.innerText : _this.quill.container.firstChild.innerHTML;\n                _this.edit_state.edit = true;\n                _this.change();\n                setTimeout(function () {\n                  return _this.edit_state.edit = false;\n                });\n              };\n\n              this.quill.on('text-change', this.handler);\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    'state.value': function stateValue(value) {\n      if (!this.edit_state.edit) {\n        if (this.edit_state.show_html) this.quill.container.firstChild.innerText = value;else this.quill.container.firstChild.innerHTML = value;\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.quill.off('text-change', this.handler);\n    this.handler = null;\n    this.quill = null;\n    this.edit_state.edit = false;\n    this.edit_state.show_html = false;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"state\":_vm.state}},[_c('div',{ref:\"quill_editor\",staticClass:\"form-control\",style:({border: _vm.novalid ? '1px solid reed' : '1px solid #ccc'}),attrs:{\"slot\":\"body\"},on:{\"keydown\":function($event){$event.stopPropagation();}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":127,\"vueify/lib/insert-css\":2}],248:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.selectMixin],\n  data: function data() {\n    var id = 'unique_' + getUniqueDomId();\n    return { id: id };\n  },\n\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.state.value = this.state.value ? this.state.value : null;\n                this.state.value !== null && values.indexOf(this.state.value) === -1 && this.service.addValueToValues(this.state.value);\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.state.value && this.select2.val(this.state.value).trigger('change');\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.state.input.options.editable) {\n                this.select2 = $('#' + this.id).select2({\n                  dropdownParent: $('#g3w-view-content'),\n                  tags: true,\n                  language: this.getLanguage()\n                });\n                this.select2.val(this.state.value).trigger('change');\n                this.select2.on('select2:select', function (event) {\n                  var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n                  _this.changeSelect(value);\n                });\n              }\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"id\":_vm.id,\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('option',{attrs:{\"value\":\"null\"}}),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:value,domProps:{\"value\":_vm.getValue(value)}},[_vm._v(_vm._s(_vm.getValue(value)))])})],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":127,\"mixins\":331}],249:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapAddLayer = require('components/MapAddLayer.vue');\n\nvar _MapAddLayer2 = _interopRequireDefault(_MapAddLayer);\n\nvar _MapFooter = require('components/MapFooter.vue');\n\nvar _MapFooter2 = _interopRequireDefault(_MapFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    var _$options = this.$options,\n        service = _$options.service,\n        target = _$options.target;\n\n    return {\n      target: target,\n      maps_container: this.$options.maps_container,\n      service: service,\n      hidemaps: service.state.hidemaps,\n      map_info: service.state.map_info\n    };\n  },\n\n  components: {\n    'addlayer': _MapAddLayer2.default,\n    MapFooter: _MapFooter2.default\n  },\n  computed: {\n    mapcontrolsalignement: function mapcontrolsalignement() {\n      return this.service.state.mapcontrolsalignement;\n    },\n    disableMapControls: function disableMapControls() {\n      return this.service.state.mapControl.disabled;\n    }\n  },\n  methods: {\n    showHideControls: function showHideControls() {\n      var mapControls = this.service.getMapControls();\n      mapControls.forEach(function (control) {\n        return control.type !== \"scaleline\" && control.control.showHide();\n      });\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.crs = this.service.getCrs();\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.service.setMapControlsContainer($(this.$refs['g3w-map-controls']));\n\n              this.service.onafter('addHideMap', _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                    ratio = _ref3.ratio,\n                    _ref3$layers = _ref3.layers,\n                    layers = _ref3$layers === undefined ? [] : _ref3$layers,\n                    _ref3$mainview = _ref3.mainview,\n                    mainview = _ref3$mainview === undefined ? false : _ref3$mainview,\n                    _ref3$switchable = _ref3.switchable,\n                    switchable = _ref3$switchable === undefined ? false : _ref3$switchable;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _this.$nextTick();\n\n                      case 2:\n                        _this.service._addHideMap({ ratio: ratio, layers: layers, mainview: mainview, switchable: switchable });\n\n                      case 3:\n                      case 'end':\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, _this);\n              })));\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.maps_container}},[_vm._l((_vm.hidemaps),function(hidemap){return _c('div',{key:hidemap.id,staticClass:\"g3w-map hidemap\",attrs:{\"id\":hidemap.id}})}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map\",attrs:{\"id\":_vm.target}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapControls),expression:\"disableMapControls\"}],ref:\"g3w-map-controls\",staticClass:\"g3w-map-controls\",class:_vm.mapcontrolsalignement,staticStyle:{\"display\":\"flex\"}}),_vm._v(\" \"),(_vm.map_info.info)?_c('div',{ref:\"g3w-map-info\",style:(_vm.map_info.style),attrs:{\"id\":\"g3w-map-info\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.map_info.info)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('addlayer',{attrs:{\"service\":_vm.service}})],1),_vm._v(\" \"),_c('map-footer',{attrs:{\"service\":_vm.service}})],2)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{attrs:{\"id\":\"marker\"}})])}]\n\n},{\"components/MapAddLayer.vue\":250,\"components/MapFooter.vue\":251}],250:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueColor = require('vue-color');\n\nvar _constant = require('app/constant');\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    createVectorLayerFromFile = _require.createVectorLayerFromFile,\n    createStyleFunctionToVectorLayer = _require.createStyleFunctionToVectorLayer;\n\nvar SUPPORTED_FORMAT = ['zip', 'geojson', 'GEOJSON', 'kml', 'kmz', 'KMZ', 'KML', 'json', 'gpx', 'gml', 'csv'];\nvar CSV_SEPARATORS = [',', ';'];\n\n_vueColor.Chrome.mounted = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return this.$nextTick();\n\n        case 2:\n          $('.vue-color__chrome__toggle-btn').remove();\n          $('.vue-color__editable-input__label').remove();\n          $('.vue-color__chrome__saturation-wrap').css('padding-bottom', '100px');\n          $('.vue-color__chrome').css({\n            'box-shadow': '0 0 0 0',\n            'border': '1px solid #97A1A8'\n          });\n\n        case 6:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nexports.default = {\n  props: ['service'],\n  data: function data() {\n    var MAPEPSG = this.service.getCrs();\n    _constant.EPSG.find(function (epsg) {\n      return epsg === MAPEPSG;\n    }) === undefined && _constant.EPSG.unshift(MAPEPSG);\n    return {\n      vectorLayer: null,\n      options: _constant.EPSG,\n      error: false,\n      error_message: null,\n      position: null,\n      loading: false,\n      fields: [],\n      field: null,\n      accepted_extension: SUPPORTED_FORMAT.map(function (format) {\n        return '.' + format;\n      }).join(','),\n      csv: {\n        valid: false,\n        loading: false,\n        headers: [],\n        x: null,\n        y: null,\n        separators: CSV_SEPARATORS,\n        separator: CSV_SEPARATORS[0]\n      },\n      layer: {\n        name: null,\n        type: null,\n        crs: null,\n        mapCrs: null,\n        color: {\n          hex: '#194d33',\n          rgba: {\n            r: 25,\n            g: 77,\n            b: 51,\n            a: 1\n          },\n          a: 1\n        },\n        data: null,\n        visible: true,\n        title: null,\n        id: null,\n        external: true\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome\n  },\n  methods: {\n    setLayerMapPosition: function setLayerMapPosition(position) {\n      this.position = position;\n    },\n    setError: function setError(type) {\n      this.error_message = 'sdk.errors.' + type;\n      this.error = true;\n    },\n    clearError: function clearError() {\n      this.error = false;\n      this.error_message = null;\n    },\n    onChangeColor: function onChangeColor(val) {\n      this.layer.color = val;\n    },\n    onAddLayer: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n        var _this = this;\n\n        var reader, name, type, input_file, promiseData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.csv.valid = true;\n                reader = new FileReader();\n                name = evt.target.files[0].name;\n                type = evt.target.files[0].name.split('.');\n\n                type = type[type.length - 1].toLowerCase();\n                input_file = $(this.$refs.input_file);\n\n                if (!(SUPPORTED_FORMAT.indexOf(type) !== -1)) {\n                  _context2.next = 33;\n                  break;\n                }\n\n                this.clearError();\n                this.layer.mapCrs = this.service.getEpsg();\n                this.layer.name = name;\n                this.layer.title = name;\n                this.layer.id = name;\n                this.layer.type = type;\n\n                if (!(this.layer.type === 'csv')) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                reader.onload = function (evt) {\n                  input_file.val(null);\n                  var csv_data = evt.target.result.split(/\\r\\n|\\n/).filter(function (row) {\n                    return row;\n                  });\n\n                  var _csv_data = _toArray(csv_data),\n                      headers = _csv_data[0],\n                      values = _csv_data.slice(1);\n\n                  var handle_csv_headers = function handle_csv_headers(separator) {\n                    var data = void 0;\n                    _this.csv.loading = true;\n                    var csv_headers = headers.split(separator);\n                    var headers_length = csv_headers.length;\n                    if (headers_length > 1) {\n                      _this.csv.headers = csv_headers;\n                      _this.fields = csv_headers;\n                      _this.csv.x = csv_headers[0];\n                      _this.csv.y = csv_headers[1];\n                      data = {\n                        headers: csv_headers,\n                        separator: separator,\n                        x: _this.csv.x,\n                        y: _this.csv.y,\n                        values: values\n                      };\n                      _this.csv.valid = true;\n                    } else {\n                      _this.csv.headers = _this.fields = [];\n                      _this.vectorLayer = null;\n                      _this.csv.valid = false;\n                      _this.fields.splice(0);\n                    }\n                    _this.csv.loading = false;\n                    return data;\n                  };\n                  _this.layer.data = handle_csv_headers(_this.csv.separator);\n                  _this.$watch('csv.separator', function (separator) {\n                    return _this.layer.data = handle_csv_headers(separator);\n                  });\n                };\n                reader.readAsText(evt.target.files[0]);\n                _context2.next = 31;\n                break;\n\n              case 18:\n                promiseData = new Promise(function (resolve, reject) {\n                  if (_this.layer.type === 'zip' || _this.layer.type === 'kmz') {\n                    var data = evt.target.files[0];\n                    input_file.val(null);\n                    resolve(data);\n                  } else {\n                    reader.onload = function (evt) {\n                      var data = evt.target.result;\n                      input_file.val(null);\n                      resolve(data);\n                    };\n                    reader.readAsText(evt.target.files[0]);\n                  }\n                });\n                _context2.next = 21;\n                return promiseData;\n\n              case 21:\n                this.layer.data = _context2.sent;\n                _context2.prev = 22;\n\n                this.fields.splice(0);_context2.next = 26;\n                return this.createVectorLayer();\n\n              case 26:\n                this.fields = this.vectorLayer.get('_fields');\n                _context2.next = 31;\n                break;\n\n              case 29:\n                _context2.prev = 29;\n                _context2.t0 = _context2['catch'](22);\n\n              case 31:\n                _context2.next = 34;\n                break;\n\n              case 33:\n                this.setError('unsupported_format');\n\n              case 34:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[22, 29]]);\n      }));\n\n      function onAddLayer(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onAddLayer;\n    }(),\n    createVectorLayer: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return createVectorLayerFromFile(this.layer);\n\n              case 3:\n                this.vectorLayer = _context3.sent;\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](0);\n                this.setError('add_external_layer');\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      function createVectorLayer() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return createVectorLayer;\n    }(),\n    addLayer: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.vectorLayer || this.csv.valid)) {\n                  _context4.next = 17;\n                  break;\n                }\n\n                this.loading = true;\n                _context4.prev = 2;\n                _context4.next = 5;\n                return createVectorLayerFromFile(this.layer);\n\n              case 5:\n                this.vectorLayer = _context4.sent;\n\n                this.vectorLayer.setStyle(createStyleFunctionToVectorLayer({\n                  color: this.layer.color,\n                  field: this.field\n                }));\n                _context4.next = 9;\n                return this.service.addExternalLayer(this.vectorLayer, {\n                  crs: this.layer.crs,\n                  type: this.layer.type,\n                  position: this.position\n\n                });\n\n              case 9:\n                $(this.$refs.modal_addlayer).modal('hide');\n                this.clearLayer();\n                _context4.next = 16;\n                break;\n\n              case 13:\n                _context4.prev = 13;\n                _context4.t0 = _context4['catch'](2);\n\n                this.setError('add_external_layer');\n\n              case 16:\n                this.loading = false;\n\n              case 17:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 13]]);\n      }));\n\n      function addLayer() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return addLayer;\n    }(),\n    clearLayer: function clearLayer() {\n      this.clearError();\n      this.loading = false;\n      this.layer.name = null;\n      this.layer.title = null;\n      this.layer.id = null;\n      this.layer.type = null;\n      this.layer.crs = this.service.getCrs();\n      this.layer.color = {\n        hex: '#194d33',\n        rgba: {\n          r: 25,\n          g: 77,\n          b: 51,\n          a: 1\n        },\n        a: 1\n      };\n      this.layer.data = null;\n      this.vectorLayer = null;\n      this.fields = [];\n      this.field = null;\n    }\n  },\n  computed: {\n    csv_extension: function csv_extension() {\n      return this.layer.type === 'csv';\n    },\n    add: function add() {\n      return this.vectorLayer || this.csv.valid;\n    }\n  },\n  watch: {\n    'csv.x': function csvX(value) {\n      if (value) this.layer.data.x = value;\n    },\n    'csv.y': function csvY(value) {\n      if (value) this.layer.data.y = value;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layer.crs = this.service.getCrs();\n    this.service.on('addexternallayer', function () {\n      return _this2.modal.modal('show');\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.modal = $('#modal-addlayer').modal('hide');\n              this.modal.on('hidden.bs.modal', function () {\n                return _this3.clearLayer();\n              });\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.clearLayer();\n    this.modal.modal('hide');\n    this.modal.remove();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal_addlayer\",staticClass:\"modal fade\",attrs:{\"id\":\"modal-addlayer\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.header'),expression:\"'mapcontrols.add_layer_control.header'\"}],staticClass:\"modal-title\",staticStyle:{\"font-weight\":\"bold\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_projection'),expression:\"'mapcontrols.add_layer_control.select_projection'\"}],attrs:{\"for\":\"projection-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layer.crs),expression:\"layer.crs\"}],staticClass:\"form-control\",attrs:{\"id\":\"projection-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.layer, \"crs\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.options),function(option){return _c('option',{domProps:{\"value\":option}},[_vm._v(_vm._s(option))])}),0)]),_vm._v(\" \"),_c('layerspositions',{on:{\"layer-position-change\":function($event){return _vm.setLayerMapPosition($event)}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_color'),expression:\"'mapcontrols.add_layer_control.select_color'\"}],staticStyle:{\"font-weight\":\"700\"}}),_vm._v(\" \"),_c('chrome-picker',{staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},on:{\"input\":_vm.onChangeColor},model:{value:(_vm.layer.color),callback:function ($$v) {_vm.$set(_vm.layer, \"color\", $$v)},expression:\"layer.color\"}}),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('form',{attrs:{\"id\":\"addcustomlayer\"}},[_c('input',{ref:\"input_file\",attrs:{\"type\":\"file\",\"title\":\" \",\"accept\":_vm.accepted_extension},on:{\"change\":function($event){return _vm.onAddLayer($event)}}}),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.drag_layer'),expression:\"'mapcontrols.add_layer_control.drag_layer'\"}]}),_vm._v(\" \"),(_vm.layer.name)?_c('h4',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layer.name))]):_vm._e(),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"fa-5x\",class:_vm.g3wtemplate.getFontClass('cloud-upload'),attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[.gml, .geojson, .kml, .kmz ,.gpx, .csv, .zip(shapefile)]\")])]),_vm._v(\" \"),(_vm.csv_extension)?_c('div',{staticStyle:{\"padding\":\"15px\",\"border\":\"1px solid grey\",\"border-radius\":\"3px\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.csv.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"select_field\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_separator'),expression:\"'mapcontrols.add_layer_control.select_csv_separator'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.separator),expression:\"csv.separator\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-separator\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"separator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.separators),function(separator){return _c('option',{key:separator,domProps:{\"value\":separator}},[_vm._v(_vm._s(separator))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_x_field'),expression:\"'mapcontrols.add_layer_control.select_csv_x_field'\"}],attrs:{\"for\":\"g3w-select-x-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.x),expression:\"csv.x\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-x-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"x\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_y_field'),expression:\"'mapcontrols.add_layer_control.select_csv_y_field'\"}],attrs:{\"for\":\"g3w-select-y-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.y),expression:\"csv.y\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-y-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"y\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.fields || _vm.fields.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_field_to_show'),expression:\"'mapcontrols.add_layer_control.select_field_to_show'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.field),expression:\"field\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-field-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.field=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---\")]),_vm._v(\" \"),_vm._l((_vm.fields),function(field){return _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(_vm._s(field))])})],2)]),_vm._v(\" \"),(_vm.error)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.error_message),expression:\"error_message\"}],staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.2em\",\"background-color\":\"orange\",\"padding\":\"10px\",\"text-align\":\"center\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"}],staticClass:\"btn btn-success pull-left\",attrs:{\"type\":\"button\",\"disabled\":!_vm.add},on:{\"click\":_vm.addLayer}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('close'),expression:\"'close'\"}],staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}})])],1)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"core/utils/geo\":65,\"vue-color\":\"vue-color\"}],251:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapFooterRight = require('components/MapFooterRight.vue');\n\nvar _MapFooterRight2 = _interopRequireDefault(_MapFooterRight);\n\nvar _MapFooterLeft = require('components/MapFooterLeft.vue');\n\nvar _MapFooterLeft2 = _interopRequireDefault(_MapFooterLeft);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  components: {\n    MapFooterRight: _MapFooterRight2.default,\n    MapFooterLeft: _MapFooterLeft2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skin-border-color\",attrs:{\"id\":\"map_footer\"}},[_c('map-footer-left'),_vm._v(\" \"),_c('map-footer-right',{attrs:{\"service\":_vm.service}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/MapFooterLeft.vue\":252,\"components/MapFooterRight.vue\":253}],252:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Mapfooter'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_left\"}},[_c('a',{staticStyle:{\"margin-left\":\"5px\",\"align-self\":\"center\"},attrs:{\"href\":\"https://g3wsuite.it/\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"height\":\"15\",\"src\":\"/static/client/images/g3wsuite_logo.png\",\"alt\":\"\"}})])])}]\n\n},{}],253:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      mouse: {\n        switch_icon: false,\n        epsg_4326: false,\n        tooltip: null\n      },\n      mapunit: _applicationState2.default.map.unit\n    };\n  },\n\n  computed: {\n    showmapunits: function showmapunits() {\n      return this.service.state.mapunits.length > 1;\n    }\n  },\n  methods: {\n    createCopyMapExtentUrl: function createCopyMapExtentUrl() {\n      this.service.createCopyMapExtentUrl();\n    },\n    switchMapsCoordinateTo4326: function switchMapsCoordinateTo4326() {\n      this.mouse.epsg_4326 = !this.mouse.epsg_4326;\n    }\n  },\n  watch: {\n    'mapunit': function mapunit(unit) {\n      _applicationState2.default.map.unit = unit;\n      this.service.changeScaleLineUnit(unit);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.service.once('ready', function () {\n                _this.mouse.switch_icon = _this.service.getEpsg() !== 'EPSG:4326';\n                _this.mouse.tooltip = 'ESPG ' + _this.service.getCrs().split(':')[1] + ' <--> WGS84';\n              });\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_right\"}},[_c('div',{attrs:{\"id\":\"scale-control\"}}),_vm._v(\" \"),(_vm.mouse.switch_icon && !_vm.isMobile())?_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:(_vm.mouse.tooltip),expression:\"mouse.tooltip\",arg:\"top\",modifiers:{\"create\":true}}],attrs:{\"id\":\"switch-mouse-coordinate\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.switchMapsCoordinateTo4326($event)}}},[_c('span',{staticClass:\"skin-color hide-cursor-caret-color\",class:_vm.g3wtemplate.getFontClass('mouse')})]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mouse.epsg_4326),expression:\"!mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouse.epsg_4326),expression:\"mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control-epsg-4326\"}}),_vm._v(\" \"),(_vm.showmapunits)?_c('div',{attrs:{\"id\":\"scale-line-units\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapunit),expression:\"mapunit\"}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px 2px\",\"font-weight\":\"bold\",\"border\":\"0\",\"cursor\":\"pointer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.mapunit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.service.state.mapunits),function(unit){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"sdk.mapcontrols.scaleline.units.\" + unit)),expression:\"`sdk.mapcontrols.scaleline.units.${unit}`\"}],staticStyle:{\"font-weight\":\"bold\"},domProps:{\"value\":unit,\"selected\":_vm.mapunit === unit}})}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.tooltips.copy_map_extent_url'),expression:\"'sdk.tooltips.copy_map_extent_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"background-color\":\"#eeeeee\"},attrs:{\"id\":\"permalink\"}},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link'),on:{\"click\":function($event){$event.stopPropagation();return _vm.createCopyMapExtentUrl($event)}}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"store/application-state\":361}],254:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\n__vue__options__.staticRenderFns = []\n\n},{}],255:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer_header[data-v-409d907d]{padding:5px;margin-bottom:0;margin-top:0;cursor:pointer}.layer-name[data-v-409d907d]{font-weight:700}.layer-header-icon[data-v-409d907d]{margin-right:10px;color:#999}.layer_header span.open-close[data-v-409d907d]{position:absolute;right:5px;color:#999}.metadata-label[data-v-409d907d]{font-weight:700;font-size:1.1em}.row[data-v-409d907d]{padding:10px;border-bottom:1px solid #e2e2e2}.nav-tabs[data-v-409d907d]{border-bottom:0 solid #ddd}.nav-tabs>li.active>a[data-v-409d907d],.nav-tabs>li.active>a[data-v-409d907d]:focus,.nav-tabs>li.active>a[data-v-409d907d]:hover{border-width:0}.nav-tabs>li>a[data-v-409d907d]{border:none;color:#aeaeae}.nav-tabs>li.active>a[data-v-409d907d],.nav-tabs>li>a[data-v-409d907d]:hover{border:none;background:transparent}.nav-tabs>li>a[data-v-409d907d]:after{content:\\\"\\\";height:2px;position:absolute;width:100%;left:0;bottom:-1px;transition:all .25s ease 0s;transform:scale(0)}.nav-tabs>li.active>a[data-v-409d907d]:after,.nav-tabs>li:hover>a[data-v-409d907d]:after{transform:scale(1)}.tab-nav>li>a[data-v-409d907d]:after{background:#21527d none repeat scroll 0 0;color:#fff}.tab-content[data-v-409d907d]{margin:10px;background-color:#eee;overflow:auto}.spatial-tab[data-v-409d907d]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"layer\",\n  mixins: [_mixins.metadataMixin],\n  props: {\n    state: {}\n  },\n  data: function data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    isSpatial: function isSpatial() {\n      return this.state.geometrytype != 'NoGeometry';\n    }\n  },\n  methods: {\n    showHideInfo: function showHideInfo() {\n      this.show = !this.show;\n    }\n  },\n  mounted: function mounted() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-info\"},[_c('h4',{staticClass:\"layer_header\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#' + _vm.state.id},on:{\"click\":_vm.showHideInfo}},[_c('i',{staticClass:\"layer-header-icon action-button nohover\",class:[_vm.isSpatial ? _vm.g3wtemplate.font['map']: _vm.g3wtemplate.font['table']],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"layer-name\"},[_vm._v(_vm._s(_vm.state.name))]),_vm._v(\" \"),_c('span',{staticClass:\"action-button nohover open-close\",class:[_vm.show ? _vm.g3wtemplate.getFontClass('minus') :_vm.g3wtemplate.getFontClass('plus')]})]),_vm._v(\" \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":_vm.state.id}},[_c('ul',{staticClass:\"metadata-nav-tabs nav nav-tabs\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.general'),expression:\"'sdk.metadata.groups.layers.groups.general'\"}],attrs:{\"href\":'#layer_general_' + _vm.state.id,\"aria-controls\":\"general\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]),_vm._v(\" \"),(_vm.isSpatial)?_c('li',{staticClass:\"spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.spatial'),expression:\"'sdk.metadata.groups.layers.groups.spatial'\"}],attrs:{\"href\":'#layer_spatial_' + _vm.state.id,\"aria-controls\":\"profile\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane active\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_general_' + _vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findAttributeFormMetadataAttribute('title'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.title'),expression:\"'sdk.metadata.groups.layers.fields.subfields.title'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.metadata.title))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('name'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.name'),expression:\"'sdk.metadata.groups.layers.fields.subfields.name'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.name))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('source'))?_c('div',{staticClass:\"row metadata-layer-source\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.source'),expression:\"'sdk.metadata.groups.layers.fields.subfields.source'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label metadata-layer-source-value-key\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value metadata-layer-source-value\"},[_vm._v(_vm._s(_vm.state.source.type))])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('abstract'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.abstract'),expression:\"'sdk.metadata.groups.layers.fields.subfields.abstract'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",domProps:{\"innerHTML\":_vm._s( _vm.state.metadata.abstract)}})]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('keywords'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.keywords'),expression:\"'sdk.metadata.groups.layers.fields.subfields.keywords'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('div',[_vm._v(_vm._s(_vm.state.metadata.keywords.join(', ')))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('metadataurl') && _vm.state.metadata.metadataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.metadataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.metadataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.metadataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.metadataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('dataurl') && _vm.state.metadata.dataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.dataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.dataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.dataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.dataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('attributes'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.attributes'),expression:\"'sdk.metadata.groups.layers.fields.subfields.attributes'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",staticStyle:{\"overflow\":\"auto\"}},[_c('table',{staticClass:\"table table-striped\",staticStyle:{\"background-color\":\"#eeeeee !important\"}},[_c('thead',[_c('tr',_vm._l((_vm.state.metadata.attributes[0]),function(value,header){return _c('th',[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.state.metadata.attributes),function(attribute){return _c('tr',_vm._l((attribute),function(value,header){return _c('td',[_vm._v(_vm._s(value))])}),0)}),0)])])]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_spatial_'+_vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.crs'),expression:\"'sdk.metadata.groups.layers.fields.subfields.crs'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.crs.epsg))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('geometrytype'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.geometrytype'),expression:\"'sdk.metadata.groups.layers.fields.subfields.geometrytype'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.geometrytype))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('bbox'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.bbox'),expression:\"'sdk.metadata.groups.layers.fields.subfields.bbox'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.bbox),function(value,key){return _c('p',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"5px\"}},[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(value))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-label\"},[_vm._v(\"CRS\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.metadata.crs),function(crs){return _c('div',[_c('span',[_vm._v(_vm._s(crs))])])}),0)]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-409d907d\"\n\n},{\"mixins\":331,\"vueify/lib/insert-css\":2}],256:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-nav-bar li a[data-v-032bed45]{text-align:center}.metadata-nav-bar li a i[data-v-032bed45]{margin-right:5px}.metadata-item-tab[data-v-032bed45]{margin-right:10px;border-radius:3px;margin-bottom:10px}.metadata-body[data-v-032bed45]{overflow-y:auto;overflow-x:hidden;padding-left:0;padding-right:0}.tab-title[data-v-032bed45]{position:absolute;bottom:10px;right:auto}.row-info[data-v-032bed45]{margin:0!important;padding-top:10px;padding-bottom:10px;border-bottom:1px solid #eee}.row-info .label[data-v-032bed45]{font-weight:700}.h_90[data-v-032bed45]{height:90%}.h_100[data-v-032bed45]{height:100%}#project-catalog[data-v-032bed45]{position:relative;overflow:auto}.nav-tabs-wrapper[data-v-032bed45]{display:inline-block;margin-bottom:-6px;margin-left:1.25%;margin-right:1.25%;position:relative;width:100%}.nav-tabs[data-v-032bed45]{border-bottom:0 none}.nav-stacked[data-v-032bed45]{font-size:1.2em;font-weight:700;padding:10px 0}.nav-stacked li a[data-v-032bed45]{color:#fff}.left-vertical-tabs[data-v-032bed45]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _MetadataLayer = require('components/MetadataLayer.vue');\n\nvar _MetadataLayer2 = _interopRequireDefault(_MetadataLayer);\n\nvar _MetadataProjectTabContent = require('components/MetadataProjectTabContent.vue');\n\nvar _MetadataProjectTabContent2 = _interopRequireDefault(_MetadataProjectTabContent);\n\nvar _MetadataProjectBBoxContent = require('components/MetadataProjectBBoxContent.vue');\n\nvar _MetadataProjectBBoxContent2 = _interopRequireDefault(_MetadataProjectBBoxContent);\n\nvar _MetadataProjectContactsContent = require('components/MetadataProjectContactsContent.vue');\n\nvar _MetadataProjectContactsContent2 = _interopRequireDefault(_MetadataProjectContactsContent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"project\",\n  data: function data() {\n    return {\n      state: this.$options.state,\n      iconsClass: {\n        info: this.g3wtemplate.getFontClass(\"info-circle\"),\n        globe: this.g3wtemplate.getFontClass(\"globe\"),\n        bars: this.g3wtemplate.getFontClass(\"bars\")\n      }\n    };\n  },\n\n  components: {\n    'metadata-layer': _MetadataLayer2.default,\n    'metadata-tab-content': _MetadataProjectTabContent2.default,\n    'metadata-bbox-content': _MetadataProjectBBoxContent2.default,\n    'metadata-contacts-content': _MetadataProjectContactsContent2.default\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    },\n    setComponent: function setComponent(key) {\n      var component = void 0;\n      switch (key) {\n        case 'extent':\n          component = 'metadata-bbox-content';\n          break;\n        case 'contactinformation':\n          component = 'metadata-contacts-content';\n          break;\n        default:\n          component = 'metadata-tab-content';\n      }\n      return component;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-catalog\"}},[_c('div',{class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"padding\":\"0\"},attrs:{\"id\":\"project-catalog-container\"}},[_c('ul',{staticClass:\"nav nav-tabs metadata-nav-bar\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active\"},[_c('a',{staticClass:\"metadata-item-tab general\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#general\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.g3wtemplate.getFontClass('info'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.title'),expression:\"'sdk.metadata.groups.general.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab spatial\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#spatial\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.globe,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.spatial.title'),expression:\"'sdk.metadata.groups.spatial.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab layers\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#metadata_layers\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.bars,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.title'),expression:\"'sdk.metadata.groups.layers.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 metadata-body tab-content\"},[_c('div',{staticClass:\"tab-pane fade in active\",attrs:{\"id\":\"general\"}},[_vm._l((_vm.state.groups.general),function(data,key){return _c('div',{staticClass:\"row h_100 row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"spatial\"}},[_c('div',[_vm._l((_vm.state.groups.spatial),function(data,key){return _c('div',{staticClass:\"row row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"metadata_layers\"}},_vm._l((_vm.state.groups.layers.layers.value),function(layer){return _c('metadata-layer',{attrs:{\"state\":layer}})}),1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-032bed45\"\n\n},{\"components/MetadataLayer.vue\":255,\"components/MetadataProjectBBoxContent.vue\":257,\"components/MetadataProjectContactsContent.vue\":258,\"components/MetadataProjectTabContent.vue\":259,\"vueify/lib/insert-css\":2}],257:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-4f6ab04a]{font-weight:700;font-size:1.1em}.bbox-labels[data-v-4f6ab04a]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"metadatabbox\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      bboxlabels: ['MINX', 'MINY', 'MAXX', 'MAXY']\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,index){return _c('div',[_c('span',{staticClass:\"bbox-labels\"},[_vm._v(_vm._s(_vm.bboxlabels[index]))]),_vm._v(\" \"+_vm._s(value)+\"\\n      \")])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f6ab04a\"\n\n},{\"vueify/lib/insert-css\":2}],258:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-734c25d1]{font-weight:700;font-size:1.1em}.metadata-contact-label[data-v-734c25d1]{font-weight:700}.contact-icon[data-v-734c25d1]{margin-right:3px}.row[data-v-734c25d1]{margin-bottom:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatacontatcs\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      iconsClass: {\n        contactelectronicmailaddress: this.g3wtemplate.getFontClass(\"mail\"),\n        personprimary: this.g3wtemplate.getFontClass(\"user\"),\n        contactvoicetelephone: this.g3wtemplate.getFontClass(\"mobile\")\n      }\n    };\n  },\n\n  methods: {\n    sanitizeValue: function sanitizeValue(value) {\n      if (value !== null && value !== undefined) {\n        if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n          value = Object.keys(value).length ? value : '';\n        } else if (Array.isArray(value)) {\n          value = value.length ? value : '';\n        }\n      }\n      return value;\n    },\n    geti18n: function geti18n(key) {}\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-contact-label\"},[_c('i',{staticClass:\"contact-icon\",class:_vm.iconsClass[key],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10\"},[(key === 'personprimary')?_vm._l((value),function(subvalue,key){return _c('div',[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}],staticClass:\"metadata-contact-label\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(subvalue))])])}):_c('div',[(key === 'contactelectronicmailaddress')?[_c('a',{staticStyle:{\"font-weight\":\"bold\"},attrs:{\"href\":'mailto:' + _vm.sanitizeValue(value)}},[_vm._v(_vm._s(_vm.sanitizeValue(value)))])]:[_vm._v(\"\\n              \"+_vm._s(_vm.sanitizeValue(value))+\"\\n            \")]],2)],2)])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-734c25d1\"\n\n},{\"vueify/lib/insert-css\":2}],259:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-16751e49]{font-weight:700;font-size:1.1em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatatabcontent\",\n  props: {\n    data: {},\n    fieldName: {}\n  },\n  computed: {\n    arrayToString: function arrayToString() {\n      return this.data.value.join(', ');\n    }\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),(_vm.fieldName == 'keywords')?_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(\"\\n    \"+_vm._s(_vm.arrayToString)+\"\\n  \")]):(_vm.fieldName == 'wms_url')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm.data.value))])]):(!_vm.isArrayorObject(_vm.data.value))?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):(_vm.fieldName == 'abstract')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('span',[_vm._v(_vm._s(value))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-16751e49\"\n\n},{\"vueify/lib/insert-css\":2}],260:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemLeft\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-left\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-214afbb2\"\n\n},{\"services/navbaritems\":353}],261:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemRight\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-right\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-45599481\"\n\n},{\"services/navbaritems\":353}],262:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'download-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"download\",rawName:\"v-download.show\",modifiers:{\"show\":true}}],staticClass:\"skin-color\",attrs:{\"id\":\"download_notification\",\"title\":\"DOWNLOAD\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"padding\":\"3px\"}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],263:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'online-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"online\",rawName:\"v-online:hide\",arg:\"hide\"}],staticStyle:{\"color\":\"#999\"},attrs:{\"id\":\"offline_notification\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('wifi')}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"0.4em\"}},[_vm._v(\"offline\")])])}\n__vue__options__.staticRenderFns = []\n\n},{}],264:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'plugins-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"plugins\",rawName:\"v-plugins\"}],staticStyle:{\"color\":\"#994b10\"},attrs:{\"id\":\"plugins_notification\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('plugin')})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],265:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PrintSelectAtlasFieldValues = require('components/PrintSelectAtlasFieldValues.vue');\n\nvar _PrintSelectAtlasFieldValues2 = _interopRequireDefault(_PrintSelectAtlasFieldValues);\n\nvar _PrintFidAtlasValues = require('components/PrintFidAtlasValues.vue');\n\nvar _PrintFidAtlasValues2 = _interopRequireDefault(_PrintFidAtlasValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      button: {\n        class: \"btn-success\",\n        type: \"stampa\",\n        disabled: false\n      }\n    };\n  },\n\n  components: {\n    SelectAtlasFieldValues: _PrintSelectAtlasFieldValues2.default,\n    FidAtlasValues: _PrintFidAtlasValues2.default\n  },\n  computed: {\n    disabled: function disabled() {\n      return this.state.output.loading || !!this.state.atlas && this.state.atlasValues.length === 0;\n    }\n  },\n  methods: {\n    setDisabledPrintButton: function setDisabledPrintButton() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.button.disabled = bool;\n    },\n    setAtlasValues: function setAtlasValues() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.atlasValues = values;\n    },\n    onChangeTemplate: function onChangeTemplate() {\n      this.$options.service.changeTemplate();\n    },\n    onChangeScale: function onChangeScale() {\n      this.$options.service.changeScale();\n    },\n    onChangeFormat: function onChangeFormat() {},\n    onChangeDpi: function onChangeDpi() {},\n    onChangeRotation: function onChangeRotation(evt) {\n      if (this.state.rotation >= 0 && !_.isNil(this.state.rotation) && this.state.rotation != '') {\n        this.state.rotation = this.state.rotation > 360 ? 360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else if (this.state.rotation < 0) {\n        this.state.rotation = this.state.rotation < -360 ? -360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else {\n        this.state.rotation = 0;\n      }\n      this.$options.service.changeRotation();\n    },\n    print: function print() {\n      this.$options.service.print();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu\",attrs:{\"id\":\"print\"}},[_c('li',[_c('form',{staticClass:\"g3w-search-form form-horizonal\"},[_c('div',{staticClass:\"box-body\"},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}})],1),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.print.help\"}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.template'),expression:\"'sdk.print.template'\"}],attrs:{\"for\":\"templates\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.template),expression:\"state.template\"}],staticClass:\"form-control\",style:({marginBottom: this.state.atlas && '10px'}),attrs:{\"id\":\"templates\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"template\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeTemplate]}},_vm._l((_vm.state.print),function(print){return _c('option',{domProps:{\"value\":print.name}},[_vm._v(_vm._s(print.name))])}),0),_vm._v(\" \"),(!_vm.state.atlas)?[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.scale'),expression:\"'sdk.print.scale'\"}],attrs:{\"for\":\"scala\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.scala),expression:\"state.scala\"}],staticClass:\"form-control\",attrs:{\"id\":\"scala\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"scala\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeScale]}},_vm._l((_vm.state.scale),function(scala){return _c('option',{domProps:{\"value\":scala.value}},[_vm._v(_vm._s(scala.label))])}),0),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dpi\"}},[_vm._v(\"dpi\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.dpi),expression:\"state.dpi\"}],staticClass:\"form-control\",attrs:{\"id\":\"dpi\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"dpi\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeDpi]}},_vm._l((_vm.state.dpis),function(dpi){return _c('option',[_vm._v(_vm._s(dpi))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.rotation'),expression:\"'sdk.print.rotation'\"}],attrs:{\"for\":\"rotation\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.rotation),expression:\"state.rotation\"}],staticClass:\"form-control\",attrs:{\"min\":\"-360\",\"max\":\"360\",\"id\":\"rotation\",\"type\":\"number\"},domProps:{\"value\":(_vm.state.rotation)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"rotation\", $event.target.value)},_vm.onChangeRotation]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.format'),expression:\"'sdk.print.format'\"}],attrs:{\"for\":\"format\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.output.format),expression:\"state.output.format\"}],staticClass:\"form-control\",attrs:{\"id\":\"format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state.output, \"format\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.state.formats),function(format){return _c('option',{domProps:{\"value\":format.value}},[_vm._v(_vm._s(format.label))])}),0)]:(_vm.state.atlas.field_name)?[_c('select-atlas-field-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})]:[_c('fid-atlas-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})],_vm._v(\" \"),(_vm.state.labels && _vm.state.labels.length)?[_c('div',{staticClass:\"print-labels-content\",staticStyle:{\"margin-top\":\"5px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.labels'),expression:\"'sdk.print.labels'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.1em\",\"display\":\"block\",\"border-bottom\":\"2px solid #ffffff\",\"margin-bottom\":\"5px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"labels-input-content\",staticStyle:{\"max-height\":\"120px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.state.labels),function(label){return _c('span',{key:label.id},[_c('label',{attrs:{\"for\":(\"g3w_label_id_input_\" + (label.id))}},[_vm._v(_vm._s(label.id))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(label.text),expression:\"label.text\"}],staticClass:\"form-control\",attrs:{\"id\":(\"g3w_label_id_input_\" + (label.id))},domProps:{\"value\":(label.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(label, \"text\", $event.target.value)}}})])}),0)])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"box-footer\",staticStyle:{\"background-color\":\"transparent\"}},[_c('span',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.button.disabled),expression:\"button.disabled\"},{name:\"download\",rawName:\"v-download\"},{name:\"t\",rawName:\"v-t\",value:('create_print'),expression:\"'create_print'\"}],staticClass:\"sidebar-button-run btn\",staticStyle:{\"width\":\"100%\",\"font-weight\":\"bold\"},attrs:{\"id\":\"printbutton\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.print($event)}}})])])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/PrintFidAtlasValues.vue\":266,\"components/PrintSelectAtlasFieldValues.vue\":268}],266:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"fid-atlas-values\",\n  props: {\n    atlas: {\n      type: Object\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      value: ''\n    };\n  },\n\n  methods: {\n    validateValue: function validateValue(value) {\n      value = value && 1 * value;\n      return Number.isInteger(value) && value >= 0 && value < this.atlas.feature_count || null;\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.value = value;\n        var values = new Set();\n        var addValue = function addValue(value) {\n          return _this.validateValue(value) !== null && values.add(value);\n        };\n        var addRangeToValues = function addRangeToValues() {\n          var range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          var rangeLenght = range.length;\n          for (var i = 1; i < rangeLenght; i++) {\n            var start = range[i - 1];\n            var end = range[i];\n            for (var _i = start; _i < end; _i++) {\n              values.add(_i + '');\n            }\n          }\n          values.add(range[rangeLenght - 1]);\n        };\n        if (value) {\n          value.split(',').forEach(function (value) {\n            if (value) {\n              if (value.indexOf('-') !== -1) {\n                var _values = value.split('-');\n                var range = _values.filter(function (value) {\n                  return _this.validateValue(value) !== null;\n                });\n                if (range.length === _values.length) {\n                  var canAdd = range.reduce(function (bool, value, currentIndex) {\n                    return bool && (currentIndex === 0 || range[currentIndex - 1] <= value);\n                  }, true);\n                  canAdd && addRangeToValues(range);\n                }\n              } else addValue(value);\n            }\n          });\n        }\n        this.$emit('set-values', Array.from(values));\n        this.$emit('disable-print-button', value.trim() === '');\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.value = '';\n        this.$emit('set-values', []);\n        this.$emit('disable-print-button', true);\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.value = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_fid}},[_c('span',[_vm._v(\"fids [max: \"+_vm._s(_vm.atlas.feature_count - 1)+\"]\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.value)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\",\"color\":\"#ffffff\"},attrs:{\"id\":\"fid-print-atals-instruction\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_instruction'),expression:\"'sdk.print.fids_instruction'\"}],staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"id\":\"fids_intruction\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_example'),expression:\"'sdk.print.fids_example'\"}],staticStyle:{\"margin-top\":\"3px\",\"font-weight\":\"bold\"},attrs:{\"id\":\"fids_examples_values\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7c31f398\"\n\n},{}],267:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    imageToDataURL = _require.imageToDataURL;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      disableddownloadbutton: true,\n      downloadImageName: '',\n      format: null\n    };\n  },\n\n  computed: {\n    loading: function loading() {\n      return this.state.loading && this.state.layers;\n    }\n  },\n  methods: {\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableSideBar(bool);\n      this.state.loading = bool;\n      this.disableddownloadbutton = bool;\n    },\n    downloadImage: function downloadImage() {\n      var _this = this;\n\n      this.setLoading(true);\n      if (this.format === 'jpg' || this.format === 'png') {\n        this.downloadImageName = 'download.' + this.state.format;\n        imageToDataURL({\n          src: this.state.url,\n          type: 'image/' + this.state.format,\n          callback: function callback(url) {\n            return setTimeout(function () {\n              return _this.setLoading(false);\n            });\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    'state.url': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(url) {\n        var _this2 = this;\n\n        var timeOut;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!url) {\n                  _context.next = 6;\n                  break;\n                }\n\n                this.format = this.state.format;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                timeOut = setTimeout(function () {\n                  _this2.setLoading(false);\n                  _gui2.default.showUserMessage({\n                    type: 'alert',\n                    message: 'timeout'\n                  });\n                }, _constant.TIMEOUT);\n\n\n                $(this.$refs.printoutput).load(url, function (response, status) {\n                  _this2.$options.service.stopLoading();\n                  status === 'error' && _this2.$options.service.showError();\n                  clearTimeout(timeOut);\n                  _this2.setLoading(false);\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateUrl(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateUrl;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.state.layers && this.$options.service.startLoading();\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.state.url && this.state.method === 'POST' && window.URL.revokeObjectURL(this.state.url);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"position\":\"relative\"},attrs:{\"id\":\"print-output\"}},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1),_vm._v(\" \"),(_vm.format === 'pdf')?_c('iframe',{ref:\"printoutput\",staticStyle:{\"border\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"type\":_vm.state.mime_type,\"src\":_vm.state.url}}):(_vm.format === 'png')?_c('div',{staticClass:\"g3w-print-png-output\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"flex-end\",\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"},attrs:{\"id\":\"g3w-print-header\"}},[_c('div',{class:{'g3w-disabled': _vm.disableddownloadbutton}},[_c('a',{attrs:{\"href\":_vm.state.url,\"download\":_vm.downloadImageName}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('sdk.print.download_image'),expression:\"'sdk.print.download_image'\",modifiers:{\"create\":true}}],staticClass:\"btn skin-button skin-tooltip-left\",class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"font-weight\":\"bold\"},attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"role\":\"button\"},on:{\"click\":_vm.downloadImage}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.format==='png' && _vm.state.url),expression:\"format==='png' && state.url\"}],staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"relative\",\"overflow-y\":\"auto\"}},[_c('img',{ref:\"printoutput\",staticStyle:{\"height\":\"auto\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.state.url}})])]):_vm._e(),_vm._v(\" \"),(!_vm.state.layers)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.no_layers'),expression:\"'sdk.print.no_layers'\"}],staticStyle:{\"font-weight\":\"bold\"}}):_vm._e()],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"core/utils/utils\":68,\"services/gui\":349}],268:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nexports.default = {\n  name: \"selectAtlasFieldValues\",\n  mixins: [_mixins.autocompleteMixin, _mixins.select2Mixin],\n  props: {\n    atlas: {\n      type: Object,\n      required: true\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    emitValues: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.$emit('set-values', this.values);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function emitValues() {\n        return _ref.apply(this, arguments);\n      }\n\n      return emitValues;\n    }()\n  },\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  watch: {\n    values: {\n      immediate: true,\n      handler: function handler(values) {\n        this.$emit('disable-print-button', values.length === 0);\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.select2 && this.select2.val(null).trigger('change');\n        this.values = [];\n        this.emitValues();\n      }\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this = this;\n\n      var _atlas, field, layerId;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              _atlas = this.atlas, field = _atlas.field_name, layerId = _atlas.qgs_layer_id;\n\n              setTimeout(function () {});\n              this.select2 = $('#print_atlas_autocomplete').select2(_extends({\n                width: '100%',\n                multiple: true,\n                dropdownParent: $(this.$el),\n                minimumInputLength: 1,\n                ajax: {\n                  delay: 500,\n                  transport: function () {\n                    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3, success, failure) {\n                      var value = _ref3.data.q;\n                      var data;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _context2.prev = 0;\n                              _context2.next = 3;\n                              return _this.autocompleteRequest({\n                                layerId: layerId,\n                                field: field,\n                                value: value\n                              });\n\n                            case 3:\n                              data = _context2.sent;\n\n                              success({ results: data });\n                              _context2.next = 10;\n                              break;\n\n                            case 7:\n                              _context2.prev = 7;\n                              _context2.t0 = _context2['catch'](0);\n\n                              failure(_context2.t0);\n\n                            case 10:\n                            case 'end':\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2, _this, [[0, 7]]);\n                    }));\n\n                    function transport(_x, _x2, _x3) {\n                      return _ref4.apply(this, arguments);\n                    }\n\n                    return transport;\n                  }()\n                }\n              }, autocompleteOptions));\n              this.select2.on('select2:select', function (evt) {\n                var value = evt.params.data.id;\n                _this.values.push(value);\n                _this.emitValues();\n              });\n              this.select2.on('select2:unselect', function () {\n                var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(evt) {\n                  var value;\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          value = evt.params.data.id;\n\n                          _this.values = _this.values.filter(function (currentValue) {\n                            return currentValue !== value;\n                          });\n                          _this.emitValues();\n\n                        case 3:\n                        case 'end':\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, _this);\n                }));\n\n                return function (_x4) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n\n            case 7:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.values = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_autocomplete}},[_c('span',[_vm._v(_vm._s(_vm.atlas.field_name))])]),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"name\":_vm.atlas.field_name,\"id\":\"print_atlas_autocomplete\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-f0e3ed96\"\n\n},{\"gui/external/select2/options/autocomplete\":115,\"mixins\":331}],269:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar t = require('core/i18n/i18n.service').t;\n\nvar fakeImage = '/static/client/images/FakeProjectThumb.png';\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      loading: false\n    };\n  },\n\n  methods: {\n    trigger: function trigger(item) {\n      if (item.cbk) {\n        _gui2.default.showFullModal({\n          show: true\n        });\n        _gui2.default.setLoadingContent(true);\n        var gid = item.gid;\n\n        item.cbk.call(item, {\n          gid: gid\n        }).then(function (promise) {\n          promise.then(function (project) {\n            return document.title = project.state.html_page_title;\n          }).fail(function () {\n            _gui2.default.notify.error(\"<h4>\" + t(\"error_map_loading\") + \"</h4>\" + \"<h5>\" + t(\"check_internet_connection_or_server_admin\") + \"</h5>\");\n          }).always(function () {\n            _gui2.default.showFullModal({\n              show: false\n            });\n            _gui2.default.setLoadingContent(false);\n          });\n        });\n      } else if (item.href) window.open(item.href, '_blank');else if (item.route) _gui2.default.goto(item.route);else console.log(\"No action for \" + item.title);\n    },\n    logoSrc: function logoSrc(src) {\n      var imageSrc = void 0;\n      if (src) {\n        imageSrc = src.indexOf(_projects2.default.config.mediaurl) !== -1 ? src : src.indexOf('static') === -1 && src.indexOf('media') === -1 ? '' + _projects2.default.config.mediaurl + src : fakeImage;\n      } else imageSrc = fakeImage;\n      return this.$options.host && '' + this.$options.host + imageSrc || imageSrc;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"menu-projects\"}},[_c('div',{staticClass:\"row row-equal\"},[_vm._l((_vm.state.menuitems),function(menuitem){return _c('div',{key:menuitem.title,staticClass:\"col-xs-12 col-sm-4 project-menu\",on:{\"click\":function($event){return _vm.trigger(menuitem)}}},[_c('div',{staticClass:\"project-menu-item-image\"},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.logoSrc(menuitem.thumbnail)}})]),_vm._v(\" \"),_c('div',{staticClass:\"project-menu-item-content\"},[_c('div',{staticClass:\"project-menu-item-text\"},[_c('h4',{staticClass:\"project-menu-item-title\"},[_vm._v(_vm._s(menuitem.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(menuitem.description)}})])])])}),_vm._v(\" \"),(!_vm.state.menuitems.length)?_c('div',{staticStyle:{\"margin-left\":\"15px\"}},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('no_other_projects'),expression:\"'no_other_projects'\"}]})]):_vm._e()],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":14,\"services/gui\":349,\"store/projects\":367}],270:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _constant = require('app/constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar operators = Object.values(_constant.FILTER_OPERATORS);\n\nexports.default = {\n  data: function data() {\n    var options = this.$options.options;\n    var edit = options !== undefined;\n    return {\n      edit: edit,\n      currentlayer: null,\n      message: '',\n      filter: edit ? options.filter : '',\n      loading: {\n        test: false,\n        values: false\n      },\n      values: [],\n      manual: true,\n      manualvalue: null,\n      select: {\n        field: null,\n        value: null\n      }\n    };\n  },\n\n  computed: {\n    fields: function fields() {\n      return this.currentlayer ? this.currentlayer.fields : [];\n    },\n    disabled: function disabled() {\n      return !this.filter;\n    }\n  },\n  watch: {\n    'select.field': function selectField() {\n      this.values = [];\n      this.manual = true;\n    }\n  },\n  methods: {\n    addToExpression: function addToExpression() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          value = _ref.value,\n          type = _ref.type;\n\n      switch (type) {\n        case 'operator':\n          value = ' ' + value + ' ';\n          break;\n        case 'field':\n          value = '\"' + value + '\"';\n          break;\n        case 'value':\n          value = '\\'' + value + '\\'';\n          break;\n      }\n      if (value) this.filter = '' + this.filter + value;\n    },\n    all: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading.values = true;\n                _context.prev = 1;\n                _context.next = 4;\n                return _querybuilder2.default.getValues({\n                  layerId: this.currentlayer.id,\n                  field: this.select.field\n                });\n\n              case 4:\n                this.values = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                this.loading.values = false;\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.manualvalue = null;\n                this.manual = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function all() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return all;\n    }(),\n    reset: function reset() {\n      this.filter = '';\n      this.message = '';\n      this.filterElement.previous = null;\n      this.filterElement.current = null;\n      this.filterElement.operator = null;\n    },\n    test: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var layerId, number_of_features;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                number_of_features = void 0;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _querybuilder2.default.test({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 6:\n                number_of_features = _context2.sent;\n\n                this.message = number_of_features !== undefined ? ' ' + number_of_features : '';\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2['catch'](3);\n\n                this.message = _context2.t0;\n\n              case 13:\n                this.loading.test = false;\n                _context2.next = 16;\n                return this.$nextTick();\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function test() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return test;\n    }(),\n    run: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var layerId, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                _context3.prev = 2;\n                _context3.next = 5;\n                return _querybuilder2.default.run({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 5:\n                response = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](2);\n\n              case 10:\n                this.loading.test = false;\n\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 8]]);\n      }));\n\n      function run() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return run;\n    }(),\n    save: function save() {\n      _querybuilder2.default.save({\n        layerId: this.currentlayer.id,\n        filter: this.filter,\n        projectId: this.projectId,\n        name: this.edit && this.$options.options.name,\n        id: this.edit && this.$options.options.id\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.filterElement = {\n      current: null,\n      previous: null,\n      operator: null\n    };\n    var project = _projects2.default.getCurrentProject();\n    this.layers = project.getLayers().filter(function (layer) {\n      return !layer.baselayer && layer.geometrytype && layer.geometrytype !== 'NoGeometry' && Array.isArray(layer.fields);\n    }).map(function (layer) {\n      var relations = project.getRelationsByLayerId({\n        layerId: layer.id,\n        type: 'ONE'\n      });\n      var excludejoinfields = [];\n      relations.forEach(function (relation) {\n        var customPrefix = relation.customPrefix;\n\n        var joinLayer = project.getLayerById(relation.referencingLayer);\n        customPrefix = customPrefix === undefined ? joinLayer.getName() + '_' : customPrefix;\n        var joinLayerFields = joinLayer.getFields().map(function (field) {\n          return '' + customPrefix + field.name;\n        });\n        excludejoinfields = [].concat(_toConsumableArray(excludejoinfields), _toConsumableArray(joinLayerFields));\n      });\n      return {\n        id: layer.id,\n        label: layer.name,\n        fields: layer.fields.filter(function (field) {\n          return field.show;\n        }).map(function (_ref5) {\n          var label = _ref5.label,\n              name = _ref5.name;\n          return {\n            label: label,\n            name: name\n          };\n        }).filter(function (field) {\n          return excludejoinfields.indexOf(field) === -1;\n        })\n      };\n    });\n    this.operators = operators;\n    this.currentlayer = this.edit ? this.layers.find(function (layer) {\n      return layer.id === _this.$options.options.layerId;\n    }) : this.layers[0];\n  },\n  mounted: function () {\n    var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this2 = this;\n\n      var index;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.select2 = $('#query_builder_layers_select').select2({\n                width: '100%'\n              });\n              if (this.edit) {\n                index = this.layers.indexOf(this.currentlayer);\n\n                this.select2.val(index);\n                this.select2.trigger('change');\n              }\n              this.select2.on('select2:select', function (evt) {\n                _this2.currentlayer = _this2.layers[evt.params.data.id];\n                _this2.select.field = null;\n                _this2.select.value = null;\n                _this2.reset();\n              });\n\n            case 5:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref6.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.select2.select2('destroy');\n    this.select2 = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"flex-wrap\":\"nowrap !important\"},attrs:{\"id\":\"query_builder\"}},[_c('div',{attrs:{\"id\":\"query_builder_header\"}}),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_layers\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.layers'),expression:\"'sdk.querybuilder.panel.layers'\"}],staticClass:\"querybuilder-title\"}),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"query_builder_layers_select\"}},_vm._l((_vm.layers),function(layer,index){return _c('option',{key:layer.label,staticClass:\"bold\",domProps:{\"value\":index}},[_vm._v(_vm._s(layer.label))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_fields\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.fields'),expression:\"'sdk.querybuilder.panel.fields'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_fields_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuilder-content\",attrs:{\"id\":\"query_builder_fields_content\"}},[_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',_vm._l((_vm.fields),function(ref){\nvar name = ref.name;\nvar label = ref.label;\nreturn _c('tr',{key:name,class:{'skin-background-color lighten': _vm.select.field===name},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.field = name},\"dblclick\":function($event){return _vm.addToExpression({value: name, type: 'field'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(label))])])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_values\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.values'),expression:\"'sdk.querybuilder.panel.values'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_values_title\"}}),_vm._v(\" \"),(!_vm.manual)?_c('div',{staticClass:\"querybuilder-content margin-between-element\",attrs:{\"id\":\"query_builder_values_content\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.values}}),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',[_vm._l((_vm.values),function(value){return _c('tr',{key:value,class:{'skin-background-color lighten': _vm.select.value===value},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.value = value},\"dblclick\":function($event){return _vm.addToExpression({value: value, type: 'value'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(value))])])}),_vm._v(\" \"),_vm._m(0)],2)])],1):_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"stretch\"},attrs:{\"id\":\"querybuilder-manual\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualvalue),expression:\"manualvalue\"}],staticClass:\"form-control\",staticStyle:{\"border\":\"0\"},attrs:{\"style\":\"border: 0;\"},domProps:{\"value\":(_vm.manualvalue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.manualvalue=$event.target.value}}}),_vm._v(\" \"),_c('span',{class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"1.2em\",\"background-color\":\"white\",\"color\":\"#000000\",\"padding\":\"9px\"},on:{\"click\":function($event){_vm.manualvalue && _vm.addToExpression({value: _vm.manualvalue, type: 'value'})}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content-end skin-color\",attrs:{\"id\":\"query_builder_values_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.manual'),expression:\"'sdk.querybuilder.panel.button.manual'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : _vm.manual},attrs:{\"id\":\"query_builder_values_buttons_sample\"},on:{\"click\":function($event){_vm.manual = true}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.all'),expression:\"'sdk.querybuilder.panel.button.all'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : !_vm.manual},attrs:{\"id\":\"query_builder_values_buttons_all\",\"disabled\":_vm.select.field === null},on:{\"click\":_vm.all}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"margin-top\":\"auto !important\"},attrs:{\"id\":\"query_builder_operators\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.operators'),expression:\"'sdk.querybuilder.panel.operators'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_operators_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content-wrap\",attrs:{\"id\":\"query_builder_operators_content\"}},_vm._l((_vm.operators),function(operator){return _c('button',{key:operator,staticClass:\"query_builder_button btn btn-secondary skin-color bold\",on:{\"click\":function($event){return _vm.addToExpression({value: operator, type: 'operator'})}}},[_vm._v(_vm._s(operator))])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_footer\"}},[_c('div',{attrs:{\"id\":\"query_builder_expression\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.expression'),expression:\"'sdk.querybuilder.panel.expression'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_expression_title\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_expression_content\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticStyle:{\"width\":\"100%\",\"resize\":\"none\",\"height\":\"100px\",\"color\":\"#000000\"},domProps:{\"value\":(_vm.filter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_message\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.test}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"},{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.messages.number_of_features'),expression:\"'sdk.querybuilder.messages.number_of_features'\"}],staticClass:\"bold skin-color\"}),_c('span',{staticClass:\"bold skin-color\"},[_vm._v(_vm._s(_vm.message))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content-end margin-between-element\",attrs:{\"id\":\"query_builder_footer_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.test'),expression:\"'sdk.querybuilder.panel.button.test'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.test}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.clear'),expression:\"'sdk.querybuilder.panel.button.clear'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",on:{\"click\":_vm.reset}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.run'),expression:\"'sdk.querybuilder.panel.button.run'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.run}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.save'),expression:\"'sdk.querybuilder.panel.button.save'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.save}})])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}})])}]\n\n},{\"app/constant\":5,\"services/querybuilder\":354,\"store/projects\":367}],271:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n\nexports.default = {\n  name: \"g3w-querybuilder-search\",\n  props: {\n    querybuildersearch: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      showinfo: false\n    };\n  },\n\n  methods: {\n    remove: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _querybuilder2.default.delete(this.querybuildersearch);\n\n              case 3:\n                this.$emit('delete');\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context['catch'](0);\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function remove() {\n        return _ref.apply(this, arguments);\n      }\n\n      return remove;\n    }(),\n    edit: function edit() {\n      QueryBuilderUIFactory.show({\n        options: {\n          id: this.querybuildersearch.id,\n          name: this.querybuildersearch.name,\n          layerId: this.querybuildersearch.layerId,\n          filter: this.querybuildersearch.filter\n        }\n      });\n    },\n    run: function run() {\n      var _this = this;\n\n      this.loading = true;\n      _querybuilder2.default.run({\n        layerId: this.querybuildersearch.layerId,\n        filter: this.querybuildersearch.filter\n      }).finally(function () {\n        _this.loading = false;\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuliserch-tools\",staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('filter'),staticStyle:{\"margin-right\":\"14px\",\"margin-left\":\"1px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.run'),expression:\"'sdk.querybuilder.search.run'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('run'),staticStyle:{\"color\":\"green\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.run($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.info'),expression:\"'sdk.querybuilder.search.info'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('info'),staticStyle:{\"color\":\"#FFFFFF\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showinfo=!_vm.showinfo}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.edit'),expression:\"'sdk.querybuilder.search.edit'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('pencil'),staticStyle:{\"color\":\"#307095\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.edit($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.delete'),expression:\"'sdk.querybuilder.search.delete'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showinfo),expression:\"showinfo\"}],staticClass:\"querybuildsearch-info\",staticStyle:{\"margin-top\":\"5px\"}},[_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"white-space\":\"pre\"}},[_vm._v(\"LAYER: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.layerName))])]),_vm._v(\" \"),_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"EXPRESSION: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.filter))])])])],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f0104b0\"\n\n},{\"gui/querybuilder/querybuilderuifactory\":164,\"services/querybuilder\":354}],272:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nvar _QueryResultsTableAttributeFieldValue = require('components/QueryResultsTableAttributeFieldValue.vue');\n\nvar _QueryResultsTableAttributeFieldValue2 = _interopRequireDefault(_QueryResultsTableAttributeFieldValue);\n\nvar _QueryResultsActionInfoFormats = require('components/QueryResultsActionInfoFormats.vue');\n\nvar _QueryResultsActionInfoFormats2 = _interopRequireDefault(_QueryResultsActionInfoFormats);\n\nvar _QueryResultsHeaderFeatureBody = require('components/QueryResultsHeaderFeatureBody.vue');\n\nvar _QueryResultsHeaderFeatureBody2 = _interopRequireDefault(_QueryResultsHeaderFeatureBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar maxSubsetLength = 3;\nvar headerExpandActionCellWidth = 10;\nvar headerActionsCellWidth = 10;\nvar HEADERTYPESFIELD = ['varchar', 'integer', 'float', 'date'];\n\nexports.default = {\n  data: function data() {\n    return {\n      state: this.$options.queryResultsService.state,\n      headerExpandActionCellWidth: headerExpandActionCellWidth,\n      headerActionsCellWidth: headerActionsCellWidth\n    };\n  },\n\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    TableAttributeFieldValue: _QueryResultsTableAttributeFieldValue2.default,\n    'infoformats': _QueryResultsActionInfoFormats2.default,\n    'header-feature-body': _QueryResultsHeaderFeatureBody2.default\n  },\n  computed: {\n    layersFeaturesBoxes: function layersFeaturesBoxes() {\n      return this.state.layersFeaturesBoxes;\n    },\n    onelayerresult: function onelayerresult() {\n      return this.state.layers.length === 1;\n    },\n    hasLayers: function hasLayers() {\n      return this.hasResults || !!this.state.components.length;\n    },\n    hasResults: function hasResults() {\n      return this.state.layers.length > 0;\n    },\n    info: function info() {\n      var _this = this;\n\n      var info = {\n        icon: null,\n        message: null,\n        action: null\n      };\n      var _state = this.state,\n          query = _state.query,\n          search = _state.search;\n\n      if (query) {\n        if (query.type === 'coordinates') {\n          info.icon = 'marker';\n          info.message = '  ' + query.coordinates[0] + ', ' + query.coordinates[1];\n          info.action = function () {\n            return _this.$options.queryResultsService.showCoordinates(query.coordinates);\n          };\n        } else if (query.type === \"bbox\") {\n          info.icon = 'square';\n          info.message = '  [' + query.bbox.join(' , ') + ']';\n          info.action = function () {\n            return _this.$options.queryResultsService.showBBOX(query.bbox);\n          };\n        } else if (query.type === \"polygon\") {\n          info.icon = 'draw';\n          info.message = query.layer.getName() + ' - Feature Id: ' + query.fid;\n          info.action = function () {\n            return query.geometry && _this.$options.queryResultsService.showGeometry(query.geometry);\n          };\n        }\n      } else if (search) {}\n      return info;\n    }\n  },\n  methods: {\n    getLayerCustomComponents: function getLayerCustomComponents(layerId) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'feature';\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'after';\n\n      return this.state.layerscustomcomponents[layerId] && this.state.layerscustomcomponents[layerId][type] && this.state.layerscustomcomponents[layerId][type][position] || [];\n    },\n    getLayerField: function getLayerField(_ref) {\n      var layer = _ref.layer,\n          feature = _ref.feature,\n          fieldName = _ref.fieldName;\n\n      var layerField = layer.attributes.find(function (attribute) {\n        return attribute.name === fieldName;\n      });\n      var field = _extends({}, layerField, {\n        label: null,\n        value: feature.attributes[fieldName]\n      });\n      return field;\n    },\n    getQueryFields: function getQueryFields(layer, feature) {\n      var fields = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = layer.formStructure.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n\n          var _field = _extends({}, field);\n          _field.query = true;\n          _field.value = feature.attributes[field.name];\n          _field.input = {\n            type: '' + this.getFieldType(_field)\n          };\n          fields.push(_field);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return fields;\n    },\n    getColSpan: function getColSpan(layer) {\n      return this.attributesSubsetLength(layer) + (this.state.layersactions[layer.id].length ? 1 : 0) + !this.hasLayerOneFeature(layer) * 1;\n    },\n    getDownloadActions: function getDownloadActions(layer) {\n      return this.state.layersactions[layer.id].find(function (action) {\n        return action.formats;\n      });\n    },\n    addLayerFeaturesToResults: function addLayerFeaturesToResults(layer) {\n      this.$options.queryResultsService.addLayerFeaturesToResultsAction(layer);\n    },\n    showDownloadAction: function showDownloadAction(evt) {\n      var display = evt.target.children[0].style.display;\n      evt.target.children[0].style.display = display === 'none' ? 'inline-block' : 'none';\n    },\n    printAtlas: function printAtlas(layer) {\n      this.$options.queryResultsService.printAtlas(layer);\n    },\n    showLayerDownloadFormats: function showLayerDownloadFormats(layer) {\n      this.$options.queryResultsService.showLayerDownloadFormats(layer);\n    },\n    saveLayerResult: function saveLayerResult(layer) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"csv\";\n\n      this.$options.queryResultsService.saveLayerResult({ layer: layer, type: type });\n    },\n    hasLayerOneFeature: function hasLayerOneFeature(layer) {\n      return layer.features.length === 1;\n    },\n    addRemoveFilter: function addRemoveFilter(layer) {\n      this.$options.queryResultsService.addRemoveFilter(layer);\n    },\n    getContainerFromFeatureLayer: function getContainerFromFeatureLayer() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref2.layer,\n          index = _ref2.index;\n\n      return $('#' + layer.id + '_' + index + ' > td');\n    },\n    hasOneLayerAndOneFeature: function hasOneLayerAndOneFeature(layer) {\n      return this.hasLayerOneFeature(layer);\n    },\n    hasFormStructure: function hasFormStructure(layer) {\n      return !!layer.formStructure;\n    },\n    layerHasFeatures: function layerHasFeatures(layer) {\n      return layer.features && layer.features.length > 0 ? true : false;\n    },\n    selectionFeaturesLayer: function selectionFeaturesLayer(layer) {\n      this.$options.queryResultsService.selectionFeaturesLayer(layer);\n    },\n    layerHasActions: function layerHasActions(layer) {\n      return this.state.layersactions[layer.id].length > 0;\n    },\n    featureHasActions: function featureHasActions(layer, feature) {\n      return this.geometryAvailable(feature);\n    },\n    geometryAvailable: function geometryAvailable(feature) {\n      return feature.geometry ? true : false;\n    },\n    extractAttributesFromFirstTabOfFormStructureLayers: function extractAttributesFromFirstTabOfFormStructureLayers(layer) {\n      var _this2 = this;\n\n      var attributes = new Set();\n      var traverseStructure = function traverseStructure(item) {\n        if (item.nodes) item.nodes.forEach(function (node) {\n          return traverseStructure(node);\n        });else {\n          var field = layer.formStructure.fields.find(function (field) {\n            return field.name === item.field_name;\n          });\n          if (field) {\n            if (_this2.state.type === 'ows') {\n              field = _extends({}, field);\n              field.name = field.name.replace(/ /g, '_');\n            }\n            attributes.add(field);\n          }\n        }\n      };\n      layer.formStructure.structure.length && layer.formStructure.structure.forEach(function (structure) {\n        return traverseStructure(structure);\n      });\n      return Array.from(attributes);\n    },\n    attributesSubset: function attributesSubset(layer) {\n      var attributes = this.hasFormStructure(layer) ? this.extractAttributesFromFirstTabOfFormStructureLayers(layer) : layer.attributes;\n      var _attributes = attributes.filter(function (attribute) {\n        return attribute.show && HEADERTYPESFIELD.indexOf(attribute.type) !== -1;\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return _attributes.slice(0, end);\n    },\n    relationsAttributesSubset: function relationsAttributesSubset(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        if (Array.isArray(value)) return;\n        attributes.push({ label: attribute, value: value });\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return attributes.slice(0, end);\n    },\n    relationsAttributes: function relationsAttributes(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        attributes.push({ label: attribute, value: value });\n      });\n      return attributes;\n    },\n    attributesSubsetLength: function attributesSubsetLength(layer) {\n      return this.attributesSubset(layer).length;\n    },\n    cellWidth: function cellWidth(index, layer) {\n      var headerLength = maxSubsetLength + this.state.layersactions[layer.id].length;\n      var subsetLength = this.attributesSubsetLength(layer);\n      var diff = headerLength - subsetLength;\n      var actionsCellWidth = layer.hasgeometry ? headerActionsCellWidth : 0;\n      var headerAttributeCellTotalWidth = 100 - headerExpandActionCellWidth - actionsCellWidth;\n      var baseCellWidth = headerAttributeCellTotalWidth / maxSubsetLength;\n      if (index === subsetLength - 1 && diff > 0) return baseCellWidth * (diff + 1);else return baseCellWidth;\n    },\n    featureBoxColspan: function featureBoxColspan(layer) {\n      var colspan = this.attributesSubsetLength(layer);\n      if (layer.expandable) colspan += 1;\n      if (layer.hasgeometry) colspan += 1;\n      return colspan;\n    },\n    relationsAttributesSubsetLength: function relationsAttributesSubsetLength(elements) {\n      return this.relationsAttributesSubset(elements).length;\n    },\n    getLayerFormStructure: function getLayerFormStructure(layer) {\n      return layer.formStructure.structure;\n    },\n    isAttributeOrTab: function isAttributeOrTab(layer, item) {\n      var isField = item.field_name !== undefined;\n      return {\n        type: isField && 'field' || 'tab',\n        item: isField && this.getLayerAttributeFromStructureItem(layer, item.field_name) || [item]\n      };\n    },\n    getLayerAttributeFromStructureItem: function getLayerAttributeFromStructureItem(layer, field_name) {\n      return layer.attributes.find(function (attribute) {\n        return attribute.name === field_name;\n      });\n    },\n    getLayerFeatureBox: function getLayerFeatureBox(layer, feature, relation_index) {\n      var _this3 = this;\n\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      if (this.layersFeaturesBoxes[boxid] === undefined) {\n        this.layersFeaturesBoxes[boxid] = Vue.observable({\n          collapsed: true\n        });\n        this.$watch(function () {\n          return _this3.layersFeaturesBoxes[boxid].collapsed;\n        }, function (collapsed) {\n          var index = layer.features.findIndex(function (_feature) {\n            return feature.id === _feature.id;\n          });\n          var container = _this3.getContainerFromFeatureLayer({\n            layer: layer,\n            index: index\n          });\n          _this3.$options.queryResultsService.openCloseFeatureResult({\n            open: !collapsed,\n            layer: layer,\n            feature: feature,\n            container: container\n          });\n        });\n        this.layersFeaturesBoxes[boxid].collapsed = layer.features.length > 1;\n      }\n      return this.layersFeaturesBoxes[boxid];\n    },\n    collapsedFeatureBox: function collapsedFeatureBox(layer, feature, relation_index) {\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      return this.layersFeaturesBoxes[boxid] ? this.layersFeaturesBoxes[boxid].collapsed : true;\n    },\n    showFeatureInfo: function showFeatureInfo(layer, boxid) {\n      this.$options.queryResultsService.emit('show-query-feature-info', {\n        layer: layer,\n        tabs: this.hasFormStructure(layer),\n        show: !this.layersFeaturesBoxes[boxid].collapsed\n      });\n    },\n    getBoxId: function getBoxId(layer, feature, relation_index) {\n      return this.$options.queryResultsService.getBoxId(layer, feature, relation_index);\n    },\n    toggleFeatureBox: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer, feature, relation_index) {\n        var boxid;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                boxid = this.getBoxId(layer, feature, relation_index);\n\n                this.layersFeaturesBoxes[boxid].collapsed = !this.layersFeaturesBoxes[boxid].collapsed;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.showFeatureInfo(layer, boxid);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toggleFeatureBox(_x5, _x6, _x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return toggleFeatureBox;\n    }(),\n    toggleFeatureBoxAndZoom: function toggleFeatureBoxAndZoom(layer, feature, relation_index) {\n      !this.hasLayerOneFeature(layer) && this.toggleFeatureBox(layer, feature, relation_index);\n    },\n    trigger: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(action, layer, feature, index) {\n        var container;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(action.opened && $('#' + layer.id + '_' + index).css('display') === 'none')) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.toggleFeatureBox(layer, feature);\n                _context2.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                container = this.getContainerFromFeatureLayer({ layer: layer, index: index });\n                _context2.next = 7;\n                return this.$options.queryResultsService.trigger(action.id, layer, feature, index, container);\n\n              case 7:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function trigger(_x8, _x9, _x10, _x11) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    showFullPhoto: function showFullPhoto(url) {\n      this.$options.queryResultsService.showFullPhoto(url);\n    },\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  watch: {\n    'state.layers': function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(layers) {\n        var _this4 = this;\n\n        var layer, feature, boxid;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layers.forEach(function (layer) {\n                  if (layer.attributes.length <= maxSubsetLength && !layer.hasImageField) layer.expandable = false;\n                  layer.features.forEach(function (feature) {\n                    _this4.getLayerFeatureBox(layer, feature);\n                    if (feature.attributes.relations) {\n                      var relations = feature.attributes.relations;\n                      relations.forEach(function (relation) {\n                        var boxid = layer.id + '_' + feature.id + '_' + relation.name;\n                        var elements = relation.elements;\n                        elements.forEach(function (element, index) {\n                          _this4.layersFeaturesBoxes[boxid + index] = {\n                            collapsed: true\n                          };\n                        });\n                      });\n                    }\n                  });\n                });\n\n                this.onelayerresult = layers.length === 1;\n\n                if (this.onelayerresult && this.hasLayerOneFeature(layers[0])) {\n                  layer = layers[0];\n                  feature = layer.features[0];\n                  boxid = this.getBoxId(layer, feature);\n\n                  this.$options.queryResultsService.onceafter('postRender', function () {\n                    _this4.showFeatureInfo(layer, boxid);\n                  });\n                }\n                requestAnimationFrame(function () {\n                  return _this4.$options.queryResultsService.postRender(_this4.$el);\n                });\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stateLayers(_x12) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return stateLayers;\n    }(),\n    onelayerresult: function onelayerresult(bool) {\n      bool && this.$options.queryResultsService.highlightFeaturesPermanently(this.state.layers[0]);\n    }\n  },\n  created: function created() {\n    var _this5 = this;\n\n    this.zoomToLayerFeaturesExtent = throttle(function (layer) {\n      _this5.$options.queryResultsService.zoomToLayerFeaturesExtent(layer, {\n        highlight: true\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.state.zoomToResult = true;\n    this.layersFeaturesBoxes = null;\n  },\n  destroyed: function destroyed() {\n    this.$options.queryResultsService.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"queryresults-wrapper\",attrs:{\"id\":\"search-results\"}},[(_vm.info.message)?_c('div',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"margin-bottom\":\"3px\",\"font-size\":\"1.1em\"}},[(_vm.info.icon)?_c('span',{staticClass:\"action-button skin-tooltip-bottom\",class:_vm.g3wtemplate.getFontClass(_vm.info.icon),on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.info.action($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.message))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"queryresults-container\"},[(_vm.state.layers.length)?[(_vm.hasLayers)?_c('ul',{staticClass:\"queryresults\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"queryresults\"}},[_vm._l((_vm.state.layers),function(layer){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.layerHasFeatures(layer) || layer.rawdata) && layer.show),expression:\"(layerHasFeatures(layer) || layer.rawdata) && layer.show\"}]},[_c('bar-loader',{attrs:{\"loading\":layer.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"box box-primary\"},[_c('div',{staticClass:\"box-header with-border\",class:{'mobile': _vm.isMobile()},attrs:{\"data-widget\":\"collapse\"}},[_c('div',{staticClass:\"box-title query-layer-title\",style:({fontSize: _vm.isMobile() && '1em !important'})},[_vm._v(_vm._s(layer.title)+\"\\n                \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!layer.rawdata),expression:\"!layer.rawdata\"}],staticClass:\"query-layer-feature-count\"},[_vm._v(\"(\"+_vm._s(layer.features.length)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-features-action\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('infoformats',{attrs:{\"layer\":layer}}),_vm._v(\" \"),(layer.features.length > 1)?[(layer.hasgeometry)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'),expression:\"'sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.zoomToLayerFeaturesExtent(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('marker')})]):_vm._e(),_vm._v(\" \"),(layer.atlas.length)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.atlas.hint'),expression:\"'sdk.mapcontrols.query.actions.atlas.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printAtlas(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('print')})]):_vm._e(),_vm._v(\" \"),(layer.downloads.length === 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:((\"sdk.mapcontrols.query.actions.download_features_\" + (layer.downloads[0]) + \".hint\")),expression:\"`sdk.mapcontrols.query.actions.download_features_${layer.downloads[0]}.hint`\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer[layer.downloads[0]].active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.saveLayerResult(layer, layer.downloads[0])}}})])]:(layer.downloads.length > 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('Downloads'),expression:\"'Downloads'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.downloadformats.active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayerDownloadFormats(layer)}}})])]:_vm._e()]:_vm._e(),_vm._v(\" \"),(layer.external || (layer.source && layer.source.type !== 'wms'))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_features_to_results.hint'),expression:\"'sdk.mapcontrols.query.actions.add_features_to_results.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.addfeaturesresults.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayerFeaturesToResults(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('plus-square')})]):_vm._e(),_vm._v(\" \"),(layer.features.length > 1 && (layer.external || (layer.source && layer.source.type !== 'wms')))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_selection.hint'),expression:\"'sdk.mapcontrols.query.actions.add_selection.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.selection.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectionFeaturesLayer(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('success')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(layer.selection.active && !layer.external),expression:\"layer.selection.active && !layer.external\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.filter.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addRemoveFilter(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('filter')})])],2),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-box-tool\",attrs:{\"data-widget\":\"collapse\"}},[_c('i',{staticClass:\"btn-collapser skin-color\",class:_vm.g3wtemplate.font['minus']})])]),_vm._v(\" \"),(_vm.state.layeractiontool[layer.id].component)?[_c('div',{staticClass:\"g3w-layer-action-tools with-border\",class:{'mobile': _vm.isMobile()},staticStyle:{\"padding\":\"5px\"}},[_c(_vm.state.layeractiontool[layer.id].component,{tag:\"component\",attrs:{\"layer\":layer,\"config\":_vm.state.layeractiontool[layer.id].config}})],1)]:_vm._e(),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'before')),function(ref){\nvar component = ref.component;\nreturn _c(component,{tag:\"component\",attrs:{\"layer\":layer}})}),_vm._v(\" \"),_c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[(layer.rawdata)?[_c('div',{staticClass:\"queryresults-text-html\",class:{text: layer.infoformat === 'text/plain'},domProps:{\"innerHTML\":_vm._s(layer.rawdata)}})]:(_vm.hasFormStructure(layer))?[_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_c('tbody',[_vm._l((layer.features),function(feature,index){return (feature.show)?[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('tabs',{attrs:{\"fields\":_vm.getQueryFields(layer, feature),\"layerid\":layer.id,\"feature\":feature,\"tabs\":_vm.getLayerFormStructure(layer)}})],1)]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})]:_vm._e()})],2)])]:_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_vm._l((layer.features),function(feature,index){return (feature.show)?_c('tbody',{key:feature.id},[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('table',{staticClass:\"feature_attributes\"},_vm._l((layer.attributes.filter(function (attribute) { return attribute.show; })),function(attribute){return _c('tr',[_c('td',{staticClass:\"attr-label\"},[_vm._v(_vm._s(attribute.label))]),_vm._v(\" \"),_c('td',{staticClass:\"attr-value\",attrs:{\"attribute\":attribute.name}},[_c('table-attribute-field-value',{attrs:{\"feature\":feature,\"field\":_vm.getLayerField({layer: layer, feature: feature, fieldName: attribute.name})}})],1)])}),0)])]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})],2):_c('tbody')})],2)],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer}})],1)})],2)],1)}),_vm._v(\" \"),_vm._l((_vm.state.components),function(component){return _c('li',[_c(component,{tag:\"component\",on:{\"showresults\":function($event){return _vm.showResults()}}})],1)})],2):_vm._e()]:[(_vm.state.changed)?_c('div',{staticClass:\"query-results-not-found\"},[_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.no_results'),expression:\"'info.no_results'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"text-align\":\"center\"}})]):_vm._e()]],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryResultsActionInfoFormats.vue\":275,\"components/QueryResultsHeaderFeatureBody.vue\":278,\"components/QueryResultsTableAttributeFieldValue.vue\":279,\"core/utils/utils\":68,\"mixins\":331}],273:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"action\",\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    action: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    clickAction: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(action, layer, feature, featureIndex, event) {\n        var element, originalDataTitle;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.trigger(action, layer, feature, featureIndex);\n\n              case 2:\n                if (action.hint_change) {\n                  element = $(event.target).parent();\n                  originalDataTitle = element.attr('data-original-title');\n\n                  element.attr('data-original-title', t(action.hint_change.hint));\n                  element.tooltip('show');\n                  setTimeout(function () {\n                    element.attr('data-original-title', originalDataTitle);\n                    element.tooltip('show');\n                  }, action.hint_change.duration || 600);\n                }\n                this.$emit('action-clicked', action);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickAction(_x, _x2, _x3, _x4, _x5) {\n        return _ref.apply(this, arguments);\n      }\n\n      return clickAction;\n    }()\n  },\n  created: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var show;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.action.init && this.action.init({ layer: this.layer, feature: this.feature, index: this.featureIndex, action: this.action });\n\n              if (!(typeof this.action.condition === 'function')) {\n                _context2.next = 11;\n                break;\n              }\n\n              show = this.action.condition({ layer: this.layer, feature: this.feature });\n\n              if (!(show instanceof Promise)) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 6;\n              return show;\n\n            case 6:\n              _context2.t0 = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 9:\n              _context2.t0 = show;\n\n            case 10:\n              this.show = _context2.t0;\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.action-button[data-toggle=\"tooltip\"]').tooltip();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\",value:(_vm.action.download),expression:\"action.download\"},{name:\"t-title\",rawName:\"v-t-title\",value:(_vm.action.hint),expression:\"action.hint\"}],staticClass:\"action-button skin-tooltip-right\",class:{'toggled': _vm.action.state && _vm.action.state.toggled[_vm.featureIndex] },attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.clickAction(_vm.action, _vm.layer, _vm.feature, _vm.featureIndex, $event)}}},[_c('span',{class:(\"action-button-icon \" + (_vm.action.class)),staticStyle:{\"padding\":\"2px\"},style:(_vm.action.style)})]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6e02064e\"\n\n},{\"core/i18n/i18n.service\":14}],274:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"downloadformats\",\n  data: function data() {\n    var download_format = this.config.downloads[0].format;\n    return {\n      download_format: download_format\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    download: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _download;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _download = this.config.downloads.find(function (action) {\n                  return action.format === _this.download_format;\n                });\n                _context.next = 4;\n                return _download.cbk(this.layer, this.feature ? this.feature : this.layer.features, _download, this.featureIndex);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function download() {\n        return _ref.apply(this, arguments);\n      }\n\n      return download;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-download-formats-content\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('download_format'),expression:\"'download_format'\"}],staticClass:\"form-control\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"search\":false}},_vm._l((_vm.config.downloads),function(download){return _c('option',{directives:[{name:\"download\",rawName:\"v-download\"}],key:download.id,domProps:{\"value\":download.format}},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(download.format))])])}),0),_vm._v(\" \"),_c('button',{directives:[{name:\"download\",rawName:\"v-download\"}],staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-12f80c6a\"\n\n},{}],275:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/parsers'),\n    responseParser = _require.response;\n\nvar _require2 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature,\n    query = _require2.query;\n\nexports.default = {\n    name: 'Infoformats',\n    props: {\n        layer: {\n            type: Object,\n            required: true\n        }\n    },\n    data: function data() {\n        return {\n            infoformat: this.layer.infoformat\n        };\n    },\n\n    computed: {\n        infoformats: function infoformats() {\n            return this.layer.infoformats || [];\n        }\n    },\n    methods: {\n        reloadLayerDataWithChangedContentType: function () {\n            var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(contenttype) {\n                var _this = this;\n\n                var queryService, response, _responseParser$get, _responseParser$get2, data;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                queryService = _gui2.default.getService('queryresults');\n\n                                this.layer.loading = true;\n                                _context.prev = 2;\n                                _context.next = 5;\n                                return this.projectLayer.changeProxyDataAndReloadFromServer('wms', {\n                                    headers: {\n                                        'Content-Type': contenttype\n                                    },\n                                    params: {\n                                        INFO_FORMAT: contenttype\n                                    }\n                                });\n\n                            case 5:\n                                response = _context.sent;\n\n                                this.layer.infoformat = contenttype;\n                                this.projectLayer.setInfoFormat(this.layer.infoformat);\n                                _responseParser$get = responseParser.get(contenttype)({\n                                    layers: [this.projectLayer],\n                                    response: response\n                                }), _responseParser$get2 = _slicedToArray(_responseParser$get, 1), data = _responseParser$get2[0];\n\n                                if (!data.features) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                this.layer.rawdata = null;\n                                data.features.forEach(function (feature) {\n                                    var _queryService$getFeat = queryService.getFeaturePropertiesAndGeometry(feature),\n                                        fid = _queryService$getFeat.id,\n                                        geometry = _queryService$getFeat.geometry,\n                                        attributes = _queryService$getFeat.properties;\n\n                                    if (_this.layer.attributes.length === 0) {\n                                        _this.layer.hasgeometry = !!geometry;\n\n                                        queryService.setActionsForLayers([_this.layer]);\n                                        getAlphanumericPropertiesFromFeature(attributes).forEach(function (name) {\n                                            _this.layer.attributes.push({\n                                                name: name,\n                                                label: name,\n                                                show: true\n                                            });\n                                        });\n                                    }\n                                    var queryFeature = {\n                                        id: fid,\n                                        attributes: attributes,\n                                        geometry: geometry,\n                                        show: true\n                                    };\n                                    queryFeature.show = true;\n                                    _this.layer.features.push(queryFeature);\n                                });\n                                _context.next = 18;\n                                break;\n\n                            case 14:\n                                this.layer.features.splice(0);\n                                _context.next = 17;\n                                return this.$nextTick();\n\n                            case 17:\n                                this.layer.rawdata = data.rawdata;\n\n                            case 18:\n                                _context.next = 23;\n                                break;\n\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context['catch'](2);\n\n                                console.log(_context.t0);\n\n                            case 23:\n                                this.layer.loading = false;\n\n                            case 24:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[2, 20]]);\n            }));\n\n            function reloadLayerDataWithChangedContentType(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return reloadLayerDataWithChangedContentType;\n        }()\n    },\n    watch: {\n        'infoformat': function infoformat(value) {\n            this.reloadLayerDataWithChangedContentType(value);\n        }\n    },\n    created: function created() {\n        this.projectLayer = _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    beforeDestroy: function beforeDestroy() {\n        this.projectLayer && this.projectLayer.clearProxyData('wms');\n        this.projectLayer = null;\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.infoformats.length)?_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('infoformat'),expression:\"'infoformat'\"}],staticClass:\"skin-color\",attrs:{\"select2_value\":_vm.infoformat,\"search\":false}},_vm._l((_vm.infoformats),function(infoformat){return _c('option',{key:infoformat,domProps:{\"value\":infoformat}},[_vm._v(_vm._s(infoformat))])}),0):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/geo\":65,\"core/utils/parsers\":67,\"services/gui\":349,\"store/catalog-layers\":362}],276:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-polygonattributes-types-title[data-v-17e3cba2]{font-weight:700;padding:3px;color:#fff;margin:0 0 5px}.g3w-polygonattributes-types-content[data-v-17e3cba2]{display:flex;justify-content:space-between;padding:3px;border-radius:3px;border:1px solid #f4f4f4}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"querypolygonaddattributes\",\n  props: {\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      type: this.config.choices[0].type\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      _this.config.choices.forEach(function (choice) {\n        return $(_this.$refs[choice.type]).text(t(choice.label));\n      });\n      $(_this.$refs.g3w_select_feature_featurepolygon).select2().trigger('change');\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.mapcontrols.querybypolygon.download.title'),expression:\"'sdk.mapcontrols.querybypolygon.download.title'\"}],staticClass:\"skin-background-color g3w-polygonattributes-types-title\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-polygonattributes-types-content\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('type'),expression:\"'type'\"}],ref:\"g3w_select_feature_featurepolygon\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"search\":false}},_vm._l((_vm.config.choices),function(choice){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:(choice.label),expression:\"choice.label\"}],key:choice.type,ref:choice.type,refInFor:true,domProps:{\"value\":choice.type}})}),0),_vm._v(\" \"),_c('button',{staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.config.download(_vm.type)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-17e3cba2\"\n\n},{\"core/i18n/i18n.service\":14,\"store/application-state\":361,\"vueify/lib/insert-css\":2}],277:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsAction = require(\"components/QueryResultsAction.vue\");\n\nvar _QueryResultsAction2 = _interopRequireDefault(_QueryResultsAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"actions\",\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    actions: {\n      type: Array,\n      default: []\n    }\n  },\n  components: {\n    action: _QueryResultsAction2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.actions.length)?_c('td',{staticClass:\"g3w-feature-actions\"},_vm._l((_vm.actions),function(action){return _c('action',_vm._b({key:action.id,attrs:{\"action\":action}},'action',_vm.$props,false))}),1):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5a8c3f6a\"\n\n},{\"components/QueryResultsAction.vue\":273}],278:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".noAttributes[data-v-18bc8218]{display:flex;justify-content:flex-end}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsActions = require('components/QueryResultsActions.vue');\n\nvar _QueryResultsActions2 = _interopRequireDefault(_QueryResultsActions);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"headerfeaturebody\",\n  mixins: [_mixins.fieldsMixin],\n  props: {\n    toggleFeatureBoxAndZoom: {\n      type: Function\n    },\n    trigger: {\n      type: Function\n    },\n    hasLayerOneFeature: {\n      type: Function\n    },\n    boxLayerFeature: {\n      type: Object\n    },\n    getLayerField: {\n      type: Function\n    },\n    attributesSubset: {\n      type: Function\n    },\n    layer: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    },\n    index: {\n      type: Number\n    },\n    actions: {\n      type: Array\n    }\n  },\n  components: {\n    actions: _QueryResultsActions2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"featurebox-header\",class:[_vm.boxLayerFeature.collapsed ? '' : 'featurebox-header-open'],on:{\"click\":function($event){return _vm.toggleFeatureBoxAndZoom(_vm.layer,_vm.feature)},\"mouseover\":function($event){return _vm.trigger({id:'highlightgeometry'}, _vm.layer, _vm.feature, _vm.index)},\"mouseout\":function($event){return _vm.trigger({id:'clearHighlightGeometry'}, _vm.layer, _vm.feature, _vm.index)}}},[_c('actions',{attrs:{\"layer\":_vm.layer,\"featureIndex\":_vm.index,\"trigger\":_vm.trigger,\"feature\":_vm.feature,\"actions\":_vm.actions}}),_vm._v(\" \"),_vm._l((_vm.attributesSubset(_vm.layer)),function(attribute){return _c('td',{staticClass:\"attribute\"},[(_vm.isLink(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link')}):(_vm.isPhoto(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):(_vm.isImage(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):_c('span',[_vm._v(_vm._s(_vm.feature.attributes[attribute.name]))])])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(_vm.layer))?_c('td',{staticClass:\"collapsed\",class:{noAttributes: _vm.attributesSubset(_vm.layer).length === 0}},[_c('span',{staticClass:\"fa link morelink skin-color\",class:[_vm.boxLayerFeature.collapsed ? _vm.g3wtemplate.font['plus'] : _vm.g3wtemplate.font['minus']]})]):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-18bc8218\"\n\n},{\"components/QueryResultsActions.vue\":277,\"mixins\":331,\"vueify/lib/insert-css\":2}],279:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"tableattributefieldvalue\",\n  props: {\n    field: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    }\n  },\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    'g3w-link': _FieldLink2.default,\n    'g3w-vue': _FieldVue2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVue(_vm.field))?_c('g3w-vue',{attrs:{\"feature\":_vm.feature,\"state\":_vm.field}}):(_vm.isSimple(_vm.field))?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.field.value)}}):(_vm.isPhoto(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isImage(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isLink(_vm.field))?_c('g3w-link',{attrs:{\"state\":{value: _vm.field.value}}}):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-359d5ff0\"\n\n},{\"components/FieldLink.vue\":205,\"components/FieldVue.vue\":208,\"mixins\":331}],280:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nvar SIDEBARWIDTH = void 0;\n\nexports.default = {\n  props: ['table', 'feature', 'relation', 'previousview', 'showChartButton', 'cardinality'],\n  inject: ['relationnoback'],\n  mixins: [_mixins.fieldsMixin, _mixins.resizeMixin],\n  components: {\n    Field: _FieldG3W2.default\n  },\n  data: function data() {\n    return {\n      feature: null,\n      fields: null,\n      chart: false,\n      headercomponent: null,\n      downloadButton: null,\n      downloadLayer: {\n        state: null,\n        config: {\n          downloads: []\n        }\n      }\n    };\n  },\n\n  computed: {\n    showrelationslist: function showrelationslist() {\n      return this.previousview === 'relations' && !this.relationnoback;\n    },\n    one: function one() {\n      return this.relation.type === 'ONE';\n    }\n  },\n  methods: {\n    createTable: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        var layer, downloadformats, downloadformatsLength;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layer = _catalogLayers2.default.getLayerById(this.table.layerId);\n\n                this.isEditable = layer.isEditable() && !layer.isInEditing();\n                downloadformats = layer.isDownloadable() ? layer.getDownloadableFormats() : [];\n                downloadformatsLength = downloadformats.length;\n\n                if (downloadformatsLength > 0) {\n                  this.downloadButton = {\n                    toggled: false,\n                    tooltip: downloadformatsLength > 1 ? 'Downloads' : 'sdk.tooltips.download_' + downloadformats[0],\n                    handler: downloadformatsLength > 1 ? _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                      return regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _this.downloadButton.toggled = !_this.downloadButton.toggled;\n                              _this.downloadLayer.state = _this.downloadLayer.state || layer.state;\n                              _this.downloadLayer.config.downloads = _this.downloadLayer.config.downloads.length ? _this.downloadLayer.config.downloads : downloadformats.map(function (format) {\n                                return {\n                                  id: format,\n                                  format: format,\n                                  cbk: function cbk() {\n                                    _this.saveRelation(layer.getDownloadUrl(format));\n                                    _this.headercomponent = null;\n                                  },\n                                  download: true\n                                };\n                              });\n                              _this.headercomponent = _this.downloadButton.toggled ? _QueryResultsActionDownloadFormats2.default : null;\n\n                            case 4:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee, _this);\n                    })) : function () {\n                      return _this.saveRelation(layer.getDownloadUrl(downloadformats[0]));\n                    }\n                  };\n                }\n                RelationPageEventBus.$on('reload', function () {\n                  _this.reloadLayout();\n                });\n                this.showChart = throttle(_asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n                  var relationData;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _this.chart = !_this.chart;\n                          _context2.next = 3;\n                          return _this.$nextTick();\n\n                        case 3:\n                          _this.chartContainer = _this.chartContainer || $('#chart_content');\n                          relationData = {\n                            relations: [_this.relation],\n                            fid: _this.feature.attributes[_constant.G3W_FID]\n                          };\n\n                          _this.$emit(_this.chart ? 'show-chart' : 'hide-chart', _this.chartContainer, relationData);\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                })));\n                _context3.next = 9;\n                return this.$nextTick();\n\n              case 9:\n                SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n                this.relation.title = this.relation.name;\n\n                if (!this.one) {\n                  this.relationDataTable = $(this.$refs.relationtable).DataTable({\n                    \"pageLength\": 10,\n                    \"bLengthChange\": true,\n                    \"scrollResize\": true,\n                    \"scrollCollapse\": true,\n                    \"scrollX\": true,\n                    \"responsive\": true,\n                    \"order\": [this.table.formStructure ? 1 : 0, 'asc'],\n                    \"columnDefs\": [{ \"orderable\": !this.table.formStructure, \"targets\": 0 }]\n                  });\n                  this.tableHeaderHeight = $('.query-relation  div.dataTables_scrollHeadInner').height();\n                }\n\n                _gui2.default.on('pop-content', this.resize);\n\n              case 13:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function createTable() {\n        return _ref.apply(this, arguments);\n      }\n\n      return createTable;\n    }(),\n    resize: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var tableHeight, datatableBody, breadcrumbHeight, OtherElementHeight, width;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.$refs.query_relation && this.$refs.query_relation.parentNode.style.display !== 'none') {\n                  tableHeight = $(\".content\").height();\n                  datatableBody = $(this.$refs.query_relation).find('div.dataTables_scrollBody');\n                  breadcrumbHeight = $('.content_breadcrumb').outerHeight();\n                  OtherElementHeight = breadcrumbHeight + $('.navbar-header').outerHeight() + $('.close-panel-block').outerHeight() + $(this.$refs['relation-header']).outerHeight() + $('.dataTables_filter').last().outerHeight() + $('.dataTables_paginate.paging_simple_numbers').outerHeight() + $('.dataTables_scrollHead').last().outerHeight();\n\n                  datatableBody.height(tableHeight - this.tableHeaderHeight - OtherElementHeight);\n                  if (this.table.rowFormStructure) {\n                    width = datatableBody.width() - $(this.$refs.relationtable).find('tr.selected > td').outerWidth() - 20;\n\n                    $('.row-wrap-tabs > .tabs-wrapper').width(width);\n                  }\n                  this.reloadLayout();\n                }\n\n              case 1:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function resize() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    saveRelation: function saveRelation(type) {\n      this.$emit('save-relation', type);\n      this.downloadButton.toggled = false;\n    },\n    showFormStructureRow: function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, row) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.table.rowFormStructure = this.table.rowFormStructure === row ? null : row;\n                this.fields = this.getRowFields(row);\n                _context5.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#relationtable_wrapper div.dataTables_scrollBody').css('overflow-x', this.table.rowFormStructure ? 'hidden' : 'auto');\n                this.resize();\n\n              case 6:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function showFormStructureRow(_x, _x2) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return showFormStructureRow;\n    }(),\n    editFeature: function editFeature(index) {\n      var queryResultsService = _gui2.default.getService('queryresults');\n      queryResultsService.editFeature({\n        layer: {\n          id: this.table.layerId,\n          attributes: this.table.fields\n        },\n        feature: this.table.features[index]\n      });\n    },\n    getRowFields: function getRowFields(row) {\n      var _this2 = this;\n\n      return this.table.fields.map(function (field, index) {\n        field.value = row[index];\n        field.query = true;\n        field.input = {\n          type: '' + _this2.getFieldType(field)\n        };\n        return field;\n      });\n    },\n    reloadLayout: function reloadLayout() {\n      this.relationDataTable && this.relationDataTable.columns.adjust();\n    },\n    back: function back() {\n      this.$parent.setRelationsList();\n    },\n    fieldIs: function fieldIs(type, value) {\n      var fieldType = this.getFieldType(value);\n      return fieldType === type;\n    },\n    is: function is(type, value) {\n      return this.fieldIs(type, value);\n    },\n    moveFnc: function moveFnc(evt) {\n      var sidebarHeaderSize = $('.sidebar-collapse').length ? 0 : SIDEBARWIDTH;\n      var size = evt.pageX + 2 - sidebarHeaderSize;\n      this.$refs.tablecontent.style.width = size + 'px';\n      this.$refs.chartcontent.style.width = $(this.$refs.relationwrapper).width() - size - 10 + 'px';\n    }\n  },\n  watch: {\n    table: {\n      immediate: true,\n      handler: function handler(table) {\n        table && table.rows.length && this.createTable();\n      }\n    },\n    chart: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6() {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function chart() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return chart;\n    }(),\n    headercomponent: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function headercomponent() {\n        return _ref7.apply(this, arguments);\n      }\n\n      return headercomponent;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  beforeDestroy: function () {\n    var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (this.relationDataTable) {\n                this.relationDataTable.destroy();\n                this.relationDataTable = null;\n                this.chartContainer && this.$emit('hide-chart', this.chartContainer);\n                this.chartContainer = null;\n                this.tableHeaderHeight = null;\n                _gui2.default.off('pop-content', this.resize);\n              }\n\n            case 1:\n            case 'end':\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function beforeDestroy() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return beforeDestroy;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.table)?_c('div',{ref:\"query_relation\",staticClass:\"query-relation\",class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"margin-top\":\"3px\"}},[_c('div',{ref:\"relation-header\",staticClass:\"header skin-background-color lighten\",staticStyle:{\"padding\":\"3px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"width\":\"100%\"}},[_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"border-radius\":\"3px\"},style:({fontSize: _vm.isMobile() ? '1em' : '1.3em'})},[(_vm.showrelationslist)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('sdk.relations.back_to_relations'),expression:\"'sdk.relations.back_to_relations'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:_vm.g3wtemplate.getFontClass('exit'),staticStyle:{\"font-size\":\"0.8em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"relation-tile skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.relation.name))])]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{staticClass:\"relations-table-tools\",staticStyle:{\"font-size\":\"1.1em\",\"margin-bottom\":\"3px\"}},[(_vm.downloadButton)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.downloadButton.tooltip),expression:\"downloadButton.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('download'), {'toggled-white': _vm.downloadButton.toggled}],staticStyle:{\"padding\":\"5px\"},on:{\"click\":_vm.downloadButton.handler}}):_vm._e(),_vm._v(\" \"),(_vm.showChartButton)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('sdk.tooltips.show_chart'),expression:\"'sdk.tooltips.show_chart'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('chart'), _vm.chart ? 'toggled-white' : ''],staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showChart($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{ref:\"relationwrapper\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin-bottom\":\"5px\",\"margin-top\":\"3px\",\"height\":\"95%\"}},[_c('div',{ref:\"tablecontent\",style:({width: _vm.chart ? '70%' : '100%', marginRight: _vm.chart ? '8px' : '3px', position: 'relative' }),attrs:{\"id\":\"table_content\"}},[(_vm.headercomponent)?[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"margin-left\":\"auto\",\"margin-bottom\":\"5px\",\"margin-right\":\"4px\"}},[_c(_vm.headercomponent,{tag:\"component\",attrs:{\"layer\":_vm.downloadLayer.state,\"config\":_vm.downloadLayer.config}})],1)]:_vm._e(),_vm._v(\" \"),_c('table',{ref:\"relationtable\",staticClass:\"hover relationtable table table-striped row-border\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',{staticStyle:{\"height\":\"0! important\"}},[(_vm.table.formStructure || _vm.isEditable)?_c('th',{style:({minWidth: ((((1*!!_vm.table.formStructure) + (1*_vm.isEditable))*30) + \"px\"), padding: '0 !important' })}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.table.columns),function(column){return _c('th',[_vm._v(_vm._s(column))])})],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.table.rows),function(row,index){return _c('tr',{key:_vm.table.rows_fid[index],class:{'selected': _vm.table.rowFormStructure === row}},[(_vm.table.formStructure || _vm.isEditable)?_c('td',[(_vm.table.formStructure)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:(_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'),expression:\"table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:[_vm.table.rowFormStructure === row ? _vm.g3wtemplate.getFontClass('minus') :  _vm.g3wtemplate.getFontClass('table')],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"current-tooltip\":_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'},on:{\"click\":function($event){$event.stopPropagation();return _vm.showFormStructureRow($event, row)}}}):_vm._e(),_vm._v(\" \"),(_vm.isEditable)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('Edit'),expression:\"'Edit'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:_vm.g3wtemplate.getFontClass('pencil'),on:{\"click\":function($event){$event.stopPropagation();return _vm.editFeature(index)}}}):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.table.formStructure && _vm.table.rowFormStructure === row)?[_c('td',{staticClass:\"row-wrap-tabs\",attrs:{\"colspan\":_vm.table.columns.length}},[_c('tabs',{attrs:{\"layerid\":_vm.table.layerId,\"feature\":_vm.table.features[index],\"fields\":_vm.fields,\"tabs\":_vm.table.formStructure}})],1)]:_vm._l((row),function(value){return _c('td',[_c('field',{attrs:{\"state\":{value:value}}})],1)})],2)}),0)])],2),_vm._v(\" \"),_c('g3w-resize',{staticClass:\"skin-border-color lighten\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"0 1px 0 1px\"},attrs:{\"show\":_vm.chart,\"moveFnc\":_vm.moveFnc,\"where\":'content'}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chart),expression:\"chart\"}],ref:\"chartcontent\",style:({width: _vm.chart ? '30%' : '0', paddingBottom: '5px', marginBottom: '5px', marginLeft: '8px' }),attrs:{\"id\":\"chart_content\"}})],1):_c('div',{staticClass:\"dataTables_scrollBody\",staticStyle:{\"font-weight\":\"bold\",\"margin-top\":\"10px\",\"font-size\":\"1.1em\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.relations.no_relations_found'),expression:\"'sdk.relations.no_relations_found'\"}]})])]):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"components/FieldG3W.vue\":202,\"components/QueryResultsActionDownloadFormats.vue\":274,\"core/utils/utils\":68,\"gui/relations/vue/relationeventbus\":170,\"mixins\":331,\"services/gui\":349,\"store/catalog-layers\":362}],281:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".relation-grid-item[data-v-6afbae12]{min-width:0;min-height:80px;border:2px solid;cursor:pointer;border-radius:4px;background-color:#fff;display:flex;align-items:center}.relation-grid-item[data-v-6afbae12]:hover{background-color:transparent}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: ['relations', 'feature', 'loading'],\n  methods: {\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$parent.showRelation(relation);\n\n              case 2:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    featureInfo: function featureInfo() {\n      var infoFeatures = [];\n      var index = 0;\n      Object.entries(this.feature.attributes).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        if (index > 2) return false;\n        if (value && _.isString(value) && value.indexOf('/') === -1) {\n          infoFeatures.push({\n            key: key,\n            value: value\n          });\n          index += 1;\n        }\n      });\n      return infoFeatures;\n    }\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var relation;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(this.relations.length === 1)) {\n                _context2.next = 5;\n                break;\n              }\n\n              relation = this.relations[0];\n\n              relation.noback = true;\n              _context2.next = 5;\n              return this.showRelation(relation);\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.relations.length === 1) {\n      delete this.relations[0].noback;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations\",staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"header skin-background-color lighten\",staticStyle:{\"margin-bottom\":\"10px\",\"border-radius\":\"4px\",\"padding\":\"5px\"}},[_c('div',{staticClass:\"skin-color-dark\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.relations.list_of_relations_feature'),expression:\"'sdk.relations.list_of_relations_feature'\",arg:\"pre\"}],staticStyle:{\"font-size\":\"1.1em\"}}),_vm._v(\" \"),_vm._l((_vm.featureInfo()),function(info){return _c('span',[_c('b',[_vm._v(_vm._s(info.key))]),_vm._v(\": \"+_vm._s(info.value)+\" \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"query-relations-content\",staticStyle:{\"display\":\"grid\",\"grid-template-columns\":\"repeat(2, auto)\",\"grid-column-gap\":\"5px\",\"grid-row-gap\":\"5px\"}},_vm._l((_vm.relations),function(relation){return _c('div',{staticClass:\"skin-border-color relation-grid-item\",on:{\"click\":function($event){return _vm.showRelation(relation)}}},[_c('span',{staticClass:\"skin-color g3w-long-text\",staticStyle:{\"font-weight\":\"bold\",\"padding\":\"5px\"}},[_vm._v(_vm._s(relation.name))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6afbae12\"\n\n},{\"vueify/lib/insert-css\":2}],282:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _Relations = require('components/Relations.vue');\n\nvar _Relations2 = _interopRequireDefault(_Relations);\n\nvar _Relation = require('components/Relation.vue');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require.getFeaturesFromResponseVectorApi;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nexports.default = {\n  data: function data() {\n    this.chartRelationIds = this.$options.chartRelationIds || [];\n    var _$options = this.$options,\n        table = _$options.table,\n        _$options$relation = _$options.relation,\n        relation = _$options$relation === undefined ? null : _$options$relation,\n        relations = _$options.relations,\n        nmRelation = _$options.nmRelation,\n        feature = _$options.feature,\n        currentview = _$options.currentview,\n        service = _$options.service;\n\n    return {\n      loading: false,\n      state: null,\n      error: false,\n      table: table ? service.buildRelationTable(table) : null,\n      relation: relation,\n      relations: relations,\n      nmRelation: nmRelation,\n      showChartButton: false,\n      feature: feature,\n      currentview: currentview,\n      previousview: currentview\n    };\n  },\n  provide: function provide() {\n    return {\n      relationnoback: this.$options.relations.length === 1\n    };\n  },\n\n  components: {\n    'relations': _Relations2.default,\n    'relation': _Relation2.default\n  },\n  methods: {\n    saveRelations: function saveRelations(type) {\n      this.$options.service.saveRelations(type);\n    },\n    reloadLayout: function reloadLayout() {\n      RelationPageEventBus.$emit('reload');\n    },\n    showChart: function showChart(container, relationData) {\n      var relationLayerId = this.relation.referencingLayer;\n      _gui2.default.getService('queryresults').showChart([relationLayerId], container, relationData);\n    },\n    hideChart: function hideChart(container) {\n      _gui2.default.getService('queryresults').hideChart(container);\n    },\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        var relationLayerId, fid, response, relations;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                this.loading = true;\n                this.relation = relation;\n                relationLayerId = relation.referencingLayer;\n                fid = this.feature.attributes[_constant.G3W_FID];\n                _context.prev = 5;\n                _context.next = 8;\n                return this.$options.service.getRelations({\n                  layer: this.$options.layer,\n                  relation: relation,\n                  fid: fid\n                });\n\n              case 8:\n                response = _context.sent;\n                relations = getFeaturesFromResponseVectorApi(response, {\n                  type: 'result'\n                });\n\n                if (!this.nmRelation) {\n                  _context.next = 15;\n                  break;\n                }\n\n                relationLayerId = this.nmRelation.referencedLayer;\n                _context.next = 14;\n                return this.$options.service.getRelationsNM({\n                  nmRelation: this.nmRelation,\n                  features: relations\n                });\n\n              case 14:\n                relations = _context.sent;\n\n              case 15:\n                this.showChartButton = !!this.chartRelationIds.find(function (chartlayerid) {\n                  return chartlayerid === relationLayerId;\n                });\n                this.table = this.$options.service.buildRelationTable(relations, relationLayerId);\n\n                _gui2.default.changeCurrentContentOptions({\n                  title: relation.name,\n                  crumb: {\n                    title: relation.name\n                  }\n                });\n                _context.next = 20;\n                return this.$nextTick();\n\n              case 20:\n                this.previousview = this.currentview;\n                this.currentview = 'relation';\n                _context.next = 26;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context['catch'](5);\n\n              case 26:\n                _gui2.default.setLoadingContent(false);\n                this.loading = true;\n\n              case 28:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 24]]);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    setRelationsList: function setRelationsList() {\n      this.previousview = 'relation';\n      this.currentview = 'relations';\n      _gui2.default.changeCurrentContentOptions({\n        crumb: {\n          title: _constant.LIST_OF_RELATIONS_TITLE\n        }\n      });\n      this.loading = false;\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.currentview === 'relation' || this.relations.length === 1 && this.relations[0].type === 'ONE') this.showRelation(this.relations[0]);\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.relations.sort(function (_ref3, _ref4) {\n                var relationName1 = _ref3.name;\n                var relationName2 = _ref4.name;\n\n                if (relationName1 < relationName2) return -1;\n                if (relationName1 > relationName2) return 1;\n                return 0;\n              });\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              if (this.error) requestAnimationFrame(function () {\n                _gui2.default.popContent();\n              });\n              this.error = false;\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations-page\"},[_c(_vm.currentview,{ref:_vm.currentview,tag:\"component\",attrs:{\"loading\":_vm.loading,\"previousview\":_vm.previousview,\"showChartButton\":_vm.showChartButton,\"relations\":_vm.relations,\"relation\":_vm.relation,\"nmRelation\":_vm.nmRelation,\"feature\":_vm.feature,\"table\":_vm.table},on:{\"save-relation\":_vm.saveRelations,\"show-chart\":_vm.showChart,\"hide-chart\":_vm.hideChart}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Relation.vue\":280,\"components/Relations.vue\":281,\"constant\":5,\"core/utils/geo\":65,\"gui/relations/vue/relationeventbus\":170,\"services/gui\":349}],283:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nvar _QueryBuilderSearch = require('components/QueryBuilderSearch.vue');\n\nvar _QueryBuilderSearch2 = _interopRequireDefault(_QueryBuilderSearch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  components: {\n    'g3w-tool': _Tool2.default,\n    'g3w-search-querybuilder': _QueryBuilderSearch2.default\n  },\n  computed: {\n    show: function show() {\n      return this.state.searches.length + this.state.searchtools.length + this.state.querybuildersearches.length > 0;\n    }\n  },\n  methods: {\n    showPanel: function showPanel() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.$options.service.showPanel(config);\n    },\n    removeItem: function removeItem(_ref) {\n      var type = _ref.type,\n          index = _ref.index;\n\n      this.$options.service.removeItem({\n        type: type,\n        index: index\n      });\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.icon-search-action').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('ul',{staticClass:\"treeview-menu g3w-search g3w-tools menu-items\",attrs:{\"id\":\"g3w-search\"}},[_vm._l((_vm.state.searches),function(search){return _c('li',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.showPanel(search)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('empty-circle')}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(search.name))])])}),_vm._v(\" \"),_vm._l((_vm.state.searchtools),function(searchtool){return _c('li',[_c('g3w-tool',{attrs:{\"tool\":searchtool}})],1)}),_vm._v(\" \"),_vm._l((_vm.state.querybuildersearches),function(querybuildersearch,index){return _c('g3w-search-querybuilder',{key:querybuildersearch.id,attrs:{\"querybuildersearch\":querybuildersearch},on:{\"delete\":function($event){return _vm.removeItem({type:'querybuilder', index:index})}}})})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryBuilderSearch.vue\":271,\"components/Tool.vue\":296}],284:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nexports.default = {\n  name: 'Searchdatetime',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  created: function created() {\n    this.id = 'search_datetime_' + getUniqueDomId();\n  },\n\n  computed: {\n    time: function time() {\n      return this.forminput.options.format.time;\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var format, fieldformat, displayformat;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              format = this.forminput.options.format;\n              fieldformat = format.fieldformat, displayformat = format.displayformat;\n\n              fieldformat = convertQGISDateTimeFormatToMoment(fieldformat);\n              displayformat = convertQGISDateTimeFormatToMoment(displayformat);\n              $('#' + this.id).datetimepicker({\n                defaultDate: null,\n                format: displayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  vertical: 'bottom',\n                  horizontal: 'left'\n                },\n                showClose: true,\n                locale: _applicationState2.default.language || 'en'\n              });\n\n              $('#' + this.id).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.forminput.id).val();\n                _this.forminput.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, displayformat).format(fieldformat);\n                _this.$emit('change', _this.forminput);\n              });\n\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.forminput.id).blur();\n              });\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group date\",attrs:{\"id\":_vm.id}},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":_vm.forminput.id,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon skin-color\"},[_c('span',{class:_vm.g3wtemplate.getFontClass(_vm.time ? 'time': 'calendar')})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"store/application-state\":361}],285:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SearchSelect = require('components/SearchSelect2.vue');\n\nvar _SearchSelect2 = _interopRequireDefault(_SearchSelect);\n\nvar _SearchDatetime = require('components/SearchDatetime.vue');\n\nvar _SearchDatetime2 = _interopRequireDefault(_SearchDatetime);\n\nvar _SearchPanelLabel = require('components/SearchPanelLabel.vue');\n\nvar _SearchPanelLabel2 = _interopRequireDefault(_SearchPanelLabel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  components: {\n    Select2: _SearchSelect2.default,\n    SearchDatetime: _SearchDatetime2.default,\n    SearchPanelLabel: _SearchPanelLabel2.default\n  },\n  data: function data() {\n    return {\n      state: this.$options.service.state\n    };\n  },\n\n  methods: {\n    isSelectDisabled: function isSelectDisabled(forminput) {\n      return [this.state.loading[forminput.options.dependance], forminput.loading, forminput.options.disabled].reduce(function (disabled) {\n        var current = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        return disabled || current;\n      }, false);\n    },\n    onFocus: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(event) {\n        var top;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.isMobile()) {\n                  _context.next = 5;\n                  break;\n                }\n\n                top = $(event.target).position().top - 10;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                setTimeout(function () {\n                  return $('.sidebar').scrollTop(top);\n                }, 500);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onFocus(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return onFocus;\n    }(),\n    autocompleteRequest: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt('return', this.$options.service.autocompleteRequest(params));\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function autocompleteRequest() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }(),\n    changeDependencyFields: function changeDependencyFields(_ref3) {\n      var field = _ref3.attribute,\n          value = _ref3.value;\n\n      var subscribers = this.$options.service.getDependencies(field);\n      return subscribers.length ? this.$options.service.fillDependencyInputs({\n        field: field,\n        subscribers: subscribers,\n        value: value\n      }) : Promise.resolve();\n    },\n    changeNumericInput: function changeNumericInput(input) {\n      input.value = input.value || input.value === 0 ? input.value : null;\n      this.changeInput(input);\n    },\n    changeInput: function changeInput(input) {\n      var _this = this;\n\n      var id = input.id,\n          attribute = input.attribute,\n          value = input.value,\n          type = input.type;\n\n      try {\n        value = type === 'textfield' || type === 'textField' ? value : value.trim();\n      } catch (err) {}\n      this.$options.service.changeInput({ id: id, value: value });\n      this.state.searching = true;\n      this.changeDependencyFields({\n        attribute: attribute,\n        value: value\n      }).finally(function () {\n        _this.state.searching = false;\n      });\n    },\n    doSearch: function doSearch(event) {\n      event.preventDefault();\n      this.$options.service.run();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.searching),expression:\"state.searching\"}],staticClass:\"g3w-search-panel form-group\"},[_c('h4',{},[_c('b',[_vm._v(_vm._s(_vm.state.title))])]),_vm._v(\" \"),_vm._t(\"tools\"),_vm._v(\" \"),_vm._t(\"form\",[_c('form',{staticClass:\"g3w-search-form\"},[_vm._l((_vm.state.forminputs),function(forminput){return _c('span',{key:forminput.id},[(forminput.type === 'numberfield')?_c('div',{staticClass:\"form-group numeric\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"change\":function($event){return _vm.changeNumericInput(forminput)},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)},function($event){return _vm.changeNumericInput(forminput)}]}})],1):(forminput.type === 'textfield' || forminput.type === 'textField')?_c('div',{staticClass:\"form-group form-item-search  text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"focus\":_vm.onFocus,\"change\":function($event){return _vm.changeInput(forminput)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)}}})],1):(forminput.type === 'selectfield' || forminput.type === 'autocompletefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isSelectDisabled(forminput)),expression:\"isSelectDisabled(forminput)\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),(forminput.options.dependance)?_c('bar-loader',{attrs:{\"loading\":_vm.state.loading[forminput.options.dependance] || forminput.loading}}):_vm._e(),_vm._v(\" \"),_c('select2',{attrs:{\"forminput\":forminput,\"autocompleteRequest\":_vm.autocompleteRequest},on:{\"select-change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.type === 'datetimefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.loading[forminput.options.dependance] || false),expression:\"state.loading[forminput.options.dependance] || false\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('search-datetime',{attrs:{\"forminput\":forminput},on:{\"change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.logicop)?_c('div',{staticClass:\"search-logicop skin-border-color\"},[_c('h4',[_vm._v(_vm._s(forminput.logicop))])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('dosearch'),expression:\"'dosearch'\"}],staticClass:\"sidebar-button-run btn btn-block pull-right\",attrs:{\"id\":\"dosearch\",\"data-i18n\":\"dosearch\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.doSearch($event)}}})])],2)]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/SearchDatetime.vue\":284,\"components/SearchPanelLabel.vue\":286,\"components/SearchSelect2.vue\":287}],286:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nexports.default = {\n  name: 'Searchpanellabel',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  methods: {\n    getLabelOperator: function getLabelOperator(operator) {\n      return '[ ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' ]';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"search-label\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":_vm.forminput.id}},[_c('span',[_vm._v(_vm._s(_vm.forminput.label || _vm.forminput.attribute))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\"},[_vm._v(_vm._s(_vm.getLabelOperator(_vm.forminput.operator)))])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5}],287:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    debounce = _require2.debounce;\n\nexports.default = {\n  name: \"select2\",\n  props: ['forminput', 'autocompleteRequest'],\n  mixins: [_mixins.select2Mixin],\n  methods: {\n    emitChangeEvent: function emitChangeEvent(evt) {\n      var id = $(evt.target).attr('id');\n      var attribute = $(evt.target).attr('name');\n      var data = evt.params.data;\n      var value = data ? data.id : _constant.SEARCH_ALLVALUE;\n      this.$emit('select-change', {\n        id: id,\n        attribute: attribute,\n        value: value,\n        type: this.forminput.type\n      });\n    },\n    _initSelect2Element: function _initSelect2Element() {\n      var _this = this;\n\n      var _forminput = this.forminput,\n          type = _forminput.type,\n          attribute = _forminput.attribute,\n          options = _forminput.options;\n\n      var numdigaut = options.numdigaut && !Number.isNaN(1 * options.numdigaut) && 1 * options.numdigaut > 0 && 1 * options.numdigaut || 2;\n      var isAutocomplete = type === 'autocompletefield';\n      this.select2 = $(this.$el).select2(_extends({\n        width: '100%',\n        dropdownParent: $('.g3w-search-form:visible'),\n        minimumInputLength: isAutocomplete && numdigaut || 0,\n        allowClear: isAutocomplete,\n        placeholder: isAutocomplete ? '' : null,\n        ajax: isAutocomplete ? {\n          delay: 500,\n          transport: function () {\n            var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, success, failure) {\n              var value = _ref.data.q;\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return _this.autocompleteRequest({\n                        field: attribute,\n                        value: value\n                      });\n\n                    case 3:\n                      data = _context.sent;\n\n                      success({ results: data });\n                      _context.next = 10;\n                      break;\n\n                    case 7:\n                      _context.prev = 7;\n                      _context.t0 = _context['catch'](0);\n\n                      failure(_context.t0);\n\n                    case 10:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[0, 7]]);\n            }));\n\n            function transport(_x, _x2, _x3) {\n              return _ref2.apply(this, arguments);\n            }\n\n            return transport;\n          }()\n        } : null\n      }, autocompleteOptions));\n      this.select2.on('select2:select', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n      this.forminput.type === 'autocompletefield' && this.select2.on('select2:unselecting', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n    }\n  },\n  watch: {\n    'forminput.value': function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (value === _constant.SEARCH_ALLVALUE) {\n                  this.select2.val(value);\n                  this.select2.trigger('change');\n                }\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function forminputValue(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return forminputValue;\n    }()\n  },\n  created: function created() {\n    this.allvalue = _constant.SEARCH_ALLVALUE;\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this._initSelect2Element();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.forminput.options.disabled || _vm.forminput.loading),expression:\"forminput.options.disabled || forminput.loading\"}],staticClass:\"form-control\",attrs:{\"name\":_vm.forminput.attribute,\"id\":_vm.forminput.id}},_vm._l((_vm.forminput.options.values),function(keyvalue){return _c('option',{key:keyvalue.value,domProps:{\"value\":keyvalue.value}},[(keyvalue.value === _vm.allvalue )?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.search.all'),expression:\"'sdk.search.all'\"}]}):_c('span',[_vm._v(_vm._s(keyvalue.key))])])}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1269cb09\"\n\n},{\"app/constant\":5,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/external/select2/options/autocomplete\":115,\"mixins\":331}],288:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"Sidebar\",\n  data: function data() {\n    return {\n      components: _sidebar2.default.state.components,\n      panels: _sidebar2.default.stack.state.contentsdata,\n      bOpen: true,\n      bPageMode: false,\n      header: t('main navigation'),\n      state: _sidebar2.default.state\n    };\n  },\n\n  computed: {\n    disabled: function disabled() {\n      return _applicationState2.default.gui.sidebar.disabled;\n    },\n    panelsinstack: function panelsinstack() {\n      return this.panels.length > 0;\n    },\n    showmainpanel: function showmainpanel() {\n      return this.components.length > 0 && !this.panelsinstack;\n    },\n    componentname: function componentname() {\n      return this.components.length ? this.components.slice(-1)[0].getTitle() : \"\";\n    },\n    panelname: function panelname() {\n      var name = \"\";\n      if (this.panels.length) {\n        name = this.panels.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _sidebar2.default.closePanel();\n    },\n    closeAllPanels: function closeAllPanels() {\n      _sidebar2.default.closeAllPanels();\n    }\n  },\n  created: function created() {\n    this.iframe = _applicationState2.default.iframe;\n    _eventbus2.default.$on('sidebaritemclick', function () {\n      return $('.sidebar-toggle').click();\n    });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-sidebar\",class:{ iframe: _vm.iframe, 'g3w-disabled': _vm.disabled }},[(!_vm.isMobile())?_c('a',{staticClass:\"sidebar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars')})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"sidebar\",attrs:{\"id\":\"g3w-sidebar\"}},[_c('div',{attrs:{\"id\":\"disable-sidebar\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"line-height\":\"14px\",\"font-size\":\"1.5em\"},attrs:{\"id\":\"g3w-sidebarpanel-header-placeholder\"}},[_c('div',{staticStyle:{\"display\":\"flex\"},style:({justifyContent: _vm.state.gui.title ? 'space-between' : 'flex-end' })},[(_vm.state.gui.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.gui.title),expression:\"state.gui.title\"}],staticStyle:{\"display\":\"inline-block\",\"font-weight\":\"bold\"}}):_vm._e(),_vm._v(\" \"),_c('div',[(_vm.panels.length > 1)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('back'),expression:\"'back'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closePanel}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('close'),expression:\"'close'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closeAllPanels}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('close')})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-sidebarpanel-placeholder\",attrs:{\"id\":\"g3w-sidebarpanel-placeholder\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponents-content\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showmainpanel),expression:\"showmainpanel\"}],staticClass:\"sidebar-menu\",class:{'g3w-disabled': _vm.state.disabled},attrs:{\"id\":\"g3w-sidebarcomponents\"}})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-42a39db7\"\n\n},{\"core/i18n/i18n.service\":14,\"gui/sidebar/eventbus\":176,\"services/sidebar\":357,\"store/application-state\":361}],289:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _SidebarItemAction = require('components/SidebarItemAction.vue');\n\nvar _SidebarItemAction2 = _interopRequireDefault(_SidebarItemAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"SidebarItem\",\n  data: function data() {\n    return {\n      info: this.$options.info || {\n        state: null,\n        style: null,\n        class: null\n      },\n      main: true,\n      component: this.$options.component,\n      active: false,\n      title: '',\n      open: false,\n      icon: null,\n      iconColor: null,\n      collapsible: null\n    };\n  },\n\n  components: {\n    SidebarItemAction: _SidebarItemAction2.default\n  },\n  methods: {\n    onClickItem: function onClickItem(evt) {\n      var _this = this;\n\n      this.component.isolate && evt.stopPropagation();\n      if (!this.component.isolate) {\n        this.$options.service.state.components.forEach(function (component) {\n          if (component !== _this.component) {\n            if (component.getOpen()) {\n              component.click({\n                open: component.isolate\n              });\n            }\n          }\n        });\n        !this.component.collapsible && isMobile.any && _eventbus2.default.$emit('sidebaritemclick');\n      }\n      this.component.setOpen(!this.component.state.open);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.component.openClose = function () {\n      return _this2.$refs.anchor_click.click();\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.visible),expression:\"state.visible\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.disabled),expression:\"state.disabled\"}],staticClass:\"treeview sidebaritem\",class:{'active': _vm.open},attrs:{\"id\":_vm.component.id}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('a',{ref:\"anchor_click\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClickItem($event)}}},[_c('div',[_c('i',{class:_vm.icon,style:({color: _vm.iconColor})}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}],staticClass:\"treeview-label\"})]),_vm._v(\" \"),_c('div',[(_vm.info.state)?_c('span',{class:_vm.info.class,staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"font-weight\":\"bold\"},style:(_vm.info.style),attrs:{\"title\":_vm.info.tooltip}},[_vm._v(_vm._s(_vm.info.state))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return _c('sidebar-item-action',{key:action.id,attrs:{\"action\":action}})})],2),_vm._v(\" \"),(_vm.collapsible)?_c('i',{staticClass:\"pull-right\",class:_vm.g3wtemplate.getFontClass('angle-left')}):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponent-placeholder\"}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-57cd13ea\"\n\n},{\"components/SidebarItemAction.vue\":290,\"gui/sidebar/eventbus\":176}],290:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Sidebaritemaction',\n  props: {\n    action: {\n      type: Object,\n      required: true\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.action.tooltip),expression:\"action.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action skin-tooltip-left\",class:_vm.action.class,staticStyle:{\"font-weight\":\"bold\",\"padding\":\"3px\"},style:(_vm.action.style),on:{\"click\":function($event){$event.stopPropagation();return _vm.action.fnc($event)}}})}\n__vue__options__.staticRenderFns = []\n\n},{}],291:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#streetview-error-key[data-v-1ee8ab3d]{display:flex;justify-content:center;align-items:center;font-weight:700;height:100%;padding:10px;background-color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"streetview\"}},[(_vm.$options.keyError)?_c('div',{attrs:{\"id\":\"streetview-error-key\"}},[_c('span',{staticClass:\"skin-color\"},[_vm._v(\" \"+_vm._s(_vm.$options.keyError))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1ee8ab3d\"\n\n},{\"vueify/lib/insert-css\":2}],292:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".geometry[data-v-7c2ed9e9]{cursor:pointer}#noheaders[data-v-7c2ed9e9]{background-color:#fff;font-weight:700;margin-top:10px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _TableBody = require('components/TableBody.vue');\n\nvar _TableBody2 = _interopRequireDefault(_TableBody);\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _TableToolbar = require('components/TableToolbar.vue');\n\nvar _TableToolbar2 = _interopRequireDefault(_TableToolbar);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nvar dataTable = void 0;\nvar fieldsComponents = [];\nvar eventHandlers = {\n  pagination: {},\n  nopagination: {}\n};\n\nexports.default = {\n  name: \"G3WTable\",\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      tableBodyComponent: null,\n      state: null,\n      table: null,\n      selectedRow: null\n    };\n  },\n\n  components: {\n    TableBody: _TableBody2.default\n  },\n  methods: {\n    getDataFromBBOX: function getDataFromBBOX() {\n      this.$options.service.getDataFromBBOX();\n    },\n    toggleFilterToken: function toggleFilterToken() {\n      this.$options.service.toggleFilterToken();\n    },\n    clearAllSelection: function clearAllSelection() {\n      this.$options.service.clearLayerSelection();\n    },\n    switchSelection: function switchSelection() {\n      this.$options.service.switchSelection();\n    },\n    selectAllRow: function selectAllRow() {\n      this.state.features.length && this.$options.service.selectAllFeatures();\n    },\n    _setLayout: function _setLayout() {\n      this.$options.service._setLayout();\n    },\n    zoomAndHighLightFeature: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(feature) {\n        var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!feature.geometry) {\n                  _context.next = 4;\n                  break;\n                }\n\n                this.$options.service.zoomAndHighLightFeature(feature, zoom);\n                _context.next = 6;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return this.$options.service.zoomAndHighLightGeometryRelationFeatures(feature, zoom);\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function zoomAndHighLightFeature(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return zoomAndHighLightFeature;\n    }(),\n    addRemoveSelectedFeature: function addRemoveSelectedFeature(feature) {\n      this.$options.service.addRemoveSelectedFeature(feature);\n    },\n    reloadLayout: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                dataTable && dataTable.columns.adjust();\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function reloadLayout() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return reloadLayout;\n    }(),\n    hasHeaders: function hasHeaders() {\n      return !!this.state.headers.length;\n    },\n    createdContentBody: function createdContentBody() {\n      var _this = this;\n\n      fieldsComponents = fieldsComponents.filter(function (fieldComponent) {\n        fieldComponent.$destroy();\n        return false;\n      });\n      var trDomeElements = dataTable.rows().nodes();\n\n      trDomeElements.each(function (rowElement, index) {\n        $(rowElement).css('cursor', 'pointer');\n        if (_this.state.features.length) {\n          var feature = _this.state.features[index];\n          var hasGeometry = !!feature.geometry;\n          $(rowElement).addClass('feature_attribute');\n          feature.selected && $(rowElement).addClass('selected');\n          $(rowElement).on('click', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature);\n          });\n          $(rowElement).on('mouseover', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature, false);\n          });\n          $(rowElement).children().each(function (index, element) {\n            var header = _this.state.headers[index];\n            var contentDOM = void 0;\n            if (header === null) {\n              var SelectRowClass = Vue.extend(_TableSelectRow2.default);\n              var SelectRowInstance = new SelectRowClass({\n                propsData: {\n                  feature: feature\n                }\n              });\n              SelectRowInstance.$on('selected', function (feature) {\n                return _this.$options.service.addRemoveSelectedFeature(feature);\n              });\n              _this.$watch(function () {\n                return feature.selected;\n              }, function (selected) {\n                selected ? $(rowElement).addClass('selected') : $(rowElement).removeClass('selected');\n              });\n              contentDOM = SelectRowInstance.$mount().$el;\n            } else {\n              var fieldClass = Vue.extend(_FieldG3W2.default);\n              var fieldInstance = new fieldClass({\n                propsData: {\n                  state: {\n                    value: feature.attributes[header.name]\n                  }\n                }\n              });\n              fieldInstance.$mount();\n              fieldsComponents.push(fieldInstance);\n              contentDOM = fieldInstance.$el;\n            }\n            $(element).html(contentDOM);\n          });\n        }\n      });\n      setTimeout(function () {\n        return _this.reloadLayout();\n      }, 0);\n    },\n    resize: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var tableHeight, tableHeaderHeight;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                tableHeight = $(\".content\").height();\n                tableHeaderHeight = $('#open_attribute_table  div.dataTables_scrollHeadInner').height();\n\n                $('#open_attribute_table  div.dataTables_scrollBody').height(tableHeight - tableHeaderHeight - 130);\n\n              case 5:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function resize() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return resize;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      var _this2 = this;\n\n      var hideElements, commonDataTableOptions, debounceSearch, G3WTableToolbarClass, G3WTableToolbarInstance;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.setContentKey = _gui2.default.onafter('setContent', this.resize);\n\n              hideElements = function hideElements() {\n                $('.dataTables_info, .dataTables_length').hide();\n                $('.dataTables_paginate').css({\n                  'display': 'flex',\n                  'justify-content': 'space-between',\n                  'font-size': '0.8em',\n                  'margin-top': '5px'\n                });\n                $('.dataTables_filter').css('float', 'right');\n                $('.dataTables_paginate').css('margin', '0');\n              };\n\n              _context7.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              this.first = false;\n              commonDataTableOptions = {\n                \"lengthMenu\": this.state.pageLengths,\n                \"pageLength\": this.state.pageLength,\n                \"scrollX\": true,\n                \"processing\": false,\n                \"scrollCollapse\": true,\n                \"sSearch\": false,\n                \"order\": [1, 'asc'],\n                \"dom\": 'l<\"#g3w-table-toolbar\">frtip',\n                \"columnDefs\": [{\n                  \"targets\": 0,\n                  \"orderable\": false,\n                  \"searchable\": false,\n                  \"width\": '1%'\n                }]\n              };\n\n              if (this.state.pagination) {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  \"columns\": this.state.headers,\n                  \"ajax\": debounce(function (data, callback) {\n                    var trDomeElements = $('#open_attribute_table table tr');\n                    trDomeElements.each(function (element) {\n                      $(element).off('click');\n                      $(element).off('mouseover');\n                    });\n                    _this2.$options.service.getData(data).then(function () {\n                      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(serverData) {\n                        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                          while (1) {\n                            switch (_context4.prev = _context4.next) {\n                              case 0:\n                                callback(serverData);\n                                _context4.next = 3;\n                                return _this2.$nextTick();\n\n                              case 3:\n                                _this2.createdContentBody();\n                                _this2.isMobile() && hideElements();\n\n                              case 5:\n                              case 'end':\n                                return _context4.stop();\n                            }\n                          }\n                        }, _callee4, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref5.apply(this, arguments);\n                      };\n                    }()).catch(function (error) {\n                      console.log(error);\n                    });\n                  }, 800),\n                  \"serverSide\": true,\n                  \"deferLoading\": this.state.allfeatures\n                }));\n                this.$options.service.on('ajax-reload', dataTable.ajax.reload);\n                this.changeColumn = debounce(function () {\n                  var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, index) {\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n\n                          case 1:\n                          case 'end':\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5, _this2);\n                  }));\n\n                  return function (_x4, _x5) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n              } else {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  searchDelay: 600\n                }));\n                debounceSearch = debounce(function () {\n                  _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n                }, 600);\n\n                eventHandlers.nopagination['search.dt'] = debounceSearch;\n                dataTable.on('search.dt', debounceSearch);\n                dataTable.on('length.dt', function (evt, settings, length) {\n                  _this2.$options.service.setAttributeTablePageLength(length);\n                });\n                this.changeColumn = debounce(function () {\n                  var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(event, index) {\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n                            _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n\n                          case 2:\n                          case 'end':\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6, _this2);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              }\n\n              this.isMobile() && hideElements();\n\n              G3WTableToolbarClass = Vue.extend(_TableToolbar2.default);\n              G3WTableToolbarInstance = new G3WTableToolbarClass({\n                propsData: {\n                  tools: this.state.tools,\n                  geolayer: this.state.geolayer,\n                  switchSelection: this.switchSelection,\n                  clearAllSelection: this.clearAllSelection,\n                  toggleFilterToken: this.toggleFilterToken,\n                  getDataFromBBOX: this.getDataFromBBOX\n                }\n              });\n\n\n              $('#g3w-table-toolbar').html(G3WTableToolbarInstance.$mount().$el);\n\n              this.$options.service.on('redraw', function (data) {\n                dataTable.clear();\n                dataTable.draw(false);\n                setTimeout(function () {\n                  dataTable.rows.add(data);\n                  dataTable.draw(false);\n                  _this2.createdContentBody();\n                  _this2.isMobile() && hideElements();\n                });\n              });\n\n            case 12:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clear();\n    this.$options.service.off('ajax-reload');\n    this.$options.service.off('redraw');\n    _gui2.default.un('setContent', this.setContentKey);\n    dataTable.destroy(true);\n    dataTable = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"id\":\"open_attribute_table\"}},[(_vm.hasHeaders())?_c('table',{ref:\"attribute_table\",staticClass:\"table table-striped row-border compact nowrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"layer_attribute_table\"}},[_c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_vm._l((_vm.state.headers),function(header,index){return (index > 0)?_c('th',[_c('input',{staticClass:\"form-control column-search\",staticStyle:{\"height\":\"25px\",\"min-width\":\"40px\",\"padding\":\"2px\"},attrs:{\"type\":\"text\",\"placeholder\":header.name},on:{\"keyup\":function($event){return _vm.changeColumn($event, index)}}})]):_vm._e()})],2),_vm._v(\" \"),_c('tr',_vm._l((_vm.state.headers),function(header,index){return _c('th',[(index === 0)?_c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"attribute_table_select_all_rows\",\"disabled\":_vm.state.nofilteredrow || _vm.state.features.length === 0},domProps:{\"checked\":_vm.state.selectAll}}),_vm._v(\" \"),_c('label',{staticStyle:{\"margin-bottom\":\"0 !important\"},attrs:{\"for\":\"attribute_table_select_all_rows\"},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.selectAllRow($event)}}},[_c('span',{staticStyle:{\"padding\":\"5px\"}})])]):_c('span',[_vm._v(_vm._s(header.label))])])}),0)]),_vm._v(\" \"),_c('table-body',{attrs:{\"headers\":_vm.state.headers,\"filter\":_vm.state.tools.filter,\"features\":_vm.state.features,\"addRemoveSelectedFeature\":_vm.addRemoveSelectedFeature,\"zoomAndHighLightFeature\":_vm.zoomAndHighLightFeature}})],1):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('dataTable.no_data'),expression:\"'dataTable.no_data'\"}],attrs:{\"id\":\"noheaders\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7c2ed9e9\"\n\n},{\"components/FieldG3W.vue\":202,\"components/TableBody.vue\":293,\"components/TableSelectRow.vue\":294,\"components/TableToolbar.vue\":295,\"core/utils/utils\":68,\"mixins\":331,\"services/gui\":349,\"vueify/lib/insert-css\":2}],293:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"table-body\",\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    features: {\n      required: true,\n      type: Array\n    },\n    zoomAndHighLightFeature: {\n      type: Function\n    },\n    addRemoveSelectedFeature: {\n      type: Function\n    },\n    filter: {\n      type: Object,\n      default: {\n        active: false\n      }\n    }\n  },\n  data: function data() {\n    return {\n      selectedRow: null\n    };\n  },\n\n  components: {\n    Field: _FieldG3W2.default,\n    SelectRow: _TableSelectRow2.default\n  },\n  methods: {\n    getField: function getField(feature, header) {\n      return {\n        value: feature.attributes[header.name],\n        label: undefined };\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',{attrs:{\"id\":\"table_body_attributes\"}},_vm._l((_vm.features),function(feature,index){return _c('tr',{key:feature.id,staticClass:\"feature_attribute\",class:[index %2 == 1 ? 'odd' : 'pair', {geometry: !!feature.geometry}, {'selected': feature.selected}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"role\":\"row\",\"selected\":_vm.selectedRow === index},on:{\"mouseover\":function($event){return _vm.zoomAndHighLightFeature(feature, false)},\"click\":function($event){return _vm.zoomAndHighLightFeature(feature, true)}}},_vm._l((_vm.headers),function(header,hindex){return _c('td',{attrs:{\"tab-index\":1}},[(hindex===0)?_c('select-row',{attrs:{\"feature\":feature},on:{\"selected\":_vm.addRemoveSelectedFeature}}):_c('field',{attrs:{\"feature\":feature,\"state\":_vm.getField(feature, header)}})],1)}),0)}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4367c62b\"\n\n},{\"components/FieldG3W.vue\":202,\"components/TableSelectRow.vue\":294}],294:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"select-row\",\n  props: {\n    feature: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      id: getUniqueDomId()\n    };\n  },\n\n  methods: {\n    select: function select() {\n      this.$emit('selected', this.feature);\n    }\n  },\n  destroyed: function destroyed() {\n    this.$off('selected');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":_vm.feature.selected}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select($event)}}},[_c('span')])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-709a9af6\"\n\n},{\"core/utils/utils\":68}],295:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".action-button[data-v-3490dc02]{padding:4px}.action-button.toggled[data-v-3490dc02]{border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-table-toolbar\",\n  props: {\n    tools: {\n      type: Object\n    },\n    switchSelection: {\n      type: Function\n    },\n    clearAllSelection: {\n      type: Function\n    },\n    toggleFilterToken: {\n      type: Function\n    },\n    getDataFromBBOX: {\n      type: Function\n    }\n  },\n  computed: {\n    disableMapTool: function disableMapTool() {\n      return !this.tools.geolayer.active && _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel.height_100;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"1px\"}},[(_vm.tools.geolayer.show)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapTool),expression:\"disableMapTool\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.show_features_on_map'),expression:\"'layer_selection_filter.tools.show_features_on_map'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('map'), _vm.tools.geolayer.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getDataFromBBOX($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:_vm.g3wtemplate.getFontClass('clear'),attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clearAllSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.invert'),expression:\"'layer_selection_filter.tools.invert'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('invert'), _vm.tools.filter.active ? 'g3w-disabled': ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.tools.filter.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFilterToken($event)}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3490dc02\"\n\n},{\"store/application-state\":361,\"vueify/lib/insert-css\":2}],296:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tool_disabled[data-v-303c314d]{cursor:not-allowed}.tool_disabled>span[data-v-303c314d]{color:#777}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AppState = _application2.default.getState();\n\nvar TOOLSTATE = {\n  alert: {\n    color: 'red'\n  },\n  info: {\n    color: 'blue'\n  },\n  warning: {\n    color: 'orange'\n  }\n};\n\nexports.default = {\n  name: \"g3w-tool\",\n  props: {\n    tool: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    fireAction: function fireAction(tool) {\n      this.tool.action(tool);\n    },\n    showToolStateMessage: function showToolStateMessage() {\n      _gui2.default.showModalDialog({\n        title: this.tool.state.type.toUpperCase(),\n        message: this.tool.state.message\n      });\n    }\n  },\n  computed: {\n    disabled: function disabled() {\n      return !this.tool.offline && !AppState.online || this.tool.loading || this.tool.disabled;\n    },\n    icon: function icon() {\n      return this.tool.icon || 'caret-right';\n    },\n    toolstatecolor: function toolstatecolor() {\n      return TOOLSTATE[this.tool.state.type].color;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tool.type === 'checkbox' )?_c('div',{staticClass:\"checkbox\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tool.isCheck),expression:\"tool.isCheck\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":_vm.tool.layerName,\"type\":\"checkbox\"},domProps:{\"value\":_vm.tool.layerName,\"checked\":Array.isArray(_vm.tool.isCheck)?_vm._i(_vm.tool.isCheck,_vm.tool.layerName)>-1:(_vm.tool.isCheck)},on:{\"click\":function($event){return _vm.fireAction(_vm.tool)},\"change\":function($event){var $$a=_vm.tool.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.tool.layerName,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tool, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tool, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tool, \"isCheck\", $$c)}}}}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.name)+\"\\n    \")])]):_c('div',{staticClass:\"tool\",class:{tool_disabled: _vm.disabled},staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){!_vm.disabled ? _vm.fireAction(_vm.tool) : null}}},[_c('bar-loader',{attrs:{\"loading\":_vm.tool.loading}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.icon)}),_vm._v(\" \"),(_vm.tool.html)?_c('span',[_c('i',{class:_vm.tool.html.icon}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.html.text || _vm.tool.name)+\"\\n    \")]):_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.tool.name),expression:\"tool.name\"}]}),_vm._v(\" \"),(_vm.tool.state.type)?_c('span',{staticStyle:{\"cursor\":\"pointer\",\"vertical-align\":\"center\",\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\",\"padding\":\"5px\"},style:({color: _vm.toolstatecolor}),on:{\"click\":function($event){$event.stopPropagation();return _vm.showToolStateMessage($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.tool.state.type)})]):_vm._e()],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-303c314d\"\n\n},{\"services/application\":339,\"services/gui\":349,\"vueify/lib/insert-css\":2}],297:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  watch: {\n    'state.toolsGroups': {\n      handler: function handler(groups) {\n        this.$emit('visible', groups.length > 0);\n      }\n    }\n  },\n  components: {\n    G3wTool: _Tool2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"g3w-tools treeview-menu\"},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_vm._l((_vm.state.toolsGroups),function(group){return _c('li',{key:group.name},[_c('div',{staticClass:\"tool-header\"},[_c('i',{class:_vm.g3wtemplate.getFontClass('tool')}),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(group.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box\",attrs:{\"id\":group.name + '-tools'}},_vm._l((group.tools),function(tool){return _c('g3w-tool',{key:tool.name,attrs:{\"tool\":tool}})}),1)])})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Tool.vue\":296}],298:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".usermessage-content[data-v-ff9caad2]{color:#fff;z-index:1000;position:absolute;line-height:normal;padding:3px;min-width:250px;box-shadow:0 3px 5px rgba(0,0,0,.3);-moz-box-shadow:0 3px 5px rgba(0,0,0,.3)}.usermessage-content.mobile[data-v-ff9caad2]{padding:0;min-width:100%}.usermessage-header-content[data-v-ff9caad2]{display:flex;align-items:baseline;justify-content:space-between;width:100%}.usermessage-header-icontype[data-v-ff9caad2]{padding:10px 0 0 5px;font-weight:700;font-size:1.3em}.usermessage-content.mobile .usermessage-header-icontype[data-v-ff9caad2]{padding:0 0 0 5px;font-size:1.1em}.usermessage-header-title[data-v-ff9caad2],.usermessage-header-title h4[data-v-ff9caad2]{font-weight:700;text-align:center}.usermessage-content.mobile .usermessage-header-title h4[data-v-ff9caad2]{margin:0}.usermessage-header-subtitle[data-v-ff9caad2]{font-weight:700;margin:5px}.usermessage-header-right[data-v-ff9caad2]{padding:5px}.usermessage-header-right-item[data-v-ff9caad2]{font-weight:700!important;font-size:1.2em;cursor:pointer}.usermessage-message[data-v-ff9caad2]{width:100%;padding:0 0 3px 10px;max-height:100px;font-size:1.1em;align-self:flex-start;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar COLORS = {\n  success: {\n    backgroundColor: '#62ac62',\n    color: '#FFFFFF'\n  },\n  info: {\n    backgroundColor: '#44a0bb',\n    color: '#FFFFFF'\n  },\n  warning: {\n    backgroundColor: '#f29e1d',\n    color: '#FFFFFF'\n  },\n  alert: {\n    backgroundColor: '#c34943',\n    color: '#FFFFFF'\n  },\n  tool: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\"\n  },\n  loading: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\",\n    fontWeight: \"bold\"\n  }\n};\n\nvar STYLES = {\n  success: {},\n  info: {},\n  warning: {},\n  alert: {},\n  tool: {\n    \"z-index\": _constant.ZINDEXES.usermessage.tool,\n    left: \"40px\"\n  },\n  loading: {}\n};\n\nexports.default = {\n  name: \"usermessage\",\n  props: {\n    id: {},\n    type: {\n      type: String,\n      default: 'info' },\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    },\n    position: {\n      type: String,\n      default: 'top'\n    },\n    size: {\n      type: 'String',\n      default: 'fullpage'\n    },\n    message: {\n      type: String,\n      default: ''\n    },\n    textMessage: {\n      type: Boolean,\n      default: false\n    },\n    autoclose: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    duration: {\n      type: Number,\n      default: 2000\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    showheader: function showheader() {\n      return this.type !== 'loading';\n    }\n  },\n  methods: {\n    addClassMobile: function addClassMobile() {\n      return this.isMobile() && !_gui2.default.isSidebarVisible();\n    },\n    closeUserMessage: function closeUserMessage() {\n      this.$emit('close-usermessage');\n    },\n    hideShow: function hideShow() {}\n  },\n  created: function created() {\n    var _position$split = this.position.split('-'),\n        _position$split2 = _slicedToArray(_position$split, 2),\n        where = _position$split2[0],\n        alignement = _position$split2[1];\n\n    var width = '100%';\n    switch (this.size) {\n      case 'small':\n        width = '25%';\n        break;\n      case 'medium':\n        width = '50%';\n        break;\n      case 'fullpage':\n      default:\n        width = '100%';\n    }\n    if (where === 'center') where = {\n      top: 0,\n      bottom: 0,\n      maxHeight: '20%'\n    };else {\n      where = _defineProperty({}, where, 50);\n    }\n    var position = _extends({}, where, {\n      width: width\n    });\n    if (alignement) {\n      position.width = '25%';\n      switch (alignement) {\n        case 'center':\n          position.left = '0';\n          position.right = '0';\n          position.margin = 'auto';\n          break;\n        case 'right':\n          position.right = 0;\n          break;\n      }\n    }\n    this.style = _extends({}, COLORS[this.type], position, STYLES[this.type]);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var timeout;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.autoclose) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              timeout = setTimeout(function () {\n                _this.closeUserMessage();\n                clearTimeout(timeout);\n              }, this.duration);\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usermessage-content\",class:{'mobile': _vm.addClassMobile()},style:(_vm.style),attrs:{\"id\":_vm.id}},[(_vm.showheader)?_c('div',{staticClass:\"usermessage-header-content\"},[_c('i',{staticClass:\"usermessage-header-icontype\",class:_vm.g3wtemplate.getFontClass(_vm.type)}),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-title\"},[_vm._t(\"header\",[(_vm.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}]}):_c('h4',[_vm._v(\" \"+_vm._s(_vm.type.toUpperCase()))]),_vm._v(\" \"),(_vm.subtitle)?_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"usermessage-header-subtitle\"}):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-right\"},[(!_vm.autoclose && _vm.closable)?_c('div',{on:{\"click\":_vm.closeUserMessage}},[_c('i',{staticClass:\"usermessage-header-right-item\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_vm._t(\"body\",[(_vm.textMessage)?_c('div',{staticClass:\"usermessage-message\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"usermessage-message\"})]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ff9caad2\"\n\n},{\"app/constant\":5,\"services/gui\":349,\"vueify/lib/insert-css\":2}],299:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content_breadcrumb[data-v-209fb2db]{font-size:1.2em;padding:0 3px;border-radius:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserMessage = require('components/UserMessage.vue');\n\nvar _UserMessage2 = _interopRequireDefault(_UserMessage);\n\nvar _NotifyOnline = require('components/NotifyOnline.vue');\n\nvar _NotifyOnline2 = _interopRequireDefault(_NotifyOnline);\n\nvar _NotifyDownload = require('components/NotifyDownload.vue');\n\nvar _NotifyDownload2 = _interopRequireDefault(_NotifyDownload);\n\nvar _NotifyPlugins = require('components/NotifyPlugins.vue');\n\nvar _NotifyPlugins2 = _interopRequireDefault(_NotifyPlugins);\n\nvar _constant = require('app/constant');\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.default = {\n  name: \"Viewport\",\n  props: {\n    appState: {\n      type: Object\n    }\n  },\n  components: {\n    userMessage: _UserMessage2.default,\n    onlineNotify: _NotifyOnline2.default,\n    downloadNotify: _NotifyDownload2.default,\n    pluginsNotify: _NotifyPlugins2.default\n  },\n  data: function data() {\n    return {\n      state: _viewport2.default.state,\n      updatePreviousTitle: false,\n      media: {\n        matches: true\n      }\n    };\n  },\n\n  computed: {\n    breadcrumb: function breadcrumb() {\n      return this.state.content.contentsdata.filter(function (content) {\n        return content.options.crumb;\n      }).map(function (content) {\n        return content.options.crumb;\n      });\n    },\n    showresize: function showresize() {\n      var currentPerc = _viewport2.default.getCurrentContentLayout()[this.state.split === 'h' ? 'width' : 'height'];\n      return this.state.resized.start && this.state.secondaryPerc > 0 && this.state.secondaryPerc < 100 && currentPerc < 100 && currentPerc > 0;\n    },\n    showresizeicon: function showresizeicon() {\n      return this.state.secondaryPerc !== 100;\n    },\n    hooks: function hooks() {\n      return this.usermessage.hooks;\n    },\n    usermessage: function usermessage() {\n      return this.state.usermessage;\n    },\n    showtitle: function showtitle() {\n      var showtitle = true;\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var options = contentsData[contentsData.length - 1].options;\n        if (_.isBoolean(options.showtitle)) showtitle = options.showtitle;\n      }\n      return showtitle;\n    },\n    showContent: function showContent() {\n      return this.state.content.show;\n    },\n    styles: function styles() {\n      return {\n        map: {\n          width: this.state.map.sizes.width + 'px',\n          height: this.state.map.sizes.height + 'px'\n        },\n        content: {\n          width: this.state.content.sizes.width + 'px',\n          height: this.state.content.sizes.height + 'px',\n          zIndex: _constant.ZINDEXES.usermessage.tool + 1,\n          minHeight: this.state.split === 'v' ? _constant.VIEWPORT.resize.content.min + 'px' : null\n        }\n      };\n    },\n    contentTitle: function contentTitle() {\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var _contentsData$options = contentsData[contentsData.length - 1].options,\n            title = _contentsData$options.title,\n            post_title = _contentsData$options.post_title;\n\n        return { title: title, post_title: post_title };\n      }\n    },\n    backOrBackTo: function backOrBackTo() {\n      var contentsData = this.state.content.contentsdata;\n      return contentsData.length > 1 && this.state.content.showgoback ? !contentsData[contentsData.length - 2].options.title ? 'back' : 'backto' : false;\n    },\n    previousTitle: function previousTitle() {\n      var _this = this;\n\n      var contentsData = this.state.content.contentsdata;\n      var title = contentsData.length > 1 && this.state.content.showgoback ? contentsData[contentsData.length - 2].options.title : null;\n      this.updatePreviousTitle = true;\n      this.$nextTick(function () {\n        return _this.updatePreviousTitle = false;\n      });\n      return title;\n    }\n  },\n  methods: {\n    isNotLastCrumb: function isNotLastCrumb(index) {\n      return index < this.breadcrumb.length - 1;\n    },\n    closeContent: function closeContent() {\n      _gui2.default.closeContent();\n    },\n    closeMap: function closeMap() {\n      _viewport2.default.closeMap();\n    },\n    gotoPreviousContent: function gotoPreviousContent() {\n      _gui2.default.popContent();\n    },\n    closeUserMessage: function closeUserMessage() {\n      _gui2.default.closeUserMessage();\n    },\n    moveFnc: function moveFnc(evt) {\n      var size = this.state.split === 'h' ? 'width' : 'height';\n      evt.preventDefault();\n      var sidebarHeaderSize = size === 'width' ? $('.sidebar-collapse').length ? 0 : _viewport2.default.SIDEBARWIDTH : $('#main-navbar').height();\n      var viewPortSize = $(this.$el)[size]();\n      var mapSize = (size === 'width' ? evt.pageX + 2 : evt.pageY + 2) - sidebarHeaderSize;\n      if (mapSize > viewPortSize - _constant.VIEWPORT.resize.content.min) mapSize = viewPortSize - _constant.VIEWPORT.resize.content.min;else if (mapSize < _constant.VIEWPORT.resize.map.min) mapSize = _constant.VIEWPORT.resize.map.min;\n      var contentSize = viewPortSize - mapSize;\n      var resizePercentageMap = Math.round(mapSize / viewPortSize * 100);\n      var resizePercentageContent = 100 - resizePercentageMap;\n      _viewport2.default.resizeViewComponents(this.state.split, {\n        map: _defineProperty({}, size, mapSize),\n        content: _defineProperty({}, size, contentSize)\n      }, resizePercentageContent);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      var handleResizeViewport, mediaQueryEventMobile;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              handleResizeViewport = function handleResizeViewport() {\n                _this2.state.resized.start = true;\n              };\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              mediaQueryEventMobile = window.matchMedia(\"(min-height: 300px)\");\n\n              this.media.matches = mediaQueryEventMobile.matches;\n              mediaQueryEventMobile.addListener(function (event) {\n                if (event.type === 'change') _this2.media.matches = event.currentTarget.matches;\n              });\n              handleResizeViewport();\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-viewport\"},[_c('transition',{attrs:{\"name\":\"fade\",\"duration\":{ enter: 500, leave: 500 }}},[(_vm.usermessage.show)?_c('user-message',{attrs:{\"title\":_vm.usermessage.title,\"subtitle\":_vm.usermessage.subtitle,\"id\":_vm.usermessage.id,\"message\":_vm.usermessage.message,\"draggable\":_vm.usermessage.draggable,\"closable\":_vm.usermessage.closable,\"duration\":_vm.usermessage.duration,\"position\":_vm.usermessage.position,\"autoclose\":_vm.usermessage.autoclose,\"textMessage\":_vm.usermessage.textMessage,\"size\":_vm.usermessage.size,\"type\":_vm.usermessage.type},on:{\"close-usermessage\":_vm.closeUserMessage}},[(_vm.hooks.header)?_c('template',{slot:\"header\"},[_c(_vm.hooks.header,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.body)?_c('template',{slot:\"body\"},[_c(_vm.hooks.body,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.footer)?_c('template',{slot:\"footer\"},[_c(_vm.usermessage.hooks.footer,{tag:\"component\"})],1):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"g3w-view map\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.map),attrs:{\"id\":\"g3w-view-map\"}},[_c('g3w-resize',{class:(\"split-\" + (_vm.state.split)),style:({backgroundColor:'transparent'}),attrs:{\"id\":\"resize-map-and-content\",\"show\":_vm.showresize,\"moveFnc\":_vm.moveFnc,\"orientation\":_vm.state.split}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"application-notifications\"}},[_c('online-notify'),_vm._v(\" \"),_c('download-notify'),_vm._v(\" \"),_c('plugins-notify')],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.content.disabled),expression:\"state.content.disabled\"}],staticClass:\"g3w-view content\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.content),attrs:{\"id\":\"g3w-view-content\"}},[(_vm.breadcrumb.length > 1)?_c('section',{ref:_vm.breadcrumb,staticClass:\"content_breadcrumb\"},_vm._l((_vm.breadcrumb),function(crumb,index){return _c('span',{key:crumb.title},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(crumb.title),expression:\"crumb.title\"}],staticClass:\"skin-color-dark\",style:({fontWeight: _vm.isNotLastCrumb(index) ? 'bold' : 'normal'})}),_vm._v(\" \"),(_vm.isNotLastCrumb(index))?_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin\":\"3px 0\"}},[_vm._v(\"/\")]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),((_vm.showtitle && _vm.contentTitle) || _vm.previousTitle || (_vm.state.content.closable && _vm.state.content.aside))?_c('div',{staticClass:\"close-panel-block\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[(_vm.previousTitle)?_c('div',{staticClass:\"g3w_contents_back g3w-long-text\"},[(_vm.backOrBackTo === 'back')?_c('div',{class:_vm.backOrBackTo},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}]})]):_c('div',{class:_vm.backOrBackTo,on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoPreviousContent()}}},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('backto'),expression:\"'backto'\"}]}),_vm._v(\" \"),(!_vm.updatePreviousTitle)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.previousTitle),expression:\"previousTitle\"}]}):_vm._e()])]):_vm._e(),_vm._v(\" \"),(!_vm.previousTitle && _vm.showtitle && _vm.contentTitle)?_c('div',{staticClass:\"panel-title\",class:{'mobile': _vm.isMobile()},style:([_vm.state.content.style.title])},[_c('span',{attrs:{\"id\":\"contenttitle\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.title),expression:\"contentTitle.title\"}]}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.post_title),expression:\"contentTitle.post_title\"}]})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3-content-header-action-tools\",staticStyle:{\"display\":\"flex\"}},[_vm._l((_vm.state.content.headertools),function(tool){return _c(tool,{tag:\"component\"})}),_vm._v(\" \"),(_vm.showresizeicon)?_c('resize-icon',{staticStyle:{\"font-size\":\"1em\",\"padding\":\"0\",\"align-self\":\"center\",\"margin-left\":\"auto\"},style:({marginRight: _vm.state.content.closable ? '5px': '0px'}),attrs:{\"type\":_vm.state.split}}):_vm._e(),_vm._v(\" \"),(_vm.state.content.closable && _vm.state.content.aside)?_c('span',{staticClass:\"action-button\",class:{'mobile': _vm.isMobile()},staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"},on:{\"click\":_vm.closeContent}},[_c('i',{staticClass:\"skin-color-dark\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.content.loading),expression:\"state.content.loading\"}],staticClass:\"bar-loader\"})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-209fb2db\"\n\n},{\"app/constant\":5,\"components/NotifyDownload.vue\":262,\"components/NotifyOnline.vue\":263,\"components/NotifyPlugins.vue\":264,\"components/UserMessage.vue\":298,\"services/gui\":349,\"services/viewport\":359,\"vueify/lib/insert-css\":2}],300:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contents\",attrs:{\"id\":\"contents\"}})}\n__vue__options__.staticRenderFns = []\n\n},{}],301:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-add-wms-url-message[data-v-438e4bb8]{font-weight:700;color:#000}.g3w-wmsurl-error[data-v-438e4bb8]{background-color:red}.g3w-wmsurl-already-added[data-v-438e4bb8]{background-color:orange}.wms_url_input_content[data-v-438e4bb8]{margin-bottom:5px}.wms-icon-action[data-v-438e4bb8]{font-weight:700;font-size:1.3em;box-shadow:0 5px 10px #1e282c}.wms-icon-action[data-v-438e4bb8]:hover{box-shadow:none}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    isURL = _require.isURL;\n\nexports.default = {\n  name: \"sidebaritem\",\n  data: function data() {\n    return {\n      url: null,\n      id: null,\n      loading: false,\n      status: {\n        error: false,\n        added: false\n      }\n    };\n  },\n\n  computed: {\n    inputswmsurlvalid: function inputswmsurlvalid() {\n      return this.url !== null && this.url.trim() && isURL(this.url) && this.id !== null && this.id.trim();\n    }\n  },\n  methods: {\n    addwmsurl: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2, error, added;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                _context.next = 3;\n                return this.$options.service.addNewUrl({\n                  url: this.url,\n                  id: this.id\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                error = _ref2.error;\n                added = _ref2.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addwmsurl() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addwmsurl;\n    }(),\n    deleteWmsUrl: function deleteWmsUrl(id) {\n      this.$options.service.deleteWmsUrl(id);\n    },\n    showWmsLayersPanel: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(url) {\n        var _ref4, error, added;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                this.loading = true;\n                _context2.next = 4;\n                return this.$options.service.loadWMSDataAndShowWmsLayersPanel(url);\n\n              case 4:\n                _ref4 = _context2.sent;\n                error = _ref4.error;\n                added = _ref4.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                console.log(_context2.t0);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 12]]);\n      }));\n\n      function showWmsLayersPanel(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return showWmsLayersPanel;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-tools menu-items\"},[(_vm.loading)?_c('li',[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1):_vm._e(),_vm._v(\" \"),_c('li',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"background\":\"transparent !important\",\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"add_custom_name_url_wms_input\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id),expression:\"id\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_name_url_wms_input\"},domProps:{\"value\":(_vm.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.id=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{attrs:{\"for\":\"add_custom_url_wms_input\"}},[_vm._v(\"URL\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_url_wms_input\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.inputswmsurlvalid),expression:\"!inputswmsurlvalid\"}],staticClass:\"btn btn-block skin-background-color\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addwmsurl($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square')})])])]),_vm._v(\" \"),(_vm.status.error)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-error\"})]):(_vm.status.added)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.url_already_added'),expression:\"'sidebar.wms.url_already_added'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-already-added\"})]):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"skin-border-color\",staticStyle:{\"background\":\"transparent !important\",\"border-top\":\"2px solid\"}},[_c('div',{staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},[_vm._l((_vm.state.adminwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:_vm.wmsurl,staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.3em\"}})])])}),_vm._v(\" \"),_vm._l((_vm.state.localwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:id,staticStyle:{\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"padding-top\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.add_wms_layer'),expression:\"'sidebar.wms.add_wms_layer'\",arg:\"top\",modifiers:{\"create\":true}}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(url)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('plus-square')})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.delete_wms_url'),expression:\"'sidebar.wms.delete_wms_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteWmsUrl(id)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"font-size\":\"0.7em\"},attrs:{\"title\":url}},[_vm._v(_vm._s(url))])])})],2)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-438e4bb8\"\n\n},{\"core/utils/utils\":68,\"vueify/lib/insert-css\":2}],302:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-wms-panel-title[data-v-0f3e5a3a]{font-size:1.2em;font-weight:700;margin-bottom:10px}button.wms-add-layer-buttom[data-v-0f3e5a3a]{width:100%;margin-top:10px}.g3w-wms-external-panel-layer-added-message[data-v-0f3e5a3a]{font-weight:700;color:red;margin:5px 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  name: \"wmpspanel\",\n  data: function data() {\n    return {\n      loading: false,\n      position: undefined,\n      name: undefined,\n      title: null,\n      abstract: null,\n      map_formats: [],\n      info_formats: [],\n      layers: [],\n      selectedlayers: [],\n      projections: [],\n      epsg: null,\n      added: false\n    };\n  },\n\n  methods: {\n    addWMSlayer: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var config;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = {\n                  url: this.url,\n                  name: this.name && this.name.trim() || undefined,\n                  layers: this.selectedlayers,\n                  epsg: this.epsg,\n                  position: this.position\n                };\n\n                this.added = this.$options.service.checkIfWMSAlreadyAdded(config);\n\n                if (this.added) {\n                  _context.next = 13;\n                  break;\n                }\n\n                this.loading = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return this.$options.service.addWMSlayer(config);\n\n              case 7:\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n              case 11:\n                this.loading = false;\n                this.clear();\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9]]);\n      }));\n\n      function addWMSlayer() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addWMSlayer;\n    }(),\n    clear: function clear() {\n      this.selectedlayers = [];\n      this.name = null;\n    },\n    filterLayerByCurrentEpsg: function filterLayerByCurrentEpsg() {\n      var _this = this;\n\n      this.layers = this.epsg !== null ? this.layers.filter(function (_ref2) {\n        var name = _ref2.name;\n        return _this.layerProjections[name].crss.indexOf(_this.epsg) !== -1;\n      }) : this.$options.config.layers;\n    }\n  },\n  watch: {\n    selectedlayers: function selectedlayers(layers) {\n      var _this2 = this;\n\n      if (layers.length) {\n        var firstLayer = layers[0];\n        if (layers.length === 1) {\n          this.epsg = this.layerProjections[firstLayer].crss[0];\n\n          this.projections = this.layerProjections[firstLayer].crss;\n        } else this.projections = this.projections.filter(function (projection) {\n          return _this2.layerProjections[layers[layers.length - 1]].crss.index(projection) !== -1;\n        });\n      } else {\n        this.epsg = null;\n        this.projections = [];\n      }\n    },\n    epsg: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.filterLayerByCurrentEpsg();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function epsg() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return epsg;\n    }()\n  },\n  created: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var _$options$config, layers, title, abstract, url;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _$options$config = this.$options.config, layers = _$options$config.layers, title = _$options$config.title, abstract = _$options$config.abstract, url = _$options$config.wmsurl;\n\n              this.layerProjections = {};\n              this.url = url;\n              layers.forEach(function (layer) {\n                _this3.layerProjections[layer.name] = {\n                  crss: layer.crss.map(function (crs) {\n                    Projections.get(crs);\n                    return \"EPSG:\" + crs.epsg;\n                  }).sort(),\n                  title: layer.title\n                };\n              });\n              this.layers = layers;\n\n              this.title = title;\n\n              this.abstract = abstract;\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$data = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('h3',{staticClass:\"skin-color g3w-wms-panel-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),(_vm.abstract)?_c('helpdiv',{attrs:{\"message\":_vm.abstract}}):_vm._e(),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.layers'),expression:\"'sidebar.wms.panel.label.layers'\"}],attrs:{\"for\":\"g3w-wms-layers\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('selectedlayers'),expression:\"'selectedlayers'\"}],attrs:{\"id\":\"g3w-wms-layers\",\"multiple\":\"multiple\",\"clear\":\"true\"}},_vm._l((_vm.layers),function(layer){return _c('option',{key:layer.name,domProps:{\"value\":layer.name}},[_vm._v(_vm._s(layer.title))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.projections'),expression:\"'sidebar.wms.panel.label.projections'\"}],attrs:{\"for\":\"g3w-wms-projections\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('epsg'),expression:\"'epsg'\"}],attrs:{\"id\":\"g3w-wms-projections\"}},_vm._l((_vm.projections),function(projection){return _c('option',{key:projection,domProps:{\"value\":projection}},[_vm._v(_vm._s(projection))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"g3w-wms-layer-name\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-wms-layer-name\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),(_vm.added)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.layer_id_already_added'),expression:\"'sidebar.wms.layer_id_already_added'\"}],staticClass:\"g3w-wms-external-panel-layer-added-message\"}):_vm._e(),_vm._v(\" \"),_c('layerspositions',{attrs:{\"position\":_vm.position},on:{\"layer-position-change\":function($event){_vm.position=$event}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.selectedlayers.length === 0),expression:\"selectedlayers.length === 0\"}],staticClass:\"btn wms-add-layer-buttom sidebar-button skin-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addWMSlayer($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\"}})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0f3e5a3a\"\n\n},{\"g3w-ol/projection/projections\":108,\"vueify/lib/insert-css\":2}],303:[function(require,module,exports){\nvar _vueColor = require('vue-color');\n\nvar VueColor = _interopRequireWildcard(_vueColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use ESM imports from 'vue-color' instead\n */\nwindow.VueColor = VueColor;\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use require('vue-cookie') instead of window.VueCookie\n */\n/**\n * @file shims legacy variables to ensure backward compatibily with old G3W-CLIENT plugins (eg. window variables)\n * @since v3.8\n */\n\nwindow.VueCookie = require('vue-cookie');\n\n},{\"vue-color\":\"vue-color\",\"vue-cookie\":\"vue-cookie\"}],304:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @TODO refactor stateful directives (eg. \"v-t\") in order to delete this file: \"src/directives/utils.js\"\n */\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\n/**\n * Internal state\n */\n\n\nvar vm = new Vue();\nvar directives = {};\n\nvar watch = exports.watch = function watch(_ref) {\n  var el = _ref.el,\n      attr = _ref.attr,\n      watcher = _ref.watcher;\n\n  var unique_attr_id = uniqueId();\n  el.setAttribute(attr, unique_attr_id);\n  var dir = directives[unique_attr_id] = {};\n  if (watcher) {\n    dir.unwatch = vm.$watch(watcher[0], watcher[1], watcher[2] || { immediate: true });\n    dir.handler = watcher[1];\n  }\n  return unique_attr_id;\n};\n\nvar unwatch = exports.unwatch = function unwatch(_ref2) {\n  var el = _ref2.el,\n      attr = _ref2.attr;\n\n  var unique_attr_id = el.getAttribute(attr);\n  if (unique_attr_id) {\n    directives[unique_attr_id].unwatch();\n    delete directives[unique_attr_id];\n  }\n};\n\nvar trigger = exports.trigger = function trigger(_ref3) {\n  var el = _ref3.el,\n      attr = _ref3.attr,\n      data = _ref3.data;\n  return directives[el.getAttribute(attr)].handler(data);\n};\n\n},{\"core/utils/utils\":68}],305:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  binding.value ? el.setAttribute('checked', 'checked') : el.removeAttribute('checked');\n};\n\n},{}],306:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  var className = 'g3w-disabled';\n  if (binding.value) {\n    if (!el.classList.contains(className)) el.classList.add(className);\n  } else el.classList.remove(className);\n};\n\n},{}],307:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-download-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    if (typeof binding.value === 'boolean' ? binding.value : true) {\n      (0, _utils.watch)({\n        el: el,\n        attr: attr,\n        watcher: [function () {\n          return _applicationState2.default.download;\n        }, function (bool) {\n          var className = binding.modifiers && binding.modifiers.show && 'hide' || 'disabled';\n          el.classList.toggle('g3w-' + className, className === 'hide' ? !bool : bool);\n        }]\n      });\n    }\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":304,\"store/application-state\":361}],308:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-offline-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    // show if online\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.online;\n      }, function (bool) {\n        bool = (binding.arg && binding.arg === 'hide' ? false : true) ? bool : !bool;\n        el.classList.toggle('g3w-hide', !bool);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":304,\"store/application-state\":361}],309:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-plugins-id';\n\nexports.default = {\n  bind: function bind(el) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.plugins;\n      }, function (plugins) {\n        el.classList.toggle('g3w-hide', plugins.length === 0);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":304,\"store/application-state\":361}],310:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  inserted: function inserted(el, binding, vnode) {\n    var _ref = vnode.data.attrs || {},\n        templateResult = _ref.templateResult,\n        templateSelection = _ref.templateSelection,\n        _ref$multiple = _ref.multiple,\n        multiple = _ref$multiple === undefined ? false : _ref$multiple,\n        _ref$search = _ref.search,\n        search = _ref$search === undefined ? true : _ref$search,\n        select2_value = _ref.select2_value;\n\n    $(el).select2({\n      width: '100%',\n      dropdownCssClass: 'skin-color',\n      templateResult: templateResult,\n      templateSelection: templateSelection,\n      minimumResultsForSearch: !search ? -1 : undefined\n    }).on('select2:select', function (e) {\n      if (binding.value) {\n        var value = e.params.data.id;\n        if (multiple && vnode.context[binding.value].filter(function (d) {\n          return value === d;\n        }).length === 0) {\n          vnode.context[binding.value].push(value);\n        } else {\n          vnode.context[binding.value] = value;\n        }\n      }\n    }).on('select2:unselect', function (e) {\n      if (binding.value && multiple) {\n        vnode.context[binding.value] = vnode.context[binding.value].filter(function (d) {\n          return e.params.data.id !== d;\n        });\n      }\n    });\n\n    if (binding.value && select2_value) {\n      $(el).val(select2_value).trigger('change');\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).select2('destroy');\n  }\n};\n\n},{}],311:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  el.toggleAttribute('selected', binding.value === 0);\n};\n\n},{}],312:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-html-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.innerHTML = '' + t(binding.value);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":304,\"store/application-state\":361}],313:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-placeholder-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.setAttribute('placeholder', (binding.arg === 'plugin' ? tPlugin : t)(binding.value));\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":304,\"store/application-state\":361}],314:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-plugin-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? tPlugin(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":304,\"store/application-state\":361}],315:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-title-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var title = (binding.arg === 'plugin' ? tPlugin : t)(binding.value);\n        el.setAttribute('title', title);\n        el.setAttribute('data-original-title', title);\n      }] });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":304,\"store/application-state\":361}],316:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-tooltip-id';\n\nexports.default = {\n  bind: function bind(_el, binding) {\n    // Automatically create tooltip\n    if (binding.modifiers.create) {\n      if (binding.arg) {\n        _el.setAttribute('data-placement', binding.arg);\n        _el.classList.add('skin-color', 'skin-tooltip-' + binding.arg);\n      }\n      $(_el).tooltip({ trigger: _applicationState2.default.ismobile ? 'click' : 'hover', html: true })\n      // hide tooltip on mobile  after click\n      .on('shown.bs.tooltip', function () {\n        _applicationState2.default.ismobile && setTimeout(function () {\n          return $(_el).tooltip('hide');\n        }, 600);\n      });\n    }\n    (0, _utils.watch)({\n      el: _el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function (_ref) {\n        var _ref$el = _ref.el,\n            el = _ref$el === undefined ? _el : _ref$el;\n\n        var value = el.getAttribute('current-tooltip');\n        if (value === null) {\n          value = binding.value;\n        }\n        el.setAttribute('data-original-title', binding.modifiers.text ? value : (binding.arg === 'plugin' ? tPlugin : t)(value));\n      }]\n    });\n  },\n  componentUpdated: function componentUpdated(el, oldVnode) {\n    var value = el.getAttribute('current-tooltip');\n    if (value != null && value !== oldVnode.oldValue) {\n      (0, _utils.trigger)({ el: el, attr: attr, data: { el: el } });\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).tooltip('hide');(0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":304,\"store/application-state\":361}],317:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? t(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":304,\"store/application-state\":361}],318:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Diese Website verwendet Cookies, um Ihnen die bestmögliche Erfahrung auf unserer Website zu bieten.\",\n      buttonText: \"Verstanden!\"\n    },\n    default: \"default\",\n    sign_in: \"Anmelden\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Filter hinzufügen/entfernen\",\n        nofilter: \"Filter entfernen\",\n        invert: \"Auswahl umkehren\",\n        clear: \"Auswahl löschen\",\n        show_features_on_map: \"Auf der Karte sichtbare Features anzeigen\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Nicht unterstütztes Format\"\n    },\n    layer_position: {\n      top: 'OBEN',\n      bottom: 'UNTEN',\n      message: \"Position relativ zu den Layern im TOC\"\n    },\n    sdk: {\n      search: {\n        all: 'ALLE',\n        no_results: \"Keine Ergebnisse\",\n        searching: \"Suchen ...\",\n        error_loading: \"Fehler beim Datenladen\",\n        layer_not_searchable: \"Layer ist nicht durchsuchbar\",\n        layer_not_querable: \"Layer ist nicht abfragbar\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Bitte\",\n            post: \"oder mehrere Zeichen eingeben\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Kein Layer zu drucken',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Drehung\",\n        download_image: \"Bild herunterladen\",\n        fids_instruction: \"Akzeptierte Werte: von 1 bis [max]. Es ist möglich, ein Intervall einzugeben, z. B. 4-6\",\n        fids_example: \"Bsp. 1,4-6 druckt id 1,4,5,6\",\n        help: \"Die im Druck angezeigten Layer können die im Projekt definierten sein und nicht die auf der Karte angezeigten\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Ausführen\",\n          info: \"Information\",\n          delete: \"Löschen\",\n          edit: \"Bearbeiten\"\n        },\n        messages: {\n          changed: 'Gespeichert',\n          number_of_features: \"Anzahl der Features\"\n        },\n        panel: {\n          button: {\n            all: 'ALLE',\n            save: 'SPEICHERN',\n            test: 'TEST',\n            clear: 'LÖSCHEN',\n            run: 'AUSFÜHREN',\n            manual: 'MANUELL'\n          },\n          layers: 'LAYERS',\n          fields: 'FELDER',\n          values: 'WERTE',\n          operators: 'OPERATOREN',\n          expression: 'AUSDRUCK'\n        },\n        error_run: 'Es ist ein Fehler aufgetreten. Bitte überprüfen Sie die Abfrage',\n        error_test: \"Während der Ausführung der Abfrage ist ein Fehler aufgetreten\",\n        delete: 'Soll es gelöscht werden?',\n        additem: 'Geben Sie den Namen der neuen Suche ein'\n      },\n      errors: {\n        layers: {\n          load: \"Einige Layer sind nicht verfügbar\"\n        },\n        unsupported_format: 'Nicht unterstütztes Format',\n        add_external_layer: 'Fehler im Ladevorgang des Layers'\n      },\n      metadata: {\n        title: 'Metadaten',\n        groups: {\n          general: {\n            title: 'ALLGEMEIN',\n            fields: {\n              title: 'TITEL',\n              name: 'NAME',\n              description: \"BESCHREIBUNG\",\n              abstract: \"ABASTRACT\",\n              keywords: 'SCHLÜSSELWÖRTER',\n              fees: \"GEBÜHREN\",\n              accessconstraints: \"ZUGRIFFSBESCHRÄNKUNG\",\n              contactinformation: \"KONTAKTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referenzen',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Firma',\n                  ContactOrganization: 'Firma',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITEL\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRIE',\n                source: 'QUELLE',\n                attributes: 'ATTRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUTION',\n                keywords: \"SCHLÜSSELWÖRTER\",\n                metadataurl: 'METADATEN URL',\n                dataurl: \"DATEN URL\"\n              }\n            },\n            groups: {\n              general: 'ALLGEMEIN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Zeilenansicht\",\n          row_to_form: \"Formularansicht\"\n        },\n        copy_map_extent_url: 'Link zur Kartenansicht kopieren',\n        download_shapefile: \"Shapefile herunterladen\",\n        download_gpx: \"DGPX herunterladen\",\n        download_gpkg: \"GPKG herunterladen\",\n        download_csv: \"CSV herunterladen\",\n        download_xls: \"XLS herunterladen\",\n        show_chart: \"Diagramm anzeigen\",\n        atlas: \"Atlas drucken\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Auswahl hinzufügen/entfernen\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom auf Feature-Ausdehnung\"\n            },\n            add_features_to_results: {\n              hint: \"Hinzufügen/Entfernen von Features zu den Ergebnissen\"\n            },\n            remove_feature_from_results: {\n              hint: \"Feature aus den Ergebnissen entfernen\"\n            },\n            zoom_to_feature: {\n              hint: \"Zum Feature zoomen\"\n            },\n            relations: {\n              hint: \"Relationen anzeigen\"\n            },\n            relations_charts: {\n              hint: \"Relationship-Diagramm anzeigen\"\n            },\n            download_features_shapefile: {\n              hint: 'Features Shapefile herunterladen'\n            },\n            download_shapefile: {\n              hint: 'Feature Shapefile herunterladen'\n            },\n            download_features_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_features_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_features_csv: {\n              hint: \"Features CSV herunterladen\"\n            },\n            download_csv: {\n              hint: \"Feature CSV herunterladen\"\n            },\n            download_features_xls: {\n              hint: \"Features XLS herunterladen\"\n            },\n            download_xls: {\n              hint: \"Feature XLS herunterladen\"\n            },\n            atlas: {\n              hint: \"Atlas drucken\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Kopieren der Karten-URL mit dieser Geometrie-Feature-Erweiterung\",\n              hint_change: \"Kopiert\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attribute herunterladen\",\n            choiches: {\n              feature: {\n                label: \"Nur Features\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query nach Polygon',\n          no_geometry: 'Keine Geometrie in der Antwort',\n          help: {\n            title: 'Hilfe - Abfrage nach Polygon',\n            message: \"\\n                <ul>\\n                  <li>W\\xE4hlen Sie einen Polygon Layer auf TOC.</li>\\n                  <li>Stellen Sie sicher, dass der Layer sichtbar ist.</li>\\n                  <li>Klicken Sie auf ein Feature des ausgew\\xE4hlten Layers.</li>\\n                </ul>\"\n          }\n        },\n        querybybbox: {\n          tooltip: 'BBox Layer abfragen',\n          nolayers_visible: 'Es sind keine abfragbaren Layer sichtbar. Bitte setzen Sie mindestens einen sichtbaren wfs Layer, um die Abfrage zu starten',\n          help: {\n            title: 'Hilfe - Abfrage des BBox Layers',\n            message: \"\\n                 <ul>\\n                  <li>Ein Quadrat auf der Karte ziehen, um unterstrichene Layer im TOC abzufragen</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Das Ergebnis in der Karte ist unvollständig, da die unten stehende Liste fehlerhafter Einträge enthält:\"\n            }\n          },\n          tooltip: 'Layer hinzufügen'\n        },\n        geolocation: {\n          tooltip: 'Geolokalisierung'\n        },\n        measures: {\n          length: {\n            tooltip: \"Länge\",\n            help: \"Klicken Sie auf die Karte, um die Linie zu zeichnen. Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen möchten.\"\n          },\n          area: {\n            tooltip: \"Fläche\",\n            help: \"Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen wollen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Ungültige Skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meter',\n            nautical: 'Nautische Meile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Daten zur Relation',\n        no_relations_found: 'Keine Relationen gefunden',\n        back_to_relations: 'Zurück zu den Relationen',\n        list_of_relations_feature: 'Liste der Relationen des Features',\n        error_missing_father_field: \"Ein Feld fehlt\"\n      },\n      workflow: {\n        steps: {\n          title: 'Schritte'\n        },\n        next: 'Weiter'\n      },\n      form: {\n        loading: 'Laden ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Kein Feature ausgewählt. Prüfen, ob der Layer in Bearbeitung oder im aktuellen Maßstab sichtbar ist\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Wert aus dem Layer abrufen\",\n            lonlat: \"Zum Abrufen der Koordinaten auf die Karte klicken\"\n          },\n          input_validation_mutually_exclusive: \"Feld schließt sich gegenseitig aus mit \",\n          input_validation_error: \"Obligatorisches Feld oder falscher Datentyp\",\n          input_validation_min_field: \"Der Wert muss größer/gleich sein als der Feldwert  \",\n          input_validation_max_field: \"Der Wert muss kleiner/gleich sein als der Feldwert \",\n          input_validation_exclude_values: \"Wert muss einmalig sein\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Erforderliche Felder\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Spezifisches Relations-Formular verwenden, um mit Relationen zu arbeiten\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEMA\",\n        choose_map_theme: \"THEMA AUSWÄHLEN\",\n        menu: {\n          layerposition: 'Position des Layers',\n          setwmsopacity: \"Opazität einstellen\",\n          wms: {\n            title: \"\",\n            copy: \"Klicken Sie hier, um die Url zu kopieren\",\n            copied: \"Kopiert\"\n          },\n          download: {\n            shp: 'Shapefile herunterladen',\n            gpx: 'GPX herunterladen',\n            gpkg: 'GPKG herunterladen',\n            csv: 'CSV herunterladen',\n            xls: 'XLS herunterladen',\n            geotiff: \"GEOTIFF herunterladen\",\n            geotiff_map_extent: \"GEOTIFF herunterladen (aktueller Ansichtsumfang)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste der Prozesse\",\n        tooltip: 'Karte anklicken'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applikation basiert auf OS-Framework\",\n      g3wSuiteDescription: \"Veröffentlichen und verwalten Sie Ihre QGIS-Projekte im Internet\",\n      productOf: \"Framework entwickelt von\"\n    },\n    toggle_color_scheme: \"Farbschema umschalten\",\n    logout: \"Logout\",\n    no_other_projects: \"Kein weiteres Projekt für diese Gruppe\",\n    yes: \"Ja\",\n    no: \"No\",\n    back: \"Zurück\",\n    backto: \"Zurück zu \",\n    changemap: \"Karte ändern\",\n    component: \"Allgemeine Komponente\",\n    search: \"Suche\",\n    no_results: \"Keine Ergebnisse gefunden\",\n    print: \"Drucken\",\n    create_print: \"Drucken erstellen\",\n    dosearch: \"Suche\",\n    catalog: \"Karte\",\n    data: \"Daten\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legende\",\n    nobaselayer: \"Keine Basemap\",\n    street_search: \"Adresse finden\",\n    show: \"Anzeigen\",\n    hide: \"Ausblenden\",\n    copy_form_data: \"Daten kopieren\",\n    paste_form_data: \"Einfügen\",\n    copy_form_data_from_feature: \"Daten von der Karte kopieren\",\n    error_map_loading: \"Fehler beim Laden der Karte\",\n    check_internet_connection_or_server_admin: \"Internetverbindung prüfen oder Admin kontaktieren\",\n    could_not_load_vector_layers: \"Verbindungsfehler: Layers können geladen werden\",\n    server_saver_error: \"Fehler beim Speichern auf dem Server\",\n    server_error: \"Server-Verbindungsfehler\",\n    save: \"Speichern\",\n    cancel: \"Abbrechen\",\n    close: \"Schließen\",\n    enlange_reduce: \"Vergrößern/Verkleinern\",\n    reset_default: \"Standardgröße\",\n    add: \"Hinzufügen\",\n    exitnosave: \"Beenden ohne Speichern\",\n    annul: \"Abbrechen\",\n    layer_is_added: \"Layer mit gleichem Namen bereits hinzugefügt\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'WMS Layer hinzufügen',\n          label: {\n            position: \"Kartenposition\",\n            name: \"Name\",\n            projections: 'Projektion',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"WMS Layer hinzufügen\",\n        delete_wms_url: \"WMS Url löschen\",\n        layer_id_already_added: \"WMS Layer bereits hinzugefügt\",\n        url_already_added: \"WMS URL bereits hinzugefügt\",\n        layer_add_error: \"WMS Layer nicht hinzugefügt. Bitte überprüfen Sie alle WMS-Parameter oder Url\"\n      }\n    },\n    info: {\n      title: \"Ergebnisse\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Beigefügtes Dokument öffnen\",\n      server_error: \"Auf dem Server ist ein Fehler aufgetreten\",\n      no_results: \"Keine Ergebnisse für diese Anfrage/Suche gefunden\",\n      link_button: \"Öffnen\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Position kann nicht bestimmt werden\"\n      },\n      nominatim: {\n        placeholder: \"Addresse ...\",\n        noresults: \"Keine Ergebnisse\",\n        notresponseserver: \"Keine Antwort vom Server\"\n      },\n      add_layer_control: {\n        header: \"Layer hinzufügen\",\n        select_projection: \"Layer Projektion auswählen\",\n        select_field_to_show: \"Feld auswählen, das auf der Karte angezeigt werden soll\",\n        select_csv_separator: \"Begrenzer auswählen\",\n        select_csv_x_field: \"X-Feld auswählen\",\n        select_csv_y_field: \"Y-Feld auswählen\",\n        select_color: \"Layer Farbe auswählen\",\n        drag_layer: \"Layer hierher ziehen und ablegen\"\n      },\n      query: {\n        input_relation: \"Klicken, um Relationen anzuzeigen\"\n      },\n      length: {\n        tooltip: \"Länge\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot Fehlererstellung\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Klicken Sie mit der rechten Maustaste auf einen einzelnen Layer, um auf zusätzliche Funktionen zuzugreifen\",\n      contextmenu: {\n        zoomtolayer: \"Zoom auf Layer\",\n        open_attribute_table: \"Attributtabelle öffnen\",\n        show_metadata: \"Metadaten\",\n        styles: 'Stile',\n        vector_color_menu: \"Farbe einstellen/ändern\"\n      }\n    },\n    dataTable: {\n      previous: \"Vorherige\",\n      next: \"Weiter\",\n      lengthMenu: \"_MENÜ_ anzeigen\",\n      info: \"Anzeige von _START_ bis _END_ der _TOTAL_ Einträge\",\n      no_data: \"Keine Daten\",\n      nodatafilterd: \"Keine passenden Datensätze gefunden\",\n      infoFiltered: \"(gefiltert aus _MAX_ Gesamtsätzen)\"\n    }\n  }\n};\n\n},{}],319:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"default\",\n    sign_in: \"Sign in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Add/Remove Filter\",\n        nofilter: \"Remove Filter\",\n        invert: \"Invert Selection\",\n        clear: \"Clear Selection\",\n        show_features_on_map: \"Show features visible on map\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      search: {\n        all: 'ALL',\n        no_results: \"No results\",\n        searching: \"Searching ...\",\n        error_loading: \"Error Loading Data\",\n        layer_not_searchable: \"Layer is not searchable\",\n        layer_not_querable: \"Layer is not querable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Please enter\",\n            post: \"or more characters\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'No Layer to print',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Scale\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Download Image\",\n        fids_instruction: \"Values accepted: from 1 to value of [max]. Is possible to insert a range ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 will be printed id 1,4,5,6\",\n        help: \"The layers shown in the print could be those defined on the project and not those displayed on the map\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Run\",\n          info: \"Information\",\n          delete: \"Delete\",\n          edit: \"Edit\"\n        },\n        messages: {\n          changed: 'Saved',\n          number_of_features: \"Number of features\"\n        },\n        panel: {\n          button: {\n            all: 'ALL',\n            save: 'SAVE',\n            test: 'TEST',\n            clear: 'CLEAR',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'LAYERS',\n          fields: 'FIELDS',\n          values: 'VALUES',\n          operators: 'OPERATORS',\n          expression: 'EXPRESSION'\n        },\n        error_run: 'An error occurs. Please check the query',\n        error_test: \"An error occur during query execution\",\n        delete: 'Do you want delete it?',\n        additem: 'Insert the name of the new search'\n      },\n      errors: {\n        layers: {\n          load: \"Some layers are not available\"\n        },\n        unsupported_format: 'Not supported format',\n        add_external_layer: 'Load layer error'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'GENERAL',\n            fields: {\n              title: 'TITLE',\n              name: 'NAME',\n              description: \"DESCRIPTION\",\n              abstract: \"ABSTRACT\",\n              keywords: 'KEYWORDS',\n              fees: \"FEES\",\n              accessconstraints: \"ACCESS CONSTRAINT\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Refereces',\n                  contactvoicetelephone: 'Phone',\n                  contactorganization: 'Organization',\n                  ContactOrganization: 'Organization',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLE\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRY',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'GENERAL',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Row View\",\n          row_to_form: \"Form View\"\n        },\n        copy_map_extent_url: 'Copy map view link',\n        download_shapefile: \"Download Shapefile\",\n        download_gpx: \"Download GPX\",\n        download_gpkg: \"Download GPKG\",\n        download_csv: \"Download CSV\",\n        download_xls: \"Download XLS\",\n        show_chart: \"Show Chart\",\n        atlas: \"Print Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Add/Remove Selection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom to features extent\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom to feature\"\n            },\n            relations: {\n              hint: \"Show Relations\"\n            },\n            relations_charts: {\n              hint: \"Show relations chart\"\n            },\n            download_features_shapefile: {\n              hint: 'Download features Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Download feature Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Download features GPKG\"\n            },\n            download_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_gpkg: {\n              hint: \"Download feature GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Download features CSV\"\n            },\n            download_csv: {\n              hint: \"Download feature CSV\"\n            },\n            download_features_xls: {\n              hint: \"Download features XLS\"\n            },\n            download_xls: {\n              hint: \"Download feature XLS\"\n            },\n            atlas: {\n              hint: \"Print Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query By Polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Guide - Query By Polygon',\n            message: \"\\n                <ul>\\n                  <li>Select a polygon layer on TOC.</li>\\n                  <li>Be sure that layer is visible.</li>\\n                  <li>Click on a feature of selected layer.</li>\\n                </ul>\"\n          }\n        },\n        querybybbox: {\n          tooltip: 'Query BBox layer',\n          nolayers_visible: 'No querable layers are visible. Please set at least one visible wfs layer to run query',\n          help: {\n            title: 'Guide - Query BBox layer',\n            message: \"\\n                  <ul>\\n                  <li>Draw a square on map to query underlined layers on TOC</li>\\n                  </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Add Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Length\",\n            help: \"Click on map to draw the line. Press <br>CANC if you want delete last vertex\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Click to draw poligon.Press <br>CANC if you want delete last vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Invalid Scale\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relation data',\n        no_relations_found: 'No relations found',\n        back_to_relations: 'Back to relations',\n        list_of_relations_feature: 'List of relations of feature',\n        error_missing_father_field: \"Field is missing\"\n      },\n      workflow: {\n        steps: {\n          title: 'Steps'\n        },\n        next: 'Next'\n      },\n      form: {\n        loading: 'Loading ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"No feature selected. Check if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Get value from ma layer\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Field mutually exclusive with \",\n          input_validation_error: \"Mandatory Field or wrong data type\",\n          input_validation_min_field: \"Value has to be more/equal to field value  \",\n          input_validation_max_field: \"Value has to be less/equal to field value \",\n          input_validation_exclude_values: \"Value has to be unique\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Required fields\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Use relation specific form to work with relation\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Click here to copy url\",\n            copied: \"Copied\"\n          },\n          download: {\n            shp: 'Download Shapefile',\n            gpx: 'Download GPX',\n            gpkg: 'Download GPKG',\n            csv: 'Download CSV',\n            xls: 'Download XLS',\n            geotiff: \"Download GEOTIFF\",\n            geotiff_map_extent: \"Download GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"List of process\",\n        tooltip: 'Click on map'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application based on OS framework\",\n      g3wSuiteDescription: \"Publish and manage your QGIS projects on the web\",\n      productOf: \"Framework developed by\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logout\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Yes\",\n    no: \"No\",\n    back: \"Back\",\n    backto: \"Back to \",\n    changemap: \"Change Map\",\n    component: \"Generic Component\",\n    search: \"Search\",\n    no_results: \"No results found\",\n    print: \"Print\",\n    create_print: \"Create Print\",\n    dosearch: \"Search\",\n    catalog: \"Map\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legend\",\n    nobaselayer: \"No basemap\",\n    street_search: \"Find Address\",\n    show: \"Show\",\n    hide: \"Hide\",\n    copy_form_data: \"Copy data\",\n    paste_form_data: \"Paste\",\n    copy_form_data_from_feature: \"Copy data from map\",\n    error_map_loading: \"Error occurs loading map\",\n    check_internet_connection_or_server_admin: \"Check internet connection or contact admin\",\n    could_not_load_vector_layers: \"Connection error: Layers can be loaded\",\n    server_saver_error: \"Error in server saving\",\n    server_error: \"Server connection error\",\n    save: \"Save\",\n    cancel: \"Cancel\",\n    close: \"Close\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Add\",\n    exitnosave: \"Exit without save\",\n    annul: \"Cancel\",\n    layer_is_added: \"Layer with same name already added\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Layer already added\",\n        url_already_added: \"WMS URL already added\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Results\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Open attached document\",\n      server_error: \"An error occurred from server\",\n      no_results: \"No results found for this query/search\",\n      link_button: \"Open\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Can't get your position\"\n      },\n      nominatim: {\n        placeholder: \"Address ...\",\n        noresults: \"No results\",\n        notresponseserver: \"No response from server\"\n      },\n      add_layer_control: {\n        header: \"Add Layer\",\n        select_projection: \"Select layer projection\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Select Layer Color\",\n        drag_layer: \"Drag and drop layer here\"\n      },\n      query: {\n        input_relation: \"Click to show relations\"\n      },\n      length: {\n        tooltip: \"Length\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Right-click on individual layer to access additional features\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Open Attribute Table\",\n        show_metadata: \"Metadata\",\n        styles: 'Styles',\n        vector_color_menu: \"Set/Change Color\"\n      }\n    },\n    dataTable: {\n      previous: \"Previous\",\n      next: \"Next\",\n      lengthMenu: \"Show _MENU_\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"No data\",\n      nodatafilterd: \"No matching records found\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],320:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"oletuksena\",\n    sign_in: \"Kirjaudu sisään\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lisätä/Poista Suodattaa\",\n        nofilter: \"Poista Suodattaa\",\n        invert: \"Käänteinen Valinta\",\n        clear: \"Peruuttaa Valinta\",\n        show_features_on_map: \"Näytä kartalla näkyvät ominaisuudet\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      search: {\n        all: 'KAIKKI',\n        no_results: \"Ei tuloksia\",\n        searching: \"Haetaan ...\",\n        error_loading: \"Virhe ladattaessa tietoja.\",\n        layer_not_searchable: \"Taso ei ole haettavissa.\",\n        layer_not_querable: \"Tasolle ei voi suorittaa kyselyitä.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Syötä\",\n            post: \"tai useampi merkki\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Ei tulostettavia tasoja',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Mittakaava\",\n        format: \"Formaatti\",\n        rotation: \"Kierto\",\n        download_image: \"Lataa kuva\",\n        fids_instruction: \"Hyväksytyt arvot: yhdestä arvoon [max]. Salittua syöttää myös väli, esim. 4-6.\",\n        fids_example: \"Esimerkiksi 1,4-6 tulostuu id 1,4,5,6.\",\n        help: \"Tulosteessa esiintyvät tasot voivat olla projektissa määriteltyjä ei kartalla esiintyviä.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Suorita\",\n          info: \"Informaatio\",\n          delete: \"Poista\",\n          edit: \"Muokkaa\"\n        },\n        messages: {\n          changed: 'Tallennettu',\n          number_of_features: \"Ominaisuuksien lukumäärä\"\n        },\n        panel: {\n          button: {\n            all: 'KAIKKI',\n            save: 'TALLENNA',\n            test: 'TESTI',\n            clear: 'TYHJENNÄ',\n            run: 'SUORITA',\n            manual: 'MANUAALINEN'\n          },\n          layers: 'TASOT',\n          fields: 'KENTÄT',\n          values: 'ARVOT',\n          operators: 'OPERAATTORIT',\n          expression: 'LAUSEKE'\n        },\n        error_run: 'Tapahtui virhe. Tarkista kysely.',\n        error_test: \"Kyselyä suorittaessa tapahtui virhe.\",\n        delete: 'Haluatko poistaa sen?',\n        additem: 'Anna nimi uudelle haulle.'\n      },\n      errors: {\n        layers: {\n          load: \"Jotkin tasot eivät ole saatavilla.\"\n        },\n        unsupported_format: 'Ei tuettu formaatti',\n        add_external_layer: 'Tason latausvirhe'\n      },\n      metadata: {\n        title: 'Metatiedot',\n        groups: {\n          general: {\n            title: 'YLEINEN',\n            fields: {\n              title: 'OTSIKKO',\n              name: 'NIMI',\n              description: \"KUVAUS\",\n              abstract: \"TIIVISTELMÄ\",\n              keywords: 'AVAINSANAT',\n              fees: \"MAKSUT\",\n              accessconstraints: \"PÄÄSYRAJOITUKSET\",\n              contactinformation: \"YHTEYSTIEDOT\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Sähköposti\",\n                  personprimary: 'Viitteet',\n                  contactvoicetelephone: 'Puhelin',\n                  contactorganization: 'Organisaatio',\n                  ContactOrganization: 'Organisaatio',\n                  contactposition: 'Asema',\n                  ContactPosition: 'Asema',\n                  contactperson: 'Yhteyshenkilö',\n                  ContactPerson: 'Yhteyshenkilö'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'TASOT',\n            fields: {\n              layers: 'TASOT',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"OTSIKKO\",\n                name: 'NIMI',\n                geometrytype: 'GEOMETRIA',\n                source: 'LÄHDE',\n                attributes: 'ATTRIBUUTIT',\n                abstract: 'TIIVISTELMÄ',\n                attribution: 'ATTRIBUUTIO',\n                keywords: \"AVAINSANAT\",\n                metadataurl: 'METATIEDON URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'YLEINEN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Rivinäkymä\",\n          row_to_form: \"Taulukkonäkymä\"\n        },\n        copy_map_extent_url: 'Kopioi kartan katselulinkki',\n        download_shapefile: \"Lataa SHP-tiedosto\",\n        download_gpx: \"Lataa GPX-tiedosto\",\n        download_gpkg: \"Lataa GPKG-tiedosto\",\n        download_csv: \"Lataa CSV-tiedosto\",\n        download_xls: \"Lataa XLS-tiedosto\",\n        show_chart: \"Näytä kaavio\",\n        atlas: \"Tulosta Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Kyselytaso',\n          actions: {\n            add_selection: {\n              hint: 'Lisää/Poista valinta'\n            },\n            zoom_to_features_extent: {\n              hint: \"Tarkenna ominaisuuden laajuuteen\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Tarkenna ominaisuuteen\"\n            },\n            relations: {\n              hint: \"Näytä relaatiot\"\n            },\n            relations_charts: {\n              hint: \"Näytä relaatiokaavio\"\n            },\n            download_features_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_features_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_features_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_features_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_features_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            download_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            atlas: {\n              hint: \"Tulosta Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Kysely monikulmiolla',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Kysely monikulmiolla',\n            message: \"\\n                <ul>\\n                  <li>Valitse monikulmiotaso luettelosta.</li>\\n                  <li>Tarkista, ett\\xE4 taso on n\\xE4kyvill\\xE4.</li>\\n                  <li>Valitse ominaisuus valitulla tasolla.</li>\\n                </ul>\"\n          }\n        },\n        querybybbox: {\n          tooltip: 'Tasoon kohdituva BBox-kysely',\n          nolayers_visible: 'Ei kyseltäviä tasoja näkyvillä. Aseta vähintään yksi WFS-taso näkyväksi suorittaaksesi haun.',\n          help: {\n            title: 'Ohje - Tasoon kohdistuva BBox-kysely',\n            message: \"\\n                 <ul>\\n                  <li>Piirr\\xE4 suorakulmio kartalle suorittaaksesi kyselyn luettelossa alleviivatuille tasoille.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lisää taso'\n        },\n        geolocation: {\n          tooltip: 'Maantieteellinen sijainti'\n        },\n        measures: {\n          length: {\n            tooltip: \"Pituus\",\n            help: \"Piirrä murtoviiva kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          },\n          area: {\n            tooltip: \"Alue\",\n            help: \"Piirrä monikulmio kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Väärä mittakaava\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relaation tiedot',\n        no_relations_found: 'Relaatiota ei löytynyt.',\n        back_to_relations: 'Takaisin relaatioihin',\n        list_of_relations_feature: 'Lista ominaisuuden relaatioista',\n        error_missing_father_field: \"Kenttä puuttu\"\n      },\n      workflow: {\n        steps: {\n          title: 'Vaiheet'\n        },\n        next: \"Seuraava\"\n      },\n      form: {\n        loading: 'Ladataan...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Ominaisuuksia ei valiitu. Tarkista, että taso on muokattavissa tai näkyvissä nykyisellä mittakaavalla.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Valitse arvo karttatasolta\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Kenttä toisensa poissulkeva.\",\n          input_validation_error: \"Pakollinen kenttä tai väärä tietotyyppi.\",\n          input_validation_min_field: \"Arvon tulee olla suurempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_max_field: \"Arvon tulee olla pienempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_exclude_values: \"Arvon tulee olla uniikki.\",\n          integer: \"kokonaisluku\",\n          bigint: \"kokonaisluku\",\n          text: \"teksti\",\n          varchar: \"teksti\",\n          textarea: \"teksti\",\n          string: \"merkkijono\",\n          date: \"päiväys\",\n          float: \"liukuluku\",\n          table: \"taulukko\"\n        },\n        footer: {\n          \"required_fields\": \"Vaaditut kentät\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Käytä relaatioiden määrittämiseen tähän tarkoitettua toimintoa\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Paina tästä kopioidaksesi url:n.\",\n            copied: \"Kopioitu.\"\n          },\n          download: {\n            shp: 'Lataa SHP-tiedosto',\n            gpx: 'Lataa GPX-tiedosto',\n            gpkg: 'Lataa GPKG-tiedosto',\n            csv: 'Lataa CSV-tiedosto',\n            xls: 'Lataa XLS-tiedosto',\n            geotiff: 'Lataa GEOTIFF-tiedosto',\n            geotiff_map_extent: \"Lataa GEOTIFF-tiedosto(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista prosesseista\",\n        tooltip: 'Valitse kartalta'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Sovellus perustuu OS framework\",\n      g3wSuiteDescription: \"Julkaise ja hallinnoi QGIS-projekteja verkossa.\",\n      productOf: \"Frameworkin on kehittänyt\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Kirjaudu ulos\",\n    no_other_projects: \"Ei projekteja tälle ryhmälle\",\n    yes: \"Kyllä\",\n    no: \"Ei\",\n    back: \"Palaa\",\n    backto: \"Takaisin \",\n    changemap: \"Vaihda karttaa\",\n    component: \"Yleinen komponentti\",\n    search: \"Hae\",\n    no_results: \"Ei hakutuloksia\",\n    print: \"Tulosta\",\n    create_print: \"Luo tuloste\",\n    dosearch: \"Hae\",\n    catalog: \"Kartta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Taustakartta\",\n    tools: \"Työkalut\",\n    tree: \"Tasot\",\n    legend: \"Merkintöjen selite\",\n    nobaselayer: \"Ei taustakarttaa\",\n    street_search: \"Hae osoite\",\n    show: \"Näytä\",\n    hide: \"Piilota\",\n    copy_form_data: \"Kopioi tiedot\",\n    paste_form_data: \"Liitä\",\n    copy_form_data_from_feature: \"Kopioi tiedot kartalta\",\n    error_map_loading: \"Virhe ladattessa karttaa\",\n    check_internet_connection_or_server_admin: \"Tarkista internetyhteys tai ota yhteyttä ylläpitäjään.\",\n    could_not_load_vector_layers: \"Yhteysvirhe, tasoja ei voida ladata.\",\n    server_saver_error: \"Virhe tallentaessa palvelimelle.\",\n    server_error: \"Yhteysvirhe palvelimeen\",\n    save: \"Tallenna\",\n    cancel: \"Peruuta\",\n    close: \"Sulje\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lisää\",\n    exitnosave: \"Poistu tallentamatta\",\n    annul: \"Peruuta\",\n    layer_is_added: \"Samanniminen taso on jo lisätty.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Taso on jo lisätty.\",\n        url_already_added: \"WMS URL  on jo lisätty.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Tulokset\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Avaa liitetiedosto\",\n      server_error: \"Palvelimella tapahtui virhe.\",\n      no_results: \"Ei tuloksia haulle/kyselylle.\",\n      link_button: \"Avaa\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Sijaintiasi ei saada\"\n      },\n      nominatim: {\n        placeholder: \"Osoite ...\",\n        noresults: \"Ei tuloksia\",\n        notresponseserver: \"Ei vastausta palvelimelta\"\n      },\n      add_layer_control: {\n        header: \"Lisää taso\",\n        select_projection: \"Valitse tason projektio\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Valitse tason väri\",\n        drag_layer: \"Vedä ja pudota taso tähän\"\n      },\n      query: {\n        input_relation: \"Paina näyttääksesi relaatiot\"\n      },\n      length: {\n        tooltip: \"Pituus\"\n      },\n      area: {\n        tooltip: \"Pinta-ala\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Napsauta hiiren kakkospainikkeella yksittäistä tasoa päästäksesi lisäominaisuuksiin.\",\n      contextmenu: {\n        zoomtolayer: \"Tarkenna tasoon\",\n        open_attribute_table: \"Avaa attribuuttitaulu\",\n        show_metadata: \"Metatiedot\",\n        styles: \"Tyylejä\",\n        vector_color_menu: \"Aseta/muuta väriä\"\n      }\n    },\n    dataTable: {\n      previous: \"Edellinen\",\n      next: \"Seuraava\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Ei tietoja\",\n      nodatafilterd: \"Vastaavia tietueita ei löytynyt\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],321:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Ce site utilise des cookies pour assurer une bonne convivialité pour l'utilisateur final.\",\n      buttonText: \"J’ai compris !\"\n    },\n    default: \"par défaut \",\n    sign_in: \"Se connecter \",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Ajout/Suppression de filtre \",\n        nofilter: \"Supprimer le filtre \",\n        invert: \"Sélection inversée \",\n        clear: \"Effacer la sélection \",\n        show_features_on_map: \"Afficher les caractéristiques visibles sur la carte\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      search: {\n        all: 'TOUTES',\n        no_results: \"Aucune valeur trouvée\",\n        searching: \"Je cherche...\",\n        error_loading: \"Erreur de chargement des valeurs\",\n        layer_not_searchable: \"Le layer n’est pas recherchable\",\n        layer_not_querable: \"Le layer n'est pas interrogeable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Tapez au moins\",\n            post: \"caractères\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Aucune layer visible',\n        scale: \"Échelle\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Télécharger l'image\",\n        fids_instruction: \"Valeurs acceptées : de 1 à la valeur maximale indiquée par [max]. Il est également possible d'indiquer une fourchette de valeurs, par exemple 4-6\",\n        fids_example: \"Par exemple 1,4-6 les ids 1,4,5,6 seront imprimés\",\n        help: \"Les layers montrés dans l'impression peuvent être ceux définis dans le projet et non ceux montrés sur la carte\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancer la recherche\",\n          info: \"Information\",\n          delete: \"Supprimer\",\n          edit: \"Editer\"\n        },\n        messages: {\n          changed: 'Enregistré correctement',\n          number_of_features: \"Nombre de fonctionnalités\"\n        },\n        panel: {\n          button: {\n            all: 'TOUTES',\n            save: 'SAUVEGARDER',\n            test: 'TESTER',\n            clear: 'NETTOYER',\n            run: 'EXECUTER',\n            manual: 'MANUEL'\n          },\n          layers: 'LAYERS',\n          fields: 'CHAMPS',\n          values: 'VALEURS',\n          operators: 'OPERATEURS',\n          expression: 'EXPRESSION'\n        },\n        error_run: \"Une erreur s'est produite. Vérifiez si la requête est correcte\",\n        error_test: \"Erreur d'exécution de la requête\",\n        delete: 'Voulez-vous confirmer la suppression ?',\n        additem: 'Entrer le nom de la requête'\n      },\n      errors: {\n        layers: {\n          load: \"Certaines layers du projet ne sont pas disponibles actuellement et n'apparaissent donc pas dans la vue actuelle\"\n        },\n        unsupported_format: 'Format non supporté',\n        add_external_layer: 'Erreur lors du chargement du layer'\n      },\n      metadata: {\n        title: \"Métadonnées\",\n        groups: {\n          general: {\n            title: 'GÉNÉRAL',\n            fields: {\n              title: 'TITRE',\n              name: 'NOM',\n              description: \"DESCRIPTION\",\n              abstract: \"ABREGE\",\n              keywords: 'LISTE DE MOTS-CLÉS',\n              fees: \"DROITS D'INSCRIPTION\",\n              accessconstraints: \"CONTRAINTES D'ACCÈS\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Références',\n                  contactvoicetelephone: 'Téléphone',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Localisation',\n                  ContactPosition: 'Localisation',\n                  contactperson: 'Personne',\n                  ContactPerson: 'Personne'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO ESPACE',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATES',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO ESPACE'\n            },\n            fields: {\n              layers: 'STRATES',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITRE\",\n                name: 'NOM',\n                geometrytype: 'GÉOMÉTRIE',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABRÉGÉ',\n                attribution: 'ATTRIBUTION',\n                keywords: \"MOTS- CLÉS\",\n                metadataurl: 'URL DE MÉTADONNÉES',\n                dataurl: \"URL DES DONNÉES\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Afficher le format de la ligne\",\n          row_to_form: \"Format du formulaire d'affichage\"\n        },\n        zoom_to_features_extent: \"Zoom sur les fonctionnalités\",\n        copy_map_extent_url: 'Copier le lien de visualisation de la carte',\n        download_shapefile: \"Télécharger le fichier Shapefile\",\n        download_gpx: \"Télécharger GPX\",\n        download_gpkg: \"Télécharger GPKG\",\n        download_csv: \"Télécharger CSV\",\n        download_xls: \"Télécharger XLS\",\n        show_chart: \"Montrer graphique\",\n        atlas: \"Imprimer l'Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interrogation layer',\n          actions: {\n            add_selection: {\n              hint: \"Ajouter/supprimer une sélection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            add_features_to_results: {\n              hint: \"Ajouter des fonctionnalités aux résultats\"\n            },\n            remove_feature_from_results: {\n              hint: \"Supprimer la fonctionnalité des résultats\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            relations: {\n              hint: \"Voir les relations\"\n            },\n            relations_charts: {\n              hint: \"Voir les graphiques de relations\"\n            },\n            download_features_shapefile: {\n              hint: 'Télécharger les fonctionnalités vers Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Télécharger le Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Télécharger les fonctionnalités vers GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Télécharger les fonctionnalités vers GPKG\"\n            },\n            download_gpx: {\n              hint: \"Télécharger le GPX\"\n            },\n            download_gpkg: {\n              hint: \"Télécharger le GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Télécharger les fonctionnalités vers CSV\"\n            },\n            download_csv: {\n              hint: \"Télécharger le CSV\"\n            },\n            download_features_xls: {\n              hint: \"Télécharger les fonctionnalités vers XLS\"\n            },\n            download_xls: {\n              hint: \"Télécharger le XLS\"\n            },\n            atlas: {\n              hint: \"Imprimer l'Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copier l'URL de la carte avec l'extension vers cette géométrie\",\n              hint_change: \"Copié\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Téléchargement des attributs\",\n            choiches: {\n              feature: {\n                label: \"Fonctionnalités seulement\"\n              },\n              feature_polygon: {\n                label: \"Fonctionnalités+Requête Polygon \"\n              }\n            }\n          },\n          tooltip: 'Requête par polygone',\n          no_geometry: 'La réponse ne contient pas de géométrie',\n          help: {\n            title: 'Aide - Requête par polygone',\n            message: \"\\n                <ul>\\n                  <li\\\">S\\xE9lectionnez un layer de polygone dans la l\\xE9gende.</li>\\n                  <li>V\\xE9rifiez que le layer est visible dans la carte.</li>\\n                  <li>Cliquez sur une g\\xE9om\\xE9trie du layer s\\xE9lectionn\\xE9.</li>\\n                </ul>\"\n          }\n        },\n        querybybbox: {\n          tooltip: 'Requête pour BBOX',\n          nolayers_visible: \"Aucun layer requêtable n'est visible. Assurez-vous qu'au moins un layer wfs est visible pour exécuter la requête\",\n          help: {\n            title: 'Aide - Requête BBox',\n            message: \"\\n                  <ul>\\n                    <li>Dessinez un rectangle pour interroger les couches surlign\\xE9es en jaune</li>\\n                 </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Le résultat de la carte est partiel en raison de la présence des enregistrements incorrects suivants :\"\n            }\n          },\n          tooltip: 'Ajouter un layer'\n        },\n        geolocation: {\n          tooltip: 'Géolocalisation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Longueur\",\n            help: \"Cliquez sur la carte pour continuer à dessiner la ligne.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          },\n          area: {\n            tooltip: \"Zone\",\n            help: \"Cliquez pour continuer à dessiner le polygone.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Échelle invalide\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Données relationnelles',\n        no_relations_found: 'Aucune relation trouvée',\n        back_to_relations: 'Retour aux relations',\n        list_of_relations_feature: 'Liste des relations entre les caractéristiques',\n        error_missing_father_field: \"Le champ concerné n'existe pas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Étapes'\n        },\n        next: 'Suivant'\n      },\n      form: {\n        loading: 'Chargement...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Aucune fonction sélectionnée. Vérifier si le layer est en édition ou non visible à l'échelle actuelle\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Obtenir la valeur de la carte\",\n            lonlat: \"Cliquez sur la carte pour obtenir les coordonnées\"\n          },\n          input_validation_mutually_exclusive: \"Champ mutuellement exclusif avec \",\n          input_validation_error: \"Champ obligatoire ou type de valeur incorrect\",\n          input_validation_min_field: \"La valeur doit être supérieure ou égale au camp \",\n          input_validation_max_field: \"La valeur doit être inférieure ou égale au champ \",\n          input_validation_exclude_values: \"Le champ doit contenir une valeur différente\",\n          integer: \"entier\",\n          bigint: \"entier\",\n          text: \"textuel\",\n          varchar: \"textuel\",\n          textarea: \"textuel\",\n          string: \"chaîne\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Champs obligatoires\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gérer les relations via un formulaire dédié\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"SÉLECTIONNEZ LE THÈME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Cliquez ici pour copier l'url\",\n            copied: \"Copié\"\n          },\n          download: {\n            shp: 'Télécharger Shapefile',\n            gpx: 'Télécharger GPX',\n            gpkg: 'Télécharger GPKG',\n            csv: 'Télécharger CSV',\n            xls: 'Télécharger XLS',\n            geotiff: 'Télécharger GEOTIFF',\n            geotiff_map_extent: \"Télécharger GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste des processus\",\n        tooltip: 'Cliquez sur la carte'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application construite avec le framework OS\",\n      g3wSuiteDescription: \"Publiez et gérez vos projets QGIS sur le Web\",\n      productOf: \"Framework développé par\"\n    },\n    logout: \"Quitter\",\n    no_other_projects: \"Il n'y a pas d'autres projets dans ce groupe de cartes\",\n    yes: \"Oui\",\n    no: \"No\",\n    back: \"Retour\",\n    backto: \"Retour à \",\n    changemap: \"Changer de carte\",\n    component: \"Composant générique\",\n    search: \"Recherches\",\n    no_results: \"Aucun résultat trouvé\",\n    print: \"Imprimer\",\n    create_print: \"Créer une impression\",\n    dosearch: \"Recherche\",\n    catalog: \"Carte\",\n    data: \"Données\",\n    externalwms: \"WMS\",\n    baselayers: \"Bases\",\n    tools: \"Outils\",\n    tree: \"Strates\",\n    legend: \"Légende\",\n    nobaselayer: \"Pas de carte de base\",\n    street_search: \"Adresse de recherche\",\n    show: \"Afficher\",\n    hide: \"Cacher\",\n    copy_form_data: \"Copier les données du formulaire\",\n    paste_form_data: \"Coller\",\n    copy_form_data_from_feature: \"Copier les données de la carte\",\n    error_map_loading: \"Erreur de chargement de la nouvelle carte\",\n    check_internet_connection_or_server_admin: \"Vérifiez la connexion internet ou contactez l'administrateur\",\n    could_not_load_vector_layers: \"Erreur de connexion au serveur : il n'a pas été possible de charger les vecteurs demandés\",\n    server_saver_error: \"Erreur de sauvegarde sur le serveur\",\n    server_error: \"Une erreur s'est produite dans la requête au serveur\",\n    save: \"Sauvegarder\",\n    cancel: \"Supprimer\",\n    close: \"Fermer\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Ajouter\",\n    exitnosave: \"Quitter sans sauvegarder\",\n    annul: \"Annuler\",\n    layer_is_added: \"Layer avec le même nom déjà ajouté\",\n    wms_layer_id_already_added: \"WMS Layer déjà ajouté\",\n    wms_url_already_added: \"WMS URL déjà ajouté\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Résultats\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Ouvrir le document joint\",\n      server_error: \"Une erreur s'est produite dans la requête au serveur\",\n      no_results: \"Aucun résultat pour cette requête/recherche\",\n      link_button: \"Ouvrir\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Votre position ne peut être calculée.\"\n      },\n      nominatim: {\n        placeholder: \"Adresse ...\",\n        noresults: \"Aucun résultat\",\n        notresponseserver: \"Le serveur ne répond pas\"\n      },\n      add_layer_control: {\n        header: \"Ajouter un layer\",\n        select_projection: \"Sélectionnez le système de projection de couches\",\n        select_field_to_show: \"Sélectionnez le champ à afficher sur la carte\",\n        select_csv_separator: \"Sélectionner le séparateur\",\n        select_csv_x_field: \"Sélectionnez le champ X\",\n        select_csv_y_field: \"Sélectionnez le champ Y\",\n        select_color: \"Sélectionnez la couleur du layer\",\n        drag_layer: \"Faire glisser le layer vers cette zone\"\n      },\n      query: {\n        input_relation: \"Cliquez pour voir les relations\"\n      },\n      length: {\n        tooltip: \"Longueur\"\n      },\n      area: {\n        tooltip: \"Zone\"\n      },\n      screenshot: {\n        error: \"Erreur de création de la capture d'écran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Cliquez avec le bouton droit de la souris sur les différents layers pour accéder à des fonctionnalités supplémentaires\",\n      contextmenu: {\n        zoomtolayer: \"Zoom sur le layer\",\n        open_attribute_table: \"Table d'attributs ouverte\",\n        show_metadata: \"Métadonnées\",\n        styles: \"Styles\",\n        vector_color_menu: \"Définir/changer la couleur\"\n      }\n    },\n    dataTable: {\n      previous: \"Précédent\",\n      next: \"Suivant\",\n      lengthMenu: \"Afficher _MENU_\",\n      info: \"Afficher _START_ à _END_ sur _TOTAL_ lignes\",\n      nodatafilterd: \"Aucun résultat trouvé\",\n      infoFiltered: \"(Filtré par _MAX_ rangs totaux)\"\n    }\n  }\n};\n\n},{}],322:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = require('./it');\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _en = require('./en');\n\nvar _en2 = _interopRequireDefault(_en);\n\nvar _fi = require('./fi');\n\nvar _fi2 = _interopRequireDefault(_fi);\n\nvar _se = require('./se');\n\nvar _se2 = _interopRequireDefault(_se);\n\nvar _fr = require('./fr');\n\nvar _fr2 = _interopRequireDefault(_fr);\n\nvar _de = require('./de');\n\nvar _de2 = _interopRequireDefault(_de);\n\nvar _ro = require('./ro');\n\nvar _ro2 = _interopRequireDefault(_ro);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar translations = {\n  it: _it2.default,\n  en: _en2.default,\n  fi: _fi2.default,\n  se: _se2.default,\n  fr: _fr2.default,\n  de: _de2.default,\n  ro: _ro2.default\n};\n\nexports.default = translations;\n\n},{\"./de\":318,\"./en\":319,\"./fi\":320,\"./fr\":321,\"./it\":323,\"./ro\":324,\"./se\":325}],323:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Questo sito utilizza i cookie per garantire una buona usabilità all'utilizzatore finale.\",\n      buttonText: \"Ho capito!\"\n    },\n    default: \"predefinito\",\n    sign_in: \"Accedi\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Aggiungi/Rimuovi Filtro\",\n        nofilter: \"Rimuovi filtro\",\n        invert: \"Inverti Selezione\",\n        clear: \"Annulla selezione\",\n        show_features_on_map: \"Mostra features visibili su mappa\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formato non supportato\"\n    },\n    layer_position: {\n      top: 'SOPRA',\n      bottom: 'IN FONDO',\n      message: \"Posizione rispetto ai layers della TOC\"\n    },\n    sdk: {\n      search: {\n        all: 'TUTTE',\n        no_results: \"Nessun valore trovato\",\n        searching: \"Sto cercando ..\",\n        error_loading: \"Errore nel caricamento valori\",\n        layer_not_searchable: \"Il layer non è ricercabile\",\n        layer_not_querable: \"Il layer non è interrogabile\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Digita almeno\",\n            post: \"caratteri\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nessun Layer visibile',\n        template: \"Template\",\n        labels: \"Etichette\",\n        scale: \"Scala\",\n        format: \"Formato\",\n        rotation: \"Rotazione\",\n        download_image: \"Scarica Immagine\",\n        fids_instruction: \"Valori accettati: da 1 al valore massimo indicato da [max]. Possibile indicare anche range di valori es. 4-6\",\n        fids_example: \"Es. 1,4-6 verranno stampati gli id 1,4,5,6\",\n        help: \"I layers mostrati nella stampa potrebbero essere quelli definiti sul progetto e non quelli visualizzati sulla mappa\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancia ricerca\",\n          info: \"Informazioni\",\n          delete: \"Cancella\",\n          edit: \"Modifica\"\n        },\n        messages: {\n          changed: 'Salvato correttamente',\n          number_of_features: \"Numero di features\"\n        },\n        panel: {\n          button: {\n            all: 'TUTTI',\n            save: 'SALVA',\n            test: 'TEST',\n            clear: 'PULISCI',\n            run: 'ESEGUI',\n            manual: 'MANUALE'\n          },\n          layers: 'LAYERS',\n          fields: 'CAMPI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'ESPRESSIONE'\n        },\n        error_run: 'Si è verificato un errore. Verificare se la query è corretta',\n        error_test: \"Errore nell'esecuzione della query\",\n        delete: 'Vuoi confermare la cancellazione?',\n        additem: 'Inserisci nome della ricerca'\n      },\n      errors: {\n        layers: {\n          load: \"Alcuni layers presenti nel progetto non sono attualmente disponibili e quindi non compaiono nell'attuale visualizzazione\"\n        },\n        unsupported_format: 'Formato non supportato',\n        add_external_layer: 'Errore nel caricamento del layer'\n      },\n      metadata: {\n        title: \"Metadati\",\n        groups: {\n          general: {\n            title: 'GENERALE',\n            fields: {\n              title: 'TITOLO',\n              name: 'NOME',\n              description: \"DESCRIZIONE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'LISTA DELLE PAROLE CHIAVE',\n              fees: \"CANONI\",\n              accessconstraints: \"VINCOLI DI ACCESSO\",\n              contactinformation: \"CONTATTI\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Riferimenti',\n                  contactvoicetelephone: 'Telefono',\n                  contactorganization: 'Organizzazione',\n                  ContactOrganization: 'Organizzazione',\n                  contactposition: 'Posizione',\n                  ContactPosition: 'Posizione',\n                  contactperson: 'Persona',\n                  ContactPerson: 'Persona'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO SPAZIALI',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATI',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO SPAZIALI'\n            },\n            fields: {\n              layers: 'STRATI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITOLO\",\n                name: 'NOME',\n                geometrytype: 'GEOMETRIA',\n                source: 'SORGENTE',\n                attributes: 'ATTRIBUTI',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Visualizza formato Riga\",\n          row_to_form: \"Visualizza formato Form\"\n        },\n        zoom_to_features_extent: \"Zoom sulle features\",\n        copy_map_extent_url: 'Copia map view link',\n        download_shapefile: \"Scarica Shapefile\",\n        download_gpx: \"Scarica GPX\",\n        download_gpkg: \"Scarica GPKG\",\n        download_csv: \"Scarica CSV\",\n        download_xls: \"Scarica XLS\",\n        show_chart: \"Mostra Grafico\",\n        atlas: \"Stampa Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interroga Layer',\n          actions: {\n            add_selection: {\n              hint: \"Aggiungi/Rimuovi Selezione\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sulle features\"\n            },\n            add_features_to_results: {\n              hint: \"Aggiungi features ai risultati\"\n            },\n            remove_feature_from_results: {\n              hint: \"Rimuovi feature dai risultati\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sulla feature\"\n            },\n            relations: {\n              hint: \"Visualizza Relazioni\"\n            },\n            relations_charts: {\n              hint: \"Visualizza grafici relazioni\"\n            },\n            download_features_shapefile: {\n              hint: 'Scarica features in Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Scarica feature in Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Scarica features in GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Scarica features in GPKG\"\n            },\n            download_gpx: {\n              hint: \"Scarica feature in GPX\"\n            },\n            download_gpkg: {\n              hint: \"Scarica feature in GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Scarica features in CSV\"\n            },\n            download_csv: {\n              hint: \"Scarica feature in CSV\"\n            },\n            download_features_xls: {\n              hint: \"Scarica features in XLS\"\n            },\n            download_xls: {\n              hint: \"Scarica la feature in XLS\"\n            },\n            atlas: {\n              hint: \"Stampa Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copia URL mappa con estensione a questa geometria\",\n              hint_change: \"Copiato\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Download attributi\",\n            choiches: {\n              feature: {\n                label: \"Solo features\"\n              },\n              feature_polygon: {\n                label: \"Features+Poligono Interrogazione\"\n              }\n            }\n          },\n          tooltip: 'Interroga per poligono',\n          no_geometry: 'Non contiene la geometria nella risposta',\n          help: {\n            title: 'Guida - Interrogazione con Poligono',\n            message: \"\\n                <ul>\\n                  <li\\\">Seleziona uno strato poligonale in legenda.</li>\\n                  <li>Assicurati che lo strato sia visibile in mappa.</li>\\n                  <li>Clicca su una geometria dello strato selezionato.</li>\\n                </ul>\"\n          }\n        },\n        querybybbox: {\n          tooltip: 'Interroga per BBOX',\n          nolayers_visible: \"Nessun layer interrogabile è visibile. Assicurarsi che almeno un layer wfs sia visibile per eseguire l'interrogazione\",\n          help: {\n            title: 'Guida - Interrogazione BBox',\n            message: \"\\n                  <ul>\\n                    <li>Disegna un rettangolo per interrogare gli strati evidenziati in giallo</li>\\n                  </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Il risultato in mappa è parziale a causa della presenza dei seguenti records non corretti:\"\n            }\n          },\n          tooltip: 'Aggiungi Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizzazione'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lunghezza\",\n            help: \"Clicca sulla mappa per continuare a disegnare la linea.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Clicca per continuare a disegnare il poligono.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scala non valida\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Miglio Nautico'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Dati Relazione',\n        no_relations_found: 'Nessuna relazione trovata',\n        back_to_relations: 'Ritorna alle relazioni',\n        list_of_relations_feature: 'Lista delle relazioni della feature',\n        error_missing_father_field: \"Il campo relazionato non esiste\"\n      },\n      workflow: {\n        steps: {\n          title: 'Passi'\n        },\n        next: 'Avanti'\n      },\n      form: {\n        loading: 'Caricamento ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nessuna feature selezionata. Verificare se il layer è in editing o non visibile alla scala attuale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Prendi valore dalla mappa\",\n            lonlat: \"Clicca sulla mappa per prendere le coordinate\"\n          },\n          input_validation_mutually_exclusive: \"Campo mutualmente esclusivo con \",\n          input_validation_error: \"Campo obbligatorio o tipo valore non corretto\",\n          input_validation_min_field: \"Valore deve essere magiore uguale a quello del camp \",\n          input_validation_max_field: \"Valore deve essere minore uguale a quello del campo \",\n          input_validation_exclude_values: \"Campo deve contenere un valore diverso\",\n          integer: \"intero\",\n          bigint: \"intero\",\n          text: \"testuale\",\n          varchar: \"testuale\",\n          textarea: \"testuale\",\n          string: \"stringa\",\n          date: \"data\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Campi obbligatori\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gestisci le relazioni tramite form dedicato\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"SCEGLI TEMA\",\n        menu: {\n          layerposition: 'Posizione Layer',\n          setwmsopacity: \"Cambia opacità\",\n          wms: {\n            title: \"\",\n            copy: \"Clicca qui per copiare url\",\n            copied: \"Copiato\"\n          },\n          download: {\n            shp: 'Scarica Shapefile',\n            gpx: 'Scarica GPX',\n            gpkg: 'Scarica GPKG',\n            csv: 'Scarica CSV',\n            xls: 'Scarica XLS',\n            geotiff: \"Scarica GEOTIFF\",\n            geotiff_map_extent: \"Scarica GEOTIFF(estensione vista corrente)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista dei processi\",\n        tooltip: 'Clicca sulla mappa'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applicativo realizzato con il framework OS\",\n      g3wSuiteDescription: \"Pubblica e gestisci i tuoi progetti QGIS sul Web\",\n      productOf: \"Framework sviluppato da\"\n    },\n    toggle_color_scheme: \"Cambia colore\",\n    logout: \"Esci\",\n    no_other_projects: \"Non ci sono altri progetti in questo gruppo cartografico\",\n    yes: \"Si\",\n    no: \"No\",\n    back: \"Indietro\",\n    backto: \"Torna a \",\n    changemap: \"Cambia Mappa\",\n    component: \"Componente Generico\",\n    search: \"Ricerche\",\n    no_results: \"Nessun risultato trovato\",\n    print: \"Stampa\",\n    create_print: \"Crea Stampa\",\n    dosearch: \"Cerca\",\n    catalog: \"Mappa\",\n    data: \"Dati\",\n    externalwms: \"WMS\",\n    baselayers: \"Basi\",\n    tools: \"Strumenti\",\n    tree: \"Strati\",\n    legend: \"Legenda\",\n    nobaselayer: \"Nessuna mappa di base\",\n    street_search: \"Cerca indirizzo\",\n    show: \"Mostra\",\n    hide: \"Nascondi\",\n    copy_form_data: \"Copia i dati del modulo\",\n    paste_form_data: \"Incolla\",\n    copy_form_data_from_feature: \"Copia i dati dalla mappa\",\n    error_map_loading: \"Errore di caricamento della nuova mappa\",\n    check_internet_connection_or_server_admin: \"Controllare la connessione internet o contattare l'amministratore\",\n    could_not_load_vector_layers: \"Errore di connessione al server: non è stato possibile caricare i vettoriali richiesti\",\n    server_saver_error: \"Errore nel salvataggio sul server\",\n    server_error: \"Si è verificato un errore nella richiesta al server\",\n    save: \"Salva\",\n    cancel: \"Cancella\",\n    close: \"Chiudi\",\n    enlange_reduce: \"Allarga/Riduci\",\n    reset_default: \"Dimensione Partenza\",\n    add: \"Aggiungi\",\n    exitnosave: \"Esci senza salvare\",\n    annul: \"Annulla\",\n    layer_is_added: \"Layer con stesso nome già aggiunto\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Aggiungi WMS Layer',\n          label: {\n            position: \"Posizione su Mappa\",\n            name: \"Nome\",\n            projections: 'Sistema di riferimento',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Elimina WMS url\",\n        layer_id_already_added: \"WMS Layer già aggiunto\",\n        url_already_added: \"WMS URL già aggiunto\",\n        layer_add_error: \"WMS Layer non aggiunto. Verificare i parametri o l'url\"\n      }\n    },\n    info: {\n      title: \"Risultati\",\n      list_of_relations: \"Lista delle relazioni\",\n      open_link: \"Apri documento allegato\",\n      server_error: \"Si è verificato un errore nella richiesta al server\",\n      no_results: \"Nessun risultato per questa interrogazione/ricerca \",\n      link_button: \"Apri\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Non è possibile calcolare la tua posizione.\"\n      },\n      nominatim: {\n        placeholder: \"Indirizzo ...\",\n        noresults: \"Nessun risultato\",\n        notresponseserver: \"Il server non risponde\"\n      },\n      add_layer_control: {\n        header: \"Aggiungi Layer\",\n        select_projection: \"Seleziona il sistema di proiezione del layer\",\n        select_field_to_show: \"Seleziona il campo da visualizzare sulla mappa\",\n        select_csv_separator: \"Seleziona il separatore\",\n        select_csv_x_field: \"Seleziona il campo X\",\n        select_csv_y_field: \"Seleziona il campo Y\",\n        select_color: \"Seleziona il colore del Layer\",\n        drag_layer: \"Trascina il layer in questa area\"\n      },\n      query: {\n        input_relation: \"Clicca per consultare le relazioni\"\n      },\n      length: {\n        tooltip: \"Lunghezza\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Errore nella creazione dello screenshot\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Tasto destro sui singoli layer per accedere alle funzionalità aggiuntive\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Apri tabella attributi\",\n        show_metadata: \"Metadati\",\n        styles: \"Stili\",\n        vector_color_menu: \"Setta/Cambia Colore\"\n      }\n    },\n    dataTable: {\n      previous: \"Precedente\",\n      next: \"Successivo\",\n      lengthMenu: \"Visualizza _MENU_\",\n      info: \"Visualizzazione _START_ a _END_ su _TOTAL_ righe\",\n      nodatafilterd: \"Nessun risultato trovato\",\n      infoFiltered: \"(Filtrati da _MAX_ total righe)\"\n    }\n  }\n};\n\n},{}],324:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Acest website foloseste cookie-uri pentru a furniza vizitatorilor o experiență mult mai bună de navigare\",\n      buttonText: \"Am înțeles!\"\n    },\n    default: \"Implicit\",\n    sign_in: \"Logare\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Adăugare/Eliminare Filtrare\",\n        nofilter: \"Eliminare Filtrare\",\n        invert: \"Inversare Selecție\",\n        clear: \"Elimină Selecția\",\n        show_features_on_map: \"Arată entitățile vizibile în cadrul hărții\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formatul nu este acceptat\"\n    },\n    layer_position: {\n      top: 'SUS',\n      bottom: 'JOS',\n      message: \"Poziție relativă la straturile din TOC\"\n    },\n    sdk: {\n      search: {\n        all: 'Toate',\n        no_results: \"Fără rezultat\",\n        searching: \"Căutare ...\",\n        error_loading: \"Încărcarea a eșuat\",\n        layer_not_searchable: \"Nu se poate căuta pe strat\",\n        layer_not_querable: \"Stratul nu se poate interoga\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Te rog introdu\",\n            post: \"sau mai multe caractere\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nu avem straturi de print',\n        template: \"Șablon\",\n        labels: \"Etichete\",\n        scale: \"Scară\",\n        format: \"Format\",\n        rotation: \"Rotație\",\n        download_image: \"Descarcă Imaginea\",\n        fids_instruction: \"Valori acceptate: de la 1 la valoarea [max]. Este posibilă inserarea de interval, de ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 vor fi tipărite id 1,4,5,6\",\n        help: \"Straturile prezentate în print pot fi acelea definite în proiect și nu acelea prezentate în cadrul hărții\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Execută\",\n          info: \"Info\",\n          delete: \"Elimină\",\n          edit: \"Modifică\"\n        },\n        messages: {\n          changed: 'Salvat',\n          number_of_features: \"Număr de entități\"\n        },\n        panel: {\n          button: {\n            all: 'TOATE',\n            save: 'SALVEAZĂ',\n            test: 'TEST',\n            clear: 'ȘTERGE',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'STRATURI',\n          fields: 'CÂMPURI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'EXPRESII'\n        },\n        error_run: 'A survenit o eroare. De verificat interogarea',\n        error_test: \"A survenit o eroare în timp ce se executa interogarea\",\n        delete: 'Vrei să o ștergi?',\n        additem: 'Introdu numele noii căutări'\n      },\n      errors: {\n        layers: {\n          load: \"Câteva straturi nu sunt disponibile\"\n        },\n        unsupported_format: 'Formatul nu este acceptat',\n        add_external_layer: 'Eroare încărcare strat'\n      },\n      metadata: {\n        title: 'Metadate',\n        groups: {\n          general: {\n            title: 'GENERALITĂȚI',\n            fields: {\n              title: 'TITLU',\n              name: 'NUME',\n              description: \"DESCRIERE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'CUVINTE CHEIE',\n              fees: \"TAXE\",\n              accessconstraints: \"CONSTRÂNGERI DE ACCES\",\n              contactinformation: \"CONTACTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referințe',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organizație',\n                  ContactOrganization: 'Organizație',\n                  contactposition: 'Poziție',\n                  ContactPosition: 'Poziție',\n                  contactperson: 'Persoana',\n                  ContactPerson: 'Persoana'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPAȚIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATURI',\n            fields: {\n              layers: 'STRATURI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLU\",\n                name: 'NUME',\n                geometrytype: 'GEOMETRIE',\n                source: 'SURSA',\n                attributes: 'ATRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUIRE',\n                keywords: \"CUVINTE CHEIE\",\n                metadataurl: 'URL METADATE',\n                dataurl: \"URL DATE\"\n              }\n            },\n            groups: {\n              general: 'GENERALITĂȚI',\n              spatial: 'SPAȚIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Vizualizare pe rânduri\",\n          row_to_form: \"Vizualizare formular\"\n        },\n        copy_map_extent_url: 'Copiază linkul de vizualizare hartă',\n        download_shapefile: \"Descarcă Shapefile\",\n        download_gpx: \"Descarcă GPX\",\n        download_gpkg: \"Descarcă GPKG\",\n        download_csv: \"Descarcă CSV\",\n        download_xls: \"Descarcă XLS\",\n        show_chart: \"Arată Diagrama\",\n        atlas: \"Tipărire Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interogare strat',\n          actions: {\n            add_selection: {\n              hint: \"Adaugă/Elimină Selecția\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom la încadrarea entităților\"\n            },\n            add_features_to_results: {\n              hint: \"Adaugă/Elimină entități rezultat\"\n            },\n            remove_feature_from_results: {\n              hint: \"Elimină entitate din rezultat\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom la entitate\"\n            },\n            relations: {\n              hint: \"Arată Relațiile\"\n            },\n            relations_charts: {\n              hint: \"Arată diagrama de relații\"\n            },\n            download_features_shapefile: {\n              hint: 'Descarcă entități în Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Descarcă entitate în Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Descarcă entități în GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Descarcă entități în GPKG\"\n            },\n            download_gpx: {\n              hint: \"Descarcă entitate în GPX\"\n            },\n            download_gpkg: {\n              hint: \"Descarcă entitate în GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Descarcă entități în CSV\"\n            },\n            download_csv: {\n              hint: \"Descarcă entitate în CSV\"\n            },\n            download_features_xls: {\n              hint: \"Descarcă entități în XLS\"\n            },\n            download_xls: {\n              hint: \"Descarcă entitate în XLS\"\n            },\n            atlas: {\n              hint: \"Tipărire Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copiază URL hartă cu întinderea geometriei entității\",\n              hint_change: \"Copiat\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Descărcare atribute\",\n            choiches: {\n              feature: {\n                label: \"Doar entități\"\n              },\n              feature_polygon: {\n                label: \"Entități+Poligon Interogare\"\n              }\n            }\n          },\n          tooltip: 'Interogare După Poligon',\n          no_geometry: 'Nu avem geometrii în răspuns',\n          help: {\n            title: 'Ghid - Interogare După Poligon',\n            message: \"\\n                <ul>\\n                  <li>Selecteaz\\u0103 un strat poligon din TOC.</li>\\n                  <li>Asigur\\u0103-te c\\u0103 stratul este vizibil.</li>\\n                  <li>Click pe o entitate a stratului selectat.</li>\\n                </ul>\"\n          }\n        },\n        querybybbox: {\n          tooltip: 'Interogare BBox strat',\n          nolayers_visible: 'Nu este vizibil niciun strat de interogare. Trebuie setat cel puțin un strat WFS vizibil pentru a efectua interogarea',\n          help: {\n            title: 'Ghid - Interogare BBox strat',\n            message: \"\\n                 <ul>\\n                  <li>Deseneaz\\u0103 un p\\u0103trat pe hart\\u0103 pentru a interoga straturile din TOC de sub </li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Rezultateul pe hartă este parțial datorită prezenței următoarei liste de rezultate incorecte:\"\n            }\n          },\n          tooltip: 'Adaugă Strat'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizare'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lungime\",\n            help: \"Click pe hartă pentru a desena linia. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          },\n          area: {\n            tooltip: \"Aria\",\n            help: \"Click pentru desen poligon. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scară Invalidă\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Mile Nautice'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Date Relații',\n        no_relations_found: 'Nu am găsit nicio relație',\n        back_to_relations: 'Înapoi la relații',\n        list_of_relations_feature: 'Lista de relații a entității',\n        error_missing_father_field: \"Câmpul de legătură lipsește\"\n      },\n      workflow: {\n        steps: {\n          title: 'Pași'\n        },\n        next: 'Următorul'\n      },\n      form: {\n        loading: 'Se încarcă ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nu avem entitate selectată. Verifică dacă stratul este în editare sau vizibil la scara curentă if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Ia valoare din strat\",\n            lonlat: \"Click pe hartă pentru a prelua coordonate\"\n          },\n          input_validation_mutually_exclusive: \"Câmp ce se exclude mutual cu \",\n          input_validation_error: \"Câmp mandatoriu sau tip de date greșit\",\n          input_validation_min_field: \"Valoarea trebuie să fie mai mare/egală cu valoare câmpului \",\n          input_validation_max_field: \"Valoarea trebuie să fie mai mică/egală cu valoare câmpului \",\n          input_validation_exclude_values: \"Valoarea trebuie să fie unică\",\n          integer: \"integer - nr. întreg\",\n          bigint: \"integer - nr. întreg\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string - text\",\n          date: \"data\",\n          float: \"float - nr. cu zecimale\",\n          table: \"tabelă\"\n        },\n        footer: {\n          \"required_fields\": \"Câmpuri necesare\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Folosește formular specific de relații pentru a lucra cu relația\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"ALEGE TEMA\",\n        menu: {\n          layerposition: 'Poziție Strat',\n          setwmsopacity: \"Alege Opacitatea\",\n          wms: {\n            title: \"Titlu\",\n            copy: \"Click pentru copiere URL\",\n            copied: \"Copiat\"\n          },\n          download: {\n            shp: 'Descarcă Shapefile',\n            gpx: 'Descarcă GPX',\n            gpkg: 'Descarcă GPKG',\n            csv: 'Descarcă CSV',\n            xls: 'Descarcă XLS',\n            geotiff: \"Descarcă GEOTIFF\",\n            geotiff_map_extent: \"Descarcă GEOTIFF(ce se vede în cadrul hărții)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista de procese\",\n        tooltip: 'Click pe hartă'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Aplicație bazată pe frameworkul\",\n      g3wSuiteDescription: \"Publică și administrează proiectele de QGIS pe WEB\",\n      productOf: \"Framework dezvoltat de\"\n    },\n    toggle_color_scheme: \"Comutare schemă de culori\",\n    logout: \"Deconectare\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Da\",\n    no: \"Nu\",\n    back: \"Înapoi\",\n    backto: \"Înapoi la \",\n    changemap: \"Schimbare Hartă\",\n    component: \"Componentă Generică\",\n    search: \"Căutare\",\n    no_results: \"Niciun rezultat găsit\",\n    print: \"Tipărire\",\n    create_print: \"Tipărește\",\n    dosearch: \"Caută\",\n    catalog: \"Hartă\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Straturi Bază\",\n    tools: \"Instrumente\",\n    tree: \"Straturi\",\n    legend: \"Legendă\",\n    nobaselayer: \"Fără strat de bază\",\n    street_search: \"Caută Adresă\",\n    show: \"Arată\",\n    hide: \"Ascunde\",\n    copy_form_data: \"Copiază data\",\n    paste_form_data: \"Lipește\",\n    copy_form_data_from_feature: \"Copiază data din hartă\",\n    error_map_loading: \"Sunt erori la încărcarea hărții\",\n    check_internet_connection_or_server_admin: \"Verificați conexiune de internet sau contactați administratorul de sistem\",\n    could_not_load_vector_layers: \"Eroare de conexiune: Straturile nu pot fi încărcate\",\n    server_saver_error: \"Eroare la salvarea pe server\",\n    server_error: \"Eroare de conexiune la server\",\n    save: \"Salvează\",\n    cancel: \"Anulează\",\n    close: \"Închide\",\n    enlange_reduce: \"Mărește/Micșorează\",\n    reset_default: \"Mărimea implicită\",\n    add: \"Adaugă\",\n    exitnosave: \"Ieșire fără salvare\",\n    annul: \"Anulează\",\n    layer_is_added: \"Există un strat cu același nume deja adăugat\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Adaugă strat WMS',\n          label: {\n            position: \"Poziție Hartă\",\n            name: \"Nume\",\n            projections: 'Proiecție',\n            layers: 'Straturi'\n          }\n        },\n        add_wms_layer: \"Adaugă strat WMS\",\n        delete_wms_url: \"Șterge URL WMS\",\n        layer_id_already_added: \"Strat WMS deja adăugat\",\n        url_already_added: \"URL WMS deja adăugat\",\n        layer_add_error: \"Stratul WMS nu s-a adăugat. Verificați URL-ul sau parametrii WMS\"\n      }\n    },\n    info: {\n      title: \"Rezultate\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Deschide document atașat\",\n      server_error: \"Serverul a întâmpinat o eroare\",\n      no_results: \"Niciun rezultat\",\n      link_button: \"Deschide\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Nu te-am putut localiza\"\n      },\n      nominatim: {\n        placeholder: \"Adresa ...\",\n        noresults: \"Niciun rezultat\",\n        notresponseserver: \"Niciun răspuns de la server\"\n      },\n      add_layer_control: {\n        header: \"Adăugare Strat\",\n        select_projection: \"Selectează proiecția strat\",\n        select_field_to_show: \"Selectează câmpul de arătat pe hartă\",\n        select_csv_separator: \"Selectează delimitatorul\",\n        select_csv_x_field: \"Selectează câmpul X - Est\",\n        select_csv_y_field: \"Selectează câmpul Y - Nord\",\n        select_color: \"Selectează culoare strat\",\n        drag_layer: \"Trageți stratul aici (Drag&Drop)\"\n      },\n      query: {\n        input_relation: \"Click pentru a arăta relațiile\"\n      },\n      length: {\n        tooltip: \"Lungime\"\n      },\n      area: {\n        tooltip: \"Arie\"\n      },\n      screenshot: {\n        error: \"Eroare captură ecran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Click dreapta pe strat pentru a accesa opțiuni\",\n      contextmenu: {\n        zoomtolayer: \"Zoom pe Strat\",\n        open_attribute_table: \"Deschide Tabela Atribute\",\n        show_metadata: \"Metadate\",\n        styles: 'Stiluri',\n        vector_color_menu: \"Setează/Schimbă Culoare\"\n      }\n    },\n    dataTable: {\n      previous: \"Anteriorul\",\n      next: \"Următorul\",\n      lengthMenu: \"Arată _MENU_\",\n      info: \"Arată _START_ până la _END_ din _TOTAL_ de intrări\",\n      no_data: \"Fără date\",\n      nodatafilterd: \"Niciun rezultat\",\n      infoFiltered: \"(filtrat din _MAX_ de rezultate totale)\"\n    }\n  }\n};\n\n},{}],325:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"standard\",\n    sign_in: \"Logga in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lägg till/Avlägsna Filtrera\",\n        nofilter: \"Avlägsna Filtrera\",\n        invert: \"Invertera Urval\",\n        clear: \"Annullera Urval\",\n        show_features_on_map: \"Visa funktioner som är synliga på kartan\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      search: {\n        all: 'ALLA',\n        no_results: \"Inga resultat\",\n        searching: \"Sökning ...\",\n        error_loading: \"Fel vid laddning av uppgifter.\",\n        layer_not_searchable: \"Nivån kan inte sökas.\",\n        layer_not_querable: \"Förfrågningar kan inte göras på nivån.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Mata in\",\n            post: \"eller flera tecken\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Inga nivåer att skriva ut',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Ladda ner bild\",\n        fids_instruction: \"Godkända värden: Från ett till värdet [max]. Mellanslag tillåts, t.ex. 4-6.\",\n        fids_example: \"Exempelvis 1,4-6 skriver ut id 1,4,5,6.\",\n        help: \"Nivåerna på utskriften kan vara specificerade i ett projekt inte sådana som visas på karta.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Utför\",\n          info: \"Information\",\n          delete: \"Ta bort\",\n          edit: \"Redigera\"\n        },\n        messages: {\n          changed: 'Sparat',\n          number_of_features: \"Antal funktione\"\n        },\n        panel: {\n          button: {\n            all: 'ALLA',\n            save: 'SPARA',\n            test: 'TEST',\n            clear: 'TÖM',\n            run: 'UTFÖR',\n            manual: 'MANUELL'\n          },\n          layers: 'NIVÅER',\n          fields: 'FÄLT',\n          values: 'VÄRDEN',\n          operators: 'OPERATÖRER',\n          expression: 'KLAUSUL'\n        },\n        error_run: 'Ett fel inträffade. Kontrollera förfrågan.',\n        error_test: \"Ett fel inträffade när förfrågan utfördes.\",\n        delete: 'Vill du ta bort den?',\n        additem: 'Ge den nya sökningen ett namn.'\n      },\n      errors: {\n        layers: {\n          load: \"Vissa nivåer är inte tillgängliga.\"\n        },\n        unsupported_format: 'Formatet stöds inte',\n        add_external_layer: 'Fel vid laddning av nivån'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'ALLMÄN',\n            fields: {\n              title: 'RUBRIK',\n              name: 'NAMN',\n              description: \"BESKRIVNING\",\n              abstract: \"SAMMANDRAG\",\n              keywords: 'NYCKELORD',\n              fees: \"AVGIFTER\",\n              accessconstraints: \"ÅTKOMSTBEGRÄNSNINGAR\",\n              contactinformation: \"KONTAKTUPPGIFTER\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-post\",\n                  personprimary: 'Referenser',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Ställning',\n                  ContactPosition: 'Ställning',\n                  contactperson: 'Kontaktperson',\n                  ContactPerson: 'Kontaktperson'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'NIVÅER',\n            fields: {\n              layers: 'NIVÅER',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"RUBRIK\",\n                name: 'NAMN',\n                geometrytype: 'GEOMETRI',\n                source: 'KÄLLA',\n                attributes: 'ATTRIBUT',\n                abstract: 'SAMMANDRAG',\n                attribution: 'TILLSKRIVNING',\n                keywords: \"NYCKELORD\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'ALLMÄN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Radvy\",\n          row_to_form: \"Tabellvy\"\n        },\n        copy_map_extent_url: 'Kopiera länk till karta',\n        download_shapefile: \"Ladda SHP-fil\",\n        download_gpx: \"Ladda GPX-fil\",\n        download_gpkg: \"Ladda GPKG-fil\",\n        download_csv: \"Ladda CSV-fil\",\n        download_xls: \"Ladda XLS-fil\",\n        show_chart: \"Visa diagram\", //Tero 9.12.2020\n        atlas: \"Skriv ut Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Förfrågningsnivå',\n          actions: {\n            add_selection: {\n              hint: \"Lägg till/Avlägsna Urval\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zooma till egenskapens omfattning\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zooma till egenskapen\"\n            },\n            relations: {\n              hint: \"Visa relationerna\"\n            },\n            relations_charts: {\n              hint: \"Visa relationsdiagrammet\" //Tero 9.12.2020\n            },\n            download_features_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_features_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_features_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_features_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_features_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            download_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            atlas: {\n              hint: \"Skriv ut Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Förfrågan med polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Förfrågan med polygon',\n            message: \"\\n                <ul >\\n                  <li>V\\xE4lj polygonniv\\xE5 i listan.</li>\\n                  <li>Kontrollera att niv\\xE5n \\xE4r synlig.</li>\\n                  <li>V\\xE4lj egenskap p\\xE5 \\xF6nskad niv\\xE5.</li>\\n                </ul>\"\n          }\n        },\n        querybybbox: {\n          tooltip: 'BBox-förfrågan som riktar sig till en nivå',\n          nolayers_visible: 'Inga nivåer som förfrågningar kan riktas till. Gör minst en WFS-nivå synlig för att kunna utföra sökningen.',\n          help: {\n            title: 'Ohje - BBox-förfrågan som riktar sig till nivån',\n            message: \"\\n                 <ul>\\n                  <li>Rita upp en rektangel p\\xE5 kartan f\\xF6r att utf\\xF6ra f\\xF6rfr\\xE5gan p\\xE5 de i listan understreckade niv\\xE5erna.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lägg till nivå'\n        },\n        geolocation: {\n          tooltip: 'Geografiskt läge'\n        },\n        measures: {\n          length: {\n            tooltip: \"Längd\",\n            help: \"Rita upp en bruten linje på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          },\n          area: {\n            tooltip: \"Område\",\n            help: \"Rita upp en polygon på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Fel skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relationsuppgifter',\n        no_relations_found: 'Inga relationer hittades.',\n        back_to_relations: 'Tillbaka till relationerna',\n        list_of_relations_feature: 'Lista på egenskapens relationer',\n        error_missing_father_field: \"Fält saknas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Skeden'\n        },\n        next: \"Nästa\"\n\n      },\n      form: {\n        loading: 'Laddning...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Inga egenskaper har valts. Kontroller att nivån kan redigeras eller att den syns med nuvarande skala.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Välj värde på kartnivå\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Fälten utesluter varandra.\",\n          input_validation_error: \"Obligatoriskt fält eller fel datatyp.\",\n          input_validation_min_field: \"Värdet ska vara större eller lika stort som värdet i fältet.\",\n          input_validation_max_field: \"Värdet ska vara mindre eller lika stort som värdet i fältet.\",\n          input_validation_exclude_values: \"Värdet ska vara unikt.\",\n          integer: \"heltal\",\n          bigint: \"heltal\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"teckensträng\",\n          date: \"datum\",\n          float: \"flyttal\",\n          table: \"tabell\"\n        },\n        footer: {\n          \"required_fields\": \"Obligatoriska fält\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Använd den specifika funktinen för att bestämma relationer\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Tryck här för att kopiera url.\",\n            copied: \"Kopierad.\"\n          },\n          download: {\n            shp: 'Ladda SHP-fil',\n            gpx: 'Ladda GPX-fil',\n            gpkg: 'Ladda GPKG-fil',\n            csv: 'Ladda CSV-fil',\n            xls: 'Ladda XLS-fil',\n            geotiff: 'Ladda GEOTIFF-fil',\n            geotiff_map_extent: \"Ladda GEOTIFF-fil(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista på processer\",\n        tooltip: 'Välj på kartan'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Tillämpningen baserar på OS framework\",\n      g3wSuiteDescription: \"Publicera och hantera QGIS-projekt på nätet.\",\n      productOf: \"Framework har utvecklats av\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logga ut\",\n    no_other_projects: \"Inga projekt för denna grupp\",\n    yes: \"Ja\",\n    no: \"Nej\",\n    back: \"Gå tillbaka\",\n    backto: \"Tillbaka \",\n    changemap: \"Byt karta\",\n    component: \"Allmän komponent\",\n    search: \"Sök\",\n    no_results: \"Inga sökresultat\",\n    print: \"Skriv ut\",\n    create_print: \"Skapa utskrift\",\n    dosearch: \"Sök\",\n    catalog: \"Karta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Bakgrundskarta\",\n    tools: \"Verktyg\",\n    tree: \"Nivåer\",\n    legend: \"Förklaring till beteckningarna\",\n    nobaselayer: \"Ingen bakgrundskarta\",\n    street_search: \"Sök adress\",\n    show: \"Visa\",\n    hide: \"Dölj\",\n    copy_form_data: \"Kopiera uppgifterna\",\n    paste_form_data: \"Infoga\",\n    copy_form_data_from_feature: \"Kopiera uppgifter från kartan\",\n    error_map_loading: \"Fel vid laddning av kartan\",\n    check_internet_connection_or_server_admin: \"Kontrollera internetanslutningen eller kontakta administratören.\",\n    could_not_load_vector_layers: \"Fel i anslutningen, nivåer kan inte laddas.\",\n    server_saver_error: \"Fel vid lagring på servern.\",\n    server_error: \"Fel på anslutningen till servern\",\n    save: \"Spara\",\n    cancel: \"Ånga\",\n    close: \"Stäng\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lägg till\",\n    exitnosave: \"Lämna programmet utan att spara\",\n    annul: \"Ångra\",\n    layer_is_added: \"Lagret med samma namn har redan lagts till.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Resultat\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Öppna filbilaga\",\n      server_error: \"Ett fel uppstod på servern.\",\n      no_results: \"Inga resultat för sökningen/förfrågan.\",\n      link_button: \"Öppna\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Du kan inte lokaliseras\"\n      },\n      nominatim: {\n        placeholder: \"Adress ...\",\n        noresults: \"Inga resultat\",\n        notresponseserver: \"Inget svar från servern\"\n      },\n      add_layer_control: {\n        header: \"Lägg till nivå\",\n        select_projection: \"Välj projektion för nivån\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Välj färg på nivån\",\n        drag_layer: \"Dra och släpp nivån hit\"\n      },\n      query: {\n        input_relation: \"Tryck för att visa relationerna\"\n      },\n      length: {\n        tooltip: \"Längd\"\n      },\n      area: {\n        tooltip: \"Areal\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Högerklicka på en enskild nivå för att komma till tilläggsegenskaperna.\",\n      contextmenu: {\n        zoomtolayer: \"Zooma till nivå\",\n        open_attribute_table: \"Öppna attributtabellen\",\n        show_metadata: \"Metadata\",\n        styles: \"Stilar\",\n        vector_color_menu: \"Ställ in/ändra färg\"\n      }\n    },\n    dataTable: {\n      previous: \"Föregående\",\n      next: \"Nästa\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Inga uppgifter\",\n      nodatafilterd: \"Inga motsvarande poster hittades\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],326:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nexports.default = {\n  methods: {\n    autocompleteRequest: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            layerId = _ref2.layerId,\n            field = _ref2.field,\n            value = _ref2.value;\n\n        var data, layer;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = [];\n                layer = _catalogLayers2.default.getLayerById(layerId);\n                _context.prev = 2;\n                _context.next = 5;\n                return layer.getFilterData({\n                  suggest: field + '|' + value,\n                  unique: field\n                });\n\n              case 5:\n                data = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context['catch'](2);\n\n              case 10:\n                return _context.abrupt('return', data.map(function (value) {\n                  return {\n                    id: value,\n                    text: value\n                  };\n                }));\n\n              case 11:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }));\n\n      function autocompleteRequest() {\n        return _ref.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }()\n  }\n};\n\n},{\"store/catalog-layers\":362}],327:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    tabIndex: function tabIndex() {\n      return this.editable ? 0 : -1;\n    },\n    notvalid: function notvalid() {\n      return this.state.validate.valid === false;\n    },\n    editable: function editable() {\n      return this.state.editable;\n    },\n    showhelpicon: function showhelpicon() {\n      return this.state.help && this.state.help.message.trim();\n    },\n    disabled: function disabled() {\n      return !this.editable || this.loadingState === 'loading' || this.loadingState === 'error';\n    },\n    loadingState: function loadingState() {\n      return this.state.input.options.loading ? this.state.input.options.loading.state : null;\n    }\n  },\n  methods: {\n    showHideHelp: function showHideHelp() {\n      this.state.help.visible = !this.state.help.visible;\n    },\n\n    // used to text input to listen mobile changes\n    mobileChange: function mobileChange(event) {\n      this.state.value = event.target.value;\n      this.change();\n    },\n\n    // called when input value change\n    change: function change() {\n      this.service.setEmpty();\n      this.service.setUpdate();\n      // validate input if is required or need to be unique\n      if (this.state.validate.required || this.state.validate.unique) this.service.validate();\n      // emit change input\n      this.$emit('changeinput', this.state);\n    },\n    isVisible: function isVisible() {}\n  }\n};\n\n},{}],328:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    getFieldService: function getFieldService() {\n      if (this._fieldsService === undefined) this._fieldsService = require('gui/fields/fieldsservice');\n      return this._fieldsService;\n    },\n    getFieldType: function getFieldType(field) {\n      return this.getFieldService().getType(field);\n    },\n    isSimple: function isSimple(field) {\n      return this.getFieldService().isSimple(field);\n    },\n    isLink: function isLink(field) {\n      return this.getFieldService().isLink(field);\n    },\n    isImage: function isImage(field) {\n      return this.getFieldService().isImage(field);\n    },\n    isPhoto: function isPhoto(field) {\n      return this.getFieldService().isPhoto(field);\n    },\n    isVue: function isVue(field) {\n      return this.getFieldService().isVue(field);\n    },\n    sanitizeFieldValue: function sanitizeFieldValue(value) {\n      return Array.isArray(value) && !value.length ? '' : value;\n    }\n  }\n};\n\n},{\"gui/fields/fieldsservice\":117}],329:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      valid: false\n    };\n  },\n\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.tovalidate.push(input);\n    },\n    changeInput: function changeInput(input) {\n      this.isValid(input);\n    },\n\n    // Every input send to form it valid value that will change the genaral state of form\n    isValid: function isValid(input) {\n      var _this = this;\n\n      if (input) {\n        // check mutually\n        if (input.validate.mutually) {\n          if (!input.validate.required) {\n            if (!input.validate.empty) {\n              input.validate._valid = input.validate.valid;\n              input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n                return previous && _this.tovalidate[inputname].validate.empty;\n              }, true);\n              input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n            } else {\n              input.value = null;\n              input.validate.mutually_valid = true;\n              input.validate.valid = true;\n              input.validate._valid = true;\n              var countNoTEmptyInputName = [];\n              for (var i = input.validate.mutually.length; i--;) {\n                var inputname = input.validate.mutually[i];\n                !this.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n              }\n              if (countNoTEmptyInputName.length < 2) {\n                countNoTEmptyInputName.forEach(function (inputname) {\n                  _this.tovalidate[inputname].validate.mutually_valid = true;\n                  _this.tovalidate[inputname].validate.valid = true;\n                  setTimeout(function () {\n                    _this.tovalidate[inputname].validate.valid = _this.tovalidate[inputname].validate._valid;\n                    _this.state.valid = _this.state.valid && _this.tovalidate[inputname].validate.valid;\n                  });\n                });\n              }\n            }\n          }\n          //check if min_field or max_field is set\n        } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n          var input_name = input.validate.min_field || input.validate.max_field;\n          input.validate.valid = input.validate.min_field ? this.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.tovalidate[input.validate.min_field].value : this.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.tovalidate[input.validate.max_field].value;\n          if (input.validate.valid) this.tovalidate[input_name].validate.valid = true;\n        }\n      }\n      this.valid = Object.values(this.tovalidate).reduce(function (previous, input) {\n        return previous && input.validate.valid;\n      }, true);\n    }\n  },\n  created: function created() {\n    this.tovalidate = [];\n  },\n  destroyed: function destroyed() {\n    this.tovalidate = null;\n  }\n};\n\n},{}],330:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  methods: {\n    showLayer: function showLayer() {\n      this.visible = !this.visible;\n      this.layer.setVisible(this.visible);\n    }\n  },\n  created: function created() {\n    var data = this.data;\n    var mapService = _gui2.default.getComponent('map').getService();\n    var mapProjection = mapService.getProjection().getCode();\n    var style = void 0;\n    switch (data.type) {\n      case 'Point':\n      case 'MultiPoint':\n        style = [new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 6,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        }), new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 2,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        })];\n        break;\n      case 'Line':\n      case 'MultiLineString':\n      case 'Polygon':\n      case 'MultiPolygon':\n        style = new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'rgba(255, 255, 255, 0.3)'\n          }),\n          stroke: new ol.style.Stroke({\n            color: [0, 0, 0, 1.0],\n            width: 2\n          })\n        });\n        break;\n    }\n    this.layer = new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: new ol.format.GeoJSON().readFeatures(data, {\n          featureProjection: mapProjection\n        })\n      }),\n      visible: !!this.visible,\n      style: style\n    });\n    mapService.getMap().addLayer(this.layer);\n  },\n  beforeDestroy: function beforeDestroy() {\n    var mapService = _gui2.default.getComponent('map').getService();\n    mapService.getMap().removeLayer(this.layer);\n  }\n}; /**\n    * @file\n    * @since v3.7\n    */\n\n},{\"services/gui\":349}],331:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixins = exports.autocompleteMixin = exports.baseInputMixin = exports.metadataMixin = exports.widgetMixins = exports.formInputsMixins = exports.select2Mixin = exports.selectMixin = exports.resizeMixin = exports.geoMixin = exports.mediaMixin = exports.fieldsMixin = undefined;\n\nvar _autocomplete = require('mixins/autocomplete');\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _fields = require('mixins/fields');\n\nvar _fields2 = _interopRequireDefault(_fields);\n\nvar _media = require('mixins/media');\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _geo = require('mixins/geo');\n\nvar _geo2 = _interopRequireDefault(_geo);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nvar _select = require('mixins/select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _select3 = require('mixins/select2');\n\nvar _select4 = _interopRequireDefault(_select3);\n\nvar _formInputs = require('mixins/form-inputs');\n\nvar _formInputs2 = _interopRequireDefault(_formInputs);\n\nvar _widget = require('mixins/widget');\n\nvar _widget2 = _interopRequireDefault(_widget);\n\nvar _metadata = require('mixins/metadata');\n\nvar _metadata2 = _interopRequireDefault(_metadata);\n\nvar _baseInput = require('mixins/base-input');\n\nvar _baseInput2 = _interopRequireDefault(_baseInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mixins = {\n  autocompleteMixin: _autocomplete2.default,\n  fieldsMixin: _fields2.default,\n  mediaMixin: _media2.default,\n  geoMixin: _geo2.default,\n  resizeMixin: _resize2.default,\n  selectMixin: _select2.default,\n  select2Mixin: _select4.default,\n  formInputsMixins: _formInputs2.default,\n  widgetMixins: _widget2.default,\n  metadataMixin: _metadata2.default,\n  baseInputMixin: _baseInput2.default\n}; /**\n    * @file\n    * @since v3.7\n    */\n\nexports.fieldsMixin = _fields2.default;\nexports.mediaMixin = _media2.default;\nexports.geoMixin = _geo2.default;\nexports.resizeMixin = _resize2.default;\nexports.selectMixin = _select2.default;\nexports.select2Mixin = _select4.default;\nexports.formInputsMixins = _formInputs2.default;\nexports.widgetMixins = _widget2.default;\nexports.metadataMixin = _metadata2.default;\nexports.baseInputMixin = _baseInput2.default;\nexports.autocompleteMixin = _autocomplete2.default;\nexports.mixins = mixins;\nexports.default = mixins;\n\n},{\"mixins/autocomplete\":326,\"mixins/base-input\":327,\"mixins/fields\":328,\"mixins/form-inputs\":329,\"mixins/geo\":330,\"mixins/media\":332,\"mixins/metadata\":333,\"mixins/resize\":334,\"mixins/select\":335,\"mixins/select2\":336,\"mixins/widget\":337}],332:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    filename: function filename() {\n      return this.value ? this.value.split('/').pop() : this.value;\n    }\n  },\n  methods: {\n    isMedia: function isMedia(value) {\n      if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Object) return !!value.mime_type;\n      return false;\n    },\n    getMediaType: function getMediaType(mime_type) {\n      var media = {\n        type: null,\n        options: {}\n      };\n      switch (mime_type) {\n        case 'image/gif':\n        case 'image/png':\n        case 'image/jpeg':\n        case 'image/bmp':\n          media.type = 'image';\n          break;\n        case 'application/pdf':\n          media.type = 'pdf';\n          break;\n        case 'video/mp4':\n        case 'video/ogg':\n        case 'video/x-ms-wmv':\n        case 'video/x-msvideo':\n        case 'video/quicktime':\n          media.type = 'video';\n          media.options.format = mime_type;\n          break;\n        case 'application/gzip':\n        case 'application/zip':\n          media.type = 'zip';\n          break;\n        case 'application/msword':\n        case 'application/vnd.oasis.opendocument.text':\n          media.type = 'text';\n          break;\n        case 'application/vnd.ms-office':\n        case 'application/vnd.oasis.opendocument.spreadsheet':\n          media.type = 'excel';\n          break;\n        case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n        case 'application/vnd.ms-powerpoint':\n        case 'application/vnd.oasis.opendocument.presentation':\n          media.type = 'ppt';\n          break;\n        default:\n          media.type = 'unknow';\n      }\n      return media;\n    }\n  }\n};\n\n},{}],333:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    findAttributeFormMetadataAttribute: function findAttributeFormMetadataAttribute(name) {\n      return this.state.metadata ? this.state.metadata[name] !== undefined : false;\n    },\n    findMetadataAttribute: function findMetadataAttribute(name) {\n      return this.state[name] !== undefined;\n    }\n  }\n};\n\n},{}],334:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle,\n    debounce = _require.debounce;\n\nvar DELAY_TYPE = {\n  throttle: throttle,\n  debounce: debounce\n};\n\nexports.default = {\n  created: function created() {\n    var delayWrapper = this.delayType && DELAY_TYPE[this.delayType] || DELAY_TYPE.throttle;\n    this.delayResize = this.resize ? delayWrapper(this.resize.bind(this), this.delayTime) : null;\n    _gui2.default.on('resize', this.delayResize);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.resize && this.resize();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _gui2.default.off('resize', this.delayResize);\n    this.delayResize = null;\n    this.delayTime = null;\n  }\n};\n\n},{\"core/utils/utils\":68,\"services/gui\":349}],335:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    getAppLanguage = _require.getAppLanguage;\n\nexports.default = {\n  methods: {\n    getLanguage: function getLanguage() {\n      return getAppLanguage();\n    },\n    changeSelect: function changeSelect(value) {\n      this.state.value = value === 'null' ? null : value;\n      this.change();\n    },\n    getValue: function getValue(value) {\n      return value === null ? 'null' : value;\n    },\n    resetValues: function resetValues() {\n      this.state.input.options.values.splice(0);\n    }\n  },\n  computed: {\n    autocomplete: function autocomplete() {\n      return this.state.input.type === 'select_autocomplete' && this.state.input.options.usecompleter;\n    }\n  },\n  watch: {\n    notvalid: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(value) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (this.select2) value ? this.select2.data('select2').$container.addClass(\"input-error-validation\") : this.select2.data('select2').$container.removeClass(\"input-error-validation\");\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function notvalid(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return notvalid;\n    }()\n  }\n};\n\n},{\"core/i18n/i18n.service\":14}],336:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  mixins: [_resize2.default],\n  methods: {\n    setValue: function setValue() {\n      this.select2.val(this.state.value).trigger('change');\n    },\n    resize: function resize() {\n      this.select2 && !_applicationState2.default.ismobile && this.select2.select2('close');\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    //destroy a select2  dom element\n    this.select2 && this.select2.select2('destroy');\n    // remove all event\n    this.select2.off();\n    this.select2 = null;\n  }\n};\n\n},{\"mixins/resize\":334,\"store/application-state\":361}],337:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      changed: false\n    };\n  },\n\n  methods: {\n    widgetChanged: function widgetChanged() {\n      this.changed = true;\n      this.change();\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      console.log('need to be implemented by widget'); // method to overwrite\n    }\n  },\n  watch: {\n    'state.value': function stateValue(value) {\n      this.changed ? this.changed = false : this.stateValueChanged(value);\n    }\n  }\n};\n\n},{}],338:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    reject = _require.reject;\n\nvar G3WObject = require('core/g3wobject');\n\n// Class Api Service\nfunction ApiService() {\n  this._config = null;\n  this._baseUrl = null;\n  this.init = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n    this._config = config;\n    // prende l'url base delle api dal config dell'applicazione\n    this._baseUrl = config.urls.api;\n    this._apiEndpoints = config.urls.apiEndpoints;\n    d.resolve();\n    return d.promise();\n  };\n  var howManyAreLoading = 0;\n  this._incrementLoaders = function () {\n    howManyAreLoading === 0 && this.emit('apiquerystart');\n    howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    howManyAreLoading -= 1;\n    howManyAreLoading === 0 && this.emit('apiqueryend');\n  };\n  this.get = function (api, options) {\n    var _this = this;\n\n    var apiEndPoint = this._apiEndpoints[api];\n    if (apiEndPoint) {\n      var completeUrl = this._baseUrl + '/' + apiEndPoint;\n      if (options.request) completeUrl = completeUrl + '/' + options.request;\n      var params = options.params || {};\n      this.emit(api + 'querystart');\n      this._incrementLoaders();\n      return $.get(completeUrl, params).done(function (response) {\n        _this.emit(api + 'queryend', response);\n        return response;\n      }).fail(function (error) {\n        _this.emit(api + 'queryfail', error);\n        return error;\n      }).always(function () {\n        return _this._decrementLoaders();\n      });\n    } else return reject();\n  };\n  base(this);\n}\n\ninherit(ApiService, G3WObject);\n\nexports.default = new ApiService();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],339:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _clipboard = require('services/clipboard');\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    i18ninit = _require.init,\n    changeLanguage = _require.changeLanguage;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit,\n    XHR = _require2.XHR,\n    uniqueId = _require2.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n//Manage Application\nvar ApplicationService = function ApplicationService() {\n  var _this = this;\n\n  this.version = _constant.APP_VERSION;\n  _applicationState2.default.iframe = window.top !== window.self;\n  _applicationState2.default.online = navigator.onLine;\n  _applicationState2.default.ismobile = isMobile.any;\n  this.complete = false;\n  this.baseurl = '/'; // set base url\n  this.download_caller_id = null;\n  // store all services sidebar etc..\n  this._applicationServices = {};\n  this.config = {};\n  this._initConfigUrl = null;\n  this._initConfig = null;\n  this._groupId = null;\n  this._gid = null;\n  this.setters = {\n    changeProject: function changeProject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          gid = _ref.gid,\n          host = _ref.host;\n\n      return this._changeProject({ gid: gid, host: host });\n    },\n    online: function online() {\n      this.setOnline();\n    },\n    offline: function offline() {\n      this.setOffline();\n    },\n    setFilterToken: function setFilterToken(filtertoken) {\n      this._setFilterToken(filtertoken);\n    }\n  };\n  base(this);\n  /*\n  * intiConfig as parameter\n  * */\n  this.on('initconfig', function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        user = _ref2.user;\n\n    // only user attribute is used\n    _this.setApplicationUser(user);\n  });\n  // init application\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var config, browserLanguage, language;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return this.createApplicationConfig();\n\n          case 3:\n            config = _context.sent;\n\n            this.setConfig(config);\n            this.setLayout('app', config.layout);\n            _context.next = 8;\n            return this.bootstrap();\n\n          case 8:\n            return _context.abrupt('return', _context.sent);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](0);\n            browserLanguage = navigator && navigator.language || 'en';\n            language = _config2.default.supportedLanguages.find(function (language) {\n              return browserLanguage.indexOf(language) !== -1;\n            });\n            return _context.abrupt('return', Promise.reject({\n              error: _context.t0,\n              language: language\n            }));\n\n          case 16:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 11]]);\n  }));\n\n  /**\n   * setup Internationalization\n   */\n  this.setupI18n = function () {\n    var languageConfig = this._config._i18n;\n    languageConfig.appLanguages = this._config.i18n.map(function (languageLabel) {\n      return languageLabel[0];\n    });\n    this.setApplicationLanguage(languageConfig.language);\n    //setup internationalization for translation\n    i18ninit(languageConfig);\n    this._groupId = this._config.group.slug || this._config.group.name.replace(/\\s+/g, '-').toLowerCase();\n    // set accept-language reuest header based on config language\n    var userLanguage = this._config.user.i18n || 'en';\n    $.ajaxSetup({\n      beforeSend: function beforeSend(jqXHR) {\n        jqXHR.setRequestHeader('Accept-Language', userLanguage);\n      }\n    });\n  };\n\n  this.getCurrentProject = function () {\n    return _projects2.default.getCurrentProject();\n  };\n\n  /**\n   *\n   * @param bool\n   * @param download_caller_id\n   * @returns {null}\n   */\n  this.setDownload = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var download_caller_id = arguments[1];\n\n    if (download_caller_id) {\n      if (!bool && download_caller_id && this.download_caller_id === download_caller_id) {\n        _applicationState2.default.download = false;\n        this.download_caller_id = null;\n      } else if (bool && this.download_caller_id === null) {\n        _applicationState2.default.download = bool;\n        this.download_caller_id = uniqueId();\n      }\n    } else _applicationState2.default.download = bool;\n    return this.download_caller_id;\n  };\n\n  this.getDownload = function () {\n    return _applicationState2.default.download;\n  };\n\n  this.loadingPlugin = function (plugin) {\n    _applicationState2.default.plugins.push(plugin);\n  };\n\n  /*\n  * plugin: name of plugin\n  * */\n  this.loadedPlugin = function (plugin) {\n    _applicationState2.default.plugins = _applicationState2.default.plugins.filter(function (_plugin) {\n      return _plugin !== plugin;\n    });\n  };\n\n  /*\n   *filtertoken methods\n  */\n\n  /**\n   * token is a string passed by server and used as parameter in XHR request\n   * @param filtertoken\n   * @private\n   */\n  this._setFilterToken = function (filtertoken) {\n    _applicationState2.default.tokens.filtertoken = filtertoken;\n  };\n\n  this.getFilterToken = function () {\n    return _applicationState2.default.tokens.filtertoken;\n  };\n\n  /**\n   *  filter token methods\n   */\n\n  this.changeLanguage = function (language) {\n    changeLanguage(language);\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n    var pathname = window.location.pathname;\n    var pathArray = pathname.split('/');\n    pathArray[1] = language;\n    history.replaceState(null, null, pathArray.join('/'));\n  };\n\n  this.registerOnlineOfflineEvent = function () {\n    var _this2 = this;\n\n    this.registerWindowEvent({\n      evt: 'online',\n      cb: function cb() {\n        return _this2.online();\n      }\n    });\n\n    this.registerWindowEvent({\n      evt: 'offline',\n      cb: function cb() {\n        return _this2.offline();\n      }\n    });\n  };\n\n  this.getBaseLayerId = function () {\n    return _applicationState2.default.baseLayerId;\n  };\n\n  this.setBaseLayerId = function (baseLayerId) {\n    _applicationState2.default.baseLayerId = baseLayerId;\n  };\n\n  this.registerLeavePage = function () {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref4$bool = _ref4.bool,\n        bool = _ref4$bool === undefined ? false : _ref4$bool,\n        _ref4$message = _ref4.message,\n        message = _ref4$message === undefined ? '' : _ref4$message;\n\n    var _return = !bool ? undefined : bool;\n    window.onbeforeunload = function (event) {\n      return _return;\n    };\n  };\n\n  this.unregisterOnlineOfflineEvent = function () {\n    window.removeEventListener('online');\n    window.removeEventListener('offline');\n  };\n\n  this.getState = function () {\n    return _applicationState2.default;\n  };\n\n  this.disableApplication = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _applicationState2.default.gui.app.disabled = bool;\n  };\n\n  this.setApplicationLanguage = function () {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n  };\n\n  this.getApplicationLanguage = function () {\n    return _applicationState2.default.language;\n  };\n\n  this.setOnline = function () {\n    _applicationState2.default.online = true;\n  };\n\n  this.setOffline = function () {\n    _applicationState2.default.online = false;\n  };\n\n  this.isOnline = function () {\n    return _applicationState2.default.online;\n  };\n\n  this.setOfflineItem = function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(id) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setLocalItem({\n                id: id,\n                data: data\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x8) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  this.setLocalItem = function () {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref6.id,\n        data = _ref6.data;\n\n    try {\n      var item = JSON.stringify(data);\n      window.localStorage.setItem(id, item);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  this.removeLocalItem = function (id) {\n    window.localStorage.removeItem(id);\n  };\n\n  this.getLocalItem = function (id) {\n    var item = window.localStorage.getItem(id);\n    if (item) return JSON.parse(item);else return undefined;\n  };\n\n  this.getOfflineItem = function (id) {\n    return this.getLocalItem(id);\n  };\n\n  this.removeOfflineItem = function (id) {\n    this.removeLocalItem(id);\n  };\n\n  //check if is in Iframe\n  this.isIframe = function () {\n    return _applicationState2.default.iframe;\n  };\n\n  // get config\n  this.getConfig = function () {\n    return this._config;\n  };\n\n  this.setConfig = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._config = config;\n  };\n\n  // router service\n  this.getRouterService = function () {\n    return _router2.default;\n  };\n\n  //application proxy url\n  this.getProxyUrl = function () {\n    return '' + this._initConfig.proxyurl;\n  };\n\n  /**\n   * Get Interface OWS Url\n   */\n  this.getInterfaceOwsUrl = function () {\n    return '' + this._initConfig.interfaceowsurl;\n  };\n\n  // clipboard service\n  this.getClipboardService = function () {\n    return _clipboard2.default;\n  };\n\n  /**\n   * Create application config object\n   * @param initConfig\n   * @returns {Promise<string|{terms_of_use_link, projects: ([{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}, {qgs_layer_id: string, fields: [string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}], type: string}]|{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}|[]), maxscale: (null|ProjectsRegistry.setProjects.config.maxscale), mediaurl: *, plugins: *, mapcontrols: *, tools: *, resourcesurl: *, initproject, urls: *, credits: *, getWmsUrl(*): string, _i18n: ({resources: {se: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, fi: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, en: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, it: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {title: string, error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {zoom_to_features_extent: string, download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}}}|{resources: *}), views: (*|{}), group: *, vectorurl: *, debug: boolean, crs: *, apptitle: (string), header_custom_links, i18n: *, overviewproject: (*|null), layout: (*|{}), logo_img: *, baselayers: (string|vueComponentOptions.computed.baselayers|{count: number}|*), logo_link: *, background_color, terms_of_use_text: *, main_map_title: *, getProjectConfigUrl(*): string, user: (*|null), minscale: ProjectsRegistry.setProjects.config.minscale}>}\n   */\n  this.createApplicationConfig = function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(initConfig) {\n      var config;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              config = _extends({}, _config2.default);\n              _context3.prev = 1;\n\n              if (!initConfig) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.t0 = initConfig;\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.next = 8;\n              return this.obtainInitConfig({\n                initConfigUrl: '' + _config2.default.server.urls.initconfig\n              });\n\n            case 8:\n              _context3.t0 = _context3.sent;\n\n            case 9:\n              initConfig = _context3.t0;\n\n              // write urls of static files and media url (base url and vector url)\n              this.baseurl = initConfig.baseurl;\n              config.server.urls.baseurl = initConfig.baseurl;\n              config.server.urls.frontendurl = initConfig.frontendurl;\n              config.server.urls.staticurl = initConfig.staticurl;\n              config.server.urls.clienturl = initConfig.staticurl + initConfig.client;\n              config.server.urls.mediaurl = initConfig.mediaurl;\n              config.server.urls.vectorurl = initConfig.vectorurl;\n              config.server.urls.proxyurl = initConfig.proxyurl;\n              config.server.urls.rasterurl = initConfig.rasterurl;\n              config.server.urls.interfaceowsurl = initConfig.interfaceowsurl;\n              config.main_map_title = initConfig.main_map_title;\n              config.group = initConfig.group;\n              config.user = initConfig.user;\n              config.credits = initConfig.credits;\n              config.i18n = initConfig.i18n;\n              // get language from server\n              config._i18n.language = config.user.i18n;\n              // create application configuration\n              // check if is inside a iframe\n              config.group.layout.iframe = window.top !== window.self;\n              return _context3.abrupt('return', {\n                apptitle: config.apptitle || '',\n                logo_img: config.group.header_logo_img,\n                logo_link: config.group.header_logo_link,\n                terms_of_use_text: config.group.header_terms_of_use_text,\n                terms_of_use_link: config.group.terms_of_use_link,\n                header_custom_links: config.group.header_custom_links,\n                debug: config.client.debug || false,\n                group: config.group,\n                urls: config.server.urls,\n                mediaurl: config.server.urls.mediaurl,\n                resourcesurl: config.server.urls.clienturl,\n                vectorurl: config.server.urls.vectorurl,\n                rasterurl: config.server.urls.rasterurl,\n                interfaceowsurl: config.server.urls.interfaceowsurl,\n                projects: config.group.projects,\n                initproject: config.group.initproject,\n                overviewproject: config.group.overviewproject && config.group.overviewproject.gid ? config.group.overviewproject : null,\n                baselayers: config.group.baselayers,\n                mapcontrols: config.group.mapcontrols,\n                background_color: config.group.background_color,\n                crs: config.group.crs,\n                minscale: config.group.minscale,\n                maxscale: config.group.maxscale,\n                main_map_title: config.main_map_title,\n                credits: config.credits,\n                _i18n: config._i18n,\n                i18n: config.i18n,\n                layout: config.group.layout || {},\n                // needed by ProjectService\n                getWmsUrl: function getWmsUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.ows + '/' + config.group.id + '/' + project.type + '/' + project.id + '/';\n                },\n\n                // needed by ProjectsRegistry to get informations about project configuration\n                getProjectConfigUrl: function getProjectConfigUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.config + '/' + config.group.id + '/' + project.type + '/' + project.id + '?_t=' + project.modified;\n                },\n\n                plugins: config.group.plugins,\n                tools: config.tools,\n                views: config.views || {},\n                user: config.user || null\n              });\n\n            case 30:\n              _context3.prev = 30;\n              _context3.t1 = _context3['catch'](1);\n              return _context3.abrupt('return', Promise.reject(_context3.t1));\n\n            case 33:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[1, 30]]);\n    }));\n\n    return function (_x11) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  this.obtainInitConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        initConfigUrl = _ref9.initConfigUrl,\n        url = _ref9.url,\n        host = _ref9.host;\n\n    var projectPath, locationsearch;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!this._initConfigUrl) this._initConfigUrl = initConfigUrl;else this.clearInitConfig();\n\n            // if exist a global initConfig\n            this._initConfig = window.initConfig;\n\n            projectPath = void 0;\n\n            // DEPRECATED: will be removed after v4.0\n\n            locationsearch = url ? url.split('?')[1] : location.search.substring(1);\n\n\n            if (locationsearch) {\n              //check if exist project in url\n              /**\n               * The way to extract project group,type and id\n               * Example http:localhost:3000/?project=3003/qdjango/1\n               * is deprecate\n               */\n              locationsearch.split('&').forEach(function (queryTuple) {\n                projectPath = queryTuple.indexOf(\"project\") > -1 ? queryTuple.split(\"=\")[1] : projectPath;\n              });\n\n              ///////////////////////////////////////////////////////////////////\n            } else if (this._gid) {\n              projectPath = this._groupId + '/' + this._gid.split(':').join('/');\n            }\n\n            _context4.prev = 5;\n\n            if (!projectPath) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.next = 9;\n            return this.getInitConfig('' + (host || '') + this.baseurl + this._initConfigUrl + '/' + projectPath);\n\n          case 9:\n            this._initConfig = _context4.sent;\n\n          case 10:\n            _context4.next = 15;\n            break;\n\n          case 12:\n            _context4.prev = 12;\n            _context4.t0 = _context4['catch'](5);\n            return _context4.abrupt('return', Promise.reject(_context4.t0));\n\n          case 15:\n            _context4.prev = 15;\n\n            window.initConfig = this._initConfig;\n            this.emit('initconfig', this._initConfig);\n            this.setInitVendorKeys(this._initConfig);\n            return _context4.abrupt('return', Promise.resolve(this._initConfig));\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[5, 12, 15, 21]]);\n  }));\n\n  // method to get initial application configuration\n  this.getInitConfig = function (url) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (_this3._initConfig) resolve(_this3._initConfig);else XHR.get({ url: url }).then(function (initConfig) {\n        return resolve(initConfig);\n      }).catch(function (error) {\n        return reject(error);\n      });\n    });\n  };\n\n  this.getInitConfigUrl = function () {\n    return this._initConfigUrl;\n  };\n\n  this.setInitConfigUrl = function (initConfigUrl) {\n    this._initConfigUrl = initConfigUrl;\n  };\n\n  // post boostratp\n  this.postBootstrap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (this.complete) {\n              _context5.next = 13;\n              break;\n            }\n\n            _context5.prev = 1;\n\n            _router2.default.init();\n            // once the projects are inizilized and also api service\n            // register  plugins\n            _context5.next = 5;\n            return this._bootstrapPlugins();\n\n          case 5:\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            _context5.prev = 9;\n\n            this.complete = true;\n            this.emit('complete');\n            return _context5.finish(9);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7, 9, 13]]);\n  }));\n\n  //boostrap plugins\n  this._bootstrapPlugins = function () {\n    return _plugins2.default.init({\n      pluginsBaseUrl: this._config.urls.staticurl,\n      pluginsConfigs: this._config.plugins,\n      otherPluginsConfig: _projects2.default.getCurrentProject().getState()\n    });\n  };\n\n  //set EPSG of Application is usefule for example to wms request for table layer\n  this.setEPSGApplication = function (project) {\n    _applicationState2.default.map.epsg = project.state.crs.epsg;\n  };\n\n  //Application User\n  this.setApplicationUser = function (user) {\n    _applicationState2.default.user = user;\n  };\n\n  this.getApplicationUser = function () {\n    return _applicationState2.default.user;\n  };\n\n  //  bootstrap (when called init)\n  this.bootstrap = function () {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      // setup All i18n configuration\n      _this4.setupI18n();\n      // run Timeout\n      var timeout = setTimeout(function () {\n        reject('Timeout');\n      }, _constant.TIMEOUT);\n      //first time l'application service is not ready\n      if (!_applicationState2.default.ready) {\n        $.when(\n        // register project\n        _projects2.default.init(_this4._config),\n        // inizialize api service\n        _api2.default.init(_this4._config)).then(function () {\n          // clear TIMEOUT\n          clearTimeout(timeout);\n          //clear\n          _this4.registerOnlineOfflineEvent();\n          _this4.emit('ready');\n          _applicationState2.default.ready = _this4.initialized = true;\n          // set current project gid\n          var project = _projects2.default.getCurrentProject();\n          _this4._gid = project.getGid();\n          //sett\n          _this4.setEPSGApplication(project);\n          //IFRAME CHECK\n          _applicationState2.default.iframe && _this4.startIFrameService({\n            project: project\n          });\n          // initialize data router service\n          _data2.default.init();\n          resolve(true);\n        }).fail(function (error) {\n          return reject(error);\n        });\n      }\n    });\n  };\n\n  //iframeservice\n  this.startIFrameService = function () {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref11.project;\n\n    var iframeService = require('core/iframe/routerservice');\n    iframeService.init({ project: project });\n  };\n\n  this.registerWindowEvent = function () {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref12.evt,\n        cb = _ref12.cb;\n\n    window.addEventListener(evt, cb);\n  };\n\n  this.unregisterWindowEvent = function () {\n    var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref13.evt,\n        cb = _ref13.cb;\n\n    window.removeEventListener(evt, cb);\n  };\n\n  this.registerService = function (element, service) {\n    this._applicationServices[element] = service;\n  };\n\n  this.unregisterService = function (element) {\n    delete this._applicationServices[element];\n  };\n\n  this.getApplicationService = function (type) {\n    return this._applicationServices[type];\n  };\n\n  this.getService = function (element) {\n    return this._applicationServices[element];\n  };\n\n  this.errorHandler = function (error) {};\n\n  /**\n   * clear initConfig\n   */\n  this.clearInitConfig = function () {\n    window.initConfig = this._initConfig = null;\n  };\n\n  this.setInitVendorKeys = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var vendorkeys = config.group.vendorkeys || {};\n    config.group.baselayers.forEach(function (baselayer) {\n      if (baselayer.apikey) {\n        var type = baselayer.servertype ? baselayer.servertype.toLowerCase() : null;\n        vendorkeys[type] = baselayer.apikey;\n      }\n    });\n    this.setVendorKeys(vendorkeys);\n  };\n\n  this.setVendorKeys = function () {\n    var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object.keys(keys).forEach(function (key) {\n      return _applicationState2.default.keys.vendorkeys[key] = keys[key];\n    });\n  };\n\n  // change View\n  this.changeProjectView = function (change) {\n    _applicationState2.default.changeProjectview = change;\n  };\n\n  this.isProjectViewChanging = function () {\n    return _applicationState2.default.changeProjectview;\n  };\n\n  this.reloadCurrentProject = function () {\n    return this.changeProject({\n      gid: _projects2.default.getCurrentProject().getGid()\n    });\n  };\n\n  /**\n   * Change project method that do all request and rebuild interface\n   * @param gid\n   * @param host\n   * @returns {JQuery.Promise<any, any, any>}\n   * @private\n   */\n  this._changeProject = function () {\n    var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        gid = _ref14.gid,\n        host = _ref14.host;\n\n    var d = $.Deferred();\n    this._gid = gid;\n    var projectUrl = _projects2.default.getProjectUrl(gid);\n    var url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(projectUrl);\n    history.replaceState(null, null, url);\n    location.replace(url);\n    d.resolve();\n    return d.promise();\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.setLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * Set default height percentage of height when show vertical content (for example show table attribute)\n     * @type {{}}\n     */\n    if (config.rightpanel) {\n      config.rightpanel.width = config.rightpanel.width || 50;\n      config.rightpanel.height = config.rightpanel.height || 50;\n      config.rightpanel.width_default = config.rightpanel.width; // used eventually to reset starting values\n      config.rightpanel.height_default = config.rightpanel.height;\n      config.rightpanel.width_100 = false;\n      config.rightpanel.height_100 = false;\n    } else config.rightpanel = { width: 50, height: 50, width_default: 50, height_default: 50, width_100: false, height_100: false };\n    _applicationState2.default.gui.layout[who] = config;\n  };\n\n  this.removeLayout = function (who) {\n    who && delete _applicationState2.default.gui.layout[who];\n  };\n\n  this.setCurrentLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    _applicationState2.default.gui.layout.__current = who;\n  };\n\n  this.getCurrentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current];\n  };\n\n  this.getCurrentLayoutName = function () {\n    return _applicationState2.default.gui.layout.__current;\n  };\n\n  this.cloneLayout = function () {\n    var which = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    return JSON.parse(JSON.stringify(_applicationState2.default.gui.layout[which]));\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.clear = function () {\n    this.unregisterOnlineOfflineEvent();\n  };\n};\n\ninherit(ApplicationService, G3WObject);\n\nexports.default = new ApplicationService();\n\n},{\"app/constant\":5,\"config\":4,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/iframe/routerservice\":15,\"core/utils/utils\":68,\"services/api\":338,\"services/clipboard\":340,\"services/data\":346,\"services/gui\":349,\"services/router\":356,\"store/application-state\":361,\"store/plugins\":366,\"store/projects\":367}],340:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\nfunction ClipboardService() {\n  this._data = {};\n  this.set = function (formId, data) {\n    var formLayer = formId.split('form')[0];\n    this._data[formLayer] = data;\n  };\n\n  this.get = function (formLayer) {\n    var data = this._data[formLayer] || {};\n    this._data[formLayer] = {};\n    return data;\n  };\n}\n\nexports.default = new ClipboardService();\n\n},{}],341:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nvar _require2 = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require2.getFeaturesFromResponseVectorApi;\n\nfunction ExpressionService() {\n  base(this);\n  /**\n   *\n   * @param qgis_layer_id\n   * @param form_data\n   * @param expression\n   * @param layer_id layer owner of the data\n   * @param qgs_layer_id layer id owner of the form data\n   * @returns {Promise<void>}\n   * POST only: accepts\n    * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   */\n  this.expression = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var qgs_layer_id = _ref.qgs_layer_id,\n          layer_id = _ref.layer_id,\n          form_data = _ref.form_data,\n          expression = _ref.expression,\n          _ref$formatter = _ref.formatter,\n          formatter = _ref$formatter === undefined ? 1 : _ref$formatter,\n          parent = _ref.parent;\n      var url, response;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = '' + this.project.getUrl('vector_data') + layer_id + '/';\n              _context.prev = 1;\n              _context.next = 4;\n              return this.handleRequest({\n                url: url,\n                params: {\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id,\n                  form_data: form_data,\n                  expression: expression,\n                  formatter: formatter,\n                  parent: parent\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n              return _context.abrupt('return', this.handleResponse(response));\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context['catch'](1);\n              return _context.abrupt('return', Promise.reject(_context.t0));\n\n            case 11:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  /**\n   *\n   * @param qgis_layer_id\n   * @param form_data\n   * @param expression\n   * @returns {Promise<void>}\n   * POST only method to return QGIS Expressions evaluated in Project an optional Layer/Form context\n   *\n   *  Mandatory JSON body: expression\n    * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   */\n  this.expression_eval = function () {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer_id = _ref3.layer_id,\n        qgs_layer_id = _ref3.qgs_layer_id,\n        form_data = _ref3.form_data,\n        expression = _ref3.expression,\n        _ref3$formatter = _ref3.formatter,\n        formatter = _ref3$formatter === undefined ? 1 : _ref3$formatter,\n        parent = _ref3.parent;\n\n    var url = this.project.getUrl('expression_eval');\n    return this.handleRequest({\n      url: url,\n      params: {\n        layer_id: layer_id,\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter,\n        parent: parent\n      }\n    });\n  };\n\n  /**\n   * Common method to handel request\n    * @param url\n   * @param params\n   * @contentType\n   * @returns {Promise<*>}\n   */\n  this.handleRequest = function () {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        _ref4$params = _ref4.params,\n        params = _ref4$params === undefined ? {} : _ref4$params,\n        _ref4$contentType = _ref4.contentType,\n        contentType = _ref4$contentType === undefined ? 'application/json' : _ref4$contentType;\n\n    return XHR.post({\n      url: url,\n      contentType: contentType,\n      data: JSON.stringify(params)\n    });\n  };\n\n  /***\n   * Common method to handle response\n   * @param response\n   */\n  this.handleResponse = function () {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return getFeaturesFromResponseVectorApi(response);\n  };\n}\n\ninherit(ExpressionService, BaseService);\n\nexports.default = new ExpressionService();\n\n},{\"core/data/service\":6,\"core/utils/geo\":65,\"core/utils/utils\":68}],342:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction OWSService() {\n  base(this);\n  /**\n   *\n   * @param params\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wmsCapabilities = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url;\n\n    var owsUrl, params, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            owsUrl = '' + _application2.default.getInterfaceOwsUrl();\n            _context.prev = 1;\n            params = {\n              url: url,\n              service: \"wms\"\n            };\n            data = JSON.stringify(params);\n            _context.next = 6;\n            return XHR.post({\n              url: owsUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', response);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](1);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 10]]);\n  }));\n}\n\ninherit(OWSService, BaseService);\n\nexports.default = new OWSService();\n\n},{\"core/data/service\":6,\"core/utils/utils\":68,\"services/application\":339}],343:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction ProxyService() {\n  base(this);\n  /**\n   *\n   * @param data: Object conitans data to pass to proxy\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wms = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$method = _ref2.method,\n        method = _ref2$method === undefined ? 'GET' : _ref2$method,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$headers = _ref2.headers,\n        headers = _ref2$headers === undefined ? {} : _ref2$headers;\n\n    var proxyUrl, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            proxyUrl = '' + _application2.default.getProxyUrl();\n\n            if (method === 'GET') {\n              url = new URL(url);\n              Object.keys(params).forEach(function (param) {\n                return url.searchParams.set(param, params[param]);\n              });\n              url = url.toString();\n            }\n            _context.prev = 2;\n            data = JSON.stringify({\n              url: url,\n              params: params,\n              headers: headers,\n              method: method\n            });\n            _context.next = 6;\n            return XHR.post({\n              url: proxyUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', {\n              response: response,\n              data: data\n            });\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](2);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 10]]);\n  }));\n\n  /**\n   * Generic proxy data function\n   * @param params\n   */\n  this.data = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n}\n\ninherit(ProxyService, BaseService);\n\nexports.default = new ProxyService();\n\n},{\"core/data/service\":6,\"core/utils/utils\":68,\"services/application\":339}],344:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar BaseService = require('core/data/service');\n\nvar _require3 = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require3.getQueryLayersPromisesByCoordinates,\n    getQueryLayersPromisesByGeometry = _require3.getQueryLayersPromisesByGeometry,\n    getQueryLayersPromisesByBBOX = _require3.getQueryLayersPromisesByBBOX,\n    getMapLayersByFilter = _require3.getMapLayersByFilter;\n\nfunction QueryService() {\n  base(this);\n  /**\n   *\n   * @type {{filtrable: {ows: string}}}\n   */\n  this.condition = {\n    filtrable: {\n      ows: 'WFS'\n    }\n  };\n\n  /**\n   *\n   * @param geometry\n   * @param feature_count\n   * @param multilayers\n   * @param condition\n   * @param excludeLayers\n   * @returns {Promise<unknown>}\n   */\n  this.polygon = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature,\n        _ref$feature_count = _ref.feature_count,\n        feature_count = _ref$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref$feature_count,\n        _ref$filterConfig = _ref.filterConfig,\n        filterConfig = _ref$filterConfig === undefined ? {} : _ref$filterConfig,\n        _ref$multilayers = _ref.multilayers,\n        multilayers = _ref$multilayers === undefined ? false : _ref$multilayers,\n        _ref$condition = _ref.condition,\n        condition = _ref$condition === undefined ? this.condition : _ref$condition,\n        _ref$excludeLayers = _ref.excludeLayers,\n        excludeLayers = _ref$excludeLayers === undefined ? [] : _ref$excludeLayers;\n\n    var polygonLayer = excludeLayers[0];\n    var fid = feature.get(_constant.G3W_FID);\n    var geometry = feature.getGeometry();\n    // in case no geometry on polygon layer response\n    if (!geometry) return this.returnExceptionResponse({\n      usermessage: {\n        type: 'warning',\n        message: polygonLayer.getName() + ' - ' + t('sdk.mapcontrols.querybypolygon.no_geometry'),\n        messagetext: true,\n        autoclose: false\n      }\n    });\n    var layerFilterObject = {\n      SELECTED: false,\n      FILTERABLE: true,\n      VISIBLE: true\n    };\n    var layers = getMapLayersByFilter(layerFilterObject, condition).filter(function (layer) {\n      return excludeLayers.indexOf(layer) === -1;\n    });\n    var request = getQueryLayersPromisesByGeometry(layers, {\n      geometry: geometry,\n      multilayers: multilayers,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      projection: this.project.getProjection()\n    });\n    return this.handleRequest(request, {\n      fid: fid,\n      geometry: geometry,\n      layer: polygonLayer,\n      type: 'polygon'\n    });\n  };\n\n  /**\n   *\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @param condition\n   * @param layersFilterObject\n   * @returns {Promise<unknown>}\n   */\n  this.bbox = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref2.bbox,\n        _ref2$feature_count = _ref2.feature_count,\n        feature_count = _ref2$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref2$feature_count,\n        _ref2$filterConfig = _ref2.filterConfig,\n        filterConfig = _ref2$filterConfig === undefined ? {} : _ref2$filterConfig,\n        _ref2$multilayers = _ref2.multilayers,\n        multilayers = _ref2$multilayers === undefined ? false : _ref2$multilayers,\n        _ref2$condition = _ref2.condition,\n        condition = _ref2$condition === undefined ? this.condition : _ref2$condition,\n        _ref2$layersFilterObj = _ref2.layersFilterObject,\n        layersFilterObject = _ref2$layersFilterObj === undefined ? { SELECTEDORALL: true, FILTERABLE: true, VISIBLE: true } : _ref2$layersFilterObj;\n\n    var layers = getMapLayersByFilter(layersFilterObject, condition);\n    var request = getQueryLayersPromisesByBBOX(layers, {\n      bbox: bbox,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      multilayers: multilayers\n    });\n    return this.handleRequest(request, {\n      bbox: bbox,\n      type: 'bbox'\n    });\n  };\n\n  /**\n   *\n   * @param map\n   * @param coordinates\n   * @param multilayers\n   * @param feature_count\n   * @returns {Promise<unknown>}\n   */\n  this.coordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        coordinates = _ref4.coordinates,\n        _ref4$layerIds = _ref4.layerIds,\n        layerIds = _ref4$layerIds === undefined ? [] : _ref4$layerIds,\n        _ref4$multilayers = _ref4.multilayers,\n        multilayers = _ref4$multilayers === undefined ? false : _ref4$multilayers,\n        _ref4$query_point_tol = _ref4.query_point_tolerance,\n        query_point_tolerance = _ref4$query_point_tol === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref4$query_point_tol,\n        feature_count = _ref4.feature_count;\n\n    var layersFilterObject, layers, request;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            layersFilterObject = {\n              QUERYABLE: true,\n              SELECTEDORALL: layerIds.length === 0,\n              VISIBLE: true\n            };\n\n            Array.isArray(layerIds) && layerIds.forEach(function (layerId) {\n              if (!layersFilterObject.IDS) layersFilterObject.IDS = [];\n              layersFilterObject.IDS.push(layerId);\n            });\n            layers = getMapLayersByFilter(layersFilterObject);\n            request = getQueryLayersPromisesByCoordinates(layers, {\n              multilayers: multilayers,\n              feature_count: feature_count,\n              query_point_tolerance: query_point_tolerance,\n              coordinates: coordinates\n            });\n            return _context.abrupt('return', this.handleRequest(request, {\n              coordinates: coordinates,\n              type: 'coordinates'\n            }));\n\n          case 5:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   *\n   * @param request is a Promise(jquery promise at moment\n   * @returns {Promise<unknown>}\n   */\n  this.handleRequest = function (request) {\n    var _this = this;\n\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      request.then(function (response) {\n        var results = _this.handleResponse(response, query);\n        resolve(results);\n      }).fail(reject);\n    });\n  };\n\n  /**\n   *\n   * @param response\n   * @returns {Promise<{result: boolean, data: [], query: (*|null)}>}\n   */\n  this.handleResponse = function (response) {\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var layersResults = response;\n    var results = {\n      query: query,\n      type: 'ows',\n      data: [],\n      result: true // set result to true\n    };\n    layersResults.forEach(function (result) {\n      return result.data && result.data.forEach(function (data) {\n        return results.data.push(data);\n      });\n    });\n    return results;\n  };\n\n  /**\n   * Exxception response has user message attribute\n   */\n  this.returnExceptionResponse = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref5) {\n      var usermessage = _ref5.usermessage;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt('return', {\n                data: [],\n                usermessage: usermessage,\n                result: true,\n                error: true\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}\n\ninherit(QueryService, BaseService);\n\nexports.default = new QueryService();\n\n},{\"app/constant\":5,\"core/data/service\":6,\"core/i18n/i18n.service\":14,\"core/utils/geo\":65,\"core/utils/utils\":68}],345:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlFeatureFromApiResponseFeature = _require2.createOlFeatureFromApiResponseFeature;\n\nvar BaseService = require('core/data/service');\n\nfunction SearchService() {\n  base(this);\n  // method to searchfeature features\n  this.features = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { layer: layer, search_endpoint: search_endpoint, filter: filter, raw: false, queryUrl: queryUrl, feature_count: feature_count, ordering: ordering };\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt('return', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var promisesSearch, layer, params, _options$raw, raw, filter, dataSearch, layers, provider, promise, responses;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      promisesSearch = [];\n                      layer = options.layer, params = _objectWithoutProperties(options, ['layer']);\n                      _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, filter = options.filter;\n                      dataSearch = {\n                        data: [],\n                        query: {\n                          type: 'search',\n                          search: filter\n                        },\n                        type: params.search_endpoint\n                      };\n                      // check if layer is array\n\n                      layers = Array.isArray(layer) ? layer : [layer];\n                      //check if filter is array\n\n                      params.filter = Array.isArray(params.filter) ? params.filter : [params.filter];\n                      // if api or ows search_endpoint\n                      if (params.search_endpoint === 'api') layers.forEach(function (layer, index) {\n                        return promisesSearch.push(layer.searchFeatures(_extends({}, params, {\n                          filter: params.filter[index]\n                        })));\n                      });else {\n                        // need to get query provider for get one request only\n                        provider = layers[0].getProvider('search');\n                        promise = new Promise(function (resolve, reject) {\n                          provider.query(_extends({}, params, {\n                            layers: layers\n                          }, layers[0].getSearchParams()) // nee to get search params\n                          ).then(function (data) {\n                            resolve({\n                              data: data\n                            });\n                          }).fail(reject);\n                        });\n\n                        promisesSearch.push(promise);\n                      }\n                      _context.next = 9;\n                      return Promise.allSettled(promisesSearch);\n\n                    case 9:\n                      responses = _context.sent;\n\n                      responses.forEach(function () {\n                        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                            status = _ref3.status,\n                            value = _ref3.value;\n\n                        // need to filter only fulfilled response\n                        if (status === 'fulfilled') {\n                          if (raw) {\n                            dataSearch.data.push(params.search_endpoint === 'api' ? {\n                              data: value\n                            } : value);\n                          } else {\n                            var _value$data = value.data,\n                                data = _value$data === undefined ? [] : _value$data;\n\n                            params.search_endpoint === 'api' ? data.length && dataSearch.data.push(data[0]) : dataSearch.data = data;\n                          }\n                        }\n                      });\n                      return _context.abrupt('return', dataSearch);\n\n                    case 12:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, this);\n            }))());\n\n          case 1:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  /**\n   * Method to return feature from api\n   * @param layer\n   * @param fid\n   * @returns {Promise<{data: [], layer}|{data: [{features: ([*]|[]), query: {type: string}, layer: *}]}>}\n   */\n  this.fids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref5.layer,\n        _ref5$formatter = _ref5.formatter,\n        formatter = _ref5$formatter === undefined ? 0 : _ref5$formatter,\n        _ref5$fids = _ref5.fids,\n        fids = _ref5$fids === undefined ? [] : _ref5$fids;\n\n    var response, features;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            response = {\n              data: [{\n                layer: layer,\n                features: []\n              }],\n              query: {\n                type: 'search'\n              }\n            };\n            _context3.prev = 1;\n            _context3.t0 = layer;\n\n            if (!_context3.t0) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return layer.getFeatureByFids({ fids: fids, formatter: formatter });\n\n          case 6:\n            _context3.t0 = _context3.sent;\n\n          case 7:\n            features = _context3.t0;\n\n            features && features.forEach(function (feature) {\n              return response.data[0].features.push(createOlFeatureFromApiResponseFeature(feature));\n            });\n            _context3.next = 13;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t1 = _context3['catch'](1);\n\n          case 13:\n            return _context3.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[1, 11]]);\n  }));\n\n  /**\n   * Search service function to load many layers with each one with its fids\n   * @param layers: Array of layers that we want serach fids features\n   * @param fids: Array of array of fids\n   * @param formatter: how we want visualize\n   * @returns {Promise<void>}\n   */\n  this.layersfids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _this = this;\n\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers,\n        _ref7$fids = _ref7.fids,\n        fids = _ref7$fids === undefined ? [] : _ref7$fids,\n        _ref7$formatter = _ref7.formatter,\n        formatter = _ref7$formatter === undefined ? 0 : _ref7$formatter;\n\n    var promises, response, layersresponses;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            promises = [];\n            response = {\n              data: [],\n              query: {\n                type: 'search'\n              }\n            };\n\n            layers.forEach(function (layer, index) {\n              promises.push(_this.fids({\n                layer: layer,\n                fids: fids[index],\n                formatter: formatter\n              }));\n            });\n            _context4.prev = 3;\n            _context4.next = 6;\n            return Promise.all(promises);\n\n          case 6:\n            layersresponses = _context4.sent;\n\n            layersresponses.forEach(function (layerresponse) {\n              return response.data.push(layerresponse.data);\n            });\n            _context4.next = 13;\n            break;\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4['catch'](3);\n\n            console.log(_context4.t0);\n\n          case 13:\n            return _context4.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[3, 10]]);\n  }));\n}\n\ninherit(SearchService, BaseService);\n\nexports.default = new SearchService();\n\n},{\"core/data/service\":6,\"core/utils/geo\":65,\"core/utils/utils\":68}],346:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dataExpression = require('services/data-expression');\n\nvar _dataExpression2 = _interopRequireDefault(_dataExpression);\n\nvar _dataOws = require('services/data-ows');\n\nvar _dataOws2 = _interopRequireDefault(_dataOws);\n\nvar _dataProxy = require('services/data-proxy');\n\nvar _dataProxy2 = _interopRequireDefault(_dataProxy);\n\nvar _dataQuery = require('services/data-query');\n\nvar _dataQuery2 = _interopRequireDefault(_dataQuery);\n\nvar _dataSearch = require('services/data-search');\n\nvar _dataSearch2 = _interopRequireDefault(_dataSearch);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**\n                                                                                                                                                                                                     * @file\n                                                                                                                                                                                                     * @since v3.6\n                                                                                                                                                                                                     */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod;\n\nfunction Routerservice() {\n  //set deafult outputplace\n  this.defaultoutputplaces = ['gui'];\n  // set current outputplaces\n  this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces)); // array contains all\n\n  /**\n   * Object contain output function to show results\n   * @type {{gui(*=, *=): void, iframe(*=, *=): void}}\n   * dataPromise: is thre promise request for data,\n   * options: {\n   *   show: method or Boolean to set if show or not the result on output\n   *   before : async function to handle data return from server\n   *   after: method to handle or do some thisn after show data\n   * }\n   */\n  this.ouputplaces = {\n    gui: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                _context.prev = 1;\n\n                _gui2.default.outputDataPlace(dataPromise, options);\n                _context.next = 5;\n                return dataPromise;\n\n              case 5:\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                _gui2.default.setLoadingContent(false);\n\n              case 10:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function gui(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return gui;\n    }(),\n    iframe: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _iframePlugin2.default.outputDataPlace(dataPromise, options);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function iframe(_x4) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return iframe;\n    }()\n  };\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.services = {\n              query: _dataQuery2.default,\n              search: _dataSearch2.default,\n              expression: _dataExpression2.default,\n              proxy: _dataProxy2.default,\n              ows: _dataOws2.default\n            };\n\n          case 1:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  /**\n   *\n   * @param contextAndMethod 'String contain type of service(search or query): method'\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.getData = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(contextAndMethod) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _splitContextAndMetho, context, method, service, _options$inputs, inputs, _options$outputs, outputs, dataPromise, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _splitContextAndMetho = splitContextAndMethod(contextAndMethod), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              service = this.getService(context);\n              _options$inputs = options.inputs, inputs = _options$inputs === undefined ? {} : _options$inputs, _options$outputs = options.outputs, outputs = _options$outputs === undefined ? {} : _options$outputs;\n              //return a promise and not the data\n\n              dataPromise = service[method](inputs);\n\n              outputs && this.currentoutputplaces.forEach(function (place) {\n                _this.ouputplaces[place](dataPromise, outputs);\n              });\n              //return always data\n              _context4.next = 7;\n              return dataPromise;\n\n            case 7:\n              data = _context4.sent;\n              _context4.next = 10;\n              return data;\n\n            case 10:\n              return _context4.abrupt('return', _context4.sent);\n\n            case 11:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    return function (_x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   *Force to show empty output data\n   *\n   * */\n  this.showEmptyOutputs = function () {\n    var _this2 = this;\n\n    var dataPromise = Promise.resolve({\n      data: []\n    });\n    this.currentoutputplaces.forEach(function (place) {\n      _this2.ouputplaces[place](dataPromise);\n    });\n  };\n\n  /**\n   * Set a costum datapromiseoutput to applicationa outputs settede\n   * @param dataPromise\n   */\n  this.showCustomOutputDataPromise = function (dataPromise) {\n    var _this3 = this;\n\n    this.currentoutputplaces.forEach(function (place) {\n      _this3.ouputplaces[place](dataPromise, {});\n    });\n  };\n\n  /**\n   *\n   * @param serviceName\n   * @returns {*}\n   */\n  this.getService = function (serviceName) {\n    return this.services[serviceName];\n  };\n\n  /*\n  * */\n  this.setOutputPlaces = function () {\n    var places = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.currentoutputplaces = places;\n  };\n\n  /**\n   *\n   * @param place\n   */\n  this.addCurrentOutputPlace = function (place) {\n    place && this.currentoutputplaces.indexOf(place) === -1 && this.currentoutputplaces.push(place);\n  };\n\n  /**\n   *\n   * @param place\n   * @param method has to get two parameters data (promise) and options (Object)\n   * ex {\n   * place: <newplace>\n   * method(dataPromise, options={}){}\n   *   }\n   */\n  this.addNewOutputPlace = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        place = _ref5.place,\n        _ref5$method = _ref5.method,\n        method = _ref5$method === undefined ? function () {} : _ref5$method;\n\n    var added = false;\n    if (this.ouputplaces[place] === undefined) {\n      this.ouputplaces[place] = method;\n      added = true;\n    }\n    return added;\n  };\n\n  // reset default configuration\n  this.resetDefaultOutput = function () {\n    this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces));\n  };\n}\n\nexports.default = new Routerservice();\n\n},{\"core/utils/utils\":68,\"services/data-expression\":341,\"services/data-ows\":342,\"services/data-proxy\":343,\"services/data-query\":344,\"services/data-search\":345,\"services/gui\":349,\"services/iframe-plugin\":352}],347:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n//lass that is usefult to apply changes to features (undo/redo) singleton\nfunction ChangesManager() {\n  this.execute = function (object, items, reverse) {\n    var fnc = void 0;\n    var feature = void 0;\n    items.forEach(function (item) {\n      feature = item.feature;\n      if (reverse) {\n        // change to opposite\n        feature[ChangesManager.Actions[feature.getState()].opposite]();\n      }\n      // get method from object\n      fnc = ChangesManager.Actions[feature.getState()].fnc;\n      object[fnc](feature);\n    });\n  };\n}\n\n// know actions\nChangesManager.Actions = {\n  'add': {\n    fnc: 'addFeature',\n    opposite: 'delete'\n  },\n  'delete': {\n    fnc: 'removeFeature',\n    opposite: 'add'\n  },\n  'update': {\n    fnc: 'updateFeature',\n    opposite: 'update'\n  }\n};\n\nexports.default = new ChangesManager();\n\n},{}],348:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('gui/utils/utils'),\n    Stack = _require.barstack; /**\n                                * @file\n                                * @since v3.7\n                                */\n\nfunction FloatbarService() {\n  this.stack = new Stack();\n  this.init = function (layout) {\n    this.layout = layout;\n    this.sidebarEl = $(this.layout.options.controlSidebarOptions.selector);\n    this._zindex = this.sidebarEl.css(\"z-index\");\n    this._modalOverlay = null;\n    this._modal = false;\n    this._isopen = false;\n  };\n\n  this.isOpen = function () {\n    return this._isopen;\n  };\n\n  this.open = function () {\n    this.layout.floatBar.open(this.sidebarEl, true);\n    this._isopen = true;\n  };\n\n  this.close = function () {\n    this.layout.floatBar.close(this.sidebarEl, true);\n    this._isopen = false;\n  };\n\n  this.showPanel = function (panel, options) {\n    options = options || {};\n    var append = options.append || false;\n    var modal = options.modal || false;\n    options.parent = \"#g3w-floatbarpanel-placeholder\";\n    this.stack.push(panel, options);\n    if (!this._isopen) this.open();\n  };\n\n  this.closePanel = function (panel) {\n    if (panel) this.stack.remove(panel);else this.stack.pop();\n    if (!this.stack.getLength()) {\n      if (this._modal) {\n        _gui2.default.setModal(false);\n        this.close();\n        $('.control-sidebar-bg').toggleClass('control-sidebar-bg-shadow');\n        this.sidebarEl.css(\"z-index\", \"\");\n        this.sidebarEl.css(\"padding-top\", \"50px\");\n        $('.control-sidebar-bg').css(\"z-index\", \"\");\n        this._modal = false;\n      } else this.close();\n    }\n  };\n\n  this.hidePanel = function () {\n    this.close();\n  };\n}\n\nexports.default = new FloatbarService();\n\n},{\"gui/utils/utils\":184,\"services/gui\":349}],349:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\n// API della GUI.\n// methods have be defined by application\n// app should call GUI.ready() when GUI is ready\nfunction GUI() {\n  this.setters = {\n    setContent: function setContent() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.emit('opencontent', true);\n      this._setContent(options);\n    }\n  };\n  this.isready = false;\n  // images urls\n  this.getResourcesUrl = noop;\n  // show a Vue form\n  this.showForm = noop;\n  this.closeForm = noop;\n  this.showListing = noop;\n  this.closeListing = noop;\n  this.hideListing = noop;\n  // modal\n  this.setModal = noop;\n  this.showFullModal = noop;\n  // modal\n  this.showQueryResults = noop;\n  this.hideQueryResults = noop;\n  this.showPanel = noop;\n  this.hidePanel = noop;\n  this.reloadComponents = noop;\n  this.showUserMessage = noop;\n  this.closeUserMessage = noop;\n  this.showModalDialog = noop;\n  //property to how result has to be add or close all and show new\n  // false mean create new and close all open\n  this.push_content = false;\n  this.setPushContent = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.push_content = bool;\n  };\n  this.getPushContent = function () {\n    return this.push_content;\n  };\n  this._closeUserMessageBeforeSetContent = true;\n  this.setComponent = function (component) {\n    _components2.default.registerComponent(component);\n  };\n  this.getComponent = function (id) {\n    return _components2.default.getComponent(id);\n  };\n  this.getComponents = function () {\n    return _components2.default.getComponents();\n  };\n\n  this.goto = function (url) {\n    _router2.default.goto(url);\n  };\n  this.ready = function () {\n    this.emit('ready');\n    this.isready = true;\n  };\n  this.guiResized = function () {\n    this.emit('guiresized');\n  };\n  //ready GUI\n  this.isReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      return _this.isready ? resolve() : _this.once('ready', resolve);\n    });\n  };\n  /**\n   * Passing a component application ui id return service that belong to component\n   * @param componentId\n   * @returns {*}\n   */\n  this.getService = function (componentId) {\n    var component = this.getComponent(componentId);\n    return component && component.getService();\n  };\n  /* spinner */\n  this.showSpinner = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n  this.hideSpinner = function (id) {};\n  /* end spinner */\n  this.notify = noop;\n  this.dialog = noop;\n  this.isMobile = noop;\n  //useful to registere setters\n  base(this);\n}\n\ninherit(GUI, G3WObject);\n\nexports.default = new GUI();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/router\":356,\"store/components\":363}],350:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction AppService() {\n  base(this);\n  this.mapControls = {\n    screenshot: {\n      control: null\n    },\n    changeMap: {\n      control: null\n    }\n  };\n\n  /**\n   * Init service\n   * @returns {Promise<unknown>}\n   */\n  this.init = function () {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this.mapService.once('ready', function () {\n        _this._map = _this.mapService.getMap();\n        _this._mapCrs = _this.mapService.getCrs();\n        _this.mapControls.screenshot.control = _this.mapService.getMapControlByType({\n          type: 'screenshot'\n        });\n        _this.setReady(true);\n        resolve();\n      });\n    });\n  };\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.results = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _ref$capture = _ref.capture,\n          capture = _ref$capture === undefined ? true : _ref$capture;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              capture ? _data2.default.setOutputPlaces(['iframe']) : _data2.default.resetDefaultOutput();\n              return _context.abrupt('return', []);\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  this.screenshot = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3) {\n      var _this2 = this;\n\n      var _ref3$capture = _ref3.capture,\n          capture = _ref3$capture === undefined ? true : _ref3$capture;\n      var action;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              action = 'app:screenshot';\n\n              capture ? this.mapControls.screenshot.control.overwriteOnClickEvent(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                var blob;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return _this2.mapService.createMapImage();\n\n                      case 3:\n                        blob = _context2.sent;\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: true,\n                            data: blob\n                          }\n                        });\n                        _context2.next = 10;\n                        break;\n\n                      case 7:\n                        _context2.prev = 7;\n                        _context2.t0 = _context2['catch'](0);\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: false,\n                            data: _context2.t0\n                          }\n                        });\n\n                      case 10:\n                      case 'end':\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, _this2, [[0, 7]]);\n              }))) : this.mapControls.screenshot.control.resetOriginalOnClickEvent();\n\n            case 2:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getcenter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', this.mapService.getCenter());\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  /**\n   * Zoom to coordinates\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtocoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$coordinates, coordinates, _params$highlight, highlight;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _params$coordinates = params.coordinates, coordinates = _params$coordinates === undefined ? [] : _params$coordinates, _params$highlight = params.highlight, highlight = _params$highlight === undefined ? false : _params$highlight;\n\n            if (!(coordinates && Array.isArray(coordinates) && coordinates.length === 2)) {\n              _context5.next = 6;\n              break;\n            }\n\n            this.mapService.zoomTo(coordinates);\n            return _context5.abrupt('return', coordinates);\n\n          case 6:\n            return _context5.abrupt('return', Promise.reject(coordinates));\n\n          case 7:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt('return', this.mapService.getMapExtent());\n\n          case 1:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   *\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtoextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$extent, extent;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _params$extent = params.extent, extent = _params$extent === undefined ? [] : _params$extent;\n\n            if (!(extent && Array.isArray(extent) && extent.length === 4)) {\n              _context7.next = 6;\n              break;\n            }\n\n            this.mapService.goToBBox(extent);\n            return _context7.abrupt('return', extent);\n\n          case 6:\n            return _context7.abrupt('return', Promise.reject(extent));\n\n          case 7:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  //method to zoom to features\n  this.zoomtofeature = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n    var _this3 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            return _context9.abrupt('return', new Promise(function () {\n              var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n                var qgs_layer_id, feature, _params$highlight2, highlight, response;\n\n                return regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        qgs_layer_id = params.qgs_layer_id, feature = params.feature, _params$highlight2 = params.highlight, highlight = _params$highlight2 === undefined ? false : _params$highlight2;\n\n                        qgs_layer_id = _this3.getQgsLayerId({\n                          qgs_layer_id: qgs_layer_id\n                        });\n\n                        _context8.next = 4;\n                        return _this3.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: highlight\n                        });\n\n                      case 4:\n                        response = _context8.sent;\n\n\n                        resolve(response.qgs_layer_id);\n\n                      case 6:\n                      case 'end':\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8, _this3);\n              }));\n\n              return function (_x8, _x9) {\n                return _ref11.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context9.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n}\n\ninherit(AppService, BaseService);\n\nexports.default = new AppService();\n\n},{\"core/iframe/services/baseservice\":16,\"core/utils/utils\":68,\"services/data\":346}],351:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar BasePluginService = require('core/iframe/services/plugins/service');\n\nvar _g3wsdk$core$utils = g3wsdk.core.utils,\n    base = _g3wsdk$core$utils.base,\n    inherit = _g3wsdk$core$utils.inherit;\n\n\nfunction EditingService() {\n  var _this2 = this;\n\n  base(this);\n  this.pluginName = 'editing';\n  this.subscribevents = [];\n  this.isRunning = false;\n  this.responseObject = {\n    cb: null, // resolve or reject promise method\n    qgs_layer_id: null,\n    error: null\n  };\n  this.config = {\n    tools: {\n      add: {\n        disabled: [{\n          id: 'deletefeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      update: {\n        disabled: [{\n          id: 'addfeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'deletefeature'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      delete: {\n        enabled: [{\n          id: 'deletefeature',\n          options: {\n            active: true\n          }\n        }]\n      }\n    }\n  };\n\n  // METHODS CALLED FROM EACH ACTION METHOD\n  // run before each action\n  this.startAction = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _this = this;\n\n      var toolboxes = _ref.toolboxes,\n          resolve = _ref.resolve,\n          reject = _ref.reject;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.responseObject.cb = reject;\n              // set same mode autosave\n              this.dependencyApi.setSaveConfig({\n                cb: {\n                  done: function done(toolbox) {\n                    //set toolbox id\n                    _this.responseObject.cb = resolve;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = null;\n                    // close panel that fire closeediting panel event\n                    _this.dependencyApi.hidePanel();\n                  }, // called when commit changes is done successuffly\n                  error: function error(toolbox, _error) {\n                    _this.responseObject.cb = reject;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = _error;\n                  } // called whe commit change receive an error\n                }\n              });\n              // set toolboxes visible base on value of qgs_layer_id\n              this.dependencyApi.showPanel({\n                toolboxes: toolboxes\n              });\n              this.isRunning = true;\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  //run after each action\n  this.stopAction = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var qgs_layer_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            qgs_layer_id = options.qgs_layer_id;\n            _context2.t0 = qgs_layer_id;\n\n            if (!_context2.t0) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return this.stopEditing(qgs_layer_id);\n\n          case 5:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  //// subscribers handlers\n  this.subscribersHandlers = {\n    canUndo: function canUndo(_ref4) {\n      var activeTool = _ref4.activeTool,\n          _ref4$disableToolboxe = _ref4.disableToolboxes,\n          disableToolboxes = _ref4$disableToolboxe === undefined ? [] : _ref4$disableToolboxe;\n      return function (bool) {\n        //set currenttoolbocx id in editing to null\n        if (bool === false) {\n          _this2.responseObject.qgs_layer_id = null;\n          _this2.responseObject.error = null;\n        }\n        activeTool.setEnabled(!bool);\n        disableToolboxes.forEach(function (toolbox) {\n          return toolbox.setEditing(!bool);\n        });\n      };\n    },\n    canRedo: function canRedo() {},\n    cancelform: function cancelform(cb) {\n      return function () {\n        cb();\n      };\n    }, //run callback\n    addfeature: function addfeature() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          properties = _ref5.properties,\n          toolboxes = _ref5.toolboxes;\n\n      return function (feature) {\n        Object.keys(properties).forEach(function (property) {\n          return feature.set(property, properties[property]);\n        });\n        var activeTool = void 0;\n        var disableToolboxes = [];\n        toolboxes.forEach(function (toolbox) {\n          var addFeatureTool = toolbox.getToolById('addfeature');\n          if (addFeatureTool.isActive()) {\n            addFeatureTool.setEnabled(false);\n            activeTool = addFeatureTool;\n          } else {\n            toolbox.setEditing(false);\n            disableToolboxes.push(toolbox);\n          }\n        });\n        //just one time\n        if (_this2.subscribevents.find(function (eventObject) {\n          return eventObject.event !== 'canUndo';\n        })) {\n          var handler = _this2.addSubscribeEvents('canUndo', {\n            activeTool: activeTool,\n            disableToolboxes: disableToolboxes\n          });\n          _this2.addSubscribeEvents('cancelform', handler);\n        }\n      };\n    },\n    closeeditingpanel: function closeeditingpanel(_ref6) {\n      var qgs_layer_id = _ref6.qgs_layer_id;\n      return function () {\n        // response to router service\n        _this2.responseObject.cb({\n          qgs_layer_id: _this2.responseObject.qgs_layer_id,\n          error: _this2.responseObject.error\n        });\n        // stop action\n        _this2.stopAction({ qgs_layer_id: qgs_layer_id });\n      };\n    }\n  };\n\n  // method to add subscribe refenrence\n  this.addSubscribeEvents = function (event) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var handler = this.subscribersHandlers[event](options);\n    this.dependencyApi.subscribe(event, handler);\n    this.subscribevents.push({\n      event: event,\n      handler: handler\n    });\n    return handler;\n  };\n\n  /**\n   * Reset subscriber editing plugin events\n   */\n  this.resetSubscribeEvents = function () {\n    var _this3 = this;\n\n    this.subscribevents.forEach(function (_ref7) {\n      var event = _ref7.event,\n          handler = _ref7.handler;\n\n      _this3.dependencyApi.unsubscribe(event, handler);\n    });\n  };\n\n  /**\n   * Method called whe we want add a feature\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.add = function () {\n    var _this4 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var configQglLayerId, data, properties, qgs_layer_id, options, toolboxes, toolbox;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!_this4.isRunning) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                reject();\n                _context3.next = 19;\n                break;\n\n              case 4:\n                // extract qgslayerid from configuration message\n                configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                properties = data.properties;\n                qgs_layer_id = _this4.getQgsLayerId({\n                  qgs_layer_id: configQglLayerId,\n                  noValue: _this4.dependencyApi.getEditableLayersId()\n                });\n                //call method common\n\n                _context3.next = 9;\n                return _this4.startAction({\n                  toolboxes: qgs_layer_id,\n                  resolve: resolve,\n                  reject: reject\n                });\n\n              case 9:\n\n                // create options\n                options = {\n                  tools: _this4.config.tools.add,\n                  startstopediting: false,\n                  action: 'add',\n                  selected: qgs_layer_id.length === 1\n                };\n                // return all toolboxes\n\n                _context3.next = 12;\n                return _this4.startEditing(qgs_layer_id, options);\n\n              case 12:\n                toolboxes = _context3.sent;\n\n                toolboxes = toolboxes.filter(function (toolboxPromise) {\n                  return toolboxPromise.status === 'fulfilled';\n                }).map(function (toolboxPromise) {\n                  return toolboxPromise.value;\n                });\n                !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                toolbox = toolboxes.length === 1 && toolboxes[0];\n\n                toolbox && toolbox.setActiveTool(toolbox.getToolById('addfeature'));\n                // // in case of no feature add avent subscribe\n                _this4.addSubscribeEvents('addfeature', { properties: properties, toolboxes: toolboxes });\n                _this4.addSubscribeEvents('closeeditingpanel', { qgs_layer_id: qgs_layer_id });\n\n              case 19:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * Method called when we want update a know feature field\n   * @param config\n   * @returns {Promise<unknown>}\n   */\n  this.update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _this5 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt('return', new Promise(function () {\n              var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n                var configQglLayerId, data, feature, qgs_layer_id, response, found, options;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (!_this5.isRunning) {\n                          _context4.next = 4;\n                          break;\n                        }\n\n                        reject();\n                        _context4.next = 22;\n                        break;\n\n                      case 4:\n                        configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                        feature = data.feature;\n                        qgs_layer_id = _this5.getQgsLayerId({\n                          qgs_layer_id: configQglLayerId,\n                          noValue: _this5.dependencyApi.getEditableLayersId()\n                        });\n                        _context4.next = 9;\n                        return _this5.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: true,\n                          selected: qgs_layer_id.length === 1 // set selected toolbox\n                        });\n\n                      case 9:\n                        response = _context4.sent;\n                        found = response.found;\n\n                        if (!found) {\n                          _context4.next = 21;\n                          break;\n                        }\n\n                        _context4.next = 14;\n                        return _this5.startAction({\n                          toolboxes: [response.qgs_layer_id],\n                          resolve: resolve,\n                          reject: reject\n                        });\n\n                      case 14:\n\n                        // create options\n                        options = {\n                          feature: feature,\n                          tools: _this5.config.tools.update,\n                          startstopediting: false,\n                          action: 'update'\n                        };\n\n                        // return all toolboxes\n\n                        _context4.next = 17;\n                        return _this5.startEditing([response.qgs_layer_id], options);\n\n                      case 17:\n                        !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                        _this5.addSubscribeEvents('closeeditingpanel', {\n                          qgs_layer_id: [response.qgs_layer_id]\n                        });\n                        _context4.next = 22;\n                        break;\n\n                      case 21:\n                        reject();\n\n                      case 22:\n                      case 'end':\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, _this5);\n              }));\n\n              return function (_x9, _x10) {\n                return _ref10.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  this.delete = function () {};\n\n  /**\n   * Start editing called when we want to start editing\n   * @param qgs_layer_id\n   * @param options\n   * @returns {Promise<unknown|void>}\n   */\n  this.startEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var _this6 = this;\n\n    var qgs_layer_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$action, action, feature, filter, startEditingPromise;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _options$action = options.action, action = _options$action === undefined ? 'add' : _options$action, feature = options.feature;\n            filter = {};\n\n            options.filter = filter;\n            _context6.t0 = action;\n            _context6.next = _context6.t0 === 'add' ? 6 : _context6.t0 === 'update' ? 8 : 10;\n            break;\n\n          case 6:\n            filter.nofeatures = true;\n            return _context6.abrupt('break', 10);\n\n          case 8:\n            filter.field = feature.field + '|eq|' + feature.value;\n            return _context6.abrupt('break', 10);\n\n          case 10:\n            startEditingPromise = [];\n\n            qgs_layer_id.forEach(function (layerid) {\n              startEditingPromise.push(_this6.dependencyApi.startEditing(layerid, options));\n            });\n            _context6.next = 14;\n            return Promise.allSettled(startEditingPromise);\n\n          case 14:\n            return _context6.abrupt('return', _context6.sent);\n\n          case 15:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   * Stop editing\n   * @param qgs_layer_id\n   * @returns {Promise<unknown>}\n   */\n  this.stopEditing = function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(qgs_layer_id) {\n      var _this7 = this;\n\n      var stopEditingPromises;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              stopEditingPromises = [];\n\n              qgs_layer_id.forEach(function (layerid) {\n                stopEditingPromises.push(_this7.dependencyApi.stopEditing(layerid));\n              });\n              _context7.next = 4;\n              return Promise.allSettled(stopEditingPromises);\n\n            case 4:\n              this.clear();\n\n            case 5:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    return function (_x13) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  this.stop = function () {\n    var _this8 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this8.dependencyApi.hidePanel();\n      _gui2.default.hideSidebar();\n      _this8.once('clear', resolve);\n    });\n  };\n\n  /**\n   * Method called wen we want to reset default editing plugin behaviour\n   *\n   * */\n  this.clear = function () {\n    this.dependencyApi.resetDefault();\n    this.isRunning = false;\n    this.responseObject = {\n      cb: null, // resolve or reject promise method\n      qgs_layer_id: null,\n      error: null\n    };\n    this.resetSubscribeEvents();\n    this.emit('clear');\n  };\n}\n\ninherit(EditingService, BasePluginService);\n\nexports.default = new EditingService();\n\n},{\"core/iframe/services/plugins/service\":18,\"services/gui\":349}],352:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod,\n    uniqueId = _require.uniqueId;\n\nfunction IframePluginService() {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //project is current project send by application service\n  this.pendingactions = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref2.project;\n\n    var layers, serviceNames, i, service;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _gui2.default.isReady();\n\n          case 2:\n            this.services = require('core/iframe/services/index');\n            //set eventResponse handler to alla services\n            this.eventResponseServiceHandler = function (_ref3) {\n              var action = _ref3.action,\n                  response = _ref3.response;\n\n              _this.postMessage({\n                id: null,\n                action: action,\n                response: response\n              });\n            };\n            /*\n            get layer attributes from project layers state\n             */\n            layers = project.state.layers.map(function (layer) {\n              return {\n                id: layer.id,\n                name: layer.name\n              };\n            });\n            //initialize all service\n\n            serviceNames = Object.keys(this.services);\n            i = 0;\n\n          case 7:\n            if (!(i < serviceNames.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            service = this.services[serviceNames[i]];\n            // set common layer attribute service just one time\n\n            service.getLayers() === undefined && service.setLayers(layers);\n            _context.next = 12;\n            return service.init();\n\n          case 12:\n            service.on('response', this.eventResponseServiceHandler);\n\n          case 13:\n            i++;\n            _context.next = 7;\n            break;\n\n          case 16:\n            /**\n             * Send post message is ready\n             */\n            this.postMessage({\n              id: null,\n              action: \"app:ready\",\n              response: {\n                result: true,\n                data: {\n                  layers: layers\n                }\n              }\n            });\n\n            if (window.addEventListener) window.addEventListener(\"message\", this.getMessage, false);else window.attachEvent(\"onmessage\", this.getMessage);\n\n          case 18:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   * Outputplace iframe get by DataRouteService\n   * @param dataPromise\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.outputDataPlace = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _options$action, action, _ref5, result, _ref5$data, data, parser, outputData;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _options$action = options.action, action = _options$action === undefined ? 'app:results' : _options$action;\n              _context2.next = 3;\n              return dataPromise;\n\n            case 3:\n              _ref5 = _context2.sent;\n              result = _ref5.result;\n              _ref5$data = _ref5.data;\n              data = _ref5$data === undefined ? [] : _ref5$data;\n              parser = new ol.format.GeoJSON();\n              outputData = [];\n\n              try {\n                outputData = data.map(function (_ref6) {\n                  var layer = _ref6.layer,\n                      features = _ref6.features;\n                  return _defineProperty({}, layer.getId(), {\n                    features: parser.writeFeatures(features)\n                  });\n                });\n              } catch (err) {\n                result: false;\n                outputData: err;\n              }\n              this.postMessage({\n                id: null,\n                action: action,\n                response: {\n                  result: result,\n                  data: outputData\n                }\n              });\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // method to post message to parent\n  this.postMessage = function () {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  };\n\n  this.stopPendingActions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var promises;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promises = [];\n\n            Object.keys(this.pendingactions).forEach(function (id) {\n              var context = _this2.pendingactions[id].context;\n\n              promises.push(_this2.services[context].stop());\n              delete _this2.pendingactions[id];\n            });\n            return _context3.abrupt('return', Promise.allSettled(promises));\n\n          case 3:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  // method to handle all message from window\n  this.getMessage = function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(evt) {\n      var _evt$data, _evt$data$id, id, _evt$data$single, single, action, params, _splitContextAndMetho, context, method, result, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(evt && evt.data)) {\n                _context4.next = 24;\n                break;\n              }\n\n              _evt$data = evt.data, _evt$data$id = _evt$data.id, id = _evt$data$id === undefined ? uniqueId() : _evt$data$id, _evt$data$single = _evt$data.single, single = _evt$data$single === undefined ? true : _evt$data$single, action = _evt$data.action, params = _evt$data.data;\n              _splitContextAndMetho = splitContextAndMethod(action), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              result = false;\n              data = void 0;\n              _context4.prev = 5;\n\n              if (!_this3.services[context].getReady()) {\n                _context4.next = 16;\n                break;\n              }\n\n              _context4.t0 = single;\n\n              if (!_context4.t0) {\n                _context4.next = 11;\n                break;\n              }\n\n              _context4.next = 11;\n              return _this3.stopPendingActions();\n\n            case 11:\n              _this3.pendingactions[id] = {\n                context: context\n              };\n              _context4.next = 14;\n              return _this3.services[context][method](params);\n\n            case 14:\n              data = _context4.sent;\n\n              result = true;\n\n            case 16:\n              _context4.next = 22;\n              break;\n\n            case 18:\n              _context4.prev = 18;\n              _context4.t1 = _context4['catch'](5);\n\n              result = false;\n              data = _context4.t1;\n\n            case 22:\n              _this3.postMessage({\n                id: id,\n                action: action,\n                response: {\n                  result: result,\n                  data: data\n                }\n              });\n              delete _this3.pendingactions[id];\n\n            case 24:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, _this3, [[5, 18]]);\n    }));\n\n    return function (_x6) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  // Called when change map or clear\n  this.clear = function () {\n    var serviceNames = Object.keys(this.services);\n    for (var i = 0; i < serviceNames.length; i++) {\n      var service = this.services[serviceNames[i]];\n      service.off('response', this.eventResponseServiceHandler);\n    }\n    this.stopPendingActions();\n    if (window.removeEventListener) window.removeEventListener(\"message\", this.getMessage, false);else window.detachEvent(\"onmessage\", this.getMessage);\n  };\n}\n\nexports.default = new IframePluginService();\n\n},{\"core/iframe/services/index\":17,\"core/utils/utils\":68,\"services/gui\":349}],353:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// service sidebar\nfunction navbaritemsService() {\n  this.state = {\n    items: {\n      left: [],\n      right: []\n    }\n  };\n  this.addItem = function (item) {\n    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'right';\n\n    this.state.items[position].push(item);\n  };\n\n  base(this);\n}\n\ninherit(navbaritemsService, G3WObject);\n\nexports.default = new navbaritemsService();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],354:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    uniqueId = _require2.uniqueId,\n    createFilterFromString = _require2.createFilterFromString,\n    XHR = _require2.XHR;\n\nvar QUERYBUILDERSEARCHES = 'QUERYBUILDERSEARCHES';\n\nfunction QueryBuilderService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._cacheValues = {};\n  this._items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES) || {};\n}\n\nvar proto = QueryBuilderService.prototype;\n\nproto.getCurrentProjectItems = function () {\n  var projectId = _projects2.default.getCurrentProject().getId();\n  this._items[projectId] = this._items[projectId] || [];\n  return this._items[projectId];\n};\n\nproto.getItems = function (projectId) {\n  var items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  return items ? items[projectId] || [] : [];\n};\n\nproto._getLayerById = function (layerId) {\n  return _catalogLayers2.default.getLayerById(layerId);\n};\n\nproto.getValues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref2.layerId,\n      field = _ref2.field;\n\n  var valuesField, layer, dataUrl, response;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          this._cacheValues[layerId] = this._cacheValues[layerId] || {};\n          valuesField = this._cacheValues[layerId][field];\n\n          if (!(valuesField === undefined)) {\n            _context.next = 18;\n            break;\n          }\n\n          _context.prev = 3;\n          layer = this._getLayerById(layerId);\n          dataUrl = layer.getUrl('data');\n          _context.next = 8;\n          return XHR.get({\n            url: dataUrl,\n            params: {\n              ordering: field,\n              unique: field\n            }\n          });\n\n        case 8:\n          response = _context.sent;\n\n          if (response.result) this._cacheValues[layerId][field] = this._cacheValues[layerId][field] || response.data;\n          return _context.abrupt('return', this._cacheValues[layerId][field] || []);\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context['catch'](3);\n\n          reject();\n\n        case 16:\n          _context.next = 19;\n          break;\n\n        case 18:\n          return _context.abrupt('return', valuesField);\n\n        case 19:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 13]]);\n}));\n\nproto.run = function () {\n  var _this = this;\n\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref3.layerId,\n      stringFilter = _ref3.filter,\n      _ref3$showResult = _ref3.showResult,\n      showResult = _ref3$showResult === undefined ? true : _ref3$showResult;\n\n  return new Promise(function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var layer, search_endpoint, filter, _ref5, data;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              layer = _this._getLayerById(layerId);\n              search_endpoint = layer.getSearchEndPoint();\n              filter = createFilterFromString({\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: stringFilter\n              });\n              _context2.prev = 3;\n              _context2.next = 6;\n              return _data3.default.getData('search:features', {\n                inputs: {\n                  layer: layer,\n                  filter: filter,\n                  search_endpoint: search_endpoint,\n                  feature_count: 100\n                },\n                outputs: showResult\n              });\n\n            case 6:\n              _ref5 = _context2.sent;\n              data = _ref5.data;\n\n              resolve(data);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2['catch'](3);\n\n              _gui2.default.showUserMessage({\n                type: 'alert',\n                message: 'sdk.querybuilder.error_run',\n                autoclose: true\n              });\n              reject(_context2.t0);\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this, [[3, 11]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nproto.test = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref7.layerId,\n      filter = _ref7.filter;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return this.run({\n            layerId: layerId,\n            filter: filter,\n            showResult: false\n          });\n\n        case 3:\n          data = _context3.sent;\n          return _context3.abrupt('return', data.length && data[0].features.length);\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3['catch'](0);\n\n          _context3.t0 = t('sdk.querybuilder.error_test');\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 11:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 7]]);\n}));\n\nproto.delete = function () {\n  var _this2 = this;\n\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id;\n\n  return new Promise(function (resolve, reject) {\n    _gui2.default.dialog.confirm(t('sdk.querybuilder.delete'), function (result) {\n      if (result) {\n        var querybuildersearches = _this2.getItems().filter(function (item) {\n          return item.id !== id;\n        });\n        var projectId = _projects2.default.getCurrentProject().getId();\n        var saveitems = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n        if (querybuildersearches.length) saveitems[projectId] = querybuildersearches;else delete saveitems[projectId];\n        if (Object.keys(saveitems).length) _application2.default.setLocalItem({\n          id: QUERYBUILDERSEARCHES,\n          data: saveitems\n        });else _application2.default.removeLocalItem(QUERYBUILDERSEARCHES);\n        resolve();\n      } else reject();\n    });\n  });\n};\n\nproto.editLocalItem = function (projectId, querybuildersearch) {\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  querybuildersearches[projectId].find(function (_querybuildersearch, index) {\n    if (_querybuildersearch.id === querybuildersearch.id) {\n      querybuildersearches[projectId][index] = querybuildersearch;\n      return true;\n    }\n  });\n  _application2.default.setLocalItem({\n    id: QUERYBUILDERSEARCHES,\n    data: querybuildersearches\n  });\n  this._resetItems(projectId, querybuildersearches[projectId]);\n};\n\nproto._resetItems = function (projectId, querybuildersearches) {\n  var _this3 = this;\n\n  setTimeout(function () {\n    querybuildersearches.forEach(function (querybuildersearch) {\n      return _this3._items[projectId].push(querybuildersearch);\n    });\n  }, 0);\n  this._items[projectId].splice(0);\n};\n\nproto.addLocalItem = function (projectId, querybuildersearch) {\n  querybuildersearch.id = uniqueId();\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  if (querybuildersearches === undefined) {\n    var _querybuildersearches = [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: _defineProperty({}, projectId, _querybuildersearches)\n    });\n    this._resetItems(projectId, _querybuildersearches);\n  } else {\n    querybuildersearches[projectId] = querybuildersearches[projectId] ? [].concat(_toConsumableArray(querybuildersearches[projectId]), [querybuildersearch]) : [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: querybuildersearches\n    });\n    this._resetItems(projectId, querybuildersearches[projectId]);\n  }\n};\n\nproto.save = function () {\n  var _this4 = this;\n\n  var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref9.id,\n      name = _ref9.name,\n      layerId = _ref9.layerId,\n      filter = _ref9.filter,\n      projectId = _ref9.projectId;\n\n  var layerName = this._getLayerById(layerId).getName();\n  var querybuildersearch = {\n    layerId: layerId,\n    filter: filter,\n    layerName: layerName\n  };\n  if (id) {\n    querybuildersearch.name = name;\n    querybuildersearch.id = id;\n    this.editLocalItem(projectId, querybuildersearch);\n    _gui2.default.showUserMessage({\n      type: 'success',\n      message: t(\"sdk.querybuilder.messages.changed\"),\n      autoclose: true\n    });\n    return;\n  }\n  _gui2.default.dialog.prompt(t('sdk.querybuilder.additem'), function (result) {\n    if (result) {\n      var searchService = _gui2.default.getComponent('search').getService();\n      querybuildersearch.name = result;\n      searchService.addQueryBuilderSearch(querybuildersearch);\n      _this4.addLocalItem(projectId, querybuildersearch);\n      _gui2.default.showUserMessage({\n        type: 'success',\n        message: t(\"sdk.querybuilder.messages.changed\"),\n        autoclose: true\n      });\n    }\n  });\n};\n\nproto.all = function () {};\n\nproto.sample = function () {};\n\nproto.clear = function () {\n  this._cacheValues = {};\n};\n\nproto.add = function () {};\n\nexports.default = new QueryBuilderService();\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"services/application\":339,\"services/data\":346,\"services/gui\":349,\"store/catalog-layers\":362,\"store/projects\":367}],355:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    XHR = _require.XHR,\n    base = _require.base,\n    createSingleFieldParameter = _require.createSingleFieldParameter;\n\nvar _require2 = require('core/utils/geo'),\n    sanitizeFidFeature = _require2.sanitizeFidFeature,\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n}\n\ninherit(RelationsService, G3WObject);\n\nvar proto = RelationsService.prototype;\n\nproto.createUrl = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var currentProject = _projects2.default.getCurrentProject();\n  // type : <editing, data, xls>\n  var _options$layer = options.layer,\n      layer = _options$layer === undefined ? {} : _options$layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? {} : _options$relation,\n      fid = options.fid,\n      _options$type = options.type,\n      type = _options$type === undefined ? 'data' : _options$type,\n      _options$formatter = options.formatter,\n      formatter = _options$formatter === undefined ? 1 : _options$formatter;\n\n  var layerId = void 0;\n  var father = relation.father,\n      child = relation.child,\n      referencedLayer = relation.referencedLayer,\n      referencingLayer = relation.referencingLayer,\n      relationId = relation.id;\n\n  if (father !== undefined) layerId = layer.id === father ? child : father;else layerId = layer.id === referencedLayer ? referencingLayer : referencedLayer;\n  var dataUrl = currentProject.getLayerById(layerId).getUrl(type);\n  var value = sanitizeFidFeature(fid);\n  return dataUrl + '?relationonetomany=' + relationId + '|' + value + '&formatter=' + formatter;\n};\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.get({\n    url: url\n  });\n};\n\n/**\n * Get relations NM\n * @param nmRelation\n * @param features\n * @returns {Promise<[]>}\n */\nproto.getRelationsNM = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nmRelation = _ref2.nmRelation,\n      _ref2$features = _ref2.features,\n      features = _ref2$features === undefined ? [] : _ref2$features;\n\n  var referencedLayer, referencingLayer, _nmRelation$fieldRef, referencingField, referencedField, relationsNM, values, responseFids;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          referencedLayer = nmRelation.referencedLayer, referencingLayer = nmRelation.referencingLayer, _nmRelation$fieldRef = nmRelation.fieldRef, referencingField = _nmRelation$fieldRef.referencingField, referencedField = _nmRelation$fieldRef.referencedField;\n          relationsNM = []; // start with empty relations result\n\n          if (!features.length) {\n            _context.next = 8;\n            break;\n          }\n\n          values = features.map(function (feature) {\n            return feature.attributes[referencingField];\n          });\n          _context.next = 6;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: _catalogLayers2.default.getLayerById(referencedLayer),\n              filter: '' + createSingleFieldParameter({\n                field: referencedField,\n                value: values,\n                logicop: 'OR'\n              }),\n              formatter: 1, // set formatter to\n              search_endpoint: 'api'\n            },\n            outputs: null\n          });\n\n        case 6:\n          responseFids = _context.sent;\n\n          if (responseFids.data && responseFids.data[0] && Array.isArray(responseFids.data[0].features)) {\n            relationsNM = responseFids.data[0].features.map(function (feature) {\n              var attributes = getAlphanumericPropertiesFromFeature(feature.getProperties()).reduce(function (accumulator, property) {\n                accumulator[property] = feature.get(property);\n                return accumulator;\n              }, {});\n              return {\n                id: feature.getId(),\n                attributes: attributes,\n                geometry: feature.getGeometry()\n              };\n            });\n          }\n\n        case 8:\n          return _context.abrupt('return', relationsNM);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.save = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.fileDownload({\n    url: url,\n    httpMethod: \"GET\"\n  });\n};\n\nexports.default = new RelationsService();\n\n},{\"core/g3wobject\":13,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/data\":346,\"store/catalog-layers\":362,\"store/projects\":367}],356:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    Base64 = _require.Base64;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n * RouterService based on  History.js (https://github.com/browserstate/history.js) e Crossroads (https://github.com/millermedeiros/crossroads.js)\n * Base concept is RouteQuery, example \"map?point=21.2,42.1&zoom=12\",\n * it inserts into browser and URL as quesrystring (q=map@point!21.2,41.1|zoom!12).\n * To run RouteQuery:\n *\n * RouterService.goto(\"map?point=21.2,42.1&zoom=12\");\n *\n *To listen to router has to be add  RouterService.addRoute(pattern, callback). Es.:\n *\n * var route = RouterService.addRoute('map/{?query}',function(query){\n *  console.log(query.point);\n *  console.log(query.zoom);\n * });\n *\n * Patterns:\n *  \"map/{foo}\": la porzione \"foo\" is request, and is passed as parameter in callback\n *  \"map/:foo:\": la porzione \"foo\" è optional, \n *  \"map/:foo*: \n *  \"map/{?querystring}\": mandatory\n *  \"map/:?querystring:\": optionals\n *\n * to remove  route:\n * RouterService.removeRoute(route);\n*/\n\ncrossroads.ignoreState = true;\ncrossroads.greedy = true;\n\nvar RouterService = function RouterService() {\n\n  this._initialLocationQuery;\n  this._routeQuery = '';\n  this.setters = {\n    setRouteQuery: function setRouteQuery(routeQuery) {\n      this._routeQuery = routeQuery;\n      crossroads.parse(routeQuery);\n    }\n  };\n\n  base(this);\n};\ninherit(RouterService, G3WObject);\n\nvar proto = RouterService.prototype;\n\nproto.init = function () {\n  //Return the querystring part of a URL\n  var query = window.location.search;\n  this._setRouteQueryFromLocationQuery(query);\n};\n\nproto.addRoute = function (pattern, handler, priority) {\n  return crossroads.addRoute(pattern, handler, priority);\n};\n\nproto.removeRoute = function (route) {\n  return crossroads.removeRoute(route);\n};\n\nproto.removeAllRoutes = function () {\n  return crossroads.removeAllRoutes();\n};\n\nproto.parse = function (request, defaultArgs) {\n  return crossroads.parse(request, defaultArgs);\n};\n\nproto.goto = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  if (routeQuery) {\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto.makePermalink = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  var encodedRouteQuery = this._encodeRouteQuery(routeQuery);\n  //encodedRouteQuery = Base64.encode(encodedRouteQuery);\n  return '?' + this._initialLocationQuery + '&q=' + this._encodeRouteQuery(routeQuery);\n};\n\nproto.makeQueryString = function (queryParams) {};\n\nproto.slicePath = function (path) {\n  return path.split('?')[0].split('/');\n};\n\nproto.sliceFirst = function (path) {\n  var pathAndQuery = path.split('?');\n  var queryString = pathAndQuery[1];\n  var pathArr = pathAndQuery[0].split('/');\n  var firstPath = pathArr[0];\n  path = pathArr.slice(1).join('/');\n  path = [path, queryString].join('?');\n  return [firstPath, path];\n};\n\nproto.getQueryParams = function (query) {\n  query = query.replace('?', '');\n  var queryParams = {};\n  var queryPairs = [];\n  if (query != \"\" && query.indexOf(\"&\") == -1) {\n    queryPairs = [query];\n  } else {\n    queryPairs = query.split('&');\n  }\n  try {\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      var value = pair[1];\n      queryParams[key] = value;\n    });\n  } catch (e) {}\n  return queryParams;\n};\n\nproto.getQueryString = function (path) {\n  return path.split('?')[1];\n};\n\nproto._getQueryPortion = function (query, queryKey) {\n  var queryPortion;\n  try {\n    var queryPairs = query.split('&');\n    var queryParams = {};\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      if (key == queryKey) {\n        queryPortion = queryPair;\n      }\n    });\n  } catch (e) {}\n  return queryPortion;\n};\n\nproto._encodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('?', '@');\n  routeQuery = routeQuery.replace('&', '|');\n  routeQuery = routeQuery.replace('=', '!');\n  return routeQuery;\n};\n\nproto._decodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('@', '?');\n  routeQuery = routeQuery.replace('|', '&');\n  routeQuery = routeQuery.replace('!', '=');\n  return routeQuery;\n};\n\nproto._setRouteQueryFromLocationQuery = function (locationQuery) {\n  var encodedRouteQuery = this._getRouteQueryFromLocationQuery(locationQuery);\n  //encodedRouteQuery = Base64.decode(encodedRouteQuery);\n  if (encodedRouteQuery) {\n    var routeQuery = this._decodeRouteQuery(encodedRouteQuery);\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto._getRouteQueryFromLocationQuery = function (locationQuery) {\n  return this.getQueryParams(locationQuery)['q'];\n};\n\nproto._stripInitialQuery = function (locationQuery) {\n  var previousQuery = this._getQueryPortion(locationQuery, 'q');\n  if (previousQuery) {\n    var previousQueryLength = previousQuery.length;\n    var previousQueryPosition = locationQuery.indexOf(previousQuery);\n    queryPrefix = _.trimEnd(locationQuery.substring(0, previousQueryPosition), \"&\");\n    querySuffix = locationQuery.substring(previousQueryPosition + previousQueryLength);\n    querySuffix = queryPrefix != \"\" ? querySuffix : _.trimStart(querySuffix, \"&\");\n    locationQuery = queryPrefix + querySuffix;\n  }\n  return locationQuery;\n};\n\nexports.default = new RouterService();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],357:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.7\n                                                                                                                                                                                                                                                                   */\n\nvar _SidebarItem = require('components/SidebarItem.vue');\n\nvar _SidebarItem2 = _interopRequireDefault(_SidebarItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * TODO: temporary need to remove it\n */\nvar SidebarItem = Vue.extend(_SidebarItem2.default);\n\nfunction SidebarService() {\n  //set sidebar stack\n  this.stack = new Stack();\n  // set setter for close sidebarpanel to catch event\n  // of closing panel of the sidebar\n  this.setters = {\n    closeSidebarPanel: function closeSidebarPanel() {},\n    openCloseItem: function openCloseItem(bool) {}\n  };\n  //service state\n  this.state = {\n    components: [],\n    gui: {\n      title: ''\n    },\n    disabled: false\n  };\n  //inizialize method\n  this.init = function (layout) {\n    this.layout = layout;\n  };\n  // add component to sidebar\n  this.addComponents = function (components) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    //for each component of the sidebar it is call addComponent method\n    components.forEach(function (component) {\n      return _this.addComponent(component, options);\n    });\n    return true;\n  };\n  // add each component to the sidebar\n  // add also position insiede the sidebar\n  this.addComponent = function (component) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position,\n        _options$before = options.before,\n        before = _options$before === undefined ? true : _options$before,\n        info = options.info;\n\n    if (isMobile.any && !component.mobile) {\n      return false;\n    }\n    var sidebarItem = new SidebarItem({\n      service: this,\n      info: info,\n      component: component\n    });\n    sidebarItem.title = component.title || sidebarItem.title;\n    sidebarItem.info = component.info || sidebarItem.info;\n    sidebarItem.actions = component.actions || sidebarItem.actions;\n    sidebarItem.open = component.state.open; //(component.open === undefined) ? sidebarItem.open : component.open;\n    sidebarItem.icon = component.icon || sidebarItem.icon;\n    sidebarItem.iconColor = component.iconColor;\n    sidebarItem.state = component.state || true;\n    sidebarItem.collapsible = typeof component.collapsible === 'boolean' ? component.collapsible : true;\n    sidebarItem.isolate = typeof component.isolate === 'boolean' ? component.isolate : false;\n    //append component to  g3w-sidebarcomponents (template sidebar.html)\n    var DOMComponent = sidebarItem.$mount().$el;\n    this.state.components.push(component);\n    var isPanelSidebarShow = $('.g3w-sidebarpanel').is(':visible');\n    var sidebarcomponetsdomid = '#g3w-sidebarcomponents' + (isPanelSidebarShow ? ':hidden' : '');\n    var children = $(sidebarcomponetsdomid).children().filter(function () {\n      return this.style.display !== 'none';\n    });\n    var childrenLength = children.length;\n    if (position === null || position === undefined || position < 0 || position >= childrenLength) $(sidebarcomponetsdomid).append(DOMComponent);else children.each(function (index, element) {\n      var findElementIndexId = Number.isInteger(position) ? position === index : element.id === position;\n      findElementIndexId && $(DOMComponent)['insert' + (before ? 'Before' : 'After')](element);\n    });\n    //mount componet to g3w-sidebarcomponent-placeholder (template sidebar-item.html);\n    component.mount(\"#g3w-sidebarcomponent-placeholder\");\n    // check if componentonent has iniService method\n    component.initService && component.initService();\n    // add click handler\n    this.setComponentClickHandler(component);\n    return true;\n  };\n\n  this.setComponentClickHandler = function (component) {\n    component.click = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$open = _ref.open,\n          open = _ref$open === undefined ? false : _ref$open;\n\n      open = open || false;\n      $(component.getInternalComponent().$el).siblings('a').click();\n      component.setOpen(open);\n    };\n  };\n\n  // get component by id\n  this.getComponent = function (id) {\n    return this.state.components.find(function (component) {\n      return component.getId() === id;\n    });\n  };\n\n  // get all components\n  this.getComponents = function () {\n    return this.state.components;\n  };\n\n  /**\n   * close for the moment only conlapsbale\n   */\n  this.closeOpenComponents = function () {\n    var collapsible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.getComponents().forEach(function (component) {\n      return component.closeWhenViewportContentIsOpen() && component.collapsible && component.click({ open: false });\n    });\n  };\n\n  this.reloadComponent = function (id) {\n    var component = this.getComponent(id);\n    component && component.reload();\n  };\n\n  this.reloadComponents = function () {\n    // force close of the panel\n    this.closePanel();\n    this.state.components.forEach(function (component) {\n      if (component.collapsible && component.state.open) component.click({ open: false });\n      component.reload();\n    });\n  };\n  //remove component\n  this.removeComponent = function (component) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position;\n\n    this.state.components.forEach(function (sidebarComponent, index) {\n      if (component === sidebarComponent) {\n        component.unmount();\n        _this2.state.components.splice(index, 1);\n        if (position !== undefined && Number.isInteger(position)) $('#g3w-sidebarcomponents').children(':visible')[position].remove();else $('#g3w-sidebarcomponents').children('#' + component.id).remove();\n        return false;\n      }\n    });\n  };\n  // show panel on stack\n  this.showPanel = function (panel) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      _this3.state.gui.title = panel.title;\n      var parent = \"#g3w-sidebarpanel-placeholder\";\n      _this3.stack.getCurrentContentData() && $(_this3.stack.getCurrentContentData().content.internalPanel.$el).hide();\n      _this3.stack.push(panel, _extends({\n        parent: parent\n      }, options)).then(function (content) {\n        return resolve(content);\n      });\n    });\n  };\n\n  // close panel\n  this.closePanel = function () {\n    var _this4 = this;\n\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.pop().then(function (content) {\n      content = null;\n      _this4.stack.getCurrentContentData() && $(_this4.stack.getCurrentContentData().content.internalPanel.$el).show();\n    });\n  };\n\n  this.closeAllPanels = function () {\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.clear();\n  };\n\n  base(this);\n}\n\ninherit(SidebarService, G3WObject);\n\nexports.default = new SidebarService();\n\n},{\"components/SidebarItem.vue\":289,\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/utils/utils\":184}],358:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\n/**\n * Singletone service to run async task\n * @constructor\n */\n\n\nfunction TaskService() {\n  /**\n   * Array contain all task id that are running. Each item is an object contain:\n   * {\n   *   taskId: //taskId,\n   *   intervalId: interval to clear clearInterval()\n   * }\n   **/\n  var tasks = [];\n  /**\n   *\n   * @param options: {\n   *   method: http method to run task GET/POST\n   *   url: api request url (that server start in background task)\n   *   taskUrl = url to ask the status og task\n   *   params: Object contain param to http/https request\n   *   interval: interval in milliseconds to do a request for ask status of task (default 10000 - 1 second)\n   *   listener: ()=>{} method to call\n   *\n   * }\n   *\n   * return a Promise that return a task id\n   */\n  this.runTask = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _options$method, method, _options$params, params, url, taskUrl, _options$interval, interval, _options$timeout, timeout, _options$listener, listener, response, result, task_id, intervalId;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _options$method = options.method, method = _options$method === undefined ? 'GET' : _options$method, _options$params = options.params, params = _options$params === undefined ? {} : _options$params, url = options.url, taskUrl = options.taskUrl, _options$interval = options.interval, interval = _options$interval === undefined ? 1000 : _options$interval, _options$timeout = options.timeout, timeout = _options$timeout === undefined ? Infinity : _options$timeout, _options$listener = options.listener, listener = _options$listener === undefined ? function () {} : _options$listener;\n            _context2.prev = 1;\n\n            if (!(method === 'GET')) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return XHR.get({\n              url: url,\n              params: params\n            });\n\n          case 5:\n            _context2.t0 = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.next = 10;\n            return XHR.post({\n              url: url,\n              data: params.data || {},\n              contentType: params.contentType || \"application/json\"\n            });\n\n          case 10:\n            _context2.t0 = _context2.sent;\n\n          case 11:\n            response = _context2.t0;\n            result = response.result, task_id = response.task_id;\n\n            if (!result) {\n              _context2.next = 19;\n              break;\n            }\n\n            intervalId = setInterval(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var _response;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // check if timeout is defined\n                      timeout = timeout - interval;\n\n                      if (!(timeout > 0)) {\n                        _context.next = 15;\n                        break;\n                      }\n\n                      _response = void 0;\n                      _context.prev = 3;\n                      _context.next = 6;\n                      return XHR.get({\n                        url: '' + taskUrl + task_id\n                      });\n\n                    case 6:\n                      _response = _context.sent;\n                      _context.next = 12;\n                      break;\n\n                    case 9:\n                      _context.prev = 9;\n                      _context.t0 = _context['catch'](3);\n\n                      _response = _context.t0;\n\n                    case 12:\n                      listener({\n                        task_id: task_id,\n                        timeout: false,\n                        response: _response\n                      });\n                      _context.next = 17;\n                      break;\n\n                    case 15:\n                      listener({\n                        timeout: true\n                      });\n                      _this.stopTask({\n                        task_id: task_id\n                      });\n\n                    case 17:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[3, 9]]);\n            })), interval);\n\n            // add current task to list of task\n\n            tasks.push({\n              task_id: task_id,\n              intervalId: intervalId\n            });\n\n            // run first time listener function\n            listener({\n              task_id: task_id,\n              response: response\n            });\n            _context2.next = 20;\n            break;\n\n          case 19:\n            return _context2.abrupt('return', Promise.reject(response));\n\n          case 20:\n            _context2.next = 25;\n            break;\n\n          case 22:\n            _context2.prev = 22;\n            _context2.t1 = _context2['catch'](1);\n            return _context2.abrupt('return', Promise.reject(_context2.t1));\n\n          case 25:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 22]]);\n  }));\n\n  /**\n   *\n   * @param options: {\n   *   taskId: taskId that is running\n   * }\n   */\n  this.stopTask = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var task_id = options.task_id;\n\n    var task = tasks.find(function (task) {\n      return task.task_id === task_id;\n    });\n    if (task) clearInterval(task.intervalId);\n  };\n\n  /**\n   * clare all task\n   */\n  this.clear = function () {\n    var _this2 = this;\n\n    tasks.forEach(function (_ref3) {\n      var taskId = _ref3.taskId;\n\n      _this2.stopTask({\n        taskId: taskId\n      });\n    });\n    //reset to empty tasks\n    tasks.splice(0);\n  };\n}\n\n/**\n * SERVER\n * \"\"\"Returns the (possibly) new layer ID where the isochrone\n data has been added. If the task has not yet completed a status message is returned\n\n Note: `project_id` is only used for permissions checking!\n\n Returns 500 in case of exceptions\n Returns 404 in case of task not found\n Returns 200 ok for all other cases\n\n Response body:\n\n {\n            \"status\": \"complete\",  // or \"pending\" or \"error\", full list at\n                                   // https://huey.readthedocs.io/en/latest/signals.html#signals\n            \"exception\": \"Normally empty, error message in case of errors\",\n            \"progress\": [\n                100,  // Progress %\n            ],\n            \"task_result\": {\n                \"qgis_ayer_id\": \"4f2a88a1-ca93-4859-9de3-75d9728cde0e\"\n            }\n        }\n\n **/\n\nexports.default = new TaskService();\n\n},{\"core/utils/utils\":68}],359:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\nvar ViewportService = function ViewportService() {\n  // state of viewport\n  this.state = {\n    primaryView: 'map', // primary view (default)\n    // percentage of secondary view\n    secondaryPerc: 0, // setted to 0 at beginning (not visible)\n    // used to store if content vertical or horizontal is  changed by resised\n    resized: {\n      start: false,\n      'h': false,\n      'v': false\n    },\n    // splitting orientation (h = horizontal, v = vertical)\n    split: 'h',\n    //map\n    map: {\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      aside: false\n    },\n    //content\n    content: {\n      loading: false,\n      disabled: false,\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      // store the resize vertical or horizontal\n      resize: {\n        'h': {\n          perc: 0\n        },\n        'v': {\n          perc: 0\n        }\n      },\n      aside: true,\n      showgoback: true,\n      stack: [], // array elements of  stack contents\n      closable: true, // (x) is closable\n      backonclose: false, // back on prevoius content\n      contentsdata: [] // content data array\n    },\n    usermessage: {\n      id: null, // unique identify\n      show: false,\n      title: null,\n      message: null,\n      position: null,\n      type: null,\n      draggable: null,\n      cloasable: null,\n      autoclose: null,\n      textMessage: false,\n      hooks: {\n        header: null,\n        body: null,\n        footer: null\n      }\n    }\n  };\n  // content of viewport (map and content)\n  this._components = {\n    map: null,\n    content: null\n  };\n  // default contents\n  this._defaultMapComponent;\n  this._contextualMapComponent;\n\n  // minimun height and width of secondary view\n  this._secondaryViewMinWidth = _constant.VIEWPORT.resize.content.min;\n  this._secondaryViewMinHeight = _constant.VIEWPORT.resize.content.min;\n  this._immediateComponentsLayout = true;\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _options$primaryview = options.primaryview,\n        primaryview = _options$primaryview === undefined ? 'map' : _options$primaryview,\n        _options$split = options.split,\n        split = _options$split === undefined ? 'h' : _options$split,\n        components = options.components;\n    // check if it set primary view (map is default)\n\n    this.state.primaryView = primaryview;\n    // check splitting property\n    this.state.split = split;\n    // add component (map and content)\n    this._addComponents(components);\n  };\n\n  // Method to set true or false of content\n  this.setResized = function (type) {\n    var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.state.resized[type] = bool;\n  };\n\n  this.showUserMessage = function () {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        title = _ref.title,\n        subtitle = _ref.subtitle,\n        message = _ref.message,\n        type = _ref.type,\n        position = _ref.position,\n        size = _ref.size,\n        draggable = _ref.draggable,\n        duration = _ref.duration,\n        _ref$textMessage = _ref.textMessage,\n        textMessage = _ref$textMessage === undefined ? false : _ref$textMessage,\n        closable = _ref.closable,\n        autoclose = _ref.autoclose,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    this.closeUserMessage();\n    setTimeout(function () {\n      _this.state.usermessage.id = uniqueId();\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.message = message;\n      _this.state.usermessage.textMessage = textMessage;\n      _this.state.usermessage.title = title;\n      _this.state.usermessage.subtitle = subtitle;\n      _this.state.usermessage.position = position;\n      _this.state.usermessage.duration = duration;\n      _this.state.usermessage.type = type;\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.size = size;\n      _this.state.usermessage.autoclose = autoclose;\n      _this.state.usermessage.closable = closable;\n      _this.state.usermessage.draggable = draggable;\n      _this.state.usermessage.hooks.header = hooks.header; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.body = hooks.body; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.footer = hooks.footer; // has to be a vue component or vue object\n    });\n    return this.state.usermessage;\n  };\n\n  this.closeUserMessage = function () {\n    this.state.usermessage.id = null;\n    this.state.usermessage.show = false;\n    this.state.usermessage.textMessage = false;\n    this.state.usermessage.message = '';\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.getMapState = function () {\n    return this.state.map;\n  };\n\n  this.getContentState = function () {\n    return this.state.content;\n  };\n\n  this.setLoadingContent = function () {\n    var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.state.content.loading = loading;\n  };\n\n  this._addComponents = function (components) {\n    var _this2 = this;\n\n    // components is an object\n    //(index.js)\n    /*\n     {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'contents'\n      })\n     }\n     */\n    Object.entries(components).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          viewName = _ref3[0],\n          component = _ref3[1];\n\n      // check if component are map or content\n      if (Object.keys(_this2._components).indexOf(viewName) > -1) {\n        component.mount('#g3w-view-' + viewName, true).then(function () {\n          _this2._components[viewName] = component;\n          // check if view name is map\n          if (viewName === 'map') _this2._defaultMapComponent = component; // set de default component to map\n        }).fail(function (err) {\n          return console.log(err);\n        });\n      }\n    });\n  };\n\n  this.showMap = function () {\n    this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    this._components['map'] = this._defaultMapComponent;\n    this._showView('map');\n  };\n\n  this.showContextualMap = function () {\n    var _this3 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this._contextualMapComponent) this._contextualMapComponent = this._defaultMapComponent;\n    if (this._contextualMapComponent != this._defaultMapComponent) this._toggleMapComponentVisibility(this._defaultMapComponent, false);\n    if (!this._contextualMapComponent.ismount()) {\n      var contextualMapComponent = this._contextualMapComponent;\n      contextualMapComponent.mount('#g3w-view-map', true).then(function () {\n        return _this3._components['map'] = contextualMapComponent;\n      });\n    } else {\n      this._components['map'] = this._contextualMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, true);\n    }\n    this._showView('map', options);\n  };\n\n  // get default component\n  this.recoverDefaultMap = function () {\n    if (this._components['map'] !== this._defaultMapComponent) {\n      this._components['map'] = this._defaultMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, false);\n      this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    }\n    return this._components['map'];\n  };\n\n  this.setContextualMapComponent = function (mapComponent) {\n    if (mapComponent === this._defaultMapComponent) return;\n    if (this._contextualMapComponent) this._contextualMapComponent.unmount();\n    this._contextualMapComponent = mapComponent;\n  };\n\n  this.resetContextualMapComponent = function () {\n    this._contextualMapComponent && this._contextualMapComponent.unmount();\n    this._contextualMapComponent = this._defaultMapComponent;\n  };\n\n  this._toggleMapComponentVisibility = function (mapComponent, toggle) {\n    mapComponent.internalComponent.$el.style.display = toggle ? 'block' : 'none';\n  };\n\n  // close map method\n  this.closeMap = function () {\n    this.state.secondaryPerc = this.state.primaryView === 'map' ? 100 : 0;\n    this.recoverDefaultMap();\n    this._layout();\n  };\n\n  // show content of the viewport content\n  /*\n   options: {\n     content: (string, jQuery elemento or Vue component)\n     title: Title of the content\n     push: (opyionale, default false): if yes the content is push on top of the stack (contentStack)\n     split: (optional, default 'h'): 'h' || 'v' splitting map and content orientation\n     perc: (optional, default 50): percentage of content\n   }\n   */\n\n  this.showContent = function () {\n    var _this4 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    options.perc = options.perc !== undefined ? options.perc : this.getContentPercentageFromCurrentLayout();\n    // check if push is set\n    options.push = options.push || false;\n    var evenContentName = options.perc === 100 ? 'show-content-full' : 'show-content';\n    // set all content parameters\n    this._prepareContentView(options);\n    // immediate layout false (to understand better)\n    this._immediateComponentsLayout = false;\n    // call show view (in this case content (other is map)\n    this._showView('content', options);\n    this._components.content.setContent(options).then(function () {\n      _this4._immediateComponentsLayout = true;\n      _this4._layoutComponents(evenContentName);\n    });\n  };\n\n  // hide content\n  this.hideContent = function (bool) {\n    var prevContentPerc = this.getContentPercentageFromCurrentLayout(this.state.split);\n    this.state.secondaryVisible = !bool;\n    this._layout('hide-content');\n    // return previous percentage\n    return prevContentPerc;\n  };\n\n  this.resetToDefaultContentPercentage = function () {\n    var currentRightPanel = this.getCurrentContentLayout();\n    currentRightPanel['' + (this.state.split === 'h' ? 'width' : 'height')] = currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_default'];\n    currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = false;\n    this._layoutComponents();\n  };\n\n  this.toggleFullViewContent = function () {\n    _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = !_applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n    this._layoutComponents();\n  };\n\n  this.isFullViewContent = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n  };\n\n  this.contentLength = function () {\n    return this.state.content.contentsdata.length;\n  };\n\n  // pull the last element of contentStack\n  this.popContent = function () {\n    var _this5 = this;\n\n    var d = $.Deferred();\n    // check if content exist compontentStack\n    if (this.state.content.contentsdata.length) {\n      this.recoverDefaultMap();\n      var data = this._components.content.getPreviousContentData();\n      this._prepareContentView(data.options);\n      this._immediateComponentsLayout = false;\n      this._showView('content', data.options);\n      this._components.content.popContent().then(function () {\n        _this5.state.secondaryPerc = data.options.perc;\n        _this5._immediateComponentsLayout = true;\n        _this5._layout('pop-content');\n        d.resolve(_this5._components.contentgetCurrentContentData);\n      });\n    } else d.reject();\n    return d.promise();\n  };\n\n  /**\n   * Return current compoent data\n   * @returns {*}\n   */\n  this.getCurrentContent = function () {\n    return this.contentLength() ? this.state.content.contentsdata[this.contentLength() - 1] : null;\n  };\n\n  this.getCurrentContentTitle = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.title;\n  };\n\n  this.getCurrentContentId = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.id;\n  };\n\n  this.changeCurrentContentOptions = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) {\n      var title = options.title,\n          crumb = options.crumb;\n\n      if (title) currentContent.options.title = title;\n      if (crumb) currentContent.options.crumb = crumb;\n    }\n  };\n\n  this.changeCurrentContentTitle = function () {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) currentContent.options.title = title;\n  };\n\n  this.isContentOpen = function () {\n    return !!this.state.content.contentsdata.length;\n  };\n\n  // close  content\n  this.closeContent = function () {\n    var _this6 = this;\n\n    var d = $.Deferred();\n    if (this.isContentOpen()) {\n      //.setFullViewContent(false);\n      this._components.content.removeContent();\n      // close secondary view( return a promise)\n      this.closeSecondaryView('close-content').then(function () {\n        //recover default map\n        var mapComponent = _this6.recoverDefaultMap();\n        d.resolve(mapComponent);\n      });\n    } else {\n      var mapComponent = this.recoverDefaultMap();\n      d.resolve(mapComponent);\n    }\n    return d.promise();\n  };\n\n  this.disableContent = function (disabled) {\n    this.state.content.disabled = disabled;\n  };\n\n  this.removeContent = function () {\n    // check if backonclose proprerty is  true o false\n    // to remove all content stack or just last component\n    if (this.state.content.backonclose && this.state.content.contentsdata.length > 1) this.popContent();else return this.closeContent();\n  };\n\n  this.isPrimaryView = function (viewName) {\n    return this.state.primaryView == viewName;\n  };\n\n  this.setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n    this._layout();\n  };\n\n  this.showPrimaryView = function () {\n    var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (perc && this.state.secondaryVisible && this.state.secondaryPerc === 100) {\n      this.state.secondaryPerc = 100 - perc;\n      this._layout();\n    }\n  };\n\n  this.showSecondaryView = function () {\n    var split = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.perc;\n\n    this.state.secondaryVisible = true;\n    this.state.split = split;\n    this.state.secondaryPerc = perc;\n    this._layout();\n  };\n\n  // close secondary view\n  this.closeSecondaryView = function () {\n    var _this7 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var d = $.Deferred();\n    var secondaryViewComponent = this._components[this._otherView(this.state.primaryView)];\n    if (secondaryViewComponent.clearContents) {\n      secondaryViewComponent.clearContents().then(function () {\n        _this7.state.secondaryVisible = false;\n        _this7.state.secondaryPerc = 0;\n        _this7._layout(event);\n        Vue.nextTick(function () {\n          return d.resolve();\n        });\n      });\n    } else {\n      this.state.secondaryVisible = false;\n      this._layout(event);\n      Vue.nextTick(function () {\n        return d.resolve();\n      });\n    }\n    return d.promise();\n  };\n\n  this.getDefaultViewPerc = function (viewName) {\n    return this.isPrimaryView(viewName) ? 100 : 50;\n  };\n\n  // return the opposite view\n  this._otherView = function (viewName) {\n    return viewName === 'map' ? 'content' : 'map';\n  };\n\n  this._isSecondary = function (view) {\n    return this.state.primaryView !== view;\n  };\n\n  this._setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n  };\n\n  /**\n   * Set the state of content (right or bottom content other than map)\n   * @param options\n   * @private\n   */\n  this._prepareContentView = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var title = options.title,\n        _options$split2 = options.split,\n        split = _options$split2 === undefined ? null : _options$split2,\n        _options$closable = options.closable,\n        closable = _options$closable === undefined ? true : _options$closable,\n        _options$backonclose = options.backonclose,\n        backonclose = _options$backonclose === undefined ? true : _options$backonclose,\n        _options$style = options.style,\n        style = _options$style === undefined ? {} : _options$style,\n        _options$showgoback = options.showgoback,\n        showgoback = _options$showgoback === undefined ? true : _options$showgoback,\n        _options$headertools = options.headertools,\n        headertools = _options$headertools === undefined ? [] : _options$headertools;\n\n    this.state.content.title = title;\n    this.state.content.split = split;\n    this.state.content.closable = closable;\n    this.state.content.backonclose = backonclose;\n    this.state.content.contentsdata = this._components.content.contentsdata;\n    this.state.content.style = style;\n    this.state.content.headertools = headertools;\n    this.state.content.showgoback = showgoback;\n  };\n\n  // manage all layout logic\n  // viewName: map or content\n  //options.  percentage , splitting title etc ..\n  this._showView = function (viewName) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$perc = options.perc,\n        perc = _options$perc === undefined ? this.getDefaultViewPerc(viewName) : _options$perc,\n        _options$split3 = options.split,\n        split = _options$split3 === undefined ? 'h' : _options$split3;\n\n    var aside = void 0;\n    if (this.isPrimaryView(viewName)) aside = typeof options.aside == 'undefined' ? false : options.aside;else aside = true;\n    this.state[viewName].aside = aside;\n    //calculate the content\n    var secondaryPerc = this.isPrimaryView(viewName) ? 100 - perc : perc;\n    //show Secondary View content only if more then 0\n    if (secondaryPerc > 0) this.showSecondaryView(split, secondaryPerc);else return this.closeSecondaryView();\n  };\n\n  this._getReducedSizes = function () {\n    var contentEl = $('.content');\n    var reducedWidth = 0;\n    var reducedHeight = 0;\n    var sideBarToggleEl = $('.sidebar-aside-toggle');\n    if (contentEl && this.state.secondaryVisible && this.isFullViewContent()) {\n      if (sideBarToggleEl && sideBarToggleEl.is(':visible')) {\n        var toggleWidth = sideBarToggleEl.outerWidth();\n        contentEl.css('padding-left', toggleWidth + 5);\n        reducedWidth = toggleWidth - 5;\n      }\n    } else {\n      var _toggleWidth = sideBarToggleEl.outerWidth();\n      contentEl.css('padding-left', this.state.secondaryPerc === 100 ? _toggleWidth + 5 : 15);\n    }\n    return {\n      reducedWidth: reducedWidth,\n      reducedHeight: reducedHeight\n    };\n  };\n\n  //main layout function\n  this._layout = function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var reducesdSizes = this._getReducedSizes();\n    this._setViewSizes(reducesdSizes.reducedWidth, reducesdSizes.reducedHeight);\n    if (this._immediateComponentsLayout) this._layoutComponents(event);\n  };\n\n  this._setViewSizes = function () {\n    var primaryView = this.state.primaryView;\n    var secondaryView = this._otherView(primaryView);\n\n    var _getViewportSize = this.getViewportSize(),\n        viewportWidth = _getViewportSize.width,\n        viewportHeight = _getViewportSize.height;\n    // assign all width and height of the view to primary view (map)\n\n\n    var primaryWidth = void 0;\n    var primaryHeight = void 0;\n    var secondaryWidth = void 0;\n    var secondaryHeight = void 0;\n    // percentage of secondary view (content)\n    var scale = (this.state.secondaryPerc !== 100 && !this.isFullViewContent() ? this.getContentPercentageFromCurrentLayout(this.state.split) : 100) / 100;\n    if (this.state.split === 'h') {\n      secondaryWidth = this.state.secondaryVisible ? Math.max(viewportWidth * scale, this._secondaryViewMinWidth) : 0;\n      secondaryHeight = viewportHeight;\n      primaryWidth = viewportWidth - secondaryWidth;\n      primaryHeight = viewportHeight;\n    } else {\n      secondaryWidth = viewportWidth;\n      secondaryHeight = this.state.secondaryVisible ? Math.max(viewportHeight * scale, this._secondaryViewMinHeight) : 0;\n      primaryWidth = this.state.secondaryVisible && scale === 1 ? 0 : viewportWidth;\n      primaryHeight = viewportHeight - secondaryHeight;\n    }\n    this.state[primaryView].sizes.width = primaryWidth;\n    this.state[primaryView].sizes.height = primaryHeight;\n    this.state[secondaryView].sizes.width = secondaryWidth;\n    this.state[secondaryView].sizes.height = secondaryHeight;\n  };\n\n  this.getViewportSize = function () {\n    return {\n      width: this._viewportWidth(),\n      height: this._viewportHeight()\n    };\n  };\n\n  this._viewportHeight = function () {\n    var topHeight = $('.navbar-header').innerHeight();\n    return $(document).innerHeight() - topHeight;\n  };\n\n  this._viewportWidth = function () {\n    var main_sidebar = $(\".main-sidebar\");\n    var offset = main_sidebar.length && main_sidebar.offset().left;\n    var width = main_sidebar.length && main_sidebar[0].getBoundingClientRect().width;\n    var sideBarSpace = width + offset;\n    return $('#app')[0].getBoundingClientRect().width - sideBarSpace;\n  };\n\n  /**\n   * Method that se resize. Is called by moveFnc that is called from resize (vertical or horiziontal) component\n   * @param type\n   * @param sizes\n   * @param perc\n   */\n  this.resizeViewComponents = function (type) {\n    var sizes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var perc = arguments[2];\n\n    this.setResized(type, true);\n    this.setContentPercentageFromCurrentLayout(type, perc);\n    this._layout('resize');\n  };\n\n  /**\n   * Get current information layout\n   * @param type\n   * @param perc\n   */\n  this.setContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments[1];\n\n    this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'] = perc;\n  };\n\n  this.getContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n\n    return this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'];\n  };\n\n  this.getCurrentContentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel;\n  };\n\n  // load components of  viewport\n  // after right size setting\n  this._layoutComponents = function () {\n    var _this8 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    requestAnimationFrame(function () {\n      var reducesdSizes = _this8._getReducedSizes();\n      var reducedWidth = reducesdSizes.reducedWidth || 0;\n      var reducedHeight = reducesdSizes.reducedHeight || 0;\n      // for each components\n      _this8._setViewSizes();\n      Object.entries(_this8._components).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            name = _ref5[0],\n            component = _ref5[1];\n\n        var width = _this8.state[name].sizes.width - reducedWidth;\n        var height = _this8.state[name].sizes.height - reducedHeight;\n        component.layout(width, height);\n      });\n      event && setTimeout(function () {\n        _this8.emit(event);\n        _gui2.default.emit(event);\n      });\n    });\n  };\n\n  /**\n   * function called at start of application (just one time)\n   * @private\n   */\n  this._firstLayout = function () {\n    var _this9 = this;\n\n    var drawing = false;\n    var resizeFired = false;\n    function triggerResize() {\n      resizeFired = true;\n      drawResize();\n    }\n    /**\n     * function called from resize of browser windows (also open dev tool)\n     */\n    var drawResize = function drawResize() {\n      if (resizeFired === true) {\n        resizeFired = false;\n        drawing = true;\n        _this9._layout('resize');\n        requestAnimationFrame(drawResize);\n      } else {\n        drawing = false;\n      }\n    };\n    // GUI ready event\n    _gui2.default.on('ready', function () {\n      /**\n       * SetSidebar width (used by components/Viewport.vue single file component)\n       */\n      _this9.SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n      _this9._layout();\n      _gui2.default.on('guiresized', function () {\n        return triggerResize();\n      });\n      // resize della window\n      $(window).resize(function () {\n        // set resizedFired to true and execute drawResize if it's not already running\n        drawing === false && triggerResize();\n      });\n      // resize on main siedemar open close sidebar\n      $('.main-sidebar').on('webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd', function (event) {\n        //be sure that is the main sidebar that is transitioned non his child\n        if (event.target === this) {\n          $(this).trigger('trans-end');\n          triggerResize();\n        }\n      });\n    });\n  };\n  this._firstLayout();\n  base(this);\n};\n\ninherit(ViewportService, G3WObject);\n\n//singleton\nexports.default = new ViewportService();\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/gui\":349,\"store/application-state\":361}],360:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n// Store all workflow activated\nvar WorkFlowsStack = function WorkFlowsStack() {\n  this._workflows = [];\n  this.push = function (workflow) {\n    if (this._workflows.indexOf(workflow) === -1) return this._workflows.push(workflow) - 1;\n    return this._workflows.indexOf(workflow);\n  };\n\n  /**\n  * Get parent\n  * @returns {boolean|*}\n  */\n  this.getParent = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows[index - 1];\n  };\n\n  /**\n  * Get all list of parents\n  * @returns {boolean|T[]}\n  */\n  this.getParents = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows.slice(0, index);\n  };\n\n  this.pop = function () {\n    return this._workflows.pop();\n  };\n\n  this.getLength = function () {\n    return this._workflows.length;\n  };\n\n  this._getCurrentIndex = function () {\n    var currentWorkflow = this.getCurrent();\n    return this._workflows.findIndex(function (workfow) {\n      return workfow === currentWorkflow;\n    });\n  };\n\n  this.getCurrent = function () {\n    return this.getLast();\n  };\n\n  this.getLast = function () {\n    var length = this._workflows.length;\n    return length ? this._workflows[length - 1] : null;\n  };\n\n  this.getFirst = function () {\n    return this._workflows[0];\n  };\n\n  this.removeAt = function (index) {\n    this._workflows.splice(index, 1);\n  };\n\n  this.getAt = function (index) {\n    return this._workflows[index];\n  };\n\n  this.insertAt = function (index, workflow) {\n    this._workflows[index] = workflow;\n  };\n\n  this.clear = function () {\n    while (this._workflows.length) {\n      var workflow = this.pop();\n      workflow.stop();\n    }\n  };\n};\n\nexports.default = new WorkFlowsStack();\n\n},{}],361:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file State and methods to query the STATE of application\n * @since v3.6\n */\n\n/**\n * State of application reactive\n * @type {object}\n */\nvar STATE = Vue.observable({\n\n  /**\n   * true = application is ready\n   */\n  ready: false,\n\n  /**\n   * true = application is loaded inside an iframe\n   */\n  iframe: false,\n\n  /**\n   * true = application is connected\n   */\n  online: false,\n\n  /**\n   * true = application is loaded on mobile device\n   */\n  ismobile: false,\n\n  /**\n   * true = there is a pending download \n   */\n  download: false,\n\n  /**\n   * true = there is a pending upload\n   */\n  upload: false,\n\n  /**\n   * @FIXME add description\n   */\n  baseLayerId: null,\n\n  /**\n   * en = default language\n   */\n  language: 'en',\n\n  /**\n   * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n   */\n  lng: 'en',\n\n  /**\n   * @FIXME add description\n   */\n  changeProjectview: false,\n\n  /**\n   * @FIXME add description\n   */\n  plugins: [],\n\n  /**\n   * @FIXME add description\n   */\n  user: null,\n\n  /**\n   * @FIXME add description\n   */\n  map: {\n    epsg: '',\n    unit: 'metric'\n  },\n\n  /**\n   * @FIXME add description\n   */\n  gui: {\n\n    app: {\n      /**\n       * true = application is disabled and unclickable (waiting)\n       */\n      disabled: false\n    },\n\n    sidebar: {\n      /**\n       * true = sidebar is disabled (not responsive)\n       */\n      disabled: false // \n    },\n\n    layout: {\n      /**\n       * store the current layout owner (\"app\" = default)\n       */\n      __current: 'app',\n\n      /**\n       * @FIXME add description\n       */\n      app: {}\n\n    }\n\n  },\n\n  /**\n   * @FIXME add description\n   */\n  keys: {\n    vendorkeys: {\n      google: undefined,\n      bing: undefined\n    }\n  },\n\n  /**\n   * @FIXME add description\n   */\n  tokens: {\n    filtertoken: undefined\n  }\n\n});\n\n/**\n * Store methods to query STATE of application\n * \n * @type {object}\n */\nvar STATE_METHODS = exports.STATE_METHODS = {};\n\nexports.default = STATE;\n\n},{}],362:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file State of legend items in Table of Contents (TOC) [aka. catalog layers]\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction CatalogLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(CatalogLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new CatalogLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":38,\"core/utils/utils\":68}],363:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store legacy frontend components\n * @since v3.6\n * \n * @deprecated will be probably removed after v4.x. Use Vue Single File Components (SFC) instead\n */\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\n//class Componet Registry (singleton)\n// store all components added\n\n\nfunction ComponentsRegistry() {\n  this.components = {};\n  this.registerComponent = function (component) {\n    var id = component.getId();\n    if (!this.components[id]) {\n      this.components[id] = component;\n      this.emit('componentregistered', component);\n    }\n  };\n\n  this.getComponent = function (id) {\n    return this.components[id];\n  };\n\n  this.getComponents = function () {\n    return this.components;\n  };\n\n  this.unregisterComponent = function (id) {\n    var component = this.components[id];\n    if (component) {\n      if (typeof component.destroy === 'function') component.destroy();\n      this.components[id] = null;\n    }\n    return component;\n  };\n  base(this);\n}\n\ninherit(ComponentsRegistry, G3WObject);\n\nexports.default = new ComponentsRegistry();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],364:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file Store Open Layers controls (zoom, streetrview, screnshoot, ruler, ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction ControlsRegistry() {\n  var _this = this;\n\n  this._controls = {};\n  this._offlineids = [];\n  _application2.default.onbefore('offline', function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var id = controlItem.id;\n\n      var control = _this._controls[id];\n      controlItem.enable = control.getEnable();\n      control.setEnable(false);\n    });\n  });\n\n  _application2.default.onbefore('online', function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var id = controlItem.id,\n          enable = controlItem.enable;\n\n      _this._controls[id].setEnable(enable);\n    });\n  });\n\n  this.setters = {\n    registerControl: function registerControl(id, control) {\n      this._registerControl(id, control);\n    }\n  };\n\n  this._registerControl = function (id, control) {\n    this._controls[id] = control;\n    if (control.offline === false) {\n      this._offlineids.push({\n        id: id,\n        enable: control.getEnable()\n      });\n      control.getEnable() && control.setEnable(_application2.default.isOnline());\n    }\n  };\n\n  this.getControl = function (id) {\n    return this._controls[id];\n  };\n\n  this.getControls = function () {\n    return this._controls;\n  };\n\n  this.unregisterControl = function (id) {\n    var control = this.getControl(id);\n    var mapService = _gui2.default.getService('map');\n    var map = mapService.getMap();\n    if (control) {\n      map.removeControl(control);\n      delete this._controls[id];\n      this._offlineids = this._offlineids.filter(function (_id) {\n        return _id !== id;\n      });\n      return true;\n    }\n    return false;\n  };\n  base(this);\n}\n\ninherit(ControlsRegistry, G3WObject);\n\nexports.default = new ControlsRegistry();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":339,\"services/gui\":349}],365:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file Store Open Layers levels (raster images, vector shapes, markers, ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction MapLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(MapLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new MapLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":38,\"core/utils/utils\":68}],366:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Store G3W-CLIENT plugins (editing, qplotly, qtimeseries, ...)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * law project configuration on project is handle as plugin\n * @type {string[]}\n */\nvar OTHERPLUGINS = ['law'];\n\nfunction PluginsRegistry() {\n  var _this = this;\n\n  this.config = null;\n  this._plugins = {};\n  this._configurationPlugins = [];\n  this.pluginsConfigs = {};\n  this._loadedPluginUrls = [];\n  this.setters = {\n    //setters to register plugin\n    registerPlugin: function registerPlugin(plugin) {\n      if (!this._plugins[plugin.name]) this._plugins[plugin.name] = plugin;\n    }\n  };\n  /**\n   * CHECK IF STILL USEFUL. IT RELATED TO CHANGE MAP OLD BEHAVIOR (PREVIOUS VERSION 3.4).\n   * NOW WHEN CHANGE MAP IS TRIGGER, PAGE IS RELOADED.\n   */\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this.gidProject = project.getGid();\n  });\n\n  base(this);\n\n  // initialize plugin\n  this.init = function () {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var plugins;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.pluginsBaseUrl = options.pluginsBaseUrl;\n                // plugin configurations\n                _this2.setPluginsConfig(options.pluginsConfigs);\n                // filter\n                Object.keys(_this2.pluginsConfigs).forEach(function (pluginName) {\n                  return _this2._configurationPlugins.push(pluginName);\n                });\n                _this2.addLoadingPlugins();\n                // plugins that aren't in configuration server but in project\n                _this2.otherPluginsConfig = options.otherPluginsConfig;\n                _this2.setOtherPlugins();\n                _this2.setDependencyPluginConfig();\n                _context.prev = 7;\n                _context.next = 10;\n                return _this2._loadPlugins();\n\n              case 10:\n                plugins = _context.sent;\n\n                resolve(plugins);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context['catch'](7);\n\n                reject(_context.t0);\n\n              case 17:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2, [[7, 14]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.addLoadingPlugins = function () {\n    Object.keys(this.pluginsConfigs).forEach(function (plugin) {\n      return _application2.default.loadingPlugin(plugin);\n    });\n  };\n\n  this.removeLoadingPlugin = function (plugin, ready) {\n    _application2.default.loadedPlugin(plugin, ready);\n  };\n\n  this._loadPlugins = function () {\n    var _this3 = this;\n\n    var pluginLoadPromises = Object.entries(this.pluginsConfigs).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          pluginConfig = _ref3[1];\n\n      return _this3._setup(name, pluginConfig);\n    });\n    return Promise.allSettled(pluginLoadPromises);\n  };\n\n  this.setDependencyPluginConfig = function () {\n    var _this4 = this;\n\n    var _loop = function _loop(pluginName) {\n      var dependecyPluginConfig = _this4.pluginsConfigs[pluginName].plugins;\n      dependecyPluginConfig && Object.keys(dependecyPluginConfig).forEach(function (pluginName) {\n        _this4.pluginsConfigs[pluginName] = _extends({}, _this4.pluginsConfigs[pluginName], dependecyPluginConfig[pluginName]);\n      });\n    };\n\n    for (var pluginName in this.pluginsConfigs) {\n      _loop(pluginName);\n    }\n  };\n\n  this.setOtherPlugins = function () {\n    var law = OTHERPLUGINS[0];\n    if (this.otherPluginsConfig && this.otherPluginsConfig[law] && this.otherPluginsConfig[law].length) {\n      // law plugin\n      this.pluginsConfigs[law] = this.otherPluginsConfig[law];\n      this.pluginsConfigs[law].gid = this.otherPluginsConfig.gid;\n    } else delete this.pluginsConfigs[law];\n  };\n\n  // reaload plugin in case of change map\n  this.reloadPlugins = function (initConfig, project) {\n    var _this5 = this;\n\n    return new Promise(function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n        var scripts, plugins, _loop2, pluginName, _plugins;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                scripts = $('script');\n                plugins = _this5.getPlugins();\n\n                _loop2 = function _loop2(pluginName) {\n                  var plugin = plugins[pluginName];\n                  // unload plugin e remove from DOM\n                  plugin.unload();\n                  delete _this5._plugins[pluginName];\n                  scripts.each(function (index, scr) {\n                    _this5._loadedPluginUrls.forEach(function (pluginUrl, idx) {\n                      if (scr.getAttribute('src') === pluginUrl && pluginUrl.indexOf(pluginName) !== -1) {\n                        scr.parentNode.removeChild(scr);\n                        _this5._loadedPluginUrls.splice(idx, 1);\n                        return false;\n                      }\n                    });\n                  });\n                };\n\n                for (pluginName in plugins) {\n                  _loop2(pluginName);\n                }\n                _this5._loadedPluginUrls = [];\n                //setup plugins\n                _this5.otherPluginsConfig = project.getState();\n                _this5.setPluginsConfig(initConfig.group.plugins);\n                _this5.addLoadingPlugins();\n                _this5.setOtherPlugins();\n                _context2.prev = 9;\n                _context2.next = 12;\n                return _this5._loadPlugins();\n\n              case 12:\n                _plugins = _context2.sent;\n\n                resolve(_plugins);\n                _context2.next = 19;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](9);\n\n                reject(_context2.t0);\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this5, [[9, 16]]);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * setup plugin config only filtered by gid configuration\n   * @param config\n   */\n  this.setPluginsConfig = function () {\n    var _this6 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var enabledPluginConfig = {};\n    Object.entries(config).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          pluginConfig = _ref6[1];\n\n      return pluginConfig.gid === _this6.gidProject;\n    }).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          pluginName = _ref8[0],\n          pluginConfig = _ref8[1];\n\n      return enabledPluginConfig[pluginName] = pluginConfig;\n    });\n    this.pluginsConfigs = enabledPluginConfig;\n  };\n\n  /**\n   * Method to load external script\n   * @param url\n   * @returns {*}\n   * @private\n   */\n  this._loadScript = function (url) {\n    return $.getScript(url);\n  };\n\n  //load plugin script\n  this._setup = function (name, pluginConfig) {\n    var _this7 = this;\n\n    return new Promise(function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var _pluginConfig$jsscrip, jsscripts, depedencypluginlibrariespromises, _loop3, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, script, baseUrl, scriptUrl;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_.isNull(pluginConfig)) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _pluginConfig$jsscrip = pluginConfig.jsscripts, jsscripts = _pluginConfig$jsscrip === undefined ? [] : _pluginConfig$jsscrip;\n                depedencypluginlibrariespromises = [];\n\n                _loop3 = function _loop3(script) {\n                  depedencypluginlibrariespromises.push(new Promise(function (resolve, reject) {\n                    _this7._loadScript(script).done(function () {\n                      return resolve();\n                    }).fail(function () {\n                      return reject();\n                    });\n                  }));\n                };\n\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 7;\n\n                for (_iterator = jsscripts[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  script = _step.value;\n\n                  _loop3(script);\n                }\n                _context3.next = 15;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.prev = 16;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 18:\n                _context3.prev = 18;\n\n                if (!_didIteratorError) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 21:\n                return _context3.finish(18);\n\n              case 22:\n                return _context3.finish(15);\n\n              case 23:\n                _context3.prev = 23;\n                _context3.next = 26;\n                return Promise.all(depedencypluginlibrariespromises);\n\n              case 26:\n                baseUrl = '' + _this7.pluginsBaseUrl + name;\n                scriptUrl = baseUrl + '/js/plugin.js?' + Date.now();\n\n                pluginConfig.baseUrl = _this7.pluginsBaseUrl;\n                _this7._loadScript(scriptUrl).done(function () {\n                  _this7._loadedPluginUrls.push(scriptUrl);\n                  resolve();\n                }).fail(function () {\n                  _this7.removeLoadingPlugin(name, false);\n                  reject();\n                });\n                _context3.next = 36;\n                break;\n\n              case 32:\n                _context3.prev = 32;\n                _context3.t1 = _context3['catch'](23);\n\n                _this7.removeLoadingPlugin(name, false);\n                reject();\n\n              case 36:\n                _context3.next = 39;\n                break;\n\n              case 38:\n                resolve();\n\n              case 39:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7, [[7, 11, 15, 23], [16,, 18, 22], [23, 32]]);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.getPluginConfig = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n\n  this.getPlugins = function () {\n    return this._plugins;\n  };\n\n  this.getPlugin = function (pluginName) {\n    return this._plugins[pluginName];\n  };\n\n  // method to check if a plugin is in configuration and will be added to application\n  this.isPluginInConfiguration = function (pluginName) {\n    return this._configurationPlugins.indexOf(pluginName) !== -1;\n  };\n\n  this.isTherePlugin = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n}\n\ninherit(PluginsRegistry, G3WObject);\n\nexports.default = new PluginsRegistry();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":339,\"store/projects\":367}],367:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file Store QGIS project configurations (enabled map controls / plugins / layers / ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Project = require('core/project/project');\n\n/* service\n    setup: init method\n    getLayersState: returnLayersState\n    getLayersTree: return  array of layersTree from LayersState\n*/\n\n// Public interface\nfunction ProjectsRegistry() {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.setters = {\n    createProject: function createProject(projectConfig) {\n      //hook to get project config and modify it\n    },\n    setCurrentProject: function setCurrentProject(project) {\n      if (this.state.currentProject !== project) {\n        _catalogLayers2.default.removeLayersStores();\n        _mapLayers2.default.removeLayersStores();\n      }\n      this.state.currentProject = project;\n      this.state.qgis_version = project.getQgisVersion();\n      this.setProjectType(project.state.type);\n      var projectLayersStore = project.getLayersStore();\n      //set in first position (catalog)\n      _catalogLayers2.default.addLayersStore(projectLayersStore, 0);\n      //set in first position (map)\n      _mapLayers2.default.addLayersStore(projectLayersStore, 0);\n    }\n  };\n\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n\n  // (lazy loading)\n  this._groupProjects = [];\n  this._projectConfigs = {};\n\n  base(this);\n}\n\ninherit(ProjectsRegistry, G3WObject);\n\nvar proto = ProjectsRegistry.prototype;\n\n//Inizialize configuration for all project belong to group\nproto.init = function () {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  //check if already initialized\n  if (!this.initialized) {\n    this.config = config;\n    this.overviewproject = config.overviewproject;\n    this.setupState();\n    // get current configuration\n    var searchParams = new URLSearchParams(location.search);\n    var map_theme = searchParams.get('map_theme');\n    this.getProject(config.initproject, {\n      map_theme: map_theme\n    }).then(function (project) {\n      // set current project\n\n      _this.setCurrentProject(project);\n      _this.initialized = true;\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  } else {\n    var project = this.getCurrentProject();\n    d.resolve(project);\n  }\n  return d.promise();\n};\n\nproto.clear = function () {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.initialized = false;\n  this._groupProjects = [];\n  this._projectConfigs = {};\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setupState = function () {\n  this.state.baseLayers = this.config.baselayers;\n  this.state.minScale = this.config.minscale;\n  this.state.maxScale = this.config.maxscale;\n  this.state.crs = this.config.crs;\n  this.setProjects(this.config.projects);\n};\n\nproto.getProjectType = function () {\n  return this.projectType;\n};\n\nproto.getProjects = function () {\n  return this._groupProjects;\n};\n\nproto.setProjects = function (projects) {\n  var _this2 = this;\n\n  this.clearProjects();\n  projects.forEach(function (project) {\n    _this2.state.qgis_version = project.qgis_version || _this2.state.qgis_version;\n    project.baselayers = _this2.config.baselayers;\n    project.minscale = _this2.config.minscale;\n    project.maxscale = _this2.config.maxscale;\n    project.crs = _this2.config.crs;\n    project.vectorurl = _this2.config.vectorurl;\n    project.rasterurl = _this2.config.rasterurl;\n    project.overviewprojectgid = _this2.overviewproject ? _this2.overviewproject.gid : null;\n    _this2._groupProjects.push(project);\n  });\n};\n\nproto.clearProjects = function () {\n  this._groupProjects = [];\n};\n\nproto.getListableProjects = function () {\n  var currentProjectId = this.getCurrentProject().getId();\n  return _.sortBy(this.getProjects().filter(function (project) {\n    if (!_.isNil(project.listable)) return project.listable;\n    if (project.id === currentProjectId || project.overviewprojectgid && project.gid === project.overviewprojectgid) return false;\n    return project;\n  }), 'title');\n};\n\nproto.getCurrentProject = function () {\n  return this.state.currentProject;\n};\n\n// method to get project configuration - added reload to force to get configuratn project from server\nproto.getProject = function (projectGid) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { reload: false };\n  var reload = options.reload,\n      map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var pendingProject = this._groupProjects.find(function (project) {\n    return project.gid === projectGid;\n  });\n  if (!pendingProject) {\n    d.reject(\"Project doesn't exist\");\n    return d.promise();\n  }\n  var projectConfig = !reload && this._projectConfigs[projectGid];\n  if (projectConfig) {\n    var project = new Project(projectConfig);\n    d.resolve(project);\n  } else {\n    this._getProjectFullConfig(pendingProject, { map_theme: map_theme }).then(function (projectFullConfig) {\n      var projectConfig = _.merge(pendingProject, projectFullConfig);\n      projectConfig.WMSUrl = _this3.config.getWmsUrl(projectConfig);\n      // setupu project relations\n      projectConfig.relations = _this3._setProjectRelations(projectConfig);\n      _this3._projectConfigs[projectConfig.gid] = projectConfig;\n      // instance of Project\n      _this3.createProject(projectConfig);\n      var project = new Project(projectConfig);\n      // add to project\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  }\n  return d.promise();\n};\n\nproto._setProjectRelations = function (projectConfig) {\n  projectConfig.relations = projectConfig.relations ? projectConfig.relations : [];\n  projectConfig.relations = projectConfig.relations.map(function (relation) {\n    if (relation.type === \"ONE\") {\n      projectConfig.layers.find(function (layer) {\n        if (layer.id === relation.referencingLayer) {\n          relation.name = layer.name;\n          relation.origname = layer.origname;\n          return true;\n        }\n      });\n    }\n    return relation;\n  });\n  return projectConfig.relations;\n};\n\nproto.getProjectConfigByGid = function (gid) {\n  return this._groupProjects.find(function (project) {\n    return project.gid === gid;\n  });\n};\n\nproto.setProjectAliasUrl = function (_ref) {\n  var gid = _ref.gid,\n      url = _ref.url,\n      host = _ref.host;\n\n  var project = this.config.projects.find(function (project) {\n    return project.gid === gid;\n  });\n  if (project) project.url = project && '' + (host ? host : '') + url;\n};\n/**\n *\n * @param gid\n * @param mode production or development\n * @returns {string}\n */\nproto.getProjectUrl = function (gid) {\n  // get base url\n  var baseurl = this.config.urls.baseurl;\n  // get project configuration in initConfig group projects\n\n  var projectConfig = this.getProjectConfigByGid(gid);\n  var url = projectConfig.url;\n  var _location = location,\n      origin = _location.origin;\n\n  return '' + origin + baseurl + url;\n};\n\n// method to call server to get project configuration\nproto._getProjectFullConfig = function (projectBaseConfig) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var url = this.config.getProjectConfigUrl(projectBaseConfig);\n  $.get(url).done(function (projectFullConfig) {\n    if (map_theme) {\n      var type = projectBaseConfig.type,\n          id = projectBaseConfig.id;\n      var map_themes = projectFullConfig.map_themes;\n\n      var find_map_theme = map_themes.find(function (_ref2) {\n        var theme = _ref2.theme;\n        return theme === map_theme;\n      });\n      if (find_map_theme) {\n        var url_theme = '/' + type + '/api/prjtheme/' + id + '/' + map_theme;\n        $.get(url_theme).done(function (_ref3) {\n          var result = _ref3.result,\n              layerstree = _ref3.data;\n\n          if (result) {\n            projectFullConfig.layerstree = layerstree;\n            find_map_theme.layetstree = layerstree;\n            find_map_theme.default = true;\n          }\n        }).always(function () {\n          d.resolve(projectFullConfig);\n        });\n      }\n    } else d.resolve(projectFullConfig);\n  }).fail(function (error) {\n    return d.reject(error);\n  });\n  return d.promise();\n};\n\nexports.default = new ProjectsRegistry();\n\n},{\"core/g3wobject\":13,\"core/project/project\":62,\"core/utils/utils\":68,\"store/catalog-layers\":362,\"store/map-layers\":365}],368:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store user session (login / logout)\n * @since v3.6\n */\n\nvar SessionsRegistry = function SessionsRegistry() {\n  this._sessions = {};\n\n  this.register = function (session) {\n    var id = session.getId();\n    this._sessions[id] = session;\n  };\n\n  this.unregister = function (id) {\n    delete this._sessions[id];\n  };\n\n  this.getSession = function (id) {\n    return this._sessions[id];\n  };\n\n  this.setSession = function (id, session) {\n    this._sessions[id] = session;\n  };\n\n  this.getSessions = function () {\n    return this._sessions;\n  };\n\n  this.clear = function () {\n    this._sessions = {};\n  };\n};\n\nexports.default = new SessionsRegistry();\n\n},{}],369:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* WARNING: this file is autogenerated by gulpfile.js, please do not edit manually */\n\nexports.default = '3.8.0-alpha.1';\n\n},{}]},{},[190]);\n"]}