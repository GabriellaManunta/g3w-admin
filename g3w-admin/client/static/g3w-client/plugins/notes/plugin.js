!function e(t,i,n){function s(r,a){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){var i=t[r][1][e];return s(i?i:e)},d,d.exports,e,t,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){function n(t){o(this,t),this._formPanel=l}var s=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,r=g3wsdk.gui.FormPanel,a=g3wsdk.gui.Form,l=r.extend({});s(n,a),e.exports=n},{}],2:[function(t,e,i){function n(t){t.formTools=[],console.log(t.editingVectorStyle),o(this,t);var e=function(){a.saveEdits()};this.onafter("addFeature",e),this.onafter("deleteFeature",e),this.onafter("moveFeature",e),this.onafter("pickFeature",e)}var s=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,r=g3wsdk.core.Editor,a=t("../pluginservice");t("./attributesform");s(n,r),e.exports=n},{"../pluginservice":7,"./attributesform":1}],3:[function(t,e,i){var n=g3wsdk.core.utils.inherit,s=g3wsdk.core.utils.base,o=g3wsdk.core.Plugin,r=g3wsdk.gui.GUI,a=g3wsdk.core.ProjectsRegistry,l=t("pluginconfig"),c=t("./pluginservice"),d=t("./panel"),u=function(){s(this),this.name="notes",this.config=null,this.service=null,this.tools=null,this.init=function(){this.setPluginService(c),this.config=this.getPluginConfig(),this.setUpIconUrl(this.config.layers),this.registerPlugin(this.config.gid)&&(r.ready?this.setupGui():r.on("ready",_.bind(this.setupGui,this)),l.customUrlParameters=this.createPluginCustomUrlParameters(),this.service.init(this.config,l))},this.setupGui=function(){var t=r.getComponent("tools"),e=t.getService();this.tools=l.tools(this),this.service.setPluginTools(this.tools),e.addTools(1,"GEONOTES",this.tools)},this.toolsActions={showHideLayer:function(){this.service.showHideLayer(l.layersCode.GEONOTES)},showEditingPanel:function(){var t=new d;this.service.toggleEditing(),r.showPanel(t)}},this.createPluginCustomUrlParameters=function(){var t="&",e=a.getCurrentProject();return t+="project_type="+e.getType()+"&project_id="+e.getId()},this.setUpIconUrl=function(t){_.forEach(t,function(t){l.layers[t.name].iconurl=t.iconurl})},this.setupToolsAction=function(t){_.forEach(t,function(t){})}};n(u,o),function(t){t.init()}(new u)},{"./panel":5,"./pluginservice":7,pluginconfig:6}],4:[function(t,e,i){e.exports='<div class="g3w-iternet-editing-panel">\n  <template v-for="toolbar in editorstoolbars">\n    <div class="panel panel-primary">\n      <div class="panel-heading">\n        <h3 class="panel-title">{{ toolbar.name }}</h3>\n      </div>\n      <div class="panel-body">\n        <template v-for="tool in toolbar.tools">\n          <div class="editbtn" :class="{\'enabled\' : (state.editing.on && editingtoolbtnEnabled(tool)), \'toggled\' : editingtoolbtnToggled(toolbar.layercode, tool.tooltype)}">\n            <img height="30px" width="30px" @click="toggleEditTool(toolbar.layercode, tool.tooltype)" :alt.once="tool.title" :title.once="tool.title" :src.once="resourcesurl+\'images/\'+tool.icon"></img>\n          </div>\n        </template>\n      </div>\n    </div>\n  </template>\n  <div v-show="state.retrievingData" style="color:#ffffff">\n    <!--<button class="btn btn-primary" v-disabled="editingbtnEnabled" :class="{\'btn-success\' : state.editingOn}" @click="toggleEditing">{{ editingbtnlabel }}</button>-->\n    <!--<button class="btn btn-danger" v-disabled="!state.hasEdits" @click="saveEdits">{{ savebtnlabel }}</button>-->\n    <span>Caricamento Dati ... </span><img :src="resourcesurl +\'images/loader.svg\'">\n  </div>\n  <div class="message">\n    {{{ message }}}\n  </div>\n</div>\n'},{}],5:[function(t,e,i){function n(){this.id="geonotes-editing-panel",this.name="Gestione dati GEONOTES",this.internalPanel=new c}var s=g3wsdk.core.utils.resolve,o=g3wsdk.core.utils.inherit,r=g3wsdk.gui.GUI,a=g3wsdk.gui.Panel,l=t("./pluginservice"),c=Vue.extend({template:t("./panel.html"),data:function(){return{state:l.state,resourcesurl:r.getResourcesUrl(),editorstoolbars:[{name:"Geonotes",layercode:l.layerCodes.GEONOTES,tools:[{title:"Aggiungi Geonota",tooltype:"addfeature",icon:"iternetAddPoint.png"},{title:"Sposta Geonota",tooltype:"movefeature",icon:"iternetMovePoint.png"},{title:"Rimuovi Geonota",tooltype:"deletefeature",icon:"iternetDeletePoint.png"},{title:"Edita geonota",tooltype:"editattributes",icon:"editAttributes.png"}]}],savebtnlabel:"Salva"}},methods:{toggleEditing:function(){l.toggleEditing()},saveEdits:function(){l.saveEdits()},toggleEditTool:function(t,e){""!=e&&this.state.editing.on&&l.toggleEditTool(t,e)},editingtoolbtnToggled:function(t,e){return this.state.editing.layerCode==t&&this.state.editing.toolType==e},editingtoolbtnEnabled:function(t){return""!=t.tooltype},onClose:function(){l.stop()}},computed:{editingbtnlabel:function(){return this.state.editing.on?"Termina editing":"Avvia editing"},editingbtnEnabled:function(){return this.state.editing.enabled||this.state.editing.on?"":"disabled"},message:function(){var t="";if(this.state.editing.enabled){if(this.state.editing.toolstep.message){var e=this.state.editing.toolstep.n,i=this.state.editing.toolstep.total,n=this.state.editing.toolstep.message;t='<div style="margin-top:20px">GUIDA STRUMENTO:</div><div><span>['+e+"/"+i+'] </span><span style="color: yellow">'+n+"</span></div>"}}else t='<span style="color: red">Aumentare il livello di zoom per abilitare l\'editing';return t}}});o(n,a);var d=a.prototype;d.onShow=function(t){console.log("onshow");var e=this.internalPanel;return e.$mount().$appendTo(t),s(!0)},d.onClose=function(){console.log("close");var t=this,e=$.Deferred();return l.stop().then(function(){t.internalPanel.$destroy(!0),t.internalPanel=null,e.resolve()}).fail(function(){e.reject()}),e.promise()},e.exports=n},{"./panel.html":4,"./pluginservice":7}],6:[function(t,e,i){function n(t){return n=[{layerName:"note",name:"Geonotes",type:"checkbox",isCheck:!1,action:_.bind(t.toolsActions.showHideLayer,t)},{name:"Edita Geonotes",action:_.bind(t.toolsActions.showEditingPanel,t)}]}var s=t("./editors/geonoteseditor"),o=this.layerCodes={GEONOTES:"note"},r={};r[o.GEONOTES]=s;var a={},l={},c={};l[o.GEONOTES]=function(t){var e=t.iconurl||null;return new ol.style.Style({image:new ol.style.Icon({anchor:[.5,.5],src:e})})},a[o.GEONOTES]={layerCode:o.GEONOTES,vector:null,editor:null,iconurl:null,crs:null,style:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,.5],src:"fake.png"})})},e.exports={layersCode:o,layers:a,layersStyle:l,layersEditingStyle:c,editorClass:r,tools:n}},{"./editors/geonoteseditor":2}],7:[function(e,i,n){function s(){var e=this;this._mapService=null,this._loadDataOnMapViewChangeListener=null,this._currentEditingLayer=null,this._pluginTools=null,this.state={editing:{on:!1,enabled:!1,layerCode:null,toolType:null,startingEditingTool:!1,toolstep:{n:null,total:null,message:null}},retrievingData:!1,hasEdits:!1},this._loader=new l;this.init=function(t,e){var i=this;this.config=t,this._crs=null,this._layers=e.layers,this._editorClass=e.editorClass,this.layerCodes=e.layersCode,this._layersStyle=e.layersStyle,this._layersEditingStyle=e.layersEditingStyle,this._customUrlParameters=e.customUrlParameters||null,this._mapService=a.getComponent("map").getService(),_.forEach(this.config.layers,function(t,e){i._layers[e].infourl=t.infourl,i._layers[e].crs="EPSG:"+t.crs,i.setLayerStyle(e)});var n={layers:this._layers,baseurl:this.config.baseurl,mapService:this._mapService};this._loader.init(n),this._loader.on("loadingvectorlayersstart",function(){i.state.retrievingData=!0}),this._loader.on("loadingvectorlayersend",function(){i.state.retrievingData=!1}),this._loader.on("setmode",function(t){switch(t){case"w":i.state.editing.on=!0,i.emit("editingstarted");break;case"r":i.state.editing.on=!1}}),this._mapService.on("pointerInteractionSet",function(t){var e=i._getCurrentEditingLayer();if(e){var n=e.editor.getActiveTool().instance;n&&!n.ownsInteraction(t)&&i._stopEditingTool()}}),this.state.editing.enabled=!0,_.forEach(this._layers,function(e,n){var s=t.layers[n].id,o=t.layers[n].name,r=i._mapService.getProject().getLayerById(s);r?(e.name=r.getOrigName(),e.id=s):(e.name=o,e.id=s)})},this.setPluginTools=function(t){this._pluginTools=t},this.getPluginTools=function(){return this._pluginTools},this.setLayerStyle=function(t){var e=this._layers[t].iconurl,i={iconurl:e},n=this._layersStyle[t](i);this._layers[t].style=n,this._layersEditingStyle[t]=n},this.getLayerStyle=function(t){return this._layers[t].style},this._toggleCheckBoxPluginTool=function(t){var i=e.getPluginTools();_.forEach(i,function(e,n){_.has(e,"type")&&e.layerName==t&&"checkbox"==e.type&&(i[n].isCheck=!0)})},this.isLayerVisible=function(t){var e=this._layers[t].vector;return e.isVisible()},this.showHideLayer=function(t){var e=this,i=null;this._loader.isReady()?(i=this._layers[t].vector,i.setVisible(!i.isVisible())):this._loader.loadLayers("r",this._customUrlParameters).then(function(){e._addToMap()})},this.stop=function(){var t=$.Deferred();return this.state.editing.on?this._cancelOrSave().then(function(){e._stopEditing(),t.resolve()}).fail(function(){t.reject()}):t.resolve(),t.promise()},this.toggleEditing=function(){var t=$.Deferred();if(this.state.editing.enabled&&!this.state.editing.on)this._startEditing();else if(this.state.editing.on)return this.stop();return t.promise()},this.saveEdits=function(){this._saveWithoutAsk()},this.toggleEditTool=function(t,e){var i=this,n=this._layers[t];if(n){var s=this._getCurrentEditingLayer();s&&t==s.layerCode?e==s.editor.getActiveTool().getType()?this._stopEditingTool():(this._stopEditingTool(),this._startEditingTool(s,e)):s&&s.editor.isStarted()?this._cancelOrSave(2).then(function(){i._stopEditor()&&i._startEditingTool(n,e)}):this._startEditingTool(n,e)}},this.getLayerCodes=function(){return _.values(this.layerCodes)},this._setUpVectorLayer=function(t,e){this._layers[t].vector=e},this._setUpEditor=function(t){var e=this,i={mapService:e._mapService,formClass:c,editingVectorStyle:this._layersEditingStyle[t]},n=this._layers[t].vector,s=new e._editorClass[t](i);s.setVectorLayer(n),s.on("dirty",function(t){e.state.hasEdits=t}),this._layers[t].editor=s},this._startEditing=function(){if(!this.state.editing.on&&!this.state.retrievingData){var e=this;if(this._loader.isReady()){this._loader.setMode("w");var i=this._loader.getVectorLayersCodes();_.forEach(i,function(t){e._loader.setVectorFeaturesLock(e._layers[t].vector,e._loader.getVectorLayerData(t).featurelocks),e._setUpEditor(t),e._toggleCheckBoxPluginTool(t)}),e.state.editing.on=!0}else this._loader.loadLayers("w",this._customUrlParameters).then(function(t){_.forEach(t,function(t){e._setUpEditor(t),e._toggleCheckBoxPluginTool(t)}),e._addToMap()}).fail(function(){a.notify.error(t("could_not_load_vector_layers"))})}},this._stopEditing=function(t){this._stopEditor(t)&&(_.forEach(this._layers,function(t,i){t.vector;t.editor=null,e._unlockLayer(e._layers[i])}),this._updateEditingState(),this._loader.setMode("r"),e._cleanUp(),e.emit("editingstopped"))},this._cleanUp=function(){this._loader.cleanUpLayers()},this._startEditor=function(t){return!!t.editor.start(this)&&(this._setCurrentEditingLayer(t),!0)},this._startEditingTool=function(t,e,i){this.state.startingEditingTool=!0;var n=!0;return t.editor.isStarted()||(n=this._startEditor(t)),n&&t.editor.setTool(e,i)?(this._updateEditingState(),this.state.startingEditingTool=!1,!0):(this.state.startingEditingTool=!1,!1)},this._stopEditor=function(t){var e=!0,i=this._getCurrentEditingLayer();return i&&(e=i.editor.stop(t),e&&this._setCurrentEditingLayer()),e},this._stopEditingTool=function(){var t=!0,e=this._getCurrentEditingLayer();return e&&(t=e.editor.stopTool(),t&&this._updateEditingState()),t},this._saveWithoutAsk=function(){var t=$.Deferred(),e={};_.forEach(this._layers,function(t,i){t.editor.isDirty()&&(e[i]=t.editor)}),this._saveEdits(e).then(function(e){t.resolve()}).fail(function(e){t.reject()})},this._cancelOrSave=function(t){var e=$.Deferred();try{var i=1;t&&(i=t);var n=this,s={};_.forEach(this._layers,function(t,e){t.editor.isDirty()&&(s[e]=t.editor)}),_.keys(s).length?this._askCancelOrSave(i).then(function(t){"save"===t?n._saveEdits(s).then(function(t){e.resolve()}).fail(function(t){e.reject()}):"nosave"==t?e.resolve():"cancel"==t&&e.reject()}):e.resolve()}catch(o){e.reject()}return e.promise()},this._askCancelOrSave=function(t){var e=$.Deferred(),i={SAVE:{label:"Salva",className:"btn-success",callback:function(){e.resolve("save")}},NOSAVE:{label:"Termina senza salvare",className:"btn-danger",callback:function(){e.resolve("nosave")}},CANCEL:{label:"Annulla",className:"btn-primary",callback:function(){e.resolve("cancel")}}};switch(t){case 1:buttons={save:i.SAVE,nosave:i.NOSAVE,cancel:i.CANCEL};break;case 2:buttons={save:i.SAVE,cancel:i.CANCEL}}return a.dialog.dialog({message:"Vuoi salvare definitivamente le modifiche?",title:"Salvataggio modifica",buttons:buttons}),e.promise()},this._saveEdits=function(t){var e=this,i=$.Deferred();return this._sendEdits(t).then(function(n){a.notify.success("I dati sono stati salvati correttamente"),e._commitEdits(t,n),i.resolve()}).fail(function(t){a.notify.error("Errore nel salvataggio sul server"),i.resolve()}),i.promise()},this._sendEdits=function(t){var e=$.Deferred(),i=_.map(t,function(t){return{layername:t.getVectorLayer().name,edits:t.getEditedFeatures()}});return this._postData(i).then(function(t){t.result?e.resolve(t.response):e.reject(t.response)}).fail(function(t){e.reject(t.response)}),e.promise()},this._commitEdits=function(t,e){_.forEach(t,function(t){e&&e["new"]&&_.forEach(e["new"],function(i){var n=i.clientid,s=i.id;t.getEditVectorLayer().setFeatureData(n,s,null,i),_.forEach(e.new_lockids,function(e){t.getVectorLayer().addLockId(e)})}),t.commit()})},this._undoEdits=function(t){var e=this._getCurrentEditingLayer().layerCode;t[e];this._stopEditing(!0)},this._updateEditingState=function(){var t=this._getCurrentEditingLayer();t?(this.state.editing.layerCode=t.layerCode,this.state.editing.toolType=t.editor.getActiveTool().getType()):(this.state.editing.layerCode=null,this.state.editing.toolType=null),this._updateToolStepsState()},this._updateToolStepsState=function(){var t,e=this,i=this._getCurrentEditingLayer();if(i&&(t=i.editor.getActiveTool()),t&&t.getTool()){var n=t.getTool();n.steps&&(this._setToolStepState(t),n.steps.on("step",function(i,n){e._setToolStepState(t)}),n.steps.on("complete",function(){e._setToolStepState()}))}else e._setToolStepState()},this._setToolStepState=function(t){var e,i,n;if(_.isUndefined(t))e=null,i=null,n=null;else{var s=t.getTool(),o=toolStepsMessages[t.getType()];e=s.steps.currentStepIndex(),i=s.steps.totalSteps(),n=o[e],_.isUndefined(n)&&(e=null,i=null,n=null)}this.state.editing.toolstep.n=e+1,this.state.editing.toolstep.total=i,this.state.editing.toolstep.message=n},this._getCurrentEditingLayer=function(){return this._currentEditingLayer},this._setCurrentEditingLayer=function(t){t?this._currentEditingLayer=t:this._currentEditingLayer=null},this._addToMap=function(){var t=this,e=this._mapService.viewer.map,i=this.getLayerCodes();_.forEach(i,function(i){t._layers[i].vector.addToMap(e)}),this._loadDataOnMapViewChangeListener||(this._loadDataOnMapViewChangeListener=this._mapService.onafter("setMapView",function(){t.state.editing.on&&t.state.editing.enabled&&t._loader.loadAllVectorsData()}))},this._postData=function(t){var e=this;if(t.length>1)return this._postBatchData(t);var i=t[0].layername,n=t[0].edits,s=JSON.stringify(n);return $.post({url:this.config.baseurl+i+"/?"+e._customUrlParameters,data:s,contentType:"application/json"})},this._postBatchData=function(t){var e={};_.forEach(t,function(t){e[t.layername]=t.edits});var i=JSON.stringify(e);return $.post({url:this.config.baseurl,data:i,contentType:"application/json"})},this._unlock=function(){var t=this.getLayerCodes();_.map(t,function(t){return e._unlockLayer(e._layers[t])})},this._unlockLayer=function(t){$.get(this.config.baseurl+t.name+"/?unlock"+this._customUrlParameters)},this.getLoader=function(){return this._loader}}var o=g3wsdk.core.utils.inherit,r=g3wsdk.core.G3WObject,a=g3wsdk.gui.GUI,l=g3wsdk.core.VectorLayerLoader,c=e("./editors/attributesform");o(s,r),i.exports=new s},{"./editors/attributesform":1}]},{},[3]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1aWxkLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIkdlb25vdGVGb3JtIiwib3B0aW9ucyIsImJhc2UiLCJ0aGlzIiwiX2Zvcm1QYW5lbCIsIkdlb25vdGVGb3JtUGFuZWwiLCJpbmhlcml0IiwiZzN3c2RrIiwiY29yZSIsInV0aWxzIiwiRm9ybVBhbmVsIiwiZ3VpIiwiRm9ybSIsImV4dGVuZCIsIjIiLCJHZW9ub3Rlc0VkaXRvciIsImZvcm1Ub29scyIsImNvbnNvbGUiLCJsb2ciLCJlZGl0aW5nVmVjdG9yU3R5bGUiLCJzYXZlRWRpdHNUb0RhdGFiYXNlIiwiUGx1Z2luU2VydmljZSIsInNhdmVFZGl0cyIsIm9uYWZ0ZXIiLCJFZGl0b3IiLCIuLi9wbHVnaW5zZXJ2aWNlIiwiLi9hdHRyaWJ1dGVzZm9ybSIsIjMiLCJQbHVnaW4iLCJHVUkiLCJQcm9qZWN0c1JlZ2lzdHJ5IiwicGx1Z2luQ29uZmlnIiwiU2VydmljZSIsIkVkaXRpbmdQYW5lbCIsIl9QbHVnaW4iLCJuYW1lIiwiY29uZmlnIiwic2VydmljZSIsInRvb2xzIiwiaW5pdCIsInNldFBsdWdpblNlcnZpY2UiLCJnZXRQbHVnaW5Db25maWciLCJzZXRVcEljb25VcmwiLCJsYXllcnMiLCJyZWdpc3RlclBsdWdpbiIsImdpZCIsInJlYWR5Iiwic2V0dXBHdWkiLCJvbiIsIl8iLCJiaW5kIiwiY3VzdG9tVXJsUGFyYW1ldGVycyIsImNyZWF0ZVBsdWdpbkN1c3RvbVVybFBhcmFtZXRlcnMiLCJ0b29sc0NvbXBvbmVudCIsImdldENvbXBvbmVudCIsInRvb2xzU2VydmljZSIsImdldFNlcnZpY2UiLCJzZXRQbHVnaW5Ub29scyIsImFkZFRvb2xzIiwidG9vbHNBY3Rpb25zIiwic2hvd0hpZGVMYXllciIsImxheWVyc0NvZGUiLCJHRU9OT1RFUyIsInNob3dFZGl0aW5nUGFuZWwiLCJwYW5lbCIsInRvZ2dsZUVkaXRpbmciLCJzaG93UGFuZWwiLCJjdXJyZW50UHJvamVjdCIsImdldEN1cnJlbnRQcm9qZWN0IiwiZ2V0VHlwZSIsImdldElkIiwibGF5ZXJzQ29uZmlnIiwiZm9yRWFjaCIsImxheWVyQ29uZmlnIiwiaWNvbnVybCIsInNldHVwVG9vbHNBY3Rpb24iLCJ0b29sIiwicGx1Z2luIiwiLi9wYW5lbCIsIi4vcGx1Z2luc2VydmljZSIsInBsdWdpbmNvbmZpZyIsIjQiLCI1IiwiRWRpdG9yUGFuZWwiLCJpZCIsImludGVybmFsUGFuZWwiLCJQYW5lbENvbXBvbmVudCIsInJlc29sdmVkVmFsdWUiLCJyZXNvbHZlIiwiUGFuZWwiLCJWdWUiLCJ0ZW1wbGF0ZSIsImRhdGEiLCJzdGF0ZSIsInJlc291cmNlc3VybCIsImdldFJlc291cmNlc1VybCIsImVkaXRvcnN0b29sYmFycyIsImxheWVyY29kZSIsImxheWVyQ29kZXMiLCJ0aXRsZSIsInRvb2x0eXBlIiwiaWNvbiIsInNhdmVidG5sYWJlbCIsIm1ldGhvZHMiLCJ0b2dnbGVFZGl0VG9vbCIsImxheWVyQ29kZSIsInRvb2xUeXBlIiwiZWRpdGluZyIsImVkaXRpbmd0b29sYnRuVG9nZ2xlZCIsImVkaXRpbmd0b29sYnRuRW5hYmxlZCIsIm9uQ2xvc2UiLCJzdG9wIiwiY29tcHV0ZWQiLCJlZGl0aW5nYnRubGFiZWwiLCJlZGl0aW5nYnRuRW5hYmxlZCIsImVuYWJsZWQiLCJtZXNzYWdlIiwidG9vbHN0ZXAiLCJ0b3RhbCIsInN0ZXBtZXNzYWdlIiwicHJvdG8iLCJwcm90b3R5cGUiLCJvblNob3ciLCJjb250YWluZXIiLCIkbW91bnQiLCIkYXBwZW5kVG8iLCJzZWxmIiwiZGVmZXJyZWQiLCIkIiwiRGVmZXJyZWQiLCJ0aGVuIiwiJGRlc3Ryb3kiLCJmYWlsIiwicmVqZWN0IiwicHJvbWlzZSIsIi4vcGFuZWwuaHRtbCIsIjYiLCJsYXllck5hbWUiLCJ0eXBlIiwiaXNDaGVjayIsImFjdGlvbiIsImVkaXRvckNsYXNzIiwibGF5ZXJzU3R5bGUiLCJsYXllcnNFZGl0aW5nU3R5bGUiLCJzdHlsZUNvbmZpZyIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImltYWdlIiwiSWNvbiIsImFuY2hvciIsInNyYyIsInZlY3RvciIsImVkaXRvciIsImNycyIsIi4vZWRpdG9ycy9nZW9ub3Rlc2VkaXRvciIsIjciLCJHZW9ub3Rlc1NlcnZpY2UiLCJfbWFwU2VydmljZSIsIl9sb2FkRGF0YU9uTWFwVmlld0NoYW5nZUxpc3RlbmVyIiwiX2N1cnJlbnRFZGl0aW5nTGF5ZXIiLCJfcGx1Z2luVG9vbHMiLCJzdGFydGluZ0VkaXRpbmdUb29sIiwicmV0cmlldmluZ0RhdGEiLCJoYXNFZGl0cyIsIl9sb2FkZXIiLCJWZWN0b3JMb2FkZXJMYXllciIsIl9jcnMiLCJfbGF5ZXJzIiwiX2VkaXRvckNsYXNzIiwiX2xheWVyc1N0eWxlIiwiX2xheWVyc0VkaXRpbmdTdHlsZSIsIl9jdXN0b21VcmxQYXJhbWV0ZXJzIiwiaW5mb3VybCIsInNldExheWVyU3R5bGUiLCJvcHRpb25zX2xvYWRlciIsImJhc2V1cmwiLCJtYXBTZXJ2aWNlIiwibW9kZSIsImVtaXQiLCJpbnRlcmFjdGlvbiIsImN1cnJlbnRFZGl0aW5nTGF5ZXIiLCJfZ2V0Q3VycmVudEVkaXRpbmdMYXllciIsImFjdGl2ZVRvb2wiLCJnZXRBY3RpdmVUb29sIiwiaW5zdGFuY2UiLCJvd25zSW50ZXJhY3Rpb24iLCJfc3RvcEVkaXRpbmdUb29sIiwiTGF5ZXIiLCJsYXllcklkIiwibGF5ZXIiLCJnZXRQcm9qZWN0IiwiZ2V0TGF5ZXJCeUlkIiwiZ2V0T3JpZ05hbWUiLCJnZXRQbHVnaW5Ub29scyIsInN0eWxlT3B0aW9ucyIsImdldExheWVyU3R5bGUiLCJfdG9nZ2xlQ2hlY2tCb3hQbHVnaW5Ub29sIiwicGx1Z2luVG9vbHMiLCJwbHVnaW5Ub29sIiwiaW5kZXgiLCJoYXMiLCJpc0xheWVyVmlzaWJsZSIsInZlY3RvckxheWVyIiwiaXNWaXNpYmxlIiwiaXNSZWFkeSIsInNldFZpc2libGUiLCJsb2FkTGF5ZXJzIiwiX2FkZFRvTWFwIiwiX2NhbmNlbE9yU2F2ZSIsIl9zdG9wRWRpdGluZyIsIl9zdGFydEVkaXRpbmciLCJfc2F2ZVdpdGhvdXRBc2siLCJfc3RhcnRFZGl0aW5nVG9vbCIsImlzU3RhcnRlZCIsIl9zdG9wRWRpdG9yIiwiZ2V0TGF5ZXJDb2RlcyIsInZhbHVlcyIsIl9zZXRVcFZlY3RvckxheWVyIiwiX3NldFVwRWRpdG9yIiwib3B0aW9uc19lZGl0b3IiLCJmb3JtQ2xhc3MiLCJGb3JtQ2xhc3MiLCJzZXRWZWN0b3JMYXllciIsImRpcnR5Iiwic2V0TW9kZSIsInZlY3RvckxheWVyc0NvZGVzIiwiZ2V0VmVjdG9yTGF5ZXJzQ29kZXMiLCJzZXRWZWN0b3JGZWF0dXJlc0xvY2siLCJnZXRWZWN0b3JMYXllckRhdGEiLCJmZWF0dXJlbG9ja3MiLCJub3RpZnkiLCJlcnJvciIsInJlc2V0IiwiX3VubG9ja0xheWVyIiwiX3VwZGF0ZUVkaXRpbmdTdGF0ZSIsIl9jbGVhblVwIiwiY2xlYW5VcExheWVycyIsIl9zdGFydEVkaXRvciIsInN0YXJ0IiwiX3NldEN1cnJlbnRFZGl0aW5nTGF5ZXIiLCJjYW5TdGFydFRvb2wiLCJzZXRUb29sIiwicmV0Iiwic3RvcFRvb2wiLCJkaXJ0eUVkaXRvcnMiLCJpc0RpcnR5IiwiX3NhdmVFZGl0cyIsInJlc3VsdCIsIl9hc2tUeXBlIiwia2V5cyIsIl9hc2tDYW5jZWxPclNhdmUiLCJidXR0b25UeXBlcyIsIlNBVkUiLCJsYWJlbCIsImNsYXNzTmFtZSIsImNhbGxiYWNrIiwiTk9TQVZFIiwiQ0FOQ0VMIiwiYnV0dG9ucyIsInNhdmUiLCJub3NhdmUiLCJjYW5jZWwiLCJkaWFsb2ciLCJfc2VuZEVkaXRzIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiX2NvbW1pdEVkaXRzIiwiZXJyb3JzIiwiZWRpdHNUb1B1c2giLCJtYXAiLCJsYXllcm5hbWUiLCJnZXRWZWN0b3JMYXllciIsImVkaXRzIiwiZ2V0RWRpdGVkRmVhdHVyZXMiLCJfcG9zdERhdGEiLCJyZXR1cm5lZCIsImVkaXRvcnMiLCJ1cGRhdGVkRmVhdHVyZUF0dHJpYnV0ZXMiLCJvbGRmaWQiLCJjbGllbnRpZCIsImZpZCIsImdldEVkaXRWZWN0b3JMYXllciIsInNldEZlYXR1cmVEYXRhIiwibmV3X2xvY2tpZHMiLCJuZXdsb2NrSWQiLCJhZGRMb2NrSWQiLCJjb21taXQiLCJfdW5kb0VkaXRzIiwiY3VycmVudEVkaXRpbmdMYXllckNvZGUiLCJfdXBkYXRlVG9vbFN0ZXBzU3RhdGUiLCJnZXRUb29sIiwidG9vbEluc3RhbmNlIiwic3RlcHMiLCJfc2V0VG9vbFN0ZXBTdGF0ZSIsInN0ZXAiLCJpc1VuZGVmaW5lZCIsIm1lc3NhZ2VzIiwidG9vbFN0ZXBzTWVzc2FnZXMiLCJjdXJyZW50U3RlcEluZGV4IiwidG90YWxTdGVwcyIsInZpZXdlciIsImFkZFRvTWFwIiwibG9hZEFsbFZlY3RvcnNEYXRhIiwiX3Bvc3RCYXRjaERhdGEiLCJqc29uRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwb3N0IiwidXJsIiwiY29udGVudFR5cGUiLCJtdWx0aUVkaXRzVG9QdXNoIiwiX3VubG9jayIsImdldCIsImdldExvYWRlciIsIkczV09iamVjdCIsIlZlY3RvckxheWVyTG9hZGVyIiwiLi9lZGl0b3JzL2F0dHJpYnV0ZXNmb3JtIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1LLEdBQUVFLEtBQUssbUJBQW1CRixFQUFF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QUFFeUwsSUFBSXRULEtBQUtpQyxPQUFPNEksUUFBUXZHLEVBQVl0QyxLQUFLLFdBQWFoQyxLQUFLeUssdUJBRy9EekssS0FBS3VULFVBQVksV0FDZixNQUFPdlQsTUFBS2tLLFNBbHZCaEIsR0FBSS9KLEdBQVVDLE9BQU9DLEtBQUtDLE1BQU1ILFFBQzVCcVQsRUFBWXBULE9BQU9DLEtBQUttVCxVQUN4QjlSLEVBQU10QixPQUFPSSxJQUFJa0IsSUFDakJ5SSxFQUFvQi9KLE9BQU9DLEtBQUtvVCxrQkFDaEM5RixFQUFZek8sRUFBUSwyQkFrdkJ4QmlCLEdBQVF1SixFQUFpQjhKLEdBQ3pCNVQsRUFBT0osUUFBVSxHQUFJa0ssS0FDbEJnSywyQkFBMkIsU0FBUyIsImZpbGUiOiJidWlsZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpbmhlcml0ID0gZzN3c2RrLmNvcmUudXRpbHMuaW5oZXJpdDtcbnZhciBiYXNlID0gZzN3c2RrLmNvcmUudXRpbHMuYmFzZTtcbnZhciBGb3JtUGFuZWwgPSBnM3dzZGsuZ3VpLkZvcm1QYW5lbDtcbnZhciBGb3JtID0gZzN3c2RrLmd1aS5Gb3JtO1xuXG52YXIgR2Vvbm90ZUZvcm1QYW5lbCA9IEZvcm1QYW5lbC5leHRlbmQoe1xuICAvL3RlbXBsYXRlOiByZXF1aXJlKCcuL2F0dHJpYnV0ZXNmb3JtLmh0bWwnKVxufSk7XG5cbmZ1bmN0aW9uIEdlb25vdGVGb3JtKG9wdGlvbnMpe1xuICBiYXNlKHRoaXMsb3B0aW9ucyk7XG4gIHRoaXMuX2Zvcm1QYW5lbCA9IEdlb25vdGVGb3JtUGFuZWw7XG59XG5pbmhlcml0KEdlb25vdGVGb3JtLEZvcm0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdlb25vdGVGb3JtO1xuXG59LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpbmhlcml0ID0gZzN3c2RrLmNvcmUudXRpbHMuaW5oZXJpdDtcbnZhciBiYXNlID0gZzN3c2RrLmNvcmUudXRpbHMuYmFzZTtcbnZhciBFZGl0b3IgPSBnM3dzZGsuY29yZS5FZGl0b3I7XG52YXIgUGx1Z2luU2VydmljZSA9IHJlcXVpcmUoJy4uL3BsdWdpbnNlcnZpY2UnKTtcbnZhciBGb3JtID0gcmVxdWlyZSgnLi9hdHRyaWJ1dGVzZm9ybScpO1xudmFyIGZvcm0gPSBudWxsOyAvLyBicnV0dG8gbWEgZGV2byB0ZW5lcmxvIGVzdGVybm8gc2VubsOyIHNpIGNyZWEgdW4gY2xpY28gZGkgcmlmZXJpbWVudGkgY2hlIG1hbmRhIGluIHBhbGxhIFZ1ZVxuXG5cbmZ1bmN0aW9uIEdlb25vdGVzRWRpdG9yKG9wdGlvbnMpIHtcblxuICAvLyBpbiBxdWVzdG8gbW9kbyBwYXNzaWFtbyBpbCBtYXBzZXJ2aWNlIGNvbWUgYXJnb21lbnRvIGFsIHN1cGVyY2xhc3MgKGVkaXRvcilcbiAgLy8gZGkgaXRlcm5ldGVkaXRvciBpbiBtb2RvIGRhIGFzc2VnbmFyYWUgYW5jaGUgYSBpdGVybmV0ZWRpdG9yIGlsIG1hcHNlcnZlaWNlIGNoZSB4c2Vydmlyw6AgYWQgZXNlbXBpbyBhZCBhZ2dpdW5nZXJlXG4gIC8vIGwnaW50ZXJhY3Rpb24gYWxsYSBtYXBwYSBxdWFuZG8gdmllbmUgY2xpY2NhdG8gc3UgdW4gdG9vbFxuICBvcHRpb25zLmZvcm1Ub29scyA9IFtdO1xuICBjb25zb2xlLmxvZyhvcHRpb25zLmVkaXRpbmdWZWN0b3JTdHlsZSk7XG4gIGJhc2UodGhpcywgb3B0aW9ucyk7XG4gIHZhciBzYXZlRWRpdHNUb0RhdGFiYXNlID0gZnVuY3Rpb24oKSB7XG4gICAgUGx1Z2luU2VydmljZS5zYXZlRWRpdHMoKTtcbiAgfTtcbiAgLy90aGlzLl9zYXZlRWRpdHMgPSBfLmJpbmQoUGx1Z2luU2VydmljZS5zYXZlRWRpdHMsIFBsdWdpblNlcnZpY2UpO1xuICAvLyBhcHJlIGZvcm0gYXR0cmlidXRpIHBlciBpICBuc2VyaW1lbnRvXG5cbiAgdGhpcy5vbmFmdGVyKCdhZGRGZWF0dXJlJywgc2F2ZUVkaXRzVG9EYXRhYmFzZSk7XG4gIHRoaXMub25hZnRlcignZGVsZXRlRmVhdHVyZScsIHNhdmVFZGl0c1RvRGF0YWJhc2UpO1xuICB0aGlzLm9uYWZ0ZXIoJ21vdmVGZWF0dXJlJywgc2F2ZUVkaXRzVG9EYXRhYmFzZSk7XG4gIHRoaXMub25hZnRlcigncGlja0ZlYXR1cmUnLCBzYXZlRWRpdHNUb0RhdGFiYXNlKTtcblxuICAvLyBhcHJlIGZvcm0gYXR0cmlidXRpIHBlciBpbnNlcmltZW50b1xufVxuXG5pbmhlcml0KEdlb25vdGVzRWRpdG9yLCBFZGl0b3IpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdlb25vdGVzRWRpdG9yO1xufSx7XCIuLi9wbHVnaW5zZXJ2aWNlXCI6NyxcIi4vYXR0cmlidXRlc2Zvcm1cIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBTREsgLy8vXG52YXIgaW5oZXJpdCA9IGczd3Nkay5jb3JlLnV0aWxzLmluaGVyaXQ7XG52YXIgYmFzZSA9IGczd3Nkay5jb3JlLnV0aWxzLmJhc2U7XG52YXIgUGx1Z2luID0gZzN3c2RrLmNvcmUuUGx1Z2luO1xudmFyIEdVSSA9IGczd3Nkay5ndWkuR1VJO1xudmFyIFByb2plY3RzUmVnaXN0cnkgPSBnM3dzZGsuY29yZS5Qcm9qZWN0c1JlZ2lzdHJ5O1xuLy8vIFBMVUdJTiAvL1xudmFyIHBsdWdpbkNvbmZpZyA9IHJlcXVpcmUoJ3BsdWdpbmNvbmZpZycpO1xudmFyIFNlcnZpY2UgPSByZXF1aXJlKCcuL3BsdWdpbnNlcnZpY2UnKTtcbnZhciBFZGl0aW5nUGFuZWwgPSByZXF1aXJlKCcuL3BhbmVsJyk7XG5cbnZhciBfUGx1Z2luID0gZnVuY3Rpb24oKSB7XG5cbiAgYmFzZSh0aGlzKTtcbiAgdGhpcy5uYW1lID0gJ25vdGVzJztcbiAgdGhpcy5jb25maWcgPSBudWxsO1xuICB0aGlzLnNlcnZpY2UgPSBudWxsO1xuICB0aGlzLnRvb2xzID0gbnVsbDtcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vc2V0dG8gaWwgc2Vydml6aW9cbiAgICB0aGlzLnNldFBsdWdpblNlcnZpY2UoU2VydmljZSk7XG4gICAgLy9yZWN1cGVybyBjb25maWd1cmF6aW9uZSBkZWwgcGx1Z2luXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLmdldFBsdWdpbkNvbmZpZygpO1xuICAgIHRoaXMuc2V0VXBJY29uVXJsKHRoaXMuY29uZmlnLmxheWVycyk7XG4gICAgLy9yZWdpdHJvIGlsIHBsdWdpblxuICAgIGlmICh0aGlzLnJlZ2lzdGVyUGx1Z2luKHRoaXMuY29uZmlnLmdpZCkpIHtcbiAgICAgIGlmICghR1VJLnJlYWR5KSB7XG4gICAgICAgIEdVSS5vbigncmVhZHknLCBfLmJpbmQodGhpcy5zZXR1cEd1aSwgdGhpcykpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0dXBHdWkoKTtcbiAgICAgIH1cbiAgICAgIC8vaW5pemlhbGl6em8gaWwgc2Vydml6aW8uIElsIHNlcnZpemlvIMOoIGwnaXN0YW56YSBkZWxsYSBjbGFzc2Ugc2Vydml6aW9cbiAgICAgIHBsdWdpbkNvbmZpZy5jdXN0b21VcmxQYXJhbWV0ZXJzID0gdGhpcy5jcmVhdGVQbHVnaW5DdXN0b21VcmxQYXJhbWV0ZXJzKCk7XG4gICAgICB0aGlzLnNlcnZpY2UuaW5pdCh0aGlzLmNvbmZpZywgcGx1Z2luQ29uZmlnKTtcbiAgICB9XG4gIH07XG4gIC8vIGZ1bnppb25lIGNoZSB1bmEgdm9sdGEgY2hlIGxhIEdVSSBoYSBlbWVzc28gbCdldmVudG8gJ3JlYWR5J1xuICAvLyBzZXJ2ZSBhIG1vbnRhcmUgaSBjb21wb2VudGkgZGVsIHBsdWdpbiBzdWxsYSBzaWRlYmFyXG4gIHRoaXMuc2V0dXBHdWkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHRvb2xzQ29tcG9uZW50ID0gR1VJLmdldENvbXBvbmVudCgndG9vbHMnKTtcbiAgICB2YXIgdG9vbHNTZXJ2aWNlID0gdG9vbHNDb21wb25lbnQuZ2V0U2VydmljZSgpO1xuICAgIHRoaXMudG9vbHMgPSBwbHVnaW5Db25maWcudG9vbHModGhpcyk7XG4gICAgdGhpcy5zZXJ2aWNlLnNldFBsdWdpblRvb2xzKHRoaXMudG9vbHMpO1xuICAgIHRvb2xzU2VydmljZS5hZGRUb29scygxICwnR0VPTk9URVMnLCB0aGlzLnRvb2xzKVxuICB9O1xuICAvLyBhemlvbmkgY2hlIHNvbm8gbGVnYXRpIGFpIHRvb2xzXG4gIHRoaXMudG9vbHNBY3Rpb25zID0ge1xuICAgIHNob3dIaWRlTGF5ZXI6ICBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2VydmljZS5zaG93SGlkZUxheWVyKHBsdWdpbkNvbmZpZy5sYXllcnNDb2RlLkdFT05PVEVTKTtcbiAgICB9LFxuICAgIHNob3dFZGl0aW5nUGFuZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhbmVsID0gbmV3IEVkaXRpbmdQYW5lbCgpO1xuICAgICAgdGhpcy5zZXJ2aWNlLnRvZ2dsZUVkaXRpbmcoKTtcbiAgICAgIEdVSS5zaG93UGFuZWwocGFuZWwpO1xuICAgIH1cbiAgfTtcblxuICAvL3NldHVwUGx1Z2luQ3VzdG9tUGFyYW1ldGVyc1xuICB0aGlzLmNyZWF0ZVBsdWdpbkN1c3RvbVVybFBhcmFtZXRlcnMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY3VzdG9tVXJsUGFyYW1ldGVycz0nJic7XG4gICAgdmFyIGN1cnJlbnRQcm9qZWN0ID0gUHJvamVjdHNSZWdpc3RyeS5nZXRDdXJyZW50UHJvamVjdCgpO1xuICAgIGN1c3RvbVVybFBhcmFtZXRlcnMrPSdwcm9qZWN0X3R5cGU9JytjdXJyZW50UHJvamVjdC5nZXRUeXBlKCkrJyZwcm9qZWN0X2lkPScrY3VycmVudFByb2plY3QuZ2V0SWQoKTtcbiAgICByZXR1cm4gY3VzdG9tVXJsUGFyYW1ldGVyc1xuICB9O1xuICAvLyBzZXR1cCBpY29uVXJsIGZvciBMYXllclxuICB0aGlzLnNldFVwSWNvblVybCA9IGZ1bmN0aW9uKGxheWVyc0NvbmZpZykge1xuICAgIF8uZm9yRWFjaChsYXllcnNDb25maWcsIGZ1bmN0aW9uKGxheWVyQ29uZmlnKSB7XG4gICAgICBwbHVnaW5Db25maWcubGF5ZXJzW2xheWVyQ29uZmlnLm5hbWVdLmljb251cmwgPSBsYXllckNvbmZpZy5pY29udXJsO1xuICAgIH0pXG4gIH07XG5cbiAgdGhpcy5zZXR1cFRvb2xzQWN0aW9uID0gZnVuY3Rpb24odG9vbHMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgXy5mb3JFYWNoKHRvb2xzLCBmdW5jdGlvbih0b29sKXtcbiAgICAgIC8vVE9ET1xuICAgIH0pXG4gIH1cbn07XG5cbmluaGVyaXQoX1BsdWdpbiwgUGx1Z2luKTtcblxuKGZ1bmN0aW9uKHBsdWdpbil7XG4gIHBsdWdpbi5pbml0KCk7XG59KShuZXcgX1BsdWdpbik7XG5cblxuXG5cbn0se1wiLi9wYW5lbFwiOjUsXCIuL3BsdWdpbnNlcnZpY2VcIjo3LFwicGx1Z2luY29uZmlnXCI6Nn1dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImczdy1pdGVybmV0LWVkaXRpbmctcGFuZWxcXFwiPlxcbiAgPHRlbXBsYXRlIHYtZm9yPVxcXCJ0b29sYmFyIGluIGVkaXRvcnN0b29sYmFyc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLXByaW1hcnlcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiPlxcbiAgICAgICAgPGgzIGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+e3sgdG9vbGJhci5uYW1lIH19PC9oMz5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj5cXG4gICAgICAgIDx0ZW1wbGF0ZSB2LWZvcj1cXFwidG9vbCBpbiB0b29sYmFyLnRvb2xzXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZWRpdGJ0blxcXCIgOmNsYXNzPVxcXCJ7J2VuYWJsZWQnIDogKHN0YXRlLmVkaXRpbmcub24gJiYgZWRpdGluZ3Rvb2xidG5FbmFibGVkKHRvb2wpKSwgJ3RvZ2dsZWQnIDogZWRpdGluZ3Rvb2xidG5Ub2dnbGVkKHRvb2xiYXIubGF5ZXJjb2RlLCB0b29sLnRvb2x0eXBlKX1cXFwiPlxcbiAgICAgICAgICAgIDxpbWcgaGVpZ2h0PVxcXCIzMHB4XFxcIiB3aWR0aD1cXFwiMzBweFxcXCIgQGNsaWNrPVxcXCJ0b2dnbGVFZGl0VG9vbCh0b29sYmFyLmxheWVyY29kZSwgdG9vbC50b29sdHlwZSlcXFwiIDphbHQub25jZT1cXFwidG9vbC50aXRsZVxcXCIgOnRpdGxlLm9uY2U9XFxcInRvb2wudGl0bGVcXFwiIDpzcmMub25jZT1cXFwicmVzb3VyY2VzdXJsKydpbWFnZXMvJyt0b29sLmljb25cXFwiPjwvaW1nPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC90ZW1wbGF0ZT5cXG4gIDxkaXYgdi1zaG93PVxcXCJzdGF0ZS5yZXRyaWV2aW5nRGF0YVxcXCIgc3R5bGU9XFxcImNvbG9yOiNmZmZmZmZcXFwiPlxcbiAgICA8IS0tPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIiB2LWRpc2FibGVkPVxcXCJlZGl0aW5nYnRuRW5hYmxlZFxcXCIgOmNsYXNzPVxcXCJ7J2J0bi1zdWNjZXNzJyA6IHN0YXRlLmVkaXRpbmdPbn1cXFwiIEBjbGljaz1cXFwidG9nZ2xlRWRpdGluZ1xcXCI+e3sgZWRpdGluZ2J0bmxhYmVsIH19PC9idXR0b24+LS0+XFxuICAgIDwhLS08YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlclxcXCIgdi1kaXNhYmxlZD1cXFwiIXN0YXRlLmhhc0VkaXRzXFxcIiBAY2xpY2s9XFxcInNhdmVFZGl0c1xcXCI+e3sgc2F2ZWJ0bmxhYmVsIH19PC9idXR0b24+LS0+XFxuICAgIDxzcGFuPkNhcmljYW1lbnRvIERhdGkgLi4uIDwvc3Bhbj48aW1nIDpzcmM9XFxcInJlc291cmNlc3VybCArJ2ltYWdlcy9sb2FkZXIuc3ZnJ1xcXCI+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm1lc3NhZ2VcXFwiPlxcbiAgICB7e3sgbWVzc2FnZSB9fX1cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiO1xuXG59LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZXNvbHZlZFZhbHVlID0gZzN3c2RrLmNvcmUudXRpbHMucmVzb2x2ZTtcbnZhciBpbmhlcml0ID0gZzN3c2RrLmNvcmUudXRpbHMuaW5oZXJpdDtcbnZhciBHVUkgPSBnM3dzZGsuZ3VpLkdVSTtcbi8vIGJhc2UgY2xhc3MgUGFuZWxcbnZhciBQYW5lbCA9ICBnM3dzZGsuZ3VpLlBhbmVsO1xudmFyIFNlcnZpY2UgPSByZXF1aXJlKCcuL3BsdWdpbnNlcnZpY2UnKTtcblxudmFyIFBhbmVsQ29tcG9uZW50ID0gVnVlLmV4dGVuZCh7XG4gIHRlbXBsYXRlOiByZXF1aXJlKCcuL3BhbmVsLmh0bWwnKSxcbiAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiBTZXJ2aWNlLnN0YXRlLFxuICAgICAgcmVzb3VyY2VzdXJsOiBHVUkuZ2V0UmVzb3VyY2VzVXJsKCksXG4gICAgICBlZGl0b3JzdG9vbGJhcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwiR2Vvbm90ZXNcIixcbiAgICAgICAgICBsYXllcmNvZGU6IFNlcnZpY2UubGF5ZXJDb2Rlcy5HRU9OT1RFUyxcbiAgICAgICAgICB0b29sczpbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRpdGxlOiBcIkFnZ2l1bmdpIEdlb25vdGFcIixcbiAgICAgICAgICAgICAgLy8gdG9vbHR5cGUgw6ggbCdhdHRyaWJ1dG8gY2hlIHNlcnZlciBwZXIgc2NlZ2xpZXJlIGlsIHRpcG8gZGkgdG9vbFxuICAgICAgICAgICAgICAvLyBkZWxsJ2VkaXRvciBnZW5lcmFsZSBjaGUgZG92csOgIGVzc2VyZSBpbXBvc3RhdG9cbiAgICAgICAgICAgICAgdG9vbHR5cGU6ICdhZGRmZWF0dXJlJyxcbiAgICAgICAgICAgICAgaWNvbjogJ2l0ZXJuZXRBZGRQb2ludC5wbmcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aXRsZTogXCJTcG9zdGEgR2Vvbm90YVwiLFxuICAgICAgICAgICAgICB0b29sdHlwZTogJ21vdmVmZWF0dXJlJyxcbiAgICAgICAgICAgICAgaWNvbjogJ2l0ZXJuZXRNb3ZlUG9pbnQucG5nJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGl0bGU6IFwiUmltdW92aSBHZW9ub3RhXCIsXG4gICAgICAgICAgICAgIHRvb2x0eXBlOiAnZGVsZXRlZmVhdHVyZScsXG4gICAgICAgICAgICAgIGljb246ICdpdGVybmV0RGVsZXRlUG9pbnQucG5nJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGl0bGU6IFwiRWRpdGEgZ2Vvbm90YVwiLFxuICAgICAgICAgICAgICB0b29sdHlwZTogJ2VkaXRhdHRyaWJ1dGVzJyxcbiAgICAgICAgICAgICAgaWNvbjogJ2VkaXRBdHRyaWJ1dGVzLnBuZydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBzYXZlYnRubGFiZWw6IFwiU2FsdmFcIlxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIC8vbWV0b2RvIGNoaWFtYXRvIHF1YW5kbyBzaSBjbGljY2Egc3UgYXZ2aWEvdGVybWluYSBlZGl0aW5nXG4gICAgdG9nZ2xlRWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgICBTZXJ2aWNlLnRvZ2dsZUVkaXRpbmcoKTtcbiAgICB9LFxuICAgIHNhdmVFZGl0czogZnVuY3Rpb24oKXtcbiAgICAgIFNlcnZpY2Uuc2F2ZUVkaXRzKCk7XG4gICAgfSxcbiAgICAvLyBjaGFpbWF0byBxdWFuZG8gc2kgY2xpY2NhIHN1bCB1biB0b29sIGRlbGwnZWRpdG9yXG4gICAgLy8gY29tZSBhZCBlc2VtcGlvICBhZGQgbW92ZSBlZGl0IGF0dHJpYnV0ZXMgZXRjIC4uXG4gICAgdG9nZ2xlRWRpdFRvb2w6IGZ1bmN0aW9uKGxheWVyQ29kZSwgdG9vbFR5cGUpIHtcbiAgICAgIGlmICh0b29sVHlwZSA9PSAnJyl7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vdmVyaWZpY2Egc2UgbCdlZGl0b3Igw6ggaW4gZWRpdGluZyBvbiB0cnVlXG4gICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nLm9uKSB7XG4gICAgICAgIFNlcnZpY2UudG9nZ2xlRWRpdFRvb2wobGF5ZXJDb2RlLCB0b29sVHlwZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBtZXRvZG8gY2hlIHZpZW5lIGNoaWFtYXRvIHBlciB2ZXJpZmljYXJlIGUgc2V0dGFyZVxuICAgIC8vIGxhIGNsYXNzZSAocHJlbXV0byBvIG5vIGRlbCBib3R0b25lIHRvb2wgaW4gcXVlc3Rpb25lKVxuICAgIGVkaXRpbmd0b29sYnRuVG9nZ2xlZDogZnVuY3Rpb24obGF5ZXJDb2RlLCB0b29sVHlwZSkge1xuICAgICAgcmV0dXJuICh0aGlzLnN0YXRlLmVkaXRpbmcubGF5ZXJDb2RlID09IGxheWVyQ29kZSAmJiB0aGlzLnN0YXRlLmVkaXRpbmcudG9vbFR5cGUgPT0gdG9vbFR5cGUpO1xuICAgIH0sXG4gICAgLy8gZnVuemlvbmUgY2hlIHZlcmlmaWNhIHNlIGFiaWxpdGFyZSBvIG1lbm8gaSBib3R0b25pIGRlaSB0b29sc1xuICAgIGVkaXRpbmd0b29sYnRuRW5hYmxlZDogZnVuY3Rpb24odG9vbCl7XG4gICAgICByZXR1cm4gdG9vbC50b29sdHlwZSAhPSAnJztcbiAgICB9LFxuICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgU2VydmljZS5zdG9wKCk7XG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGVkaXRpbmdidG5sYWJlbDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5lZGl0aW5nLm9uID8gXCJUZXJtaW5hIGVkaXRpbmdcIiA6IFwiQXZ2aWEgZWRpdGluZ1wiO1xuICAgIH0sXG4gICAgZWRpdGluZ2J0bkVuYWJsZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICh0aGlzLnN0YXRlLmVkaXRpbmcuZW5hYmxlZCB8fCB0aGlzLnN0YXRlLmVkaXRpbmcub24pID8gXCJcIiA6IFwiZGlzYWJsZWRcIjtcbiAgICB9LFxuICAgIG1lc3NhZ2U6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVzc2FnZSA9IFwiXCI7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuZWRpdGluZy5lbmFibGVkKXtcbiAgICAgICAgbWVzc2FnZSA9ICc8c3BhbiBzdHlsZT1cImNvbG9yOiByZWRcIj5BdW1lbnRhcmUgaWwgbGl2ZWxsbyBkaSB6b29tIHBlciBhYmlsaXRhcmUgbFxcJ2VkaXRpbmcnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xzdGVwLm1lc3NhZ2Upe1xuICAgICAgICB2YXIgbiA9IHRoaXMuc3RhdGUuZWRpdGluZy50b29sc3RlcC5uO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnN0YXRlLmVkaXRpbmcudG9vbHN0ZXAudG90YWw7XG4gICAgICAgIHZhciBzdGVwbWVzc2FnZSA9IHRoaXMuc3RhdGUuZWRpdGluZy50b29sc3RlcC5tZXNzYWdlO1xuICAgICAgICBtZXNzYWdlID0gJzxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOjIwcHhcIj5HVUlEQSBTVFJVTUVOVE86PC9kaXY+JyArXG4gICAgICAgICAgJzxkaXY+PHNwYW4+WycrbisnLycrdG90YWwrJ10gPC9zcGFuPjxzcGFuIHN0eWxlPVwiY29sb3I6IHllbGxvd1wiPicrc3RlcG1lc3NhZ2UrJzwvc3Bhbj48L2Rpdj4nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICB9XG59KTtcblxuZnVuY3Rpb24gRWRpdG9yUGFuZWwoKSB7XG4gIC8vIHByb3ByaWV0w6AgbmVjZXNzYXJpZS4gSW4gZnV0dXJvIGxlIG1ldHRlcm1vIGluIHVuYVxuICAvLyBjbGFzc2UgUGFuZWwgZGEgY3VpIGRlcml2ZXJhbm5vIHR1dHRpIGkgcGFubmVsbGkgY2hlIHZvZ2xpb25vIGVzc2VyZSBtb3N0cmF0aSBuZWxsYSBzaWRlYmFyXG4gIHRoaXMuaWQgPSBcImdlb25vdGVzLWVkaXRpbmctcGFuZWxcIjtcbiAgdGhpcy5uYW1lID0gXCJHZXN0aW9uZSBkYXRpIEdFT05PVEVTXCI7XG4gIHRoaXMuaW50ZXJuYWxQYW5lbCA9IG5ldyBQYW5lbENvbXBvbmVudCgpO1xufVxuXG5pbmhlcml0KEVkaXRvclBhbmVsLCBQYW5lbCk7XG5cbnZhciBwcm90byA9IFBhbmVsLnByb3RvdHlwZTtcblxuLy8gdmllbmUgcmljaGlhbWF0byBkYWxsYSB0b29sYmFyXG4vLyBxdWFuZG8gaWwgcGx1Z2luIGNoaWVkZSBkaSBtb3N0cmFyZSB1biBwcm9wcmlvIHBhbm5lbGxvIG5lbGxhIEdVSSAoR1VJLnNob3dQYW5lbClcbnByb3RvLm9uU2hvdyA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICBjb25zb2xlLmxvZygnb25zaG93Jyk7XG4gIHZhciBwYW5lbCA9IHRoaXMuaW50ZXJuYWxQYW5lbDtcbiAgcGFuZWwuJG1vdW50KCkuJGFwcGVuZFRvKGNvbnRhaW5lcik7XG4gIHJldHVybiByZXNvbHZlZFZhbHVlKHRydWUpO1xufTtcblxuLy8gcmljaGlhbWF0byBxdWFuZG8gbGEgR1VJIGNoaWVkZSBkaSBjaGl1ZGVyZSBpbCBwYW5uZWxsby4gU2Ugcml0b3JuYSBmYWxzZSBpbCBwYW5uZWxsbyBub24gdmllbmUgY2hpdXNvXG5wcm90by5vbkNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCdjbG9zZScpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgU2VydmljZS5zdG9wKClcbiAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICBzZWxmLmludGVybmFsUGFuZWwuJGRlc3Ryb3kodHJ1ZSk7XG4gICAgc2VsZi5pbnRlcm5hbFBhbmVsID0gbnVsbDtcbiAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gIH0pXG4gIC5mYWlsKGZ1bmN0aW9uKCl7XG4gICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gIH0pO1xuICBcbiAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRWRpdG9yUGFuZWw7XG5cbn0se1wiLi9wYW5lbC5odG1sXCI6NCxcIi4vcGx1Z2luc2VydmljZVwiOjd9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vUXVpIGNpIHNvbm8gZ2xpIGVkaXRvciAoY2xhc3NpKSB1c2F0aSBkYWkgdmFyaSBsYXllclxudmFyIEdlb25vdGVzRWRpdG9yID0gcmVxdWlyZSgnLi9lZGl0b3JzL2dlb25vdGVzZWRpdG9yJyk7XG5cbi8vZGVmaW5pc2NvIGkgY29kaWNpIGxheWVyXG52YXIgbGF5ZXJDb2RlcyA9IHRoaXMubGF5ZXJDb2RlcyA9IHtcbiAgICBHRU9OT1RFUzogJ25vdGUnXG59O1xuLy8gY2xhc3NpIGVkaXRvclxudmFyIGVkaXRvckNsYXNzID0ge307XG5lZGl0b3JDbGFzc1tsYXllckNvZGVzLkdFT05PVEVTXSA9IEdlb25vdGVzRWRpdG9yO1xuXG4vL2RlZmluaXNjbyBsYXllciBkZWwgcGx1Z2luIGNvbWUgb2dnZXR0b1xudmFyIGxheWVycyA9IHt9O1xudmFyIGxheWVyc1N0eWxlID0ge307XG52YXIgbGF5ZXJzRWRpdGluZ1N0eWxlID0ge307XG4vL2xheWVyXG4vL2xheWVyIFN0eWxlXG5sYXllcnNTdHlsZVtsYXllckNvZGVzLkdFT05PVEVTXSA9IGZ1bmN0aW9uKHN0eWxlQ29uZmlnKSB7XG4gIHZhciBpY29udXJsID0gc3R5bGVDb25maWcuaWNvbnVybCB8fCBudWxsO1xuICByZXR1cm4gbmV3IG9sLnN0eWxlLlN0eWxlKHtcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcbiAgICAgIGFuY2hvcjogWzAuNSwgMC41XSxcbiAgICAgIHNyYzogaWNvbnVybCAvLyAnZmFrZS5wbmcnXG4gICAgfSkpXG4gIH0pO1xufTtcblxubGF5ZXJzW2xheWVyQ29kZXMuR0VPTk9URVNdID0ge1xuICBsYXllckNvZGU6IGxheWVyQ29kZXMuR0VPTk9URVMsXG4gIHZlY3RvcjogbnVsbCxcbiAgZWRpdG9yOiBudWxsLFxuICBpY29udXJsOiBudWxsLFxuICBjcnM6IG51bGwsXG4gIC8vZGVmaW5pc2NvIGxvIHN0aWxlXG4gIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xuICAgICAgYW5jaG9yOiBbMC41LCAwLjVdLFxuICAgICAgc3JjOiAnZmFrZS5wbmcnXG4gICAgfSkpXG4gIH0pXG59O1xuXG5cblxuLy8gZGVmaW5pc2NvIGkgdG9vbHNcbmZ1bmN0aW9uIHRvb2xzKHBsdWdpbikge1xuICByZXR1cm4gdG9vbHMgPSBbXG4gICAge1xuICAgICAgbGF5ZXJOYW1lOidub3RlJyxcbiAgICAgIG5hbWU6IFwiR2Vvbm90ZXNcIixcbiAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICBpc0NoZWNrOiBmYWxzZSxcbiAgICAgIGFjdGlvbjogXy5iaW5kKHBsdWdpbi50b29sc0FjdGlvbnMuc2hvd0hpZGVMYXllciwgcGx1Z2luKVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJFZGl0YSBHZW9ub3Rlc1wiLFxuICAgICAgYWN0aW9uOiBfLmJpbmQocGx1Z2luLnRvb2xzQWN0aW9ucy5zaG93RWRpdGluZ1BhbmVsLCBwbHVnaW4pXG4gICAgfVxuICBdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBsYXllcnNDb2RlOiBsYXllckNvZGVzLFxuICAgIGxheWVyczogbGF5ZXJzLFxuICAgIGxheWVyc1N0eWxlOiBsYXllcnNTdHlsZSxcbiAgICBsYXllcnNFZGl0aW5nU3R5bGU6IGxheWVyc0VkaXRpbmdTdHlsZSxcbiAgICBlZGl0b3JDbGFzczogZWRpdG9yQ2xhc3MsXG4gICAgdG9vbHM6IHRvb2xzXG59O1xuXG59LHtcIi4vZWRpdG9ycy9nZW9ub3Rlc2VkaXRvclwiOjJ9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpbmhlcml0ID0gZzN3c2RrLmNvcmUudXRpbHMuaW5oZXJpdDtcbnZhciBHM1dPYmplY3QgPSBnM3dzZGsuY29yZS5HM1dPYmplY3Q7XG52YXIgR1VJID0gZzN3c2RrLmd1aS5HVUk7XG52YXIgVmVjdG9yTG9hZGVyTGF5ZXIgPSBnM3dzZGsuY29yZS5WZWN0b3JMYXllckxvYWRlcjtcbnZhciBGb3JtQ2xhc3MgPSByZXF1aXJlKCcuL2VkaXRvcnMvYXR0cmlidXRlc2Zvcm0nKTtcblxuZnVuY3Rpb24gR2Vvbm90ZXNTZXJ2aWNlKCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgLy9xdWkgdmFkbyAgYSBzZXR0YXJlIGlsIG1hcHNlcnZpY2VcbiAgdGhpcy5fbWFwU2VydmljZSA9IG51bGw7XG4gIHRoaXMuX2xvYWREYXRhT25NYXBWaWV3Q2hhbmdlTGlzdGVuZXIgPSBudWxsO1xuICB0aGlzLl9jdXJyZW50RWRpdGluZ0xheWVyID0gbnVsbDtcbiAgdGhpcy5fcGx1Z2luVG9vbHMgPSBudWxsO1xuXG4gIHRoaXMuc3RhdGUgPSB7XG4gICAgZWRpdGluZzoge1xuICAgICAgb246IGZhbHNlLFxuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBsYXllckNvZGU6IG51bGwsXG4gICAgICB0b29sVHlwZTogbnVsbCxcbiAgICAgIHN0YXJ0aW5nRWRpdGluZ1Rvb2w6IGZhbHNlLFxuICAgICAgdG9vbHN0ZXA6IHtcbiAgICAgICAgbjogbnVsbCxcbiAgICAgICAgdG90YWw6IG51bGwsXG4gICAgICAgIG1lc3NhZ2U6IG51bGxcbiAgICAgIH1cbiAgICB9LFxuICAgIHJldHJpZXZpbmdEYXRhOiBmYWxzZSxcbiAgICBoYXNFZGl0czogZmFsc2VcbiAgfTtcblxuICAvL2RlZmluaXNjbyBpbCBsb2FkZXIgZGVsIHBsdWdpblxuICB0aGlzLl9sb2FkZXIgPSBuZXcgVmVjdG9yTG9hZGVyTGF5ZXI7XG4gIC8vIHZpbmNvbGkgYWxsYSBwb3NzaWJpbGl0w6AgIGRpIGF0dGl2YXJlIGwnZWRpdGluZ1xuICB2YXIgZWRpdGluZ0NvbnN0cmFpbnRzID0ge1xuICAgIHJlc29sdXRpb246IDEgLy8gdmluY29sbyBkaSByaXNvbHV6aW9uZSBtYXNzaW1hXG4gIH07XG4gIC8vIGluaXppYWxpenphemlvbmUgZGVsIHBsdWdpblxuICAvLyBjaGlhbXRvIGRhbGwgJHNjcmlwdCh1cmwpIGRlbCBwbHVnaW4gcmVnaXN0cnlcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oY29uZmlnLCBwbHVnaW5Db25maWcpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fY3JzID0gbnVsbDtcbiAgICB0aGlzLl9sYXllcnMgPSBwbHVnaW5Db25maWcubGF5ZXJzO1xuICAgIHRoaXMuX2VkaXRvckNsYXNzID0gcGx1Z2luQ29uZmlnLmVkaXRvckNsYXNzO1xuICAgIHRoaXMubGF5ZXJDb2RlcyA9IHBsdWdpbkNvbmZpZy5sYXllcnNDb2RlO1xuICAgIHRoaXMuX2xheWVyc1N0eWxlID0gcGx1Z2luQ29uZmlnLmxheWVyc1N0eWxlO1xuICAgIHRoaXMuX2xheWVyc0VkaXRpbmdTdHlsZSA9IHBsdWdpbkNvbmZpZy5sYXllcnNFZGl0aW5nU3R5bGU7XG4gICAgdGhpcy5fY3VzdG9tVXJsUGFyYW1ldGVycyA9IHBsdWdpbkNvbmZpZy5jdXN0b21VcmxQYXJhbWV0ZXJzIHx8IG51bGw7XG4gICAgLy8gc2V0dG8gaWwgbWFwc2VydmljZSBjaGUgbWkgcGVybWV0dGUgZGkgaW5lcmFnaXJlIGNvbiBsYSBtYXBwYVxuICAgIHRoaXMuX21hcFNlcnZpY2UgPSBHVUkuZ2V0Q29tcG9uZW50KCdtYXAnKS5nZXRTZXJ2aWNlKCk7XG4gICAgLy92YWRvIGEgc2V0dGFyZSBsZSBpY29uIHVybHMgZSBpbCBjcnMgc2UgZXNpc3RlIGNpIHNvbm86XG4gICAgXy5mb3JFYWNoKHRoaXMuY29uZmlnLmxheWVycywgZnVuY3Rpb24obGF5ZXJDb25maWcsIGxheWVyTmFtZSApIHtcbiAgICAgIHNlbGYuX2xheWVyc1tsYXllck5hbWVdLmluZm91cmwgPSBsYXllckNvbmZpZy5pbmZvdXJsO1xuICAgICAgc2VsZi5fbGF5ZXJzW2xheWVyTmFtZV0uY3JzID0gXCJFUFNHOlwiK2xheWVyQ29uZmlnLmNycztcbiAgICAgIHNlbGYuc2V0TGF5ZXJTdHlsZShsYXllck5hbWUpO1xuICAgIH0pO1xuICAgIC8vaW5pemlhbGl6em8gaWwgbG9hZGVyXG4gICAgLy8gcGFzc2FuZG9nbGk6XG4gICAgLy8gMSAtIGxheWVycyBkZWwgcGx1Z2luIChzdHlsZSBldGMuLilcbiAgICAvLyAyIC0gbGEgYmFzZXVybCBjaGUgbWkgc2VydmVyIHBlciBpbnRlcmFnaXJlIGNvbiBpbCBzZXJ2ZXIgcGVyIGZhcmUgdHV0dGUgbGUgbW9kaWZpY2hlXG4gICAgdmFyIG9wdGlvbnNfbG9hZGVyID0ge1xuICAgICAgJ2xheWVycyc6IHRoaXMuX2xheWVycyxcbiAgICAgICdiYXNldXJsJzogdGhpcy5jb25maWcuYmFzZXVybCxcbiAgICAgICdtYXBTZXJ2aWNlJzogdGhpcy5fbWFwU2VydmljZVxuICAgIH07XG4gICAgLy9pbml6aWFsaXp6byBpbCBsb2FkZXJcbiAgICB0aGlzLl9sb2FkZXIuaW5pdChvcHRpb25zX2xvYWRlcik7XG4gICAgLy9jYXNvIGRpIGxvYWRpbmcgZGF0YVxuICAgIHRoaXMuX2xvYWRlci5vbignbG9hZGluZ3ZlY3RvcmxheWVyc3N0YXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnN0YXRlLnJldHJpZXZpbmdEYXRhID0gdHJ1ZTtcbiAgICB9KTtcbiAgICB0aGlzLl9sb2FkZXIub24oJ2xvYWRpbmd2ZWN0b3JsYXllcnNlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuc3RhdGUucmV0cmlldmluZ0RhdGEgPSBmYWxzZTtcbiAgICB9KTtcbiAgICB0aGlzLl9sb2FkZXIub24oJ3NldG1vZGUnLCBmdW5jdGlvbihtb2RlKSB7XG4gICAgICBzd2l0Y2gobW9kZSkge1xuICAgICAgICBjYXNlICd3JzpcbiAgICAgICAgICBzZWxmLnN0YXRlLmVkaXRpbmcub24gPSB0cnVlO1xuICAgICAgICAgIHNlbGYuZW1pdChcImVkaXRpbmdzdGFydGVkXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyJzpcbiAgICAgICAgICBzZWxmLnN0YXRlLmVkaXRpbmcub24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGRpc2FiaWxpdG8gbCdldmVudHVhbGUgdG9vbCBhdHRpdm8gc2UgdmllbmUgYXR0aXZhdGFcbiAgICAvLyB1bidpbnRlcmF6aW9uZSBkaSB0aXBvIHBvaW50ZXJJbnRlcmFjdGlvblNldCBzdWxsYSBtYXBwYVxuICAgIHRoaXMuX21hcFNlcnZpY2Uub24oJ3BvaW50ZXJJbnRlcmFjdGlvblNldCcsIGZ1bmN0aW9uKGludGVyYWN0aW9uKSB7XG4gICAgICB2YXIgY3VycmVudEVkaXRpbmdMYXllciA9IHNlbGYuX2dldEN1cnJlbnRFZGl0aW5nTGF5ZXIoKTtcbiAgICAgIGlmIChjdXJyZW50RWRpdGluZ0xheWVyKSB7XG4gICAgICAgIHZhciBhY3RpdmVUb29sID0gY3VycmVudEVkaXRpbmdMYXllci5lZGl0b3IuZ2V0QWN0aXZlVG9vbCgpLmluc3RhbmNlO1xuICAgICAgICAvLyBkZXZvIHZlcmlmaWNhcmUgY2hlIG5vbiBzaWEgdW4naW50ZXJhemlvbmUgYXR0aXZhdGEgZGEgdW5vIGRlaSB0b29sIGRpIGVkaXRpbmcgZGVsIHBsdWdpblxuICAgICAgICBpZiAoYWN0aXZlVG9vbCAmJiAhYWN0aXZlVG9vbC5vd25zSW50ZXJhY3Rpb24oaW50ZXJhY3Rpb24pKSB7XG4gICAgICAgICAgc2VsZi5fc3RvcEVkaXRpbmdUb29sKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyAgYWJpbGl0byBvIG1lbm8gbCdlZGl0aW5nIGluIGJhc2UgYWxsYSByaXNvbHV6aW9uZSBkZWxsYSBtYXBwYVxuICAgIC8qdGhpcy5fbWFwU2VydmljZS5vbmFmdGVyKCdzZXRNYXBWaWV3JyxmdW5jdGlvbihiYm94LCByZXNvbHV0aW9uLCBjZW50ZXIpe1xuICAgICAgc2VsZi5zdGF0ZS5lZGl0aW5nLmVuYWJsZWQgPSAocmVzb2x1dGlvbiA8IGVkaXRpbmdDb25zdHJhaW50cy5yZXNvbHV0aW9uKSA/IHRydWUgOiBmYWxzZTtcbiAgICB9KTsqL1xuICAgIC8vIGF0dHJpYnV0byBkZWxsbyBzdGF0byBkZWwgc3Jldml6aW8gY2hlIG1pIHBlcm1ldHRlIGRpIGFjY2VuZGVyZSBvIHNwZW5nZXJlIGwnZWRpdGluZ1xuICAgIC8vIHNlcnZlIGFuY2hlIHBlciBwb3RlciBpbiBmYXNlIGRpIHRvZ2dsZUVkaXRpbmcoYm90dG9uZSBkaSBhdnZpbyBlZGl0aW5nKSBkaSB2ZWRlcmUgc2UgcG9zc28gaW56aWFyZSBvIG1lbm9cbiAgICAvLyBjYXJpY2FyZSBpIHZldHRvcmlhbGkgZXRjLi5cbiAgICB0aGlzLnN0YXRlLmVkaXRpbmcuZW5hYmxlZCA9IHRydWU7Ly8odGhpcy5fbWFwU2VydmljZS5nZXRSZXNvbHV0aW9uKCkgPCBlZGl0aW5nQ29uc3RyYWludHMucmVzb2x1dGlvbikgPyB0cnVlIDogZmFsc2U7XG4gICAgLy8gcGVyIG9nbmkgbGF5ZXIgZGVmaW5pdGkgbmVsIHBsdWdpbiBzZXR0byBuYW1lIGUgaWRcbiAgICAvLyByZWN1cGVyYXRpIGdyYXppZSBhbCBtYXBzZXJ2aWNlXG4gICAgXy5mb3JFYWNoKHRoaXMuX2xheWVycywgZnVuY3Rpb24oTGF5ZXIsIGxheWVyQ29kZSkge1xuICAgICAgLy9yZWN1cGVybyBsJ2lkIGRhbGxhIGNvbmZpZ3VyYXppb25lIGRlbCBwbHVnaW5cbiAgICAgIC8vIGkgbGF5ZXJzIG5lbGxhIGNvbmZpZ3VyYXppb25lIHBhc3NhdGEgaSBsYXllcnMgaGFubm8gZHVlIGF0dHJpYnV0aTogaWQgZSBuYW1lXG4gICAgICB2YXIgbGF5ZXJJZCA9IGNvbmZpZy5sYXllcnNbbGF5ZXJDb2RlXS5pZDtcbiAgICAgIHZhciBsYXllck5hbWUgPSBjb25maWcubGF5ZXJzW2xheWVyQ29kZV0ubmFtZTtcbiAgICAgIC8vIHJlY3VwZXJhIGlsIGxheWVyIGRhbCBtYXBzZXJ2aWNlXG4gICAgICB2YXIgbGF5ZXIgPSBzZWxmLl9tYXBTZXJ2aWNlLmdldFByb2plY3QoKS5nZXRMYXllckJ5SWQobGF5ZXJJZCk7XG4gICAgICAvLyBtZXNzbyBhbCBtb21lbnRvIGdlbmVyaWNvIHBlciByaXByZW5kZXJlIHN0ZXNzbyBjb25tcG9ydGFtZW50byBJdGVybmV0XG4gICAgICBpZiAobGF5ZXIpIHtcbiAgICAgICAgLy8gcmVjdXBlcm8gbCdvcmlnaW4gbmFtZSBkYWwgcHJvamVjdGxheWVyXG4gICAgICAgIExheWVyLm5hbWUgPSBsYXllci5nZXRPcmlnTmFtZSgpO1xuICAgICAgICBMYXllci5pZCA9IGxheWVySWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBMYXllci5uYW1lID0gbGF5ZXJOYW1lO1xuICAgICAgICBMYXllci5pZCA9IGxheWVySWQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8vIGZpbmUgZGVsIG1ldG9kbyBJTklUXG5cbiAgdGhpcy5zZXRQbHVnaW5Ub29scyA9IGZ1bmN0aW9uKHRvb2xzKSB7XG4gICAgdGhpcy5fcGx1Z2luVG9vbHMgPSB0b29scztcbiAgfTtcbiAgdGhpcy5nZXRQbHVnaW5Ub29scyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9wbHVnaW5Ub29scztcbiAgfTtcblxuICB0aGlzLnNldExheWVyU3R5bGUgPSBmdW5jdGlvbihsYXllckNvZGUpIHtcbiAgICB2YXIgaWNvbnVybCA9IHRoaXMuX2xheWVyc1tsYXllckNvZGVdLmljb251cmw7XG5cbiAgICB2YXIgc3R5bGVPcHRpb25zID0ge1xuICAgICAgaWNvbnVybDogaWNvbnVybFxuICAgIH07XG4gICAgdmFyIHN0eWxlID0gdGhpcy5fbGF5ZXJzU3R5bGVbbGF5ZXJDb2RlXShzdHlsZU9wdGlvbnMpO1xuICAgIHRoaXMuX2xheWVyc1tsYXllckNvZGVdLnN0eWxlID0gc3R5bGU7XG4gICAgLy8gc2V0dG8gdGVtcG9yYW5lYW1lbnRlIGwnZWRpdG5nIHN0eWxlXG4gICAgdGhpcy5fbGF5ZXJzRWRpdGluZ1N0eWxlW2xheWVyQ29kZV0gPSBzdHlsZTtcbiAgfTtcblxuICB0aGlzLmdldExheWVyU3R5bGUgPSBmdW5jdGlvbihsYXllckNvZGUpIHtcblxuICAgIHJldHVybiB0aGlzLl9sYXllcnNbbGF5ZXJDb2RlXS5zdHlsZTtcbiAgfTtcblxuICB0aGlzLl90b2dnbGVDaGVja0JveFBsdWdpblRvb2wgPSBmdW5jdGlvbihsYXllckNvZGUpIHtcbiAgICB2YXIgcGx1Z2luVG9vbHMgPSBzZWxmLmdldFBsdWdpblRvb2xzKCk7XG4gICAgXy5mb3JFYWNoKHBsdWdpblRvb2xzLCBmdW5jdGlvbihwbHVnaW5Ub29sLCBpbmRleCkge1xuXG4gICAgICBpZiAoXy5oYXMocGx1Z2luVG9vbCwgJ3R5cGUnKSAmJiBwbHVnaW5Ub29sLmxheWVyTmFtZSA9PSBsYXllckNvZGUgJiYgcGx1Z2luVG9vbC50eXBlID09ICdjaGVja2JveCcpIHtcbiAgICAgICAgcGx1Z2luVG9vbHNbaW5kZXhdLmlzQ2hlY2sgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuaXNMYXllclZpc2libGUgPSBmdW5jdGlvbihsYXllckNvZGUpIHtcbiAgICB2YXIgdmVjdG9yTGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJDb2RlXS52ZWN0b3I7XG4gICAgcmV0dXJuIHZlY3RvckxheWVyLmlzVmlzaWJsZSgpO1xuICB9O1xuXG4gIHRoaXMuc2hvd0hpZGVMYXllciA9IGZ1bmN0aW9uKGxheWVyQ29kZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgdmVjdG9yTGF5ZXIgPSBudWxsO1xuICAgIGlmICh0aGlzLl9sb2FkZXIuaXNSZWFkeSgpKSB7XG4gICAgICB2ZWN0b3JMYXllciA9IHRoaXMuX2xheWVyc1tsYXllckNvZGVdLnZlY3RvcjtcbiAgICAgIHZlY3RvckxheWVyLnNldFZpc2libGUoIXZlY3RvckxheWVyLmlzVmlzaWJsZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9hZGVyLmxvYWRMYXllcnMoJ3InLCB0aGlzLl9jdXN0b21VcmxQYXJhbWV0ZXJzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5fYWRkVG9NYXAoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvL3N0b3BcbiAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgaWYgKHRoaXMuc3RhdGUuZWRpdGluZy5vbikge1xuICAgICAgdGhpcy5fY2FuY2VsT3JTYXZlKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5fc3RvcEVkaXRpbmcoKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICB9KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcbiAgfTtcblxuICAvLyBhdnZpbyBvIHRlcm1pbm8gbGEgc2Vzc2lvbmUgZGkgZWRpdGluZyBnZW5lcmFsZVxuICAvLyB1bnRvIGRpIHBhcnRlbnphIGRlbGwnYXZ2aW8gZGVsbCdlZGl0aW5nXG4gIHRoaXMudG9nZ2xlRWRpdGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGNyZW8gb2dnZXR0byBkZWZlcnJlZCBwZXIgcmVzdGl0dWlyZSB1bmEgcHJvbWlzZVxuICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICAvLyBxdWkgZGljZSBjaGUgc2UgbmVsIGNhc28gbGEgcmlzb2x1emlvbmUgZGVsbGEgbWFwcGEgdmEgYmVuZSAoc3RhdGUuZWRpdGluZy5lbmFibGVkKVxuICAgIC8vIGUgbm9uIMOoIGFuY29yYSBzdGF0byBhdHRpdmF0byBsJ2VkaXRpbmdcbiAgICAvLyBxdWluZGkgY2FzbyBwcmltYSB2b2x0YVxuICAgIGlmICh0aGlzLnN0YXRlLmVkaXRpbmcuZW5hYmxlZCAmJiAhdGhpcy5zdGF0ZS5lZGl0aW5nLm9uKSB7XG4gICAgICAvLyBmYWNjaW8gcGFydGlyZSBlZGl0aW5nXG4gICAgICB0aGlzLl9zdGFydEVkaXRpbmcoKTtcbiAgICB9XG4gICAgLy8gYWx0cmltZW50aSBzZSDDqCBnacOgIGluIGVkaXRpbmcgY2hpYW1vIGxvIHN0b3AgZGVsIHBsdWdpblxuICAgIC8vIGNoZSBub24gw6ggYWx0cm8gY2hlIGxvcyB0b3BvIGRlbGwnZWRpdGluZ1xuICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUuZWRpdGluZy5vbikge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcCgpO1xuICAgIH1cbiAgICAvLyByZXN0aXR1aXNjbyB1bmEgcHJvbWVzc2FcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuICB9O1xuXG4gIHRoaXMuc2F2ZUVkaXRzID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLl9zYXZlV2l0aG91dEFzaygpO1xuICAgIC8vdGhpcy5fY2FuY2VsT3JTYXZlKDIpO1xuICB9O1xuXG4gIC8vIGF2dmlhIHVubyBkZWkgdG9vbCBkaSBlZGl0aW5nIHRyYSBxdWVsbGkgc3VwcG9ydGF0aSBkYSBFZGl0b3IgKGFkZGZlYXR1cmUsIGVjYy4pXG4gIC8vIGZ1bnppb25lIGRlbGwnZWxlbWVudG8gcGFuZWwgdnVlXG4gIHRoaXMudG9nZ2xlRWRpdFRvb2wgPSBmdW5jdGlvbihsYXllckNvZGUsIHRvb2xUeXBlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vcHJlbmRvIGlsIGxheWVyIGluIGJhc2UgYWwgY29kaWNlIHBhc3NhdG8gZGFsbCBjb21wb25lbnRlIHZ1ZVxuICAgIHZhciBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllckNvZGVdO1xuICAgIGlmIChsYXllcikge1xuICAgICAgLy9yZWN1cHJlcm8gaWwgY3VycmVudCBsYXllciBpbiBlZGl0aW5nXG4gICAgICB2YXIgY3VycmVudEVkaXRpbmdMYXllciA9IHRoaXMuX2dldEN1cnJlbnRFZGl0aW5nTGF5ZXIoKTtcbiAgICAgIC8vIHNlIHNpIHN0YSB1c2FuZG8gdW4gdG9vbCBjaGUgcHJldmVkZSBsbyBzdGVzc28gbGF5ZXIgaW4gZWRpdGF6aW9uZVxuICAgICAgaWYgKGN1cnJlbnRFZGl0aW5nTGF5ZXIgJiYgbGF5ZXJDb2RlID09IGN1cnJlbnRFZGl0aW5nTGF5ZXIubGF5ZXJDb2RlKSB7XG4gICAgICAgIC8vIGUgbG8gc3Rlc3NvIHRvb2wgYWxsb3JhIGRpc2F0dGl2byBpbCB0b29sIChpbiBxdWFudG8gw6hcbiAgICAgICAgLy8gcHJlbXV0byBzdWxsbyBzdGVzc28gYm90dG9uZSlcbiAgICAgICAgaWYgKHRvb2xUeXBlID09IGN1cnJlbnRFZGl0aW5nTGF5ZXIuZWRpdG9yLmdldEFjdGl2ZVRvb2woKS5nZXRUeXBlKCkpIHtcbiAgICAgICAgICAvLyBzdGVzc28gdGlwbyBkaSB0b29sIHF1aW5kaSBzaSDDqCB2ZXJpZmljYXRvIHVuIHRvZ2dsZSBuZWwgYm90dG9uZVxuICAgICAgICAgIC8vIGFsbG9yYSBzdGlwcG8gbCdlZGl0aW5nIFRvb2xcbiAgICAgICAgICB0aGlzLl9zdG9wRWRpdGluZ1Rvb2woKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHRyaW1lbnRpIGF0dGl2byBpbCB0b29sIHJpY2hpZXN0b1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvL3N0b3BwbyBwcmV2ZW50aXZhbWVudGUgbCdlZGl0aW5nIHRvb2wgYXR0aXZvXG4gICAgICAgICAgdGhpcy5fc3RvcEVkaXRpbmdUb29sKCk7XG4gICAgICAgICAgLy9mYWNjaW8gcGFydGlyZSBsJ2VkaXRuZyB0b29sIHBhc3NhbmRvIGN1cnJlbnQgRWRpdGluZyBMYXllciBlIGlsIHRpcG8gZGkgdG9vbFxuICAgICAgICAgIHRoaXMuX3N0YXJ0RWRpdGluZ1Rvb2woY3VycmVudEVkaXRpbmdMYXllciwgdG9vbFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhbHRyaW1lbnRpIGNhc28gaW4gY3VpIG5vbiDDqCBzdGF0byBzZXR0YXRvIGlsIGN1cnJlbnQgZWRpdGluZyBsYXllciBvXG4gICAgICAgIC8vIGlsIGxheWVyIGNoZSBzaSBzdGEgY2VyY2FuZG8gZGkgZWRpdGFyZSDDqCBkaXZlcnNvIGRhIHF1ZWxsbyBpbiBlZGl0aW5nIGluIHByZWNlZGVuemFcbiAgICAgICAgLy8gbmVsIGNhc28gc2lhIGdpw6AgIGF0dGl2byB1biBlZGl0b3IgdmVyaWZpY28gZGkgcG90ZXJsbyBzdG9wcGFyZVxuICAgICAgICBpZiAoY3VycmVudEVkaXRpbmdMYXllciAmJiBjdXJyZW50RWRpdGluZ0xheWVyLmVkaXRvci5pc1N0YXJ0ZWQoKSkge1xuICAgICAgICAgIC8vIHNlIGxhIHRlcm1pbmF6aW9uZSBkZWxsJ2VkaXRpbmcgc2Fyw6AgIGFuZGF0YSBhIGJ1b24gZmluZSwgc2V0dG8gaWwgdG9vbFxuICAgICAgICAgIC8vIHByb3ZvIGEgc3RvcHBhcmVcbiAgICAgICAgICB0aGlzLl9jYW5jZWxPclNhdmUoMilcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fc3RvcEVkaXRvcigpKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9zdGFydEVkaXRpbmdUb29sKGxheWVyLCB0b29sVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9uZWwgY2FzbyBzaWEgbGEgcHJpbWEgdm9sdGEgY2hlIGludGVyYWdpc2NvIGNvbiB1biB0b29sXG4gICAgICAgICAgLy8gZSBxdWluZGkgbm9uIMOoIHN0YXRvIHNldHRhdG8gbmVzc3VuIGxheWVyIGluIGVkaXRpbmdcbiAgICAgICAgICB0aGlzLl9zdGFydEVkaXRpbmdUb29sKGxheWVyLCB0b29sVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy9mdW56aW9uZSBjaGUgcmVzdGl0dWlzY2UgbCdhcnJheSBkZWkgY29kaWNpIGRlaSBsYXllcnNcbiAgdGhpcy5nZXRMYXllckNvZGVzID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gXy52YWx1ZXModGhpcy5sYXllckNvZGVzKTtcbiAgfTtcblxuICAvKiBNRVRPREkgUFJJVkFUSSAqL1xuICAvLyBmdW56aW9uZSBwZXIgc2V0dGFyZSBpbCB2ZWN0b3JsYXllciBhbGxhIHByb3JpZXTDoCB2ZWN0b3IgZGVsIGxheWVyXG4gIHRoaXMuX3NldFVwVmVjdG9yTGF5ZXIgPSBmdW5jdGlvbihsYXllckNvZGUsIHZlY3RvckxheWVyKSB7XG4gICAgdGhpcy5fbGF5ZXJzW2xheWVyQ29kZV0udmVjdG9yID0gdmVjdG9yTGF5ZXI7XG4gIH07XG5cbiAgLy9mdW56aW9uZSBjaGUgcGVybWV0dGUgZGkgZmFyZSBpbCBzZXR1cCBkZWxsJ2VkaXRvciBlIGFzc2VnYW5ybG8gYWwgbGF5ZXJcbiAgdGhpcy5fc2V0VXBFZGl0b3IgPSBmdW5jdGlvbihsYXllckNvZGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy9vcHRpb24gZWRpdG9yXG4gICAgdmFyIG9wdGlvbnNfZWRpdG9yID0ge1xuICAgICAgJ21hcFNlcnZpY2UnOiBzZWxmLl9tYXBTZXJ2aWNlLFxuICAgICAgJ2Zvcm1DbGFzcyc6IEZvcm1DbGFzcyxcbiAgICAgICdlZGl0aW5nVmVjdG9yU3R5bGUnOiB0aGlzLl9sYXllcnNFZGl0aW5nU3R5bGVbbGF5ZXJDb2RlXVxuICAgIH07XG4gICAgLy8gcHJlbmRvIGlsIHZlY3RvciBsYXllciBkZWwgbGF5ZXJcbiAgICB2YXIgdmVjdG9yTGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJDb2RlXS52ZWN0b3I7XG4gICAgLy9HRVNUSU9ORSBFIElOSVpJQUxJWlpBWklPTkUgREVMTCdFRElUT1IgUkVMQVRJVk8gQUwgTEFZRVIgVkVUVE9SSUFMRVxuICAgIC8vY3JlbyBsJ2lzdGFuemEgZGVsbCdlZGl0b3IgY2hlIGdlc3RpcsOgIGlsIGxheWVyXG4gICAgdmFyIGVkaXRvciA9IG5ldyBzZWxmLl9lZGl0b3JDbGFzc1tsYXllckNvZGVdKG9wdGlvbnNfZWRpdG9yKTtcbiAgICAvL3NldHRvIGlsIGxheWVyIHZldHRvcmlhbGUgYXNzb2NpYXRvIGFsbCdlZGl0b3JcbiAgICAvLyBlIGkgdGlwaSBkaSB0b29scyBhc3NvY2lhdGkgYWQgZXNzb1xuICAgIGVkaXRvci5zZXRWZWN0b3JMYXllcih2ZWN0b3JMYXllcik7XG4gICAgLy9lbWV0dGUgZXZlbnRvIGNoZSDDqCBzdGF0YSBnZW5lcmF0YSB1bmEgbW9kaWZpY2EgbGEgbGF5ZXJcbiAgICBlZGl0b3Iub24oXCJkaXJ0eVwiLCBmdW5jdGlvbiAoZGlydHkpIHtcbiAgICAgIHNlbGYuc3RhdGUuaGFzRWRpdHMgPSBkaXJ0eTtcbiAgICB9KTtcbiAgICAvL2Fzc2Vnbm8gbCdpc3RhbnphIGVkaXRvciBhbCBsYXllciB0cmFtaXRlIGxhIHByb3ByaWV0w6AgZWRpdG9yXG4gICAgdGhpcy5fbGF5ZXJzW2xheWVyQ29kZV0uZWRpdG9yID0gZWRpdG9yO1xuICAgIC8vLy8gRklORSBHRVNUSU9ORSBFRElUT1JcbiAgfTtcblxuICAvL2ZhIHBhcnRpcmUgbCdlZGl0aW5nXG4gIHRoaXMuX3N0YXJ0RWRpdGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIG1pIGFzc2ljdXJvIGNoZSBzZSBwZXIgcXVhbHNpc2kgbW90aXZvXG4gICAgLy8gZmFjY2lvIHVubyBzdGFyZWRpdGluZyBkaSB1biBlZGl0aW5nIGdpw6AgYXZ2aWF0b1xuICAgIC8vIHJpdG9ybm8gcGVyY2jDqCBobyBnacOgIHR1dHRvIChsbyBmYWNjaW8gcGVyIHNpY3VyZW5uemEgbm9uIHNpIHNhIG1haSlcbiAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nLm9uIHx8IHRoaXMuc3RhdGUucmV0cmlldmluZ0RhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIGNoaWVkbyBhbCBsb2FkZXIgZGkgY2FyaWNhcmUgaSBkYXRpXG4gICAgaWYgKCF0aGlzLl9sb2FkZXIuaXNSZWFkeSgpKSB7XG4gICAgICB0aGlzLl9sb2FkZXIubG9hZExheWVycygndycsIHRoaXMuX2N1c3RvbVVybFBhcmFtZXRlcnMpIC8vIGNhcmljbyBpIGxheWVyIGluIG1vZGFsaXTDoCBlZGl0aW5nIChzY3JpdHR1cmEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICh2ZWN0b3JMYXllcnNDb2Rlcykge1xuICAgICAgICAgIC8vdW5hIHZvbHRhIGNoZSBpbCBsb2FkZXIgaGEgZmluaXRvIGRpIGNhcmljYXJlIGkgbGF5ZXIgdmV0dG9yaWFsaVxuICAgICAgICAgIC8vcXVlc3RvIG1pIHJlc3RpdHVpc2NlIGkgY29kaWNlIGRlaSBsYXllciBjaGUgc29ubyBzdGF0aSBjYXJpY2F0aShhcnJheSlcbiAgICAgICAgICBfLmZvckVhY2godmVjdG9yTGF5ZXJzQ29kZXMsIGZ1bmN0aW9uIChsYXllckNvZGUpIHtcbiAgICAgICAgICAgIC8vIHBlciBvZ25pIGxheWVyIGZhY2NpbyBpbCBzZXR1cCBkZWxsJ2VkaXRvclxuICAgICAgICAgICAgc2VsZi5fc2V0VXBFZGl0b3IobGF5ZXJDb2RlKTtcbiAgICAgICAgICAgIHNlbGYuX3RvZ2dsZUNoZWNrQm94UGx1Z2luVG9vbChsYXllckNvZGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIHNlIHR1dHRvICDDqCBhbmRhdG8gYSBidW9uIGZpbmUgYWdnaXVuZ28gaSBWZWN0b3JMYXllciBhbGxhIG1hcHBhXG4gICAgICAgICAgc2VsZi5fYWRkVG9NYXAoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIEdVSS5ub3RpZnkuZXJyb3IodCgnY291bGRfbm90X2xvYWRfdmVjdG9yX2xheWVycycpKTtcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9hZGVyLnNldE1vZGUoJ3cnKTtcbiAgICAgIHZhciB2ZWN0b3JMYXllcnNDb2RlcyA9IHRoaXMuX2xvYWRlci5nZXRWZWN0b3JMYXllcnNDb2RlcygpO1xuICAgICAgXy5mb3JFYWNoKHZlY3RvckxheWVyc0NvZGVzLCBmdW5jdGlvbiAobGF5ZXJDb2RlKSB7XG4gICAgICAgIC8vIHBlciBvZ25pIGxheWVyIGZhY2NpbyBpbCBzZXR1cCBkZWxsJ2VkaXRvclxuICAgICAgICBzZWxmLl9sb2FkZXIuc2V0VmVjdG9yRmVhdHVyZXNMb2NrKHNlbGYuX2xheWVyc1tsYXllckNvZGVdLnZlY3Rvciwgc2VsZi5fbG9hZGVyLmdldFZlY3RvckxheWVyRGF0YShsYXllckNvZGUpLmZlYXR1cmVsb2Nrcyk7XG4gICAgICAgIHNlbGYuX3NldFVwRWRpdG9yKGxheWVyQ29kZSk7XG4gICAgICAgIHNlbGYuX3RvZ2dsZUNoZWNrQm94UGx1Z2luVG9vbChsYXllckNvZGUpO1xuICAgICAgfSk7XG4gICAgICBzZWxmLnN0YXRlLmVkaXRpbmcub24gPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLl9zdG9wRWRpdGluZyA9IGZ1bmN0aW9uKHJlc2V0KSB7XG4gICAgLy8gc2UgcG9zc28gc3RvcHBhcmUgdHV0dGkgZ2xpIGVkaXRvci4uLlxuICAgIGlmICh0aGlzLl9zdG9wRWRpdG9yKHJlc2V0KSl7XG4gICAgICBfLmZvckVhY2godGhpcy5fbGF5ZXJzLCBmdW5jdGlvbihsYXllciwgbGF5ZXJDb2RlKSB7XG4gICAgICAgIHZhciB2ZWN0b3IgPSBsYXllci52ZWN0b3I7XG4gICAgICAgIGxheWVyLmVkaXRvcj0gbnVsbDtcbiAgICAgICAgc2VsZi5fdW5sb2NrTGF5ZXIoc2VsZi5fbGF5ZXJzW2xheWVyQ29kZV0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl91cGRhdGVFZGl0aW5nU3RhdGUoKTtcbiAgICAgIHRoaXMuX2xvYWRlci5zZXRNb2RlKCdyJyk7XG4gICAgICBzZWxmLl9jbGVhblVwKCk7XG4gICAgICBzZWxmLmVtaXQoXCJlZGl0aW5nc3RvcHBlZFwiKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5fY2xlYW5VcCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vdmFkbyBhZCBhbm51bGFyZSBsJ2VzdGVuemlvbmUgZGVsIGxvYWRlciBwZXIgcG90ZXIgcmljYXJpY2FyZSBpIGRhdGkgdmV0dHRvcmlhbGlcbiAgICAvL2RhIHJpdmVkZXJlO1xuICAgIHRoaXMuX2xvYWRlci5jbGVhblVwTGF5ZXJzKCk7XG5cbiAgfTtcbiAgLy9zZSBub24gw6ggYW5jb3JhIHBhcnRpdG8gZmFjY2lvIHBhcnRpcmUgbG8gc3RhcnQgZWRpdG9yXG4gIHRoaXMuX3N0YXJ0RWRpdG9yID0gZnVuY3Rpb24obGF5ZXIpe1xuICAgIC8vIGF2dmlvIGwnZWRpdG9yXG4gICAgLy8gcGFzc2FuZG9saSBpbCBzZXJ2aWNlIGNoZSBsbyBhY2NldHRhXG4gICAgaWYgKGxheWVyLmVkaXRvci5zdGFydCh0aGlzKSkge1xuICAgICAgLy8gcmVnaXN0cm8gaWwgY3VycmVudCBsYXllciBpbiBlZGl0aW5nXG4gICAgICB0aGlzLl9zZXRDdXJyZW50RWRpdGluZ0xheWVyKGxheWVyKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIC8vZnVuemlvbmUgY2hlIHZpZW5lIGNoaWFtYXRhIGFsIGNsaWNrIHN1IHVuIHRvb2wgZGVsbCdlZGl0aW5nIGUgc2VcbiAgLy9ub24gw6ggc3RhdG8gYXNzZWduYXRvIGFuY29yYSBuZXNzdW4gbGF5ZXIgY29tZSBjdXJyZW50IGxheWVyIGVkaXRpbmdcbiAgdGhpcy5fc3RhcnRFZGl0aW5nVG9vbCA9IGZ1bmN0aW9uKGxheWVyLCB0b29sVHlwZSwgb3B0aW9ucykge1xuICAgIC8vYXNzZWdubyB0cnVlIGFsbG8gc3RhcnRFZGl0aW5nVG9vbCBhdHRyaWJ1dG8gZGVsbGxvIHN0YXRlXG4gICAgdGhpcy5zdGF0ZS5zdGFydGluZ0VkaXRpbmdUb29sID0gdHJ1ZTtcbiAgICB2YXIgY2FuU3RhcnRUb29sID0gdHJ1ZTtcbiAgICAvL3ZlcmlmaWNvIHNlIGwnZWRpdG9yIMOoIHBhcnRpdG8gbyBtZW5vXG4gICAgaWYgKCFsYXllci5lZGl0b3IuaXNTdGFydGVkKCkpIHtcbiAgICAgIC8vc2Ugbm9uIMOoIGFuY29yYSBwYXJ0aXRvIGxvIGZhY2NpbyBwYXJ0aXJlIGUgbmUgcHJlbmRvIGlsIHJpc3VsdGF0b1xuICAgICAgLy8gdHJ1ZSBvIGZhbHNlXG4gICAgICBjYW5TdGFydFRvb2wgPSB0aGlzLl9zdGFydEVkaXRvcihsYXllcik7XG4gICAgfVxuICAgIC8vIHZlcmlmaWNhIHNlIGlsIHRvb2wgcHXDsiBlc3NlcmUgYXR0aXZhdG9cbiAgICAvLyBsJ2VkaXRvciB2ZXJpZmljYSBzZSBpbCB0b29sIHJpY2hpZXN0byDDqCBjb21wYXRpYmlsZVxuICAgIC8vIGNvbiBpIHRvb2xzIHByZXZpc3RpIGRhbGwnZWRpdG9yLiBDcmVhIGlzdGFuemEgZGkgdG9vbCBlIGF2dmlhIGlsIHRvb2xcbiAgICAvLyBhdHRyYXZlcnNvIGlsIG1ldG9kbyBydW5cbiAgICBpZiAoY2FuU3RhcnRUb29sICYmIGxheWVyLmVkaXRvci5zZXRUb29sKHRvb2xUeXBlLCBvcHRpb25zKSkge1xuICAgICAgdGhpcy5fdXBkYXRlRWRpdGluZ1N0YXRlKCk7XG4gICAgICB0aGlzLnN0YXRlLnN0YXJ0aW5nRWRpdGluZ1Rvb2wgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnN0YXJ0aW5nRWRpdGluZ1Rvb2wgPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdGhpcy5fc3RvcEVkaXRvciA9IGZ1bmN0aW9uKHJlc2V0KXtcbiAgICB2YXIgcmV0ID0gdHJ1ZTtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLl9nZXRDdXJyZW50RWRpdGluZ0xheWVyKCk7XG4gICAgaWYgKGxheWVyKSB7XG4gICAgICByZXQgPSBsYXllci5lZGl0b3Iuc3RvcChyZXNldCk7XG4gICAgICBpZiAocmV0KXtcbiAgICAgICAgdGhpcy5fc2V0Q3VycmVudEVkaXRpbmdMYXllcigpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvLyBmdW56aW9uZSBjaGUgc2kgb2NjdXBhIGRpIGludGVycm9tZXBlcmUgbCdlZHRpbmcgdG9vbFxuICB0aGlzLl9zdG9wRWRpdGluZ1Rvb2wgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmV0ID0gdHJ1ZTtcbiAgICAvLyByZWN1cGVyZSBpbCBsYXllciBpbiBjdXJyZW50IGVkaXRpbmdcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLl9nZXRDdXJyZW50RWRpdGluZ0xheWVyKCk7XG4gICAgLy8gc2UgZXNpc3RlIGVkIGVyYSBzdGF0byBzZXR0YXRvXG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAvLyBzZSBhbmRhdG8gYmVuZSByaXRvcm5hIHRydWVcbiAgICAgIHJldCA9IGxheWVyLmVkaXRvci5zdG9wVG9vbCgpO1xuICAgICAgaWYgKHJldCkge1xuICAgICAgICB0aGlzLl91cGRhdGVFZGl0aW5nU3RhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLy8gZnVuemlvbmUgY2hlIGFjY2V0dGEgY29tZSBwYXJhbWV0cm8gaWwgdGlwbyBkaVxuICAvLyBvcGVyYXppb25lIGRhIGZhcmUgYSBzZWNvbmRhIGRpY29zYSDDqCBhdnZlbnV0b1xuICB0aGlzLl9zYXZlV2l0aG91dEFzayA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICB2YXIgZGlydHlFZGl0b3JzID0ge307XG4gICAgLy8gdmVyaWZpY28gcGVyIG9nbmkgbGF5ZXIgc2UgbCdlZGl0byBhc3NvY2lhdG8gw6ggRGlydHlcbiAgICBfLmZvckVhY2godGhpcy5fbGF5ZXJzLCBmdW5jdGlvbihsYXllciwgbGF5ZXJDb2RlKSB7XG4gICAgICBpZiAobGF5ZXIuZWRpdG9yLmlzRGlydHkoKSkge1xuICAgICAgICBkaXJ0eUVkaXRvcnNbbGF5ZXJDb2RlXSA9IGxheWVyLmVkaXRvcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9zYXZlRWRpdHMoZGlydHlFZGl0b3JzKS5cbiAgICB0aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgfSkuZmFpbChmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgfSlcblxuICB9O1xuICB0aGlzLl9jYW5jZWxPclNhdmUgPSBmdW5jdGlvbih0eXBlKXtcbiAgICB2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgLy8gcGVyIHNpY3VyZXp6YSB0ZW5nbyB0dXR0byBkZW50cm8gdW4gZ3Jvc3NvIHRyeS9jYXRjaCxcbiAgICAvLyBwZXIgbm9uIHJpc2NoaWFyZSBkaSBwcm92b2NhcmUgaW5jb25zaXN0ZW56ZSBuZWkgZGF0aSBkdXJhbnRlIGlsIHNhbHZhdGFnZ2lvXG4gICAgdHJ5IHtcbiAgICAgIHZhciBfYXNrVHlwZSA9IDE7XG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICBfYXNrVHlwZSA9IHR5cGVcbiAgICAgIH1cbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBjaG9pY2UgPSBcImNhbmNlbFwiO1xuICAgICAgdmFyIGRpcnR5RWRpdG9ycyA9IHt9O1xuICAgICAgLy8gdmVyaWZpY28gcGVyIG9nbmkgbGF5ZXIgc2UgbCdlZGl0byBhc3NvY2lhdG8gw6ggRGlydHlcbiAgICAgIF8uZm9yRWFjaCh0aGlzLl9sYXllcnMsIGZ1bmN0aW9uKGxheWVyLCBsYXllckNvZGUpIHtcbiAgICAgICAgaWYgKGxheWVyLmVkaXRvci5pc0RpcnR5KCkpIHtcbiAgICAgICAgICBkaXJ0eUVkaXRvcnNbbGF5ZXJDb2RlXSA9IGxheWVyLmVkaXRvcjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyB2ZXJpZmljbyBzZSBjaSBzb25vIG8gbWVubyBlZGl0b3Igc3BvcmNoaVxuICAgICAgaWYoXy5rZXlzKGRpcnR5RWRpdG9ycykubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2Fza0NhbmNlbE9yU2F2ZShfYXNrVHlwZSkuXG4gICAgICAgIHRoZW4oZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgLy8gcml0b3JuYSBpbCB0aXBvIGRpIGF6aW9uZSBkYSBmYXJlXG4gICAgICAgICAgLy8gc2F2ZSwgY2FuY2VsLCBub3NhdmVcbiAgICAgICAgICBpZiAoYWN0aW9uID09PSAnc2F2ZScpIHtcbiAgICAgICAgICAgIC8vIHBhc3NvIGdsaSBlZGl0b3Igc3BvY2hpIGFsbGEgZnVuemlvbmUgX3NhdmVFZGl0c1xuICAgICAgICAgICAgc2VsZi5fc2F2ZUVkaXRzKGRpcnR5RWRpdG9ycykuXG4gICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09ICdub3NhdmUnKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gJ2NhbmNlbCcpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcbiAgfTtcbiAgLy8gZnVuemlvbmUgY2hlIGluIGJhc2UgYWwgdGlwbyBkaSBhc2tUeXBlXG4gIC8vIHZpc3VhbGl6emEgaWwgbW9kYWxlIGEgY3VpIHJpc3BvbmRlcmUsIHNhbHZhIGV0YyAuLlxuICB0aGlzLl9hc2tDYW5jZWxPclNhdmUgPSBmdW5jdGlvbih0eXBlKXtcbiAgICB2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgdmFyIGJ1dHRvblR5cGVzID0ge1xuICAgICAgU0FWRToge1xuICAgICAgICBsYWJlbDogXCJTYWx2YVwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYnRuLXN1Y2Nlc3NcIixcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgnc2F2ZScpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgTk9TQVZFOiB7XG4gICAgICAgIGxhYmVsOiBcIlRlcm1pbmEgc2VuemEgc2FsdmFyZVwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYnRuLWRhbmdlclwiLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKXtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdub3NhdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIENBTkNFTDoge1xuICAgICAgICBsYWJlbDogXCJBbm51bGxhXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJidG4tcHJpbWFyeVwiLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKXtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdjYW5jZWwnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgc3dpdGNoICh0eXBlKXtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgYnV0dG9ucyA9IHtcbiAgICAgICAgICBzYXZlOiBidXR0b25UeXBlcy5TQVZFLFxuICAgICAgICAgIG5vc2F2ZTogYnV0dG9uVHlwZXMuTk9TQVZFLFxuICAgICAgICAgIGNhbmNlbDogYnV0dG9uVHlwZXMuQ0FOQ0VMXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBidXR0b25zID0ge1xuICAgICAgICAgIHNhdmU6IGJ1dHRvblR5cGVzLlNBVkUsXG4gICAgICAgICAgY2FuY2VsOiBidXR0b25UeXBlcy5DQU5DRUxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIEdVSS5kaWFsb2cuZGlhbG9nKHtcbiAgICAgIG1lc3NhZ2U6IFwiVnVvaSBzYWx2YXJlIGRlZmluaXRpdmFtZW50ZSBsZSBtb2RpZmljaGU/XCIsXG4gICAgICB0aXRsZTogXCJTYWx2YXRhZ2dpbyBtb2RpZmljYVwiLFxuICAgICAgYnV0dG9uczogYnV0dG9uc1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gIH07XG4gIC8vIGZ1bnppb25lIGNoZSBzYWx2YSBpIGRhdGkgcmVsYXRpdmkgYWwgbGF5ZXIgdmV0dG9yaWFsZVxuICAvLyBkZWwgZGlydHlFZGl0b3JcbiAgdGhpcy5fc2F2ZUVkaXRzID0gZnVuY3Rpb24oZGlydHlFZGl0b3JzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICB0aGlzLl9zZW5kRWRpdHMoZGlydHlFZGl0b3JzKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgR1VJLm5vdGlmeS5zdWNjZXNzKFwiSSBkYXRpIHNvbm8gc3RhdGkgc2FsdmF0aSBjb3JyZXR0YW1lbnRlXCIpO1xuICAgICAgICAgIHNlbGYuX2NvbW1pdEVkaXRzKGRpcnR5RWRpdG9ycywgcmVzcG9uc2UpO1xuICAgICAgICAgIC8vc2VsZi5fbWFwU2VydmljZS5yZWZyZXNoTWFwKCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbChmdW5jdGlvbihlcnJvcnMpe1xuICAgICAgICAgIEdVSS5ub3RpZnkuZXJyb3IoXCJFcnJvcmUgbmVsIHNhbHZhdGFnZ2lvIHN1bCBzZXJ2ZXJcIik7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuICB9O1xuICAvLyBmdW56aW9uZSBjaGUgcHJlbmRlIGNvbWUgaW5ncmVzc28gZ2xpIGVkaXRvciBzcG9yY2hpXG4gIHRoaXMuX3NlbmRFZGl0cyA9IGZ1bmN0aW9uKGRpcnR5RWRpdG9ycykge1xuICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICB2YXIgZWRpdHNUb1B1c2ggPSBfLm1hcChkaXJ0eUVkaXRvcnMsIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGF5ZXJuYW1lOiBlZGl0b3IuZ2V0VmVjdG9yTGF5ZXIoKS5uYW1lLFxuICAgICAgICBlZGl0czogZWRpdG9yLmdldEVkaXRlZEZlYXR1cmVzKClcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBlc2VndWUgaWwgcG9zdCBkZWkgZGF0aVxuICAgIHRoaXMuX3Bvc3REYXRhKGVkaXRzVG9QdXNoKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXR1cm5lZCl7XG4gICAgICAgICAgaWYgKHJldHVybmVkLnJlc3VsdCl7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJldHVybmVkLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QocmV0dXJuZWQucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwoZnVuY3Rpb24ocmV0dXJuZWQpe1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChyZXR1cm5lZC5yZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gIH07XG5cbiAgdGhpcy5fY29tbWl0RWRpdHMgPSBmdW5jdGlvbihlZGl0b3JzLCByZXNwb25zZSl7XG4gICAgXy5mb3JFYWNoKGVkaXRvcnMsZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICB2YXIgbmV3QXR0cmlidXRlc0Zyb21TZXJ2ZXIgPSBudWxsO1xuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm5ldyl7XG4gICAgICAgIF8uZm9yRWFjaChyZXNwb25zZS5uZXcsIGZ1bmN0aW9uKHVwZGF0ZWRGZWF0dXJlQXR0cmlidXRlcyl7XG4gICAgICAgICAgdmFyIG9sZGZpZCA9IHVwZGF0ZWRGZWF0dXJlQXR0cmlidXRlcy5jbGllbnRpZDtcbiAgICAgICAgICB2YXIgZmlkID0gdXBkYXRlZEZlYXR1cmVBdHRyaWJ1dGVzLmlkO1xuICAgICAgICAgIGVkaXRvci5nZXRFZGl0VmVjdG9yTGF5ZXIoKS5zZXRGZWF0dXJlRGF0YShvbGRmaWQsZmlkLG51bGwsdXBkYXRlZEZlYXR1cmVBdHRyaWJ1dGVzKTtcbiAgICAgICAgICBfLmZvckVhY2gocmVzcG9uc2UubmV3X2xvY2tpZHMsIGZ1bmN0aW9uKG5ld2xvY2tJZCl7XG4gICAgICAgICAgICBlZGl0b3IuZ2V0VmVjdG9yTGF5ZXIoKS5hZGRMb2NrSWQobmV3bG9ja0lkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVkaXRvci5jb21taXQoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLl91bmRvRWRpdHMgPSBmdW5jdGlvbihkaXJ0eUVkaXRvcnMpe1xuICAgIHZhciBjdXJyZW50RWRpdGluZ0xheWVyQ29kZSA9IHRoaXMuX2dldEN1cnJlbnRFZGl0aW5nTGF5ZXIoKS5sYXllckNvZGU7XG4gICAgdmFyIGVkaXRvciA9IGRpcnR5RWRpdG9yc1tjdXJyZW50RWRpdGluZ0xheWVyQ29kZV07XG4gICAgdGhpcy5fc3RvcEVkaXRpbmcodHJ1ZSk7XG4gIH07XG4gIC8vIGVzZWd1ZSBsJ3VwZGF0ZSBkZWxsbyBzdGF0ZSBuZWwgY2FzbyBhZCBlc2VtcGlvIGRpIHVuIHRvZ2dsZSBkZWwgYm90dG9uZSB0b29sXG4gIHRoaXMuX3VwZGF0ZUVkaXRpbmdTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIHByZW5kZSBpbCBsYXllciBpbiBFZGl0aW5nXG4gICAgdmFyIGxheWVyID0gdGhpcy5fZ2V0Q3VycmVudEVkaXRpbmdMYXllcigpO1xuICAgIGlmIChsYXllcikge1xuICAgICAgdGhpcy5zdGF0ZS5lZGl0aW5nLmxheWVyQ29kZSA9IGxheWVyLmxheWVyQ29kZTtcbiAgICAgIHRoaXMuc3RhdGUuZWRpdGluZy50b29sVHlwZSA9IGxheWVyLmVkaXRvci5nZXRBY3RpdmVUb29sKCkuZ2V0VHlwZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUuZWRpdGluZy5sYXllckNvZGUgPSBudWxsO1xuICAgICAgdGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xUeXBlID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVG9vbFN0ZXBzU3RhdGUoKTtcbiAgfTtcblxuICB0aGlzLl91cGRhdGVUb29sU3RlcHNTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLl9nZXRDdXJyZW50RWRpdGluZ0xheWVyKCk7XG4gICAgdmFyIGFjdGl2ZVRvb2w7XG4gICAgaWYgKGxheWVyKSB7XG4gICAgICBhY3RpdmVUb29sID0gbGF5ZXIuZWRpdG9yLmdldEFjdGl2ZVRvb2woKTtcbiAgICB9XG4gICAgaWYgKGFjdGl2ZVRvb2wgJiYgYWN0aXZlVG9vbC5nZXRUb29sKCkpIHtcbiAgICAgIHZhciB0b29sSW5zdGFuY2UgPSBhY3RpdmVUb29sLmdldFRvb2woKTtcbiAgICAgIGlmICh0b29sSW5zdGFuY2Uuc3RlcHMpe1xuICAgICAgICB0aGlzLl9zZXRUb29sU3RlcFN0YXRlKGFjdGl2ZVRvb2wpO1xuICAgICAgICB0b29sSW5zdGFuY2Uuc3RlcHMub24oJ3N0ZXAnLCBmdW5jdGlvbihpbmRleCxzdGVwKSB7XG4gICAgICAgICAgc2VsZi5fc2V0VG9vbFN0ZXBTdGF0ZShhY3RpdmVUb29sKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRvb2xJbnN0YW5jZS5zdGVwcy5vbignY29tcGxldGUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgIHNlbGYuX3NldFRvb2xTdGVwU3RhdGUoKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxmLl9zZXRUb29sU3RlcFN0YXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuX3NldFRvb2xTdGVwU3RhdGUgPSBmdW5jdGlvbihhY3RpdmVUb29sKXtcbiAgICB2YXIgaW5kZXgsIHRvdGFsLCBtZXNzYWdlO1xuICAgIGlmIChfLmlzVW5kZWZpbmVkKGFjdGl2ZVRvb2wpKXtcbiAgICAgIGluZGV4ID0gbnVsbDtcbiAgICAgIHRvdGFsID0gbnVsbDtcbiAgICAgIG1lc3NhZ2UgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciB0b29sID0gYWN0aXZlVG9vbC5nZXRUb29sKCk7XG4gICAgICB2YXIgbWVzc2FnZXMgPSB0b29sU3RlcHNNZXNzYWdlc1thY3RpdmVUb29sLmdldFR5cGUoKV07XG4gICAgICBpbmRleCA9IHRvb2wuc3RlcHMuY3VycmVudFN0ZXBJbmRleCgpO1xuICAgICAgdG90YWwgPSB0b29sLnN0ZXBzLnRvdGFsU3RlcHMoKTtcbiAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlc1tpbmRleF07XG4gICAgICBpZiAoXy5pc1VuZGVmaW5lZChtZXNzYWdlKSkge1xuICAgICAgICBpbmRleCA9IG51bGw7XG4gICAgICAgIHRvdGFsID0gbnVsbDtcbiAgICAgICAgbWVzc2FnZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuZWRpdGluZy50b29sc3RlcC5uID0gaW5kZXggKyAxO1xuICAgIHRoaXMuc3RhdGUuZWRpdGluZy50b29sc3RlcC50b3RhbCA9IHRvdGFsO1xuICAgIHRoaXMuc3RhdGUuZWRpdGluZy50b29sc3RlcC5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfTtcblxuICB0aGlzLl9nZXRDdXJyZW50RWRpdGluZ0xheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRFZGl0aW5nTGF5ZXI7XG4gIH07XG5cbiAgdGhpcy5fc2V0Q3VycmVudEVkaXRpbmdMYXllciA9IGZ1bmN0aW9uKGxheWVyKXtcbiAgICBpZiAoIWxheWVyKXtcbiAgICAgIHRoaXMuX2N1cnJlbnRFZGl0aW5nTGF5ZXIgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRFZGl0aW5nTGF5ZXIgPSBsYXllcjtcbiAgICB9XG4gIH07XG4gIHRoaXMuX2FkZFRvTWFwID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vcmVjdXBlcm8gbCdlbGVtZW50byBtYXAgb2wzXG4gICAgdmFyIG1hcCA9IHRoaXMuX21hcFNlcnZpY2Uudmlld2VyLm1hcDtcbiAgICB2YXIgbGF5ZXJDb2RlcyA9IHRoaXMuZ2V0TGF5ZXJDb2RlcygpO1xuICAgIC8vb2duaSBsYXllciBsbyBhZ2dpdW5nbyBhbGxhIG1hcHBhXG4gICAgLy9jb24gaWwgbWV0b2RvIGFkZFRvTWFwIGRpIHZlY3RvckxheWVyXG4gICAgXy5mb3JFYWNoKGxheWVyQ29kZXMsIGZ1bmN0aW9uKGxheWVyQ29kZSkge1xuICAgICAgc2VsZi5fbGF5ZXJzW2xheWVyQ29kZV0udmVjdG9yLmFkZFRvTWFwKG1hcCk7XG4gICAgfSk7XG4gICAgLy9hZ2dpdW5nbyBpbCBsaXN0ZW5lclxuICAgIGlmICghdGhpcy5fbG9hZERhdGFPbk1hcFZpZXdDaGFuZ2VMaXN0ZW5lcikge1xuICAgICAgLy92aWVuZSByaXRvcm5hdGEgbGEgbGlzdGVuZXIga2V5XG4gICAgICB0aGlzLl9sb2FkRGF0YU9uTWFwVmlld0NoYW5nZUxpc3RlbmVyID0gdGhpcy5fbWFwU2VydmljZS5vbmFmdGVyKCdzZXRNYXBWaWV3JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5lZGl0aW5nLm9uICYmIHNlbGYuc3RhdGUuZWRpdGluZy5lbmFibGVkKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZGVyLmxvYWRBbGxWZWN0b3JzRGF0YSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5fcG9zdERhdGEgPSBmdW5jdGlvbihlZGl0c1RvUHVzaCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBtYW5kbyB1biBvZ2dldHRvIGNvbWUgbmVsIGNhc28gZGVsIGJhdGNoLFxuICAgIC8vIG1hIGluIHF1ZXN0byBjYXNvIGRldm8gcHJlbmRlcmUgc29sbyBpbCBwcmltbywgZSB1bmljbywgZWxlbWVudG9cbiAgICBpZiAoZWRpdHNUb1B1c2gubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Bvc3RCYXRjaERhdGEoZWRpdHNUb1B1c2gpO1xuICAgIH1cbiAgICB2YXIgbGF5ZXJOYW1lID0gZWRpdHNUb1B1c2hbMF0ubGF5ZXJuYW1lO1xuICAgIHZhciBlZGl0cyA9IGVkaXRzVG9QdXNoWzBdLmVkaXRzO1xuICAgIHZhciBqc29uRGF0YSA9IEpTT04uc3RyaW5naWZ5KGVkaXRzKTtcbiAgICByZXR1cm4gJC5wb3N0KHtcbiAgICAgIHVybDogdGhpcy5jb25maWcuYmFzZXVybCtsYXllck5hbWUrXCIvP1wiK3NlbGYuX2N1c3RvbVVybFBhcmFtZXRlcnMsXG4gICAgICBkYXRhOiBqc29uRGF0YSxcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuX3Bvc3RCYXRjaERhdGEgPSBmdW5jdGlvbihtdWx0aUVkaXRzVG9QdXNoKXtcbiAgICB2YXIgZWRpdHMgPSB7fTtcbiAgICBfLmZvckVhY2gobXVsdGlFZGl0c1RvUHVzaCxmdW5jdGlvbihlZGl0c1RvUHVzaCl7XG4gICAgICBlZGl0c1tlZGl0c1RvUHVzaC5sYXllcm5hbWVdID0gZWRpdHNUb1B1c2guZWRpdHM7XG4gICAgfSk7XG4gICAgdmFyIGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoZWRpdHMpO1xuICAgIHJldHVybiAkLnBvc3Qoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy5iYXNldXJsLFxuICAgICAgZGF0YToganNvbkRhdGEsXG4gICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLl91bmxvY2sgPSBmdW5jdGlvbigpe1xuICAgIHZhciBsYXllckNvZGVzID0gdGhpcy5nZXRMYXllckNvZGVzKCk7XG4gICAgLy8gZXNlZ3VvIGxlIHJpY2hpZXN0ZSBkZWxsZSBjb25maWd1cmF6aW9uaSBlIG1pIHRlbmdvIGxlIHByb21lc3NlXG4gICAgdmFyIHVubG9ja1JlcXVlc3RzID0gXy5tYXAobGF5ZXJDb2RlcyxmdW5jdGlvbihsYXllckNvZGUpe1xuICAgICAgcmV0dXJuIHNlbGYuX3VubG9ja0xheWVyKHNlbGYuX2xheWVyc1tsYXllckNvZGVdKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLl91bmxvY2tMYXllciA9IGZ1bmN0aW9uKGxheWVyQ29uZmlnKXtcbiAgICAkLmdldCh0aGlzLmNvbmZpZy5iYXNldXJsK2xheWVyQ29uZmlnLm5hbWUrXCIvP3VubG9ja1wiICsgdGhpcy5fY3VzdG9tVXJsUGFyYW1ldGVycyk7XG4gIH07XG4gIC8vZ2V0IGxvYWRlciBzZXJ2aWNlXG4gIHRoaXMuZ2V0TG9hZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWRlcjtcbiAgfVxufVxuXG5pbmhlcml0KEdlb25vdGVzU2VydmljZSwgRzNXT2JqZWN0KTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IEdlb25vdGVzU2VydmljZTtcbn0se1wiLi9lZGl0b3JzL2F0dHJpYnV0ZXNmb3JtXCI6MX1dfSx7fSxbM10pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
