!function e(t,i,n){function s(r,a){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){var i=t[r][1][e];return s(i?i:e)},d,d.exports,e,t,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){function n(t){o(this,t),this._formPanel=l}var s=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,r=g3wsdk.gui.FormPanel,a=g3wsdk.gui.Form,l=r.extend({});s(n,a),e.exports=n},{}],2:[function(t,e,i){function n(t){t.formTools=[],o(this,t);var e=function(){a.saveEdits()};this.onafter("addFeature",e),this.onafter("deleteFeature",e),this.onafter("moveFeature",e),this.onafter("pickFeature",e)}var s=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,r=g3wsdk.core.Editor,a=t("../pluginservice");t("./attributesform");s(n,r),e.exports=n},{"../pluginservice":7,"./attributesform":1}],3:[function(t,e,i){var n=g3wsdk.core.utils.inherit,s=g3wsdk.core.utils.base,o=g3wsdk.core.Plugin,r=g3wsdk.gui.GUI,a=g3wsdk.core.ProjectsRegistry,l=t("pluginconfig"),c=t("./pluginservice"),d=t("./panel"),u=function(){s(this),this.name="notes",this.config=null,this.service=null,this.tools=null,this.init=function(){this.setPluginService(c),this.config=this.getPluginConfig(),this.setUpIconUrl(this.config.layers),this.registerPlugin(this.config.gid)&&(r.ready?this.setupGui():r.on("ready",_.bind(this.setupGui,this)),l.customUrlParameters=this.createPluginCustomUrlParameters(),this.service.init(this.config,l))},this.setupGui=function(){var t=r.getComponent("tools"),e=t.getService();this.tools=l.tools(this),this.service.setPluginTools(this.tools),e.addTools(1,"GEONOTES",this.tools)},this.toolsActions={showHideLayer:function(){this.service.showHideLayer(l.layersCode.GEONOTES)},showEditingPanel:function(){var t=new d;this.service.toggleEditing(),r.showPanel(t)}},this.createPluginCustomUrlParameters=function(){var t="&",e=a.getCurrentProject();return t+="project_type="+e.getType()+"&project_id="+e.getId()},this.setUpIconUrl=function(t){_.forEach(t,function(t){l.layers[t.name].iconurl=t.iconurl})},this.setupToolsAction=function(t){_.forEach(t,function(t){})}};n(u,o),function(t){t.init()}(new u)},{"./panel":5,"./pluginservice":7,pluginconfig:6}],4:[function(t,e,i){e.exports='<div class="g3w-iternet-editing-panel">\n  <template v-for="toolbar in editorstoolbars">\n    <div class="panel panel-primary">\n      <div class="panel-heading">\n        <h3 class="panel-title">{{ toolbar.name }}</h3>\n      </div>\n      <div class="panel-body">\n        <template v-for="tool in toolbar.tools">\n          <div class="editbtn" :class="{\'enabled\' : (state.editing.on && editingtoolbtnEnabled(tool)), \'toggled\' : editingtoolbtnToggled(toolbar.layercode, tool.tooltype)}">\n            <img height="30px" width="30px" @click="toggleEditTool(toolbar.layercode, tool.tooltype)" :alt.once="tool.title" :title.once="tool.title" :src.once="resourcesurl+\'images/\'+tool.icon"></img>\n          </div>\n        </template>\n      </div>\n    </div>\n  </template>\n  <div v-show="state.retrievingData" style="color:#ffffff">\n    <!--<button class="btn btn-primary" v-disabled="editingbtnEnabled" :class="{\'btn-success\' : state.editingOn}" @click="toggleEditing">{{ editingbtnlabel }}</button>-->\n    <!--<button class="btn btn-danger" v-disabled="!state.hasEdits" @click="saveEdits">{{ savebtnlabel }}</button>-->\n    <span>Caricamento Dati ... </span><img :src="resourcesurl +\'images/loader.svg\'">\n  </div>\n  <div class="message">\n    {{{ message }}}\n  </div>\n</div>\n'},{}],5:[function(t,e,i){function n(){this.id="geonotes-editing-panel",this.name="Gestione dati GEONOTES",this.internalPanel=new c}var s=g3wsdk.core.utils.resolve,o=g3wsdk.core.utils.inherit,r=g3wsdk.gui.GUI,a=g3wsdk.gui.Panel,l=t("./pluginservice"),c=Vue.extend({template:t("./panel.html"),data:function(){return{state:l.state,resourcesurl:r.getResourcesUrl(),editorstoolbars:[{name:"Geonotes",layercode:l.layerCodes.GEONOTES,tools:[{title:"Aggiungi Geonota",tooltype:"addfeature",icon:"iternetAddPoint.png"},{title:"Sposta Geonota",tooltype:"movefeature",icon:"iternetMovePoint.png"},{title:"Rimuovi Geonota",tooltype:"deletefeature",icon:"iternetDeletePoint.png"},{title:"Edita geonota",tooltype:"editattributes",icon:"editAttributes.png"}]}],savebtnlabel:"Salva"}},methods:{toggleEditing:function(){l.toggleEditing()},saveEdits:function(){l.saveEdits()},toggleEditTool:function(t,e){""!=e&&this.state.editing.on&&l.toggleEditTool(t,e)},editingtoolbtnToggled:function(t,e){return this.state.editing.layerCode==t&&this.state.editing.toolType==e},editingtoolbtnEnabled:function(t){return""!=t.tooltype},onClose:function(){l.stop()}},computed:{editingbtnlabel:function(){return this.state.editing.on?"Termina editing":"Avvia editing"},editingbtnEnabled:function(){return this.state.editing.enabled||this.state.editing.on?"":"disabled"},message:function(){var t="";if(this.state.editing.enabled){if(this.state.editing.toolstep.message){var e=this.state.editing.toolstep.n,i=this.state.editing.toolstep.total,n=this.state.editing.toolstep.message;t='<div style="margin-top:20px">GUIDA STRUMENTO:</div><div><span>['+e+"/"+i+'] </span><span style="color: yellow">'+n+"</span></div>"}}else t='<span style="color: red">Aumentare il livello di zoom per abilitare l\'editing';return t}}});o(n,a);var d=a.prototype;d.onShow=function(t){console.log("onshow");var e=this.internalPanel;return e.$mount().$appendTo(t),s(!0)},d.onClose=function(){console.log("close");var t=this,e=$.Deferred();return l.stop().then(function(){t.internalPanel.$destroy(!0),t.internalPanel=null,e.resolve()}).fail(function(){e.reject()}),e.promise()},e.exports=n},{"./panel.html":4,"./pluginservice":7}],6:[function(t,e,i){function n(t){return n=[{layerName:"note",name:"Geonotes",type:"checkbox",isCheck:!1,action:_.bind(t.toolsActions.showHideLayer,t)},{name:"Edita Geonotes",action:_.bind(t.toolsActions.showEditingPanel,t)}]}var s=t("./editors/geonoteseditor"),o=this.layerCodes={GEONOTES:"note"},r={};r[o.GEONOTES]=s;var a={},l={},c={};l[o.GEONOTES]=function(t){var e=t.iconurl||null;return new ol.style.Style({image:new ol.style.Icon({anchor:[.5,.5],src:e})})},a[o.GEONOTES]={layerCode:o.GEONOTES,vector:null,editor:null,iconurl:null,crs:null,style:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,.5],src:"fake.png"})})},e.exports={layersCode:o,layers:a,layersStyle:l,layersEditingStyle:c,editorClass:r,tools:n}},{"./editors/geonoteseditor":2}],7:[function(e,i,n){function s(){var e=this;this._mapService=null,this._loadDataOnMapViewChangeListener=null,this._currentEditingLayer=null,this._pluginTools=null,this.state={editing:{on:!1,enabled:!1,layerCode:null,toolType:null,startingEditingTool:!1,toolstep:{n:null,total:null,message:null}},retrievingData:!1,hasEdits:!1},this._loader=new l;this.init=function(t,e){var i=this;this.config=t,this._crs=null,this._layers=e.layers,this._editorClass=e.editorClass,this.layerCodes=e.layersCode,this._layersStyle=e.layersStyle,this._layersEditingStyle=e.layersEditingStyle,this._customUrlParameters=e.customUrlParameters||null,this._mapService=a.getComponent("map").getService(),_.forEach(this.config.layers,function(t,e){i._layers[e].infourl=t.infourl,i._layers[e].crs="EPSG:"+t.crs,i.setLayerStyle(e)});var n={layers:this._layers,baseurl:this.config.baseurl,mapService:this._mapService};this._loader.init(n),this._loader.on("loadingvectorlayersstart",function(){i.state.retrievingData=!0}),this._loader.on("loadingvectorlayersend",function(){i.state.retrievingData=!1}),this._loader.on("setmode",function(t){switch(t){case"w":i.state.editing.on=!0,i.emit("editingstarted");break;case"r":i.state.editing.on=!1}}),this._mapService.on("pointerInteractionSet",function(t){var e=i._getCurrentEditingLayer();if(e){var n=e.editor.getActiveTool().instance;n&&!n.ownsInteraction(t)&&i._stopEditingTool()}}),this.state.editing.enabled=!0,_.forEach(this._layers,function(e,n){var s=t.layers[n].id,o=t.layers[n].name,r=i._mapService.getProject().getLayerById(s);r?(e.name=r.getOrigName(),e.id=s):(e.name=o,e.id=s)})},this.setPluginTools=function(t){this._pluginTools=t},this.getPluginTools=function(){return this._pluginTools},this.setLayerStyle=function(t){var e=this._layers[t].iconurl,i={iconurl:e},n=this._layersStyle[t](i);this._layers[t].style=n,this._layersEditingStyle[t]=n},this.getLayerStyle=function(t){return this._layers[t].style},this._toggleCheckBoxPluginTool=function(t){var i=e.getPluginTools();_.forEach(i,function(e,n){_.has(e,"type")&&e.layerName==t&&"checkbox"==e.type&&(i[n].isCheck=!0)})},this.isLayerVisible=function(t){var e=this._layers[t].vector;return e.isVisible()},this.showHideLayer=function(t){var e=this,i=null;this._loader.isReady()?(i=this._layers[t].vector,i.setVisible(!i.isVisible())):this._loader.loadLayers("r",this._customUrlParameters).then(function(){e._addToMap()})},this.stop=function(){var t=$.Deferred();return this.state.editing.on?this._cancelOrSave().then(function(){e._stopEditing(),t.resolve()}).fail(function(){t.reject()}):t.resolve(),t.promise()},this.toggleEditing=function(){var t=$.Deferred();if(this.state.editing.enabled&&!this.state.editing.on)this._startEditing();else if(this.state.editing.on)return this.stop();return t.promise()},this.saveEdits=function(){this._saveWithoutAsk()},this.toggleEditTool=function(t,e){var i=this,n=this._layers[t];if(n){var s=this._getCurrentEditingLayer();s&&t==s.layerCode?e==s.editor.getActiveTool().getType()?this._stopEditingTool():(this._stopEditingTool(),this._startEditingTool(s,e)):s&&s.editor.isStarted()?this._cancelOrSave(2).then(function(){i._stopEditor()&&i._startEditingTool(n,e)}):this._startEditingTool(n,e)}},this.getLayerCodes=function(){return _.values(this.layerCodes)},this._setUpVectorLayer=function(t,e){this._layers[t].vector=e},this._setUpEditor=function(t){var e=this,i={mapService:e._mapService,formClass:c,editingVectorStyle:this._layersEditingStyle[t]},n=this._layers[t].vector,s=new e._editorClass[t](i);s.setVectorLayer(n),s.on("dirty",function(t){e.state.hasEdits=t}),this._layers[t].editor=s},this._startEditing=function(){if(!this.state.editing.on&&!this.state.retrievingData){var e=this;if(this._loader.isReady()){this._loader.setMode("w");var i=this._loader.getVectorLayersCodes();_.forEach(i,function(t){e._loader.setVectorFeaturesLock(e._layers[t].vector,e._loader.getVectorLayerData(t).featurelocks),e._setUpEditor(t),e._toggleCheckBoxPluginTool(t)}),e.state.editing.on=!0}else this._loader.loadLayers("w",this._customUrlParameters).then(function(t){_.forEach(t,function(t){e._setUpEditor(t),e._toggleCheckBoxPluginTool(t)}),e._addToMap()}).fail(function(){a.notify.error(t("could_not_load_vector_layers"))})}},this._stopEditing=function(t){this._stopEditor(t)&&(_.forEach(this._layers,function(t,i){t.vector;t.editor=null,e._unlockLayer(e._layers[i])}),this._updateEditingState(),this._loader.setMode("r"),e._cleanUp(),e.emit("editingstopped"))},this._cleanUp=function(){this._loader.cleanUpLayers()},this._startEditor=function(t){return!!t.editor.start(this)&&(this._setCurrentEditingLayer(t),!0)},this._startEditingTool=function(t,e,i){this.state.startingEditingTool=!0;var n=!0;return t.editor.isStarted()||(n=this._startEditor(t)),n&&t.editor.setTool(e,i)?(this._updateEditingState(),this.state.startingEditingTool=!1,!0):(this.state.startingEditingTool=!1,!1)},this._stopEditor=function(t){var e=!0,i=this._getCurrentEditingLayer();return i&&(e=i.editor.stop(t),e&&this._setCurrentEditingLayer()),e},this._stopEditingTool=function(){var t=!0,e=this._getCurrentEditingLayer();return e&&(t=e.editor.stopTool(),t&&this._updateEditingState()),t},this._saveWithoutAsk=function(){var t=$.Deferred(),e={};_.forEach(this._layers,function(t,i){t.editor.isDirty()&&(e[i]=t.editor)}),this._saveEdits(e).then(function(e){t.resolve()}).fail(function(e){t.reject()})},this._cancelOrSave=function(t){var e=$.Deferred();try{var i=1;t&&(i=t);var n=this,s={};_.forEach(this._layers,function(t,e){t.editor.isDirty()&&(s[e]=t.editor)}),_.keys(s).length?this._askCancelOrSave(i).then(function(t){"save"===t?n._saveEdits(s).then(function(t){e.resolve()}).fail(function(t){e.reject()}):"nosave"==t?e.resolve():"cancel"==t&&e.reject()}):e.resolve()}catch(o){e.reject()}return e.promise()},this._askCancelOrSave=function(t){var e=$.Deferred(),i={SAVE:{label:"Salva",className:"btn-success",callback:function(){e.resolve("save")}},NOSAVE:{label:"Termina senza salvare",className:"btn-danger",callback:function(){e.resolve("nosave")}},CANCEL:{label:"Annulla",className:"btn-primary",callback:function(){e.resolve("cancel")}}};switch(t){case 1:buttons={save:i.SAVE,nosave:i.NOSAVE,cancel:i.CANCEL};break;case 2:buttons={save:i.SAVE,cancel:i.CANCEL}}return a.dialog.dialog({message:"Vuoi salvare definitivamente le modifiche?",title:"Salvataggio modifica",buttons:buttons}),e.promise()},this._saveEdits=function(t){var e=this,i=$.Deferred();return this._sendEdits(t).then(function(n){a.notify.success("I dati sono stati salvati correttamente"),e._commitEdits(t,n),i.resolve()}).fail(function(t){a.notify.error("Errore nel salvataggio sul server"),i.resolve()}),i.promise()},this._sendEdits=function(t){var e=$.Deferred(),i=_.map(t,function(t){return{layername:t.getVectorLayer().name,edits:t.getEditedFeatures()}});return this._postData(i).then(function(t){t.result?e.resolve(t.response):e.reject(t.response)}).fail(function(t){e.reject(t.response)}),e.promise()},this._commitEdits=function(t,e){_.forEach(t,function(t){e&&e["new"]&&_.forEach(e["new"],function(i){var n=i.clientid,s=i.id;t.getEditVectorLayer().setFeatureData(n,s,null,i),_.forEach(e.new_lockids,function(e){t.getVectorLayer().addLockId(e)})}),t.commit()})},this._undoEdits=function(t){var e=this._getCurrentEditingLayer().layerCode;t[e];this._stopEditing(!0)},this._updateEditingState=function(){var t=this._getCurrentEditingLayer();t?(this.state.editing.layerCode=t.layerCode,this.state.editing.toolType=t.editor.getActiveTool().getType()):(this.state.editing.layerCode=null,this.state.editing.toolType=null),this._updateToolStepsState()},this._updateToolStepsState=function(){var t,e=this,i=this._getCurrentEditingLayer();if(i&&(t=i.editor.getActiveTool()),t&&t.getTool()){var n=t.getTool();n.steps&&(this._setToolStepState(t),n.steps.on("step",function(i,n){e._setToolStepState(t)}),n.steps.on("complete",function(){e._setToolStepState()}))}else e._setToolStepState()},this._setToolStepState=function(t){var e,i,n;if(_.isUndefined(t))e=null,i=null,n=null;else{var s=t.getTool(),o=toolStepsMessages[t.getType()];e=s.steps.currentStepIndex(),i=s.steps.totalSteps(),n=o[e],_.isUndefined(n)&&(e=null,i=null,n=null)}this.state.editing.toolstep.n=e+1,this.state.editing.toolstep.total=i,this.state.editing.toolstep.message=n},this._getCurrentEditingLayer=function(){return this._currentEditingLayer},this._setCurrentEditingLayer=function(t){t?this._currentEditingLayer=t:this._currentEditingLayer=null},this._addToMap=function(){var t=this,e=this._mapService.viewer.map,i=this.getLayerCodes();_.forEach(i,function(i){t._layers[i].vector.addToMap(e)}),this._loadDataOnMapViewChangeListener||(this._loadDataOnMapViewChangeListener=this._mapService.onafter("setMapView",function(){t.state.editing.on&&t.state.editing.enabled&&t._loader.loadAllVectorsData()}))},this._postData=function(t){var e=this;if(t.length>1)return this._postBatchData(t);var i=t[0].layername,n=t[0].edits,s=JSON.stringify(n);return $.post({url:this.config.baseurl+i+"/?"+e._customUrlParameters,data:s,contentType:"application/json"})},this._postBatchData=function(t){var e={};_.forEach(t,function(t){e[t.layername]=t.edits});var i=JSON.stringify(e);return $.post({url:this.config.baseurl,data:i,contentType:"application/json"})},this._unlock=function(){var t=this.getLayerCodes();_.map(t,function(t){return e._unlockLayer(e._layers[t])})},this._unlockLayer=function(t){$.get(this.config.baseurl+t.name+"/?unlock"+this._customUrlParameters)},this.getLoader=function(){return this._loader}}var o=g3wsdk.core.utils.inherit,r=g3wsdk.core.G3WObject,a=g3wsdk.gui.GUI,l=g3wsdk.core.VectorLayerLoader,c=e("./editors/attributesform");o(s,r),i.exports=new s},{"./editors/attributesform":1}]},{},[3]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1aWxkLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIkdlb25vdGVGb3JtIiwib3B0aW9ucyIsImJhc2UiLCJ0aGlzIiwiX2Zvcm1QYW5lbCIsIkdlb25vdGVGb3JtUGFuZWwiLCJpbmhlcml0IiwiZzN3c2RrIiwiY29yZSIsInV0aWxzIiwiRm9ybVBhbmVsIiwiZ3VpIiwiRm9ybSIsImV4dGVuZCIsIjIiLCJHZW9ub3Rlc0VkaXRvciIsImZvcm1Ub29scyIsInNhdmVFZGl0c1RvRGF0YWJhc2UiLCJQbHVnaW5TZXJ2aWNlIiwic2F2ZUVkaXRzIiwib25hZnRlciIsIkVkaXRvciIsIi4uL3BsdWdpbnNlcnZpY2UiLCIuL2F0dHJpYnV0ZXNmb3JtIiwiMyIsIlBsdWdpbiIsIkdVSSIsIlByb2plY3RzUmVnaXN0cnkiLCJwbHVnaW5Db25maWciLCJTZXJ2aWNlIiwiRWRpdGluZ1BhbmVsIiwiX1BsdWdpbiIsIm5hbWUiLCJjb25maWciLCJzZXJ2aWNlIiwidG9vbHMiLCJpbml0Iiwic2V0UGx1Z2luU2VydmljZSIsImdldFBsdWdpbkNvbmZpZyIsInNldFVwSWNvblVybCIsImxheWVycyIsInJlZ2lzdGVyUGx1Z2luIiwiZ2lkIiwicmVhZHkiLCJzZXR1cEd1aSIsIm9uIiwiXyIsImJpbmQiLCJjdXN0b21VcmxQYXJhbWV0ZXJzIiwiY3JlYXRlUGx1Z2luQ3VzdG9tVXJsUGFyYW1ldGVycyIsInRvb2xzQ29tcG9uZW50IiwiZ2V0Q29tcG9uZW50IiwidG9vbHNTZXJ2aWNlIiwiZ2V0U2VydmljZSIsInNldFBsdWdpblRvb2xzIiwiYWRkVG9vbHMiLCJ0b29sc0FjdGlvbnMiLCJzaG93SGlkZUxheWVyIiwibGF5ZXJzQ29kZSIsIkdFT05PVEVTIiwic2hvd0VkaXRpbmdQYW5lbCIsInBhbmVsIiwidG9nZ2xlRWRpdGluZyIsInNob3dQYW5lbCIsImN1cnJlbnRQcm9qZWN0IiwiZ2V0Q3VycmVudFByb2plY3QiLCJnZXRUeXBlIiwiZ2V0SWQiLCJsYXllcnNDb25maWciLCJmb3JFYWNoIiwibGF5ZXJDb25maWciLCJpY29udXJsIiwic2V0dXBUb29sc0FjdGlvbiIsInRvb2wiLCJwbHVnaW4iLCIuL3BhbmVsIiwiLi9wbHVnaW5zZXJ2aWNlIiwicGx1Z2luY29uZmlnIiwiNCIsIjUiLCJFZGl0b3JQYW5lbCIsImlkIiwiaW50ZXJuYWxQYW5lbCIsIlBhbmVsQ29tcG9uZW50IiwicmVzb2x2ZWRWYWx1ZSIsInJlc29sdmUiLCJQYW5lbCIsIlZ1ZSIsInRlbXBsYXRlIiwiZGF0YSIsInN0YXRlIiwicmVzb3VyY2VzdXJsIiwiZ2V0UmVzb3VyY2VzVXJsIiwiZWRpdG9yc3Rvb2xiYXJzIiwibGF5ZXJjb2RlIiwibGF5ZXJDb2RlcyIsInRpdGxlIiwidG9vbHR5cGUiLCJpY29uIiwic2F2ZWJ0bmxhYmVsIiwibWV0aG9kcyIsInRvZ2dsZUVkaXRUb29sIiwibGF5ZXJDb2RlIiwidG9vbFR5cGUiLCJlZGl0aW5nIiwiZWRpdGluZ3Rvb2xidG5Ub2dnbGVkIiwiZWRpdGluZ3Rvb2xidG5FbmFibGVkIiwib25DbG9zZSIsInN0b3AiLCJjb21wdXRlZCIsImVkaXRpbmdidG5sYWJlbCIsImVkaXRpbmdidG5FbmFibGVkIiwiZW5hYmxlZCIsIm1lc3NhZ2UiLCJ0b29sc3RlcCIsInRvdGFsIiwic3RlcG1lc3NhZ2UiLCJwcm90byIsInByb3RvdHlwZSIsIm9uU2hvdyIsImNvbnRhaW5lciIsImNvbnNvbGUiLCJsb2ciLCIkbW91bnQiLCIkYXBwZW5kVG8iLCJzZWxmIiwiZGVmZXJyZWQiLCIkIiwiRGVmZXJyZWQiLCJ0aGVuIiwiJGRlc3Ryb3kiLCJmYWlsIiwicmVqZWN0IiwicHJvbWlzZSIsIi4vcGFuZWwuaHRtbCIsIjYiLCJsYXllck5hbWUiLCJ0eXBlIiwiaXNDaGVjayIsImFjdGlvbiIsImVkaXRvckNsYXNzIiwibGF5ZXJzU3R5bGUiLCJsYXllcnNFZGl0aW5nU3R5bGUiLCJzdHlsZUNvbmZpZyIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImltYWdlIiwiSWNvbiIsImFuY2hvciIsInNyYyIsInZlY3RvciIsImVkaXRvciIsImNycyIsIi4vZWRpdG9ycy9nZW9ub3Rlc2VkaXRvciIsIjciLCJHZW9ub3Rlc1NlcnZpY2UiLCJfbWFwU2VydmljZSIsIl9sb2FkRGF0YU9uTWFwVmlld0NoYW5nZUxpc3RlbmVyIiwiX2N1cnJlbnRFZGl0aW5nTGF5ZXIiLCJfcGx1Z2luVG9vbHMiLCJzdGFydGluZ0VkaXRpbmdUb29sIiwicmV0cmlldmluZ0RhdGEiLCJoYXNFZGl0cyIsIl9sb2FkZXIiLCJWZWN0b3JMb2FkZXJMYXllciIsIl9jcnMiLCJfbGF5ZXJzIiwiX2VkaXRvckNsYXNzIiwiX2xheWVyc1N0eWxlIiwiX2xheWVyc0VkaXRpbmdTdHlsZSIsIl9jdXN0b21VcmxQYXJhbWV0ZXJzIiwiaW5mb3VybCIsInNldExheWVyU3R5bGUiLCJvcHRpb25zX2xvYWRlciIsImJhc2V1cmwiLCJtYXBTZXJ2aWNlIiwibW9kZSIsImVtaXQiLCJpbnRlcmFjdGlvbiIsImN1cnJlbnRFZGl0aW5nTGF5ZXIiLCJfZ2V0Q3VycmVudEVkaXRpbmdMYXllciIsImFjdGl2ZVRvb2wiLCJnZXRBY3RpdmVUb29sIiwiaW5zdGFuY2UiLCJvd25zSW50ZXJhY3Rpb24iLCJfc3RvcEVkaXRpbmdUb29sIiwiTGF5ZXIiLCJsYXllcklkIiwibGF5ZXIiLCJnZXRQcm9qZWN0IiwiZ2V0TGF5ZXJCeUlkIiwiZ2V0T3JpZ05hbWUiLCJnZXRQbHVnaW5Ub29scyIsInN0eWxlT3B0aW9ucyIsImdldExheWVyU3R5bGUiLCJfdG9nZ2xlQ2hlY2tCb3hQbHVnaW5Ub29sIiwicGx1Z2luVG9vbHMiLCJwbHVnaW5Ub29sIiwiaW5kZXgiLCJoYXMiLCJpc0xheWVyVmlzaWJsZSIsInZlY3RvckxheWVyIiwiaXNWaXNpYmxlIiwiaXNSZWFkeSIsInNldFZpc2libGUiLCJsb2FkTGF5ZXJzIiwiX2FkZFRvTWFwIiwiX2NhbmNlbE9yU2F2ZSIsIl9zdG9wRWRpdGluZyIsIl9zdGFydEVkaXRpbmciLCJfc2F2ZVdpdGhvdXRBc2siLCJfc3RhcnRFZGl0aW5nVG9vbCIsImlzU3RhcnRlZCIsIl9zdG9wRWRpdG9yIiwiZ2V0TGF5ZXJDb2RlcyIsInZhbHVlcyIsIl9zZXRVcFZlY3RvckxheWVyIiwiX3NldFVwRWRpdG9yIiwib3B0aW9uc19lZGl0b3IiLCJmb3JtQ2xhc3MiLCJGb3JtQ2xhc3MiLCJlZGl0aW5nVmVjdG9yU3R5bGUiLCJzZXRWZWN0b3JMYXllciIsImRpcnR5Iiwic2V0TW9kZSIsInZlY3RvckxheWVyc0NvZGVzIiwiZ2V0VmVjdG9yTGF5ZXJzQ29kZXMiLCJzZXRWZWN0b3JGZWF0dXJlc0xvY2siLCJnZXRWZWN0b3JMYXllckRhdGEiLCJmZWF0dXJlbG9ja3MiLCJub3RpZnkiLCJlcnJvciIsInJlc2V0IiwiX3VubG9ja0xheWVyIiwiX3VwZGF0ZUVkaXRpbmdTdGF0ZSIsIl9jbGVhblVwIiwiY2xlYW5VcExheWVycyIsIl9zdGFydEVkaXRvciIsInN0YXJ0IiwiX3NldEN1cnJlbnRFZGl0aW5nTGF5ZXIiLCJjYW5TdGFydFRvb2wiLCJzZXRUb29sIiwicmV0Iiwic3RvcFRvb2wiLCJkaXJ0eUVkaXRvcnMiLCJpc0RpcnR5IiwiX3NhdmVFZGl0cyIsInJlc3VsdCIsIl9hc2tUeXBlIiwia2V5cyIsIl9hc2tDYW5jZWxPclNhdmUiLCJidXR0b25UeXBlcyIsIlNBVkUiLCJsYWJlbCIsImNsYXNzTmFtZSIsImNhbGxiYWNrIiwiTk9TQVZFIiwiQ0FOQ0VMIiwiYnV0dG9ucyIsInNhdmUiLCJub3NhdmUiLCJjYW5jZWwiLCJkaWFsb2ciLCJfc2VuZEVkaXRzIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiX2NvbW1pdEVkaXRzIiwiZXJyb3JzIiwiZWRpdHNUb1B1c2giLCJtYXAiLCJsYXllcm5hbWUiLCJnZXRWZWN0b3JMYXllciIsImVkaXRzIiwiZ2V0RWRpdGVkRmVhdHVyZXMiLCJfcG9zdERhdGEiLCJyZXR1cm5lZCIsImVkaXRvcnMiLCJ1cGRhdGVkRmVhdHVyZUF0dHJpYnV0ZXMiLCJvbGRmaWQiLCJjbGllbnRpZCIsImZpZCIsImdldEVkaXRWZWN0b3JMYXllciIsInNldEZlYXR1cmVEYXRhIiwibmV3X2xvY2tpZHMiLCJuZXdsb2NrSWQiLCJhZGRMb2NrSWQiLCJjb21taXQiLCJfdW5kb0VkaXRzIiwiY3VycmVudEVkaXRpbmdMYXllckNvZGUiLCJfdXBkYXRlVG9vbFN0ZXBzU3RhdGUiLCJnZXRUb29sIiwidG9vbEluc3RhbmNlIiwic3RlcHMiLCJfc2V0VG9vbFN0ZXBTdGF0ZSIsInN0ZXAiLCJpc1VuZGVmaW5lZCIsIm1lc3NhZ2VzIiwidG9vbFN0ZXBzTWVzc2FnZXMiLCJjdXJyZW50U3RlcEluZGV4IiwidG90YWxTdGVwcyIsInZpZXdlciIsImFkZFRvTWFwIiwibG9hZEFsbFZlY3RvcnNEYXRhIiwiX3Bvc3RCYXRjaERhdGEiLCJqc29uRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwb3N0IiwidXJsIiwiY29udGVudFR5cGUiLCJtdWx0aUVkaXRzVG9QdXNoIiwiX3VubG9jayIsImdldCIsImdldExvYWRlciIsIkczV09iamVjdCIsIlZlY3RvckxheWVyTG9hZGVyIiwiLi9lZGl0b3JzL2F0dHJpYnV0ZXNmb3JtIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1LLEdBQUVFLEtBQUssbUJBQW1CRixFQUFF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LEtBQUssV0FBYTdCLEtBQUt3Syx1QkFHL0R4SyxLQUFLdVQsVUFBWSxXQUNmLE1BQU92VCxNQUFLaUssU0FsdkJoQixHQUFJOUosR0FBVUMsT0FBT0MsS0FBS0MsTUFBTUgsUUFDNUJxVCxFQUFZcFQsT0FBT0MsS0FBS21ULFVBQ3hCalMsRUFBTW5CLE9BQU9JLElBQUllLElBQ2pCMkksRUFBb0I5SixPQUFPQyxLQUFLb1Qsa0JBQ2hDL0YsRUFBWXhPLEVBQVEsMkJBa3ZCeEJpQixHQUFRc0osRUFBaUIrSixHQUN6QjVULEVBQU9KLFFBQVUsR0FBSWlLLEtBQ2xCaUssMkJBQTJCLFNBQVMiLCJmaWxlIjoiYnVpbGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgaW5oZXJpdCA9IGczd3Nkay5jb3JlLnV0aWxzLmluaGVyaXQ7XG52YXIgYmFzZSA9IGczd3Nkay5jb3JlLnV0aWxzLmJhc2U7XG52YXIgRm9ybVBhbmVsID0gZzN3c2RrLmd1aS5Gb3JtUGFuZWw7XG52YXIgRm9ybSA9IGczd3Nkay5ndWkuRm9ybTtcblxudmFyIEdlb25vdGVGb3JtUGFuZWwgPSBGb3JtUGFuZWwuZXh0ZW5kKHtcbiAgLy90ZW1wbGF0ZTogcmVxdWlyZSgnLi9hdHRyaWJ1dGVzZm9ybS5odG1sJylcbn0pO1xuXG5mdW5jdGlvbiBHZW9ub3RlRm9ybShvcHRpb25zKXtcbiAgYmFzZSh0aGlzLG9wdGlvbnMpO1xuICB0aGlzLl9mb3JtUGFuZWwgPSBHZW9ub3RlRm9ybVBhbmVsO1xufVxuaW5oZXJpdChHZW9ub3RlRm9ybSxGb3JtKTtcblxubW9kdWxlLmV4cG9ydHMgPSBHZW9ub3RlRm9ybTtcblxufSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgaW5oZXJpdCA9IGczd3Nkay5jb3JlLnV0aWxzLmluaGVyaXQ7XG52YXIgYmFzZSA9IGczd3Nkay5jb3JlLnV0aWxzLmJhc2U7XG52YXIgRWRpdG9yID0gZzN3c2RrLmNvcmUuRWRpdG9yO1xudmFyIFBsdWdpblNlcnZpY2UgPSByZXF1aXJlKCcuLi9wbHVnaW5zZXJ2aWNlJyk7XG52YXIgRm9ybSA9IHJlcXVpcmUoJy4vYXR0cmlidXRlc2Zvcm0nKTtcbnZhciBmb3JtID0gbnVsbDsgLy8gYnJ1dHRvIG1hIGRldm8gdGVuZXJsbyBlc3Rlcm5vIHNlbm7DsiBzaSBjcmVhIHVuIGNsaWNvIGRpIHJpZmVyaW1lbnRpIGNoZSBtYW5kYSBpbiBwYWxsYSBWdWVcblxuXG5mdW5jdGlvbiBHZW9ub3Rlc0VkaXRvcihvcHRpb25zKSB7XG5cbiAgLy8gaW4gcXVlc3RvIG1vZG8gcGFzc2lhbW8gaWwgbWFwc2VydmljZSBjb21lIGFyZ29tZW50byBhbCBzdXBlcmNsYXNzIChlZGl0b3IpXG4gIC8vIGRpIGl0ZXJuZXRlZGl0b3IgaW4gbW9kbyBkYSBhc3NlZ25hcmFlIGFuY2hlIGEgaXRlcm5ldGVkaXRvciBpbCBtYXBzZXJ2ZWljZSBjaGUgeHNlcnZpcsOgIGFkIGVzZW1waW8gYWQgYWdnaXVuZ2VyZVxuICAvLyBsJ2ludGVyYWN0aW9uIGFsbGEgbWFwcGEgcXVhbmRvIHZpZW5lIGNsaWNjYXRvIHN1IHVuIHRvb2xcbiAgb3B0aW9ucy5mb3JtVG9vbHMgPSBbXTtcbiAgYmFzZSh0aGlzLCBvcHRpb25zKTtcbiAgdmFyIHNhdmVFZGl0c1RvRGF0YWJhc2UgPSBmdW5jdGlvbigpIHtcbiAgICBQbHVnaW5TZXJ2aWNlLnNhdmVFZGl0cygpO1xuICB9O1xuICAvL3RoaXMuX3NhdmVFZGl0cyA9IF8uYmluZChQbHVnaW5TZXJ2aWNlLnNhdmVFZGl0cywgUGx1Z2luU2VydmljZSk7XG4gIC8vIGFwcmUgZm9ybSBhdHRyaWJ1dGkgcGVyIGkgIG5zZXJpbWVudG9cblxuICB0aGlzLm9uYWZ0ZXIoJ2FkZEZlYXR1cmUnLCBzYXZlRWRpdHNUb0RhdGFiYXNlKTtcbiAgdGhpcy5vbmFmdGVyKCdkZWxldGVGZWF0dXJlJywgc2F2ZUVkaXRzVG9EYXRhYmFzZSk7XG4gIHRoaXMub25hZnRlcignbW92ZUZlYXR1cmUnLCBzYXZlRWRpdHNUb0RhdGFiYXNlKTtcbiAgdGhpcy5vbmFmdGVyKCdwaWNrRmVhdHVyZScsIHNhdmVFZGl0c1RvRGF0YWJhc2UpO1xuXG4gIC8vIGFwcmUgZm9ybSBhdHRyaWJ1dGkgcGVyIGluc2VyaW1lbnRvXG59XG5cbmluaGVyaXQoR2Vvbm90ZXNFZGl0b3IsIEVkaXRvcik7XG5cbm1vZHVsZS5leHBvcnRzID0gR2Vvbm90ZXNFZGl0b3I7XG59LHtcIi4uL3BsdWdpbnNlcnZpY2VcIjo3LFwiLi9hdHRyaWJ1dGVzZm9ybVwiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIFNESyAvLy9cbnZhciBpbmhlcml0ID0gZzN3c2RrLmNvcmUudXRpbHMuaW5oZXJpdDtcbnZhciBiYXNlID0gZzN3c2RrLmNvcmUudXRpbHMuYmFzZTtcbnZhciBQbHVnaW4gPSBnM3dzZGsuY29yZS5QbHVnaW47XG52YXIgR1VJID0gZzN3c2RrLmd1aS5HVUk7XG52YXIgUHJvamVjdHNSZWdpc3RyeSA9IGczd3Nkay5jb3JlLlByb2plY3RzUmVnaXN0cnk7XG4vLy8gUExVR0lOIC8vXG52YXIgcGx1Z2luQ29uZmlnID0gcmVxdWlyZSgncGx1Z2luY29uZmlnJyk7XG52YXIgU2VydmljZSA9IHJlcXVpcmUoJy4vcGx1Z2luc2VydmljZScpO1xudmFyIEVkaXRpbmdQYW5lbCA9IHJlcXVpcmUoJy4vcGFuZWwnKTtcblxudmFyIF9QbHVnaW4gPSBmdW5jdGlvbigpIHtcblxuICBiYXNlKHRoaXMpO1xuICB0aGlzLm5hbWUgPSAnbm90ZXMnO1xuICB0aGlzLmNvbmZpZyA9IG51bGw7XG4gIHRoaXMuc2VydmljZSA9IG51bGw7XG4gIHRoaXMudG9vbHMgPSBudWxsO1xuICB0aGlzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy9zZXR0byBpbCBzZXJ2aXppb1xuICAgIHRoaXMuc2V0UGx1Z2luU2VydmljZShTZXJ2aWNlKTtcbiAgICAvL3JlY3VwZXJvIGNvbmZpZ3VyYXppb25lIGRlbCBwbHVnaW5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMuZ2V0UGx1Z2luQ29uZmlnKCk7XG4gICAgdGhpcy5zZXRVcEljb25VcmwodGhpcy5jb25maWcubGF5ZXJzKTtcbiAgICAvL3JlZ2l0cm8gaWwgcGx1Z2luXG4gICAgaWYgKHRoaXMucmVnaXN0ZXJQbHVnaW4odGhpcy5jb25maWcuZ2lkKSkge1xuICAgICAgaWYgKCFHVUkucmVhZHkpIHtcbiAgICAgICAgR1VJLm9uKCdyZWFkeScsIF8uYmluZCh0aGlzLnNldHVwR3VpLCB0aGlzKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXR1cEd1aSgpO1xuICAgICAgfVxuICAgICAgLy9pbml6aWFsaXp6byBpbCBzZXJ2aXppby4gSWwgc2Vydml6aW8gw6ggbCdpc3RhbnphIGRlbGxhIGNsYXNzZSBzZXJ2aXppb1xuICAgICAgcGx1Z2luQ29uZmlnLmN1c3RvbVVybFBhcmFtZXRlcnMgPSB0aGlzLmNyZWF0ZVBsdWdpbkN1c3RvbVVybFBhcmFtZXRlcnMoKTtcbiAgICAgIHRoaXMuc2VydmljZS5pbml0KHRoaXMuY29uZmlnLCBwbHVnaW5Db25maWcpO1xuICAgIH1cbiAgfTtcbiAgLy8gZnVuemlvbmUgY2hlIHVuYSB2b2x0YSBjaGUgbGEgR1VJIGhhIGVtZXNzbyBsJ2V2ZW50byAncmVhZHknXG4gIC8vIHNlcnZlIGEgbW9udGFyZSBpIGNvbXBvZW50aSBkZWwgcGx1Z2luIHN1bGxhIHNpZGViYXJcbiAgdGhpcy5zZXR1cEd1aSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgdG9vbHNDb21wb25lbnQgPSBHVUkuZ2V0Q29tcG9uZW50KCd0b29scycpO1xuICAgIHZhciB0b29sc1NlcnZpY2UgPSB0b29sc0NvbXBvbmVudC5nZXRTZXJ2aWNlKCk7XG4gICAgdGhpcy50b29scyA9IHBsdWdpbkNvbmZpZy50b29scyh0aGlzKTtcbiAgICB0aGlzLnNlcnZpY2Uuc2V0UGx1Z2luVG9vbHModGhpcy50b29scyk7XG4gICAgdG9vbHNTZXJ2aWNlLmFkZFRvb2xzKDEgLCdHRU9OT1RFUycsIHRoaXMudG9vbHMpXG4gIH07XG4gIC8vIGF6aW9uaSBjaGUgc29ubyBsZWdhdGkgYWkgdG9vbHNcbiAgdGhpcy50b29sc0FjdGlvbnMgPSB7XG4gICAgc2hvd0hpZGVMYXllcjogIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXJ2aWNlLnNob3dIaWRlTGF5ZXIocGx1Z2luQ29uZmlnLmxheWVyc0NvZGUuR0VPTk9URVMpO1xuICAgIH0sXG4gICAgc2hvd0VkaXRpbmdQYW5lbDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFuZWwgPSBuZXcgRWRpdGluZ1BhbmVsKCk7XG4gICAgICB0aGlzLnNlcnZpY2UudG9nZ2xlRWRpdGluZygpO1xuICAgICAgR1VJLnNob3dQYW5lbChwYW5lbCk7XG4gICAgfVxuICB9O1xuXG4gIC8vc2V0dXBQbHVnaW5DdXN0b21QYXJhbWV0ZXJzXG4gIHRoaXMuY3JlYXRlUGx1Z2luQ3VzdG9tVXJsUGFyYW1ldGVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXN0b21VcmxQYXJhbWV0ZXJzPScmJztcbiAgICB2YXIgY3VycmVudFByb2plY3QgPSBQcm9qZWN0c1JlZ2lzdHJ5LmdldEN1cnJlbnRQcm9qZWN0KCk7XG4gICAgY3VzdG9tVXJsUGFyYW1ldGVycys9J3Byb2plY3RfdHlwZT0nK2N1cnJlbnRQcm9qZWN0LmdldFR5cGUoKSsnJnByb2plY3RfaWQ9JytjdXJyZW50UHJvamVjdC5nZXRJZCgpO1xuICAgIHJldHVybiBjdXN0b21VcmxQYXJhbWV0ZXJzXG4gIH07XG4gIC8vIHNldHVwIGljb25VcmwgZm9yIExheWVyXG4gIHRoaXMuc2V0VXBJY29uVXJsID0gZnVuY3Rpb24obGF5ZXJzQ29uZmlnKSB7XG4gICAgXy5mb3JFYWNoKGxheWVyc0NvbmZpZywgZnVuY3Rpb24obGF5ZXJDb25maWcpIHtcbiAgICAgIHBsdWdpbkNvbmZpZy5sYXllcnNbbGF5ZXJDb25maWcubmFtZV0uaWNvbnVybCA9IGxheWVyQ29uZmlnLmljb251cmw7XG4gICAgfSlcbiAgfTtcblxuICB0aGlzLnNldHVwVG9vbHNBY3Rpb24gPSBmdW5jdGlvbih0b29scykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBfLmZvckVhY2godG9vbHMsIGZ1bmN0aW9uKHRvb2wpe1xuICAgICAgLy9UT0RPXG4gICAgfSlcbiAgfVxufTtcblxuaW5oZXJpdChfUGx1Z2luLCBQbHVnaW4pO1xuXG4oZnVuY3Rpb24ocGx1Z2luKXtcbiAgcGx1Z2luLmluaXQoKTtcbn0pKG5ldyBfUGx1Z2luKTtcblxuXG5cblxufSx7XCIuL3BhbmVsXCI6NSxcIi4vcGx1Z2luc2VydmljZVwiOjcsXCJwbHVnaW5jb25maWdcIjo2fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiZzN3LWl0ZXJuZXQtZWRpdGluZy1wYW5lbFxcXCI+XFxuICA8dGVtcGxhdGUgdi1mb3I9XFxcInRvb2xiYXIgaW4gZWRpdG9yc3Rvb2xiYXJzXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtcHJpbWFyeVxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCI+XFxuICAgICAgICA8aDMgY2xhc3M9XFxcInBhbmVsLXRpdGxlXFxcIj57eyB0b29sYmFyLm5hbWUgfX08L2gzPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiPlxcbiAgICAgICAgPHRlbXBsYXRlIHYtZm9yPVxcXCJ0b29sIGluIHRvb2xiYXIudG9vbHNcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJlZGl0YnRuXFxcIiA6Y2xhc3M9XFxcInsnZW5hYmxlZCcgOiAoc3RhdGUuZWRpdGluZy5vbiAmJiBlZGl0aW5ndG9vbGJ0bkVuYWJsZWQodG9vbCkpLCAndG9nZ2xlZCcgOiBlZGl0aW5ndG9vbGJ0blRvZ2dsZWQodG9vbGJhci5sYXllcmNvZGUsIHRvb2wudG9vbHR5cGUpfVxcXCI+XFxuICAgICAgICAgICAgPGltZyBoZWlnaHQ9XFxcIjMwcHhcXFwiIHdpZHRoPVxcXCIzMHB4XFxcIiBAY2xpY2s9XFxcInRvZ2dsZUVkaXRUb29sKHRvb2xiYXIubGF5ZXJjb2RlLCB0b29sLnRvb2x0eXBlKVxcXCIgOmFsdC5vbmNlPVxcXCJ0b29sLnRpdGxlXFxcIiA6dGl0bGUub25jZT1cXFwidG9vbC50aXRsZVxcXCIgOnNyYy5vbmNlPVxcXCJyZXNvdXJjZXN1cmwrJ2ltYWdlcy8nK3Rvb2wuaWNvblxcXCI+PC9pbWc+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L3RlbXBsYXRlPlxcbiAgPGRpdiB2LXNob3c9XFxcInN0YXRlLnJldHJpZXZpbmdEYXRhXFxcIiBzdHlsZT1cXFwiY29sb3I6I2ZmZmZmZlxcXCI+XFxuICAgIDwhLS08YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiIHYtZGlzYWJsZWQ9XFxcImVkaXRpbmdidG5FbmFibGVkXFxcIiA6Y2xhc3M9XFxcInsnYnRuLXN1Y2Nlc3MnIDogc3RhdGUuZWRpdGluZ09ufVxcXCIgQGNsaWNrPVxcXCJ0b2dnbGVFZGl0aW5nXFxcIj57eyBlZGl0aW5nYnRubGFiZWwgfX08L2J1dHRvbj4tLT5cXG4gICAgPCEtLTxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyXFxcIiB2LWRpc2FibGVkPVxcXCIhc3RhdGUuaGFzRWRpdHNcXFwiIEBjbGljaz1cXFwic2F2ZUVkaXRzXFxcIj57eyBzYXZlYnRubGFiZWwgfX08L2J1dHRvbj4tLT5cXG4gICAgPHNwYW4+Q2FyaWNhbWVudG8gRGF0aSAuLi4gPC9zcGFuPjxpbWcgOnNyYz1cXFwicmVzb3VyY2VzdXJsICsnaW1hZ2VzL2xvYWRlci5zdmcnXFxcIj5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwibWVzc2FnZVxcXCI+XFxuICAgIHt7eyBtZXNzYWdlIH19fVxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG5cbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlc29sdmVkVmFsdWUgPSBnM3dzZGsuY29yZS51dGlscy5yZXNvbHZlO1xudmFyIGluaGVyaXQgPSBnM3dzZGsuY29yZS51dGlscy5pbmhlcml0O1xudmFyIEdVSSA9IGczd3Nkay5ndWkuR1VJO1xuLy8gYmFzZSBjbGFzcyBQYW5lbFxudmFyIFBhbmVsID0gIGczd3Nkay5ndWkuUGFuZWw7XG52YXIgU2VydmljZSA9IHJlcXVpcmUoJy4vcGx1Z2luc2VydmljZScpO1xuXG52YXIgUGFuZWxDb21wb25lbnQgPSBWdWUuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vcGFuZWwuaHRtbCcpLFxuICBkYXRhOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdGU6IFNlcnZpY2Uuc3RhdGUsXG4gICAgICByZXNvdXJjZXN1cmw6IEdVSS5nZXRSZXNvdXJjZXNVcmwoKSxcbiAgICAgIGVkaXRvcnN0b29sYmFyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJHZW9ub3Rlc1wiLFxuICAgICAgICAgIGxheWVyY29kZTogU2VydmljZS5sYXllckNvZGVzLkdFT05PVEVTLFxuICAgICAgICAgIHRvb2xzOltcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGl0bGU6IFwiQWdnaXVuZ2kgR2Vvbm90YVwiLFxuICAgICAgICAgICAgICAvLyB0b29sdHlwZSDDqCBsJ2F0dHJpYnV0byBjaGUgc2VydmVyIHBlciBzY2VnbGllcmUgaWwgdGlwbyBkaSB0b29sXG4gICAgICAgICAgICAgIC8vIGRlbGwnZWRpdG9yIGdlbmVyYWxlIGNoZSBkb3Zyw6AgZXNzZXJlIGltcG9zdGF0b1xuICAgICAgICAgICAgICB0b29sdHlwZTogJ2FkZGZlYXR1cmUnLFxuICAgICAgICAgICAgICBpY29uOiAnaXRlcm5ldEFkZFBvaW50LnBuZydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRpdGxlOiBcIlNwb3N0YSBHZW9ub3RhXCIsXG4gICAgICAgICAgICAgIHRvb2x0eXBlOiAnbW92ZWZlYXR1cmUnLFxuICAgICAgICAgICAgICBpY29uOiAnaXRlcm5ldE1vdmVQb2ludC5wbmcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aXRsZTogXCJSaW11b3ZpIEdlb25vdGFcIixcbiAgICAgICAgICAgICAgdG9vbHR5cGU6ICdkZWxldGVmZWF0dXJlJyxcbiAgICAgICAgICAgICAgaWNvbjogJ2l0ZXJuZXREZWxldGVQb2ludC5wbmcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aXRsZTogXCJFZGl0YSBnZW9ub3RhXCIsXG4gICAgICAgICAgICAgIHRvb2x0eXBlOiAnZWRpdGF0dHJpYnV0ZXMnLFxuICAgICAgICAgICAgICBpY29uOiAnZWRpdEF0dHJpYnV0ZXMucG5nJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIHNhdmVidG5sYWJlbDogXCJTYWx2YVwiXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgLy9tZXRvZG8gY2hpYW1hdG8gcXVhbmRvIHNpIGNsaWNjYSBzdSBhdnZpYS90ZXJtaW5hIGVkaXRpbmdcbiAgICB0b2dnbGVFZGl0aW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIFNlcnZpY2UudG9nZ2xlRWRpdGluZygpO1xuICAgIH0sXG4gICAgc2F2ZUVkaXRzOiBmdW5jdGlvbigpe1xuICAgICAgU2VydmljZS5zYXZlRWRpdHMoKTtcbiAgICB9LFxuICAgIC8vIGNoYWltYXRvIHF1YW5kbyBzaSBjbGljY2Egc3VsIHVuIHRvb2wgZGVsbCdlZGl0b3JcbiAgICAvLyBjb21lIGFkIGVzZW1waW8gIGFkZCBtb3ZlIGVkaXQgYXR0cmlidXRlcyBldGMgLi5cbiAgICB0b2dnbGVFZGl0VG9vbDogZnVuY3Rpb24obGF5ZXJDb2RlLCB0b29sVHlwZSkge1xuICAgICAgaWYgKHRvb2xUeXBlID09ICcnKXtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy92ZXJpZmljYSBzZSBsJ2VkaXRvciDDqCBpbiBlZGl0aW5nIG9uIHRydWVcbiAgICAgIGlmICh0aGlzLnN0YXRlLmVkaXRpbmcub24pIHtcbiAgICAgICAgU2VydmljZS50b2dnbGVFZGl0VG9vbChsYXllckNvZGUsIHRvb2xUeXBlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIG1ldG9kbyBjaGUgdmllbmUgY2hpYW1hdG8gcGVyIHZlcmlmaWNhcmUgZSBzZXR0YXJlXG4gICAgLy8gbGEgY2xhc3NlIChwcmVtdXRvIG8gbm8gZGVsIGJvdHRvbmUgdG9vbCBpbiBxdWVzdGlvbmUpXG4gICAgZWRpdGluZ3Rvb2xidG5Ub2dnbGVkOiBmdW5jdGlvbihsYXllckNvZGUsIHRvb2xUeXBlKSB7XG4gICAgICByZXR1cm4gKHRoaXMuc3RhdGUuZWRpdGluZy5sYXllckNvZGUgPT0gbGF5ZXJDb2RlICYmIHRoaXMuc3RhdGUuZWRpdGluZy50b29sVHlwZSA9PSB0b29sVHlwZSk7XG4gICAgfSxcbiAgICAvLyBmdW56aW9uZSBjaGUgdmVyaWZpY2Egc2UgYWJpbGl0YXJlIG8gbWVubyBpIGJvdHRvbmkgZGVpIHRvb2xzXG4gICAgZWRpdGluZ3Rvb2xidG5FbmFibGVkOiBmdW5jdGlvbih0b29sKXtcbiAgICAgIHJldHVybiB0b29sLnRvb2x0eXBlICE9ICcnO1xuICAgIH0sXG4gICAgb25DbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICBTZXJ2aWNlLnN0b3AoKTtcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZWRpdGluZ2J0bmxhYmVsOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmVkaXRpbmcub24gPyBcIlRlcm1pbmEgZWRpdGluZ1wiIDogXCJBdnZpYSBlZGl0aW5nXCI7XG4gICAgfSxcbiAgICBlZGl0aW5nYnRuRW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKHRoaXMuc3RhdGUuZWRpdGluZy5lbmFibGVkIHx8IHRoaXMuc3RhdGUuZWRpdGluZy5vbikgPyBcIlwiIDogXCJkaXNhYmxlZFwiO1xuICAgIH0sXG4gICAgbWVzc2FnZTogZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZXNzYWdlID0gXCJcIjtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5lZGl0aW5nLmVuYWJsZWQpe1xuICAgICAgICBtZXNzYWdlID0gJzxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZFwiPkF1bWVudGFyZSBpbCBsaXZlbGxvIGRpIHpvb20gcGVyIGFiaWxpdGFyZSBsXFwnZWRpdGluZyc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmVkaXRpbmcudG9vbHN0ZXAubWVzc2FnZSl7XG4gICAgICAgIHZhciBuID0gdGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xzdGVwLm47XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMuc3RhdGUuZWRpdGluZy50b29sc3RlcC50b3RhbDtcbiAgICAgICAgdmFyIHN0ZXBtZXNzYWdlID0gdGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xzdGVwLm1lc3NhZ2U7XG4gICAgICAgIG1lc3NhZ2UgPSAnPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6MjBweFwiPkdVSURBIFNUUlVNRU5UTzo8L2Rpdj4nICtcbiAgICAgICAgICAnPGRpdj48c3Bhbj5bJytuKycvJyt0b3RhbCsnXSA8L3NwYW4+PHNwYW4gc3R5bGU9XCJjb2xvcjogeWVsbG93XCI+JytzdGVwbWVzc2FnZSsnPC9zcGFuPjwvZGl2Pic7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBFZGl0b3JQYW5lbCgpIHtcbiAgLy8gcHJvcHJpZXTDoCBuZWNlc3NhcmllLiBJbiBmdXR1cm8gbGUgbWV0dGVybW8gaW4gdW5hXG4gIC8vIGNsYXNzZSBQYW5lbCBkYSBjdWkgZGVyaXZlcmFubm8gdHV0dGkgaSBwYW5uZWxsaSBjaGUgdm9nbGlvbm8gZXNzZXJlIG1vc3RyYXRpIG5lbGxhIHNpZGViYXJcbiAgdGhpcy5pZCA9IFwiZ2Vvbm90ZXMtZWRpdGluZy1wYW5lbFwiO1xuICB0aGlzLm5hbWUgPSBcIkdlc3Rpb25lIGRhdGkgR0VPTk9URVNcIjtcbiAgdGhpcy5pbnRlcm5hbFBhbmVsID0gbmV3IFBhbmVsQ29tcG9uZW50KCk7XG59XG5cbmluaGVyaXQoRWRpdG9yUGFuZWwsIFBhbmVsKTtcblxudmFyIHByb3RvID0gUGFuZWwucHJvdG90eXBlO1xuXG4vLyB2aWVuZSByaWNoaWFtYXRvIGRhbGxhIHRvb2xiYXJcbi8vIHF1YW5kbyBpbCBwbHVnaW4gY2hpZWRlIGRpIG1vc3RyYXJlIHVuIHByb3ByaW8gcGFubmVsbG8gbmVsbGEgR1VJIChHVUkuc2hvd1BhbmVsKVxucHJvdG8ub25TaG93ID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gIGNvbnNvbGUubG9nKCdvbnNob3cnKTtcbiAgdmFyIHBhbmVsID0gdGhpcy5pbnRlcm5hbFBhbmVsO1xuICBwYW5lbC4kbW91bnQoKS4kYXBwZW5kVG8oY29udGFpbmVyKTtcbiAgcmV0dXJuIHJlc29sdmVkVmFsdWUodHJ1ZSk7XG59O1xuXG4vLyByaWNoaWFtYXRvIHF1YW5kbyBsYSBHVUkgY2hpZWRlIGRpIGNoaXVkZXJlIGlsIHBhbm5lbGxvLiBTZSByaXRvcm5hIGZhbHNlIGlsIHBhbm5lbGxvIG5vbiB2aWVuZSBjaGl1c29cbnByb3RvLm9uQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJ2Nsb3NlJyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuICBTZXJ2aWNlLnN0b3AoKVxuICAudGhlbihmdW5jdGlvbigpe1xuICAgIHNlbGYuaW50ZXJuYWxQYW5lbC4kZGVzdHJveSh0cnVlKTtcbiAgICBzZWxmLmludGVybmFsUGFuZWwgPSBudWxsO1xuICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgfSlcbiAgLmZhaWwoZnVuY3Rpb24oKXtcbiAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgfSk7XG4gIFxuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFZGl0b3JQYW5lbDtcblxufSx7XCIuL3BhbmVsLmh0bWxcIjo0LFwiLi9wbHVnaW5zZXJ2aWNlXCI6N31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy9RdWkgY2kgc29ubyBnbGkgZWRpdG9yIChjbGFzc2kpIHVzYXRpIGRhaSB2YXJpIGxheWVyXG52YXIgR2Vvbm90ZXNFZGl0b3IgPSByZXF1aXJlKCcuL2VkaXRvcnMvZ2Vvbm90ZXNlZGl0b3InKTtcblxuLy9kZWZpbmlzY28gaSBjb2RpY2kgbGF5ZXJcbnZhciBsYXllckNvZGVzID0gdGhpcy5sYXllckNvZGVzID0ge1xuICAgIEdFT05PVEVTOiAnbm90ZSdcbn07XG4vLyBjbGFzc2kgZWRpdG9yXG52YXIgZWRpdG9yQ2xhc3MgPSB7fTtcbmVkaXRvckNsYXNzW2xheWVyQ29kZXMuR0VPTk9URVNdID0gR2Vvbm90ZXNFZGl0b3I7XG5cbi8vZGVmaW5pc2NvIGxheWVyIGRlbCBwbHVnaW4gY29tZSBvZ2dldHRvXG52YXIgbGF5ZXJzID0ge307XG52YXIgbGF5ZXJzU3R5bGUgPSB7fTtcbnZhciBsYXllcnNFZGl0aW5nU3R5bGUgPSB7fTtcbi8vbGF5ZXJcbi8vbGF5ZXIgU3R5bGVcbmxheWVyc1N0eWxlW2xheWVyQ29kZXMuR0VPTk9URVNdID0gZnVuY3Rpb24oc3R5bGVDb25maWcpIHtcbiAgdmFyIGljb251cmwgPSBzdHlsZUNvbmZpZy5pY29udXJsIHx8IG51bGw7XG4gIHJldHVybiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xuICAgICAgYW5jaG9yOiBbMC41LCAwLjVdLFxuICAgICAgc3JjOiBpY29udXJsIC8vICdmYWtlLnBuZydcbiAgICB9KSlcbiAgfSk7XG59O1xuXG5sYXllcnNbbGF5ZXJDb2Rlcy5HRU9OT1RFU10gPSB7XG4gIGxheWVyQ29kZTogbGF5ZXJDb2Rlcy5HRU9OT1RFUyxcbiAgdmVjdG9yOiBudWxsLFxuICBlZGl0b3I6IG51bGwsXG4gIGljb251cmw6IG51bGwsXG4gIGNyczogbnVsbCxcbiAgLy9kZWZpbmlzY28gbG8gc3RpbGVcbiAgc3R5bGU6IG5ldyBvbC5zdHlsZS5TdHlsZSh7XG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XG4gICAgICBhbmNob3I6IFswLjUsIDAuNV0sXG4gICAgICBzcmM6ICdmYWtlLnBuZydcbiAgICB9KSlcbiAgfSlcbn07XG5cblxuXG4vLyBkZWZpbmlzY28gaSB0b29sc1xuZnVuY3Rpb24gdG9vbHMocGx1Z2luKSB7XG4gIHJldHVybiB0b29scyA9IFtcbiAgICB7XG4gICAgICBsYXllck5hbWU6J25vdGUnLFxuICAgICAgbmFtZTogXCJHZW9ub3Rlc1wiLFxuICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgIGlzQ2hlY2s6IGZhbHNlLFxuICAgICAgYWN0aW9uOiBfLmJpbmQocGx1Z2luLnRvb2xzQWN0aW9ucy5zaG93SGlkZUxheWVyLCBwbHVnaW4pXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcIkVkaXRhIEdlb25vdGVzXCIsXG4gICAgICBhY3Rpb246IF8uYmluZChwbHVnaW4udG9vbHNBY3Rpb25zLnNob3dFZGl0aW5nUGFuZWwsIHBsdWdpbilcbiAgICB9XG4gIF07XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGxheWVyc0NvZGU6IGxheWVyQ29kZXMsXG4gICAgbGF5ZXJzOiBsYXllcnMsXG4gICAgbGF5ZXJzU3R5bGU6IGxheWVyc1N0eWxlLFxuICAgIGxheWVyc0VkaXRpbmdTdHlsZTogbGF5ZXJzRWRpdGluZ1N0eWxlLFxuICAgIGVkaXRvckNsYXNzOiBlZGl0b3JDbGFzcyxcbiAgICB0b29sczogdG9vbHNcbn07XG5cbn0se1wiLi9lZGl0b3JzL2dlb25vdGVzZWRpdG9yXCI6Mn1dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGluaGVyaXQgPSBnM3dzZGsuY29yZS51dGlscy5pbmhlcml0O1xudmFyIEczV09iamVjdCA9IGczd3Nkay5jb3JlLkczV09iamVjdDtcbnZhciBHVUkgPSBnM3dzZGsuZ3VpLkdVSTtcbnZhciBWZWN0b3JMb2FkZXJMYXllciA9IGczd3Nkay5jb3JlLlZlY3RvckxheWVyTG9hZGVyO1xudmFyIEZvcm1DbGFzcyA9IHJlcXVpcmUoJy4vZWRpdG9ycy9hdHRyaWJ1dGVzZm9ybScpO1xuXG5mdW5jdGlvbiBHZW9ub3Rlc1NlcnZpY2UoKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICAvL3F1aSB2YWRvICBhIHNldHRhcmUgaWwgbWFwc2VydmljZVxuICB0aGlzLl9tYXBTZXJ2aWNlID0gbnVsbDtcbiAgdGhpcy5fbG9hZERhdGFPbk1hcFZpZXdDaGFuZ2VMaXN0ZW5lciA9IG51bGw7XG4gIHRoaXMuX2N1cnJlbnRFZGl0aW5nTGF5ZXIgPSBudWxsO1xuICB0aGlzLl9wbHVnaW5Ub29scyA9IG51bGw7XG5cbiAgdGhpcy5zdGF0ZSA9IHtcbiAgICBlZGl0aW5nOiB7XG4gICAgICBvbjogZmFsc2UsXG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIGxheWVyQ29kZTogbnVsbCxcbiAgICAgIHRvb2xUeXBlOiBudWxsLFxuICAgICAgc3RhcnRpbmdFZGl0aW5nVG9vbDogZmFsc2UsXG4gICAgICB0b29sc3RlcDoge1xuICAgICAgICBuOiBudWxsLFxuICAgICAgICB0b3RhbDogbnVsbCxcbiAgICAgICAgbWVzc2FnZTogbnVsbFxuICAgICAgfVxuICAgIH0sXG4gICAgcmV0cmlldmluZ0RhdGE6IGZhbHNlLFxuICAgIGhhc0VkaXRzOiBmYWxzZVxuICB9O1xuXG4gIC8vZGVmaW5pc2NvIGlsIGxvYWRlciBkZWwgcGx1Z2luXG4gIHRoaXMuX2xvYWRlciA9IG5ldyBWZWN0b3JMb2FkZXJMYXllcjtcbiAgLy8gdmluY29saSBhbGxhIHBvc3NpYmlsaXTDoCAgZGkgYXR0aXZhcmUgbCdlZGl0aW5nXG4gIHZhciBlZGl0aW5nQ29uc3RyYWludHMgPSB7XG4gICAgcmVzb2x1dGlvbjogMSAvLyB2aW5jb2xvIGRpIHJpc29sdXppb25lIG1hc3NpbWFcbiAgfTtcbiAgLy8gaW5pemlhbGl6emF6aW9uZSBkZWwgcGx1Z2luXG4gIC8vIGNoaWFtdG8gZGFsbCAkc2NyaXB0KHVybCkgZGVsIHBsdWdpbiByZWdpc3RyeVxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihjb25maWcsIHBsdWdpbkNvbmZpZykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9jcnMgPSBudWxsO1xuICAgIHRoaXMuX2xheWVycyA9IHBsdWdpbkNvbmZpZy5sYXllcnM7XG4gICAgdGhpcy5fZWRpdG9yQ2xhc3MgPSBwbHVnaW5Db25maWcuZWRpdG9yQ2xhc3M7XG4gICAgdGhpcy5sYXllckNvZGVzID0gcGx1Z2luQ29uZmlnLmxheWVyc0NvZGU7XG4gICAgdGhpcy5fbGF5ZXJzU3R5bGUgPSBwbHVnaW5Db25maWcubGF5ZXJzU3R5bGU7XG4gICAgdGhpcy5fbGF5ZXJzRWRpdGluZ1N0eWxlID0gcGx1Z2luQ29uZmlnLmxheWVyc0VkaXRpbmdTdHlsZTtcbiAgICB0aGlzLl9jdXN0b21VcmxQYXJhbWV0ZXJzID0gcGx1Z2luQ29uZmlnLmN1c3RvbVVybFBhcmFtZXRlcnMgfHwgbnVsbDtcbiAgICAvLyBzZXR0byBpbCBtYXBzZXJ2aWNlIGNoZSBtaSBwZXJtZXR0ZSBkaSBpbmVyYWdpcmUgY29uIGxhIG1hcHBhXG4gICAgdGhpcy5fbWFwU2VydmljZSA9IEdVSS5nZXRDb21wb25lbnQoJ21hcCcpLmdldFNlcnZpY2UoKTtcbiAgICAvL3ZhZG8gYSBzZXR0YXJlIGxlIGljb24gdXJscyBlIGlsIGNycyBzZSBlc2lzdGUgY2kgc29ubzpcbiAgICBfLmZvckVhY2godGhpcy5jb25maWcubGF5ZXJzLCBmdW5jdGlvbihsYXllckNvbmZpZywgbGF5ZXJOYW1lICkge1xuICAgICAgc2VsZi5fbGF5ZXJzW2xheWVyTmFtZV0uaW5mb3VybCA9IGxheWVyQ29uZmlnLmluZm91cmw7XG4gICAgICBzZWxmLl9sYXllcnNbbGF5ZXJOYW1lXS5jcnMgPSBcIkVQU0c6XCIrbGF5ZXJDb25maWcuY3JzO1xuICAgICAgc2VsZi5zZXRMYXllclN0eWxlKGxheWVyTmFtZSk7XG4gICAgfSk7XG4gICAgLy9pbml6aWFsaXp6byBpbCBsb2FkZXJcbiAgICAvLyBwYXNzYW5kb2dsaTpcbiAgICAvLyAxIC0gbGF5ZXJzIGRlbCBwbHVnaW4gKHN0eWxlIGV0Yy4uKVxuICAgIC8vIDIgLSBsYSBiYXNldXJsIGNoZSBtaSBzZXJ2ZXIgcGVyIGludGVyYWdpcmUgY29uIGlsIHNlcnZlciBwZXIgZmFyZSB0dXR0ZSBsZSBtb2RpZmljaGVcbiAgICB2YXIgb3B0aW9uc19sb2FkZXIgPSB7XG4gICAgICAnbGF5ZXJzJzogdGhpcy5fbGF5ZXJzLFxuICAgICAgJ2Jhc2V1cmwnOiB0aGlzLmNvbmZpZy5iYXNldXJsLFxuICAgICAgJ21hcFNlcnZpY2UnOiB0aGlzLl9tYXBTZXJ2aWNlXG4gICAgfTtcbiAgICAvL2luaXppYWxpenpvIGlsIGxvYWRlclxuICAgIHRoaXMuX2xvYWRlci5pbml0KG9wdGlvbnNfbG9hZGVyKTtcbiAgICAvL2Nhc28gZGkgbG9hZGluZyBkYXRhXG4gICAgdGhpcy5fbG9hZGVyLm9uKCdsb2FkaW5ndmVjdG9ybGF5ZXJzc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuc3RhdGUucmV0cmlldmluZ0RhdGEgPSB0cnVlO1xuICAgIH0pO1xuICAgIHRoaXMuX2xvYWRlci5vbignbG9hZGluZ3ZlY3RvcmxheWVyc2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zdGF0ZS5yZXRyaWV2aW5nRGF0YSA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHRoaXMuX2xvYWRlci5vbignc2V0bW9kZScsIGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgIHN3aXRjaChtb2RlKSB7XG4gICAgICAgIGNhc2UgJ3cnOlxuICAgICAgICAgIHNlbGYuc3RhdGUuZWRpdGluZy5vbiA9IHRydWU7XG4gICAgICAgICAgc2VsZi5lbWl0KFwiZWRpdGluZ3N0YXJ0ZWRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3InOlxuICAgICAgICAgIHNlbGYuc3RhdGUuZWRpdGluZy5vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZGlzYWJpbGl0byBsJ2V2ZW50dWFsZSB0b29sIGF0dGl2byBzZSB2aWVuZSBhdHRpdmF0YVxuICAgIC8vIHVuJ2ludGVyYXppb25lIGRpIHRpcG8gcG9pbnRlckludGVyYWN0aW9uU2V0IHN1bGxhIG1hcHBhXG4gICAgdGhpcy5fbWFwU2VydmljZS5vbigncG9pbnRlckludGVyYWN0aW9uU2V0JywgZnVuY3Rpb24oaW50ZXJhY3Rpb24pIHtcbiAgICAgIHZhciBjdXJyZW50RWRpdGluZ0xheWVyID0gc2VsZi5fZ2V0Q3VycmVudEVkaXRpbmdMYXllcigpO1xuICAgICAgaWYgKGN1cnJlbnRFZGl0aW5nTGF5ZXIpIHtcbiAgICAgICAgdmFyIGFjdGl2ZVRvb2wgPSBjdXJyZW50RWRpdGluZ0xheWVyLmVkaXRvci5nZXRBY3RpdmVUb29sKCkuaW5zdGFuY2U7XG4gICAgICAgIC8vIGRldm8gdmVyaWZpY2FyZSBjaGUgbm9uIHNpYSB1bidpbnRlcmF6aW9uZSBhdHRpdmF0YSBkYSB1bm8gZGVpIHRvb2wgZGkgZWRpdGluZyBkZWwgcGx1Z2luXG4gICAgICAgIGlmIChhY3RpdmVUb29sICYmICFhY3RpdmVUb29sLm93bnNJbnRlcmFjdGlvbihpbnRlcmFjdGlvbikpIHtcbiAgICAgICAgICBzZWxmLl9zdG9wRWRpdGluZ1Rvb2woKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vICBhYmlsaXRvIG8gbWVubyBsJ2VkaXRpbmcgaW4gYmFzZSBhbGxhIHJpc29sdXppb25lIGRlbGxhIG1hcHBhXG4gICAgLyp0aGlzLl9tYXBTZXJ2aWNlLm9uYWZ0ZXIoJ3NldE1hcFZpZXcnLGZ1bmN0aW9uKGJib3gsIHJlc29sdXRpb24sIGNlbnRlcil7XG4gICAgICBzZWxmLnN0YXRlLmVkaXRpbmcuZW5hYmxlZCA9IChyZXNvbHV0aW9uIDwgZWRpdGluZ0NvbnN0cmFpbnRzLnJlc29sdXRpb24pID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH0pOyovXG4gICAgLy8gYXR0cmlidXRvIGRlbGxvIHN0YXRvIGRlbCBzcmV2aXppbyBjaGUgbWkgcGVybWV0dGUgZGkgYWNjZW5kZXJlIG8gc3BlbmdlcmUgbCdlZGl0aW5nXG4gICAgLy8gc2VydmUgYW5jaGUgcGVyIHBvdGVyIGluIGZhc2UgZGkgdG9nZ2xlRWRpdGluZyhib3R0b25lIGRpIGF2dmlvIGVkaXRpbmcpIGRpIHZlZGVyZSBzZSBwb3NzbyBpbnppYXJlIG8gbWVub1xuICAgIC8vIGNhcmljYXJlIGkgdmV0dG9yaWFsaSBldGMuLlxuICAgIHRoaXMuc3RhdGUuZWRpdGluZy5lbmFibGVkID0gdHJ1ZTsvLyh0aGlzLl9tYXBTZXJ2aWNlLmdldFJlc29sdXRpb24oKSA8IGVkaXRpbmdDb25zdHJhaW50cy5yZXNvbHV0aW9uKSA/IHRydWUgOiBmYWxzZTtcbiAgICAvLyBwZXIgb2duaSBsYXllciBkZWZpbml0aSBuZWwgcGx1Z2luIHNldHRvIG5hbWUgZSBpZFxuICAgIC8vIHJlY3VwZXJhdGkgZ3JhemllIGFsIG1hcHNlcnZpY2VcbiAgICBfLmZvckVhY2godGhpcy5fbGF5ZXJzLCBmdW5jdGlvbihMYXllciwgbGF5ZXJDb2RlKSB7XG4gICAgICAvL3JlY3VwZXJvIGwnaWQgZGFsbGEgY29uZmlndXJhemlvbmUgZGVsIHBsdWdpblxuICAgICAgLy8gaSBsYXllcnMgbmVsbGEgY29uZmlndXJhemlvbmUgcGFzc2F0YSBpIGxheWVycyBoYW5ubyBkdWUgYXR0cmlidXRpOiBpZCBlIG5hbWVcbiAgICAgIHZhciBsYXllcklkID0gY29uZmlnLmxheWVyc1tsYXllckNvZGVdLmlkO1xuICAgICAgdmFyIGxheWVyTmFtZSA9IGNvbmZpZy5sYXllcnNbbGF5ZXJDb2RlXS5uYW1lO1xuICAgICAgLy8gcmVjdXBlcmEgaWwgbGF5ZXIgZGFsIG1hcHNlcnZpY2VcbiAgICAgIHZhciBsYXllciA9IHNlbGYuX21hcFNlcnZpY2UuZ2V0UHJvamVjdCgpLmdldExheWVyQnlJZChsYXllcklkKTtcbiAgICAgIC8vIG1lc3NvIGFsIG1vbWVudG8gZ2VuZXJpY28gcGVyIHJpcHJlbmRlcmUgc3Rlc3NvIGNvbm1wb3J0YW1lbnRvIEl0ZXJuZXRcbiAgICAgIGlmIChsYXllcikge1xuICAgICAgICAvLyByZWN1cGVybyBsJ29yaWdpbiBuYW1lIGRhbCBwcm9qZWN0bGF5ZXJcbiAgICAgICAgTGF5ZXIubmFtZSA9IGxheWVyLmdldE9yaWdOYW1lKCk7XG4gICAgICAgIExheWVyLmlkID0gbGF5ZXJJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExheWVyLm5hbWUgPSBsYXllck5hbWU7XG4gICAgICAgIExheWVyLmlkID0gbGF5ZXJJZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLy8gZmluZSBkZWwgbWV0b2RvIElOSVRcblxuICB0aGlzLnNldFBsdWdpblRvb2xzID0gZnVuY3Rpb24odG9vbHMpIHtcbiAgICB0aGlzLl9wbHVnaW5Ub29scyA9IHRvb2xzO1xuICB9O1xuICB0aGlzLmdldFBsdWdpblRvb2xzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BsdWdpblRvb2xzO1xuICB9O1xuXG4gIHRoaXMuc2V0TGF5ZXJTdHlsZSA9IGZ1bmN0aW9uKGxheWVyQ29kZSkge1xuICAgIHZhciBpY29udXJsID0gdGhpcy5fbGF5ZXJzW2xheWVyQ29kZV0uaWNvbnVybDtcblxuICAgIHZhciBzdHlsZU9wdGlvbnMgPSB7XG4gICAgICBpY29udXJsOiBpY29udXJsXG4gICAgfTtcbiAgICB2YXIgc3R5bGUgPSB0aGlzLl9sYXllcnNTdHlsZVtsYXllckNvZGVdKHN0eWxlT3B0aW9ucyk7XG4gICAgdGhpcy5fbGF5ZXJzW2xheWVyQ29kZV0uc3R5bGUgPSBzdHlsZTtcbiAgICAvLyBzZXR0byB0ZW1wb3JhbmVhbWVudGUgbCdlZGl0bmcgc3R5bGVcbiAgICB0aGlzLl9sYXllcnNFZGl0aW5nU3R5bGVbbGF5ZXJDb2RlXSA9IHN0eWxlO1xuICB9O1xuXG4gIHRoaXMuZ2V0TGF5ZXJTdHlsZSA9IGZ1bmN0aW9uKGxheWVyQ29kZSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2xheWVyc1tsYXllckNvZGVdLnN0eWxlO1xuICB9O1xuXG4gIHRoaXMuX3RvZ2dsZUNoZWNrQm94UGx1Z2luVG9vbCA9IGZ1bmN0aW9uKGxheWVyQ29kZSkge1xuICAgIHZhciBwbHVnaW5Ub29scyA9IHNlbGYuZ2V0UGx1Z2luVG9vbHMoKTtcbiAgICBfLmZvckVhY2gocGx1Z2luVG9vbHMsIGZ1bmN0aW9uKHBsdWdpblRvb2wsIGluZGV4KSB7XG5cbiAgICAgIGlmIChfLmhhcyhwbHVnaW5Ub29sLCAndHlwZScpICYmIHBsdWdpblRvb2wubGF5ZXJOYW1lID09IGxheWVyQ29kZSAmJiBwbHVnaW5Ub29sLnR5cGUgPT0gJ2NoZWNrYm94Jykge1xuICAgICAgICBwbHVnaW5Ub29sc1tpbmRleF0uaXNDaGVjayA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5pc0xheWVyVmlzaWJsZSA9IGZ1bmN0aW9uKGxheWVyQ29kZSkge1xuICAgIHZhciB2ZWN0b3JMYXllciA9IHRoaXMuX2xheWVyc1tsYXllckNvZGVdLnZlY3RvcjtcbiAgICByZXR1cm4gdmVjdG9yTGF5ZXIuaXNWaXNpYmxlKCk7XG4gIH07XG5cbiAgdGhpcy5zaG93SGlkZUxheWVyID0gZnVuY3Rpb24obGF5ZXJDb2RlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciB2ZWN0b3JMYXllciA9IG51bGw7XG4gICAgaWYgKHRoaXMuX2xvYWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIHZlY3RvckxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVyQ29kZV0udmVjdG9yO1xuICAgICAgdmVjdG9yTGF5ZXIuc2V0VmlzaWJsZSghdmVjdG9yTGF5ZXIuaXNWaXNpYmxlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2FkZXIubG9hZExheWVycygncicsIHRoaXMuX2N1c3RvbVVybFBhcmFtZXRlcnMpXG4gICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICBzZWxmLl9hZGRUb01hcCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vc3RvcFxuICB0aGlzLnN0b3AgPSBmdW5jdGlvbigpe1xuICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nLm9uKSB7XG4gICAgICB0aGlzLl9jYW5jZWxPclNhdmUoKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRWRpdGluZygpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZhaWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgIH0pXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuICB9O1xuXG4gIC8vIGF2dmlvIG8gdGVybWlubyBsYSBzZXNzaW9uZSBkaSBlZGl0aW5nIGdlbmVyYWxlXG4gIC8vIHVudG8gZGkgcGFydGVuemEgZGVsbCdhdnZpbyBkZWxsJ2VkaXRpbmdcbiAgdGhpcy50b2dnbGVFZGl0aW5nID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gY3JlbyBvZ2dldHRvIGRlZmVycmVkIHBlciByZXN0aXR1aXJlIHVuYSBwcm9taXNlXG4gICAgdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuICAgIC8vIHF1aSBkaWNlIGNoZSBzZSBuZWwgY2FzbyBsYSByaXNvbHV6aW9uZSBkZWxsYSBtYXBwYSB2YSBiZW5lIChzdGF0ZS5lZGl0aW5nLmVuYWJsZWQpXG4gICAgLy8gZSBub24gw6ggYW5jb3JhIHN0YXRvIGF0dGl2YXRvIGwnZWRpdGluZ1xuICAgIC8vIHF1aW5kaSBjYXNvIHByaW1hIHZvbHRhXG4gICAgaWYgKHRoaXMuc3RhdGUuZWRpdGluZy5lbmFibGVkICYmICF0aGlzLnN0YXRlLmVkaXRpbmcub24pIHtcbiAgICAgIC8vIGZhY2NpbyBwYXJ0aXJlIGVkaXRpbmdcbiAgICAgIHRoaXMuX3N0YXJ0RWRpdGluZygpO1xuICAgIH1cbiAgICAvLyBhbHRyaW1lbnRpIHNlIMOoIGdpw6AgaW4gZWRpdGluZyBjaGlhbW8gbG8gc3RvcCBkZWwgcGx1Z2luXG4gICAgLy8gY2hlIG5vbiDDqCBhbHRybyBjaGUgbG9zIHRvcG8gZGVsbCdlZGl0aW5nXG4gICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nLm9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9wKCk7XG4gICAgfVxuICAgIC8vIHJlc3RpdHVpc2NvIHVuYSBwcm9tZXNzYVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gIH07XG5cbiAgdGhpcy5zYXZlRWRpdHMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuX3NhdmVXaXRob3V0QXNrKCk7XG4gICAgLy90aGlzLl9jYW5jZWxPclNhdmUoMik7XG4gIH07XG5cbiAgLy8gYXZ2aWEgdW5vIGRlaSB0b29sIGRpIGVkaXRpbmcgdHJhIHF1ZWxsaSBzdXBwb3J0YXRpIGRhIEVkaXRvciAoYWRkZmVhdHVyZSwgZWNjLilcbiAgLy8gZnVuemlvbmUgZGVsbCdlbGVtZW50byBwYW5lbCB2dWVcbiAgdGhpcy50b2dnbGVFZGl0VG9vbCA9IGZ1bmN0aW9uKGxheWVyQ29kZSwgdG9vbFR5cGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy9wcmVuZG8gaWwgbGF5ZXIgaW4gYmFzZSBhbCBjb2RpY2UgcGFzc2F0byBkYWxsIGNvbXBvbmVudGUgdnVlXG4gICAgdmFyIGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVyQ29kZV07XG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAvL3JlY3VwcmVybyBpbCBjdXJyZW50IGxheWVyIGluIGVkaXRpbmdcbiAgICAgIHZhciBjdXJyZW50RWRpdGluZ0xheWVyID0gdGhpcy5fZ2V0Q3VycmVudEVkaXRpbmdMYXllcigpO1xuICAgICAgLy8gc2Ugc2kgc3RhIHVzYW5kbyB1biB0b29sIGNoZSBwcmV2ZWRlIGxvIHN0ZXNzbyBsYXllciBpbiBlZGl0YXppb25lXG4gICAgICBpZiAoY3VycmVudEVkaXRpbmdMYXllciAmJiBsYXllckNvZGUgPT0gY3VycmVudEVkaXRpbmdMYXllci5sYXllckNvZGUpIHtcbiAgICAgICAgLy8gZSBsbyBzdGVzc28gdG9vbCBhbGxvcmEgZGlzYXR0aXZvIGlsIHRvb2wgKGluIHF1YW50byDDqFxuICAgICAgICAvLyBwcmVtdXRvIHN1bGxvIHN0ZXNzbyBib3R0b25lKVxuICAgICAgICBpZiAodG9vbFR5cGUgPT0gY3VycmVudEVkaXRpbmdMYXllci5lZGl0b3IuZ2V0QWN0aXZlVG9vbCgpLmdldFR5cGUoKSkge1xuICAgICAgICAgIC8vIHN0ZXNzbyB0aXBvIGRpIHRvb2wgcXVpbmRpIHNpIMOoIHZlcmlmaWNhdG8gdW4gdG9nZ2xlIG5lbCBib3R0b25lXG4gICAgICAgICAgLy8gYWxsb3JhIHN0aXBwbyBsJ2VkaXRpbmcgVG9vbFxuICAgICAgICAgIHRoaXMuX3N0b3BFZGl0aW5nVG9vbCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsdHJpbWVudGkgYXR0aXZvIGlsIHRvb2wgcmljaGllc3RvXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vc3RvcHBvIHByZXZlbnRpdmFtZW50ZSBsJ2VkaXRpbmcgdG9vbCBhdHRpdm9cbiAgICAgICAgICB0aGlzLl9zdG9wRWRpdGluZ1Rvb2woKTtcbiAgICAgICAgICAvL2ZhY2NpbyBwYXJ0aXJlIGwnZWRpdG5nIHRvb2wgcGFzc2FuZG8gY3VycmVudCBFZGl0aW5nIExheWVyIGUgaWwgdGlwbyBkaSB0b29sXG4gICAgICAgICAgdGhpcy5fc3RhcnRFZGl0aW5nVG9vbChjdXJyZW50RWRpdGluZ0xheWVyLCB0b29sVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFsdHJpbWVudGkgY2FzbyBpbiBjdWkgbm9uIMOoIHN0YXRvIHNldHRhdG8gaWwgY3VycmVudCBlZGl0aW5nIGxheWVyIG9cbiAgICAgICAgLy8gaWwgbGF5ZXIgY2hlIHNpIHN0YSBjZXJjYW5kbyBkaSBlZGl0YXJlIMOoIGRpdmVyc28gZGEgcXVlbGxvIGluIGVkaXRpbmcgaW4gcHJlY2VkZW56YVxuICAgICAgICAvLyBuZWwgY2FzbyBzaWEgZ2nDoCAgYXR0aXZvIHVuIGVkaXRvciB2ZXJpZmljbyBkaSBwb3RlcmxvIHN0b3BwYXJlXG4gICAgICAgIGlmIChjdXJyZW50RWRpdGluZ0xheWVyICYmIGN1cnJlbnRFZGl0aW5nTGF5ZXIuZWRpdG9yLmlzU3RhcnRlZCgpKSB7XG4gICAgICAgICAgLy8gc2UgbGEgdGVybWluYXppb25lIGRlbGwnZWRpdGluZyBzYXLDoCAgYW5kYXRhIGEgYnVvbiBmaW5lLCBzZXR0byBpbCB0b29sXG4gICAgICAgICAgLy8gcHJvdm8gYSBzdG9wcGFyZVxuICAgICAgICAgIHRoaXMuX2NhbmNlbE9yU2F2ZSgyKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9zdG9wRWRpdG9yKCkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXJ0RWRpdGluZ1Rvb2wobGF5ZXIsIHRvb2xUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL25lbCBjYXNvIHNpYSBsYSBwcmltYSB2b2x0YSBjaGUgaW50ZXJhZ2lzY28gY29uIHVuIHRvb2xcbiAgICAgICAgICAvLyBlIHF1aW5kaSBub24gw6ggc3RhdG8gc2V0dGF0byBuZXNzdW4gbGF5ZXIgaW4gZWRpdGluZ1xuICAgICAgICAgIHRoaXMuX3N0YXJ0RWRpdGluZ1Rvb2wobGF5ZXIsIHRvb2xUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvL2Z1bnppb25lIGNoZSByZXN0aXR1aXNjZSBsJ2FycmF5IGRlaSBjb2RpY2kgZGVpIGxheWVyc1xuICB0aGlzLmdldExheWVyQ29kZXMgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiBfLnZhbHVlcyh0aGlzLmxheWVyQ29kZXMpO1xuICB9O1xuXG4gIC8qIE1FVE9ESSBQUklWQVRJICovXG4gIC8vIGZ1bnppb25lIHBlciBzZXR0YXJlIGlsIHZlY3RvcmxheWVyIGFsbGEgcHJvcmlldMOgIHZlY3RvciBkZWwgbGF5ZXJcbiAgdGhpcy5fc2V0VXBWZWN0b3JMYXllciA9IGZ1bmN0aW9uKGxheWVyQ29kZSwgdmVjdG9yTGF5ZXIpIHtcbiAgICB0aGlzLl9sYXllcnNbbGF5ZXJDb2RlXS52ZWN0b3IgPSB2ZWN0b3JMYXllcjtcbiAgfTtcblxuICAvL2Z1bnppb25lIGNoZSBwZXJtZXR0ZSBkaSBmYXJlIGlsIHNldHVwIGRlbGwnZWRpdG9yIGUgYXNzZWdhbnJsbyBhbCBsYXllclxuICB0aGlzLl9zZXRVcEVkaXRvciA9IGZ1bmN0aW9uKGxheWVyQ29kZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvL29wdGlvbiBlZGl0b3JcbiAgICB2YXIgb3B0aW9uc19lZGl0b3IgPSB7XG4gICAgICAnbWFwU2VydmljZSc6IHNlbGYuX21hcFNlcnZpY2UsXG4gICAgICAnZm9ybUNsYXNzJzogRm9ybUNsYXNzLFxuICAgICAgJ2VkaXRpbmdWZWN0b3JTdHlsZSc6IHRoaXMuX2xheWVyc0VkaXRpbmdTdHlsZVtsYXllckNvZGVdXG4gICAgfTtcbiAgICAvLyBwcmVuZG8gaWwgdmVjdG9yIGxheWVyIGRlbCBsYXllclxuICAgIHZhciB2ZWN0b3JMYXllciA9IHRoaXMuX2xheWVyc1tsYXllckNvZGVdLnZlY3RvcjtcbiAgICAvL0dFU1RJT05FIEUgSU5JWklBTElaWkFaSU9ORSBERUxMJ0VESVRPUiBSRUxBVElWTyBBTCBMQVlFUiBWRVRUT1JJQUxFXG4gICAgLy9jcmVvIGwnaXN0YW56YSBkZWxsJ2VkaXRvciBjaGUgZ2VzdGlyw6AgaWwgbGF5ZXJcbiAgICB2YXIgZWRpdG9yID0gbmV3IHNlbGYuX2VkaXRvckNsYXNzW2xheWVyQ29kZV0ob3B0aW9uc19lZGl0b3IpO1xuICAgIC8vc2V0dG8gaWwgbGF5ZXIgdmV0dG9yaWFsZSBhc3NvY2lhdG8gYWxsJ2VkaXRvclxuICAgIC8vIGUgaSB0aXBpIGRpIHRvb2xzIGFzc29jaWF0aSBhZCBlc3NvXG4gICAgZWRpdG9yLnNldFZlY3RvckxheWVyKHZlY3RvckxheWVyKTtcbiAgICAvL2VtZXR0ZSBldmVudG8gY2hlIMOoIHN0YXRhIGdlbmVyYXRhIHVuYSBtb2RpZmljYSBsYSBsYXllclxuICAgIGVkaXRvci5vbihcImRpcnR5XCIsIGZ1bmN0aW9uIChkaXJ0eSkge1xuICAgICAgc2VsZi5zdGF0ZS5oYXNFZGl0cyA9IGRpcnR5O1xuICAgIH0pO1xuICAgIC8vYXNzZWdubyBsJ2lzdGFuemEgZWRpdG9yIGFsIGxheWVyIHRyYW1pdGUgbGEgcHJvcHJpZXTDoCBlZGl0b3JcbiAgICB0aGlzLl9sYXllcnNbbGF5ZXJDb2RlXS5lZGl0b3IgPSBlZGl0b3I7XG4gICAgLy8vLyBGSU5FIEdFU1RJT05FIEVESVRPUlxuICB9O1xuXG4gIC8vZmEgcGFydGlyZSBsJ2VkaXRpbmdcbiAgdGhpcy5fc3RhcnRFZGl0aW5nID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gbWkgYXNzaWN1cm8gY2hlIHNlIHBlciBxdWFsc2lzaSBtb3Rpdm9cbiAgICAvLyBmYWNjaW8gdW5vIHN0YXJlZGl0aW5nIGRpIHVuIGVkaXRpbmcgZ2nDoCBhdnZpYXRvXG4gICAgLy8gcml0b3JubyBwZXJjaMOoIGhvIGdpw6AgdHV0dG8gKGxvIGZhY2NpbyBwZXIgc2ljdXJlbm56YSBub24gc2kgc2EgbWFpKVxuICAgIGlmICh0aGlzLnN0YXRlLmVkaXRpbmcub24gfHwgdGhpcy5zdGF0ZS5yZXRyaWV2aW5nRGF0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gY2hpZWRvIGFsIGxvYWRlciBkaSBjYXJpY2FyZSBpIGRhdGlcbiAgICBpZiAoIXRoaXMuX2xvYWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIHRoaXMuX2xvYWRlci5sb2FkTGF5ZXJzKCd3JywgdGhpcy5fY3VzdG9tVXJsUGFyYW1ldGVycykgLy8gY2FyaWNvIGkgbGF5ZXIgaW4gbW9kYWxpdMOgIGVkaXRpbmcgKHNjcml0dHVyYSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZlY3RvckxheWVyc0NvZGVzKSB7XG4gICAgICAgICAgLy91bmEgdm9sdGEgY2hlIGlsIGxvYWRlciBoYSBmaW5pdG8gZGkgY2FyaWNhcmUgaSBsYXllciB2ZXR0b3JpYWxpXG4gICAgICAgICAgLy9xdWVzdG8gbWkgcmVzdGl0dWlzY2UgaSBjb2RpY2UgZGVpIGxheWVyIGNoZSBzb25vIHN0YXRpIGNhcmljYXRpKGFycmF5KVxuICAgICAgICAgIF8uZm9yRWFjaCh2ZWN0b3JMYXllcnNDb2RlcywgZnVuY3Rpb24gKGxheWVyQ29kZSkge1xuICAgICAgICAgICAgLy8gcGVyIG9nbmkgbGF5ZXIgZmFjY2lvIGlsIHNldHVwIGRlbGwnZWRpdG9yXG4gICAgICAgICAgICBzZWxmLl9zZXRVcEVkaXRvcihsYXllckNvZGUpO1xuICAgICAgICAgICAgc2VsZi5fdG9nZ2xlQ2hlY2tCb3hQbHVnaW5Ub29sKGxheWVyQ29kZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gc2UgdHV0dG8gIMOoIGFuZGF0byBhIGJ1b24gZmluZSBhZ2dpdW5nbyBpIFZlY3RvckxheWVyIGFsbGEgbWFwcGFcbiAgICAgICAgICBzZWxmLl9hZGRUb01hcCgpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgR1VJLm5vdGlmeS5lcnJvcih0KCdjb3VsZF9ub3RfbG9hZF92ZWN0b3JfbGF5ZXJzJykpO1xuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2FkZXIuc2V0TW9kZSgndycpO1xuICAgICAgdmFyIHZlY3RvckxheWVyc0NvZGVzID0gdGhpcy5fbG9hZGVyLmdldFZlY3RvckxheWVyc0NvZGVzKCk7XG4gICAgICBfLmZvckVhY2godmVjdG9yTGF5ZXJzQ29kZXMsIGZ1bmN0aW9uIChsYXllckNvZGUpIHtcbiAgICAgICAgLy8gcGVyIG9nbmkgbGF5ZXIgZmFjY2lvIGlsIHNldHVwIGRlbGwnZWRpdG9yXG4gICAgICAgIHNlbGYuX2xvYWRlci5zZXRWZWN0b3JGZWF0dXJlc0xvY2soc2VsZi5fbGF5ZXJzW2xheWVyQ29kZV0udmVjdG9yLCBzZWxmLl9sb2FkZXIuZ2V0VmVjdG9yTGF5ZXJEYXRhKGxheWVyQ29kZSkuZmVhdHVyZWxvY2tzKTtcbiAgICAgICAgc2VsZi5fc2V0VXBFZGl0b3IobGF5ZXJDb2RlKTtcbiAgICAgICAgc2VsZi5fdG9nZ2xlQ2hlY2tCb3hQbHVnaW5Ub29sKGxheWVyQ29kZSk7XG4gICAgICB9KTtcbiAgICAgIHNlbGYuc3RhdGUuZWRpdGluZy5vbiA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuX3N0b3BFZGl0aW5nID0gZnVuY3Rpb24ocmVzZXQpIHtcbiAgICAvLyBzZSBwb3NzbyBzdG9wcGFyZSB0dXR0aSBnbGkgZWRpdG9yLi4uXG4gICAgaWYgKHRoaXMuX3N0b3BFZGl0b3IocmVzZXQpKXtcbiAgICAgIF8uZm9yRWFjaCh0aGlzLl9sYXllcnMsIGZ1bmN0aW9uKGxheWVyLCBsYXllckNvZGUpIHtcbiAgICAgICAgdmFyIHZlY3RvciA9IGxheWVyLnZlY3RvcjtcbiAgICAgICAgbGF5ZXIuZWRpdG9yPSBudWxsO1xuICAgICAgICBzZWxmLl91bmxvY2tMYXllcihzZWxmLl9sYXllcnNbbGF5ZXJDb2RlXSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUVkaXRpbmdTdGF0ZSgpO1xuICAgICAgdGhpcy5fbG9hZGVyLnNldE1vZGUoJ3InKTtcbiAgICAgIHNlbGYuX2NsZWFuVXAoKTtcbiAgICAgIHNlbGYuZW1pdChcImVkaXRpbmdzdG9wcGVkXCIpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLl9jbGVhblVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy92YWRvIGFkIGFubnVsYXJlIGwnZXN0ZW56aW9uZSBkZWwgbG9hZGVyIHBlciBwb3RlciByaWNhcmljYXJlIGkgZGF0aSB2ZXR0dG9yaWFsaVxuICAgIC8vZGEgcml2ZWRlcmU7XG4gICAgdGhpcy5fbG9hZGVyLmNsZWFuVXBMYXllcnMoKTtcblxuICB9O1xuICAvL3NlIG5vbiDDqCBhbmNvcmEgcGFydGl0byBmYWNjaW8gcGFydGlyZSBsbyBzdGFydCBlZGl0b3JcbiAgdGhpcy5fc3RhcnRFZGl0b3IgPSBmdW5jdGlvbihsYXllcil7XG4gICAgLy8gYXZ2aW8gbCdlZGl0b3JcbiAgICAvLyBwYXNzYW5kb2xpIGlsIHNlcnZpY2UgY2hlIGxvIGFjY2V0dGFcbiAgICBpZiAobGF5ZXIuZWRpdG9yLnN0YXJ0KHRoaXMpKSB7XG4gICAgICAvLyByZWdpc3RybyBpbCBjdXJyZW50IGxheWVyIGluIGVkaXRpbmdcbiAgICAgIHRoaXMuX3NldEN1cnJlbnRFZGl0aW5nTGF5ZXIobGF5ZXIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgLy9mdW56aW9uZSBjaGUgdmllbmUgY2hpYW1hdGEgYWwgY2xpY2sgc3UgdW4gdG9vbCBkZWxsJ2VkaXRpbmcgZSBzZVxuICAvL25vbiDDqCBzdGF0byBhc3NlZ25hdG8gYW5jb3JhIG5lc3N1biBsYXllciBjb21lIGN1cnJlbnQgbGF5ZXIgZWRpdGluZ1xuICB0aGlzLl9zdGFydEVkaXRpbmdUb29sID0gZnVuY3Rpb24obGF5ZXIsIHRvb2xUeXBlLCBvcHRpb25zKSB7XG4gICAgLy9hc3NlZ25vIHRydWUgYWxsbyBzdGFydEVkaXRpbmdUb29sIGF0dHJpYnV0byBkZWxsbG8gc3RhdGVcbiAgICB0aGlzLnN0YXRlLnN0YXJ0aW5nRWRpdGluZ1Rvb2wgPSB0cnVlO1xuICAgIHZhciBjYW5TdGFydFRvb2wgPSB0cnVlO1xuICAgIC8vdmVyaWZpY28gc2UgbCdlZGl0b3Igw6ggcGFydGl0byBvIG1lbm9cbiAgICBpZiAoIWxheWVyLmVkaXRvci5pc1N0YXJ0ZWQoKSkge1xuICAgICAgLy9zZSBub24gw6ggYW5jb3JhIHBhcnRpdG8gbG8gZmFjY2lvIHBhcnRpcmUgZSBuZSBwcmVuZG8gaWwgcmlzdWx0YXRvXG4gICAgICAvLyB0cnVlIG8gZmFsc2VcbiAgICAgIGNhblN0YXJ0VG9vbCA9IHRoaXMuX3N0YXJ0RWRpdG9yKGxheWVyKTtcbiAgICB9XG4gICAgLy8gdmVyaWZpY2Egc2UgaWwgdG9vbCBwdcOyIGVzc2VyZSBhdHRpdmF0b1xuICAgIC8vIGwnZWRpdG9yIHZlcmlmaWNhIHNlIGlsIHRvb2wgcmljaGllc3RvIMOoIGNvbXBhdGliaWxlXG4gICAgLy8gY29uIGkgdG9vbHMgcHJldmlzdGkgZGFsbCdlZGl0b3IuIENyZWEgaXN0YW56YSBkaSB0b29sIGUgYXZ2aWEgaWwgdG9vbFxuICAgIC8vIGF0dHJhdmVyc28gaWwgbWV0b2RvIHJ1blxuICAgIGlmIChjYW5TdGFydFRvb2wgJiYgbGF5ZXIuZWRpdG9yLnNldFRvb2wodG9vbFR5cGUsIG9wdGlvbnMpKSB7XG4gICAgICB0aGlzLl91cGRhdGVFZGl0aW5nU3RhdGUoKTtcbiAgICAgIHRoaXMuc3RhdGUuc3RhcnRpbmdFZGl0aW5nVG9vbCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc3RhcnRpbmdFZGl0aW5nVG9vbCA9IGZhbHNlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB0aGlzLl9zdG9wRWRpdG9yID0gZnVuY3Rpb24ocmVzZXQpe1xuICAgIHZhciByZXQgPSB0cnVlO1xuICAgIHZhciBsYXllciA9IHRoaXMuX2dldEN1cnJlbnRFZGl0aW5nTGF5ZXIoKTtcbiAgICBpZiAobGF5ZXIpIHtcbiAgICAgIHJldCA9IGxheWVyLmVkaXRvci5zdG9wKHJlc2V0KTtcbiAgICAgIGlmIChyZXQpe1xuICAgICAgICB0aGlzLl9zZXRDdXJyZW50RWRpdGluZ0xheWVyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8vIGZ1bnppb25lIGNoZSBzaSBvY2N1cGEgZGkgaW50ZXJyb21lcGVyZSBsJ2VkdGluZyB0b29sXG4gIHRoaXMuX3N0b3BFZGl0aW5nVG9vbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXQgPSB0cnVlO1xuICAgIC8vIHJlY3VwZXJlIGlsIGxheWVyIGluIGN1cnJlbnQgZWRpdGluZ1xuICAgIHZhciBsYXllciA9IHRoaXMuX2dldEN1cnJlbnRFZGl0aW5nTGF5ZXIoKTtcbiAgICAvLyBzZSBlc2lzdGUgZWQgZXJhIHN0YXRvIHNldHRhdG9cbiAgICBpZiAobGF5ZXIpIHtcbiAgICAgIC8vIHNlIGFuZGF0byBiZW5lIHJpdG9ybmEgdHJ1ZVxuICAgICAgcmV0ID0gbGF5ZXIuZWRpdG9yLnN0b3BUb29sKCk7XG4gICAgICBpZiAocmV0KSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUVkaXRpbmdTdGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvLyBmdW56aW9uZSBjaGUgYWNjZXR0YSBjb21lIHBhcmFtZXRybyBpbCB0aXBvIGRpXG4gIC8vIG9wZXJhemlvbmUgZGEgZmFyZSBhIHNlY29uZGEgZGljb3NhIMOoIGF2dmVudXRvXG4gIHRoaXMuX3NhdmVXaXRob3V0QXNrID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuICAgIHZhciBkaXJ0eUVkaXRvcnMgPSB7fTtcbiAgICAvLyB2ZXJpZmljbyBwZXIgb2duaSBsYXllciBzZSBsJ2VkaXRvIGFzc29jaWF0byDDqCBEaXJ0eVxuICAgIF8uZm9yRWFjaCh0aGlzLl9sYXllcnMsIGZ1bmN0aW9uKGxheWVyLCBsYXllckNvZGUpIHtcbiAgICAgIGlmIChsYXllci5lZGl0b3IuaXNEaXJ0eSgpKSB7XG4gICAgICAgIGRpcnR5RWRpdG9yc1tsYXllckNvZGVdID0gbGF5ZXIuZWRpdG9yO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX3NhdmVFZGl0cyhkaXJ0eUVkaXRvcnMpLlxuICAgIHRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICB9KS5mYWlsKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICB9KVxuXG4gIH07XG4gIHRoaXMuX2NhbmNlbE9yU2F2ZSA9IGZ1bmN0aW9uKHR5cGUpe1xuICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICAvLyBwZXIgc2ljdXJlenphIHRlbmdvIHR1dHRvIGRlbnRybyB1biBncm9zc28gdHJ5L2NhdGNoLFxuICAgIC8vIHBlciBub24gcmlzY2hpYXJlIGRpIHByb3ZvY2FyZSBpbmNvbnNpc3RlbnplIG5laSBkYXRpIGR1cmFudGUgaWwgc2FsdmF0YWdnaW9cbiAgICB0cnkge1xuICAgICAgdmFyIF9hc2tUeXBlID0gMTtcbiAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgIF9hc2tUeXBlID0gdHlwZVxuICAgICAgfVxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGNob2ljZSA9IFwiY2FuY2VsXCI7XG4gICAgICB2YXIgZGlydHlFZGl0b3JzID0ge307XG4gICAgICAvLyB2ZXJpZmljbyBwZXIgb2duaSBsYXllciBzZSBsJ2VkaXRvIGFzc29jaWF0byDDqCBEaXJ0eVxuICAgICAgXy5mb3JFYWNoKHRoaXMuX2xheWVycywgZnVuY3Rpb24obGF5ZXIsIGxheWVyQ29kZSkge1xuICAgICAgICBpZiAobGF5ZXIuZWRpdG9yLmlzRGlydHkoKSkge1xuICAgICAgICAgIGRpcnR5RWRpdG9yc1tsYXllckNvZGVdID0gbGF5ZXIuZWRpdG9yO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIHZlcmlmaWNvIHNlIGNpIHNvbm8gbyBtZW5vIGVkaXRvciBzcG9yY2hpXG4gICAgICBpZihfLmtleXMoZGlydHlFZGl0b3JzKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fYXNrQ2FuY2VsT3JTYXZlKF9hc2tUeXBlKS5cbiAgICAgICAgdGhlbihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAvLyByaXRvcm5hIGlsIHRpcG8gZGkgYXppb25lIGRhIGZhcmVcbiAgICAgICAgICAvLyBzYXZlLCBjYW5jZWwsIG5vc2F2ZVxuICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdzYXZlJykge1xuICAgICAgICAgICAgLy8gcGFzc28gZ2xpIGVkaXRvciBzcG9jaGkgYWxsYSBmdW56aW9uZSBfc2F2ZUVkaXRzXG4gICAgICAgICAgICBzZWxmLl9zYXZlRWRpdHMoZGlydHlFZGl0b3JzKS5cbiAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gJ25vc2F2ZScpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSAnY2FuY2VsJykge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuICB9O1xuICAvLyBmdW56aW9uZSBjaGUgaW4gYmFzZSBhbCB0aXBvIGRpIGFza1R5cGVcbiAgLy8gdmlzdWFsaXp6YSBpbCBtb2RhbGUgYSBjdWkgcmlzcG9uZGVyZSwgc2FsdmEgZXRjIC4uXG4gIHRoaXMuX2Fza0NhbmNlbE9yU2F2ZSA9IGZ1bmN0aW9uKHR5cGUpe1xuICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICB2YXIgYnV0dG9uVHlwZXMgPSB7XG4gICAgICBTQVZFOiB7XG4gICAgICAgIGxhYmVsOiBcIlNhbHZhXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJidG4tc3VjY2Vzc1wiLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKXtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdzYXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBOT1NBVkU6IHtcbiAgICAgICAgbGFiZWw6IFwiVGVybWluYSBzZW56YSBzYWx2YXJlXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJidG4tZGFuZ2VyXCIsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ25vc2F2ZScpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgQ0FOQ0VMOiB7XG4gICAgICAgIGxhYmVsOiBcIkFubnVsbGFcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ0bi1wcmltYXJ5XCIsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ2NhbmNlbCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBzd2l0Y2ggKHR5cGUpe1xuICAgICAgY2FzZSAxOlxuICAgICAgICBidXR0b25zID0ge1xuICAgICAgICAgIHNhdmU6IGJ1dHRvblR5cGVzLlNBVkUsXG4gICAgICAgICAgbm9zYXZlOiBidXR0b25UeXBlcy5OT1NBVkUsXG4gICAgICAgICAgY2FuY2VsOiBidXR0b25UeXBlcy5DQU5DRUxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGJ1dHRvbnMgPSB7XG4gICAgICAgICAgc2F2ZTogYnV0dG9uVHlwZXMuU0FWRSxcbiAgICAgICAgICBjYW5jZWw6IGJ1dHRvblR5cGVzLkNBTkNFTFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgR1VJLmRpYWxvZy5kaWFsb2coe1xuICAgICAgbWVzc2FnZTogXCJWdW9pIHNhbHZhcmUgZGVmaW5pdGl2YW1lbnRlIGxlIG1vZGlmaWNoZT9cIixcbiAgICAgIHRpdGxlOiBcIlNhbHZhdGFnZ2lvIG1vZGlmaWNhXCIsXG4gICAgICBidXR0b25zOiBidXR0b25zXG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcbiAgfTtcbiAgLy8gZnVuemlvbmUgY2hlIHNhbHZhIGkgZGF0aSByZWxhdGl2aSBhbCBsYXllciB2ZXR0b3JpYWxlXG4gIC8vIGRlbCBkaXJ0eUVkaXRvclxuICB0aGlzLl9zYXZlRWRpdHMgPSBmdW5jdGlvbihkaXJ0eUVkaXRvcnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuICAgIHRoaXMuX3NlbmRFZGl0cyhkaXJ0eUVkaXRvcnMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICBHVUkubm90aWZ5LnN1Y2Nlc3MoXCJJIGRhdGkgc29ubyBzdGF0aSBzYWx2YXRpIGNvcnJldHRhbWVudGVcIik7XG4gICAgICAgICAgc2VsZi5fY29tbWl0RWRpdHMoZGlydHlFZGl0b3JzLCByZXNwb25zZSk7XG4gICAgICAgICAgLy9zZWxmLl9tYXBTZXJ2aWNlLnJlZnJlc2hNYXAoKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mYWlsKGZ1bmN0aW9uKGVycm9ycyl7XG4gICAgICAgICAgR1VJLm5vdGlmeS5lcnJvcihcIkVycm9yZSBuZWwgc2FsdmF0YWdnaW8gc3VsIHNlcnZlclwiKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gIH07XG4gIC8vIGZ1bnppb25lIGNoZSBwcmVuZGUgY29tZSBpbmdyZXNzbyBnbGkgZWRpdG9yIHNwb3JjaGlcbiAgdGhpcy5fc2VuZEVkaXRzID0gZnVuY3Rpb24oZGlydHlFZGl0b3JzKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuICAgIHZhciBlZGl0c1RvUHVzaCA9IF8ubWFwKGRpcnR5RWRpdG9ycywgZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXllcm5hbWU6IGVkaXRvci5nZXRWZWN0b3JMYXllcigpLm5hbWUsXG4gICAgICAgIGVkaXRzOiBlZGl0b3IuZ2V0RWRpdGVkRmVhdHVyZXMoKVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGVzZWd1ZSBpbCBwb3N0IGRlaSBkYXRpXG4gICAgdGhpcy5fcG9zdERhdGEoZWRpdHNUb1B1c2gpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJldHVybmVkKXtcbiAgICAgICAgICBpZiAocmV0dXJuZWQucmVzdWx0KXtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmV0dXJuZWQucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChyZXR1cm5lZC5yZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmFpbChmdW5jdGlvbihyZXR1cm5lZCl7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJldHVybmVkLnJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcbiAgfTtcblxuICB0aGlzLl9jb21taXRFZGl0cyA9IGZ1bmN0aW9uKGVkaXRvcnMsIHJlc3BvbnNlKXtcbiAgICBfLmZvckVhY2goZWRpdG9ycyxmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgIHZhciBuZXdBdHRyaWJ1dGVzRnJvbVNlcnZlciA9IG51bGw7XG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubmV3KXtcbiAgICAgICAgXy5mb3JFYWNoKHJlc3BvbnNlLm5ldywgZnVuY3Rpb24odXBkYXRlZEZlYXR1cmVBdHRyaWJ1dGVzKXtcbiAgICAgICAgICB2YXIgb2xkZmlkID0gdXBkYXRlZEZlYXR1cmVBdHRyaWJ1dGVzLmNsaWVudGlkO1xuICAgICAgICAgIHZhciBmaWQgPSB1cGRhdGVkRmVhdHVyZUF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgICAgZWRpdG9yLmdldEVkaXRWZWN0b3JMYXllcigpLnNldEZlYXR1cmVEYXRhKG9sZGZpZCxmaWQsbnVsbCx1cGRhdGVkRmVhdHVyZUF0dHJpYnV0ZXMpO1xuICAgICAgICAgIF8uZm9yRWFjaChyZXNwb25zZS5uZXdfbG9ja2lkcywgZnVuY3Rpb24obmV3bG9ja0lkKXtcbiAgICAgICAgICAgIGVkaXRvci5nZXRWZWN0b3JMYXllcigpLmFkZExvY2tJZChuZXdsb2NrSWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWRpdG9yLmNvbW1pdCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuX3VuZG9FZGl0cyA9IGZ1bmN0aW9uKGRpcnR5RWRpdG9ycyl7XG4gICAgdmFyIGN1cnJlbnRFZGl0aW5nTGF5ZXJDb2RlID0gdGhpcy5fZ2V0Q3VycmVudEVkaXRpbmdMYXllcigpLmxheWVyQ29kZTtcbiAgICB2YXIgZWRpdG9yID0gZGlydHlFZGl0b3JzW2N1cnJlbnRFZGl0aW5nTGF5ZXJDb2RlXTtcbiAgICB0aGlzLl9zdG9wRWRpdGluZyh0cnVlKTtcbiAgfTtcbiAgLy8gZXNlZ3VlIGwndXBkYXRlIGRlbGxvIHN0YXRlIG5lbCBjYXNvIGFkIGVzZW1waW8gZGkgdW4gdG9nZ2xlIGRlbCBib3R0b25lIHRvb2xcbiAgdGhpcy5fdXBkYXRlRWRpdGluZ1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gcHJlbmRlIGlsIGxheWVyIGluIEVkaXRpbmdcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLl9nZXRDdXJyZW50RWRpdGluZ0xheWVyKCk7XG4gICAgaWYgKGxheWVyKSB7XG4gICAgICB0aGlzLnN0YXRlLmVkaXRpbmcubGF5ZXJDb2RlID0gbGF5ZXIubGF5ZXJDb2RlO1xuICAgICAgdGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xUeXBlID0gbGF5ZXIuZWRpdG9yLmdldEFjdGl2ZVRvb2woKS5nZXRUeXBlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5lZGl0aW5nLmxheWVyQ29kZSA9IG51bGw7XG4gICAgICB0aGlzLnN0YXRlLmVkaXRpbmcudG9vbFR5cGUgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVUb29sU3RlcHNTdGF0ZSgpO1xuICB9O1xuXG4gIHRoaXMuX3VwZGF0ZVRvb2xTdGVwc1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBsYXllciA9IHRoaXMuX2dldEN1cnJlbnRFZGl0aW5nTGF5ZXIoKTtcbiAgICB2YXIgYWN0aXZlVG9vbDtcbiAgICBpZiAobGF5ZXIpIHtcbiAgICAgIGFjdGl2ZVRvb2wgPSBsYXllci5lZGl0b3IuZ2V0QWN0aXZlVG9vbCgpO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlVG9vbCAmJiBhY3RpdmVUb29sLmdldFRvb2woKSkge1xuICAgICAgdmFyIHRvb2xJbnN0YW5jZSA9IGFjdGl2ZVRvb2wuZ2V0VG9vbCgpO1xuICAgICAgaWYgKHRvb2xJbnN0YW5jZS5zdGVwcyl7XG4gICAgICAgIHRoaXMuX3NldFRvb2xTdGVwU3RhdGUoYWN0aXZlVG9vbCk7XG4gICAgICAgIHRvb2xJbnN0YW5jZS5zdGVwcy5vbignc3RlcCcsIGZ1bmN0aW9uKGluZGV4LHN0ZXApIHtcbiAgICAgICAgICBzZWxmLl9zZXRUb29sU3RlcFN0YXRlKGFjdGl2ZVRvb2wpO1xuICAgICAgICB9KTtcbiAgICAgICAgdG9vbEluc3RhbmNlLnN0ZXBzLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc2VsZi5fc2V0VG9vbFN0ZXBTdGF0ZSgpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNlbGYuX3NldFRvb2xTdGVwU3RhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5fc2V0VG9vbFN0ZXBTdGF0ZSA9IGZ1bmN0aW9uKGFjdGl2ZVRvb2wpe1xuICAgIHZhciBpbmRleCwgdG90YWwsIG1lc3NhZ2U7XG4gICAgaWYgKF8uaXNVbmRlZmluZWQoYWN0aXZlVG9vbCkpe1xuICAgICAgaW5kZXggPSBudWxsO1xuICAgICAgdG90YWwgPSBudWxsO1xuICAgICAgbWVzc2FnZSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHRvb2wgPSBhY3RpdmVUb29sLmdldFRvb2woKTtcbiAgICAgIHZhciBtZXNzYWdlcyA9IHRvb2xTdGVwc01lc3NhZ2VzW2FjdGl2ZVRvb2wuZ2V0VHlwZSgpXTtcbiAgICAgIGluZGV4ID0gdG9vbC5zdGVwcy5jdXJyZW50U3RlcEluZGV4KCk7XG4gICAgICB0b3RhbCA9IHRvb2wuc3RlcHMudG90YWxTdGVwcygpO1xuICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzW2luZGV4XTtcbiAgICAgIGlmIChfLmlzVW5kZWZpbmVkKG1lc3NhZ2UpKSB7XG4gICAgICAgIGluZGV4ID0gbnVsbDtcbiAgICAgICAgdG90YWwgPSBudWxsO1xuICAgICAgICBtZXNzYWdlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xzdGVwLm4gPSBpbmRleCArIDE7XG4gICAgdGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xzdGVwLnRvdGFsID0gdG90YWw7XG4gICAgdGhpcy5zdGF0ZS5lZGl0aW5nLnRvb2xzdGVwLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9O1xuXG4gIHRoaXMuX2dldEN1cnJlbnRFZGl0aW5nTGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEVkaXRpbmdMYXllcjtcbiAgfTtcblxuICB0aGlzLl9zZXRDdXJyZW50RWRpdGluZ0xheWVyID0gZnVuY3Rpb24obGF5ZXIpe1xuICAgIGlmICghbGF5ZXIpe1xuICAgICAgdGhpcy5fY3VycmVudEVkaXRpbmdMYXllciA9IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fY3VycmVudEVkaXRpbmdMYXllciA9IGxheWVyO1xuICAgIH1cbiAgfTtcbiAgdGhpcy5fYWRkVG9NYXAgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy9yZWN1cGVybyBsJ2VsZW1lbnRvIG1hcCBvbDNcbiAgICB2YXIgbWFwID0gdGhpcy5fbWFwU2VydmljZS52aWV3ZXIubWFwO1xuICAgIHZhciBsYXllckNvZGVzID0gdGhpcy5nZXRMYXllckNvZGVzKCk7XG4gICAgLy9vZ25pIGxheWVyIGxvIGFnZ2l1bmdvIGFsbGEgbWFwcGFcbiAgICAvL2NvbiBpbCBtZXRvZG8gYWRkVG9NYXAgZGkgdmVjdG9yTGF5ZXJcbiAgICBfLmZvckVhY2gobGF5ZXJDb2RlcywgZnVuY3Rpb24obGF5ZXJDb2RlKSB7XG4gICAgICBzZWxmLl9sYXllcnNbbGF5ZXJDb2RlXS52ZWN0b3IuYWRkVG9NYXAobWFwKTtcbiAgICB9KTtcbiAgICAvL2FnZ2l1bmdvIGlsIGxpc3RlbmVyXG4gICAgaWYgKCF0aGlzLl9sb2FkRGF0YU9uTWFwVmlld0NoYW5nZUxpc3RlbmVyKSB7XG4gICAgICAvL3ZpZW5lIHJpdG9ybmF0YSBsYSBsaXN0ZW5lciBrZXlcbiAgICAgIHRoaXMuX2xvYWREYXRhT25NYXBWaWV3Q2hhbmdlTGlzdGVuZXIgPSB0aGlzLl9tYXBTZXJ2aWNlLm9uYWZ0ZXIoJ3NldE1hcFZpZXcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzZWxmLnN0YXRlLmVkaXRpbmcub24gJiYgc2VsZi5zdGF0ZS5lZGl0aW5nLmVuYWJsZWQpIHtcbiAgICAgICAgICBzZWxmLl9sb2FkZXIubG9hZEFsbFZlY3RvcnNEYXRhKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLl9wb3N0RGF0YSA9IGZ1bmN0aW9uKGVkaXRzVG9QdXNoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIG1hbmRvIHVuIG9nZ2V0dG8gY29tZSBuZWwgY2FzbyBkZWwgYmF0Y2gsXG4gICAgLy8gbWEgaW4gcXVlc3RvIGNhc28gZGV2byBwcmVuZGVyZSBzb2xvIGlsIHByaW1vLCBlIHVuaWNvLCBlbGVtZW50b1xuICAgIGlmIChlZGl0c1RvUHVzaC5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcG9zdEJhdGNoRGF0YShlZGl0c1RvUHVzaCk7XG4gICAgfVxuICAgIHZhciBsYXllck5hbWUgPSBlZGl0c1RvUHVzaFswXS5sYXllcm5hbWU7XG4gICAgdmFyIGVkaXRzID0gZWRpdHNUb1B1c2hbMF0uZWRpdHM7XG4gICAgdmFyIGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoZWRpdHMpO1xuICAgIHJldHVybiAkLnBvc3Qoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy5iYXNldXJsK2xheWVyTmFtZStcIi8/XCIrc2VsZi5fY3VzdG9tVXJsUGFyYW1ldGVycyxcbiAgICAgIGRhdGE6IGpzb25EYXRhLFxuICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5fcG9zdEJhdGNoRGF0YSA9IGZ1bmN0aW9uKG11bHRpRWRpdHNUb1B1c2gpe1xuICAgIHZhciBlZGl0cyA9IHt9O1xuICAgIF8uZm9yRWFjaChtdWx0aUVkaXRzVG9QdXNoLGZ1bmN0aW9uKGVkaXRzVG9QdXNoKXtcbiAgICAgIGVkaXRzW2VkaXRzVG9QdXNoLmxheWVybmFtZV0gPSBlZGl0c1RvUHVzaC5lZGl0cztcbiAgICB9KTtcbiAgICB2YXIganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeShlZGl0cyk7XG4gICAgcmV0dXJuICQucG9zdCh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLmJhc2V1cmwsXG4gICAgICBkYXRhOiBqc29uRGF0YSxcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuX3VubG9jayA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGxheWVyQ29kZXMgPSB0aGlzLmdldExheWVyQ29kZXMoKTtcbiAgICAvLyBlc2VndW8gbGUgcmljaGllc3RlIGRlbGxlIGNvbmZpZ3VyYXppb25pIGUgbWkgdGVuZ28gbGUgcHJvbWVzc2VcbiAgICB2YXIgdW5sb2NrUmVxdWVzdHMgPSBfLm1hcChsYXllckNvZGVzLGZ1bmN0aW9uKGxheWVyQ29kZSl7XG4gICAgICByZXR1cm4gc2VsZi5fdW5sb2NrTGF5ZXIoc2VsZi5fbGF5ZXJzW2xheWVyQ29kZV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuX3VubG9ja0xheWVyID0gZnVuY3Rpb24obGF5ZXJDb25maWcpe1xuICAgICQuZ2V0KHRoaXMuY29uZmlnLmJhc2V1cmwrbGF5ZXJDb25maWcubmFtZStcIi8/dW5sb2NrXCIgKyB0aGlzLl9jdXN0b21VcmxQYXJhbWV0ZXJzKTtcbiAgfTtcbiAgLy9nZXQgbG9hZGVyIHNlcnZpY2VcbiAgdGhpcy5nZXRMb2FkZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9hZGVyO1xuICB9XG59XG5cbmluaGVyaXQoR2Vvbm90ZXNTZXJ2aWNlLCBHM1dPYmplY3QpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgR2Vvbm90ZXNTZXJ2aWNlO1xufSx7XCIuL2VkaXRvcnMvYXR0cmlidXRlc2Zvcm1cIjoxfV19LHt9LFszXSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
