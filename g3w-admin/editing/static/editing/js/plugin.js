!function(){function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}return e}()({1:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?v=h.concat(v):m=-1,v.length&&l())}function l(){if(!g){var e=o(s);g=!0;for(var t=v.length;t;){for(h=v,v=[];++m<t;)h&&h[m].run();m=-1,t=v.length}h=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var d,f,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,v=[],g=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new u(e,t)),1!==v.length||g||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(t,i){(function(){function r(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,i=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:2}],3:[function(e,t,n){function i(e,t){if(t.functional){var n=t.render;t.render=function(t,i){var r=c[e].instances;return i&&r.indexOf(i.parent)<0&&r.push(i.parent),n(t,i)}}else r(t,p,function(){var t=c[e];t.Ctor||(t.Ctor=this.constructor),t.instances.push(this)}),r(t,"beforeDestroy",function(){var t=c[e].instances;t.splice(t.indexOf(this),1)})}function r(e,t,n){var i=e[t];e[t]=i?Array.isArray(i)?i.concat(n):[i,n]:[n]}function o(e){return function(t,n){try{e(t,n)}catch(i){}}}function a(e,t){for(var n in e)n in t||delete e[n];for(var i in t)e[i]=t[i]}function s(e){if(e._u){var t=e._u;return e._u=function(e){try{return t(e,!0)}catch(n){return t(e,null,!0)}},function(){e._u=t}}}var l,u,c=Object.create(null);"undefined"!=typeof window&&(window.__VUE_HOT_MAP__=c);var d=!1,f=!1,p="beforeCreate";n.install=function(e,t){d||(d=!0,l=e.__esModule?e["default"]:e,u=l.version.split(".").map(Number),f=t,l.config._lifecycleHooks.indexOf("init")>-1&&(p="init"),n.compatible=u[0]>=2,!n.compatible)},n.createRecord=function(e,t){if(!c[e]){var n=null;"function"==typeof t&&(n=t,t=n.options),i(e,t),c[e]={Ctor:n,options:t,instances:[]}}},n.isRecorded=function(e){return"undefined"!=typeof c[e]},n.rerender=o(function(e,t){var n=c[e];if(!t)return void n.instances.slice().forEach(function(e){e.$forceUpdate()});if("function"==typeof t&&(t=t.options),n.Ctor)n.Ctor.options.render=t.render,n.Ctor.options.staticRenderFns=t.staticRenderFns,n.instances.slice().forEach(function(e){e.$options.render=t.render,e.$options.staticRenderFns=t.staticRenderFns,e._staticTrees&&(e._staticTrees=[]),Array.isArray(n.Ctor.options.cached)&&(n.Ctor.options.cached=[]),Array.isArray(e.$options.cached)&&(e.$options.cached=[]);var i=s(e);e.$forceUpdate(),e.$nextTick(i)});else if(n.options.render=t.render,n.options.staticRenderFns=t.staticRenderFns,n.options.functional){if(Object.keys(t).length>2)a(n.options,t);else{var i=n.options._injectStyles;if(i){var r=t.render;n.options.render=function(e,t){return i.call(t),r(e,t)}}}n.options._Ctor=null,Array.isArray(n.options.cached)&&(n.options.cached=[]),n.instances.slice().forEach(function(e){e.$forceUpdate()})}}),n.reload=o(function(e,t){var n=c[e];if(t)if("function"==typeof t&&(t=t.options),i(e,t),n.Ctor){u[1]<2&&(n.Ctor.extendOptions=t);var r=n.Ctor["super"].extend(t);r.options._Ctor=n.options._Ctor,n.Ctor.options=r.options,n.Ctor.cid=r.cid,n.Ctor.prototype=r.prototype,r.release&&r.release()}else a(n.options,t);n.instances.slice().forEach(function(e){e.$vnode&&e.$vnode.context&&e.$vnode.context.$forceUpdate()})})},{}],4:[function(e,t,n){(function(e,n){(function(){"use strict";function i(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function o(e){return e===!0}function a(e){return e===!1}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function l(e){return null!==e&&"object"==typeof e}function u(e){return Wi.call(e).slice(8,-1)}function c(e){return"[object Object]"===Wi.call(e)}function d(e){return"[object RegExp]"===Wi.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return r(e)&&"function"==typeof e.then&&"function"==typeof e["catch"]}function h(e){return null==e?"":Array.isArray(e)||c(e)&&e.toString===Wi?JSON.stringify(e,null,2):String(e)}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function m(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function y(e,t){return Yi.call(e,t)}function _(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}}function b(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function w(e,t){return e.bind(t)}function k(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function x(e,t){for(var n in t)e[n]=t[n];return e}function S(e){for(var t={},n=0;n<e.length;n++)e[n]&&x(t,e[n]);return t}function C(e,t,n){}function T(e,t){if(e===t)return!0;var n=l(e),i=l(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every(function(e,n){return T(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(n){return T(e[n],t[n])})}catch(u){return!1}}function I(e,t){for(var n=0;n<e.length;n++)if(T(e[n],t))return n;return-1}function E(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function A(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function F(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function O(e){if(!ur.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function L(e){return"function"==typeof e&&/native code/.test(e.toString())}function $(e){Nr.push(e),Dr.target=e}function M(){Nr.pop(),Dr.target=Nr[Nr.length-1]}function P(e){return new Br((void 0),(void 0),(void 0),String(e))}function j(e){var t=new Br(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function R(e){qr=e}function D(e,t){e.__proto__=t}function N(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];F(e,o,t[o])}}function B(e,t){if(l(e)&&!(e instanceof Br)){var n;return y(e,"__ob__")&&e.__ob__ instanceof Kr?n=e.__ob__:qr&&!Tr()&&(Array.isArray(e)||c(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Kr(e)),t&&n&&n.vmCount++,n}}function V(e,t,n,i,r){var o=new Dr,a=Object.getOwnPropertyDescriptor(e,t);if(!a||a.configurable!==!1){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=e[t]);var u=!r&&B(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return Dr.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&H(t))),t},set:function(t){var a=s?s.call(e):n;t===a||t!==t&&a!==a||(i&&i(),s&&!l||(l?l.call(e,t):n=t,u=!r&&B(t),o.notify()))}})}}function U(e,t,n){if((i(e)||s(e))&&Ar("Cannot set reactive property on undefined, null, or primitive value: "+e),Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?(Ar("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):r?(V(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function G(e,t){if((i(e)||s(e))&&Ar("Cannot delete reactive property on undefined, null, or primitive value: "+e),Array.isArray(e)&&f(t))return void e.splice(t,1);var n=e.__ob__;return e._isVue||n&&n.vmCount?void Ar("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):void(y(e,t)&&(delete e[t],n&&n.dep.notify()))}function H(e){for(var t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&H(t)}function z(e,t){if(!t)return e;for(var n,i,r,o=Er?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(i=e[n],r=t[n],y(e,n)?i!==r&&c(i)&&c(r)&&z(i,r):U(e,n,r));return e}function W(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?z(i,r):r}:t?e?function(){return z("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function q(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?K(n):n}function K(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}function Y(e,t,n,i){var r=Object.create(e||null);return t?(te(i,t,n),x(r,t)):r}function X(e){for(var t in e.components)J(t)}function J(e){new RegExp("^[a-zA-Z][\\-\\.0-9_"+lr.source+"]*$").test(e)||Ar('Invalid component name: "'+e+'". Component names should conform to valid custom element name in html5 specification.'),(qi(e)||sr.isReservedTag(e))&&Ar("Do not use built-in or reserved HTML elements as component id: "+e)}function Z(e,t){var n=e.props;if(n){var i,r,o,a={};if(Array.isArray(n))for(i=n.length;i--;)r=n[i],"string"==typeof r?(o=Ji(r),a[o]={type:null}):Ar("props must be strings when using array syntax.");else if(c(n))for(var s in n)r=n[s],o=Ji(s),a[o]=c(r)?r:{type:r};else Ar('Invalid value for option "props": expected an Array or an Object, but got '+u(n)+".",t);e.props=a}}function Q(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(c(n))for(var o in n){var a=n[o];i[o]=c(a)?x({from:o},a):{from:a}}else Ar('Invalid value for option "inject": expected an Array or an Object, but got '+u(n)+".",t)}}function ee(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}function te(e,t,n){c(t)||Ar('Invalid value for option "'+e+'": expected an Object, but got '+u(t)+".",n)}function ne(e,t,n){function i(i){var r=Yr[i]||Jr;s[i]=r(e[i],t[i],n,i)}if(X(t),"function"==typeof t&&(t=t.options),Z(t,n),Q(t,n),ee(t),!t._base&&(t["extends"]&&(e=ne(e,t["extends"],n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=ne(e,t.mixins[r],n);var a,s={};for(a in e)i(a);for(a in t)y(e,a)||i(a);return s}function ie(e,t,n,i){if("string"==typeof n){var r=e[t];if(y(r,n))return r[n];var o=Ji(n);if(y(r,o))return r[o];var a=Zi(o);if(y(r,a))return r[a];var s=r[n]||r[o]||r[a];return i&&!s&&Ar("Failed to resolve "+t.slice(0,-1)+": "+n,e),s}}function re(e,t,n,i){var r=t[e],o=!y(n,e),a=n[e],s=ce(Boolean,r.type);if(s>-1)if(o&&!y(r,"default"))a=!1;else if(""===a||a===er(e)){var l=ce(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=oe(i,r,e);var u=qr;R(!0),B(a),R(u)}return ae(r,e,a,i,o),a}function oe(e,t,n){if(y(t,"default")){var i=t["default"];return l(i)&&Ar('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',e),e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==le(t.type)?i.call(e):i}}function ae(e,t,n,i,r){if(e.required&&r)return void Ar('Missing required prop: "'+t+'"',i);if(null!=n||e.required){var o=e.type,a=!o||o===!0,s=[];if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length&&!a;l++){var u=se(n,o[l]);s.push(u.expectedType||""),a=u.valid}}if(!a)return void Ar(de(t,n,s),i);var c=e.validator;c&&(c(n)||Ar('Invalid prop: custom validator check failed for prop "'+t+'".',i))}}function se(e,t){var n,i=le(t);if(Zr.test(i)){var r=typeof e;n=r===i.toLowerCase(),n||"object"!==r||(n=e instanceof t)}else n="Object"===i?c(e):"Array"===i?Array.isArray(e):e instanceof t;return{valid:n,expectedType:i}}function le(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function ue(e,t){return le(e)===le(t)}function ce(e,t){if(!Array.isArray(t))return ue(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(ue(t[n],e))return n;return-1}function de(e,t,n){var i='Invalid prop: type check failed for prop "'+e+'". Expected '+n.map(Zi).join(", "),r=n[0],o=u(t),a=fe(t,r),s=fe(t,o);return 1===n.length&&pe(r)&&!he(r,o)&&(i+=" with value "+a),i+=", got "+o+" ",pe(o)&&(i+="with value "+s+"."),i}function fe(e,t){return"String"===t?'"'+e+'"':"Number"===t?""+Number(e):""+e}function pe(e){var t=["string","number","boolean"];return t.some(function(t){return e.toLowerCase()===t})}function he(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.some(function(e){return"boolean"===e.toLowerCase()})}function ve(e,t,n){$();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var a=r[o].call(i,e,t,n)===!1;if(a)return}catch(s){me(s,i,"errorCaptured hook")}}me(e,t,n)}finally{M()}}function ge(e,t,n,i,r){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&p(o)&&!o._handled&&(o["catch"](function(e){return ve(e,i,r+" (Promise/async)")}),o._handled=!0)}catch(a){ve(a,i,r)}return o}function me(e,t,n){if(sr.errorHandler)try{return sr.errorHandler.call(null,e,t,n)}catch(i){i!==e&&ye(i,null,"config.errorHandler")}ye(e,t,n)}function ye(e,t,n){if(Ar("Error in "+n+': "'+e.toString()+'"',t),!dr&&!fr||"undefined"==typeof console)throw e}function _e(){to=!1;var e=eo.slice(0);eo.length=0;for(var t=0;t<e.length;t++)e[t]()}function be(e,t){var n;if(eo.push(function(){if(e)try{e.call(t)}catch(i){ve(i,t,"nextTick")}else n&&n(t)}),to||(to=!0,Xr()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function we(e){ke(e,mo),mo.clear()}function ke(e,t){var n,i,r=Array.isArray(e);if(!(!r&&!l(e)||Object.isFrozen(e)||e instanceof Br)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r)for(n=e.length;n--;)ke(e[n],t);else for(i=Object.keys(e),n=i.length;n--;)ke(e[i[n]],t)}}function xe(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return ge(i,null,arguments,t,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)ge(r[o],null,e,t,"v-on handler")}return n.fns=e,n}function Se(e,t,n,r,a,s){var l,u,c,d,f;for(l in e)u=c=e[l],d=t[l],f=_o(l),i(c)?Ar('Invalid handler for event "'+f.name+'": got '+String(c),s):i(d)?(i(c.fns)&&(c=e[l]=xe(c,s)),o(f.once)&&(c=e[l]=a(f.name,c,f.capture)),n(f.name,c,f.capture,f.passive,f.params)):c!==d&&(d.fns=c,e[l]=d);for(l in t)i(e[l])&&(f=_o(l),r(f.name,t[l],f.capture))}function Ce(e,t,n){function a(){n.apply(this,arguments),m(s.fns,a)}e instanceof Br&&(e=e.data.hook||(e.data.hook={}));var s,l=e[t];i(l)?s=xe([a]):r(l.fns)&&o(l.merged)?(s=l,s.fns.push(a)):s=xe([l,a]),s.merged=!0,e[t]=s}function Te(e,t,n){var o=t.options.props;if(!i(o)){var a={},s=e.attrs,l=e.props;if(r(s)||r(l))for(var u in o){var c=er(u),d=u.toLowerCase();u!==d&&s&&y(s,d)&&Fr('Prop "'+d+'" is passed to component '+Lr(n||t)+', but the declared prop name is "'+u+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+c+'" instead of "'+u+'".'),Ie(a,l,u,c,!0)||Ie(a,s,u,c,!1)}return a}}function Ie(e,t,n,i,o){if(r(t)){if(y(t,n))return e[n]=t[n],o||delete t[n],!0;if(y(t,i))return e[n]=t[i],o||delete t[i],!0}return!1}function Ee(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Ae(e){return s(e)?[P(e)]:Array.isArray(e)?Oe(e):void 0}function Fe(e){return r(e)&&r(e.text)&&a(e.isComment)}function Oe(e,t){var n,a,l,u,c=[];for(n=0;n<e.length;n++)a=e[n],i(a)||"boolean"==typeof a||(l=c.length-1,u=c[l],Array.isArray(a)?a.length>0&&(a=Oe(a,(t||"")+"_"+n),Fe(a[0])&&Fe(u)&&(c[l]=P(u.text+a[0].text),a.shift()),c.push.apply(c,a)):s(a)?Fe(u)?c[l]=P(u.text+a):""!==a&&c.push(P(a)):Fe(a)&&Fe(u)?c[l]=P(u.text+a.text):(o(e._isVList)&&r(a.tag)&&i(a.key)&&r(t)&&(a.key="__vlist"+t+"_"+n+"__"),c.push(a)));return c}function Le(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function $e(e){var t=Me(e.$options.inject,e);t&&(R(!1),Object.keys(t).forEach(function(n){V(e,n,t[n],function(){Ar('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+n+'"',e)})}),R(!0))}function Me(e,t){if(e){for(var n=Object.create(null),i=Er?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var a=e[o].from,s=t;s;){if(s._provided&&y(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var l=e[o]["default"];n[o]="function"==typeof l?l.call(t):l}else Ar('Injection "'+o+'" not found',t)}}return n}}function Pe(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n["default"]||(n["default"]=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(je)&&delete n[u];return n}function je(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Re(e,t,n){var i,r=Object.keys(t).length>0,o=e?!!e.$stable:!r,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==zi&&a===n.$key&&!r&&!n.$hasNormal)return n;i={};for(var s in e)e[s]&&"$"!==s[0]&&(i[s]=De(t,s,e[s]))}else i={};for(var l in t)l in i||(i[l]=Ne(t,l));return e&&Object.isExtensible(e)&&(e._normalized=i),F(i,"$stable",o),F(i,"$key",a),F(i,"$hasNormal",r),i}function De(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:Ae(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function Ne(e,t){return function(){return e[t]}}function Be(e,t){var n,i,o,a,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,o=e.length;i<o;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(l(e))if(Er&&e[Symbol.iterator]){n=[];for(var u=e[Symbol.iterator](),c=u.next();!c.done;)n.push(t(c.value,n.length)),c=u.next()}else for(a=Object.keys(e),n=new Array(a.length),i=0,o=a.length;i<o;i++)s=a[i],n[i]=t(e[s],s,i);return r(n)||(n=[]),n._isVList=!0,n}function Ve(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(l(i)||Ar("slot v-bind without argument expects an Object",this),n=x(x({},i),n)),r=o(n)||t):r=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function Ue(e){return ie(this.$options,"filters",e,!0)||ir}function Ge(e,t){return Array.isArray(e)?e.indexOf(t)===-1:e!==t}function He(e,t,n,i,r){var o=sr.keyCodes[t]||n;return r&&i&&!sr.keyCodes[t]?Ge(r,i):o?Ge(o,e):i?er(i)!==t:void 0}function ze(e,t,n,i,r){if(n)if(l(n)){Array.isArray(n)&&(n=S(n));var o,a=function(a){if("class"===a||"style"===a||Ki(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||sr.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=Ji(a),u=er(a);if(!(l in o||u in o)&&(o[a]=n[a],r)){var c=e.on||(e.on={});c["update:"+a]=function(e){n[a]=e}}};for(var s in n)a(s)}else Ar("v-bind without argument expects an Object or Array value",this);return e}function We(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t?i:(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Ke(i,"__static__"+e,!1),i)}function qe(e,t,n){return Ke(e,"__once__"+t+(n?"_"+n:""),!0),e}function Ke(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Ye(e[i],t+"_"+i,n);else Ye(e,t,n)}function Ye(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Xe(e,t){if(t)if(c(t)){var n=e.on=e.on?x({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}else Ar("v-on without argument expects an Object value",this);return e}function Je(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?Je(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function Ze(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i?e[t[n]]=t[n+1]:""!==i&&null!==i&&Ar("Invalid value for dynamic directive argument (expected string or null): "+i,this)}return e}function Qe(e,t){return"string"==typeof e?t+e:e}function et(e){e._o=qe,e._n=v,e._s=h,e._l=Be,e._t=Ve,e._q=T,e._i=I,e._m=We,e._f=Ue,e._k=He,e._b=ze,e._v=P,e._e=Ur,e._u=Je,e._g=Xe,e._d=Ze,e._p=Qe}function tt(e,t,n,i,r){var a,s=this,l=r.options;y(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var u=o(l._compiled),c=!u;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||zi,this.injections=Me(l.inject,i),this.slots=function(){return s.$slots||Re(e.scopedSlots,s.$slots=Pe(n,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Re(e.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Re(e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,t,n,r){var o=ct(a,e,t,n,r,c);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,i){return ct(a,e,t,n,i,c)}}function nt(e,t,n,i,o){var a=e.options,s={},l=a.props;if(r(l))for(var u in l)s[u]=re(u,l,t||zi);else r(n.attrs)&&rt(s,n.attrs),r(n.props)&&rt(s,n.props);var c=new tt(n,s,o,i,e),d=a.render.call(null,c._c,c);if(d instanceof Br)return it(d,n,c.parent,a,c);if(Array.isArray(d)){for(var f=Ae(d)||[],p=new Array(f.length),h=0;h<f.length;h++)p[h]=it(f[h],n,c.parent,a,c);return p}}function it(e,t,n,i,r){var o=j(e);return o.fnContext=n,o.fnOptions=i,(o.devtoolsMeta=o.devtoolsMeta||{}).renderContext=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function rt(e,t){for(var n in t)e[Ji(n)]=t[n]}function ot(e,t,n,a,s){if(!i(e)){var u=n.$options._base;if(l(e)&&(e=u.extend(e)),"function"!=typeof e)return void Ar("Invalid Component definition: "+String(e),n);var c;if(i(e.cid)&&(c=e,e=yt(c,u),void 0===e))return mt(c,t,n,a,s);t=t||{},rn(e),r(t.model)&&ut(e.options,t);var d=Te(t,e,s);if(o(e.options.functional))return nt(e,d,t,n,a);var f=t.on;if(t.on=t.nativeOn,o(e.options["abstract"])){var p=t.slot;t={},p&&(t.slot=p)}st(t);var h=e.options.name||s,v=new Br("vue-component-"+e.cid+(h?"-"+h:""),t,(void 0),(void 0),(void 0),n,{Ctor:e,propsData:d,listeners:f,tag:s,children:a},c);return v}}function at(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(n)}function st(e){for(var t=e.hook||(e.hook={}),n=0;n<ko.length;n++){var i=ko[n],r=t[i],o=wo[i];r===o||r&&r._merged||(t[i]=r?lt(o,r):o)}}function lt(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function ut(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[i],s=t.model.callback;r(a)?(Array.isArray(a)?a.indexOf(s)===-1:a!==s)&&(o[i]=[s].concat(a)):o[i]=s}function ct(e,t,n,i,r,a){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),o(a)&&(r=So),dt(e,t,n,i,r)}function dt(e,t,n,i,o){if(r(n)&&r(n.__ob__))return Ar("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",e),Ur();if(r(n)&&r(n.is)&&(t=n.is),!t)return Ur();r(n)&&r(n.key)&&!s(n.key)&&Ar("Avoid using non-primitive value as key, use string/number value instead.",e),Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={"default":i[0]},i.length=0),o===So?i=Ae(i):o===xo&&(i=Ee(i));var a,l;if("string"==typeof t){var u;l=e.$vnode&&e.$vnode.ns||sr.getTagNamespace(t),sr.isReservedTag(t)?(r(n)&&r(n.nativeOn)&&Ar("The .native modifier for v-on is only valid on components but it was used on <"+t+">.",e),a=new Br(sr.parsePlatformTagName(t),n,i,(void 0),(void 0),e)):a=n&&n.pre||!r(u=ie(e.$options,"components",t))?new Br(t,n,i,(void 0),(void 0),e):ot(u,n,e,i,t)}else a=ot(t,n,e,i);return Array.isArray(a)?a:r(a)?(r(l)&&ft(a,l),r(n)&&pt(n),a):Ur()}function ft(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),r(e.children))for(var a=0,s=e.children.length;a<s;a++){var l=e.children[a];r(l.tag)&&(i(l.ns)||o(n)&&"svg"!==l.tag)&&ft(l,t,n)}}function pt(e){l(e.style)&&we(e.style),l(e["class"])&&we(e["class"])}function ht(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=Pe(t._renderChildren,i),e.$scopedSlots=zi,e._c=function(t,n,i,r){return ct(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return ct(e,t,n,i,r,!0)};var r=n&&n.data;V(e,"$attrs",r&&r.attrs||zi,function(){!Io&&Ar("$attrs is readonly.",e)},!0),V(e,"$listeners",t._parentListeners||zi,function(){!Io&&Ar("$listeners is readonly.",e)},!0)}function vt(e){et(e.prototype),e.prototype.$nextTick=function(e){return be(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,i=t._parentVnode;i&&(e.$scopedSlots=Re(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;var r;try{Co=e,r=n.call(e._renderProxy,e.$createElement)}catch(o){if(ve(o,e,"render"),e.$options.renderError)try{r=e.$options.renderError.call(e._renderProxy,e.$createElement,o)}catch(o){ve(o,e,"renderError"),r=e._vnode}else r=e._vnode}finally{Co=null}return Array.isArray(r)&&1===r.length&&(r=r[0]),r instanceof Br||(Array.isArray(r)&&Ar("Multiple root nodes returned from render function. Render function should return a single root node.",e),r=Ur()),r.parent=i,r}}function gt(e,t){return(e.__esModule||Er&&"Module"===e[Symbol.toStringTag])&&(e=e["default"]),l(e)?t.extend(e):e}function mt(e,t,n,i,r){var o=Ur();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}function yt(e,t){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var n=Co;if(n&&r(e.owners)&&e.owners.indexOf(n)===-1&&e.owners.push(n),o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(n&&!r(e.owners)){var a=e.owners=[n],s=!0,u=null,c=null;n.$on("hook:destroyed",function(){return m(a,n)});var d=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==c&&(clearTimeout(c),c=null))},f=E(function(n){e.resolved=gt(n,t),s?a.length=0:d(!0)}),h=E(function(t){Ar("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),r(e.errorComp)&&(e.error=!0,d(!0))}),v=e(f,h);return l(v)&&(p(v)?i(e.resolved)&&v.then(f,h):p(v.component)&&(v.component.then(f,h),r(v.error)&&(e.errorComp=gt(v.error,t)),r(v.loading)&&(e.loadingComp=gt(v.loading,t),0===v.delay?e.loading=!0:u=setTimeout(function(){u=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,d(!1))},v.delay||200)),r(v.timeout)&&(c=setTimeout(function(){c=null,i(e.resolved)&&h("timeout ("+v.timeout+"ms)")},v.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function _t(e){return e.isComment&&e.asyncFactory}function bt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&(r(n.componentOptions)||_t(n)))return n}}function wt(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Ct(e,t)}function kt(e,t){bo.$on(e,t)}function xt(e,t){bo.$off(e,t)}function St(e,t){var n=bo;return function i(){var r=t.apply(null,arguments);null!==r&&n.$off(e,i)}}function Ct(e,t,n){bo=e,Se(t,n||{},kt,xt,St,e),bo=void 0}function Tt(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){function n(){i.$off(e,n),t.apply(i,arguments)}var i=this;return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o=n._events[e];if(!o)return n;if(!t)return n._events[e]=null,n;for(var a,s=o.length;s--;)if(a=o[s],a===t||a.fn===t){o.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=e.toLowerCase();n!==e&&t._events[n]&&Fr('Event "'+n+'" is emitted in component '+Lr(t)+' but the handler is registered for "'+e+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+er(e)+'" instead of "'+e+'".');var i=t._events[e];if(i){i=i.length>1?k(i):i;for(var r=k(arguments,1),o='event handler for "'+e+'"',a=0,s=i.length;a<s;a++)ge(i[a],t,r,t,o)}return t}}function It(e){var t=To;return To=e,function(){To=t}}function Et(e){var t=e.$options,n=t.parent;if(n&&!t["abstract"]){for(;n.$options["abstract"]&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function At(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=It(n);n._vnode=e,r?n.$el=n.__patch__(r,e):n.$el=n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Pt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options["abstract"]||m(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();
e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Pt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ft(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Ur,e.$options.template&&"#"!==e.$options.template.charAt(0)||e.$options.el||t?Ar("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",e):Ar("Failed to mount component: template or render function not defined.",e)),Pt(e,"beforeMount");var i;return i=sr.performance&&vo?function(){var t=e._name,i=e._uid,r="vue-perf-start:"+i,o="vue-perf-end:"+i;vo(r);var a=e._render();vo(o),go("vue "+t+" render",r,o),vo(r),e._update(a,n),vo(o),go("vue "+t+" patch",r,o)}:function(){e._update(e._render(),n)},new Bo(e,i,C,{before:function(){e._isMounted&&!e._isDestroyed&&Pt(e,"beforeUpdate")}},(!0)),n=!1,null==e.$vnode&&(e._isMounted=!0,Pt(e,"mounted")),e}function Ot(e,t,n,i,r){Io=!0;var o=i.data.scopedSlots,a=e.$scopedSlots,s=!!(o&&!o.$stable||a!==zi&&!a.$stable||o&&e.$scopedSlots.$key!==o.$key),l=!!(r||e.$options._renderChildren||s);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=r,e.$attrs=i.data.attrs||zi,e.$listeners=n||zi,t&&e.$options.props){R(!1);for(var u=e._props,c=e.$options._propKeys||[],d=0;d<c.length;d++){var f=c[d],p=e.$options.props;u[f]=re(f,p,t,e)}R(!0),e.$options.propsData=t}n=n||zi;var h=e.$options._parentListeners;e.$options._parentListeners=n,Ct(e,n,h),l&&(e.$slots=Pe(r,i.context),e.$forceUpdate()),Io=!1}function Lt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function $t(e,t){if(t){if(e._directInactive=!1,Lt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)$t(e.$children[n]);Pt(e,"activated")}}function Mt(e,t){if(!(t&&(e._directInactive=!0,Lt(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Mt(e.$children[n]);Pt(e,"deactivated")}}function Pt(e,t){$();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,o=n.length;r<o;r++)ge(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),M()}function jt(){Po=Ao.length=Fo.length=0,Oo={},Lo={},$o=Mo=!1}function Rt(){jo=Ro(),Mo=!0;var e,t;for(Ao.sort(function(e,t){return e.id-t.id}),Po=0;Po<Ao.length;Po++)if(e=Ao[Po],e.before&&e.before(),t=e.id,Oo[t]=null,e.run(),null!=Oo[t]&&(Lo[t]=(Lo[t]||0)+1,Lo[t]>Eo)){Ar("You may have an infinite update loop "+(e.user?'in watcher with expression "'+e.expression+'"':"in a component render function."),e.vm);break}var n=Fo.slice(),i=Ao.slice();jt(),Bt(n),Dt(i),Ir&&sr.devtools&&Ir.emit("flush")}function Dt(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Pt(i,"updated")}}function Nt(e){e._inactive=!1,Fo.push(e)}function Bt(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,$t(e[t],!0)}function Vt(e){var t=e.id;if(null==Oo[t]){if(Oo[t]=!0,Mo){for(var n=Ao.length-1;n>Po&&Ao[n].id>e.id;)n--;Ao.splice(n+1,0,e)}else Ao.push(e);if(!$o){if($o=!0,!sr.async)return void Rt();be(Rt)}}}function Ut(e,t,n){Vo.get=function(){return this[t][n]},Vo.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Vo)}function Gt(e){e._watchers=[];var t=e.$options;t.props&&Ht(e,t.props),t.methods&&Jt(e,t.methods),t.data?zt(e):B(e._data={},!0),t.computed&&qt(e,t.computed),t.watch&&t.watch!==br&&Zt(e,t.watch)}function Ht(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[],o=!e.$parent;o||R(!1);var a=function(a){r.push(a);var s=re(a,t,n,e),l=er(a);(Ki(l)||sr.isReservedAttr(l))&&Ar('"'+l+'" is a reserved attribute and cannot be used as component prop.',e),V(i,a,s,function(){o||Io||Ar("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+a+'"',e)}),a in e||Ut(e,"_props",a)};for(var s in t)a(s);R(!0)}function zt(e){var t=e.$options.data;t=e._data="function"==typeof t?Wt(t,e):t||{},c(t)||(t={},Ar("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",e));for(var n=Object.keys(t),i=e.$options.props,r=e.$options.methods,o=n.length;o--;){var a=n[o];r&&y(r,a)&&Ar('Method "'+a+'" has already been defined as a data property.',e),i&&y(i,a)?Ar('The data property "'+a+'" is already declared as a prop. Use prop default value instead.',e):A(a)||Ut(e,"_data",a)}B(t,!0)}function Wt(e,t){$();try{return e.call(t,t)}catch(n){return ve(n,t,"data()"),{}}finally{M()}}function qt(e,t){var n=e._computedWatchers=Object.create(null),i=Tr();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;null==a&&Ar('Getter is missing for computed property "'+r+'".',e),i||(n[r]=new Bo(e,a||C,C,Uo)),r in e?r in e.$data?Ar('The computed property "'+r+'" is already defined in data.',e):e.$options.props&&r in e.$options.props&&Ar('The computed property "'+r+'" is already defined as a prop.',e):Kt(e,r,o)}}function Kt(e,t,n){var i=!Tr();"function"==typeof n?(Vo.get=i?Yt(t):Xt(n),Vo.set=C):(Vo.get=n.get?i&&n.cache!==!1?Yt(t):Xt(n.get):C,Vo.set=n.set||C),Vo.set===C&&(Vo.set=function(){Ar('Computed property "'+t+'" was assigned to but it has no setter.',this)}),Object.defineProperty(e,t,Vo)}function Yt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Dr.target&&t.depend(),t.value}}function Xt(e){return function(){return e.call(this,this)}}function Jt(e,t){var n=e.$options.props;for(var i in t)"function"!=typeof t[i]&&Ar('Method "'+i+'" has type "'+typeof t[i]+'" in the component definition. Did you reference the function correctly?',e),n&&y(n,i)&&Ar('Method "'+i+'" has already been defined as a prop.',e),i in e&&A(i)&&Ar('Method "'+i+'" conflicts with an existing Vue instance method. Avoid defining component methods that start with _ or $.'),e[i]="function"!=typeof t[i]?C:tr(t[i],e)}function Zt(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Qt(e,n,i[r]);else Qt(e,n,i)}}function Qt(e,t,n,i){return c(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function en(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},t.set=function(){Ar("Avoid replacing instance root $data. Use nested data properties instead.",this)},n.set=function(){Ar("$props is readonly.",this)},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=U,e.prototype.$delete=G,e.prototype.$watch=function(e,t,n){var i=this;if(c(t))return Qt(i,e,t,n);n=n||{},n.user=!0;var r=new Bo(i,e,t,n);if(n.immediate)try{t.call(i,r.value)}catch(o){ve(o,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}function tn(e){e.prototype._init=function(e){var t=this;t._uid=Go++;var n,i;sr.performance&&vo&&(n="vue-perf-start:"+t._uid,i="vue-perf-end:"+t._uid,vo(n)),t._isVue=!0,e&&e._isComponent?nn(t,e):t.$options=ne(rn(t.constructor),e||{},t),ao(t),t._self=t,Et(t),wt(t),ht(t),Pt(t,"beforeCreate"),$e(t),Gt(t),Le(t),Pt(t,"created"),sr.performance&&vo&&(t._name=Lr(t,!1),vo(i),go("vue "+t._name+" init",n,i)),t.$options.el&&t.$mount(t.$options.el)}}function nn(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function rn(e){var t=e.options;if(e["super"]){var n=rn(e["super"]),i=e.superOptions;if(n!==i){e.superOptions=n;var r=on(e);r&&x(e.extendOptions,r),t=e.options=ne(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function on(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}function an(e){this instanceof an||Ar("Vue is a constructor and should be called with the `new` keyword"),this._init(e)}function sn(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=k(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}function ln(e){e.mixin=function(e){return this.options=ne(this.options,e),this}}function un(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name;o&&J(o);var a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=ne(n.options,e),a["super"]=n,a.options.props&&cn(a),a.options.computed&&dn(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,or.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=x({},a.options),r[i]=a,a}}function cn(e){var t=e.options.props;for(var n in t)Ut(e.prototype,"_props",n)}function dn(e){var t=e.options.computed;for(var n in t)Kt(e.prototype,n,t[n])}function fn(e){or.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&J(e),"component"===t&&c(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function pn(e){return e&&(e.Ctor.options.name||e.tag)}function hn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function vn(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var a=n[o];if(a){var s=pn(a.componentOptions);s&&!t(s)&&gn(n,o,i,r)}}}function gn(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,m(n,t)}function mn(e){var t={};t.get=function(){return sr},t.set=function(){Ar("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(e,"config",t),e.util={warn:Ar,extend:x,mergeOptions:ne,defineReactive:V},e.set=U,e["delete"]=G,e.nextTick=be,e.observable=function(e){return B(e),e},e.options=Object.create(null),or.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,x(e.options.components,Wo),sn(e),ln(e),un(e),fn(e)}function yn(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)i=i.componentInstance._vnode,i&&i.data&&(t=_n(i.data,t));for(;r(n=n.parent);)n&&n.data&&(t=_n(t,n.data));return bn(t.staticClass,t["class"])}function _n(e,t){return{staticClass:wn(e.staticClass,t.staticClass),"class":r(e["class"])?[e["class"],t["class"]]:t["class"]}}function bn(e,t){return r(e)||r(t)?wn(e,kn(t)):""}function wn(e,t){return e?t?e+" "+t:e:t||""}function kn(e){return Array.isArray(e)?xn(e):l(e)?Sn(e):"string"==typeof e?e:""}function xn(e){for(var t,n="",i=0,o=e.length;i<o;i++)r(t=kn(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function Sn(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Cn(e){return ua(e)?"svg":"math"===e?"math":void 0}function Tn(e){if(!dr)return!0;if(ca(e))return!1;if(e=e.toLowerCase(),null!=da[e])return da[e];var t=document.createElement(e);return e.indexOf("-")>-1?da[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:da[e]=/HTMLUnknownElement/.test(t.toString())}function In(e){if("string"==typeof e){var t=document.querySelector(e);return t?t:(Ar("Cannot find element: "+e),document.createElement("div"))}return e}function En(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function An(e,t){return document.createElementNS(sa[e],t)}function Fn(e){return document.createTextNode(e)}function On(e){return document.createComment(e)}function Ln(e,t,n){e.insertBefore(t,n)}function $n(e,t){e.removeChild(t)}function Mn(e,t){e.appendChild(t)}function Pn(e){return e.parentNode}function jn(e){return e.nextSibling}function Rn(e){return e.tagName}function Dn(e,t){e.textContent=t}function Nn(e,t){e.setAttribute(t,"")}function Bn(e,t){var n=e.data.ref;if(r(n)){var i=e.context,o=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[n])?m(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}function Vn(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&Un(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function Un(e,t){if("input"!==e.tag)return!0;var n,i=r(n=e.data)&&r(n=n.attrs)&&n.type,o=r(n=t.data)&&r(n=n.attrs)&&n.type;return i===o||fa(i)&&fa(o)}function Gn(e,t,n){var i,o,a={};for(i=t;i<=n;++i)o=e[i].key,r(o)&&(a[o]=i);return a}function Hn(e){function t(e){return new Br(P.tagName(e).toLowerCase(),{},[],(void 0),e)}function n(e,t){function n(){0===--n.listeners&&a(e)}return n.listeners=t,n}function a(e){var t=P.parentNode(e);r(t)&&P.removeChild(t,e)}function l(e,t){return!t&&!e.ns&&!(sr.ignoredElements.length&&sr.ignoredElements.some(function(t){return d(t)?t.test(e.tag):t===e.tag}))&&sr.isUnknownElement(e.tag)}function u(e,t,n,i,a,s,u){if(r(e.elm)&&r(s)&&(e=s[u]=j(e)),e.isRootInsert=!a,!c(e,t,n,i)){var d=e.data,f=e.children,p=e.tag;r(p)?(d&&d.pre&&R++,l(e,R)&&Ar("Unknown custom element: <"+p+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',e.context),e.elm=e.ns?P.createElementNS(e.ns,p):P.createElement(p,e),_(e),v(e,f,t),r(d)&&y(e,t),h(n,e.elm,i),d&&d.pre&&R--):o(e.isComment)?(e.elm=P.createComment(e.text),h(n,e.elm,i)):(e.elm=P.createTextNode(e.text),h(n,e.elm,i))}}function c(e,t,n,i){var a=e.data;if(r(a)){var s=r(e.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(e,!1),r(e.componentInstance))return f(e,t),h(n,e.elm,i),o(s)&&p(e,t,n,i),!0}}function f(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(y(e,t),_(e)):(Bn(e),t.push(e))}function p(e,t,n,i){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<$.activate.length;++o)$.activate[o](va,a);t.push(a);break}h(n,e.elm,i)}function h(e,t,n){r(e)&&(r(n)?P.parentNode(n)===e&&P.insertBefore(e,t,n):P.appendChild(e,t))}function v(e,t,n){if(Array.isArray(t)){C(t);for(var i=0;i<t.length;++i)u(t[i],n,e.elm,null,!0,t,i)}else s(e.text)&&P.appendChild(e.elm,P.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function y(e,t){for(var n=0;n<$.create.length;++n)$.create[n](va,e);O=e.data.hook,r(O)&&(r(O.create)&&O.create(va,e),r(O.insert)&&t.push(e))}function _(e){var t;if(r(t=e.fnScopeId))P.setStyleScope(e.elm,t);else for(var n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&P.setStyleScope(e.elm,t),n=n.parent;r(t=To)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&P.setStyleScope(e.elm,t)}function b(e,t,n,i,r,o){for(;i<=r;++i)u(n[i],o,e,t,!1,n,i)}function w(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<$.destroy.length;++t)$.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function k(e,t,n){for(;t<=n;++t){var i=e[t];r(i)&&(r(i.tag)?(x(i),w(i)):a(i.elm))}}function x(e,t){if(r(t)||r(e.data)){var i,o=$.remove.length+1;for(r(t)?t.listeners+=o:t=n(e.elm,o),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&x(i,t),i=0;i<$.remove.length;++i)$.remove[i](e,t);r(i=e.data.hook)&&r(i=i.remove)?i(e,t):t()}else a(e.elm)}function S(e,t,n,o,a){var s,l,c,d,f=0,p=0,h=t.length-1,v=t[0],g=t[h],m=n.length-1,y=n[0],_=n[m],w=!a;for(C(n);f<=h&&p<=m;)i(v)?v=t[++f]:i(g)?g=t[--h]:Vn(v,y)?(I(v,y,o,n,p),v=t[++f],y=n[++p]):Vn(g,_)?(I(g,_,o,n,m),g=t[--h],_=n[--m]):Vn(v,_)?(I(v,_,o,n,m),w&&P.insertBefore(e,v.elm,P.nextSibling(g.elm)),v=t[++f],_=n[--m]):Vn(g,y)?(I(g,y,o,n,p),w&&P.insertBefore(e,g.elm,v.elm),g=t[--h],y=n[++p]):(i(s)&&(s=Gn(t,f,h)),l=r(y.key)?s[y.key]:T(y,t,f,h),i(l)?u(y,o,e,v.elm,!1,n,p):(c=t[l],Vn(c,y)?(I(c,y,o,n,p),t[l]=void 0,w&&P.insertBefore(e,c.elm,v.elm)):u(y,o,e,v.elm,!1,n,p)),y=n[++p]);f>h?(d=i(n[m+1])?null:n[m+1].elm,b(e,d,n,p,m,o)):p>m&&k(t,f,h)}function C(e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=i.key;r(o)&&(t[o]?Ar("Duplicate keys detected: '"+o+"'. This may cause an update error.",i.context):t[o]=!0)}}function T(e,t,n,i){for(var o=n;o<i;o++){var a=t[o];if(r(a)&&Vn(e,a))return o}}function I(e,t,n,a,s,l){if(e!==t){r(t.elm)&&r(a)&&(t=a[s]=j(t));var u=t.elm=e.elm;if(o(e.isAsyncPlaceholder))return void(r(t.asyncFactory.resolved)?A(e.elm,t,n):t.isAsyncPlaceholder=!0);if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))return void(t.componentInstance=e.componentInstance);var c,d=t.data;r(d)&&r(c=d.hook)&&r(c=c.prepatch)&&c(e,t);var f=e.children,p=t.children;if(r(d)&&m(t)){for(c=0;c<$.update.length;++c)$.update[c](e,t);r(c=d.hook)&&r(c=c.update)&&c(e,t)}i(t.text)?r(f)&&r(p)?f!==p&&S(u,f,p,n,l):r(p)?(C(p),r(e.text)&&P.setTextContent(u,""),b(u,null,p,0,p.length-1,n)):r(f)?k(f,0,f.length-1):r(e.text)&&P.setTextContent(u,""):e.text!==t.text&&P.setTextContent(u,t.text),r(d)&&r(c=d.hook)&&r(c=c.postpatch)&&c(e,t)}}function E(e,t,n){if(o(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}function A(e,t,n,i){var a,s=t.tag,l=t.data,u=t.children;if(i=i||l&&l.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(!F(e,t,i))return!1;if(r(l)&&(r(a=l.hook)&&r(a=a.init)&&a(t,!0),r(a=t.componentInstance)))return f(t,n),!0;if(r(s)){if(r(u))if(e.hasChildNodes())if(r(a=l)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==e.innerHTML)return"undefined"==typeof console||D||(D=!0),!1}else{for(var c=!0,d=e.firstChild,p=0;p<u.length;p++){if(!d||!A(d,u[p],n,i)){c=!1;break}d=d.nextSibling}if(!c||d)return"undefined"==typeof console||D||(D=!0),!1}else v(t,u,n);if(r(l)){var h=!1;for(var g in l)if(!N(g)){h=!0,y(t,n);break}!h&&l["class"]&&we(l["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}function F(e,t,n){return r(t.tag)?0===t.tag.indexOf("vue-component")||!l(t,n)&&t.tag.toLowerCase()===(e.tagName&&e.tagName.toLowerCase()):e.nodeType===(t.isComment?8:3)}var O,L,$={},M=e.modules,P=e.nodeOps;for(O=0;O<ga.length;++O)for($[ga[O]]=[],L=0;L<M.length;++L)r(M[L][ga[O]])&&$[ga[O]].push(M[L][ga[O]]);var R=0,D=!1,N=g("attrs,class,staticClass,staticStyle,key");return function(e,n,a,s){if(i(n))return void(r(e)&&w(e));var l=!1,c=[];if(i(e))l=!0,u(n,c);else{var d=r(e.nodeType);if(!d&&Vn(e,n))I(e,n,c,null,null,s);else{if(d){if(1===e.nodeType&&e.hasAttribute(rr)&&(e.removeAttribute(rr),a=!0),o(a)){if(A(e,n,c))return E(n,c,!0),e;Ar("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=t(e)}var f=e.elm,p=P.parentNode(f);if(u(n,c,f._leaveCb?null:p,P.nextSibling(f)),r(n.parent))for(var h=n.parent,v=m(n);h;){for(var g=0;g<$.destroy.length;++g)$.destroy[g](h);if(h.elm=n.elm,v){for(var y=0;y<$.create.length;++y)$.create[y](va,h);var _=h.data.hook.insert;if(_.merged)for(var b=1;b<_.fns.length;b++)_.fns[b]()}else Bn(h);h=h.parent}r(p)?k([e],0,0):r(e.tag)&&w(e)}}return E(n,c,l),n.elm}}function zn(e,t){(e.data.directives||t.data.directives)&&Wn(e,t)}function Wn(e,t){var n,i,r,o=e===va,a=t===va,s=qn(e.data.directives,e.context),l=qn(t.data.directives,t.context),u=[],c=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Yn(r,"update",t,e),r.def&&r.def.componentUpdated&&c.push(r)):(Yn(r,"bind",t,e),r.def&&r.def.inserted&&u.push(r));if(u.length){var d=function(){for(var n=0;n<u.length;n++)Yn(u[n],"inserted",t,e)};o?Ce(t,"insert",d):d()}if(c.length&&Ce(t,"postpatch",function(){for(var n=0;n<c.length;n++)Yn(c[n],"componentUpdated",t,e)}),!o)for(n in s)l[n]||Yn(s[n],"unbind",e,e,a)}function qn(e,t){var n=Object.create(null);if(!e)return n;var i,r;for(i=0;i<e.length;i++)r=e[i],r.modifiers||(r.modifiers=ya),n[Kn(r)]=r,r.def=ie(t.$options,"directives",r.name,!0);return n}function Kn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Yn(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(a){ve(a,n.context,"directive "+e.name+" "+t+" hook")}}function Xn(e,t){var n=t.componentOptions;if(!(r(n)&&n.Ctor.options.inheritAttrs===!1||i(e.data.attrs)&&i(t.data.attrs))){var o,a,s,l=t.elm,u=e.data.attrs||{},c=t.data.attrs||{};r(c.__ob__)&&(c=t.data.attrs=x({},c));for(o in c)a=c[o],s=u[o],s!==a&&Jn(l,o,a);(vr||mr)&&c.value!==u.value&&Jn(l,"value",c.value);for(o in u)i(c[o])&&(ra(o)?l.removeAttributeNS(ia,oa(o)):Qo(o)||l.removeAttribute(o))}}function Jn(e,t,n){e.tagName.indexOf("-")>-1?Zn(e,t,n):na(t)?aa(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Qo(t)?e.setAttribute(t,ta(t,n)):ra(t)?aa(n)?e.removeAttributeNS(ia,oa(t)):e.setAttributeNS(ia,t,n):Zn(e,t,n)}function Zn(e,t,n){if(aa(n))e.removeAttribute(t);else{if(vr&&!gr&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}function Qn(e,t){var n=t.elm,o=t.data,a=e.data;if(!(i(o.staticClass)&&i(o["class"])&&(i(a)||i(a.staticClass)&&i(a["class"])))){var s=yn(t),l=n._transitionClasses;r(l)&&(s=wn(s,kn(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function ei(e){if(r(e[ka])){var t=vr?"change":"input";e[t]=[].concat(e[ka],e[t]||[]),delete e[ka]}r(e[xa])&&(e.change=[].concat(e[xa],e.change||[]),delete e[xa])}function ti(e,t,n){var i=qo;return function r(){var o=t.apply(null,arguments);null!==o&&ii(e,r,n,i)}}function ni(e,t,n,i){if(Sa){var r=jo,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}qo.addEventListener(e,t,wr?{capture:n,passive:i}:n)}function ii(e,t,n,i){(i||qo).removeEventListener(e,t._wrapper||t,n)}function ri(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},r=e.data.on||{};qo=t.elm,ei(n),Se(n,r,ni,ii,ti,t.context),qo=void 0}}function oi(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};r(l.__ob__)&&(l=t.data.domProps=x({},l));for(n in s)n in l||(a[n]="");for(n in l){if(o=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var u=i(o)?"":String(o);ai(a,u)&&(a.value=u)}else if("innerHTML"===n&&ua(a.tagName)&&i(a.innerHTML)){Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+o+"</svg>";for(var c=Ko.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(o!==s[n])try{a[n]=o}catch(d){}}}}function ai(e,t){return!e.composing&&("OPTION"===e.tagName||si(e,t)||li(e,t))}function si(e,t){var n=!0;try{n=document.activeElement!==e}catch(i){}return n&&e.value!==t}function li(e,t){var n=e.value,i=e._vModifiers;if(r(i)){if(i.number)return v(n)!==v(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}function ui(e){var t=ci(e.style);return e.staticStyle?x(e.staticStyle,t):t}function ci(e){return Array.isArray(e)?S(e):"string"==typeof e?Ia(e):e}function di(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)r=r.componentInstance._vnode,r&&r.data&&(n=ui(r.data))&&x(i,n);(n=ui(e.data))&&x(i,n);for(var o=e;o=o.parent;)o.data&&(n=ui(o.data))&&x(i,n);return i}function fi(e,t){var n=t.data,o=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,l=t.elm,u=o.staticStyle,c=o.normalizedStyle||o.style||{},d=u||c,f=ci(t.data.style)||{};t.data.normalizedStyle=r(f.__ob__)?x({},f):f;var p=di(t,!0);for(s in d)i(p[s])&&Fa(l,s,"");for(s in p)a=p[s],a!==d[s]&&Fa(l,s,null==a?"":a)}}function pi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ma).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function hi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ma).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function vi(e){if(e){if("object"==typeof e){var t={};return e.css!==!1&&x(t,Pa(e.name||"v")),x(t,e),t}return"string"==typeof e?Pa(e):void 0}}function gi(e){Ga(function(){Ga(e)})}function mi(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),pi(e,t))}function yi(e,t){e._transitionClasses&&m(e._transitionClasses,t),hi(e,t)}function _i(e,t,n){var i=bi(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===Ra?Ba:Ua,l=0,u=function(){e.removeEventListener(s,c),n()},c=function(t){t.target===e&&++l>=a&&u()};setTimeout(function(){l<a&&u()},o+1),e.addEventListener(s,c)}function bi(e,t){var n,i=window.getComputedStyle(e),r=(i[Na+"Delay"]||"").split(", "),o=(i[Na+"Duration"]||"").split(", "),a=wi(r,o),s=(i[Va+"Delay"]||"").split(", "),l=(i[Va+"Duration"]||"").split(", "),u=wi(s,l),c=0,d=0;t===Ra?a>0&&(n=Ra,c=a,d=o.length):t===Da?u>0&&(n=Da,c=u,d=l.length):(c=Math.max(a,u),n=c>0?a>u?Ra:Da:null,d=n?n===Ra?o.length:l.length:0);var f=n===Ra&&Ha.test(i[Na+"Property"]);return{type:n,timeout:c,propCount:d,hasTransform:f}}function wi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return ki(t)+ki(e[n])}))}function ki(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function xi(e,t){var n=e.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=vi(e.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){for(var a=o.css,s=o.type,u=o.enterClass,c=o.enterToClass,d=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,h=o.appearActiveClass,g=o.beforeEnter,m=o.enter,y=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,k=o.afterAppear,x=o.appearCancelled,S=o.duration,C=To,T=To.$vnode;T&&T.parent;)C=T.context,T=T.parent;var I=!C._isMounted||!e.isRootInsert;if(!I||w||""===w){var A=I&&f?f:u,F=I&&h?h:d,O=I&&p?p:c,L=I?b||g:g,$=I&&"function"==typeof w?w:m,M=I?k||y:y,P=I?x||_:_,j=v(l(S)?S.enter:S);null!=j&&Ci(j,"enter",e);var R=a!==!1&&!gr,D=Ii($),N=n._enterCb=E(function(){R&&(yi(n,O),yi(n,F)),N.cancelled?(R&&yi(n,A),P&&P(n)):M&&M(n),n._enterCb=null});e.data.show||Ce(e,"insert",function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),$&&$(n,N)}),L&&L(n),R&&(mi(n,A),mi(n,F),gi(function(){yi(n,A),N.cancelled||(mi(n,O),D||(Ti(j)?setTimeout(N,j):_i(n,s,N)))})),e.data.show&&(t&&t(),$&&$(n,N)),R||D||N()}}}function Si(e,t){function n(){x.cancelled||(!e.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),p&&p(o),b&&(mi(o,c),mi(o,f),gi(function(){yi(o,c),x.cancelled||(mi(o,d),w||(Ti(k)?setTimeout(x,k):_i(o,u,x)))})),h&&h(o,x),b||w||x())}var o=e.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=vi(e.data.transition);if(i(a)||1!==o.nodeType)return t();if(!r(o._leaveCb)){var s=a.css,u=a.type,c=a.leaveClass,d=a.leaveToClass,f=a.leaveActiveClass,p=a.beforeLeave,h=a.leave,g=a.afterLeave,m=a.leaveCancelled,y=a.delayLeave,_=a.duration,b=s!==!1&&!gr,w=Ii(h),k=v(l(_)?_.leave:_);r(k)&&Ci(k,"leave",e);var x=o._leaveCb=E(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(yi(o,d),yi(o,f)),x.cancelled?(b&&yi(o,c),m&&m(o)):(t(),g&&g(o)),o._leaveCb=null});y?y(n):n()}}function Ci(e,t,n){"number"!=typeof e?Ar("<transition> explicit "+t+" duration is not a valid number - got "+JSON.stringify(e)+".",n.context):isNaN(e)&&Ar("<transition> explicit "+t+" duration is NaN - the duration expression might be incorrect.",n.context)}function Ti(e){return"number"==typeof e&&!isNaN(e)}function Ii(e){if(i(e))return!1;var t=e.fns;return r(t)?Ii(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Ei(e,t){t.data.show!==!0&&xi(t)}function Ai(e,t,n){Fi(e,t,n),(vr||mr)&&setTimeout(function(){Fi(e,t,n)},0)}function Fi(e,t,n){var i=t.value,r=e.multiple;if(r&&!Array.isArray(i))return void Ar('<select multiple v-model="'+t.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(i).slice(8,-1),n);for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=I(i,Li(a))>-1,a.selected!==o&&(a.selected=o);else if(T(Li(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}function Oi(e,t){return t.every(function(t){return!T(t,e)})}function Li(e){return"_value"in e?e._value:e.value}function $i(e){e.target.composing=!0}function Mi(e){e.target.composing&&(e.target.composing=!1,Pi(e.target,"input"))}function Pi(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function ji(e){return!e.componentInstance||e.data&&e.data.transition?e:ji(e.componentInstance._vnode)}function Ri(e){var t=e&&e.componentOptions;return t&&t.Ctor.options["abstract"]?Ri(bt(t.children)):e}function Di(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[Ji(o)]=r[o];return t}function Ni(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Bi(e){for(;e=e.parent;)if(e.data.transition)return!0}function Vi(e,t){return t.key===e.key&&t.tag===e.tag}function Ui(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Gi(e){e.data.newPos=e.elm.getBoundingClientRect()}function Hi(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var zi=Object.freeze({}),Wi=Object.prototype.toString,qi=g("slot,component",!0),Ki=g("key,ref,slot,slot-scope,is"),Yi=Object.prototype.hasOwnProperty,Xi=/-(\w)/g,Ji=_(function(e){return e.replace(Xi,function(e,t){return t?t.toUpperCase():""})}),Zi=_(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Qi=/\B([A-Z])/g,er=_(function(e){return e.replace(Qi,"-$1").toLowerCase()}),tr=Function.prototype.bind?w:b,nr=function(e,t,n){return!1},ir=function(e){return e},rr="data-server-rendered",or=["component","directive","filter"],ar=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],sr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:nr,isReservedAttr:nr,isUnknownElement:nr,getTagNamespace:C,parsePlatformTagName:ir,mustUseProp:nr,async:!0,_lifecycleHooks:ar},lr=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,ur=new RegExp("[^"+lr.source+".$_\\d]"),cr="__proto__"in{},dr="undefined"!=typeof window,fr="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,pr=fr&&WXEnvironment.platform.toLowerCase(),hr=dr&&window.navigator.userAgent.toLowerCase(),vr=hr&&/msie|trident/.test(hr),gr=hr&&hr.indexOf("msie 9.0")>0,mr=hr&&hr.indexOf("edge/")>0,yr=(hr&&hr.indexOf("android")>0||"android"===pr,hr&&/iphone|ipad|ipod|ios/.test(hr)||"ios"===pr),_r=(hr&&/chrome\/\d+/.test(hr)&&!mr,hr&&/phantomjs/.test(hr),hr&&hr.match(/firefox\/(\d+)/)),br={}.watch,wr=!1;if(dr)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){wr=!0}}),window.addEventListener("test-passive",null,kr)}catch(xr){}
var Sr,Cr,Tr=function(){return void 0===Sr&&(Sr=!dr&&!fr&&"undefined"!=typeof e&&(e.process&&"server"===e.process.env.VUE_ENV)),Sr},Ir=dr&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Er="undefined"!=typeof Symbol&&L(Symbol)&&"undefined"!=typeof Reflect&&L(Reflect.ownKeys);Cr="undefined"!=typeof Set&&L(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return this.set[e]===!0},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Ar=C,Fr=C,Or=C,Lr=C,$r="undefined"!=typeof console,Mr=/(?:^|[-_])(\w)/g,Pr=function(e){return e.replace(Mr,function(e){return e.toUpperCase()}).replace(/[-_]/g,"")};Ar=function(e,t){var n=t?Or(t):"";sr.warnHandler?sr.warnHandler.call(null,e,t,n):$r&&!sr.silent},Fr=function(e,t){$r&&!sr.silent},Lr=function(e,t){if(e.$root===e)return"<Root>";var n="function"==typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e,i=n.name||n._componentTag,r=n.__file;if(!i&&r){var o=r.match(/([^/\\]+)\.vue$/);i=o&&o[1]}return(i?"<"+Pr(i)+">":"<Anonymous>")+(r&&t!==!1?" at "+r:"")};var jr=function(e,t){for(var n="";t;)t%2===1&&(n+=e),t>1&&(e+=e),t>>=1;return n};Or=function(e){if(e._isVue&&e.$parent){for(var t=[],n=0;e;){if(t.length>0){var i=t[t.length-1];if(i.constructor===e.constructor){n++,e=e.$parent;continue}n>0&&(t[t.length-1]=[i,n],n=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map(function(e,t){return""+(0===t?"---> ":jr(" ",5+2*t))+(Array.isArray(e)?Lr(e[0])+"... ("+e[1]+" recursive calls)":Lr(e))}).join("\n")}return"\n\n(found in "+Lr(e)+")"};var Rr=0,Dr=function(){this.id=Rr++,this.subs=[]};Dr.prototype.addSub=function(e){this.subs.push(e)},Dr.prototype.removeSub=function(e){m(this.subs,e)},Dr.prototype.depend=function(){Dr.target&&Dr.target.addDep(this)},Dr.prototype.notify=function(){var e=this.subs.slice();sr.async||e.sort(function(e,t){return e.id-t.id});for(var t=0,n=e.length;t<n;t++)e[t].update()},Dr.target=null;var Nr=[],Br=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Vr={child:{configurable:!0}};Vr.child.get=function(){return this.componentInstance},Object.defineProperties(Br.prototype,Vr);var Ur=function(e){void 0===e&&(e="");var t=new Br;return t.text=e,t.isComment=!0,t},Gr=Array.prototype,Hr=Object.create(Gr),zr=["push","pop","shift","unshift","splice","sort","reverse"];zr.forEach(function(e){var t=Gr[e];F(Hr,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var Wr=Object.getOwnPropertyNames(Hr),qr=!0,Kr=function(e){this.value=e,this.dep=new Dr,this.vmCount=0,F(e,"__ob__",this),Array.isArray(e)?(cr?D(e,Hr):N(e,Hr,Wr),this.observeArray(e)):this.walk(e)};Kr.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)V(e,t[n])},Kr.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)B(e[t])};var Yr=sr.optionMergeStrategies;Yr.el=Yr.propsData=function(e,t,n,i){return n||Ar('option "'+i+'" can only be used during instance creation with the `new` keyword.'),Jr(e,t)},Yr.data=function(e,t,n){return n?W(e,t,n):t&&"function"!=typeof t?(Ar('The "data" option should be a function that returns a per-instance value in component definitions.',n),e):W(e,t)},ar.forEach(function(e){Yr[e]=q}),or.forEach(function(e){Yr[e+"s"]=Y}),Yr.watch=function(e,t,n,i){if(e===br&&(e=void 0),t===br&&(t=void 0),!t)return Object.create(e||null);if(te(i,t,n),!e)return t;var r={};x(r,e);for(var o in t){var a=r[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Yr.props=Yr.methods=Yr.inject=Yr.computed=function(e,t,n,i){if(t&&te(i,t,n),!e)return t;var r=Object.create(null);return x(r,e),t&&x(r,t),r},Yr.provide=W;var Xr,Jr=function(e,t){return void 0===t?e:t},Zr=/^(String|Number|Boolean|Function|Symbol)$/,Qr=!1,eo=[],to=!1;if("undefined"!=typeof Promise&&L(Promise)){var no=Promise.resolve();Xr=function(){no.then(_e),yr&&setTimeout(C)},Qr=!0}else if(vr||"undefined"==typeof MutationObserver||!L(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xr="undefined"!=typeof n&&L(n)?function(){n(_e)}:function(){setTimeout(_e,0)};else{var io=1,ro=new MutationObserver(_e),oo=document.createTextNode(String(io));ro.observe(oo,{characterData:!0}),Xr=function(){io=(io+1)%2,oo.data=String(io)},Qr=!0}var ao,so=g("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),lo=function(e,t){Ar('Property or method "'+t+'" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',e)},uo=function(e,t){Ar('Property "'+t+'" must be accessed with "$data.'+t+'" because properties starting with "$" or "_" are not proxied in the Vue instance to prevent conflicts with Vue internals. See: https://vuejs.org/v2/api/#data',e)},co="undefined"!=typeof Proxy&&L(Proxy);if(co){var fo=g("stop,prevent,self,ctrl,shift,alt,meta,exact");sr.keyCodes=new Proxy(sr.keyCodes,{set:function(e,t,n){return fo(t)?(Ar("Avoid overwriting built-in modifier in config.keyCodes: ."+t),!1):(e[t]=n,!0)}})}var po={has:function os(e,t){var os=t in e,n=so(t)||"string"==typeof t&&"_"===t.charAt(0)&&!(t in e.$data);return os||n||(t in e.$data?uo(e,t):lo(e,t)),os||!n}},ho={get:function(e,t){return"string"!=typeof t||t in e||(t in e.$data?uo(e,t):lo(e,t)),e[t]}};ao=function(e){if(co){var t=e.$options,n=t.render&&t.render._withStripped?ho:po;e._renderProxy=new Proxy(e,n)}else e._renderProxy=e};var vo,go,mo=new Cr,yo=dr&&window.performance;yo&&yo.mark&&yo.measure&&yo.clearMarks&&yo.clearMeasures&&(vo=function(e){return yo.mark(e)},go=function(e,t,n){yo.measure(e,t,n),yo.clearMarks(t),yo.clearMarks(n)});var _o=_(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,once:n,capture:i,passive:t}});et(tt.prototype);var bo,wo={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;wo.prepatch(n,n)}else{var i=e.componentInstance=at(e,To);i.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,i=t.componentInstance=e.componentInstance;Ot(i,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Pt(n,"mounted")),e.data.keepAlive&&(t._isMounted?Nt(n):$t(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Mt(t,!0):t.$destroy())}},ko=Object.keys(wo),xo=1,So=2,Co=null,To=null,Io=!1,Eo=100,Ao=[],Fo=[],Oo={},Lo={},$o=!1,Mo=!1,Po=0,jo=0,Ro=Date.now;if(dr&&!vr){var Do=window.performance;Do&&"function"==typeof Do.now&&Ro()>document.createEvent("Event").timeStamp&&(Ro=function(){return Do.now()})}var No=0,Bo=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++No,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Cr,this.newDepIds=new Cr,this.expression=t.toString(),"function"==typeof t?this.getter=t:(this.getter=O(t),this.getter||(this.getter=C,Ar('Failed watching path: "'+t+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',e))),this.value=this.lazy?void 0:this.get()};Bo.prototype.get=function(){$(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(n){if(!this.user)throw n;ve(n,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&we(e),M(),this.cleanupDeps()}return e},Bo.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Bo.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Bo.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Vt(this)},Bo.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(n){ve(n,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Bo.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Bo.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Bo.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Vo={enumerable:!0,configurable:!0,get:C,set:C},Uo={lazy:!0},Go=0;tn(an),en(an),Tt(an),At(an),vt(an);var Ho=[String,RegExp,Array],zo={name:"keep-alive","abstract":!0,props:{include:Ho,exclude:Ho,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)gn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){vn(e,function(e){return hn(t,e)})}),this.$watch("exclude",function(t){vn(e,function(e){return!hn(t,e)})})},render:function(){var e=this.$slots["default"],t=bt(e),n=t&&t.componentOptions;if(n){var i=pn(n),r=this,o=r.include,a=r.exclude;if(o&&(!i||!hn(o,i))||a&&i&&hn(a,i))return t;var s=this,l=s.cache,u=s.keys,c=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;l[c]?(t.componentInstance=l[c].componentInstance,m(u,c),u.push(c)):(l[c]=t,u.push(c),this.max&&u.length>parseInt(this.max)&&gn(l,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Wo={KeepAlive:zo};mn(an),Object.defineProperty(an.prototype,"$isServer",{get:Tr}),Object.defineProperty(an.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(an,"FunctionalRenderContext",{value:tt}),an.version="2.6.12";var qo,Ko,Yo,Xo=g("style,class"),Jo=g("input,textarea,option,select,progress"),Zo=function(e,t,n){return"value"===n&&Jo(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Qo=g("contenteditable,draggable,spellcheck"),ea=g("events,caret,typing,plaintext-only"),ta=function(e,t){return aa(t)||"false"===t?"false":"contenteditable"===e&&ea(t)?t:"true"},na=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ia="http://www.w3.org/1999/xlink",ra=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},oa=function(e){return ra(e)?e.slice(6,e.length):""},aa=function(e){return null==e||e===!1},sa={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},la=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ua=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ca=function(e){return la(e)||ua(e)},da=Object.create(null),fa=g("text,number,password,search,email,tel,url"),pa=Object.freeze({createElement:En,createElementNS:An,createTextNode:Fn,createComment:On,insertBefore:Ln,removeChild:$n,appendChild:Mn,parentNode:Pn,nextSibling:jn,tagName:Rn,setTextContent:Dn,setStyleScope:Nn}),ha={create:function(e,t){Bn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Bn(e,!0),Bn(t))},destroy:function(e){Bn(e,!0)}},va=new Br("",{},[]),ga=["create","activate","update","remove","destroy"],ma={create:zn,update:zn,destroy:function(e){zn(e,va)}},ya=Object.create(null),_a=[ha,ma],ba={create:Xn,update:Xn},wa={create:Qn,update:Qn},ka="__r",xa="__c",Sa=Qr&&!(_r&&Number(_r[1])<=53),Ca={create:ri,update:ri},Ta={create:oi,update:oi},Ia=_(function(e){var t={},n=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),Ea=/^--/,Aa=/\s*!important$/,Fa=function(e,t,n){if(Ea.test(t))e.style.setProperty(t,n);else if(Aa.test(n))e.style.setProperty(er(t),n.replace(Aa,""),"important");else{var i=La(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},Oa=["Webkit","Moz","ms"],La=_(function(e){if(Yo=Yo||document.createElement("div").style,e=Ji(e),"filter"!==e&&e in Yo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Oa.length;n++){var i=Oa[n]+t;if(i in Yo)return i}}),$a={create:fi,update:fi},Ma=/\s+/,Pa=_(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),ja=dr&&!gr,Ra="transition",Da="animation",Na="transition",Ba="transitionend",Va="animation",Ua="animationend";ja&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Na="WebkitTransition",Ba="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Va="WebkitAnimation",Ua="webkitAnimationEnd"));var Ga=dr?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},Ha=/\b(transform|all)(,|$)/,za=dr?{create:Ei,activate:Ei,remove:function(e,t){e.data.show!==!0?Si(e,t):t()}}:{},Wa=[ba,wa,Ca,Ta,$a,za],qa=Wa.concat(_a),Ka=Hn({nodeOps:pa,modules:qa});gr&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Pi(e,"input")});var Ya={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Ce(n,"postpatch",function(){Ya.componentUpdated(e,t,n)}):Ai(e,t,n.context),e._vOptions=[].map.call(e.options,Li)):("textarea"===n.tag||fa(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",$i),e.addEventListener("compositionend",Mi),e.addEventListener("change",Mi),gr&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ai(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,Li);if(r.some(function(e,t){return!T(e,i[t])})){var o=e.multiple?t.value.some(function(e){return Oi(e,r)}):t.value!==t.oldValue&&Oi(t.value,r);o&&Pi(e,"change")}}}},Xa={bind:function(e,t,n){var i=t.value;n=ji(n);var r=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,xi(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value,r=t.oldValue;if(!i!=!r){n=ji(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?xi(n,function(){e.style.display=e.__vOriginalDisplay}):Si(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}},Ja={model:Ya,show:Xa},Za={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Qa=function(e){return e.tag||_t(e)},es=function(e){return"show"===e.name},ts={name:"transition",props:Za,"abstract":!0,render:function(e){var t=this,n=this.$slots["default"];if(n&&(n=n.filter(Qa),n.length)){n.length>1&&Ar("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var i=this.mode;i&&"in-out"!==i&&"out-in"!==i&&Ar("invalid <transition> mode: "+i,this.$parent);var r=n[0];if(Bi(this.$vnode))return r;var o=Ri(r);if(!o)return r;if(this._leaving)return Ni(e,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=Di(this),u=this._vnode,c=Ri(u);if(o.data.directives&&o.data.directives.some(es)&&(o.data.show=!0),c&&c.data&&!Vi(o,c)&&!_t(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var d=c.data.transition=x({},l);if("out-in"===i)return this._leaving=!0,Ce(d,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Ni(e,r);if("in-out"===i){if(_t(o))return u;var f,p=function(){f()};Ce(l,"afterEnter",p),Ce(l,"enterCancelled",p),Ce(d,"delayLeave",function(e){f=e})}}return r}}},ns=x({tag:String,moveClass:String},Za);delete ns.mode;var is={props:ns,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=It(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots["default"]||[],o=this.children=[],a=Di(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else{var u=l.componentOptions,c=u?u.Ctor.options.name||u.tag||"":l.tag;Ar("<transition-group> children must be keyed: <"+c+">")}}if(i){for(var d=[],f=[],p=0;p<i.length;p++){var h=i[p];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?d.push(h):f.push(h)}this.kept=e(t,null,d),this.removed=f}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ui),e.forEach(Gi),e.forEach(Hi),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;mi(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Ba,n._moveCb=function r(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(Ba,r),n._moveCb=null,yi(n,t))})}}))},methods:{hasMove:function(e,t){if(!ja)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){hi(n,e)}),pi(n,t),n.style.display="none",this.$el.appendChild(n);var i=bi(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}},rs={Transition:ts,TransitionGroup:is};an.config.mustUseProp=Zo,an.config.isReservedTag=ca,an.config.isReservedAttr=Xo,an.config.getTagNamespace=Cn,an.config.isUnknownElement=Tn,x(an.options.directives,Ja),x(an.options.components,rs),an.prototype.__patch__=dr?Ka:C,an.prototype.$mount=function(e,t){return e=e&&dr?In(e):void 0,Ft(this,e,t)},dr&&setTimeout(function(){sr.devtools&&Ir&&Ir.emit("init",an),sr.productionTip!==!1&&"undefined"!=typeof console},0),t.exports=an}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:2}],5:[function(e,t,n){(function(n){(function(){"production"===n.env.NODE_ENV?t.exports=e("./vue.runtime.common.prod.js"):t.exports=e("./vue.runtime.common.dev.js")}).call(this)}).call(this,e("_process"))},{"./vue.runtime.common.dev.js":4,"./vue.runtime.common.prod.js":6,_process:1}],6:[function(e,t,n){(function(e,n){(function(){"use strict";function i(e){return null==e}function r(e){return null!=e}function o(e){return!0===e}function a(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Object]"===rn.call(e)}function u(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function c(e){return r(e)&&"function"==typeof e.then&&"function"==typeof e["catch"]}function d(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===rn?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function h(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function v(e,t){return an.call(e,t)}function g(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function m(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function y(e,t){for(var n in t)e[n]=t[n];return e}function _(e){for(var t={},n=0;n<e.length;n++)e[n]&&y(t,e[n]);return t}function b(e,t,n){}function w(e,t){if(e===t)return!0;var n=s(e),i=s(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every(function(e,n){return w(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var a=Object.keys(e),l=Object.keys(t);return a.length===l.length&&a.every(function(n){return w(e[n],t[n])})}catch(e){return!1}}function k(e,t){for(var n=0;n<e.length;n++)if(w(e[n],t))return n;return-1}function x(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function S(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function C(e){return"function"==typeof e&&/native code/.test(e.toString())}function T(e){Bn.push(e),Nn.target=e}function I(){Bn.pop(),Nn.target=Bn[Bn.length-1]}function E(e){return new Vn((void 0),(void 0),(void 0),String(e))}function A(e){var t=new Vn(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function F(e){qn=e}function O(e,t){var n;if(s(e)&&!(e instanceof Vn))return v(e,"__ob__")&&e.__ob__ instanceof Kn?n=e.__ob__:qn&&!Mn()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Kn(e)),t&&n&&n.vmCount++,n}function L(e,t,n,i,r){var o=new Nn,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=e[t]);var u=!r&&O(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return Nn.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&function i(e){for(var t=void 0,n=0,r=e.length;n<r;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&i(t)}(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!=t&&i!=i||s&&!l||(l?l.call(e,t):n=t,u=!r&&O(t),o.notify())}})}}function $(e,t,n){if(Array.isArray(e)&&u(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(L(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function M(e,t){if(Array.isArray(e)&&u(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||v(e,t)&&(delete e[t],n&&n.dep.notify())}}function P(e,t){if(!t)return e;for(var n,i,r,o=jn?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(i=e[n],r=t[n],v(e,n)?i!==r&&l(i)&&l(r)&&P(i,r):$(e,n,r));return e}function j(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?P(i,r):r}:t?e?function(){return P("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function R(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function D(e,t,n,i){var r=Object.create(e||null);return t?y(r,t):r}function N(e,t,n){function i(i){var r=Yn[i]||Jn;s[i]=r(e[i],t[i],n,i)}if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[ln(r)]={type:null});else if(l(n))for(var a in n)r=n[a],o[ln(a)]=l(r)?r:{type:r};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var o in n){var a=n[o];i[o]=l(a)?y({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t["extends"]&&(e=N(e,t["extends"],n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=N(e,t.mixins[r],n);var a,s={};for(a in e)i(a);for(a in t)v(e,a)||i(a);return s}function B(e,t,n,i){if("string"==typeof n){var r=e[t];if(v(r,n))return r[n];var o=ln(n);if(v(r,o))return r[o];var a=un(o);return v(r,a)?r[a]:r[n]||r[o]||r[a]}}function V(e,t,n,i){var r=t[e],o=!v(n,e),a=n[e],s=H(Boolean,r.type);if(s>-1)if(o&&!v(r,"default"))a=!1;else if(""===a||a===dn(e)){var l=H(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(v(t,"default")){var i=t["default"];return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==U(t.type)?i.call(e):i}}(i,r,e);var u=qn;F(!0),O(a),F(u)}return a}function U(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function G(e,t){return U(e)===U(t)}function H(e,t){if(!Array.isArray(t))return G(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(G(t[n],e))return n;return-1}function z(e,t,n){T();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,e,t,n))return}catch(e){q(e,i,"errorCaptured hook")}}q(e,t,n)}finally{I()}}function W(e,t,n,i,r){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&c(o)&&!o._handled&&(o["catch"](function(e){return z(e,i,r+" (Promise/async)")}),o._handled=!0)}catch(e){z(e,i,r)}return o}function q(e,t,n){if(yn.errorHandler)try{return yn.errorHandler.call(null,e,t,n)}catch(t){t!==e&&K(t,null,"config.errorHandler")}K(e,t,n)}function K(e,t,n){if(!wn&&!kn||"undefined"==typeof console)throw e}function Y(){ei=!1;var e=Qn.slice(0);Qn.length=0;for(var t=0;t<e.length;t++)e[t]()}function X(e,t){var n;if(Qn.push(function(){if(e)try{e.call(t)}catch(e){z(e,t,"nextTick")}else n&&n(t)}),ei||(ei=!0,Xn()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function J(e){!function t(e,n){var i,r,o=Array.isArray(e);if(!(!o&&!s(e)||Object.isFrozen(e)||e instanceof Vn)){if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}}(e,oi),oi.clear()}function Z(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return W(i,null,arguments,t,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)W(r[o],null,e,t,"v-on handler")}return n.fns=e,n}function Q(e,t,n,r,a,s){var l,u,c,d;for(l in e)u=e[l],c=t[l],d=ai(l),i(u)||(i(c)?(i(u.fns)&&(u=e[l]=Z(u,s)),o(d.once)&&(u=e[l]=a(d.name,u,d.capture)),n(d.name,u,d.capture,d.passive,d.params)):u!==c&&(c.fns=u,e[l]=c));for(l in t)i(e[l])&&r((d=ai(l)).name,t[l],d.capture)}function ee(e,t,n){function a(){n.apply(this,arguments),h(s.fns,a)}var s;e instanceof Vn&&(e=e.data.hook||(e.data.hook={}));var l=e[t];i(l)?s=Z([a]):r(l.fns)&&o(l.merged)?(s=l).fns.push(a):s=Z([l,a]),s.merged=!0,e[t]=s}function te(e,t,n,i,o){if(r(t)){if(v(t,n))return e[n]=t[n],o||delete t[n],!0;if(v(t,i))return e[n]=t[i],o||delete t[i],!0}return!1}function ne(e){return a(e)?[E(e)]:Array.isArray(e)?function t(e,n){var s,l,u,c,d=[];for(s=0;s<e.length;s++)i(l=e[s])||"boolean"==typeof l||(u=d.length-1,c=d[u],Array.isArray(l)?l.length>0&&(ie((l=t(l,(n||"")+"_"+s))[0])&&ie(c)&&(d[u]=E(c.text+l[0].text),l.shift()),d.push.apply(d,l)):a(l)?ie(c)?d[u]=E(c.text+l):""!==l&&d.push(E(l)):ie(l)&&ie(c)?d[u]=E(c.text+l.text):(o(e._isVList)&&r(l.tag)&&i(l.key)&&r(n)&&(l.key="__vlist"+n+"_"+s+"__"),d.push(l)));return d}(e):void 0}function ie(e){return r(e)&&r(e.text)&&!1===e.isComment}function re(e,t){if(e){for(var n=Object.create(null),i=jn?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var a=e[o].from,s=t;s;){if(s._provided&&v(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in e[o]){var l=e[o]["default"];n[o]="function"==typeof l?l.call(t):l}}}return n}}function oe(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n["default"]||(n["default"]=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(ae)&&delete n[u];return n}function ae(e){return e.isComment&&!e.asyncFactory||" "===e.text}function se(e,t,n){var i,r=Object.keys(t).length>0,o=e?!!e.$stable:!r,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==nn&&a===n.$key&&!r&&!n.$hasNormal)return n;for(var s in i={},e)e[s]&&"$"!==s[0]&&(i[s]=le(t,s,e[s]))}else i={};for(var l in t)l in i||(i[l]=ue(t,l));return e&&Object.isExtensible(e)&&(e._normalized=i),S(i,"$stable",o),S(i,"$key",a),S(i,"$hasNormal",r),i}function le(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ne(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function ue(e,t){return function(){return e[t]}}function ce(e,t){var n,i,o,a,l;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,o=e.length;i<o;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(s(e))if(jn&&e[Symbol.iterator]){n=[];for(var u=e[Symbol.iterator](),c=u.next();!c.done;)n.push(t(c.value,n.length)),c=u.next()}else for(a=Object.keys(e),n=new Array(a.length),i=0,o=a.length;i<o;i++)l=a[i],n[i]=t(e[l],l,i);return r(n)||(n=[]),n._isVList=!0,n}function de(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(n=y(y({},i),n)),r=o(n)||t):r=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function fe(e){return B(this.$options,"filters",e)||hn}function pe(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function he(e,t,n,i,r){var o=yn.keyCodes[t]||n;return r&&i&&!yn.keyCodes[t]?pe(r,i):o?pe(o,e):i?dn(i)!==t:void 0}function ve(e,t,n,i,r){if(n&&s(n)){var o;Array.isArray(n)&&(n=_(n));var a=function(a){if("class"===a||"style"===a||on(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||yn.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=ln(a),u=dn(a);l in o||u in o||(o[a]=n[a],r&&((e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}))};for(var l in n)a(l)}return e}function ge(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t?i:(ye(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i)}function me(e,t,n){
return ye(e,"__once__"+t+(n?"_"+n:""),!0),e}function ye(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&_e(e[i],t+"_"+i,n);else _e(e,t,n)}function _e(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function be(e,t){if(t&&l(t)){var n=e.on=e.on?y({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}return e}function we(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?we(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function ke(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function xe(e,t){return"string"==typeof e?t+e:e}function Se(e){e._o=me,e._n=f,e._s=d,e._l=ce,e._t=de,e._q=w,e._i=k,e._m=ge,e._f=fe,e._k=he,e._b=ve,e._v=E,e._e=Gn,e._u=we,e._g=be,e._d=ke,e._p=xe}function Ce(e,t,n,i,r){var a,s=this,l=r.options;v(i,"_uid")?(a=Object.create(i))._original=i:(a=i,i=i._original);var u=o(l._compiled),c=!u;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||nn,this.injections=re(l.inject,i),this.slots=function(){return s.$slots||se(e.scopedSlots,s.$slots=oe(n,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return se(e.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=se(e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,t,n,r){var o=Fe(a,e,t,n,r,c);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,i){return Fe(a,e,t,n,i,c)}}function Te(e,t,n,i,r){var o=A(e);return o.fnContext=n,o.fnOptions=i,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Ie(e,t){for(var n in t)e[ln(n)]=t[n]}function Ee(e,t,n,a,l){if(!i(e)){var u=n.$options._base;if(s(e)&&(e=u.extend(e)),"function"==typeof e){var d;if(i(e.cid)&&void 0===(e=function(e,t){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var n=fi;if(n&&r(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(n&&!r(e.owners)){var a=e.owners=[n],l=!0,u=null,d=null;n.$on("hook:destroyed",function(){return h(a,n)});var f=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==d&&(clearTimeout(d),d=null))},p=x(function(n){e.resolved=Oe(n,t),l?a.length=0:f(!0)}),v=x(function(t){r(e.errorComp)&&(e.error=!0,f(!0))}),g=e(p,v);return s(g)&&(c(g)?i(e.resolved)&&g.then(p,v):c(g.component)&&(g.component.then(p,v),r(g.error)&&(e.errorComp=Oe(g.error,t)),r(g.loading)&&(e.loadingComp=Oe(g.loading,t),0===g.delay?e.loading=!0:u=setTimeout(function(){u=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,f(!1))},g.delay||200)),r(g.timeout)&&(d=setTimeout(function(){d=null,i(e.resolved)&&v(null)},g.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(d=e,u)))return function(e,t,n,i,r){var o=Gn();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}(d,t,n,a,l);t=t||{},Ye(e),r(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[i],s=t.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[i]=[s].concat(a)):o[i]=s}(e.options,t);var f=function(e,t,n){var o=t.options.props;if(!i(o)){var a={},s=e.attrs,l=e.props;if(r(s)||r(l))for(var u in o){var c=dn(u);te(a,l,u,c,!0)||te(a,s,u,c,!1)}return a}}(t,e);if(o(e.options.functional))return function(e,t,n,i,o){var a=e.options,s={},l=a.props;if(r(l))for(var u in l)s[u]=V(u,l,t||nn);else r(n.attrs)&&Ie(s,n.attrs),r(n.props)&&Ie(s,n.props);var c=new Ce(n,s,o,i,e),d=a.render.call(null,c._c,c);if(d instanceof Vn)return Te(d,n,c.parent,a);if(Array.isArray(d)){for(var f=ne(d)||[],p=new Array(f.length),h=0;h<f.length;h++)p[h]=Te(f[h],n,c.parent,a);return p}}(e,f,t,n,a);var p=t.on;if(t.on=t.nativeOn,o(e.options["abstract"])){var v=t.slot;t={},v&&(t.slot=v)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<ui.length;n++){var i=ui[n],r=t[i],o=li[i];r===o||r&&r._merged||(t[i]=r?Ae(o,r):o)}}(t);var g=e.options.name||l;return new Vn("vue-component-"+e.cid+(g?"-"+g:""),t,(void 0),(void 0),(void 0),n,{Ctor:e,propsData:f,listeners:p,tag:l,children:a},d)}}}function Ae(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function Fe(e,t,n,l,u,c){return(Array.isArray(n)||a(n))&&(u=l,l=n,n=void 0),o(c)&&(u=di),function(e,t,n,a,l){if(r(n)&&r(n.__ob__))return Gn();if(r(n)&&r(n.is)&&(t=n.is),!t)return Gn();Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={"default":a[0]},a.length=0),l===di?a=ne(a):l===ci&&(a=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(a));var u,c;if("string"==typeof t){var d;c=e.$vnode&&e.$vnode.ns||yn.getTagNamespace(t),u=yn.isReservedTag(t)?new Vn(yn.parsePlatformTagName(t),n,a,(void 0),(void 0),e):n&&n.pre||!r(d=B(e.$options,"components",t))?new Vn(t,n,a,(void 0),(void 0),e):Ee(d,n,e,a,t)}else u=Ee(t,n,e,a);return Array.isArray(u)?u:r(u)?(r(c)&&function f(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),r(e.children))for(var a=0,s=e.children.length;a<s;a++){var l=e.children[a];r(l.tag)&&(i(l.ns)||o(n)&&"svg"!==l.tag)&&f(l,t,n)}}(u,c),r(n)&&function(e){s(e.style)&&J(e.style),s(e["class"])&&J(e["class"])}(n),u):Gn()}(e,t,n,l,u)}function Oe(e,t){return(e.__esModule||jn&&"Module"===e[Symbol.toStringTag])&&(e=e["default"]),s(e)?t.extend(e):e}function Le(e){return e.isComment&&e.asyncFactory}function $e(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&(r(n.componentOptions)||Le(n)))return n}}function Me(e,t){si.$on(e,t)}function Pe(e,t){si.$off(e,t)}function je(e,t){var n=si;return function i(){null!==t.apply(null,arguments)&&n.$off(e,i)}}function Re(e,t,n){si=e,Q(t,n||{},Me,Pe,je,e),si=void 0}function De(e){var t=pi;return pi=e,function(){pi=t}}function Ne(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Be(e,t){if(t){if(e._directInactive=!1,Ne(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Be(e.$children[n]);Ve(e,"activated")}}function Ve(e,t){T();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,o=n.length;r<o;r++)W(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),I()}function Ue(){var e,t;for(bi=wi(),yi=!0,hi.sort(function(e,t){return e.id-t.id}),_i=0;_i<hi.length;_i++)(e=hi[_i]).before&&e.before(),t=e.id,gi[t]=null,e.run();var n=vi.slice(),i=hi.slice();_i=hi.length=vi.length=0,gi={},mi=yi=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Be(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Ve(i,"updated")}}(i),Pn&&yn.devtools&&Pn.emit("flush")}function Ge(e,t,n){Ci.get=function(){return this[t][n]},Ci.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Ci)}function He(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[];e.$parent&&F(!1);var o=function(o){r.push(o);var a=V(o,t,n,e);L(i,o,a),o in e||Ge(e,"_props",o)};for(var a in t)o(a);F(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?b:fn(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;l(t=e._data="function"==typeof t?function(e,t){T();try{return e.call(t,t)}catch(e){return z(e,t,"data()"),{}}finally{I()}}(t,e):t||{})||(t={});for(var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);r--;){var o=n[r];i&&v(i,o)||(a=void 0,36!==(a=(o+"").charCodeAt(0))&&95!==a&&Ge(e,"_data",o))}var a;O(t,!0)}(e):O(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=Mn();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;i||(n[r]=new Si(e,a||b,b,Ti)),r in e||ze(e,r,o)}}(e,t.computed),t.watch&&t.watch!==Fn&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Ke(e,n,i[r]);else Ke(e,n,i)}}(e,t.watch)}function ze(e,t,n){var i=!Mn();"function"==typeof n?(Ci.get=i?We(t):qe(n),Ci.set=b):(Ci.get=n.get?i&&!1!==n.cache?We(t):qe(n.get):b,Ci.set=n.set||b),Object.defineProperty(e,t,Ci)}function We(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Nn.target&&t.depend(),t.value}}function qe(e){return function(){return e.call(this,this)}}function Ke(e,t,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function Ye(e){var t=e.options;if(e["super"]){var n=Ye(e["super"]);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&y(e.extendOptions,i),(t=e.options=N(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Xe(e){this._init(e)}function Je(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name,a=function(e){this._init(e)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=N(n.options,e),a["super"]=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)Ge(e.prototype,"_props",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)ze(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,gn.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=y({},a.options),r[i]=a,a}}function Ze(e){return e&&(e.Ctor.options.name||e.tag)}function Qe(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,"[object RegExp]"===rn.call(n)&&e.test(t));var n}function et(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var a=n[o];if(a){var s=Ze(a.componentOptions);s&&!t(s)&&tt(n,o,i,r)}}}function tt(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,h(n,t)}function nt(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=it(i.data,t));for(;r(n=n.parent);)n&&n.data&&(t=it(t,n.data));return function(e,t){return r(e)||r(t)?rt(e,ot(t)):""}(t.staticClass,t["class"])}function it(e,t){return{staticClass:rt(e.staticClass,t.staticClass),"class":r(e["class"])?[e["class"],t["class"]]:t["class"]}}function rt(e,t){return e?t?e+" "+t:e:t||""}function ot(e){return Array.isArray(e)?function(e){for(var t,n="",i=0,o=e.length;i<o;i++)r(t=ot(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):s(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}function at(e,t){var n=e.data.ref;if(r(n)){var i=e.context,o=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[n])?h(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}function st(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,i=r(n=e.data)&&r(n=n.attrs)&&n.type,o=r(n=t.data)&&r(n=n.attrs)&&n.type;return i===o||Ki(i)&&Ki(o)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function lt(e,t,n){var i,o,a={};for(i=t;i<=n;++i)r(o=e[i].key)&&(a[o]=i);return a}function ut(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,o=e===Ji,a=t===Ji,s=ct(e.data.directives,e.context),l=ct(t.data.directives,t.context),u=[],c=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,ft(r,"update",t,e),r.def&&r.def.componentUpdated&&c.push(r)):(ft(r,"bind",t,e),r.def&&r.def.inserted&&u.push(r));if(u.length){var d=function(){for(var n=0;n<u.length;n++)ft(u[n],"inserted",t,e)};o?ee(t,"insert",d):d()}if(c.length&&ee(t,"postpatch",function(){for(var n=0;n<c.length;n++)ft(c[n],"componentUpdated",t,e)}),!o)for(n in s)l[n]||ft(s[n],"unbind",e,e,a)}(e,t)}function ct(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=er),r[dt(i)]=i,i.def=B(t.$options,"directives",i.name);return r}function dt(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function ft(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){z(i,n.context,"directive "+e.name+" "+t+" hook")}}function pt(e,t){var n=t.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||i(e.data.attrs)&&i(t.data.attrs))){var o,a,s=t.elm,l=e.data.attrs||{},u=t.data.attrs||{};for(o in r(u.__ob__)&&(u=t.data.attrs=y({},u)),u)a=u[o],l[o]!==a&&ht(s,o,a);for(o in(Cn||In)&&u.value!==l.value&&ht(s,"value",u.value),l)i(u[o])&&(Bi(o)?s.removeAttributeNS(Ni,Vi(o)):Pi(o)||s.removeAttribute(o))}}function ht(e,t,n){e.tagName.indexOf("-")>-1?vt(e,t,n):Di(t)?Ui(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Pi(t)?e.setAttribute(t,Ri(t,n)):Bi(t)?Ui(n)?e.removeAttributeNS(Ni,Vi(t)):e.setAttributeNS(Ni,t,n):vt(e,t,n)}function vt(e,t,n){if(Ui(n))e.removeAttribute(t);else{if(Cn&&!Tn&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}function gt(e,t){var n=t.elm,o=t.data,a=e.data;if(!(i(o.staticClass)&&i(o["class"])&&(i(a)||i(a.staticClass)&&i(a["class"])))){var s=nt(t),l=n._transitionClasses;r(l)&&(s=rt(s,ot(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function mt(e,t,n){var i=Fi;return function r(){null!==t.apply(null,arguments)&&_t(e,r,n,i)}}function yt(e,t,n,i){if(ar){var r=bi,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Fi.addEventListener(e,t,On?{capture:n,passive:i}:n)}function _t(e,t,n,i){(i||Fi).removeEventListener(e,t._wrapper||t,n)}function bt(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},o=e.data.on||{};Fi=t.elm,function(e){if(r(e[rr])){var t=Cn?"change":"input";e[t]=[].concat(e[rr],e[t]||[]),delete e[rr]}r(e[or])&&(e.change=[].concat(e[or],e.change||[]),delete e[or])}(n),Q(n,o,yt,_t,mt,t.context),Fi=void 0}}function wt(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};for(n in r(l.__ob__)&&(l=t.data.domProps=y({},l)),s)n in l||(a[n]="");for(n in l){if(o=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var u=i(o)?"":String(o);kt(a,u)&&(a.value=u)}else if("innerHTML"===n&&zi(a.tagName)&&i(a.innerHTML)){(Oi=Oi||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var c=Oi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(o!==s[n])try{a[n]=o}catch(e){}}}}function kt(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,i=e._vModifiers;if(r(i)){if(i.number)return f(n)!==f(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}function xt(e){var t=St(e.style);return e.staticStyle?y(e.staticStyle,t):t}function St(e){return Array.isArray(e)?_(e):"string"==typeof e?ur(e):e}function Ct(e,t){var n=t.data,o=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,l=t.elm,u=o.staticStyle,c=o.normalizedStyle||o.style||{},d=u||c,f=St(t.data.style)||{};t.data.normalizedStyle=r(f.__ob__)?y({},f):f;var p=function(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=xt(r.data))&&y(i,n);(n=xt(e.data))&&y(i,n);for(var o=e;o=o.parent;)o.data&&(n=xt(o.data))&&y(i,n);return i}(t,!0);for(s in d)i(p[s])&&fr(l,s,"");for(s in p)(a=p[s])!==d[s]&&fr(l,s,null==a?"":a)}}function Tt(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(gr).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function It(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(gr).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Et(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&y(t,mr(e.name||"v")),y(t,e),t}return"string"==typeof e?mr(e):void 0}}function At(e){Cr(function(){Cr(e)})}function Ft(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Tt(e,t))}function Ot(e,t){e._transitionClasses&&h(e._transitionClasses,t),It(e,t)}function Lt(e,t,n){var i=$t(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===_r?kr:Sr,l=0,u=function(){e.removeEventListener(s,c),n()},c=function(t){t.target===e&&++l>=a&&u()};setTimeout(function(){l<a&&u()},o+1),e.addEventListener(s,c)}function $t(e,t){var n,i=window.getComputedStyle(e),r=(i[wr+"Delay"]||"").split(", "),o=(i[wr+"Duration"]||"").split(", "),a=Mt(r,o),s=(i[xr+"Delay"]||"").split(", "),l=(i[xr+"Duration"]||"").split(", "),u=Mt(s,l),c=0,d=0;return t===_r?a>0&&(n=_r,c=a,d=o.length):t===br?u>0&&(n=br,c=u,d=l.length):d=(n=(c=Math.max(a,u))>0?a>u?_r:br:null)?n===_r?o.length:l.length:0,{type:n,timeout:c,propCount:d,hasTransform:n===_r&&Tr.test(i[wr+"Property"])}}function Mt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Pt(t)+Pt(e[n])}))}function Pt(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function jt(e,t){var n=e.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Et(e.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){for(var a=o.css,l=o.type,u=o.enterClass,c=o.enterToClass,d=o.enterActiveClass,p=o.appearClass,h=o.appearToClass,v=o.appearActiveClass,g=o.beforeEnter,m=o.enter,y=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,k=o.afterAppear,S=o.appearCancelled,C=o.duration,T=pi,I=pi.$vnode;I&&I.parent;)T=I.context,I=I.parent;var E=!T._isMounted||!e.isRootInsert;if(!E||w||""===w){var A=E&&p?p:u,F=E&&v?v:d,O=E&&h?h:c,L=E&&b||g,$=E&&"function"==typeof w?w:m,M=E&&k||y,P=E&&S||_,j=f(s(C)?C.enter:C),R=!1!==a&&!Tn,D=Nt($),N=n._enterCb=x(function(){R&&(Ot(n,O),Ot(n,F)),N.cancelled?(R&&Ot(n,A),P&&P(n)):M&&M(n),n._enterCb=null});e.data.show||ee(e,"insert",function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),$&&$(n,N)}),L&&L(n),R&&(Ft(n,A),Ft(n,F),At(function(){Ot(n,A),N.cancelled||(Ft(n,O),D||(Dt(j)?setTimeout(N,j):Lt(n,l,N)))})),e.data.show&&(t&&t(),$&&$(n,N)),R||D||N()}}}function Rt(e,t){function n(){S.cancelled||(!e.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),h&&h(o),b&&(Ft(o,c),Ft(o,p),At(function(){Ot(o,c),S.cancelled||(Ft(o,d),w||(Dt(k)?setTimeout(S,k):Lt(o,u,S)))})),v&&v(o,S),b||w||S())}var o=e.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=Et(e.data.transition);if(i(a)||1!==o.nodeType)return t();if(!r(o._leaveCb)){var l=a.css,u=a.type,c=a.leaveClass,d=a.leaveToClass,p=a.leaveActiveClass,h=a.beforeLeave,v=a.leave,g=a.afterLeave,m=a.leaveCancelled,y=a.delayLeave,_=a.duration,b=!1!==l&&!Tn,w=Nt(v),k=f(s(_)?_.leave:_),S=o._leaveCb=x(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(Ot(o,d),Ot(o,p)),S.cancelled?(b&&Ot(o,c),m&&m(o)):(t(),g&&g(o)),o._leaveCb=null});y?y(n):n()}}function Dt(e){return"number"==typeof e&&!isNaN(e)}function Nt(e){if(i(e))return!1;var t=e.fns;return r(t)?Nt(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Bt(e,t){!0!==t.data.show&&jt(t)}function Vt(e,t,n){Ut(e,t,n),(Cn||In)&&setTimeout(function(){Ut(e,t,n)},0)}function Ut(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=k(i,Ht(a))>-1,a.selected!==o&&(a.selected=o);else if(w(Ht(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function Gt(e,t){return t.every(function(t){return!w(t,e)})}function Ht(e){return"_value"in e?e._value:e.value}function zt(e){e.target.composing=!0}function Wt(e){e.target.composing&&(e.target.composing=!1,qt(e.target,"input"))}function qt(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Kt(e){return!e.componentInstance||e.data&&e.data.transition?e:Kt(e.componentInstance._vnode)}function Yt(e){var t=e&&e.componentOptions;return t&&t.Ctor.options["abstract"]?Yt($e(t.children)):e}function Xt(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[ln(o)]=r[o];return t}function Jt(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Zt(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Qt(e){e.data.newPos=e.elm.getBoundingClientRect()}function en(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var tn,nn=Object.freeze({}),rn=Object.prototype.toString,on=p("key,ref,slot,slot-scope,is"),an=Object.prototype.hasOwnProperty,sn=/-(\w)/g,ln=g(function(e){return e.replace(sn,function(e,t){return t?t.toUpperCase():""})}),un=g(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),cn=/\B([A-Z])/g,dn=g(function(e){return e.replace(cn,"-$1").toLowerCase()}),fn=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n},pn=function(e,t,n){return!1},hn=function(e){return e},vn="data-server-rendered",gn=["component","directive","filter"],mn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],yn={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:pn,isReservedAttr:pn,isUnknownElement:pn,getTagNamespace:b,parsePlatformTagName:hn,mustUseProp:pn,async:!0,_lifecycleHooks:mn},_n=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]"),bn="__proto__"in{},wn="undefined"!=typeof window,kn="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,xn=kn&&WXEnvironment.platform.toLowerCase(),Sn=wn&&window.navigator.userAgent.toLowerCase(),Cn=Sn&&/msie|trident/.test(Sn),Tn=Sn&&Sn.indexOf("msie 9.0")>0,In=Sn&&Sn.indexOf("edge/")>0,En=(Sn&&Sn.indexOf("android"),Sn&&/iphone|ipad|ipod|ios/.test(Sn)||"ios"===xn),An=(Sn&&/chrome\/\d+/.test(Sn),Sn&&/phantomjs/.test(Sn),Sn&&Sn.match(/firefox\/(\d+)/)),Fn={}.watch,On=!1;if(wn)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){On=!0}}),window.addEventListener("test-passive",null,Ln)}catch(nn){}var $n,Mn=function(){return void 0===tn&&(tn=!wn&&!kn&&"undefined"!=typeof e&&e.process&&"server"===e.process.env.VUE_ENV),tn},Pn=wn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,jn="undefined"!=typeof Symbol&&C(Symbol)&&"undefined"!=typeof Reflect&&C(Reflect.ownKeys);$n="undefined"!=typeof Set&&C(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Rn=b,Dn=0,Nn=function(){this.id=Dn++,this.subs=[]};Nn.prototype.addSub=function(e){this.subs.push(e)},Nn.prototype.removeSub=function(e){h(this.subs,e)},Nn.prototype.depend=function(){Nn.target&&Nn.target.addDep(this)},Nn.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},Nn.target=null;var Bn=[],Vn=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Un={child:{configurable:!0}};Un.child.get=function(){return this.componentInstance},Object.defineProperties(Vn.prototype,Un);var Gn=function(e){void 0===e&&(e="");var t=new Vn;return t.text=e,t.isComment=!0,t},Hn=Array.prototype,zn=Object.create(Hn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Hn[e];S(zn,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var Wn=Object.getOwnPropertyNames(zn),qn=!0,Kn=function(e){var t;this.value=e,this.dep=new Nn,this.vmCount=0,S(e,"__ob__",this),Array.isArray(e)?(bn?(t=zn,e.__proto__=t):function(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];S(e,o,t[o])}}(e,zn,Wn),this.observeArray(e)):this.walk(e)};Kn.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)L(e,t[n])},Kn.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)O(e[t])};var Yn=yn.optionMergeStrategies;Yn.data=function(e,t,n){return n?j(e,t,n):t&&"function"!=typeof t?e:j(e,t)},mn.forEach(function(e){Yn[e]=R}),gn.forEach(function(e){Yn[e+"s"]=D}),Yn.watch=function(e,t,n,i){if(e===Fn&&(e=void 0),t===Fn&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in y(r,e),t){var a=r[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Yn.props=Yn.methods=Yn.inject=Yn.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return y(r,e),t&&y(r,t),r},Yn.provide=j;var Xn,Jn=function(e,t){return void 0===t?e:t},Zn=!1,Qn=[],ei=!1;if("undefined"!=typeof Promise&&C(Promise)){var ti=Promise.resolve();Xn=function(){ti.then(Y),En&&setTimeout(b)},Zn=!0}else if(Cn||"undefined"==typeof MutationObserver||!C(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xn="undefined"!=typeof n&&C(n)?function(){n(Y)}:function(){setTimeout(Y,0)};else{var ni=1,ii=new MutationObserver(Y),ri=document.createTextNode(String(ni));ii.observe(ri,{characterData:!0}),Xn=function(){ni=(ni+1)%2,ri.data=String(ni)},Zn=!0}var oi=new $n,ai=g(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}});Se(Ce.prototype);var si,li={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;li.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(n)}(e,pi)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,i,r){var o=i.data.scopedSlots,a=e.$scopedSlots,s=!!(o&&!o.$stable||a!==nn&&!a.$stable||o&&e.$scopedSlots.$key!==o.$key),l=!!(r||e.$options._renderChildren||s);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=r,e.$attrs=i.data.attrs||nn,e.$listeners=n||nn,t&&e.$options.props){F(!1);for(var u=e._props,c=e.$options._propKeys||[],d=0;d<c.length;d++){var f=c[d],p=e.$options.props;u[f]=V(f,p,t,e)}F(!0),e.$options.propsData=t}n=n||nn;var h=e.$options._parentListeners;e.$options._parentListeners=n,Re(e,n,h),l&&(e.$slots=oe(r,i.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Ve(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,vi.push(t)):Be(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ne(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)n(e.$children[i]);Ve(e,"deactivated")}}(t,!0):t.$destroy())}},ui=Object.keys(li),ci=1,di=2,fi=null,pi=null,hi=[],vi=[],gi={},mi=!1,yi=!1,_i=0,bi=0,wi=Date.now;if(wn&&!Cn){var ki=window.performance;ki&&"function"==typeof ki.now&&wi()>document.createEvent("Event").timeStamp&&(wi=function(){return ki.now()})}var xi=0,Si=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++xi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new $n,this.newDepIds=new $n,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!_n.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=b)),this.value=this.lazy?void 0:this.get()};Si.prototype.get=function(){var e;T(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;z(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&J(e),I(),this.cleanupDeps()}return e},Si.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Si.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Si.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==gi[t]){if(gi[t]=!0,yi){for(var n=hi.length-1;n>_i&&hi[n].id>e.id;)n--;hi.splice(n+1,0,e)}else hi.push(e);mi||(mi=!0,X(Ue))}}(this)},Si.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){z(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Si.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Si.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Si.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||h(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Ci={enumerable:!0,configurable:!0,get:b,set:b},Ti={lazy:!0},Ii=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Ii++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=N(Ye(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t["abstract"]){for(;n.$options["abstract"]&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Re(e,t)}(t),function(e){
e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=oe(t._renderChildren,i),e.$scopedSlots=nn,e._c=function(t,n,i,r){return Fe(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return Fe(e,t,n,i,r,!0)};var r=n&&n.data;L(e,"$attrs",r&&r.attrs||nn,null,!0),L(e,"$listeners",t._parentListeners||nn,null,!0)}(t),Ve(t,"beforeCreate"),function(e){var t=re(e.$options.inject,e);t&&(F(!1),Object.keys(t).forEach(function(n){L(e,n,t[n])}),F(!0))}(t),He(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),Ve(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Xe),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=$,e.prototype.$delete=M,e.prototype.$watch=function(e,t,n){if(l(t))return Ke(this,e,t,n);(n=n||{}).user=!0;var i=new Si(this,e,t,n);if(n.immediate)try{t.call(this,i.value)}catch(e){z(e,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(Xe),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){function n(){i.$off(e,n),t.apply(i,arguments)}var i=this;return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var s=a.length;s--;)if((o=a[s])===t||o.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?m(t):t;for(var n=m(arguments,1),i='event handler for "'+e+'"',r=0,o=t.length;r<o;r++)W(t[r],this,n,this,i)}return this}}(Xe),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=De(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ve(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options["abstract"]||h(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ve(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Xe),function(e){Se(e.prototype),e.prototype.$nextTick=function(e){return X(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&(t.$scopedSlots=se(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{fi=t,e=i.call(t._renderProxy,t.$createElement)}catch(n){z(n,t,"render"),e=t._vnode}finally{fi=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof Vn||(e=Gn()),e.parent=r,e}}(Xe);var Ei=[String,RegExp,Array],Ai={KeepAlive:{name:"keep-alive","abstract":!0,props:{include:Ei,exclude:Ei,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)tt(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){et(e,function(e){return Qe(t,e)})}),this.$watch("exclude",function(t){et(e,function(e){return!Qe(t,e)})})},render:function(){var e=this.$slots["default"],t=$e(e),n=t&&t.componentOptions;if(n){var i=Ze(n),r=this.include,o=this.exclude;if(r&&(!i||!Qe(r,i))||o&&i&&Qe(o,i))return t;var a=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[l]?(t.componentInstance=a[l].componentInstance,h(s,l),s.push(l)):(a[l]=t,s.push(l),this.max&&s.length>parseInt(this.max)&&tt(a,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return yn}};Object.defineProperty(e,"config",t),e.util={warn:Rn,extend:y,mergeOptions:N,defineReactive:L},e.set=$,e["delete"]=M,e.nextTick=X,e.observable=function(e){return O(e),e},e.options=Object.create(null),gn.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,y(e.options.components,Ai),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=m(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=N(this.options,e),this}}(e),Je(e),function(e){gn.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}(e)}(Xe),Object.defineProperty(Xe.prototype,"$isServer",{get:Mn}),Object.defineProperty(Xe.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Xe,"FunctionalRenderContext",{value:Ce}),Xe.version="2.6.12";var Fi,Oi,Li,$i=p("style,class"),Mi=p("input,textarea,option,select,progress"),Pi=p("contenteditable,draggable,spellcheck"),ji=p("events,caret,typing,plaintext-only"),Ri=function(e,t){return Ui(t)||"false"===t?"false":"contenteditable"===e&&ji(t)?t:"true"},Di=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ni="http://www.w3.org/1999/xlink",Bi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Vi=function(e){return Bi(e)?e.slice(6,e.length):""},Ui=function(e){return null==e||!1===e},Gi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Hi=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),zi=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wi=function(e){return Hi(e)||zi(e)},qi=Object.create(null),Ki=p("text,number,password,search,email,tel,url"),Yi=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(e,t){return document.createElementNS(Gi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Xi={create:function(e,t){at(t)},update:function(e,t){e.data.ref!==t.data.ref&&(at(e,!0),at(t))},destroy:function(e){at(e,!0)}},Ji=new Vn("",{},[]),Zi=["create","activate","update","remove","destroy"],Qi={create:ut,update:ut,destroy:function(e){ut(e,Ji)}},er=Object.create(null),tr=[Xi,Qi],nr={create:pt,update:pt},ir={create:gt,update:gt},rr="__r",or="__c",ar=Zn&&!(An&&Number(An[1])<=53),sr={create:bt,update:bt},lr={create:wt,update:wt},ur=g(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}),cr=/^--/,dr=/\s*!important$/,fr=function(e,t,n){if(cr.test(t))e.style.setProperty(t,n);else if(dr.test(n))e.style.setProperty(dn(t),n.replace(dr,""),"important");else{var i=hr(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},pr=["Webkit","Moz","ms"],hr=g(function(e){if(Li=Li||document.createElement("div").style,"filter"!==(e=ln(e))&&e in Li)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<pr.length;n++){var i=pr[n]+t;if(i in Li)return i}}),vr={create:Ct,update:Ct},gr=/\s+/,mr=g(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),yr=wn&&!Tn,_r="transition",br="animation",wr="transition",kr="transitionend",xr="animation",Sr="animationend";yr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(wr="WebkitTransition",kr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(xr="WebkitAnimation",Sr="webkitAnimationEnd"));var Cr=wn?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},Tr=/\b(transform|all)(,|$)/,Ir=function(e){function t(e){var t=T.parentNode(e);r(t)&&T.removeChild(t,e)}function n(e,t,n,i,a,c,p){if(r(e.elm)&&r(c)&&(e=c[p]=A(e)),e.isRootInsert=!a,!function(e,t,n,i){var a=e.data;if(r(a)){var u=r(e.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(e,!1),r(e.componentInstance))return s(e,t),l(n,e.elm,i),o(u)&&function(e,t,n,i){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<S.activate.length;++o)S.activate[o](Ji,a);t.push(a);break}l(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var h=e.data,v=e.children,g=e.tag;r(g)?(e.elm=e.ns?T.createElementNS(e.ns,g):T.createElement(g,e),f(e),u(e,v,t),r(h)&&d(e,t),l(n,e.elm,i)):o(e.isComment)?(e.elm=T.createComment(e.text),l(n,e.elm,i)):(e.elm=T.createTextNode(e.text),l(n,e.elm,i))}}function s(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,c(e)?(d(e,t),f(e)):(at(e),t.push(e))}function l(e,t,n){r(e)&&(r(n)?T.parentNode(n)===e&&T.insertBefore(e,t,n):T.appendChild(e,t))}function u(e,t,i){if(Array.isArray(t))for(var r=0;r<t.length;++r)n(t[r],i,e.elm,null,!0,t,r);else a(e.text)&&T.appendChild(e.elm,T.createTextNode(String(e.text)))}function c(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function d(e,t){for(var n=0;n<S.create.length;++n)S.create[n](Ji,e);r(k=e.data.hook)&&(r(k.create)&&k.create(Ji,e),r(k.insert)&&t.push(e))}function f(e){var t;if(r(t=e.fnScopeId))T.setStyleScope(e.elm,t);else for(var n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&T.setStyleScope(e.elm,t),n=n.parent;r(t=pi)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&T.setStyleScope(e.elm,t)}function h(e,t,i,r,o,a){for(;r<=o;++r)n(i[r],a,e,t,!1,i,r)}function v(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<S.destroy.length;++t)S.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)v(e.children[n])}function g(e,n,i){for(;n<=i;++n){var o=e[n];r(o)&&(r(o.tag)?(m(o),v(o)):t(o.elm))}}function m(e,n){if(r(n)||r(e.data)){var i,o=S.remove.length+1;for(r(n)?n.listeners+=o:n=function(e,n){function i(){0==--i.listeners&&t(e)}return i.listeners=n,i}(e.elm,o),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&m(i,n),i=0;i<S.remove.length;++i)S.remove[i](e,n);r(i=e.data.hook)&&r(i=i.remove)?i(e,n):n()}else t(e.elm)}function y(e,t,n,i){for(var o=n;o<i;o++){var a=t[o];if(r(a)&&st(e,a))return o}}function _(e,t,a,s,l,u){if(e!==t){r(t.elm)&&r(s)&&(t=s[l]=A(t));var d=t.elm=e.elm;if(o(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?w(e.elm,t,a):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,p=t.data;r(p)&&r(f=p.hook)&&r(f=f.prepatch)&&f(e,t);var v=e.children,m=t.children;if(r(p)&&c(t)){for(f=0;f<S.update.length;++f)S.update[f](e,t);r(f=p.hook)&&r(f=f.update)&&f(e,t)}i(t.text)?r(v)&&r(m)?v!==m&&function(e,t,o,a,s){for(var l,u,c,d=0,f=0,p=t.length-1,v=t[0],m=t[p],b=o.length-1,w=o[0],k=o[b],x=!s;d<=p&&f<=b;)i(v)?v=t[++d]:i(m)?m=t[--p]:st(v,w)?(_(v,w,a,o,f),v=t[++d],w=o[++f]):st(m,k)?(_(m,k,a,o,b),m=t[--p],k=o[--b]):st(v,k)?(_(v,k,a,o,b),x&&T.insertBefore(e,v.elm,T.nextSibling(m.elm)),v=t[++d],k=o[--b]):st(m,w)?(_(m,w,a,o,f),x&&T.insertBefore(e,m.elm,v.elm),m=t[--p],w=o[++f]):(i(l)&&(l=lt(t,d,p)),i(u=r(w.key)?l[w.key]:y(w,t,d,p))?n(w,a,e,v.elm,!1,o,f):st(c=t[u],w)?(_(c,w,a,o,f),t[u]=void 0,x&&T.insertBefore(e,c.elm,v.elm)):n(w,a,e,v.elm,!1,o,f),w=o[++f]);d>p?h(e,i(o[b+1])?null:o[b+1].elm,o,f,b,a):f>b&&g(t,d,p)}(d,v,m,a,u):r(m)?(r(e.text)&&T.setTextContent(d,""),h(d,null,m,0,m.length-1,a)):r(v)?g(v,0,v.length-1):r(e.text)&&T.setTextContent(d,""):e.text!==t.text&&T.setTextContent(d,t.text),r(p)&&r(f=p.hook)&&r(f=f.postpatch)&&f(e,t)}}}function b(e,t,n){if(o(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}function w(e,t,n,i){var a,l=t.tag,c=t.data,f=t.children;if(i=i||c&&c.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(a=c.hook)&&r(a=a.init)&&a(t,!0),r(a=t.componentInstance)))return s(t,n),!0;if(r(l)){if(r(f))if(e.hasChildNodes())if(r(a=c)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var p=!0,h=e.firstChild,v=0;v<f.length;v++){if(!h||!w(h,f[v],n,i)){p=!1;break}h=h.nextSibling}if(!p||h)return!1}else u(t,f,n);if(r(c)){var g=!1;for(var m in c)if(!I(m)){g=!0,d(t,n);break}!g&&c["class"]&&J(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}var k,x,S={},C=e.modules,T=e.nodeOps;for(k=0;k<Zi.length;++k)for(S[Zi[k]]=[],x=0;x<C.length;++x)r(C[x][Zi[k]])&&S[Zi[k]].push(C[x][Zi[k]]);var I=p("attrs,class,staticClass,staticStyle,key");return function(e,t,a,s){if(!i(t)){var l,u=!1,d=[];if(i(e))u=!0,n(t,d);else{var f=r(e.nodeType);if(!f&&st(e,t))_(e,t,d,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(vn)&&(e.removeAttribute(vn),a=!0),o(a)&&w(e,t,d))return b(t,d,!0),e;l=e,e=new Vn(T.tagName(l).toLowerCase(),{},[],(void 0),l)}var p=e.elm,h=T.parentNode(p);if(n(t,d,p._leaveCb?null:h,T.nextSibling(p)),r(t.parent))for(var m=t.parent,y=c(t);m;){for(var k=0;k<S.destroy.length;++k)S.destroy[k](m);if(m.elm=t.elm,y){for(var x=0;x<S.create.length;++x)S.create[x](Ji,m);var C=m.data.hook.insert;if(C.merged)for(var I=1;I<C.fns.length;I++)C.fns[I]()}else at(m);m=m.parent}r(h)?g([e],0,0):r(e.tag)&&v(e)}}return b(t,d,u),t.elm}r(e)&&v(e)}}({nodeOps:Yi,modules:[nr,ir,sr,lr,vr,wn?{create:Bt,activate:Bt,remove:function(e,t){!0!==e.data.show?Rt(e,t):t()}}:{}].concat(tr)});Tn&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&qt(e,"input")});var Er={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ee(n,"postpatch",function(){Er.componentUpdated(e,t,n)}):Vt(e,t,n.context),e._vOptions=[].map.call(e.options,Ht)):("textarea"===n.tag||Ki(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",zt),e.addEventListener("compositionend",Wt),e.addEventListener("change",Wt),Tn&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Vt(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,Ht);r.some(function(e,t){return!w(e,i[t])})&&(e.multiple?t.value.some(function(e){return Gt(e,r)}):t.value!==t.oldValue&&Gt(t.value,r))&&qt(e,"change")}}},Ar={model:Er,show:{bind:function(e,t,n){var i=t.value,r=(n=Kt(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,jt(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=Kt(n)).data&&n.data.transition?(n.data.show=!0,i?jt(n,function(){e.style.display=e.__vOriginalDisplay}):Rt(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},Fr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Or=function(e){return e.tag||Le(e)},Lr=function(e){return"show"===e.name},$r={name:"transition",props:Fr,"abstract":!0,render:function(e){var t=this,n=this.$slots["default"];if(n&&(n=n.filter(Or)).length){var i=this.mode,r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var o=Yt(r);if(!o)return r;if(this._leaving)return Jt(e,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=Xt(this),u=this._vnode,c=Yt(u);if(o.data.directives&&o.data.directives.some(Lr)&&(o.data.show=!0),c&&c.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,c)&&!Le(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var d=c.data.transition=y({},l);if("out-in"===i)return this._leaving=!0,ee(d,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Jt(e,r);if("in-out"===i){if(Le(o))return u;var f,p=function(){f()};ee(l,"afterEnter",p),ee(l,"enterCancelled",p),ee(d,"delayLeave",function(e){f=e})}}return r}}},Mr=y({tag:String,moveClass:String},Fr);delete Mr.mode;var Pr={Transition:$r,TransitionGroup:{props:Mr,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=De(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots["default"]||[],o=this.children=[],a=Xt(this),s=0;s<r.length;s++){var l=r[s];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a)}if(i){for(var u=[],c=[],d=0;d<i.length;d++){var f=i[d];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):c.push(f)}this.kept=e(t,null,u),this.removed=c}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Zt),e.forEach(Qt),e.forEach(en),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;Ft(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(kr,n._moveCb=function r(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(kr,r),n._moveCb=null,Ot(n,t))})}}))},methods:{hasMove:function(e,t){if(!yr)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){It(n,e)}),Tt(n,t),n.style.display="none",this.$el.appendChild(n);var i=$t(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Xe.config.mustUseProp=function(e,t,n){return"value"===n&&Mi(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Xe.config.isReservedTag=Wi,Xe.config.isReservedAttr=$i,Xe.config.getTagNamespace=function(e){return zi(e)?"svg":"math"===e?"math":void 0},Xe.config.isUnknownElement=function(e){if(!wn)return!0;if(Wi(e))return!1;if(e=e.toLowerCase(),null!=qi[e])return qi[e];var t=document.createElement(e);return e.indexOf("-")>-1?qi[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:qi[e]=/HTMLUnknownElement/.test(t.toString())},y(Xe.options.directives,Ar),y(Xe.options.components,Pr),Xe.prototype.__patch__=wn?Ir:b,Xe.prototype.$mount=function(e,t){return function(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=Gn),Ve(e,"beforeMount"),i=function(){e._update(e._render(),n)},new Si(e,i,b,{before:function(){e._isMounted&&!e._isDestroyed&&Ve(e,"beforeUpdate")}},(!0)),n=!1,null==e.$vnode&&(e._isMounted=!0,Ve(e,"mounted")),e}(this,e=e&&wn?function(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}(e):void 0,t)},wn&&setTimeout(function(){yn.devtools&&Pn&&Pn.emit("init",Xe)},0),t.exports=Xe}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:2}],7:[function(e,t,n){function i(){}var r=n.cache={};n.insert=function(e){if(r[e])return i;r[e]=!0;var t=document.createElement("style");return t.setAttribute("type","text/css"),"textContent"in t?t.textContent=e:t.styleSheet.cssText=e,document.getElementsByTagName("head")[0].appendChild(t),function(){document.getElementsByTagName("head")[0].removeChild(t),r[e]=!1}}},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.service;e.plugin;this.addFormComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.layerId,i=e.components,r=void 0===i?[]:i;t.addFormComponents({layerId:n,components:r})},this.getEditableLayersId=function(){return Object.keys(t.getEditableLayers())},this.getSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getSession(e)},this.getFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getFeature(e)},this.subscribe=function(e,n){return t.subscribe(e,n)},this.unsubscribe=function(e,n){return t.unsubscribe(e,n)},this.showPanel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.toolboxes;n&&Array.isArray(n)&&t.getToolBoxes().forEach(function(e){return e.setShow(n.indexOf(e.getId())!==-1)}),t.getPlugin().showEditingPanel(e)},this.hidePanel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.getPlugin().hideEditingPanel(e)},this.getToolBoxById=function(e){return t.getToolBoxById(e)},this.startEditing=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],n.tools,n.feature,n.selected),r=void 0===i||i,o=n.title,a=n.disablemapcontrols,s=void 0!==a&&a;return new Promise(function(i,a){var l=t.getToolBoxById(e);l?(l.setSelected(r),r&&t.setSelectedToolbox(l),o&&l.setTitle(o),l.start(n).then(function(e){s&&t.disableMapControlsConflict(!0),i(e?{toolbox:l,data:e}:l)}).fail(function(e){a(e)})):a()})},this.setSaveConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setSaveConfig(e)},this.addNewFeature=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.addNewFeature(e,n)},this.stopEditing=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i,r){var o=t.getToolBoxById(e);o.stop(n).then(i).fail(r)})},this.commitChanges=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.commit(e)},this.resetDefault=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.plugin,i=void 0===n||n,r=e.toolboxes,o=void 0===r||r;o&&t.getToolBoxes().forEach(function(e){e.resetDefault(options)}),i&&t.resetDefault()},this.setApplicationEditingConstraints=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setApplicationEditingConstraints(e)},this.getMapService=function(){return t.getMapService()}};n["default"]=i},{}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={it:{errors:{no_layers:"Si è verificato un errore nel caricamento dei layers in editing.",some_layers:"Si è verificato un errore nel caricamento di alcuni layers in editing"},search:"Cerca",editing_data:"Edita Dati",editing_attributes:"Edita attributi",relations:"Relazioni",edit_relation:"Edita relazione",back_to_relations:"Ritorna alle Relazioni",no_relations_found:"Non ci sono relazioni",relation_data:"Dati relativi alla relazione",relation_already_added:"Relazione già presente",list_of_relations_feature:"Elenco Relazioni della feature ",tooltip:{edit_layer:"Modifica Layer"},toolbox:{title:"Edita"},tools:{copy:"Copia features",addpart:"Aggiungi parte alla geometria",deletepart:"Cancella parte dalla geometria",merge:"Dissolvi features",split:"Taglia Feature",add_feature:"Aggiungi feature",delete_feature:"Elimina feature",move_feature:"Muovi feature",update_vertex:"Aggiorna vertici feature",update_feature:"Modifica attributi feature",update_multi_features:"Modifica gli attributi delle features selezionate"},toolsoftool:{measure:"Visualizza misura",snap:"Snap sul layer",snapall:"Snap su tutti i layer"},table:{edit:"Edita feature",copy:"Crea una copia","delete":"Cancella feature"},steps:{help:{select_elements:"Seleziona le features",select_element:"Seleziona la feature",copy:"Crea una copia delle feature selezionate",merge:"Dissolvi features",split:"Taglia Feature","new":"Creo una nuova feature",edit_table:"Edita le features della tabella",draw_new_feature:"Disegna sulla mappa la feature",action_confirm:"Conferma azione",double_click_delete:"Seleziona la feature sulla mappa da cancellare",edit_feature_vertex:"Modifica o aggiungi un vertice alla feature selezionata",move:"Muovi la feature selezionata",select_feature_to_relation:"Seleziona la feature che vuoi mettere in relazione",show_edit_feature_form:"Mostra il form della feature per poter editare gli attributi",pick_feature:"Seleziona la feature sulla mappa da modificare",insert_attributes_feature:"Inserisci gli attributi della feature"}},workflow:{steps:{select:"Clicca sulla feature da selezionare",draw_part:"Disegna la nuova parte",merge:"Seleziona la feature su cui dissolvere",selectPoint:"Clicca sulla feature per selezionarla",selectSHIFT:"Seleziona le features tenedo premuto il tasto SHIFT",selectDrawBox:"Seleziona le features disegnando un rettangolo mediante la creazione dei due punti della diagonale",selectDrawBoxAtLeast2Feature:"Seleziona almeno 2 features disegnando un rettangolo mediante la creazione dei due punti della diagonale",selectPointSHIFT:"Seleziona le features tenedo premuto il tasto SHIFT (multiselezione) oppure cliccando sulla singola feature",selectMultiPointSHIFT:"Seleziona le features tenedo premuto il tasto SHIFT oppure cliccando sulla singola feature",selectMultiPointSHIFTAtLeast2Feature:"Seleziona almeno 2 features tenedo premuto il tasto SHIFT oppure cliccando sulla singola feature",copyCTRL:"Copia le features selezionate con CTRL+C",selectStartVertex:"Seleziona il vertice di partenza delle feature selezionate",selectToPaste:"Seleziona il punto dove verranno incollate le features selezionate",draw_split_line:"Disegna una linea per tagliare la feature selezionata"}},messages:{splitted:"Feature(s) splittata(e)",nosplittedfeature:"La(e) feature(s) non è stata splittata",press_esc:"Premi ESC per tornare indietro",online:"Ora sei di nuovo ONLINE. Puoi slavare le modifiche in modo permanente",offline:"Sei OFFLINE. Tutte le modifiche saranno salvate temporaneamente in locale",delete_feature:"Vuoi eliminare l'elemento selezionato?",delete_feature_relations:"Cancellando una feature con relazioni associate, tale relazioni rimarranno orfane. Si consiglia di gestire tali relazioni prima di cancellare la feature",unlink_relation:"Vuoi staccare la relazione?",commit_feature:"Vuoi salvare definitivamente le modifiche",change_toolbox_relation:"Layer in relazione. Prima di passare ad altri editing è obbligatorio salvare le modifiche correnti.",saved:"I dati sono stati salvati correttamente",saved_local:"I dati sono stati salvati correttamente in locale",loading_data:"Caricamento dati",saving:"Salvataggio dati in corso. Attendere ...",constraints:{enable_editing:"Aumentare il livello di zoom per abilitare l'editing \nScala di attivazione 1:"},commit:{header:"La lista sotto riporta tutte le modifiche che verranno salvate.",header_add:"<b>Aggiunte</b> riporta il numero delle features aggiunte",header_update_delete:"<b>Modificate</b> e <b>Cancellate</b> riporta la lista degli id",add:"Aggiunte (n. features)","delete":"Cancellate(id)",update:"Modificate(id)"},loading_table_data:"Costruzione tabella dati in corso. Attendere ..."},relation:{table:{info:"<div>Seleziona le relazioni per associarle alla feature in editing.</div>"}},form:{relations:{tooltips:{add_relation:"Crea ed aggiungi nuova relazione",link_relation:"Associa una relazione esistente a questa feature",open_relation_tools:"Apri strumenti relatione",unlink_relation:"Annulla relazione"}},buttons:{save:"Salva",save_and_back:"Salva e torna al padre",cancel:"Cancella"}}},en:{errors:{no_layers:"An error occurs. It's no possible to edit layers",some_layers:"An error occurs: It's no possible to edit some layers"},search:"Search",editing_data:"Editing Layers",editing_attributes:"Editing attributes",relations:"Relations",edit_relation:"Edit relation",back_to_relations:"Back to Relations",no_relations_found:"No relations found",relation_data:"Relation data",relation_already_added:"Relation already added",list_of_relations_feature:"List of relations feature ",tooltip:{edit_layer:"Edit Layer"},toolbox:{title:"Edit"},table:{edit:"Edit feature",copy:"Create a copy","delete":"Delete feature"},tools:{copy:"Copy features",addpart:"Add part to multipart",deletepart:"Delete part from multipart",merge:"Dissolve features",split:"Split Feature",add_feature:"Add feature",delete_feature:"Delete feature",move_feature:"Move feature",update_vertex:"Update feature vertex",update_feature:"Update feature attribute",update_multi_features:"Update attributes of selected features"},toolsoftool:{measure:"Show measure",snap:"Snap layer",snapall:"Snap to all layers"},steps:{help:{select_elements:"Select features",select_element:"Select feature",copy:"Create new copy of selected features",merge:"Dissolve features",split:"Split Feature","new":"Create new feature",edit_table:"Edit table features",draw_new_feature:"Draw feature on map",action_confirm:"Confirm action",double_click_delete:"Select feature on map to delete",edit_feature_vertex:"Modify or add a vertex on selected feature",move:"Move selected feature",select_feature_to_relation:"Select feature that you bind relation",show_edit_feature_form:"Show feature form to edit attributes",pick_feature:"Select feature on map to modify",insert_attributes_feature:"Insert attributes of the feature"}},workflow:{steps:{select:"Click on feature to select",draw_part:"Draw new part",merge:"Select featurewhere dissolve",selectSHIFT:"Select features drawing a rectangle pressing SHIFT",selectDrawBox:"Select features drawing a rectangle by two point of opposite corners",selectDrawBoxAtLeast2Feature:"Select at least features drawing a rectangle by two point of opposite corners",selectPoint:"Click on feature to select",selectPointSHIFT:"Select features drawing a rectangle pressing SHIFT (multifeatures) or click on one feature",selectMultiPointSHIFT:"Select features drawing a rectangle pressing SHIFT or click on feature",selectMultiPointSHIFTAtLeast2Feature:"Select at least 2 features drawing a rectangle pressing SHIFT or click on feature",copyCTRL:"Copy selected features using CTRL+C",selectStartVertex:"Select starting vertex of selected features",
selectToPaste:"Select the point where paste the features selected",draw_split_line:"Draw a line to split selected feature"}},messages:{splitted:"Splitted",nosplittedfeature:"Feature not spitted",press_esc:"Press ESC to back",online:"Back ONLINE. Now you can save your changes on database",offline:"You are OFFLINE. All changes are saved locally",delete_feature:"Do you want delete selected feature ?",delete_feature_relations:"If feature has bindings relations, these relations become orphans. We suggest to handle these relations before detele this feature",unlink_relation:"Do you want unlink relation?",commit_feature:"Do you want to save the changes",change_toolbox_relation:"Layer has relation/relations. Before switch editing you need to save changes done.",saved:"Data saved successfully",saved_local:"Data saved locally successfully",loading_data:"Loading data",saving:"Saving data. Please wait ...",constraints:{enable_editing:"Please Zoom In to enable editing tools \nActivation scale at 1:"},pdf:"Document preview not available. Please click here ",commit:{header:"The following list show all changes to commit.",header_add:"<b>Added</b> show the number of features added",header_update_delete:"<b>Modified</b> and <b>Deleted</b> show the list of features id",add:"Added(n. features)","delete":"Deleted(id)",update:"Modified(id)"},loading_table_data:"Building Data Table. Please wait ..."},relation:{table:{info:"\n                  <div>\n                    Select relations to link it to current editing feature.\n                  </div>\n                  <div>\n               \n                "}},form:{relations:{tooltips:{add_relation:"Create and link new relation",link_relation:"Join a relation to this feature",open_relation_tools:"Show relation tools",unlink_relation:"Unlink relation"}},buttons:{save:"Save",save_and_back:"Save and Back",cancel:"Cancel"}}},fi:{errors:{no_layers:"Tapahtui virhe. Tasoja ei ole mahdollista muokata.",some_layers:"Tapahtui virhe. Jotkin tasot eivät ole muokattavissa."},search:"Haku",editing_data:"Muokataan tasoja",editing_attributes:"Muokataan attribuutteja",relations:"Relaatiot",edit_relation:"Muokkaa relaatiota",back_to_relations:"Takaisin relaatioihin",no_relations_found:"Relaatioita ei löytynyt",relation_data:"Relaation tiedot",relation_already_added:"Relaatio on jo lisätty",list_of_relations_feature:"Lista relaation ominaisuuksista",tooltip:{edit_layer:"Muokkaa tasoa"},toolbox:{title:"Muokkaa"},table:{edit:"Muokkaa ominaisuutta",copy:"Luo kopio","delete":"Poista ominaisuus"},tools:{copy:"Kopio ominaisuuksia",addpart:"Lisää osa",deletepart:"Poista osa",merge:"Yhdistä ominaisuudet",split:"Leikkaa ominaisuus",add_feature:"Lisää ominaisuus",delete_feature:"Poista ominaisuus",move_feature:"Siirrä ominaisuutta",update_vertex:"Päivitä pisteen ominaisuutta",update_feature:"Päivitä ominaisuus"},toolsoftool:{measure:"Show measure",snap:"Snap layer",snapall:"Snap to all layers"},steps:{help:{select_elements:"Valitse ominaisuudet",select_element:"Valitse ominaisuus",copy:"Luo kopio valituista ominaisuuksista",merge:"Yhdistä ominaisuudet",split:"Leikkaa ominaisuus","new":"Luo uusi ominaisuus",edit_table:"Muuta taulun ominaisuuksia",draw_new_feature:"Piirrä ominaisuus kartalle",action_confirm:"Hyväksy toiminto",double_click_delete:"Valitse poistettava ominaisuus kartalta",edit_feature_vertex:"Muuta pistettä tai lisää piste valittuun ominaisuuteen",move:"Siirrä valittu ominaisuus",select_feature_to_relation:"Valitse relaatio",show_edit_feature_form:"Näytä ominaisuuslomake muokataksesi attribuutteja",pick_feature:"Valitse muokattava ominaisuus kartalta",insert_attributes_feature:"Lisää ominaisuuden attribuutit"}},workflow:{steps:{select:"Valitse ominaisuus",draw_part:"Piirrä uusi osa",merge:"Valitse ominaisuus yhdistääksesi",selectSHIFT:"Paina SHIFT, jos haluat valita kohteita suorakulmiovalinnalla.",selectDrawBox:"Piirrä suorakulmio, jonka siältä kohteet valitaan ",selectDrawBoxAtLeast2Feature:"Piirrä suorakulmio, jonka siältä kohteet vähintään 2 valitaan ",selectPoint:"Valitse ominaisuus",selectPointSHIFT:"Paina SHIFT, jos haluat valita ominaisuuksia suorakulmiovalinnalla, tai valitse yksittäinen ominaisuus.",selectMultiPointSHIFT:"Paina SHIFT, jos haluat valita ominaisuuksia suorakulmiovalinnalla, tai valitse yksittäinen ominaisuus.",selectMultiPointSHIFTAtLeast2Feature:"Paina SHIFT, jos haluat valita vähintään 2 ominaisuuksia suorakulmiovalinnalla, tai valitse yksittäinen ominaisuus.",copyCTRL:"CTRL+C, voit kopioida valitut ominaisuudet.",selectStartVertex:"Osoita valittujen ominaisuuksien alkupiste.",selectToPaste:"Valitse kohta, johon liität valitut ominaisuudet.",draw_split_line:"Piirrä viiva, jonka mukaan valittu ominaisuus jaetaan."}},messages:{splitted:"Jaettu",nosplittedfeature:"Ominaisuutta ei jaettu",press_esc:"Paina ESC palataksesi",online:"Yhteys muodostettu. Muutokset voidaan tallentaa tietokantaan.",offline:"Olet offline-tilassa. Muutokset tallennetaan paikallisesti",delete_feature:"Haluatko poistaa valitun ominaisuuden?",delete_feature_relations:"Mikäli ominaisuudella on sitovia relaatioita, näistä relaatiosta tulee orpoja. Suosittelemme käsittelemään nämä relaatiot ennen poistamista",unlink_relation:"Haluatko poistaa relaation?",commit_feature:"Tallennetaanko muutokset?",change_toolbox_relation:"Tasolla on relaatio/relaatiota. Ennen muokkauksen aloittamista tulee muutokset tallenttaa.",saved:"Tiedot tallennettu onnistuneesti",saved_local:"Tiedot on tallennettu onnistuneesti paikallisesti.",loading_data:"Ladataan tietoja",saving:"Tallentaan tietoja. Odota...",constraints:{enable_editing:"Lähennä ottaaksesi muokkaustyökalut käyttöön \nAktivointi mittakaava 1:"},pdf:"Dokumentin esikatselu ei ole saatavilla. Paina tästä ",commit:{header:"Seuraava luettelo näyttää kaikki muutokset.",header_add:"<b>Lisätty</b> näytä lisättyjen ominaisuuksien lukumäärä",header_update_delete:"<b>Muokattu</b> ja <b>Poistettu</b> Näytä listä ominaisuuksien id:stä",add:"Lisätty(n. ominaisuutta)","delete":"Poistettu(id)",update:"Muokattu(id)"},loading_table_data:"Building Data Table. Please wait ..."},relation:{table:{info:"\n                  <div>\n\t\t\t\t\tValitse relaatiota linkittääksesi ne muokattavaan ominaisuuteen.\n                  </div>\n                  <div>\n               \n                "}},form:{relations:{tooltips:{add_relation:"Luo ja linkitä uusi relaatio",link_relation:"Liitä relaatio tähän ominaisuuteen",open_relation_tools:"Näytä relaatiotyökalut",unlink_relation:"Poista relaatio"}},buttons:{save:"Tallenna",save_and_back:"Tallenna ja palaa",cancel:"Peruuta"}}},se:{errors:{no_layers:"Ett fel uppstod. Nivåerna kan inte redigeras.",some_layers:"Ett fel uppstod. Vissa nivåer kan inte redigeras."},search:"Sökning",editing_data:"Nivåerna redigeras",editing_attributes:"Attributen redigeras",relations:"Relationer",edit_relation:"Redigera relationen",back_to_relations:"Tillbaka till relationerna",no_relations_found:"Inga relationer hittades",relation_data:"Relationsuppgifter",relation_already_added:"Relationen har redan lagts till",list_of_relations_feature:"Lista på relationens egenskaper",tooltip:{edit_layer:"Redigera nivån"},toolbox:{title:"Redigera"},table:{edit:"Redigera egenskap",copy:"Skapa en kopia","delete":"Ta bort egenskap"},tools:{copy:"Kopiera egenskaper",addpart:"Lägg till del",deletepart:"Ta bort del",merge:"Slå samman egenskaper",split:"Dela upp egenskap",add_feature:"Lägg till egenskap",delete_feature:"Ta bort egenskap",move_feature:"Flytta egenskap",update_vertex:"Uppdatera punktens egenskap",update_feature:"Uppdatera egenskap"},toolsoftool:{measure:"Show measure",snap:"Snap layer",snapall:"Snap to all layers"},steps:{help:{select_elements:"Välj egenskaper",select_element:"Välj egenskapalitse ominaisuus",copy:"Skapa kopia av valda egenskaper",merge:"Slå samman egenskaper",split:"Dela upp egenskap","new":"Skapa ny egenskap",edit_table:"Ändra egenskaper i tabellen",draw_new_feature:"Piirrä ominaisuus kartalle",action_confirm:"Godkänn funktionen",double_click_delete:"Välj funktionen som du vill ta bort på kartan",edit_feature_vertex:"Ändra punkten eller lägg till punkten till den valda egenskapen",move:"Flytta den valda egenskapen",select_feature_to_relation:"Välj relation",show_edit_feature_form:"Visa egenskapsformuläret för redigering av attribut",pick_feature:"Välj funktion på kartan för att ändras",insert_attributes_feature:"Lägg till egenskapens attribut"}},workflow:{steps:{select:"Välj egenskap",draw_part:"Rita ny del",merge:"Välj egenskap att slå samman",selectSHIFT:"Tryck SHIFT, om du vill välja objekt med hjälp av rektangel.",selectDrawBox:"Rita upp den rektangel inom vilken objekten väljs ",selectDrawBoxAtLeast2Feature:"Rita rektangeln inom vilken minst två objekt är markerade ",selectPoint:"Välj egenskap",selectPointSHIFT:"Tryck SHIFT, om du vill välja objekt med hjälp av rektangel, eller välj en enskild egenskap.",selectMultiPointSHIFT:"Tryck SHIFT, om du vill välja objekt med hjälp av rektangel, eller välj en enskild egenskap.",selectMultiPointSHIFTAtLeast2Feature:"Tryck på SKIFT för att välja minst två objekt med en rektangel eller välj en enda egenskap. ",copyCTRL:"CTRL+C, du kan kopiera valda egenskaper.",selectStartVertex:"Visa startpunkten för valda egenskaper.",selectToPaste:"Välj punkt till vilken de valda egenskaperna ska fogas.",draw_split_line:"Rita en linje enligt vilken den valda egenskapen ska uppdelas."}},messages:{splitted:"Uppdelad",nosplittedfeature:"Egenskapen har inte delats upp",press_esc:"Tryck ESC för att gå tillbaka",online:"Förbindelsen har upprättats. Ändringar kan sparas i databasen.",offline:"Du är i offline-läge. Ändringarna sparas lokalt",delete_feature:"Vill du ta bort den valda egenskapen?",delete_feature_relations:"Om egenskapen saknar bindande relationer blir dessa relationer föräldralösa. Vi rekommenderar att du behandlar dessa relationer innan du lämnar programmet",unlink_relation:"Vill du ta bort relationen?",commit_feature:"Ska ändringarna sparas?",change_toolbox_relation:"Nivån har en relation/relationer. Spara ändringarna innan du börjar redigera.",saved:"Uppgifterna sparades",saved_local:"Uppgifterna sparades lokalt.",loading_data:"Uppgifterna laddas",saving:"Uppgifterna sparas. Vänta...",constraints:{enable_editing:"Zooma in för att börja använda redigeringsverktyg \nAktivering skala 1:"},pdf:"Förhandsgranskning av dokument är inte tillgänglig. Tryck här",commit:{header:"Följande lista visar alla ändringar.",header_add:"<b>Tillagda</b> visar antalet egenskaper som lagts till",header_update_delete:"<b>Redigerad</b> och <b>Borttagen</b> Visa en lista på egenskapernas id",add:"(n. egenskaper) har lagts till","delete":"Borttagen (id)",update:"Redigerad(id)"},loading_table_data:"Building Data Table. Please wait ..."},relation:{table:{info:"\n                  <div>\n\t\t\t\t\tVälj relation för länkning till egenskap som ska redigeras.\n                  </div>\n                  <div>\n               \n                "}},form:{relations:{tooltips:{add_relation:"Skapa och länka ny relation",link_relation:"Foga relationen till denna egenskap",open_relation_tools:"Visa relationsverktyg",unlink_relation:"Ta bort relation"}},buttons:{save:"Spara",save_and_back:"Spara och gå tillbaka",cancel:"Ångra"}}},fr:{errors:{no_layers:"Une erreur s'est produite lors du chargement des layers dans l'édition.",some_layers:"Une erreur s'est produite lors du chargement de certaines layers dans l'édition."},search:"Recherche",editing_data:"Modifier les donnes",editing_attributes:"Modifier les attributs",relations:"Relations",edit_relation:"Modifier la relation",back_to_relations:"Retour aux relations",no_relations_found:"Il n'y a pas de relations",relation_data:"Données sur les relations",relation_already_added:"Relation déjà présente",list_of_relations_feature:"Lister les relations de la fonctionnalité",tooltip:{edit_layer:"Modifier le layer"},toolbox:{title:"Modifier"},tools:{copy:"Copier les fonctionnalités",addpart:"Ajouter une pièce à la géométrie",deletepart:"Supprimer la partie de la géométrie",merge:"Dissoudre les fonctionnalités",split:"Couper la fonctionnalité",add_feature:"Ajouter une fonctionnalité",delete_feature:"Supprimer la fonctionnalité",move_feature:"Déplacez la fonctionnalité",update_vertex:"Mettre à jour les sommets des fonctionnalités",update_feature:"Modifier les attributs des fonctionnalités",update_multi_features:"Modifier les attributs des fonctionnalités sélectionnées"},toolsoftool:{measure:"Show measure",snap:"Snap layer",snapall:"Snap to all layers"},table:{edit:"Modifier fonctionnalités",copy:"Créer une copie","delete":"Supprimer la fonctionnalité"},steps:{help:{select_elements:"Sélectionner les fonctionnalités",select_element:"Sélectionner une fonctionnalité",copy:"Créer une copie des fonctionnalités sélectionnées",merge:"Dissoudre les fonctionnalités",split:"Couper la fonctionnalité","new":"Créer une nouvelle fonctionnalité",edit_table:"Modifier les fonctionnalités de la table",draw_new_feature:"Dessiner une fonctionnalité sur la carte",action_confirm:"Confirmer l'action",double_click_delete:"Sélectionner la fonctionnalité sur la carte à supprimer",edit_feature_vertex:"Modifier ou ajouter un sommet à la fonctionnalité sélectionnée",move:"Déplacer la fonctionnalité sélectionnée",select_feature_to_relation:"Sélectionner la fonctionnalité que vous souhaitez mettre en relation",show_edit_feature_form:"Afficher le formulaire de la fonctionnalité permettant de modifier les attributs",pick_feature:"Sélectionner l'élément de la carte à modifier",insert_attributes_feature:"Insérer les attributs de la fonctionnalité"}},workflow:{steps:{select:"Cliquer sur la fonctionnalité à sélectionner",draw_part:"Dessiner la nouvelle partie",merge:"Sélectionner la fonction à introduire en fondu",selectPoint:"Cliquer sur la fonctionnalité pour la sélectionner",selectSHIFT:"Sélectionner des fonctionnalités en maintenant la touche SHIFT enfoncée",selectDrawBox:"Sélectionner les fonctionnalités en dessinant un rectangle par la création des deux points de la diagonale",selectDrawBoxAtLeast2Feature:"Sélectionner au moins 2 fonctionnalités en dessinant un rectangle par la création des deux points de la diagonale",selectPointSHIFT:"Sélectionner des caractéristiques en maintenant la touche SHIFT enfoncée (multi-sélection) ou en cliquant sur une seule caractéristique",selectMultiPointSHIFT:"Sélectionner des fonctionnalités en maintenant la touche SHIFT appuyée ou en cliquant sur la fonctionnalité individuelle",selectMultiPointSHIFTAtLeast2Feature:"Sélectionner au moins 2 fonctionnalités en maintenant la touche SHIFT appuyée ou en cliquant sur la fonctionnalité individuelle",copyCTRL:"Copier les fonctionnalités sélectionnées avec CTRL+C",selectStartVertex:"Sélectionner le sommet de départ des fonctionnalités choisies",selectToPaste:"Sélectionner le point où les fonctionnalités sélectionnées seront collées",draw_split_line:"Tracez une ligne pour couper la fonctionnalité sélectionnée"}},messages:{splitted:"Fonctionnalité(s) divisé(es)",nosplittedfeature:"La (les) fonctionnalité(s) n’a (n'ont) pas été divisé(es)",press_esc:"Appuyez sur ESC pour revenir",online:"Vous êtes à nouveau EN LIGNE. Vous pouvez enregistrer les modifications de façon permanente",offline:"Vous êtes HORS LIGNE. Toutes les modifications seront enregistrées temporairement en local",delete_feature:"Voulez-vous supprimer la fonctionnalité sélectionnée ?",delete_feature_relations:"La suppression d'une fonctionnalité avec des relations associées laissera ces relations orphelines. Il est recommandé de gérer ces relations avant de supprimer la fonctionnalité",unlink_relation:"Voulez-vous détacher la relation ?",commit_feature:"Voulez-vous enregistrer définitivement les changements ?",change_toolbox_relation:"Layer en relation. Il est obligatoire d'enregistrer les modifications en cours avant de passer à d'autres modifications.",saved:"Les données ont été enregistrées correctement",saved_local:"Les données ont été correctement sauvegardées localement",loading_data:"Chargement des données",saving:"Sauvegarde des données. Veuillez patienter ...",constraints:{enable_editing:"Augmenter le niveau de zoom pour permettre l'édition \nEchelle de déclenchement 1 :"},commit:{header:"La liste ci-dessous montre toutes les modifications qui seront enregistrées.",header_add:"<b>Ajouts</b> indique le nombre de fonctionnalités ajoutées",header_update_delete:"<b>Modifié</b> e <b>Supprimé</b> liste les ids",add:"Ajouté (n. fonctionnalités)","delete":"Supprimé(id)",update:"Modifié(id)"},loading_table_data:"Building Data Table. Please wait ..."},relation:{table:{info:"<div>Sélectionner les relations pour les associer à l'élément en cours d'édition.</div>"}},form:{relations:{tooltips:{add_relation:"Créer et ajouter une nouvelle relation",link_relation:"Associer une relation existante à cette fonctionnalité",open_relation_tools:"Outils de relation ouverte",unlink_relation:"Annuler la relation"}},buttons:{save:"Sauvegarder",save_and_back:"Sauvegarder et retourner au parent",cancel:"Supprimer"}}}}},{}],10:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./i18n"),o=i(r);n["default"]={i18n:o["default"]}},{"./i18n":9}],11:[function(e,t,n){t.exports='<div style="margin-bottom: 5px;">\n  <div class="box-header with-border" style="width:100%; display: flex; justify-content: flex-end; margin-button:3px; background-color: #ffffff; ">\n    <div id="search-box" style="margin-right: auto;">\n      <input v-if="relationsLength" type="text" class="form-control" id="filterRelation" :placeholder="placeholdersearch">\n    </div>\n    <div>\n      <span class="g3w-icon add-link" align="center"\n            v-if="capabilities.relation.find(capability => capability === \'change_attr_feature\') !== undefined"\n            data-toggle="tooltip" data-placement="bottom"\n            v-t-tooltip:plugin="tooltips.link_relation" @click="enableAddLinkButtons ? linkRelation() : null"\n            :class="[{\'disabled\': !enableAddLinkButtons}, g3wtemplate.font[\'link\']]">\n      </span>\n      <span data-toggle="tooltip" data-placement="bottom"\n            v-if="capabilities.relation.find(capability => capability === \'add_feature\') !== undefined"\n            v-t-tooltip:plugin="tooltips.add_relation"\n            @click="enableAddLinkButtons ? addRelationAndLink() : null"\n            class="g3w-icon add-link pull-right"\n            :class="[{\'disabled\' : !enableAddLinkButtons}, g3wtemplate.font[\'plus\']]">\n          </span>\n    </div>\n  </div>\n  <div class="box-body" style="padding:0;">\n    <template v-if="relationsLength">\n      <table class="table g3wform-relation-table table-striped" style="width:100%">\n        <thead>\n          <tr>\n            <th v-t="\'tools\'"></th>\n            <th></th>\n            <th v-for="attribute in relationAttributesSubset(relations[0])">\n              {{attribute.label}}\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n            <tr v-for="(relation, index) in relations" class="featurebox-header">\n              <td>\n                <div style="display: flex">\n                  <div class="skin-tooltip-right editbtn enabled" @click="startTool(relationtool, index)"\n                       v-for="relationtool in getRelationTools()" :key="relationtool.state.name"\n                       data-toggle="tooltip"\n                       data-placement="right" v-t-tooltip:plugin="relationtool.state.name">\n                    <img height="20px" width="20px" :src="resourcesurl + \'images/\'+ relationtool.state.icon"/>\n                  </div>\n                </div>\n              </td>\n              <td class="action-cell">\n                <div v-if="!fieldrequired && capabilities.relation.find(capability => capability === \'change_attr_feature\') !== undefined"\n                     class="g3w-mini-relation-icon skin-tooltip-right g3w-icon" :class="g3wtemplate.font[\'unlink\']"\n                     @click="unlinkRelation(index)"\n                     data-toggle="tooltip" data-placement="right" v-t-tooltip:plugin="tooltips.unlink_relation"\n                     aria-hidden="true">\n                </div>\n              </td>\n              <td v-show="!showAllFieds(index)" v-for="attribute in relationAttributesSubset(relation)">\n                <template v-if="isMedia(attribute.value) && getValue(attribute.value)">\n                  <div class="preview">\n                    <a :href="getValue(attribute.value)" target="_blank">\n                      <div class="previewtype" :class="getMediaType(attribute.value.mime_type).type">\n                        <i class="fa-2x" :class="g3wtemplate.font[getMediaType(attribute.value.mime_type).type]"></i>\n                      </div>\n                    </a>\n                    <div class="filename">{{ getFileName(attribute.value) }}</div>\n                  </div>\n                </template>\n                <a v-else-if="isLink(attribute.value)" :href="getValue(attribute.value)" target="_blank">{{ getValue(attribute.value) }}</a>\n                <span v-else>{{ getValue(attribute.value) }}</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </template>\n    </div>\n</div>\n'},{}],12:[function(e,t,n){function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(l){return void n(l)}return a.done?void e(s):Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=g3wsdk.core.i18n.tPlugin,a=g3wsdk.core.utils.toRawType,s=e("../../../../services/relationservice"),l=g3wsdk.gui.vue.Mixins,u=l.fieldsMixin,c=l.resizeMixin,d=l.mediaMixin,f=Vue.compile(e("./relation.html")),p=void 0,h=Vue.extend(r({mixins:[d,u,c],name:"g3w-relation"},f,{data:function(){return{showallfieldsindex:null,tooltips:{add_relation:"editing.form.relations.tooltips.add_relation",link_relation:"editing.form.relations.tooltips.link_relation",open_relation_tool:"editing.form.relations.tooltips.open_relation_tools",unlink_relation:"editing.form.relations.tooltips.unlink_relation"},value:null,placeholdersearch:o("editing.search")+" ..."}},methods:{resize:function(){p&&p.columns.adjust()},unlinkRelation:function(e){this._service.unlinkRelation(e)},addRelationAndLink:function(){this._service.addRelation()},startTool:function(e,t){this._service.startTool(e,t).then(function(){})["catch"](function(e){})},linkRelation:function(){this._service.linkRelation()},updateExternalKeyValueRelations:function(e){this._service.updateExternalKeyValueRelations(e)},isRequired:function(){return this._service.isRequired()},relationAttributesSubset:function(e){var t=[],n=this.relationsFields(e);return n.forEach(function(e){if(!Array.isArray(e.value)){var n=e.label,i=e.value;t.push({label:n,value:i})}}),t},relationsAttributesSubsetLength:function(e){return this.relationAttributesSubset(e).length},relationsFields:function(e){return this._service.relationFields(e)},showAllRelationFields:function(e){this.showallfieldsindex=this.showallfieldsindex==e?null:e},showAllFieds:function(e){return this.showallfieldsindex==e},getRelationTools:function(){return this._service.getRelationTools()},isLink:function(e){return e=this.getValue(e),["photo","link"].indexOf(this.getFieldType(e))!==-1},getValue:function(e){return e&&"Object"===a(e)?e=e.value:"string"==typeof e&&0===e.indexOf("_new_")&&(e=null),this.value=e,e},getFileName:function(e){return this.getValue(e).split("/").pop()},_setDataTableSearch:function(){$("#filterRelation").on("keyup",function(){p.search($(this).val()).draw()})},_createDataTable:function(){p=$(".g3wform-relation-table").DataTable({scrollX:!0,order:[2,"asc"],destroy:!0,scrollResize:!0,scrollCollapse:!0,pageLength:10,columnDefs:[{orderable:!1,targets:[0,1]}]}),$(".dataTables_filter, .dataTables_length").hide(),this._setDataTableSearch()},destroyTable:function(){p&&(p=p.destroy(),p=null,$("#filterRelation").off())}},computed:{relationsLength:function(){return this.relations.length},fieldrequired:function(){return this._service.isRequired()},enableAddLinkButtons:function(){return!this.relations.length||this.relations.length&&"ONE"!==this.relation.type}},watch:{relations:function(e){0===e.length&&this.destroyTable()}},beforeCreate:function(){this.delayType="debounce"},created:function(){this.loadEventuallyRelationValuesForInputs=!1,this._service=new s(this.layerId,{relation:this.relation,relations:this.relations}),this.capabilities=this._service.getEditingCapabilities(),this.formeventbus.$on("changeinput",this.updateExternalKeyValueRelations)},activated:function(){function t(){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.loadEventuallyRelationValuesForInputs||(t=e("../../../../services/editingservice"),t.runEventHandler({type:"show-relation-editing-tab",id:t._getRelationId({layerId:this.layerId,relation:this.relation})}),this.loadEventuallyRelationValuesForInputs=!0),!p&&this.relationsLength&&this._createDataTable();case 2:case"end":return n.stop()}},r,this)}));return t}(),deactivated:function(){this.destroyTable()},mounted:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:$('.g3w-icon[data-toggle="dropdown"]').tooltip(),$('[data-toggle="tooltip"]').tooltip();case 4:case"end":return e.stop()}},n,this)}));return e}(),beforeDestroy:function(){this.loadEventuallyRelationValuesForInputs=!0}}));t.exports=h},{"../../../../services/editingservice":17,"../../../../services/relationservice":18,"./relation.html":11}],13:[function(e,t,n){function i(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,n);var i=e("../services/editingservice"),r=n.context_inputs||null,a=n.layer,s=a.getId();if(r){var c=r.inputs.features[r.inputs.features.length-1];l.setLoadingContent(!0);var d=c.isNew()?Promise.resolve():i.getLayersDependencyFeatures(s,{feature:c,filterType:"fid"});d.then(function(){r.formEventBus=t.getService().getEventBus();var e=new u(r),n=e.buildRelationComponents(),o=i.getFormComponentsById(s);o.length&&t.addFormComponents(o),n.length&&t.addFormComponents(n),Vue.nextTick(function(){return l.setLoadingContent(!1)})})}}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.gui.vue.FormComponent,l=g3wsdk.gui.GUI,u=e("./editingformservice");a(i,s),t.exports=i},{"../services/editingservice":17,"./editingformservice":14}],14:[function(e,t,n){var i=g3wsdk.gui.GUI,r=g3wsdk.core.i18n.tPlugin,o=e("./components/relation/vue/relation"),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e("../services/editingservice");this.state={relations:[]};var a=t.inputs||{},s=a.layer,l=a.features;this._formEventBus=t.formEventBus||null;var u=s.getId(),c=l[l.length-1],d=s.getRelations().getArray().filter(function(e){return"ONE"!==e.getType()}).filter(function(e){return e.getFather()===u});d=n.getRelationsInEditing({layerId:u,relations:d,feature:c})||[],this.hasRelations=function(){return!!d.length},this.buildRelationComponents=function(){var e=this,t=[];return d.forEach(function(n){var a=Vue.extend({mixins:[o],name:"relation_"+Date.now(),methods:{getService:function(){return e._relationsService}},data:function(){return{layerId:u,relation:n.relation,relations:n.relations,resourcesurl:i.getResourcesUrl(),formeventbus:e._formEventBus}}});t.push({title:"plugins.editing.edit_relation",name:n.relation.name,id:r("editing.edit_relation")+" "+n.relation.name,component:a})}),t}};t.exports=a},{"../services/editingservice":17,"./components/relation/vue/relation":12}],15:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./config"),o=i(r),a=g3wsdk.core.utils,s=a.base,l=a.inherit,u=g3wsdk.core.plugin.Plugin,c=g3wsdk.gui.GUI,d=e("./services/editingservice"),f=e("./panel"),p=g3wsdk.core.i18n.addI18nPlugin,h=function(){s(this),this.addFontClasses([{name:"measure",className:"fas fa-ruler-combined"},{name:"dot-circle",className:"far fa-dot-circle"}]);var e={position:0,title:"EDITING"},t={some_layers:!1};this.name="editing",this.panel,this.init=function(){var e=this;p({name:this.name,config:o["default"].i18n}),this.setService(d),this.config=this.getConfig(),this.service.loadPlugin()&&(this.setHookLoading({loading:!0}),this.service.once("ready",function(){e.registerPlugin(e.config.gid)&&(c.isready?e.setupGui():c.on("ready",e.setupGui.bind(e))),e.setHookLoading({loading:!1});var t=e.service.getApi();e.setApi(t),e.setReady(!0)}),this.service.init(this.config))},this.setupGui=function(){return this.config.visible!==!1&&(this.config.name=this.config.name||"plugins.editing.editing_data",this.addToolGroup(e),void this.addTools({action:this.showEditingPanel,offline:!1,icon:"pencil"},e))},this.showEditingPanel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.service.getLayers().length>0?(this.panel=new f(e),c.showPanel(this.panel),!t.some_layers&&this.service.getLayersInError()&&(c.showUserMessage({type:"warning",message:"plugins.editing.errors.some_layers",closable:!0}),t.some_layers=!0)):c.showUserMessage({type:"alert",message:"plugins.editing.errors.no_layers"}),this.panel},this.hideEditingPanel=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.panel&&c.closePanel(),this.panel=null},this.load=function(){this.init()},this.unload=function(){this.panel=null,this.config.visible&&this.removeTools(),this.service.clear()}};l(h,u),function(e){e.init()}(new h)},{"./config":10,"./panel":16,"./services/editingservice":17}],16:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id="editing-panel",e.title=e.title||"plugins.editing.editing_data",e.name="Editing Layer",e.toolboxes=e.toolboxes||null,e.showcommitbar=void 0===e.showcommitbar||e.showcommitbar,o(this,e)}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=e("./vue/editing");a(i,s),t.exports=i},{"./vue/editing":37}],17:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(l){return void n(l)}return a.done?void e(s):Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){var e=this;m(this),this._sessions={},this.constraints={},this._vectorUrl,this._projectType,this._unByKeys=[],this.addActionKeys=[],this._events={layer:{start_editing:{before:{},after:{}}}},this.saveConfig={mode:"default",modal:!1,messages:null,cb:{done:null,error:null}},this.applicationEditingConstraints={toolboxes:{},showToolboxesExcluded:!0},this.state={open:!1,toolboxes:[],toolboxselected:null,toolboxidactivetool:null,message:null,relations:[]},this._layers_in_error=!1,this._mapService=A.getComponent("map").getService(),this.mapControlToggleEventHandler=function(t){if(t.target.isToggled()&&t.target.isClickMap()){var n=e.state.toolboxselected;n&&n.getActiveTool()&&n.stopActiveTool()}},this._mapService.on(P,this.mapControlToggleEventHandler),this._formComponents={},this._subscribers={},this.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._vectorUrl=t.vectorurl,
this._projectType=t.project_type,this._layersstore=new I({id:"editing",queryable:!1}),S.addLayersStore(this._layersstore),this.config=t,this._editableLayers=a({},Symbol["for"]("layersarray"),[]),this._toolboxes=[],this.state.toolboxes=[];var n=this._getEditableLayersFromCatalog(),i=[],r=!0,o=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;i.push(c.getLayerForEditing({vectorurl:this._vectorUrl,project_type:this._projectType}))}}catch(d){o=!0,s=d}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw s}}Promise.allSettled(i).then(function(t){t.forEach(function(t){var n=t.status,i=t.value;if("fulfilled"===n){var r=i,o=r.getId();e._editableLayers[o]=r,e._editableLayers[Symbol["for"]("layersarray")].push(r),e._attachLayerWidgetsEvent(e._editableLayers[o]),e._sessions[o]=null}else e._layers_in_error=!0}),Promise.resolve().then(function(){return e._ready()})})},this._ready=function(){this.setLayersColor(),this._layersstore.addLayers(this.getLayers()),this._buildToolBoxes(),this._createToolBoxDependencies(),this.setApi({api:new d["default"]({service:this})}),this.registerResultEditingAction(),this.emit("ready")}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=e("../api"),d=i(c),f=g3wsdk.core,p=f.ApplicationState,h=f.ApplicationService,v=g3wsdk.constant.G3W_FID,g=g3wsdk.core.utils,m=g.base,y=g.inherit,b=g3wsdk.core.workflow.WorkflowsStack,w=g3wsdk.core.plugin.PluginService,k=g3wsdk.core.editing.SessionsRegistry,x=g3wsdk.core.catalog.CatalogLayersStoresRegistry,S=g3wsdk.core.map.MapLayersStoreRegistry,C=g3wsdk.core.layer,T=C.Layer,I=C.LayersStore,E=g3wsdk.core.layer.features.Feature,A=g3wsdk.gui.GUI,F=g3wsdk.core.errors.parsers.Server,O=g3wsdk.core.i18n.tPlugin,L=e("../toolboxes/toolboxesfactory"),M=e("../workflows/commitfeaturesworkflow"),P="mapcontrol:toggled",j={CHANGES:"EDITING_CHANGES"};y(s,w);var R=s.prototype;R.getAppState=function(){return p},R.getFormComponentsById=function(e){return this._formComponents[e]||[]},R.getFormComponents=function(){return this._formComponents},R.addFormComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.components,i=void 0===n?[]:n;this._formComponents[t]||(this._formComponents[t]=[]);for(var r=0;r<i.length;r++){var o=i[r];this._formComponents[t].push(o)}},R.getSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=this.getToolBoxById(t);return n.getSession()},R.getFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=this.getToolBoxById(t),i=n.getActiveTool();return i.getFeature()},R.subscribe=function(e,t){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e].push(t)},R.unsubscribe=function(e,t){this._subscribers[e]=this._subscribers[e].filter(function(e){return e!==t})},R.registerResultEditingAction=function(){var e=this,t=A.getComponent("queryresults").getService();this.addActionKeys.push(t.onafter("addActionsForLayers",function(t,n){var i=!e.state.open;n.forEach(function(n){var r=n.id;e.getLayerById(r)&&(t[r]=t[r]||[],t[r]=t[r]||[],t[r].push({id:"editing","class":A.getFontClass("pencil"),hint:"Editing",condition:function(){return i},cbk:function(t,n){var i=t.id,r=n.attributes[v];n.geometry&&e._mapService.zoomToGeometry(n.geometry),setTimeout(function(){e.editResultLayerFeature({layerId:i,featureId:r})})}}))})})),this.addActionKeys.push(t.onafter("editFeature",function(t){var n=t.layerId,i=t.featureId;e.editResultLayerFeature({layerId:n,featureId:i})}))},R.unregisterResultEditingAction=function(){var e=A.getComponent("queryresults").getService();this.addActionKeys.forEach(function(t){return e.un("addActionsForLayers",t)})},R.editResultLayerFeature=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.layerId,r=n.featureId;this.getPlugin().showEditingPanel();var o=this.getToolBoxById(i);o.start().then(function(n){var i=n.features,a=i.find(function(e){return e.getId()==r});if(a){o.setSelected(!0);var s=o.getSession();t.setSelectedToolbox(o);var l=e("../workflows/editnopickmapfeatureattributesworkflow"),u={inputs:{layer:o.getLayer(),features:[a]},context:{session:s}},c=new l;c.start(u).then(function(){return s.save().then(function(){return t.saveChange()})}).fail(function(){return s.rollback()})}}).fail(function(e){})},R.disableMapControlsConflict=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._mapService.disableClickMapControls(e)},R.setSelectedToolbox=function(e){this.state.toolboxselected=e},R.getToolboxSelected=function(){return this.state.toolboxselected},R.addNewFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.geometry,i=t.properties,r=new E;n&&r.setGeometry(new ol.geom[n.type](n.coordinates)),r.setProperties(i),r.setTemporaryId();var o=this.getToolBoxById(e),a=o.getLayer().getEditingLayer(),s=o.getSession();return a.getSource().addFeature(r),s.pushAdd(e,r),r},R.getLayersInError=function(){return this._layers_in_error},R.getMapService=function(){return this._mapService},R._initOffLineItems=function(){for(var e in j)!this.getOfflineItem(j[e])&&h.setOfflineItem(j[e])},R._handleOfflineChangesBeforeSave=function(e){var t=h.getOfflineItem(j.CHANGES),n=function(e){var t=e.layerId,n=e.current,i=e.previous;n[t].add=[].concat(o(i[t].add),o(n[t].add)),n[t]["delete"]=[].concat(o(i[t]["delete"]),o(n[t]["delete"])),i[t].update.forEach(function(e){var i=e.id,r=n[t].update.find(function(e){return e.id===i});!r&&n[t].update.unshift(e)});var r=i[t].lockids||[];r.forEach(function(e){var i=e.featureid,r=n[t].lockids.find(function(e){return e.featureid===i});!r&&n[t].update.unshift(e)})};for(var i in t){var r=e[i]?e:e[Object.keys(e)[0]].relations[i]?e[Object.keys(e)[0]].relations:null;if(r)n({layerId:i,current:r,previous:t});else{var a=Object.keys(e)[0],s=Object.keys(t[i].relations);s.length?s.indexOf(a)!==-1&&(n({layerId:a,current:e,previous:t[i].relations}),t[i].relations[a]=e[a],e=t):e[i]=t[i]}}return e},R.saveOfflineItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.data;return t===j.CHANGES&&(n=this._handleOfflineChangesBeforeSave(n)),h.setOfflineItem(t,n)},R.setOfflineItem=function(e,t){h.setOfflineItem(e,t)},R.getOfflineItem=function(e){return h.getOfflineItem(e)},R.checkOfflineChanges=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.modal,i=void 0===n||n,r=t.unlock,o=void 0!==r&&r;return new Promise(function(t,n){var r=h.getOfflineItem(j.CHANGES);if(r){var a=[],s=[];for(var l in r){s.push(l);var u=e.getToolBoxById(l),c=r[l];a.push(e.commit({toolbox:u,commitItems:c,modal:i}))}$.when.apply(e,a).then(function(){return t()}).fail(function(e){return n(e)}).always(function(){o&&s.forEach(function(t){e.getLayerById(t).unlock()}),e.setOfflineItem(j.CHANGES)})}})},R.registerOnLineOffLineEvent=function(){var e=this;p.online&&this.checkOfflineChanges({unlock:!0});var t=h.onafter("offline",function(){}),n=h.onafter("online",function(){e.checkOfflineChanges({modal:!1}).then(function(){})["catch"](function(e){return A.notify.error(e)})});this._unByKeys.push({owner:h,setter:"offline",key:t}),this._unByKeys.push({owner:h,setter:"online",key:n})},R.unregisterOnLineOffLineEvent=function(){this.unregisterSettersEvents(["online","offline"])},R.unregisterSettersEvents=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._unByKeys.forEach(function(e){var t=e.owner,n=e.setter,i=e.key;t.un(n,i)})},R.fireEvent=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i){t._subscribers[e]&&t._subscribers[e].forEach(function(e){return e(n)}),i()})},R.activeQueryInfo=function(){this._mapService.activeMapControl("query")},R.setLayersColor=function(){var e=["#C43C39","#d95f02","#91522D","#7F9801","#0B2637","#8D5A99","#85B66F","#8D2307","#2B83BA","#7D8B8F","#E8718D","#1E434C","#9B4F07","#1b9e77","#FF9E17","#7570b3","#204B24","#9795A3","#C94F44","#7B9F35","#373276","#882D61","#AA9039","#F38F3A","#712333","#3B3A73","#9E5165","#A51E22","#261326","#e4572e","#29335c","#f3a712","#669bbc","#eb6841","#4f372d","#cc2a36","#00a0b0","#00b159","#f37735","#ffc425"],t=!0,n=!1,i=void 0;try{for(var r,o=this.getLayers()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.getColor()?null:a.setColor(e.splice(0,1)[0])}}catch(s){n=!0,i=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw i}}},R._layerChildrenRelationInEditing=function(e){var t=this,n=e.getChildren(),i=n.filter(function(e){return t.getLayerById(e)});return i},R.undoRelations=function(e){var t=this;Object.entries(e).forEach(function(e){var n=u(e,2),i=n[0],r=n[1],o=t.getToolBoxById(i),a=o.getSession();a.undo(r)})},R.rollbackRelations=function(e){var t=this;Object.entries(e).forEach(function(e){var n=u(e,2),i=n[0],r=n[1],o=t.getToolBoxById(i),a=o.getSession();a.rollback(r)})},R.redoRelations=function(e){var t=this;Object.entries(e).forEach(function(e){var n=u(e,2),i=n[0],r=n[1],o=t.getToolBoxById(i),a=o.getSession();a.redo(r)})},R.getEditingLayer=function(e){return this._editableLayers[e].getEditingLayer()},R._buildToolBoxes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!0,n=!1,i=void 0;try{for(var r,o=this.getLayers()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=L.build(a,e);this.addToolBox(s)}}catch(l){n=!0,i=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw i}}},R.addToolBox=function(e){this._toolboxes.push(e),this._sessions[e.getId()]=e.getSession(),this.state.toolboxes.push(e.state)},R.setOpenEditingPanel=function(e){this.state.open=e,this._getEditableLayersFromCatalog().forEach(function(t){return t.setInEditing(e)})},R.addEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.id,i=e.fnc;this._events[t]||(this._events[t]={}),this._events[t][n]||(this._events[t][n]=[]),this._events[t][n].push(i)},R.addEvents=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.types,i=void 0===n?[]:n,r=t.id,o=t.fnc;i.forEach(function(t){return e.addEvent({type:t,id:r,fnc:o})})},R.runEventHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.id;this._events[t]&&this._events[t][n]&&this._events[t][n].forEach(function(e){return e()})},R.setSaveConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mode,n=void 0===t?"default":t,i=e.cb,r=void 0===i?{}:i,o=e.modal,a=void 0!==o&&o,s=e.messages;this.saveConfig.mode=n,this.saveConfig.modal=a,this.saveConfig.messages=s,this.saveConfig.cb=l({},this.saveConfig.cb,r)},R.getSaveConfig=function(){return this.saveConfig},R.resetDefault=function(){this.saveConfig={mode:"default",modal:!1,messages:null,cb:{done:null,error:null}},this.disableMapControlsConflict(!1)},R._attachLayerWidgetsEvent=function(e){for(var t=this,n=e.getEditingFields(),i=function(i){var r=n[i];if(r.input&&"select_autocomplete"===r.input.type&&!r.input.options.filter_expression){var o=r.input.options,a=o.key,s=(o.values,o.value),l=o.usecompleter,u=o.layer_id,c=o.loading,d=t;l||t.addEvents({types:["start-editing","show-relation-editing-tab"],id:e.getId(),fnc:function(){c.state="loading",r.input.options.values=[];var e=x.getLayerById(u);e?e?e.getDataTable({ordering:a}).then(function(e){if(e&&e.features){var t=e.features;d.fireEvent("autocomplete",{field:r,features:t});for(var n=0;n<t.length;n++)r.input.options.values.push({key:t[n].properties[a],value:t[n].properties[s]});c.state="ready"}}).fail(function(e){c.state="error"}):c.state="error":(d.fireEvent("autocomplete",{field:r,features:[]}),c.state="ready")}})}},r=0;r<n.length;r++)i(r)},R._createToolBoxDependencies=function(){var e=this;this._toolboxes.forEach(function(t){var n=t.getLayer();if(t.setFather(n.isFather()),t.state.editing.dependencies=e._getToolBoxEditingDependencies(n),n.isFather()&&t.hasDependencies()){var i=n.getRelations().getRelations();for(var r in i){var o=i[r];t.addRelation(o)}}})},R.isFieldRequired=function(e,t){return this.getLayerById(e).isFieldRequired(t)},R._getToolBoxEditingDependencies=function(e){var t=this,n=[].concat(o(e.getChildren()),o(e.getFathers()));return n.filter(function(e){return!!t.getLayerById(e)})},R._hasEditingDependencies=function(e){var t=this._getToolBoxEditingDependencies(e);return!!t.length},R.handleToolboxDependencies=function(e){var t=this,n=void 0;e.isFather()&&this.getLayersDependencyFeatures(e.getId()),e.getDependencies().forEach(function(e){n=t.getToolBoxById(e),n.setEditing(!1)})},R._getEditableLayersFromCatalog=function(){var e=x.getLayers({EDITABLE:!0});return e},R.getLayers=function(){return this._editableLayers[Symbol["for"]("layersarray")]},R.getCurrentWorkflow=function(){return b.getCurrent()},R.getCurrentWorkflowData=function(){var e=b.getCurrent();return{session:e.getSession(),inputs:e.getInputs(),context:e.getContext(),feature:e.getCurrentFeature(),layer:e.getLayer()}},R.getRelationsAttributesByFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=e.feature,r=this.getToolBoxById(t).getLayer(),o=this.getRelationsByFeature({layerId:t,relation:n,feature:i});return o.map(function(e){return{fields:r.getFieldsWithValues(e,{relation:!0}),id:e.getId()}})},R._getRelationLayerId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation;return n.getChild()===t?n.getFather():n.getChild()},R.getRelationsByFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=e.feature,r=(e.layerType,this._getRelationFieldsFromRelation({layerId:t,relation:n})),o=r.ownField,a=r.relationField,s=i.get(a),l=this._getFeaturesByLayerId(t);return l.filter(function(e){return e.get(o)==s})},R.registerLeavePage=function(e){h.registerLeavePage({bool:e})},R.loadPlugin=function(){return this._load=!!this._getEditableLayersFromCatalog().length},R.getLayerById=function(e){return this._editableLayers[e]},R.beforeEditingStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;this._checkLayerWidgets(t)},R.afterEditingStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.layer},R.getToolBoxById=function(e){return this._toolboxes.find(function(t){return t.getId()===e})},R.setApplicationEditingConstraints=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showToolboxesExcluded:!0,toolboxes:{}};this.applicationEditingConstraints=l({},this.applicationEditingConstraints,t);var n=t.toolboxes,i=t.showToolboxesExcluded,r=Object.keys(n);!i&&this.state.toolboxes.forEach(function(e){return e.show=r.indexOf(e.id)!==-1}),r.forEach(function(t){var i=e.getToolBoxById(t);i.setEditingConstraints(n[t])})},R.getApplicationEditingConstraints=function(){return this.applicationEditingConstraints},R.getApplicationEditingConstraintById=function(e){return this.applicationEditingConstraints.toolboxes[e]},R.getToolBoxes=function(){return this._toolboxes},R.getEditableLayers=function(){return this._editableLayers},R._cancelOrSave=function(){return resolve()},R.stop=function(){var e=this;return new Promise(function(t,n){var i=[];e._toolboxes.forEach(function(t){t.getSession().getHistory().state.commit&&i.push(e.commit(t,!0))}),$.when.apply(e,i).always(function(){e._toolboxes.forEach(function(e){return e.stop()}),e.clearState(),e._mapService.refreshMap(),t()})})},R.clear=function(){S.removeLayersStore(this._layersstore),k.clear(),this._mapService.off(P,this.mapControlToggleEventHandler),this.unregisterResultEditingAction()},R.clearState=function(){this.state.toolboxselected=null,this.state.toolboxidactivetool=null,this.state.message=null},R.getRelationsInEditing=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layerId,i=t.relations,r=void 0===i?[]:i,o=t.feature,a=[],s=void 0;return r.forEach(function(t){var i=e._getRelationLayerId({layerId:n,relation:t});e.getLayerById(i)&&(s={relation:t.getState(),relations:e.getRelationsAttributesByFeature({layerId:i,relation:t,feature:o})},s.validate={valid:!0},a.push(s))}),a},R._filterRelationsInEditing=function(e){var t=this,n=e.layerId,i=e.relations,r=void 0===i?[]:i;return r.filter(function(e){var i=t._getRelationId({layerId:n,relation:e});return t.getLayerById(i)})},R.stopSessionChildren=function(e){var t=this,n=this.getLayerById(e),i=this._filterRelationsInEditing({relations:n.getRelations()?n.getRelations().getArray():[],layerId:e});i.forEach(function(n){var i=t._getRelationId({layerId:e,relation:n});!t.getToolBoxById(i).inEditing()&&t._sessions[i].stop()})},R.fatherInEditing=function(e){var t=this,n=!1,i=void 0,r=this.getLayerById(e).getFathers();return r.forEach(function(e){if(i=t.getToolBoxById(e),i&&i.inEditing())return n=!0,!1}),n},R._getRelationFieldsFromRelation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=n.getChild?n.getChild():n.child,r=i!==t,o=n.getFatherField?n.getFatherField():n.fatherField,a=n.getChildField?n.getChildField():n.childField,s=r?o:a,l=r?a:o;return{ownField:s,relationField:l}},R.createEditingDataOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.feature,i=t.relation,r=t.field,o=t.layerId,a=t.operator,s=void 0;switch(e){case"all":break;case"bbox":s={bbox:this._mapService.getMapBBOX()};break;case"field":s={field:{field:r,type:"editing"}};break;case"fid":"not"!==a&&(s={fid:{fid:n.getId(),layer:{id:o},type:"editing",relation:i.state}})}return{registerEvents:!0,editing:!0,filter:s}},R._getFeaturesByLayerId=function(e){return this.getLayerById(e).readEditingFeatures()},R.getLayersDependencyFeaturesFromSource=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layerId,i=t.relation,r=t.feature,o=t.operator,a=void 0===o?"eq":o;return new Promise(function(t){var o=e._getFeaturesByLayerId(n),s=e._getRelationFieldsFromRelation({layerId:n,relation:i}),l=s.ownField,u=s.relationField,c=r.get(u),d="eq"===a&&o.find(function(e){var t=e.get(l);return t==c});t(d)})},R._getRelationId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=n.getFather?n.getFather():n.father,r=n.getChild?n.getChild():n.child;return i===t?r:i},R.getLayersDependencyFeatures=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],r=this.getLayerById(e),o=n.relations?n.relations:r.getChildren().length&&r.getRelations()?this._filterRelationsInEditing({relations:r.getRelations().getArray(),layerId:e}):[],a=p.online;return o.forEach(function(r){var o=t._getRelationId({layerId:e,relation:r}),s=new Promise(function(i){var s=n.filterType||"fid";n.relation=r,n.layerId=e;var l=t.createEditingDataOptions(s,n),u=t._sessions[o],c=t.getToolBoxById(o);a&&u?(c.startLoading(),u.isStarted()?t.getLayersDependencyFeaturesFromSource({layerId:o,relation:r,feature:n.feature,operator:n.operator}).then(function(e){e?(i(o),c.stopLoading()):u.getFeatures(l).always(function(e){e.always(function(){c.stopLoading(),i(o)})})}):u.start(l).always(function(e){e.always(function(){c.stopLoading(),i(o)})})):t.getLayersDependencyFeaturesFromSource({layerId:o,relation:r,feature:n.feature,operator:n.operator}).then(function(){return i(o)})});i.push(s)}),Promise.all(i)},R.commitDirtyToolBoxes=function(e){var t=this;return new Promise(function(n){var i=t.getToolBoxById(e),r=t.getLayerById(e).getChildren();i.isDirty()&&i.hasDependencies()?t.commit(i).fail(function(){i.revert().then(function(){i.getDependencies().forEach(function(e){r.indexOf(e)!==-1&&t.getToolBoxById(e).revert()})})}).always(function(){return n(i)}):n(i)})},R._createCommitMessage=function(e){function t(e,t,n){var i={};i[""+O("editing.messages.commit.add")]=e.length,i[""+O("editing.messages.commit.update")]="["+t.map(function(e){return e.id}).join(",")+"]",i[""+O("editing.messages.commit.delete")]="["+n.join(",")+"]";var r="<h4>"+O("editing.messages.commit.header")+"</h4>";return r+="<h5>"+O("editing.messages.commit.header_add")+"</h5>",r+="<h5>"+O("editing.messages.commit.header_update_delete")+"</h5>",r+="<ul style='border-bottom-color: #f4f4f4;'>",Object.entries(i).forEach(function(e){var t=u(e,2),n=t[0],i=t[1];r+="<li>"+n+" : "+i+" </li>"}),r+="</ul>"}var n="";return n+=t(e.add,e.update,e["delete"]),_.isEmpty(e.relations)||(n+="<div style='height:1px; background:#f4f4f4;border-bottom:1px solid #f4f4f4;'></div>",n+="<div style='margin-left: 40%'><h4>"+O("editing.relations")+"</h4></div>",Object.entries(e.relations).forEach(function(e){var i=u(e,2),r=i[0],o=i[1];n+="<div><span style='font-weight: bold'>"+r+"</span></div>",n+=t(o.add,o.update,o["delete"])})),n},R.showCommitModalWindow=function(e){var t=this,n=e.layer,i=e.commitItems,r=e.close,o=e.commitPromise,a={success:{message:"plugins.editing.messages.saved",autoclose:!0},error:{}};return new Promise(function(e,s){var l=new M({type:"commit"});l.start({inputs:{layer:n,message:t._createCommitMessage(i),close:r}}).then(function(){var t=A.dialog.dialog({message:'<h4 class="text-center"><i style="margin-right: 5px;" class='+A.getFontClass("spinner")+"></i>"+O("editing.messages.saving")+"</h4>",closeButton:!1});e(a),o.always(function(){return t.modal("hide")})}).fail(function(e){return s(e)}).always(function(){return l.stop()})})},R.saveChange=r(regeneratorRuntime.mark(function D(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.saveConfig.mode,e.next="autosave"===e.t0?3:4;break;case 3:return e.abrupt("return",this.commit({modal:!1}));case 4:case"end":return e.stop()}},D,this)})),R.commit=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.toolbox,i=t.commitItems,r=t.modal,o=void 0===r||r,s=t.close,l=void 0!==s&&s,u=$.Deferred(),c=u.promise(),d=this.saveConfig,f=d.cb,h=void 0===f?{}:f,v=d.messages,g=void 0===v?{success:{},error:{}}:v;n=n||this.state.toolboxselected;var m=n.getSession(),y=n.getLayer(),_=y.getType(),b=i;i=i||m.getCommitItems();var w=o?this.showCommitModalWindow({layer:y,commitItems:i,close:l,commitPromise:c}):Promise.resolve(g);return w.then(function(t){p.online?m.commit({items:b||i}).then(function(i,r){if(p.online){if(r.result){var o=t.success,a=o.autoclose,s=void 0===a||a,l=o.message,c=void 0===l?"plugins.editing.messages.saved":l;t&&t.success&&A.showUserMessage({type:"success",message:c,duration:3e3,autoclose:s}),_===T.LayerTypes.VECTOR&&e._mapService.refreshMap({force:!0}),h.done&&h.done instanceof Function&&h.done(n)}else{var d=new F({error:r.errors}),f=d.parse({type:"String"}),v=t.error,g=v.autoclose,m=void 0!==g&&g,y=v.message;A.showUserMessage({type:"alert",message:y||f,textMessage:!y,autoclose:m}),h.error&&h.error instanceof Function&&h.error(n,y||f)}u.resolve(n)}}).fail(function(e){var i=new F({error:e}),r=i.parse(),o=t.error,a=o.autoclose,s=void 0!==a&&a,l=o.message;A.showUserMessage({type:"alert",message:l||r,textMessage:!l,autoclose:s}),u.reject(n),h.error&&h.error instanceof Function&&h.error(n,l||r)}):e.saveOfflineItem({data:a({},m.getId(),i),id:j.CHANGES}).then(function(){A.showUserMessage({type:"success",message:"plugins.editing.messages.saved_local",autoclose:!0}),m.clearHistory(),u.resolve(n)})["catch"](function(e){A.showUserMessage({type:"alert",message:e,textMessage:!0}),u.reject(n)})})["catch"](function(){return u.reject(n)}),c},s.EDITING_FIELDS_TYPE=["unique"],t.exports=new s},{"../api":8,"../toolboxes/toolboxesfactory":24,"../workflows/commitfeaturesworkflow":41,"../workflows/editnopickmapfeatureattributesworkflow":48}],18:[function(e,t,n){function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(l){return void n(l)}return a.done?void e(s):Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=g3wsdk.gui.GUI,a=g3wsdk.core.i18n.tPlugin,s=g3wsdk.core.layer.Layer,l={"default":["editattributes","deletefeature"],table:[],Point:["movefeature"],LineString:["movevertex"],Polygon:["movefeature","movevertex"]},u=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._parentLayerId=e,this._parentWorkFlow=this.getCurrentWorkflow(),this._parentLayer=this._parentWorkFlow.getLayer();var i=n.relation,r=n.relations;this.relation=i,this.relations=r,this._editingService,this._isExternalFieldRequired=!1,this._relationLayerId=this.relation.child===this._parentLayerId?this.relation.father:this.relation.child;var o=this.getLayer();this._layerType=o.getType();var a=this._layerType===s.LayerTypes.VECTOR?o.getGeometryType():s.LayerTypes.TABLE,u=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._parentLayerId,relation:this.relation}),c=u.ownField;if(this._isFatherFieldEditable=this._parentLayer.isEditingFieldEditable(c),this._isExternalFieldRequired=this._checkIfExternalFieldRequired(),this._currentParentFeatureRelationFieldValue=this._isFatherFieldEditable?this.getCurrentWorkflowData().feature.get(c):this.getCurrentWorkflowData().feature.getId(),this._relationTools=[],this._add_link_workflow=null,this.capabilities={parent:this._parentLayer.getEditingCapabilities(),relation:this._parentLayer.getEditingCapabilities()},a===s.LayerTypes.TABLE)void 0!==this.capabilities.relation.find(function(e){return"delete_feature"===e})&&this._relationTools.push({state:{icon:"deleteTableRow.png",id:"deletefeature",name:"editing.tools.delete_feature"}}),void 0!==this.capabilities.relation.find(function(e){return"change_attr_feature"===e})&&this._relationTools.push({state:{icon:"editAttributes.png",id:"editattributes",name:"editing.tools.update_feature"}});else{var d=this.getEditingService().getToolBoxById(this._relationLayerId).getTools();d.forEach(function(e){_.concat(l[a],l["default"]).indexOf(e.getId())!==-1&&t._relationTools.push(_.cloneDeep(e))})}this._setAddLinkWorkflow()},c=u.prototype;c.getEditingCapabilities=function(){return this.capabilities},c._setAddLinkWorkflow=function(){var t,n=(t={},r(t,s.LayerTypes.VECTOR,{link:e("../workflows/linkrelationworkflow"),add:e("../workflows/addfeatureworkflow")}),r(t,s.LayerTypes.TABLE,{link:e("../workflows/edittableworkflow"),add:e("../workflows/addtablefeatureworkflow")}),t);this._add_link_workflow=n[this._layerType]},c._getLinkFeatureWorkflow=function(){return new this._add_link_workflow.link},c._getAddFeatureWorkflow=function(){return new this._add_link_workflow.add},c.getRelationTools=function(){return this._relationTools},c._highlightRelationSelect=function(e){var t=this.getLayer().getGeometryType(),n=void 0;"LineString"===t||"MultiLineString"===t?n=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgb(255,255,0)",width:4})}):"Point"===t||"MultiPoint"===t?n=new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:"rgb(255,255,0)"})})}):"MultiPolygon"!==t&&"Polygon"!==t||(n=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgb(255,255,0)",width:4}),fill:new ol.style.Fill({color:"rgba(255, 255, 0, 0.5)"})})),e.setStyle(n)},c.startTool=function(e,t){var n=this;return new Promise(function(i,r){var o=n._layerType===s.LayerTypes.VECTOR&&n.startVectorTool(e,t)||n._layerType===s.LayerTypes.TABLE&&n.startTableTool(e,t);o.then(function(){n.emitEventToParentWorkFlow(),i()}).fail(function(e){return r(e)})})},c.startTableTool=function(t,n){var i=this,r=$.Deferred(),s=this.relations[n],l=this.getLayer().getEditingSource(),u=l.getFeatureById(s.id),c=this._createWorkflowOptions({features:[u]});if("deletefeature"===t.state.id&&o.dialog.confirm(a("editing.messages.delete_feature"),function(e){e?(i.getCurrentWorkflowData().session.pushDelete(i._relationLayerId,u),i.relations.splice(n,1),l.removeFeature(u),r.resolve(e)):r.reject(e)}),"editattributes"===t.state.id){var d=e("../workflows/edittablefeatureworkflow"),f=new d;f.start(c).then(function(){var e=i._getRelationFieldsValue(u);e.forEach(function(e){s.fields.forEach(function(t){t.name===e.name&&(t.value=e.value)})}),r.resolve(!0)}).fail(function(e){return r.reject(!1)}).always(function(){return f.stop()})}return r.promise()},c.startVectorTool=function(t,n){var i=this,r=$.Deferred(),a=this.relations[n],s=this._getRelationFeature(a.id),l={ModifyGeometryVertexWorkflow:e("../workflows/modifygeometryvertexworkflow"),MoveFeatureWorkflow:e("../workflows/movefeatureworkflow"),DeleteFeatureWorkflow:e("../workflows/deletefeatureworkflow"),EditFeatureAttributesWorkflow:e("../workflows/editfeatureattributesworkflow")};o.setModal(!1);var u=this._createWorkflowOptions({features:[s]}),c=Object.values(l).find(function(e){return t.getOperator()instanceof e}),d=new c;this._highlightRelationSelect(s);var f=(d instanceof l.DeleteFeatureWorkflow||d instanceof l.EditFeatureAttributesWorkflow)&&d.startFromLastStep(u)||d.start(u),p=d.bindEscKeyUp(function(){s.setStyle(i._originalLayerStyle)});return f.then(function(e){if("deletefeature"===t.getId()&&(s.setStyle(i._originalLayerStyle),i.getEditingLayer().getSource().removeFeature(s),i.getCurrentWorkflowData().session.pushDelete(i._relationLayerId,s),i.relations.splice(n,1)),"editattributes"===t.getId()){var o=i._getRelationFieldsValue(s);o.forEach(function(e){a.fields.forEach(function(t){t.name===e.name&&(t.value=e.value)})})}r.resolve(e)}).fail(function(e){return r.reject(e)}).always(function(){d.stop(),o.hideContent(!1,p),d.unbindEscKeyUp(),o.setModal(!0)}),r.promise()},c.getLayer=function(){return this.getEditingService().getLayerById(this._relationLayerId)},c.getEditingLayer=function(){return this.getEditingService().getEditingLayer(this._relationLayerId)},c.getEditingService=function(){return this._editingService=this._editingService||e("./editingservice"),this._editingService},c.updateExternalKeyValueRelations=function(e){var t=this,n=this.getEditingService().getToolBoxById(this._relationLayerId).getSession(),i=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._relationLayerId,relation:this.relation}),r=i.ownField,o=i.relationField;this._isFatherFieldEditable&&e.name===o&&(this._currentParentFeatureRelationFieldValue=e.value,this.relations.forEach(function(i){var o=i.fields,a=o.find(function(e){return e.name===r});a&&(a.value=t._currentParentFeatureRelationFieldValue),i=t._getRelationFeature(i.id);var s=i.clone();i.set(r,e.value),i.isNew()||n.pushUpdate(t._relationLayerId,i,s)}))},c._getRelationFieldsValue=function(e){var t=this.getLayer();return t.getFieldsWithValues(e,{relation:!0})},c._createRelationObj=function(e){return{fields:this._getRelationFieldsValue(e),id:e.getId()}},c.emitEventToParentWorkFlow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&this._parentWorkFlow.getContextService().getEventBus().$emit(e,t)},c._getRelationAsFatherStyleColor=function(e){var t=this.getEditingLayer(this._parentLayerId),n=t.getStyle(),i=void 0;switch(e){case"Point":i=n.getImage()&&n.getImage().getFill();break;case"Line":i=n.getStroke()||n.getFill();break;case"Polygon":i=n.getFill()||n.getStroke()}return i&&i.getColor()||"#000000"},c.addRelation=function(){var e=this,t=this._layerType===s.LayerTypes.VECTOR;
t&&o.setModal(!1);var n=this._getAddFeatureWorkflow(),i=this._createWorkflowOptions(),r=i.context.session,a=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._relationLayerId,relation:this.relation}),l=a.ownField,u=a.relationField,c=i.parentFeature,d=n.start(i),f=t&&n.bindEscKeyUp();d.then(function(t){var n=t.relationFeatures,i=n.newFeatures,o=n.originalFeatures,a=function(t){i.forEach(function(n,i){var a=o[i];n.set(l,t),c.isNew()&&a.set(l,t),e.getLayer().getEditingSource().updateFeature(n),r.pushUpdate(e._relationLayerId,n,a)})};if(a(e._currentParentFeatureRelationFieldValue),c.isNew()&&e._isFatherFieldEditable)var s=c.on("propertychange",function(e){if(c.isNew()){if(e.key===u){var t=e.target.get(u);a(t,!0)}}else ol.Observable.unByKey(s)});i.forEach(function(t){var n=e._createRelationObj(t);e.relations.push(n)}),e.emitEventToParentWorkFlow()}).fail(function(t){return r.rollbackDependecies([e._relationLayerId])}).always(function(){t&&(o.hideContent(!1,f),n.unbindEscKeyUp(),o.setModal(!0)),n.stop()})},c.linkRelation=function(){var e=this,t=this._layerType===s.LayerTypes.VECTOR,n=this._getLinkFeatureWorkflow(),r=this._createWorkflowOptions(),l=r.context.session,u=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._relationLayerId,relation:this.relation}),c=u.ownField;r.context.exclude={value:this._currentParentFeatureRelationFieldValue,field:c},t&&(r.context.style=this.getUnlinkedStyle());var d=this.getCurrentWorkflowData().feature,f={relations:[this.relation],feature:d,operator:"not",filterType:t?"bbox":"fid"},p=function(){return e.getEditingService().getLayersDependencyFeatures(e._parentLayerId,f)},h=void 0;if(t){var v=this.getEditingService().getMapService();r.context.beforeRun=i(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.showMapSpinner(),e.next=3,new Promise(function(e){setTimeout(function(){e()})});case 3:return e.next=5,p();case 5:v.hideMapSpinner(),o.showUserMessage({type:"info",size:"small",message:a("editing.messages.press_esc"),closable:!1});case 7:case"end":return e.stop()}},g,e)})),h=new Promise(function(e){var t=n.bindEscKeyUp(),i=n.start(r);e({promise:i,percContent:t})})}else h=new Promise(function(e){o.setLoadingContent(!0),p().then(function(){e({})})["finally"](function(){o.setLoadingContent(!1)})});h.then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.promise,s=t.percContent;i=i||n.start(r),i.then(function(t){t.features.length&&t.features.forEach(function(t){var n=e.relations.find(function(e){return e.id===t.getId()});if(n)o.notify.warning(a("editing.relation_already_added"));else{var i=t.clone();t.set(c,e._currentParentFeatureRelationFieldValue),e.getCurrentWorkflowData().session.pushUpdate(e._relationLayerId,t,i),e.relations.push(e._createRelationObj(t)),e.emitEventToParentWorkFlow()}})}).fail(function(){l.rollbackDependecies([e._relationLayerId])}).always(function(){s&&(o.closeUserMessage(),o.hideContent(!1,s),n.unbindEscKeyUp()),n.stop()})})},c._checkIfExternalFieldRequired=function(){var e=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._relationLayerId,relation:this.relation}),t=e.ownField;return this.getEditingService().isFieldRequired(this._relationLayerId,t)},c.isRequired=function(){return this._isExternalFieldRequired},c._getRelationFeature=function(e){var t=this.getLayer();return t.getEditingSource().getFeatureById(e)},c.unlinkRelation=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=$.Deferred(),r=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._relationLayerId,relation:this.relation}),s=r.ownField,l=function(){var n=t.relations[e],r=t.getLayer().getEditingSource().getFeatureById(n.id),o=r.clone();r.set(s,null),t.getCurrentWorkflowData().session.pushUpdate(t._relationLayerId,r,o),t.relations.splice(e,1),i.resolve(!0)};return n?o.dialog.confirm(a("editing.messages.unlink_relation"),function(e){e?l():i.reject(!1)}):l(),i.promise()},c.getCurrentWorkflow=function(){return this.getEditingService().getCurrentWorkflow()},c.getCurrentWorkflowData=function(){return this.getEditingService().getCurrentWorkflowData()},c._createWorkflowOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._relationLayerId,relation:this.relation}),n=t.ownField,i={parentFeature:this.getCurrentWorkflowData().feature,context:{session:this.getCurrentWorkflowData().session,excludeFields:[n],fatherValue:this._currentParentFeatureRelationFieldValue},inputs:{features:e.features||[],layer:this.getLayer()}};return i},c.getUnlinkedStyle=function(){var e=void 0,t=this.getLayer().getGeometryType();switch(t){case"Point":e=new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:this._getRelationAsFatherStyleColor("Point")}),stroke:new ol.style.Stroke({width:5,color:"yellow"})})});break;case"Line":e=new ol.style.Style({fill:new ol.style.Fill({color:this._getRelationAsFatherStyleColor("Line")}),stroke:new ol.style.Stroke({width:5,color:"yellow"})});break;case"Polygon":e=new ol.style.Style({stroke:new ol.style.Stroke({color:"yellow",width:5}),fill:new ol.style.Fill({color:this._getRelationAsFatherStyleColor("Polygon"),opacity:.5})})}return e},c.relationFields=function(e){var t=[];return e.fields.forEach(function(e){var n=e.value;t.push({label:e.label,value:n})}),t},t.exports=u},{"../workflows/addfeatureworkflow":38,"../workflows/addtablefeatureworkflow":40,"../workflows/deletefeatureworkflow":43,"../workflows/editfeatureattributesworkflow":45,"../workflows/edittablefeatureworkflow":49,"../workflows/edittableworkflow":50,"../workflows/linkrelationworkflow":51,"../workflows/modifygeometryvertexworkflow":53,"../workflows/movefeatureworkflow":54,"./editingservice":17}],19:[function(e,t,n){var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.core.G3WObject,l=g3wsdk.gui.GUI,u=g3wsdk.core.i18n.tPlugin,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._features=e.features||[],this._promise=e.promise,this._context=e.context,this._inputs=e.inputs,this._fatherValue=e.fatherValue,this._foreignKey=e.foreignKey,this._workflow=null,this._deleteFeaturesIndexes=[],this._isrelation=e.isrelation||!1;var t=e.capabilities;this.state={headers:e.headers||[],features:[],title:e.title||"Link relation",isrelation:e.push,capabilities:t},this.init=function(){var e=this;if(this._features=this._isrelation?this._features.filter(function(t){return t.get(e._foreignKey)!==e._fatherValue}):this._features,this._features.length){var t=this._features[0],n=Object.keys(t.getProperties());this.state.headers=this.state.headers.filter(function(e){return n.indexOf(e.name)!==-1});var i=this.state.headers.map(function(e){return e.name});this.state.features=this._features.map(function(e){var t=e.getProperties(),n={};return i.forEach(function(e){n[e]=t[e]}),n.__gis3w_feature_uid=e.getUid(),n})}},this.init(),o(this)};a(c,s);var d=c.prototype;d.isMediaField=function(e){for(var t=!1,n=0;n<this.state.headers.length;n++){var i=this.state.headers[n];if(i.name===e&&"media"===i.input.type){t=!0;break}}return t},d.save=function(){this._promise.resolve()},d.cancel=function(){this._promise.reject()},d.deleteFeature=function(t){var n=this,i=e("../services/editingservice"),r=this._inputs.layer,o=r.getId(),a=r.getChildren(),s=a.length&&i._filterRelationsInEditing({layerId:o,relations:r.getRelations().getArray()}).length>0;return new Promise(function(e,i){l.dialog.confirm("<h4>"+u("editing.messages.delete_feature")+'</h4>\n                        <div style="font-size:1.2em;">'+(s?u("editing.messages.delete_feature_relations"):"")+"</div>",function(r){if(r){var o=void 0,a=n._features.find(function(e,n){if(e.getUid()===t)return o=n,!0}),s=n._context.session,l=n._inputs.layer.getId();n._inputs.layer.getEditingSource().removeFeature(a),s.pushDelete(l,a),n.state.features.splice(o,1),e()}else i()})})},d.copyFeature=function(t){var n=this;return new Promise(function(r,o){var a=n._features.find(function(e){return e.getUid()===t}).cloneNew(),s=e("../workflows/addtablefeatureworkflow");n._workflow=new s;var l=n._inputs;l.features.push(a);var u={context:n._context,inputs:l};n._workflow.start(u).then(function(e){var t=e.features[e.features.length-1],o={};Object.entries(n.state.features[0]).forEach(function(e){var n=i(e,2),r=n[0];n[1];o[r]=t.get(r)}),o.__gis3w_feature_uid=t.getUid(),n.state.features.push(o),r(o)}).fail(function(e){return o(e)})})},d.editFeature=function(t){var n=this,r=void 0,o=this._features.find(function(e,n){if(e.getUid()===t)return r=n,!0}),a=e("../workflows/edittablefeatureworkflow");this._workflow=new a;var s=this._inputs;s.features.push(o);var l={context:this._context,inputs:s};this._workflow.start(l).then(function(e){var t=e.features[e.features.length-1];Object.entries(n.state.features[r]).forEach(function(e){var o=i(e,2),a=o[0];o[1];n.state.features[r][a]=t.get(a)})}).fail(function(e){})},d.linkFeatures=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.map(function(t){return e._features[t]});this._promise.resolve({features:n})},d.linkFeature=function(e){var t=this._features[e];this._promise.resolve({features:[t]})},t.exports=c},{"../services/editingservice":17,"../workflows/addtablefeatureworkflow":40,"../workflows/edittablefeatureworkflow":49}],20:[function(e,t,n){t.exports='<div id="editing_table" class="g3w-editing-table">\n  <div ref="editing_table_header" class="editing_table_header">\n    <div style="display: flex; justify-content: space-between; align-items: baseline">\n      <h3 class="editing_table_title">{{ state.title }}</h3>\n      <h-resize @h_size_change="changeSize"></h-resize>\n    </div>\n    <div class="editing_table_relation_messagge"  v-if="state.isrelation" style="font-weight: bold" v-t-plugin="\'editing.relation.table.info\'">\n    </div>\n  </div>\n  <table v-if="show" class="display" style="width:100%">\n    <thead>\n    <tr>\n      <th v-if="!state.isrelation"></th>\n      <th v-if="state.isrelation"></th>\n      <th v-for="header in state.headers">{{ header.label }}</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-for="(feature, index) in state.features" :key="feature.__gis3w_feature_uid" :id="feature.__gis3w_feature_uid">\n      <td v-if="!state.isrelation">\n        <div id="table-editing-tools" style="display:flex; justify-content: space-between;">\n          <i v-if="showTool(\'change_attr_feature\')" :class="g3wtemplate.font[\'pencil\']" class="g3w-icon skin-tooltip-right"  data-placement="right"  style="color:#30cce7;" v-t-title:plugin="\'editing.table.edit\'" aria-hidden="true" @click="editFeature(feature.__gis3w_feature_uid)"></i>\n          <i v-if="showTool(\'add_feature\')" :class="g3wtemplate.font[\'copy-paste\']" class="g3w-icon skin-tooltip-right"  data-placement="right"  style="color:#d98b14; padding: 5px 7px 5px 7px;" v-t-title:plugin="\'editing.table.copy\'" aria-hidden="true" @click="copyFeature(feature.__gis3w_feature_uid)"></i>\n          <i v-if="showTool(\'delete_feature\')" :class="g3wtemplate.font[\'trash-o\']" class="g3w-icon skin-tooltip-right"  data-placement="right"  style="color:red;" v-t-title:plugin="\'editing.table.delete\'" aria-hidden="true" @click="deleteFeature(feature.__gis3w_feature_uid)"></i>\n        </div>\n      </td>\n      <td v-if="state.isrelation">\n        <input :id="`relation__${index}`" @change="linkFeature(index, $event)" class="magic-checkbox" type="checkbox">\n        <label :for="`relation__${index}`"></label>\n      </td>\n      <td v-if ="showValue(key)" v-for="(value, key) in feature" :key="key">\n        <g3w-media v-if=" getValue(value) && isMediaField(key)" :state="value"></g3w-media>\n        <p v-else>{{ getValue(value) }}</p>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n  <div id="buttons" ref="table_editing_footer_buttons" class="table_editing_footer_buttons" style="position: absolute; bottom: 10px; width: 100%; display:flex; justify-content: center;">\n    <button v-t-plugin="state.isrelation ? \'editing.form.buttons.save_and_back\' : \'editing.form.buttons.save\'" class="btn btn-success" style="margin-right: 10px" @click="save"></button>\n    <button v-t-plugin="\'editing.form.buttons.cancel\'" class="btn btn-danger" @click="cancel"></button>\n  </div>\n</div>\n'},{}],21:[function(e,t,n){function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(l){return void n(l)}return a.done?void e(s):Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=g3wsdk.core.utils,s=a.base,l=a.inherit,u=g3wsdk.gui.vue.Component,c=g3wsdk.gui.vue.Mixins.resizeMixin,d=g3wsdk.gui.vue.Fields.media_field,f=e("../tableservice"),p=Vue.compile(e("./table.html")),h=Vue.extend(o({},p,{mixins:[c],components:{"g3w-media":d},data:function(){return this.dataTable=null,{state:null,show:!0}},methods:{changeSize:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:setTimeout(function(){return e.resize()});case 3:case"end":return t.stop()}},n,this)}));return e}(),showTool:function(e){return void 0!==this.state.capabilities.find(function(t){return t===e})},resize:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){var e,t,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("none"===this.$el.style.display){n.next=8;break}return n.next=3,this.$nextTick();case 3:e=$(".content").height(),t=$("#editing_table  div.dataTables_scrollHeadInner").height(),i=$(".editing_table_title").height()+$(".editing_table_header").height()+$(".dataTables_length").height()+$(".dataTables_paginate paging_simple_numbers").height()+$(".dataTables_filter").height()+$(".table_editing_footer_buttons").height(),$("#editing_table  div.dataTables_scrollBody").height(e-t-i-50),this.dataTable&&this.dataTable.columns.adjust();case 8:case"end":return n.stop()}},n,this)}));return e}(),showValue:function(e){return!!this.state.headers.find(function(t){return t.name===e})},isMediaField:function(e){return this.$options.service.isMediaField(e)},stop:function(){this.$options.service.cancel()},save:function(){this.state.isrelation?this.$options.service.linkFeatures(this._linkFeatures):this.$options.service.save()},cancel:function(){this.$options.service.cancel()},deleteFeature:function(){function e(e){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(e){var t,r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=$("#editing_table table tr#"+e),this.$options.service.deleteFeature(e).then(i(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.dataTable.row(t).remove().draw(),e.next=3,r.$nextTick();case 3:case"end":return e.stop()}},o,r)})))["catch"](function(){});case 2:case"end":return n.stop()}},n,this)}));return e}(),copyFeature:function(e){var t=this;this.$options.service.copyFeature(e).then(function(){var e=i(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.show=!1,t.dataTable.destroy(),e.next=4,t.$nextTick();case 4:return t.show=!0,e.next=7,t.$nextTick();case 7:t.setDataTable();case 8:case"end":return e.stop()}},n,t)}));return function(t){return e.apply(this,arguments)}}())},editFeature:function(e){this.$options.service.editFeature(e)},linkFeature:function(e,t){t.target.checked?this._linkFeatures.push(e):this._linkFeatures=this._linkFeatures.filter(function(t){return t!==e})},_setLayout:function(){return this.$options.service._setLayout()},getValue:function(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))&&e.constructor===Object?e=e.value:"string"==typeof e&&0===e.indexOf("_new_")&&(e=null),e},setDataTable:function(){this.dataTable=$("#editing_table table").DataTable({pageLength:10,scrollX:!0,scrollCollapse:!0,scrollResize:!0,order:[1,"asc"],columnDefs:[{orderable:!1,targets:0}]}),this.resize()}},watch:{"state.features":function(e){}},beforeCreate:function(){this.delayType="debounce"},mounted:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.state.isrelation&&(this._linkFeatures=[]),this.setDataTable(),$("#table-editing-tools i").tooltip(),this.$options.service.emit("ready");case 6:case"end":return e.stop()}},n,this)}));return e}(),beforeDestroy:function(){this._linkFeatures&&(this._linkFeatures=null),this.dataTable.destroy()}})),v=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this);var n=t.service||new f(o({},t));this.setService(n);var i=new h({service:n});this.setInternalComponent(i),i.state=n.state,n.once("ready",function(){return e.emit("ready")}),this.unmount=function(){return n.cancel(),s(this,"unmount")}};l(v,u),t.exports=v},{"../tableservice":19,"./table.html":20}],22:[function(e,t,n){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this),this.editingService=e("../services/editingservice");var n=t.name,i=t.row,r=t.id,a=t.icon,s=t.session,l=t.layer,u=t.once,c=void 0!==u&&u,d=t.type,f=void 0===d?[]:d;this._options=null,this._session=s,this._layer=l,this._op=new t.op({layer:l}),this._once=c,this.type=f,this.disabledtoolsoftools=[],this.state={id:r,name:n,enabled:!1,visible:!0,active:!1,icon:a,message:null,row:i||1,messages:this._op.getMessages()}}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.gui.GUI,l=g3wsdk.core.G3WObject;a(i,l);var u=i.prototype;u.setOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messages,n=e.enabled,i=void 0!==n&&n,r=e.visible,o=void 0===r||r,a=e.disabledtoolsoftools,s=void 0===a?[]:a;this.state.messages=t||this.state.messages,this.state.visible=o,this.state.enabled=i,this.disabledtoolsoftools=s},u.getType=function(){return this.type},u.getFeature=function(){return this._options.inputs.features[0]},u.createOperatorOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{features:[]},t=e.features,n=void 0===t?[]:t;return{inputs:{layer:this._layer,features:n},context:{session:this._session}}},u.start=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.createOperatorOptions();this._options=n;var i=function r(n){e._op.once("settoolsoftool",function(t){t=t.filter(function(t){return!e.disabledtoolsoftools.includes(t.type)}),t.length&&e.emit("settoolsoftool",t)}),e._op.once("active",function(t){return e.emit("active",t)}),e._op.once("deactive",function(t){return e.emit("deactive",t)}),n.inputs.features=[],t&&s.hideSidebar(),e._op.start(n).then(function(){e._session.save().then(function(){return e.editingService.saveChange()})}).fail(function(){t&&s.showSidebar(),e._session.rollback().then(function(){})}).always(function(){e._once||"table"===e._layer.getType()?e.stop():r(n)})};this._op&&(this.state.active=!0,setTimeout(function(){i(n)}))},u.stop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=$.Deferred();return this._op?this._op.stop(t).then(function(){}).fail(function(){return e._session.rollback()}).always(function(){e._options=null,e.state.active=!1,e.emit("stop",{session:e._session}),n.resolve()}):(this.emit("stop",{session:this._session}),n.resolve()),n.promise()},u.getState=function(){return this.state},u.setState=function(e){this.state=e},u.getId=function(){return this.state.id},u.setId=function(e){this.state.id=e},u.getName=function(){return this.state.name},u.setActive=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.active=e},u.isActive=function(){return this.state.active},u.getIcon=function(){return this.state.icon},u.setIcon=function(e){this.state.icon=e},u.setEnabled=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.enabled=e},u.isEnabled=function(){return this.state.enabled},u.setVisible=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state.visible=e},u.isVisible=function(){return this.state.visible},u.getOperator=function(){return this._op},u.getSession=function(){return this._session},u.setSession=function(e){this._session=e},u.clear=function(){this.state.enabled=!1,this.state.active=!1},u.getMessage=function(){var e=this.getOperator();return e.getHelpMessage()||e.getRunningStep()?this.state.messages:null},u.setMessage=function(e){this.state.message=e},u.clearMessage=function(){this.state.message=null},u.resetDefault=function(){this.state.visible=!0,this.state.enabled=!1,this.state.messages=this._op.getMessages(),this.disabledtoolsoftools=[]},t.exports=i},{"../services/editingservice":17}],23:[function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this),this.editingService=e("../services/editingservice"),this._mapService=f.getComponent("map").getService(),this._start=!1,this._constraints=n.constraints||{},this._layer=n.layer,this.uniqueFields=this.getUniqueFieldsType(this._layer.getEditingFields()),this.uniqueFields&&this.getFieldUniqueValuesFromServer(),this._layerType=n.type||h.LayerTypes.VECTOR,this._loadedExtent=null,this._tools=n.tools,this._enabledtools,this._disabledtools,this._getFeaturesOption={};var r=[];this._tools.forEach(function(e){return r.push(e.getState())}),this.constraints={filter:null,show:null,tools:[]},this._session=new v({id:n.id,editor:this._layer.getEditor()}),this.uniqueFields&&this._session.onafter("saveChangesOnServer",function(){t._resetUniqueValues()}),this._getFeaturesOption={};var o=this._session.getHistory().state,s=this._session.state;this.state={id:n.id,changingtools:!1,show:!0,color:n.color||"blue",title:n.title||"Edit Layer",customTitle:!1,loading:!1,enabled:!1,toolboxheader:!0,startstopediting:!0,message:null,toolmessages:{help:null},toolsoftool:[],tools:r,selected:!1,activetool:null,editing:{session:s,history:o,on:!1,dependencies:[],relations:[],father:!1,canEdit:!0},layerstate:this._layer.state},this.originalState={title:this.state.title,toolsoftool:[].concat(i(this.state.toolsoftool))},this._tools.forEach(function(e){return e.setSession(t._session)}),this._session.onafter("stop",function(){t.inEditing()&&(a.online&&t.editingService.stopSessionChildren(t.state.id),t._getFeaturesOption.registerEvents&&t._unregisterGetFeaturesEvent())}),this._session.onafter("start",function(e){e.registerEvents&&(t._getFeaturesEvent={event:null,fnc:null},t._getFeaturesOption=e,t._registerGetFeaturesEvent(t._getFeaturesOption),e.type===h.LayerTypes.VECTOR&&f.getContentLength()&&f.once("closecontent",function(){return setTimeout(function(){return t._mapService.getMap().dispatchEvent(t._getFeaturesEvent.event)})}))})}var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=g3wsdk.core.ApplicationState,s=g3wsdk.core.utils,l=s.base,u=s.inherit,c=s.debounce,d=g3wsdk.core.G3WObject,f=g3wsdk.gui.GUI,p=g3wsdk.core.i18n.tPlugin,h=g3wsdk.core.layer.Layer,v=g3wsdk.core.editing.Session,g=g3wsdk.ol.utils.getScaleFromResolution;u(r,d);var m=r.prototype;m.getState=function(){return this.state},m.setShow=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state.show=e},m.getLayer=function(){return this._layer},m.setFather=function(e){this.state.editing.father=e},m.isFather=function(){return this.state.editing.father},m.addRelations=function(e){var t=this;e.forEach(function(e){return t.addRelation(e)})},m.revert=function(){return this._session.revert()},m.addRelation=function(e){this.state.editing.relations.push(e)},m.getDependencies=function(){return this.state.editing.dependencies},m.hasDependencies=function(){return!!this.state.editing.dependencies.length},m.addDependencies=function(e){var t=this;e.forEach(function(e){return t.addDependency(e)})},m.addDependency=function(e){this.state.editing.dependencies.push(e)},m.getFieldUniqueValuesFromServer=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.reset,i=void 0!==n&&n,r=Object.values(this.uniqueFields).map(function(e){return e.name});this._layer.getWidgetData({type:"unique",fields:r.join()}).then(function(t){var n=t.data;Object.entries(n).forEach(function(t){var n=o(t,2),r=n[0],a=n[1];i&&e.uniqueFields[r].input.options.values.splice(0),a.forEach(function(t){return e.uniqueFields[r].input.options.values.push(t)})})}).fail(function(e){return console.log})},m.getUniqueFieldsType=function(e){var t={},n=!1;return e.forEach(function(e){e.input&&"unique"===e.input.type&&(t[e.name]=e,n=!0)}),n&&t||null},m._resetUniqueValues=function(){this.getFieldUniqueValuesFromServer({reset:!0})},m.isVectorLayer=function(){return this._layerType===h.LayerTypes.VECTOR},m.setFeaturesOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filter;if(t)t.nofeatures&&(t.nofeatures_field=t.nofeatures_field||this._layer.getEditingFields()[0].name),this._getFeaturesOption={filter:t,editing:!0,registerEvents:!1},t.constraint&&this.setConstraintFeaturesFilter(t);else{var n=this._layerType===h.LayerTypes.TABLE?"all":"bbox";this._getFeaturesOption=this.editingService.createEditingDataOptions(n,{layerId:this.getId()})}},m.setEditingConstraints=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach(function(n){return e.constraints[n]=t[n]})},m.start=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.filter,i=t.toolboxheader,r=void 0===i||i,o=t.startstopediting,s=void 0===o||o,l=(t.showtools,t.tools),u=t.changingtools,c=void 0!==u&&u;this.state.changingtools=c,l&&this.setEnablesDisablesTools(l),this.state.toolboxheader=r,this.state.startstopediting=s;var d="start-editing",p=$.Deferred(),v=this.getId(),g=this.editingService.getApplicationEditingConstraintById(this.getId());n=g&&g.filter||this.constraints.filter||n,this.setFeaturesOptions({filter:n});var m=function(t){e.emit(d),e.editingService.runEventHandler({type:d,id:v}),t.then(function(t){e.stopLoading(),e.setEditing(!0),e.editingService.runEventHandler({type:"get-features-editing",id:v,options:{features:t}}),p.resolve({features:t})}).fail(function(t){f.notify.error(t.message),e.editingService.runEventHandler({type:"error-editing",id:v,error:t}),e.stop(),e.stopLoading(),p.reject(t)})};return this._session&&(this._session.isStarted()?(this._start||(this.startLoading(),this._session.getFeatures(this._getFeaturesOption).then(m),this._start=!0),this.setEditing(!0)):a.ismobile&&this._mapService.isMapHidden()&&this._layerType===h.LayerTypes.VECTOR?(this.setEditing(!0),f.getComponent("map").getService().onceafter("setHidden",function(){setTimeout(function(){e._start=!0,e.startLoading(),e.setFeaturesOptions({filter:n}),e._session.start(e._getFeaturesOption).then(m).fail(function(){return e.setEditing(!1)})},300)})):(this._start=!0,this.startLoading(),this._session.start(this._getFeaturesOption).then(m))),p.promise()},m.startLoading=function(){this.state.loading=!0},m.stopLoading=function(){this.state.loading=!1},m.getFeaturesOption=function(){return this._getFeaturesOption},m.stop=function(){var e=this,t="stop-editing",n=$.Deferred();if(this.disableCanEditEvent&&this.disableCanEditEvent(),this._session&&this._session.isStarted()){var i=this.editingService.fatherInEditing(this.state.id);a.online&&!i?this._session.stop().then(function(){e._start=!1,e.state.editing.on=!1,e.state.enabled=!1,e.stopLoading(),e._getFeaturesOption={},e.stopActiveTool(),e._setToolsEnabled(!1),e.clearToolboxMessages(),e.setSelected(!1),e.emit(t),n.resolve(!0)}).fail(function(e){return n.reject(e)}).always(function(){return e.setSelected(!1)}):(this.stopActiveTool(),this._layer.getEditingLayer().getSource().clear(),this.state.editing.on=!1,this._setToolsEnabled(!1),this.clearToolboxMessages(),this._unregisterGetFeaturesEvent(),this.editingService.stopSessionChildren(this.state.id),this.setSelected(!1))}else this.setSelected(!1),n.resolve(!0);return n.promise()},m.save=function(){this._session.commit()},m._unregisterGetFeaturesEvent=function(){switch(this._layerType){case h.LayerTypes.VECTOR:this._mapService.getMap().un(this._getFeaturesEvent.event,this._getFeaturesEvent.fnc);break;default:return}},m._registerGetFeaturesEvent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(this._layerType){case h.LayerTypes.VECTOR:var n=function(){var n=e.state.editing.canEdit;if(e._layer.getEditingLayer().setVisible(n),a.online&&n&&0===f.getContentLength()){var i=e._mapService.getMapBBOX();t.filter.bbox=i,e.state.loading=!0,e._session.getFeatures(t).then(function(t){t.then(function(){e.state.loading=!1})})}};this._getFeaturesEvent.event="moveend",this._getFeaturesEvent.fnc=c(n,300);var i=this._mapService.getMap();i.on("moveend",this._getFeaturesEvent.fnc);break;default:return}},m.setConstraintFeaturesFilter=function(e){this.constraintFeatureFilter=e},m._setToolsEnabled=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._tools.forEach(function(t){t.setEnabled(e),!e&&t.setActive(e)})},m.getEditingConstraints=function(){return this._constraints},m.getEditingConstraint=function(e){return this.getEditingConstraints()[e]},m.canEdit=function(){return this.state.editing.canEdit},m._canEdit=function(){var e=this;if(this._constraints.scale){var t=this._constraints.scale,n=(""+p("editing.messages.constraints.enable_editing")+t).toUpperCase();this.state.editing.canEdit=g(this._mapService.getMap().getView().getResolution())<=t,f.setModal(!this.state.editing.canEdit,n);var i=function(i){e.state.editing.canEdit=g(i.target.getResolution())<=t,f.setModal(!e.state.editing.canEdit,n)};this._mapService.getMap().getView().on("change:resolution",i),this.disableCanEditEvent=function(){f.setModal(!1),e._mapService.getMap().getView().un("change:resolution",i)}}},m._disableCanEdit=function(){this.state.editing.canEdit=!0,this.disableCanEditEvent&&this.disableCanEditEvent()},m.setMessage=function(e){this.state.message=e},m.getMessage=function(){return this.state.message},m.clearMessage=function(){this.setMessage(null)},m.clearToolboxMessages=function(){this.clearToolMessage(),this.clearMessage()},m.getId=function(){return this.state.id},m.setId=function(e){
this.state.id=e},m.getTitle=function(){return this.state.title},m.setTitle=function(e){this.state.customTitle=!0,this.state.title=e},m.getColor=function(){return this.state.color},m.getLayer=function(){return this._layer},m.setEditing=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setEnable(e),this.state.editing.on=e,this.enableTools(e)},m.inEditing=function(){return this.state.editing.on},m.isEnabled=function(){return this.state.enabled},m.setEnable=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.state.enabled=e,this.state.enabled},m.isLoading=function(){return this.state.loading},m.isDirty=function(){return this.state.editing.history.commit},m.isSelected=function(){return this.state.selected},m.setSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.selected=e,this.state.selected?this._canEdit():this._disableCanEdit()},m.getTools=function(){return this._tools},m.getToolById=function(e){return this._tools.find(function(t){return e===t.getId()})},m.setEnableTool=function(e){var t=this._tools.find(function(t){return t.getId()===e});t.setEnabled(!0)},m.setAddEnableTools=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tools,n=void 0===t?{}:t,i=e.options,r=void 0===i?{editing_constraints:!0}:i,o=r.editing_constraints,a=void 0!==o&&o,s=["addfeature","editattributes","movefeature","movevertex"],l=this._tools.filter(function(e){return a?e.getType().find(function(e){return"add_feature"===e}):s.indexOf(e.getId())!==-1}).map(function(e){var t=e.getId();return{id:t,options:n[t]}});this.setEnablesDisablesTools({enabled:l}),this.enableTools(!0)},m.setUpdateEnableTools=function(e){var t=e.tools,n=void 0===t?{}:t,i=e.excludetools,r=void 0===i?[]:i,o=e.options,a=void 0===o?{editing_constraints:!0}:o,s=a.editing_constraints,l=void 0!==s&&s,u=["editattributes","movefeature","movevertex"],c=this._tools.filter(function(e){return r.indexOf(e.getId())===-1&&(l?e.getType().find(function(e){return"change_feature"===e||"change_attr_feature"===e}):u.indexOf(e.getId())!==-1)}).map(function(e){var t=e.getId();return{id:t,options:n[t]}});this.setEnablesDisablesTools({enabled:c}),this.enableTools(!0)},m.setDeleteEnableTools=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},m.setEnablesDisablesTools=function(e){var t=this;if(e){this.state.changingtools=!0;var n=e.enabled,i=void 0===n?[]:n,r=e.disabled,o=void 0===r?[]:r,a=i.length?[]:this._tools.map(function(e){return e.getId()});i.forEach(function(e){var n=e.id,i=e.options,r=void 0===i?{}:i,o=t.getToolById(n);if(o){var s=r.active,l=void 0!==s&&s;o.setOptions(r),o.isVisible()&&a.push(n),l&&t.setActiveTool(o),void 0===t._enabledtools&&(t._enabledtools=[]),t._enabledtools.push(o)}}),o.forEach(function(e){var n=e.id,i=(e.options,t.getToolById(n));i&&(void 0===t._disabledtools&&(t._disabledtools=[]),t._disabledtools.push(n),a.push(n))}),this._tools.forEach(function(e){return!a.includes(e.getId())&&e.setVisible(!1)}),this.state.changingtools=!1}},m.enableTools=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._enabledtools||this._tools,n=this._disabledtools||[];t.forEach(function(t){var i=e&&n.length?n.indexOf(t.getId())===-1:e;t.setEnabled(i)})},m.setActiveTool=function(e){var t=this;this.stopActiveTool(e).then(function(){t.clearToolsOfTool(),t.state.activetool=e,e.once("settoolsoftool",function(e){return e.forEach(function(e){return t.state.toolsoftool.push(e)})});var n=function(e,n){t.state.toolsoftool.forEach(function(t){e.indexOf(t.type)!==-1&&(t.options.active=n)})};e.on("active",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(e,!0)}),e.on("deactive",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(e,!1)});var i=t._mapService.isMapHidden();e.start(i);var r=t.getToolMessage();t.setToolMessage(r)})},m.clearToolsOfTool=function(){this.state.toolsoftool.splice(0)},m.getActiveTool=function(){return this.state.activetool},m.restartActiveTool=function(){var e=this.getActiveTool();this.stopActiveTool(),this.setActiveTool(e)},m.stopActiveTool=function(e){var t=this,n=$.Deferred(),i=this.getActiveTool();return i&&i!==e?(i.removeAllListeners(),i.stop(!0).then(function(){t.clearToolsOfTool(),t.clearToolMessage(),t.state.activetool=null,setTimeout(n.resolve)})):(e?e.removeAllListeners():null,n.resolve()),n.promise()},m.clearToolMessage=function(){this.state.toolmessages.help=null},m.getToolMessage=function(){var e=this.getActiveTool();return e.getMessage()},m.setToolMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.toolmessages.help=e&&e.help||null},m.getSession=function(){return this._session},m.getEditor=function(){return this._editor},m.setEditor=function(e){this._editor=e},m.hasChildren=function(){return this._layer.hasChildren()},m.hasFathers=function(){return this._layer.hasFathers()},m.hasRelations=function(){return this._layer.hasRelations()},m.resetDefault=function(){this.state.title=this.originalState.title,this.state.toolboxheader=!0,this.state.startstopediting=!0,this.constraints={filter:null,show:null,tools:[]},this._enabledtools&&(this._enabledtools=void 0,this.enableTools(),this._tools.forEach(function(e){return e.resetDefault()})),this._disabledtools=null,this.setShow(!0)},t.exports=r},{"../services/editingservice":17}],24:[function(e,t,n){function i(){this.build=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e.getEditingConstrains()),n=e.getEditingCapabilities(),i=e.getType(),s=e.getId(),l=e.getColor(),u=[];switch(i){case r.LayerTypes.VECTOR:var c=e.getGeometryType();u=o.build({layer:e,geometryType:c,type:i,capabilities:n});break;case r.LayerTypes.TABLE:u=o.build({layer:e,type:i,capabilities:n})}return new a({id:s,color:l,type:i,layer:e,tools:u,lngTitle:"editing.toolbox.title",title:" "+e.getName(),constraints:t})}}var r=g3wsdk.core.layer.Layer,o=e("./toolsfactory"),a=e("./toolbox");t.exports=new i},{"./toolbox":23,"./toolsfactory":25}],25:[function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){this.createTools=function(e){var t=e.type,n=e.isMultiGeometry,r=e.layer,o=e.capabilities,a=[];switch(t){case"Point":a=[{config:{id:"addfeature",name:"editing.tools.add_feature",icon:"addPoint.png",layer:r,row:1,op:l,type:["add_feature"]}},{config:{id:"editattributes",name:"editing.tools.update_feature",icon:"editAttributes.png",layer:r,row:1,op:f,type:["change_attr_feature"]}},{config:{id:"deletefeature",name:"editing.tools.delete_feature",icon:"deletePoint.png",layer:r,row:1,op:d,type:["delete_feature"]}},{config:{id:"editmultiattributes",name:"editing.tools.update_multi_features",icon:"multiEditAttributes.png",layer:r,row:2,once:!0,op:b,type:["change_attr_feature"]}},{config:{id:"movefeature",name:"editing.tools.move_feature",icon:"movePoint.png",layer:r,row:2,op:c,type:["change_feature"]}},{config:{id:"copyfeatures",name:"editing.tools.copy",icon:"copyPoint.png",layer:r,once:!0,row:2,op:v,type:["add_feature"]}}].concat(i(n?[{config:{id:"addPart",name:"editing.tools.addpart",icon:"addPart.png",layer:r,once:!0,row:3,op:y,type:["add_feature","change_feature"]}}]:[]),i(n?[{config:{id:"deletePart",name:"editing.tools.deletepart",icon:"deletePart.png",layer:r,row:3,op:_,type:["change_feature"]}}]:[]));break;case"Line":case"Polygon":a=[{config:{id:"addfeature",name:"editing.tools.add_feature",icon:"add"+t+".png",layer:r,row:1,op:l,type:["add_feature"]}},{config:{id:"editattributes",name:"editing.tools.update_feature",icon:"editAttributes.png",layer:r,row:1,op:f,type:["change_attr_feature"]}},{config:{id:"movevertex",name:"editing.tools.update_vertex",icon:"moveVertex.png",layer:r,row:1,op:u,type:["change_feature"]}},{config:{id:"deletefeature",name:"editing.tools.delete_feature",icon:"delete"+t+".png",layer:r,row:1,op:d,type:["delete_feature"]}},{config:{id:"editmultiattributes",name:"editing.tools.update_multi_features",icon:"multiEditAttributes.png",layer:r,row:2,once:!0,op:b,type:["change_attr_feature"]}},{config:{id:"movefeature",name:"editing.tools.move_feature",icon:"move"+t+".png",layer:r,row:2,op:c,type:["change_feature"]}},{config:{id:"copyfeatures",name:"editing.tools.copy",icon:"copy"+t+".png",layer:r,row:2,once:!0,op:v,type:["add_feature"]}}].concat(i(n?[{config:{id:"addPart",name:"editing.tools.addpart",icon:"addPart.png",layer:r,row:3,once:!0,op:y,type:["add_feature","change_feature"]}}]:[]),i(n?[{config:{id:"deletePart",name:"editing.tools.deletepart",icon:"deletePart.png",layer:r,row:3,op:_,type:["change_feature"]}}]:[]),[{config:{id:"splitfeature",name:"editing.tools.split",icon:"splitFeatures.png",layer:r,row:3,once:!0,op:g,type:["change_feature"]}},{config:{id:"mergefeatures",name:"editing.tools.merge",icon:"mergeFeatures.png",layer:r,row:3,once:!0,op:m,type:["change_feature"]}}]);break;case"Table":a=[{config:{id:"addfeature",name:"editing.tools.add_feature",icon:"addTableRow.png",layer:r,op:h,type:["add_feature"]}},{config:{id:"edittable",name:"editing.tools.update_feature",icon:"editAttributes.png",layer:r,op:p,type:["delete_feature","change_attr_feature"]}}]}return o?a.filter(function(e){return e.config.type.filter(function(e){return o.includes(e)}).length>0}).map(function(e){return e.config.row=1,new s(e.config)}):a.map(function(e){return new s(e.config)})},this.build=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?o.LayerTypes.VECTOR:t,i=e.layer,r=e.capabilities,s=[];switch(n){case o.LayerTypes.VECTOR:var l=e.geometryType,u=a.isMultiGeometry(l);a.isPointGeometryType(l)?s=this.createTools({layer:i,capabilities:r,type:"Point",isMultiGeometry:u}):a.isLineGeometryType(l)?s=this.createTools({layer:i,type:"Line",capabilities:r,isMultiGeometry:u}):a.isPolygonGeometryType(l)&&(s=s=this.createTools({layer:i,type:"Polygon",capabilities:r,isMultiGeometry:u}));break;case o.LayerTypes.TABLE:s=this.createTools({layer:i,type:"Table",capabilities:r});break;default:s=[]}return s}}var o=g3wsdk.core.layer.Layer,a=g3wsdk.core.geometry.Geometry,s=e("./tool"),l=e("../workflows/addfeatureworkflow"),u=e("../workflows/modifygeometryvertexworkflow"),c=e("../workflows/movefeatureworkflow"),d=e("../workflows/deletefeatureworkflow"),f=e("../workflows/editfeatureattributesworkflow"),p=e("../workflows/edittableworkflow"),h=e("../workflows/addtablefeatureworkflow"),v=e("../workflows/copyfeaturesworkflow"),g=e("../workflows/splitfeatureworkflow"),m=e("../workflows/mergefeaturesworkflow"),y=e("../workflows/addparttomultigeometriesworkflow"),_=e("../workflows/deletepartfrommultigeometriesworkflow"),b=e("../workflows/editmultifeatureattributesworkflow");t.exports=new r},{"../workflows/addfeatureworkflow":38,"../workflows/addparttomultigeometriesworkflow":39,"../workflows/addtablefeatureworkflow":40,"../workflows/copyfeaturesworkflow":42,"../workflows/deletefeatureworkflow":43,"../workflows/deletepartfrommultigeometriesworkflow":44,"../workflows/editfeatureattributesworkflow":45,"../workflows/editmultifeatureattributesworkflow":47,"../workflows/edittableworkflow":50,"../workflows/mergefeaturesworkflow":52,"../workflows/modifygeometryvertexworkflow":53,"../workflows/movefeatureworkflow":54,"../workflows/splitfeatureworkflow":55,"./tool":22}],26:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.features,n=e.events,i=Vue.extend({data:function(){return{selected:null}},render:function(e){var i=this,o=Object.keys(t[0].getAlphanumericProperties()),a=o.map(function(t){return e("th",t)}),s=e("thead",[e("tr",a)]),l=t.map(function(t,a){var s=o.map(function(n){var i=t.get(n);return i="Object"===r(i)?i.value:i,e("td",i)});return e("tr",{on:{click:function(){i.selected=a,n.click(a)}},style:{cursor:"pointer"},"class":{"skin-background-color lighten":i.selected===a}},s)}),u=e("tbody",l),c=e("table",{"class":{"table table-responsive table-striped":!0}},[s,u]);return e("div",{style:{width:"100%",overflow:"auto"}},[c])}});return(new i).$mount().$el}var r=g3wsdk.core.utils.toRawType;t.exports=i},{}],27:[function(e,t,n){t.exports='<div @click ="state.enabled ? toggletool(): null" v-if="state.visible" class="editbtn" :class="{\'enabled\' : state.enabled, \'toggled\' : state.active}">\n  <img height="25px" width="25px" :alt="state.name" :src="resourcesurl + \'images/\'+ state.icon" v-t-title:plugin="state.name"/>\n</div>\n'},{}],28:[function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=Vue.compile(e("./tool.html")),o=Vue.extend(i({},r,{props:["state","resourcesurl"],data:function(){return{}},methods:{toggletool:function(){this.state.active?this.$emit("stopactivetool"):this.$emit("setactivetool",this.state.id)}}}));Vue.component("tool",o),t.exports=o},{"./tool.html":27}],29:[function(e,t,n){t.exports='<div class="toolbox" v-show="state.show">\n  <div :class="{\'disableddiv\' : !isLayerReady || !canEdit }" :id="\'id_toolbox_\'+ state.id">\n    <div @click="select" class="panel" style="margin-bottom: 8px;" :class="{\'mobile\': isMobile(), \'toolboxselected\': state.selected }">\n      <div v-show="!isLayerReady" class="bar-loader"></div>\n      <div v-if="state.toolboxheader" class="panel-heading container" style="width:100%;" :style="{ background: state.color}">\n        <div v-if="father" style="margin-right:5px; cursor:pointer;" class="pull-left enabled dropdown">\n          <span :class="g3wtemplate.font[\'relation\']"></span>\n          <div class="dropdown-content skin-background-color" style="padding: 5px; border-radius: 3px;">\n            <div v-for="dependency in state.editing.dependencies" style="font-weight: bold" >{{ dependency }}</div>\n          </div>\n        </div>\n        <div class="panel-title" :class="[father ? \'col-md-6\' : \'col-md-8\']" v-t-plugin:pre="\'editing.toolbox.title\'">{{ state.title }}</div>\n        <div v-disabled="!state.startstopediting" data-placement="left" data-toggle="tooltip" ref="editingbutton"\n             @click.stop="toggleEditing"\n             class="start-editing editbtn skin-tooltip-left"\n             :class="{\'pull-right\': !isMobile(), \'enabled\' : isLayerReady,  \'g3w-icon-toggled\' : state.editing.on}" v-t-title:plugin="edit_layer_tooltip">\n          <span style="font-size: 1.1em; padding: 5px; !important;"  :class="g3wtemplate.font[\'pencil\']"></span>\n        </div>\n      </div>\n      <bar-loader :loading="state.loading || state.changingtools"></bar-loader>\n      <div class="panel-body" v-show="!state.changingtools">\n        <div class="tools-content row1" style="display: flex; flex-wrap: wrap;">\n          <tool :state="toolstate" :resourcesurl="resourcesurl" @stopactivetool="stopActiveTool" @setactivetool="setActiveTool"\n                v-for="toolstate in  toolsrow1" :key="toolstate.id">\n          </tool>\n        </div>\n        <div class="tools-content row2" style="display: flex; flex-wrap: wrap;">\n          <tool :state="toolstate" :resourcesurl="resourcesurl" @stopactivetool="stopActiveTool" @setactivetool="setActiveTool"\n                v-for="toolstate in toolsrow2" :key="toolstate.id">\n          </tool>\n        </div>\n        <div class="tools-content row3" style="display: flex; flex-wrap: wrap;">\n          <tool :state="toolstate" :resourcesurl="resourcesurl" @stopactivetool="stopActiveTool" @setactivetool="setActiveTool"\n                v-for="toolstate in toolsrow3" :key="toolstate.id">\n          </tool>\n        </div>\n        <div class="message" style="margin-top: 5px;" :id="\'id_toolbox_messages_\'+ state.id">\n          <div v-html="state.message"></div>\n          <transition name="fade">\n            <toolsoftool v-if="showtoolsoftool" :tools="state.toolsoftool"></toolsoftool>\n          </transition>\n          <div class="toolbox_help_message">{{ toolhelpmessage | tPlugin }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],30:[function(e,t,n){function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(l){return void n(l)}return a.done?void e(s):Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=g3wsdk.core.ApplicationState,a=e("./tool"),s=e("./toolsoftool"),l=Vue.compile(e("./toolbox.html")),u=Vue.extend(r({},l,{props:["state","resourcesurl"],data:function(){return{active:!1}},components:{tool:a,toolsoftool:s},methods:{select:function(){this.isLayerReady&&(this.state.selected||this.$emit("setselectedtoolbox",this.state.id))},toggleEditing:function(){this.select(),this.state.layerstate.editing.ready&&!this.state.loading&&(this.state.editing.on?this.$emit("stoptoolbox",this.state.id):this.$emit("starttoolbox",this.state.id))},saveEdits:function(){this.$emit("savetoolbox",this.state.id)},stopActiveTool:function(){this.$emit("stopactivetool",this.state.id)},setActiveTool:function(e){this.$emit("setactivetool",e,this.state.id)}},computed:{toolsrow1:function(){return this.state.tools.filter(function(e){return 1===e.row})},toolsrow2:function(){return this.state.tools.filter(function(e){return 2===e.row})},toolsrow3:function(){return this.state.tools.filter(function(e){return 3===e.row})},canEdit:function(){return this.state.editing.canEdit},father:function(){return this.state.editing.father&&!!this.state.editing.dependencies.length},toolhelpmessage:function(){return this.state.toolmessages.help},showtoolsoftool:function(){return!!this.state.toolsoftool.length},isLayerReady:function(){return this.state.layerstate.editing.ready}},created:function(){var e=this;this.edit_layer_tooltip="editing.tooltip.edit_layer",this.$emit("canEdit",{id:this.state.id}),this.$watch(function(){return o.lng},function(){var t=e.toolhelpmessage;e.state.toolmessages.help=null,e.state.toolmessages.help=t})},mounted:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:$(this.$refs.editingbutton).tooltip();case 3:case"end":return e.stop()}},n,this)}));return e}()}));t.exports=u},{"./tool":28,"./toolbox.html":29,"./toolsoftool":32}],31:[function(e,t,n){t.exports='<div id="toolsoftoolcontainer" style="display: flex; flex-direction: column;\n    margin: 5px;\n    padding: 5px;\n    border-radius: 5px;">\n    <template v-for="tool in tools">\n      <component\n              :is="tool.type"\n              :options="tool.options">\n      </component>\n      <divider></divider>\n    </template>\n\n  </div>\n</div>\n'},{}],32:[function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=e("./toolsoftool/tools"),o=Vue.compile(e("./toolsoftool.html")),a=Vue.extend(i({},o,{props:["tools"],components:i({},r),data:function(){return{}}}));t.exports=a},{"./toolsoftool.html":31,"./toolsoftool/tools":35}],33:[function(e,t,n){var i=e("vueify/lib/insert-css").insert("label span[data-v-126a0dfc] {\n  color: #222d32 !important;\n}");!function(){Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={name:"measure",props:["options"],data:function(){return{checked:this.options.checked}},watch:{checked:function(e){this.options.onChange(e)}},beforeDestroy:function(){this.options.onBeforeDestroy()}}}(),t.exports.__esModule&&(t.exports=t.exports["default"]);var r="function"==typeof t.exports?t.exports.options:t.exports;r.functional,r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"magic-checkbox snap_tools_of_tools",attrs:{type:"checkbox",id:"g3w_editing_show_measure_tool"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);i.checked?a<0&&(e.checked=n.concat([o])):a>-1&&(e.checked=n.slice(0,a).concat(n.slice(a+1)))}else e.checked=r}}}),e._v(" "),n("label",{directives:[{name:"t-tooltip",rawName:"v-t-tooltip:right.create",value:"plugins.editing.toolsoftool.measure",expression:"'plugins.editing.toolsoftool.measure'",arg:"right",modifiers:{create:!0}}],attrs:{"for":"g3w_editing_show_measure_tool"}},[n("span",{"class":e.g3wtemplate.font.measure,staticStyle:{"font-weight":"bold"}})])])},r.staticRenderFns=[],r._scopeId="data-v-126a0dfc",t.hot&&!function(){var n=e("vue-hot-reload-api");n.install(e("vue"),!0),n.compatible&&(t.hot.accept(),t.hot.dispose(i),t.hot.data?n.reload("data-v-126a0dfc",r):n.createRecord("data-v-126a0dfc",r))}()},{vue:5,"vue-hot-reload-api":3,"vueify/lib/insert-css":7}],34:[function(e,t,n){var i=e("vueify/lib/insert-css").insert("label span[data-v-22ba08d6] {\n  color: #222d32 !important;\n}");!function(){Object.defineProperty(n,"__esModule",{value:!0});var t=g3wsdk.gui.GUI,i=g3wsdk.core.layer.Layer,r=void 0,o=t.getService("map"),a=e("../../../services/editingservice");n["default"]={name:"snap",props:["options"],data:function(){return{id:"snap_"+Date.now(),idAll:"snap_"+Date.now()+"_all",checked:!1,checkedAll:!1,showSnapAll:!1}},computed:{add:function(){return(this.checked||this.checkedAll)&&this.options.active}},methods:{addFeatures:function(e){this.features.extend(e)},addFeature:function(e){this.addFeatures([e])},removeFeatures:function(e){var t=this;e.forEach(function(e){return t.features.remove(e)})},setShowSnapAll:function(){this.showSnapAll=this.vectorToolboxesEditingState.find(function(e){return e.on})&&!0||!1,this.checkedAll=!!this.showSnapAll&&this.checkedAll},activeSnapInteraction:function(){var e=this.add;r&&o.removeInteraction(r),r=null,e&&(r=new ol.interaction.Snap({source:this.checked&&!this.checkedAll&&this.options.source,features:this.checkedAll&&this.features}),o.addInteraction(r))},enableSnapInteraction:function(e){e?this.activeSnapInteraction():r&&o.removeInteraction(r)}},watch:{checked:function(e){this.options.checked=e,this.activeSnapInteraction()},checkedAll:function(e){this.options.checkedAll=e,this.activeSnapInteraction()},"options.active":function(e){this.enableSnapInteraction(e)}},created:function(){var e=this;this.features=new ol.Collection,this.sourcesAndEventsKeys=[],this.vectorToolboxesEditingState=[],this.unwatches=[],a.getLayers().forEach(function(t){var n=t.getId();if(t.getType()===i.LayerTypes.VECTOR){var r=a.getToolBoxById(n),o=r.getLayer().getEditingSource();e.features.extend(o.readFeatures());var s=o.onbefore("addFeatures",e.addFeatures),l=o.onbefore("addFeature",e.addFeatures),u=o.onbefore("clear",function(){var t=o.readFeatures();e.removeFeatures(t)}),c=o.getFeaturesCollection().on("add",function(t){return e.addFeature(t.element)});if(e.sourcesAndEventsKeys.push({source:o,settersAndKeys:{addFeatures:s,addFeature:l,clear:u},olKey:c}),e.options.layerId!==n){var d=r.getState().editing,f=e.$watch(function(){return d.on},e.setShowSnapAll);e.unwatches.push(f),e.vectorToolboxesEditingState.push(d)}}}),this.setShowSnapAll()},beforeDestroy:function(){this.sourcesAndEventsKeys.forEach(function(e){var t=e.source,n=e.settersAndKeys,i=e.olKey;Object.keys(n).forEach(function(e){var i=n[e];t.un(e,i)}),ol.Observable.unByKey(i)}),this.unwatches.forEach(function(e){return e()}),r=null,this.unwatches=null,this.vectorToolboxesEditingState=null,this.sourcesAndEventsKeys=null}}}(),t.exports.__esModule&&(t.exports=t.exports["default"]);var r="function"==typeof t.exports?t.exports.options:t.exports;r.functional,r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex",width:"100%","justify-content":"space-between"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"magic-checkbox snap_tools_of_tools",attrs:{type:"checkbox",id:e.id},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);i.checked?a<0&&(e.checked=n.concat([o])):a>-1&&(e.checked=n.slice(0,a).concat(n.slice(a+1)))}else e.checked=r}}}),e._v(" "),n("label",{directives:[{name:"t-tooltip",rawName:"v-t-tooltip:right.create",value:"plugins.editing.toolsoftool.snap",expression:"'plugins.editing.toolsoftool.snap'",arg:"right",modifiers:{create:!0}}],attrs:{"for":e.id}},[n("span",{"class":e.g3wtemplate.font["dot-circle"]})]),e._v(" "),e.showSnapAll?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedAll,expression:"checkedAll"}],staticClass:"magic-checkbox snap_tools_of_tools",attrs:{type:"checkbox",id:e.idAll},domProps:{checked:Array.isArray(e.checkedAll)?e._i(e.checkedAll,null)>-1:e.checkedAll},on:{change:function(t){var n=e.checkedAll,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);i.checked?a<0&&(e.checkedAll=n.concat([o])):a>-1&&(e.checkedAll=n.slice(0,a).concat(n.slice(a+1)))}else e.checkedAll=r}}}),e._v(" "),n("label",{directives:[{name:"t-tooltip",rawName:"v-t-tooltip:left.create",value:"plugins.editing.toolsoftool.snapall",expression:"'plugins.editing.toolsoftool.snapall'",arg:"left",modifiers:{create:!0}}],attrs:{"for":e.idAll}},[n("span",{"class":e.g3wtemplate.font["dot-circle"]}),e._v(" "),n("span",{"class":e.g3wtemplate.font.layers,staticStyle:{"font-weight":"bold"}})])]:e._e()],2)},r.staticRenderFns=[],r._scopeId="data-v-22ba08d6",t.hot&&!function(){var n=e("vue-hot-reload-api");n.install(e("vue"),!0),n.compatible&&(t.hot.accept(),t.hot.dispose(i),t.hot.data?n.reload("data-v-22ba08d6",r):n.createRecord("data-v-22ba08d6",r))}()},{"../../../services/editingservice":17,vue:5,"vue-hot-reload-api":3,"vueify/lib/insert-css":7}],35:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./snap.vue"),o=i(r),a=e("./measure.vue"),s=i(a),l={snap:o["default"],measure:s["default"]};t.exports=l},{"./measure.vue":33,"./snap.vue":34}],36:[function(e,t,n){t.exports='<div class="g3w-editing-panel">\n  <div v-if="!appState.online" id="onlineofflinemessage" style="margin-bottom: 5px; padding: 5px; border-radius: 3px; background-color: orange; color:white; font-weight: bold">\n    <div v-t-plugin="\'editing.messages.offline\'"></div>\n  </div>\n  <div v-if="showcommitbar" style="display: flex; margin-bottom: 5px">\n    <div style="margin-right: auto;" class="editing-button" @click="canCommit ? commit(): null" :class="{\'enabled\' : canCommit }">\n      <span class="editing-icon" :class="g3wtemplate.font[\'save\']"></span>\n    </div>\n    <div class="editing-button " @click="canUndo ? undo(): null" :class="{\'enabled\' : canUndo }">\n      <span class="editing-icon" :class="g3wtemplate.font[\'arrow-left\']"></span>\n    </div>\n    <div class="editing-button "  @click="canRedo ? redo(): null" :class="{\'enabled\' : canRedo }">\n      <span class="editing-icon" :class="g3wtemplate.font[\'arrow-right\']"></span>\n    </div>\n  </div>\n  <div v-else style="height: 10px;"></div>\n  <div id="toolboxes">\n    <toolbox\n      :state="toolboxstate"\n      :resourcesurl="resourcesurl"\n      @setselectedtoolbox="setSelectedToolbox"\n      @starttoolbox="startToolBox"\n      @stoptoolbox="stopToolBox"\n      @savetoolbox="saveToolBox"\n      @setactivetool="startActiveTool"\n      @stopactivetool="stopActiveTool"\n      v-for="toolboxstate in state.toolboxes" :key="toolboxstate.id">\n    </toolbox>\n  </div>\n</div>\n'},{}],37:[function(e,t,n){function i(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.vueComponent=g,this.name=t.name||"Editing data",l(this,t),this._resourcesUrl=t.resourcesUrl||c.getResourcesUrl(),this._service=t.service||p;var n=Vue.extend(this.vueComponent);this.internalComponent=new n({service:this._service,data:function(){return{state:e._service.state,resourcesurl:e._resourcesUrl,showcommitbar:t.showcommitbar,editingButtonsEnabled:!0}}}),this.mount=function(e){return a(this,"mount",e,!0)},this.unmount=function(){var e=this,t=$.Deferred();return this._service.stop()["finally"](function(){e.unmount=function(){a(this,"unmount").then(function(){return t.resolve()})},e.unmount()}),t.promise()}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=g3wsdk.core.utils,a=o.base,s=o.inherit,l=o.merge,u=g3wsdk.core.i18n.tPlugin,c=g3wsdk.gui.GUI,d=g3wsdk.gui.vue.Component,f=g3wsdk.core.ApplicationState,p=e("../services/editingservice"),h=Vue.compile(e("./editing.html")),v=e("./components/toolbox"),g=r({},h,{data:null,components:{toolbox:v},transitions:{addremovetransition:"showhide"},methods:{undo:function(){var e=this.state.toolboxselected.getSession(),t=e.undo();this.$options.service.undoRelations(t)},redo:function(){var e=this.state.toolboxselected.getSession(),t=e.redo();this.$options.service.redoRelations(t)},commit:function(e){var t=this.$options.service.getToolBoxById(e);this.$options.service.commit({toolbox:t})},saveAll:function(){},startToolBox:function(e){var t=this._getToolBoxById(e);f.online&&t.canEdit()&&t.start()},stopToolBox:function(e){var t=this._getToolBoxById(e);t.state.editing.history.commit?this.$options.service.commit().always(function(){return t.stop()}):t.stop()},saveToolBox:function(e){var t=this._getToolBoxById(e);t.save()},_setActiveToolOfToolbooxSelected:function(e,t){var n=this._getToolBoxById(t);this.state.toolboxidactivetool=t;var i=n.getToolById(e);n.setActiveTool(i)},startActiveTool:function(e,t){var n=this;this.state.toolboxidactivetool&&t!==this.state.toolboxidactivetool?this._checkDirtyToolBoxes(this.state.toolboxidactivetool).then(function(i){i&&i.stopActiveTool(),n._setActiveToolOfToolbooxSelected(e,t)}):this._setActiveToolOfToolbooxSelected(e,t)},stopActiveTool:function(e){var t=this._getToolBoxById(e);t.stopActiveTool()},setSelectedToolbox:function(e){var t=this.$options.service,n=this._getToolBoxById(e),i=t.getToolBoxes(),r=i.find(function(e){return e.isSelected()});r&&r.setSelected(!1),n.setSelected(!0),this.state.toolboxselected=n,n.getDependencies().length?this.state.message="<div>\n"+u("editing.messages.change_toolbox_relation")+"\n</div>":this.state.message=null},_checkDirtyToolBoxes:function(e){return this.$options.service.commitDirtyToolBoxes(e)},_getToolBoxById:function(e){var t=this.$options.service,n=t.getToolBoxById(e);return n},_enableEditingButtons:function(e){this.editingButtonsEnabled=!e}},computed:{message:function m(){var m="";return m},canCommit:function(){return"default"===this.$options.service.getSaveConfig().mode&&this.state.toolboxselected&&this.state.toolboxselected.state.editing.history.commit&&this.editingButtonsEnabled},canUndo:function y(){var e=this.state.toolboxselected,y=e&&e.state.editing.history.undo&&this.editingButtonsEnabled;return this.$options.service.fireEvent("canUndo",y),y},canRedo:function _(){var e=this.state.toolboxselected,_=e&&e.state.editing.history.redo&&this.editingButtonsEnabled;return this.$options.service.fireEvent("canRedo",_),_}},watch:{canCommit:function(e){this.$options.service.registerLeavePage(e)}},created:function(){this.appState=f,this.$options.service.registerOnLineOffLineEvent(),c.closeContent(),this.$options.service.setOpenEditingPanel(!0),c.on("opencontent",this._enableEditingButtons),c.on("closeform",this._enableEditingButtons),c.on("closecontent",this._enableEditingButtons),c.getComponent("map").getService().seSelectionLayerVisible(!1);
},beforeDestroy:function(){this.$options.service.setOpenEditingPanel(!1),c.off("opencontent",this._enableEditingButtons),c.off("closeform",this._enableEditingButtons),c.off("closecontent",this._enableEditingButtons),this.$options.service.unregisterOnLineOffLineEvent(),c.getComponent("map").getService().seSelectionLayerVisible(!0),this.$options.service.fireEvent("closeeditingpanel")}});s(i,d),t.exports=i},{"../services/editingservice":17,"./components/toolbox":30,"./editing.html":36}],38:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new l(e),n=new u(e);e.steps=[t,n],o(this,e),this.addToolsOfTools({step:t,tools:["snap","measure"]})}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=e("./editingworkflow"),l=e("./steps/addfeaturestep"),u=e("./steps/openformstep");a(i,s),t.exports=i},{"./editingworkflow":46,"./steps/addfeaturestep":56,"./steps/openformstep":69}],39:[function(e,t,n){function i(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.type="single",t.helpMessage="editing.tools.addpart",t.help="editing.steps.help.select_element";var n=new s(t,(!0));n.getTask().setSteps({select:{description:"editing.workflow.steps.select",directive:"t-plugin",done:!1}}),t.add=!1;var i=new l(t);i.getTask().setSteps({addfeature:{description:"editing.workflow.steps.draw_part",directive:"t-plugin",done:!1}}),i.on("run",function(t){var n=t.inputs,i=(t.context,n.layer),r={type:"snap",options:{layerId:i.getId(),source:i.getEditingLayer().getSource(),active:!0}};e.emit("settoolsoftool",[r])}),i.on("run",function(){e.emit("active",["snap"])}),i.on("stop",function(){e.emit("deactive",["snap"])});var r=new u(t);t.steps=[n,i,r],this.registerEscKeyEvent(),o(this,t)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/selectelementsstep"),l=e("./steps/addfeaturestep"),u=e("./steps/addparttomultigeometriesstep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/addfeaturestep":56,"./steps/addparttomultigeometriesstep":57,"./steps/selectelementsstep":72}],40:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s,new l],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/addtablefeaturestep"),l=e("./steps/openformstep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/addtablefeaturestep":58,"./steps/openformstep":69}],41:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s(e)],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/confirmstep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/confirmstep":59}],42:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer.getGeometryType().indexOf("Point")!==-1;e.type=d.ismobile?"single":"multiple",e.help="editing.steps.help.copy",e.steps=[];var n=new l(e,(!0));if(n.getTask().setSteps({select:{description:"multiple"===e.type?"editing.workflow.steps.selectPointSHIFT":"editing.workflow.steps.selectPoint",directive:"t-plugin",done:!1}}),e.steps.push(n),!t){var i=new u(e,(!0));i.getTask().setSteps({from:{description:"editing.workflow.steps.selectStartVertex",directive:"t-plugin",done:!1}}),e.steps.push(i)}var r=new c(e,(!0));r.getTask().setSteps({to:{description:"editing.workflow.steps.selectToPaste",directive:"t-plugin",done:!1}}),e.steps.push(r),this.registerEscKeyEvent(),o(this,e)}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=e("./editingworkflow"),l=e("./steps/selectelementsstep"),u=e("./steps/getvertexstep"),c=e("./steps/movelementsstep"),d=g3wsdk.core.ApplicationState;a(i,s),t.exports=i},{"./editingworkflow":46,"./steps/getvertexstep":63,"./steps/movelementsstep":68,"./steps/selectelementsstep":72}],43:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new l,new u({type:"delete"})],a(this,e)}var r=g3wsdk.core.utils,o=r.inherit,a=r.base,s=e("./editingworkflow"),l=e("./steps/deletefeaturestep"),u=e("./steps/confirmstep");o(i,s),t.exports=i},{"./editingworkflow":46,"./steps/confirmstep":59,"./steps/deletefeaturestep":60}],44:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.helpMessage="editing.tools.deletepart";var t=new s(e);e.steps=[t],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/deletepartfrommultigeometriesstep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/deletepartfrommultigeometriesstep":61}],45:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.helpMessage="editing.tools.update_feature",e.steps=[new l,new u],a(this,e)}var r=g3wsdk.core.utils,o=r.inherit,a=r.base,s=e("./editingworkflow"),l=e("./steps/pickfeaturestep"),u=e("./steps/openformstep");o(i,s),t.exports=i},{"./editingworkflow":46,"./steps/openformstep":69,"./steps/pickfeaturestep":71}],46:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.helpMessage=e.helpMessage?{help:e.helpMessage}:null,this._toolsoftool=[]}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.gui.GUI,l=g3wsdk.core.workflow.Workflow,u=g3wsdk.core.layer.Layer,c=g3wsdk.core.geometry.Geometry.isPointGeometryType;a(i,l);var d=i.prototype;d.addToolsOfTools=function(e){var t=this,n=e.step,i=e.tools,r=void 0===i?[]:i,o={snap:{type:"snap",options:{checkedAll:!1,checked:!1,active:!0,run:function(e){var t=e.layer;this.active=!0,this.layerId=this.layerId||t.getId(),this.source=this.source||t.getEditingLayer().getSource()},stop:function(){this.active=!1}}},measure:{type:"measure",options:{checked:!1,run:function(){var e=this;setTimeout(function(){e.onChange(e.checked)})},stop:function(){n.getTask().removeMeasureInteraction()},onChange:function(e){this.checked=e,n.getTask()[e?"addMeasureInteraction":"removeMeasureInteraction"]()},onBeforeDestroy:function(){this.onChange(!1)}}}};n.on("run",function(e){var n=e.inputs,i=(e.context,n.layer);0==t._toolsoftool.length&&r.forEach(function(e){"measure"===e?i.getType()!==u.LayerTypes.VECTOR||c(i.getGeometryType())||t._toolsoftool.push(o[e]):t._toolsoftool.push(o[e])}),t._toolsoftool.forEach(function(e){return e.options.run({layer:i})}),t.emit("settoolsoftool",t._toolsoftool)}),n.on("stop",function(){t._toolsoftool.forEach(function(e){return e.options.stop()})})},d.setHelpMessage=function(e){this.helpMessage={help:e}},d.getHelpMessage=function(){return this.helpMessage},d.getFeatures=function(){return this.getInputs().features},d.startFromLastStep=function(e){var t=this.getSteps();return this.setSteps([t.pop()]),this.start(e)},d.getCurrentFeature=function(){var e=this.getFeatures(),t=this.getFeatures().length;return e[t-1]},d.getLayer=function(){return this.getSession().getEditor().getLayer()},d.getSession=function(){return this.getContext().session},d.escKeyUpHandler=function(e){27===e.keyCode&&(e.data.workflow.reject(),e.data.callback())},d.unbindEscKeyUp=function(){$(document).unbind("keyup",this.escKeyUpHandler)},d.bindEscKeyUp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=s.hideContent(!0);return $(document).on("keyup",{workflow:this,callback:e},this.escKeyUpHandler),t},d.registerEscKeyEvent=function(e){var t=this;this.on("start",function(){t.bindEscKeyUp(e)}),this.on("stop",function(){t.unbindEscKeyUp()})},t.exports=i},{}],47:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.helpMessage="editing.tools.update_multi_features";var t=new l({type:"multiple"});t.getTask().setSteps({select:{description:a.ismobile?"editing.workflow.steps.selectDrawBoxAtLeast2Feature":"editing.workflow.steps.selectMultiPointSHIFTAtLeast2Feature",buttonnext:{disabled:!0,condition:function(e){var t=e.features,n=void 0===t?[]:t;return n.length<2},done:function(){}},directive:"t-plugin",dynamic:0,done:!1}}),e.steps=[t,new u({multi:!0})],this.registerEscKeyEvent(),o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.core.ApplicationState,s=e("./editingworkflow"),l=e("./steps/selectelementsstep"),u=e("./steps/openformstep");r(i,s),t.exports=i},{"./editingworkflow":46,"./steps/openformstep":69,"./steps/selectelementsstep":72}],48:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.helpMessage="editing.tools.update_feature",e.steps=[new l],a(this,e)}var r=g3wsdk.core.utils,o=r.inherit,a=r.base,s=e("./editingworkflow"),l=e("./steps/openformstep");o(i,s),t.exports=i},{"./editingworkflow":46,"./steps/openformstep":69}],49:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/openformstep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/openformstep":69}],50:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/opentablestep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/opentablestep":70}],51:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/linkrelationstep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/linkrelationstep":64}],52:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type="bbox",e.help="editing.steps.help.merge";var t=new s(e,(!0));t.getTask().setSteps({select:{description:u.ismobile?"editing.workflow.steps.selectDrawBox":"editing.workflow.steps.selectSHIFT",directive:"t-plugin",done:!1}});var n=new l(e,(!0));n.getTask().setSteps({choose:{description:"editing.workflow.steps.merge",directive:"t-plugin",done:!1}}),e.steps=[t,n],this.registerEscKeyEvent(),o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/selectelementsstep"),l=e("./steps/mergefeaturesstep"),u=g3wsdk.core.ApplicationState;r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/mergefeaturesstep":65,"./steps/selectelementsstep":72}],53:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.helpMessage="editing.tools.update_vertex";var t=new l(e),n=new u;e.steps=[t,n],o(this,e),this.addToolsOfTools({step:n,tools:["snap","measure"]})}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=e("./editingworkflow"),l=e("./steps/pickfeaturestep"),u=e("./steps/modifygeometryvertexstep");a(i,s),t.exports=i},{"./editingworkflow":46,"./steps/modifygeometryvertexstep":66,"./steps/pickfeaturestep":71}],54:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.helpMessage="editing.tools.move_feature",e.steps=[new s,new l],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/pickfeaturestep"),l=e("./steps/movefeaturestep");r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/movefeaturestep":67,"./steps/pickfeaturestep":71}],55:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type=u.ismobile?"single":"multiple",e.help="editing.steps.help.split";var t=new s(e,(!0));t.getTask().setSteps({select:{description:"multiple"===e.type?"editing.workflow.steps.selectPointSHIFT":"editing.workflow.steps.selectPoint",directive:"t-plugin",done:!1}});var n=new l(e,(!0));n.getTask().setSteps({draw_line:{description:"editing.workflow.steps.draw_split_line",directive:"t-plugin",done:!1}}),e.steps=[t,n],this.registerEscKeyEvent(),o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/selectelementsstep"),l=e("./steps/splitfeaturestep"),u=g3wsdk.core.ApplicationState;r(i,a),t.exports=i},{"./editingworkflow":46,"./steps/selectelementsstep":72,"./steps/splitfeaturestep":73}],56:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/addfeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),e.help="editing.steps.help.draw_new_feature",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/addfeaturetask":75}],57:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/addparttomultigeometriestask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/addparttomultigeometriestask":76}],58:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.workflow.Step,a=(g3wsdk.core.i18n.tPlugin,e("./tasks/addfeaturetabletask")),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.new",r(this,e)};i(s,o),t.exports=s},{"./tasks/addfeaturetabletask":74}],59:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/confirmtask"),s=function(e){e=e||{},e.task=new a(e),r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/confirmtask":77}],60:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/deletefeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.double_click_delete",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/deletefeaturetask":78}],61:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/deletepartfrommultigeometriestask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/deletepartfrommultigeometriestask":79}],62:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.workflow.Step,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e)};i(a,o),t.exports=a},{}],63:[function(e,t,n){var i=g3wsdk.core.utils,r=i.base,o=i.inherit,a=e("./editingstep"),s=e("./tasks/getvertextask"),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new s(e),e.help="editing.steps.help.select",r(this,e)};o(l,a),t.exports=l},{"./editingstep":62,"./tasks/getvertextask":81}],64:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/linkrelationtask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.select_feature_to_relation",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/linkrelationtask":82}],65:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/mergefeaturestask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.merge",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/mergefeaturestask":83}],66:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/modifygeometryvertextask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{snap:!0},t=new a(e);e.task=t,e.help="editing.steps.help.edit_feature_vertex",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/modifygeometryvertextask":84}],67:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/movefeaturettask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),e.help="editing.steps.help.move",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/movefeaturettask":86}],68:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/moveelementstask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments[1],new a(e));e.task=t,e.help="editing.steps.help.select_vertex_to_paste",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/moveelementstask":85}],69:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.workflow.Step,a=(g3wsdk.core.i18n.tPlugin,e("./tasks/openformtask")),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),e.help="editing.steps.help.insert_attributes_feature",r(this,e)};i(s,o),t.exports=s},{"./tasks/openformtask":87}],70:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,g3wsdk.core.workflow.Step),a=e("./tasks/opentabletask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.edit_table",r(this,e)};i(s,o),t.exports=s},{"./tasks/opentabletask":88}],71:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,g3wsdk.core.workflow.Step),a=e("./tasks/pickfeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new a(e);e.task=t,e.help="editing.steps.help.pick_feature",r(this,e)};i(s,o),t.exports=s},{"./tasks/pickfeaturetask":89}],72:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.i18n.tPlugin,a=e("./editingstep"),s=e("./tasks/selectelementstask"),l=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];t.task=new s(t),t.help=t.help||"editing.steps.help.select_elements",n&&this.on("run",function(){e.emit("next-step",o("editing.steps.help.select_elements"))}),r(this,t)};i(l,a),t.exports=l},{"./editingstep":62,"./tasks/selectelementstask":90}],73:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/splitfeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new a(e);e.task=t,e.help="",r(this,e)};i(s,o),t.exports=s},{"./editingstep":62,"./tasks/splitfeaturetask":91}],74:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask");r(i,a);var s=i.prototype;s.run=function(e,t){var n=$.Deferred(),i=t.session,r=e.layer,o=r.getId(),a=r.getEditingLayer(),s=e.features.length?e.features[e.features.length-1]:r.createNewFeature();return s.setTemporaryId(),a.getEditingSource().addFeature(s),i.pushAdd(o,s),e.features.push(s),n.resolve(e,t),n.promise()},s.stop=function(){},t.exports=i},{"./editingtask":80}],75:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._add=void 0===e.add||e.add,this._busy=!1,this.drawInteraction,this.measeureInteraction,this.drawingFeature,this._snap=e.snap!==!1,this._finishCondition=e.finishCondition||function(){return!0},this._condition=e.condition||function(){return!0},o(this,e)}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.core.layer.Layer,l=g3wsdk.core.geometry.Geometry,u=e("./editingtask"),c=g3wsdk.core.layer.features.Feature,d=g3wsdk.ol.interactions.measure,f=d.AreaInteraction,p=d.LengthInteraction;a(i,u);var h=i.prototype;h.run=function(e,t){var n=this,i=$.Deferred(),r=e.layer,o=r.getEditingLayer(),a=t.session,u=r.getId();switch(r.getType()){case s.LayerTypes.VECTOR:var d=r.getEditingGeometryType();this.geometryType=l.getOLGeometry(d);var f=o.getSource(),p=r.getEditingFields(),h=new ol.source.Vector;this.drawInteraction=new ol.interaction.Draw({type:this.geometryType,source:h,condition:this._condition,freehandCondition:ol.events.condition.never,finishCondition:this._finishCondition}),this.addInteraction(this.drawInteraction),this.drawInteraction.setActive(!0),this.drawInteraction.on("drawstart",function(e){var t=e.feature;n.drawingFeature=t}),this.drawInteraction.on("drawend",function(t){var r=void 0;n._add?(p.forEach(function(e){t.feature.set(e.name,null)}),r=new c({feature:t.feature}),r.setTemporaryId(),f.addFeature(r),a.pushAdd(u,r)):r=t.feature,r=l.addZValueToOLFeatureGeometry({feature:r,geometryType:d}),e.features.push(r),n.fireEvent("addfeature",r),i.resolve(e)})}return i.promise()},h.addMeasureInteraction=function(){var e=this.getMapService().getProjection(),t={projection:e,drawColor:"transparent",feature:this.drawingFeature};l.isLineGeometryType(this.geometryType)?this.measureInteraction=new p(t):l.isPolygonGeometryType(this.geometryType)&&(this.measureInteraction=new f(t)),this.measureInteraction&&(this.measureInteraction.setActive(!0),this.addInteraction(this.measureInteraction))},h.removeMeasureInteraction=function(){this.measureInteraction&&(this.measureInteraction.clear(),this.removeInteraction(this.measureInteraction),this.measureInteraction=null)},h.stop=function(){return this.removeInteraction(this.drawInteraction),this.removeMeasureInteraction(),this.drawInteraction=null,this.drawingFeature=null,!0},h._removeLastPoint=function(){if(this.drawInteraction)try{this.drawInteraction.removeLastPoint()}catch(e){}},t.exports=i},{"./editingtask":80}],76:[function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e)}var o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=e("./editingtask");o(r,s);var l=r.prototype;l.run=function(e,t){var n=$.Deferred(),r=e.layer,o=e.features,a=r.getId(),s=t.session,l=o[0],u=l.getGeometry(),c=l.clone();return u.setCoordinates([].concat(i(u.getCoordinates()),i(o[1].getGeometry().getCoordinates()))),s.pushUpdate(a,l,c),e.features=[l],n.resolve(e),n.promise()},l.stop=function(){},t.exports=r},{"./editingtask":80}],77:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type||"default";this._dialog=d[t],o(this,e)}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.gui.GUI,l=g3wsdk.core.i18n.tPlugin,u=g3wsdk.core.i18n.t,c=e("./editingtask"),d={"delete":{fnc:function(t,n){var i=$.Deferred(),r=e("../../../services/editingservice"),o=t.layer,a=o.getId(),u=o.getChildren(),c=u.length&&r._filterRelationsInEditing({layerId:a,relations:o.getRelations().getArray()}).length>0;return s.dialog.confirm("<h4>"+l("editing.messages.delete_feature")+'</h4>\n                        <div style="font-size:1.2em;">'+(c?l("editing.messages.delete_feature_relations"):"")+"</div>",function(e){e?i.resolve(t):i.reject(t)}),i.promise()}},commit:{fnc:function(e){var t=$.Deferred(),n=e.close,i={SAVE:{label:u("save"),className:"btn-success",callback:function(){t.resolve(e)}},CANCEL:{label:u(n?"exitnosave":"annul"),className:"btn-danger",callback:function(){t.reject()}}};n&&(i.CLOSEMODAL={label:u("annul"),className:"btn-primary",callback:function(){r.modal("hide")}});var r=s.dialog.dialog({message:e.message,title:l("editing.messages.commit_feature")+" "+e.layer.getName()+"?",buttons:i});return t.promise()}}};a(i,c);var f=i.prototype;f.run=function(e,t){return this._dialog.fnc(e,t)},f.stop=function(){return!0},t.exports=i},{"../../../services/editingservice":17,"./editingtask":80}],78:[function(e,t,n){function i(e){this.drawInteraction=null,this._selectInteraction=null,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask");r(i,a);var s=i.prototype;ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};var l=[255,255,255,1],u=[255,0,0,1],c=3,d={};d[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({stroke:new ol.style.Stroke({color:"red",width:3}),fill:new ol.style.Fill({color:"rgba(255, 0, 0, 0.1)"})})],d[ol.geom.GeometryType.MULTI_POLYGON]=d[ol.geom.GeometryType.POLYGON],d[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:l,width:c+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:u,width:c})})],d[ol.geom.GeometryType.MULTI_LINE_STRING]=d[ol.geom.GeometryType.LINE_STRING],d[ol.geom.GeometryType.CIRCLE]=d[ol.geom.GeometryType.POLYGON].concat(d[ol.geom.GeometryType.LINE_STRING]),d[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:2*c,fill:new ol.style.Fill({color:u}),stroke:new ol.style.Stroke({color:l,width:c/2})}),zIndex:1/0})],d[ol.geom.GeometryType.MULTI_POINT]=d[ol.geom.GeometryType.POINT],d[ol.geom.GeometryType.GEOMETRY_COLLECTION]=d[ol.geom.GeometryType.POLYGON].concat(d[ol.geom.GeometryType.LINE_STRING],d[ol.geom.GeometryType.POINT]),d[ol.geom.GeometryType.POLYGON]=_.concat(d[ol.geom.GeometryType.POLYGON],d[ol.geom.GeometryType.LINE_STRING]),d[ol.geom.GeometryType.GEOMETRY_COLLECTION]=_.concat(d[ol.geom.GeometryType.GEOMETRY_COLLECTION],d[ol.geom.GeometryType.LINE_STRING]),s.run=function(t,n){var i=this;this.registerPointerMoveCursor();var r=$.Deferred(),o=t.layer,a=o.getEditingLayer(),s=o.getId(),l=n.session;return this._selectInteraction=new ol.interaction.Select({layers:[a],style:function u(e){var u=d[e.getGeometry().getType()];return u}}),this.addInteraction(this._selectInteraction),this._selectInteraction.on("select",function(n){var u=n.selected[0],c=e("../../../services/editingservice"),d=e("../../../services/relationservice"),f=c._filterRelationsInEditing({layerId:s,relations:o.getRelations()?o.getRelations().getArray():[]}).filter(function(e){var t=c._getRelationId({layerId:s,relation:e}),n=c.getLayerById(t),i=c._getRelationFieldsFromRelation({layerId:t,relation:e}),r=i.ownField,o=n.getEditingFields().find(function(e){return e.name===r});return!o.validate.required}),p=f.length?c.getLayersDependencyFeatures(s,{feature:u,relations:f}):Promise.resolve();p.then(function(){var e=c.getRelationsInEditing({layerId:s,relations:f,feature:u});t.features=[u],e.forEach(function(e){for(var t=e.relation,n=e.relations,i=new d(s,{relation:t,relations:n}),r=n.length,o=0;o<r;o++)i.unlinkRelation(0,!1)}),a.getSource().removeFeature(u),i._selectInteraction.getFeatures().remove(u),l.pushDelete(s,u),r.resolve(t)})}),r.promise()},s.stop=function(){var e=this;return new Promise(function(t,n){e._selectInteraction.getFeatures().clear(),e.removeInteraction(e._selectInteraction),e.unregisterPointerMoveCursor(),e._selectInteraction=null,t(!0)})},t.exports=i},{"../../../services/editingservice":17,"../../../services/relationservice":18,"./editingtask":80}],79:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pickFeatureInteraction=null,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.ol.interactions.PickFeatureInteraction,s=g3wsdk.core.geoutils,l=s.multiGeometryToSingleGeometries,u=s.singleGeometriesToMultiGeometry,c=e("./editingtask");r(i,c);var d=i.prototype;d.run=function(e,t){var n=this,i=$.Deferred(),r=e.layer,o=e.layer.getEditingLayer(),s=r.getId(),c=t.session,d=[o];return this.pickFeatureInteraction=new a({layers:d}),this.addInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction.on("picked",function(t){var r=t.feature,a=t.coordinate;if(r){var d=r.clone(),f=r.getGeometry(),p=l(f),h=new ol.source.Vector({features:p.map(function(e){return new ol.Feature(e)})}),v=n.getMap(),g=v.getPixelFromCoordinate(a),m=new ol.layer.Vector({source:h,style:o.getStyle()});v.addLayer(m),v.once("postrender",function(){var t=!1;this.forEachFeatureAtPixel(g,function(n){if(!t){if(h.removeFeature(n),h.getFeatures().length){var a=u(h.getFeatures().map(function(e){return e.getGeometry()}));r.setGeometry(a),c.pushUpdate(s,r,d)}else o.getSource().removeFeature(r),c.pushDelete(s,r);i.resolve(e),t=!0}},{layerFilter:function(e){return e===m},hitTolerance:1}),this.removeLayer(m),m=null})}else i.resolve(e)}),i.promise()},d.stop=function(){this.removeInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction=null},t.exports=i},{"./editingtask":80}],80:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this._editingServive,this._mapService=u.getComponent("map").getService(),this.addInteraction=function(e){this._mapService.addInteraction(e)},this.removeInteraction=function(e){var t=this;setTimeout(function(){return t._mapService.removeInteraction(e)})}}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.core.geoutils.createSelectedStyle,l=g3wsdk.core.geoutils.areCoordinatesEqual,u=g3wsdk.gui.GUI,c=g3wsdk.core.workflow.Task;a(i,c);var d=i.prototype;d.getEditingType=function(){return null},d.registerPointerMoveCursor=function(){this._mapService.getMap().on("pointermove",this._pointerMoveCursor)},d.unregisterPointerMoveCursor=function(){this._mapService.getMap().un("pointermove",this._pointerMoveCursor)},d._pointerMoveCursor=function(e){var t=this.forEachFeatureAtPixel(e.pixel,function(){return!0});t?this.getTargetElement().style.cursor="pointer":this.getTargetElement().style.cursor=""},d.setSteps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._steps=e,this.setUserMessageSteps(e)},d.getSteps=function(){return this._steps},d.getMapService=function(){return this._mapService},d.getMap=function(){return this._mapService.getMap()},d.areCoordinatesEqual=function(e){var t=e.feature,n=e.coordinates,i=t.getGeometry(),r=i.getType();switch(r){case"MultiLineString":return!!_.flatMap(i.getCoordinates()).find(function(e){return l(n,e)});case"LineString":return!!i.getCoordinates().find(function(e){return l(n,e)});case"Polygon":return!!_.flatMap(i.getCoordinates()).find(function(e){return l(n,e)});case"MultiPolygon":return!!i.getPolygons().find(function(e){return!!_.flatMap(e.getCoordinates()).find(function(e){return l(n,e)})});case"Point":return l(n,i.getCoordinates());case"MultiPoint":return!!i.getCoordinates().find(function(e){return l(n,e)})}return!1},d.setFeaturesSelectedStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){var t=this.getSelectedStyle(e[0]),n=t.originalStyle,i=t.selectedStyle;return e.forEach(function(e){return e.setStyle(i)}),n}},d.getSelectedStyle=function(e){var t=e.getGeometry().getType(),n=e.getStyle(),i=s({geometryType:t});return{originalStyle:n,selectedStyle:i}},d.disableSidebar=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!this._isContentChild&&u.disableSideBar(e)},d.getEditingService=function(){return this._editingServive=this._editingServive||e("../../../services/editingservice"),this._editingServive},d.fireEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getEditingService().fireEvent(e,t)},d.setNullMediaFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,n=e.feature,i=t.getEditingMediaFields({});i.forEach(function(e){return n.set(e,null)})},d.run=function(e,t){},d.stop=function(){},d.saveSingle=function(e,t){var n=this;t.session.save().then(function(){return n.getEditingService().saveChange()})},d.cancelSingle=function(e,t){t.session.rollback()},t.exports=i},{"../../../services/editingservice":17}],81:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._drawInteraction,this._snapIteraction,o(this,e)}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=e("./editingtask");a(i,s);var l=i.prototype;l.run=function(e){var t=this,n=$.Deferred(),i=e.features;if(i.length)return this._snapIteraction=new ol.interaction.Snap({
features:new ol.Collection(i),edge:!1}),this._drawIteraction=new ol.interaction.Draw({type:"Point",condition:function(e){var n=e.coordinate;return!!i.find(function(e){return t.areCoordinatesEqual({feature:e,coordinates:n})})}}),this._drawIteraction.on("drawend",function(i){e.coordinates=i.feature.getGeometry().getCoordinates(),t.setUserMessageStepDone("from"),n.resolve(e)}),this.addInteraction(this._drawIteraction),this.addInteraction(this._snapIteraction),n.promise()},l.stop=function(){this.removeInteraction(this._drawIteraction),this.removeInteraction(this._snapIteraction),this._snapIteraction=null,this._drawIteraction=null},t.exports=i},{"./editingtask":80}],82:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask"),s=g3wsdk.gui.GUI,l=g3wsdk.ol.interactions.PickFeatureInteraction;r(i,a);var u=i.prototype;u.run=function(e,t){var n=this,i=$.Deferred();s.setModal(!1);var r=e.layer.getEditingLayer();this._originalLayerStyle=r.getStyle();var o=t.beforeRun,a=o&&"function"==typeof o?o():Promise.resolve(),u=t.exclude,c=u.field,d=u.value,f=t.style;return this._features=r.getSource().getFeatures(),this._features=c?this._features.filter(function(e){return e.get(c)!=d}):this._features,f&&this._features.forEach(function(e){e.setStyle(f)}),a.then(function(){n.pickFeatureInteraction=new l({layers:[r],features:n._features}),n.addInteraction(n.pickFeatureInteraction),n.pickFeatureInteraction.on("picked",function(t){var n=t.feature;e.features.push(n),s.setModal(!0),i.resolve(e)})})["catch"](function(){i.reject()}),i.promise()},u.stop=function(){var e=this;return s.setModal(!0),this.removeInteraction(this.pickFeatureInteraction),this._features.forEach(function(t){t.setStyle(e._originalLayerStyle)}),this.pickFeatureInteraction=null,this._features=null,this._originalLayerStyle=null,!0},t.exports=i},{"./editingtask":80}],83:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.core.geoutils.dissolve,s=e("./editingtask"),l=g3wsdk.gui.GUI,u=e("../../../vue/components/selectfeatures/selectfeatures");r(i,s);var c=i.prototype;c.run=function(e,t){var n=$.Deferred(),i=e.layer,r=e.features,o=i.getEditingLayer(),s=o.getSource(),c=i.getId(),d=t.session;if(r.length<2)l.showUserMessage({type:"warning",message:"Seleziona come minimo due features",autoclose:!0}),n.reject();else{var f=this.getMapService(),p=void 0,h=u({features:r,events:{click:function(e){p=e;var t=r[p];f.highlightGeometry(t.getGeometry(),{zoom:!1,color:"red"})}}});l.showModalDialog({title:"seleziona la feature",className:"modal-left",closeButton:!1,message:h,buttons:{cancel:{label:"Cancel",className:"btn-default",callback:function(){n.reject()}},ok:{label:"Ok",className:"btn-primary",callback:function(){if(void 0!==p){var t=r[p],i=t.clone(),o=a({features:r,index:p});o?(d.pushUpdate(c,o,i),r.splice(p,1),r.forEach(function(e){d.pushDelete(c,e),s.removeFeature(e)}),e.features=[t],n.resolve(e)):(l.showUserMessage({type:"warning",message:"No feature disolved",autoclose:!0}),n.reject())}else l.showUserMessage({type:"warning",message:"No feature selected",autoclose:!0}),n.reject()}}}})}return n.promise()},c.stop=function(){this.removeInteraction(this._pickInteraction)},t.exports=i},{"../../../vue/components/selectfeatures/selectfeatures":26,"./editingtask":80}],84:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.drawInteraction=null,this._originalStyle=null,this._feature=null,this.tooltip,this._deleteCondition=e.deleteCondition,a(this,e)}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=g3wsdk.core.utils,a=o.base,s=o.inherit,l=g3wsdk.ol.utils,u=l.createMeasureTooltip,c=l.removeMeasureTooltip,d=e("./editingtask");s(i,d);var f=i.prototype;f.run=function(e,t){var n=$.Deferred(),i=e.layer,r=i.getEditingLayer(),o=t.session,a=i.getId(),s=void 0,l=void 0,u=this._feature=e.features[0];this.deleteVertexKey,this._originalStyle=r.getStyle();var c=function(){var e=new ol.style.Circle({radius:5,fill:null,stroke:new ol.style.Stroke({color:"orange",width:2})});return[new ol.style.Style({image:e,geometry:function(e){var t=e.getGeometry().getCoordinates()[0];return new ol.geom.MultiPoint(t)}}),new ol.style.Style({stroke:new ol.style.Stroke({color:"yellow",width:4})})]};u.setStyle(c);var d=new ol.Collection(e.features);return this._modifyInteraction=new ol.interaction.Modify({features:d,deleteCondition:this._deleteCondition}),this._modifyInteraction.on("modifystart",function(e){var t=e.features.getArray()[0];l=t.clone()}),this.addInteraction(this._modifyInteraction),this._modifyInteraction.on("modifyend",function(t){var i=t.features.getArray()[0];i.getGeometry().getExtent()!==l.getGeometry().getExtent()&&(s=i.clone(),o.pushUpdate(a,s,l),e.features.push(s),n.resolve(e))}),n.promise()},f.addMeasureInteraction=function(){var e=this,t=this.getMap();this._modifyInteraction.on("modifystart",function(n){var i=n.features.getArray()[0];e.tooltip=u({map:t,feature:i})})},f.removeMeasureInteraction=function(){var e=this.getMap();this.tooltip&&c(r({map:e},this.tooltip)),this.tooltip=null},f.stop=function(){return this._feature.setStyle(this._originalStyle),this.removeInteraction(this._modifyInteraction),this._modifyInteraction=null,!0},f._isNew=function(e){return!_.isNil(this.editingLayer.getEditingSource().getFeatureById(e.getId()))},t.exports=i},{"./editingtask":80}],85:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e)}var r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=e("./editingtask");o(i,s);var l=i.prototype;l.getDeltaXY=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y,i=e.coordinates,r=function a(e){return Array.isArray(e[0])?a(e[0]):{x:e[0],y:e[1]}},o=r(i);return{x:t-o.x,y:n-o.y}},l.run=function(e,t){var n=this,i=$.Deferred(),o=e.layer,a=e.features,s=e.coordinates,l=o.getEditingLayer().getSource(),u=o.getId(),c=t.session;return this._snapIteraction=new ol.interaction.Snap({source:l,edge:!1}),this._drawInteraction=new ol.interaction.Draw({type:"Point",features:new ol.Collection}),this._drawInteraction.on("drawend",function(t){for(var d=t.feature.getGeometry().getCoordinates(),f=r(d,2),p=f[0],h=f[1],v=s?n.getDeltaXY({x:p,y:h,coordinates:s}):null,g=a.length,m=0;m<g;m++){var y=a[m].cloneNew();if(v)y.getGeometry().translate(v.x,v.y);else{var _=y.getGeometry().getCoordinates(),b=n.getDeltaXY({x:p,y:h,coordinates:_});y.getGeometry().translate(b.x,b.y)}n.setNullMediaFields({feature:y,layer:o}),l.addFeature(y),c.pushAdd(u,y),e.features.push(y)}n._steps.to.done=!0,i.resolve(e)}),this.addInteraction(this._drawInteraction),this.addInteraction(this._snapIteraction),i.promise()},l.stop=function(){return this.removeInteraction(this._drawInteraction),this.removeInteraction(this._snapIteraction),this._drawInteraction=null,this._snapIteraction=null,!0},t.exports=i},{"./editingtask":80}],86:[function(e,t,n){function i(e){this.drawInteraction=null,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask");r(i,a);var s=i.prototype;s.run=function(e,t){var n=$.Deferred(),i=e.layer,r=t.session,o=i.getId(),a=new ol.Collection(e.features),s=null;return this._translateInteraction=new ol.interaction.Translate({features:a,hitTolerance:isMobile&&isMobile.any?10:0}),this.addInteraction(this._translateInteraction),this._translateInteraction.on("translatestart",function(e){var t=e.features.getArray()[0];s=t.clone()}),this._translateInteraction.on("translateend",function(t){var i=t.features.getArray()[0],a=i.clone();r.pushUpdate(o,a,s),n.resolve(e)}),n.promise()},s.stop=function(){this.removeInteraction(this._translateInteraction),this._translateInteraction=null},t.exports=i},{"./editingtask":80}],87:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._edit_relations=void 0===e.edit_relations||e._edit_relations,this._formIdPrefix="form_",this._isContentChild=!1,this._features,this._originalLayer,this._editingLayer,this._layerName,this._originalFeatures,this._fields,this._session,this._editorFormStructure,this._multi=e.multi||!1,o(this,e)}var r=g3wsdk.core.utils,o=r.base,a=r.inherit,s=g3wsdk.gui.GUI,l=g3wsdk.core.workflow.WorkflowsStack,u=e("./editingtask"),c=e("../../../form/editingform");a(i,u),t.exports=i;var d=i.prototype;d._getForm=function(e,t){var n=t.excludeFields;if(this._isContentChild=!!(l.getLength()>1),this._session=t.session,this._originalLayer=e.layer,this._editingLayer=this._originalLayer.getEditingLayer(),this._layerName=this._originalLayer.getName(),this._features=this._multi?e.features:[e.features[e.features.length-1]],this._originalFeatures=this._features.map(function(e){return e.clone()}),this._fields=this._originalLayer.getFieldsWithValues(this._features[0],{exclude:n}),this._fields=this._multi?this._fields.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.value=null,t.forceNull=!0,t.validate.required=!1,t}).filter(function(e){return!e.pk}):this._fields,this._originalLayer.hasFormStructure()){var i=this._originalLayer.getEditorFormStructure();this._editorFormStructure=i.length?i:null}return s.showContentFactory("form")},d._cancelFnc=function(e,t){return function(){s.setModal(!1),this.fireEvent("cancelform",t.features),e.reject(t)}},d._saveFeatures=function(e){var t=this,n=e.fields,i=e.promise,r=e.session,o=e.inputs;if(n=this._multi?n.filter(function(e){return null!==e.value}):n,n.length){var a=this._originalLayer.getId(),l=[];this._features.forEach(function(e){t._originalLayer.setFieldsWithValues(e,n),l.push(e.clone())}),this._isContentChild&&(o.relationFeatures={newFeatures:l,originalFeatures:this._originalFeatures}),this.fireEvent("saveform",{newFeatures:l,originalFeatures:this._originalFeatures}).then(function(){l.forEach(function(e,n){r.pushUpdate(a,e,t._originalFeatures[n])}),s.setModal(!1),i.resolve(o),t.fireEvent("savedfeature",l)})}else s.setModal(!1),i.resolve(o)},d._saveFnc=function(e,t,n){return function(i){var r=t.session;this._saveFeatures({fields:i,promise:e,session:r,inputs:n})}},d.startForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getEditingService().setCurrentLayout();var t=e.inputs,n=e.context,i=e.promise,r=n.session,o=e.formComponent||c,a=this._getForm(t,n),s=this._originalLayer.getId(),u=this._originalFeatures[0],d=!(this._originalFeatures.length>1)&&u.isNew(),f=a({formComponent:o,title:"plugins.editing.editing_attributes",name:this._layerName,id:this._generateFormId(this._layerName),dataid:this._layerName,layer:this._originalLayer,isnew:d,feature:u,fields:this._fields,context_inputs:!this._multi&&this._edit_relations&&{context:n,inputs:t},formStructure:this._editorFormStructure,modal:!0,push:this._isContentChild,showgoback:!this._isContentChild,buttons:[{title:this._isContentChild?"plugins.editing.form.buttons.save_and_back":"plugins.editing.form.buttons.save",type:"save","class":"btn-success",cbk:this._saveFnc(i,n,t).bind(this)},{title:"plugins.editing.form.buttons.cancel",type:"cancel","class":"btn-danger",cbk:this._cancelFnc(i,t).bind(this)}]});this.fireEvent("openform",{layerId:s,session:r,feature:this._originalFeature,formService:f});var p=l.getCurrent();p&&p.setContextService(f)},d.run=function(e,t){var n=$.Deferred();return this.startForm({inputs:e,context:t,promise:n}),this.disableSidebar(!0),n.promise()},d._generateFormId=function(e){return this._formIdPrefix+e},d.stop=function(){this.disableSidebar(!1),this._isContentChild?s.popContent():s.closeForm(),this.getEditingService().resetCurrentLayout()}},{"../../../form/editingform":13,"./editingtask":80}],88:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._formIdPrefix="form_",a(this,e)}var r=g3wsdk.core.utils,o=r.inherit,a=r.base,s=g3wsdk.gui.GUI,l=g3wsdk.core.workflow.WorkflowsStack,u=e("../../../table/vue/table"),c=e("./editingtask");o(i,c);var d=i.prototype;d.run=function(e,t){var n=this;this.getEditingService().setCurrentLayout();var i=$.Deferred(),r=e.layer,o=r.getName(),a=r.getEditingFields();this._isContentChild=l.getLength()>1;var c=this._isContentChild?t.excludeFields[0]:null,d=this._isContentChild&&t.exclude,f=r.getEditingCapabilities(),p=r.getEditingLayer(),h=p.readEditingFeatures();if(d&&h.length){var v=d.value;h=h.filter(function(e){var t=e.get(c);return t!=v})}var g=new u({title:""+o,features:h,promise:i,push:this._isContentChild,headers:a,context:t,inputs:e,capabilities:f,fatherValue:t.fatherValue,foreignKey:c});return s.disableSideBar(!0),s.showUserMessage({type:"loading",message:"plugins.editing.messages.loading_table_data",autoclose:!1,closable:!1}),setTimeout(function(){g.once("ready",function(){return setTimeout(function(){s.disableSideBar(!1),s.closeUserMessage()})}),s.showContent({content:g,perc:100,push:n._isContentChild,showgoback:!1,closable:!1})},100),i.promise()},d._generateFormId=function(e){return""+this._formIdPrefix+e},d.stop=function(){this.disableSidebar(!1),this._isContentChild?s.popContent():s.closeContent(),this.getEditingService().resetCurrentLayout()},t.exports=i},{"../../../table/vue/table":21,"./editingtask":80}],89:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options={highlight:e.highlight||!1,multi:e.multi||!1},this.pickFeatureInteraction=null,this._busy=!1,this._tools=e.tools||[],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.ol.interactions.PickFeatureInteraction,s=e("./editingtask");r(i,s);var l=i.prototype;l.run=function(e,t,n){var i=this,r=$.Deferred(),o=e.layer.getEditingLayer(),s=[o],l=void 0;return this.pickFeatureInteraction=new a({layers:s,features:e.features}),this.addInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction.on("picked",function(t){var o=t.feature;l=i.setFeaturesSelectedStyle([o]),0===e.features.length&&e.features.push(o),n.micro.addTask(function(){e.features.forEach(function(e){return e.setStyle(l)})}),i._steps&&i.setUserMessageStepDone("select"),r.resolve(e)}),r.promise()},l.stop=function(){return this.removeInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction=null,!0},t.exports=i},{"./editingtask":80}],90:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._type=e.type||"bbox",this._selectInteractions=[],this.multipleselectfeatures=[],this._originalStyle,this._vectorLayer,a(this,e)}var r=g3wsdk.core.ApplicationState,o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=e("./editingtask"),l=g3wsdk.ol.interactions.PickFeatureInteraction;o(i,s);var u=i.prototype;u.addSingleSelectInteraction=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layer,i=t.inputs,r=t.promise,o=t.buttonnext,a=void 0!==o&&o,s=new l({layers:[n.getEditingLayer()]});s.on("picked",function(t){var n=t.feature;if(n){var o=[n];i.features=o,a?e.addRemoveToMultipleSelectFeatures([n],i):(e._originalStyle=e.setFeaturesSelectedStyle(o),e._steps&&e.setUserMessageStepDone("select"),r.resolve(i))}}),this._selectInteractions.push(s),this.addInteraction(s)},u.addRemoveToMultipleSelectFeatures=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];t.forEach(function(t){var i=e.multipleselectfeatures.indexOf(t);i<0?(e._originalStyle=e.setFeaturesSelectedStyle([t]),e.multipleselectfeatures.push(t)):(e.multipleselectfeatures.splice(i,1),t.setStyle(e._originalStyle)),n.features=e.multipleselectfeatures}),this._steps.select.buttonnext.disabled=this._steps.select.buttonnext.condition?this._steps.select.buttonnext.condition({features:this.multipleselectfeatures}):0===this.multipleselectfeatures.length,void 0!==this._steps.select.dynamic&&(this._steps.select.dynamic=this.multipleselectfeatures.length)},u.addMultipleSelectInteraction=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layer,i=t.inputs,o=t.promise,a=t.buttonnext,s=void 0!==a&&a,l=void 0;if(r.ismobile){var u=ol.interaction.Draw.createBox(),c=new ol.source.Vector({});this._vectorLayer=new ol.layer.Vector({source:c}),this.getMap().addLayer(this._vectorLayer),l=new ol.interaction.Draw({type:"Circle",source:c,geometryFunction:u}),l.on("drawend",function(t){var r=t.feature,a=r.getGeometry().getExtent(),l=n.getEditingLayer().getSource(),u=l.getFeaturesInExtent(a);s?e.addRemoveToMultipleSelectFeatures(u,i):u.length?(i.features=u,e._originalStyle=e.setFeaturesSelectedStyle(u),e._steps&&e.setUserMessageStepDone("select"),setTimeout(function(){o.resolve(i)},500)):o.reject()})}else l=new ol.interaction.DragBox({condition:ol.events.condition.shiftKeyOnly}),l.on("boxend",function(t){var r=[],a=l.getGeometry().getExtent(),u=n.getEditingLayer().getSource();u.forEachFeatureIntersectingExtent(a,function(e){r.push(e)}),s?e.addRemoveToMultipleSelectFeatures(r,i):r.length?(i.features=r,e._originalStyle=e.setFeaturesSelectedStyle(r),e._steps&&e.setUserMessageStepDone("select"),o.resolve(i)):o.reject()});this._selectInteractions.push(l),this.addInteraction(l)},u.run=function(e,t,n){var i=this,r=e.layer,o=$.Deferred();switch(this._type){case"single":this.addSingleSelectInteraction({layer:r,inputs:e,promise:o});break;case"multiple":var a=!!this._steps.select.buttonnext;a&&(this._steps.select.buttonnext.done=function(){o.resolve(e)}),this.addSingleSelectInteraction({layer:r,inputs:e,promise:o,buttonnext:a}),this.addMultipleSelectInteraction({layer:r,inputs:e,promise:o,buttonnext:a});break;case"bbox":this.addMultipleSelectInteraction({layer:r,inputs:e,promise:o})}return n.micro.addTask(function(){e.features.forEach(function(e){return e.setStyle(i._originalStyle)})}),o.promise()},u.stop=function(e,t){var n=this;this._selectInteractions.forEach(function(e){n.removeInteraction(e)}),this._vectorLayer&&this.getMap().removeLayer(this._vectorLayer),this._vectorLayer=null,this._originalStyle=null,this._selectInteractions=[],this.multipleselectfeatures=[]},t.exports=i},{"./editingtask":80}],91:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.core.geoutils.splitFeatures,s=g3wsdk.core.layer.features.Feature,l=g3wsdk.gui.GUI,u=e("./editingtask");r(i,u);var c=i.prototype;c.run=function(e,t){var n=this,i=$.Deferred(),r=e.layer,o=e.features,s=r.getEditingLayer().getSource(),u=t.session;return this._snapIteraction=new ol.interaction.Snap({source:s,edge:!0}),this._drawInteraction=new ol.interaction.Draw({type:"LineString",features:new ol.Collection,freehandCondition:ol.events.condition.never}),this._drawInteraction.on("drawend",function(t){var r=t.feature,s=!1,c=a({splitfeature:r,features:o});c.forEach(function(t){var i=t.uid,r=t.geometries;if(r.length>1){s=!0;var a=o.find(function(e){return e.getUid()===i});n._handleSplitFeature({feature:a,splittedGeometries:r,inputs:e,session:u})}}),s?i.resolve(e):(l.showUserMessage({type:"warning",message:"plugins.editing.messages.nosplittedfeature",autoclose:!0}),i.reject())}),this.addInteraction(this._drawInteraction),this.addInteraction(this._snapIteraction),i.promise()},c._handleSplitFeature=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.feature,i=t.inputs,r=t.session,o=t.splittedGeometries,a=void 0===o?[]:o,u=[],c=i.layer,d=c.getEditingLayer().getSource(),f=c.getId(),p=n.clone();return i.features=a.length?[]:i.features,a.forEach(function(t,o){if(0===o)n.setGeometry(t),r.pushUpdate(f,n,p);else{var a=p.cloneNew();a.setGeometry(t),e.setNullMediaFields({layer:c,feature:a}),n=new s({feature:a}),n.setTemporaryId(),d.addFeature(n),u.push(r.pushAdd(f,n))}i.features.push(n)}),l.showUserMessage({type:"success",message:"plugins.editing.messages.splitted",autoclose:!0}),u},c.stop=function(){this.removeInteraction(this._drawInteraction),this.removeInteraction(this._snapIteraction),this._drawInteraction=null,this._snapIteraction=null},t.exports=i},{"./editingtask":80}]},{},[15]);