!function(){function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}return e}()({1:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?v=h.concat(v):y=-1,v.length&&l())}function l(){if(!g){var e=o(s);g=!0;for(var t=v.length;t;){for(h=v,v=[];++y<t;)h&&h[y].run();y=-1,t=v.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,f,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,v=[],g=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||g||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(t,i){function r(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;n.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,i=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:2}],3:[function(e,t,n){function i(e,t){if(t.functional){var n=t.render;t.render=function(t,i){var r=u[e].instances;return i&&r.indexOf(i.parent)<0&&r.push(i.parent),n(t,i)}}else r(t,p,function(){var t=u[e];t.Ctor||(t.Ctor=this.constructor),t.instances.push(this)}),r(t,"beforeDestroy",function(){var t=u[e].instances;t.splice(t.indexOf(this),1)})}function r(e,t,n){var i=e[t];e[t]=i?Array.isArray(i)?i.concat(n):[i,n]:[n]}function o(e){return function(t,n){try{e(t,n)}catch(i){}}}function a(e,t){for(var n in e)n in t||delete e[n];for(var i in t)e[i]=t[i]}function s(e){if(e._u){var t=e._u;return e._u=function(e){try{return t(e,!0)}catch(n){return t(e,null,!0)}},function(){e._u=t}}}var l,c,u=Object.create(null);"undefined"!=typeof window&&(window.__VUE_HOT_MAP__=u);var d=!1,f=!1,p="beforeCreate";n.install=function(e,t){d||(d=!0,l=e.__esModule?e["default"]:e,c=l.version.split(".").map(Number),f=t,l.config._lifecycleHooks.indexOf("init")>-1&&(p="init"),n.compatible=c[0]>=2,!n.compatible)},n.createRecord=function(e,t){if(!u[e]){var n=null;"function"==typeof t&&(n=t,t=n.options),i(e,t),u[e]={Ctor:n,options:t,instances:[]}}},n.isRecorded=function(e){return"undefined"!=typeof u[e]},n.rerender=o(function(e,t){var n=u[e];if(!t)return void n.instances.slice().forEach(function(e){e.$forceUpdate()});if("function"==typeof t&&(t=t.options),n.Ctor)n.Ctor.options.render=t.render,n.Ctor.options.staticRenderFns=t.staticRenderFns,n.instances.slice().forEach(function(e){e.$options.render=t.render,e.$options.staticRenderFns=t.staticRenderFns,e._staticTrees&&(e._staticTrees=[]),Array.isArray(n.Ctor.options.cached)&&(n.Ctor.options.cached=[]),Array.isArray(e.$options.cached)&&(e.$options.cached=[]);var i=s(e);e.$forceUpdate(),e.$nextTick(i)});else if(n.options.render=t.render,n.options.staticRenderFns=t.staticRenderFns,n.options.functional){if(Object.keys(t).length>2)a(n.options,t);else{var i=n.options._injectStyles;if(i){var r=t.render;n.options.render=function(e,t){return i.call(t),r(e,t)}}}n.options._Ctor=null,Array.isArray(n.options.cached)&&(n.options.cached=[]),n.instances.slice().forEach(function(e){e.$forceUpdate()})}}),n.reload=o(function(e,t){var n=u[e];if(t)if("function"==typeof t&&(t=t.options),i(e,t),n.Ctor){c[1]<2&&(n.Ctor.extendOptions=t);var r=n.Ctor["super"].extend(t);r.options._Ctor=n.options._Ctor,n.Ctor.options=r.options,n.Ctor.cid=r.cid,n.Ctor.prototype=r.prototype,r.release&&r.release()}else a(n.options,t);n.instances.slice().forEach(function(e){e.$vnode&&e.$vnode.context&&e.$vnode.context.$forceUpdate()})})},{}],4:[function(e,t,n){(function(e,n){"use strict";function i(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function o(e){return e===!0}function a(e){return e===!1}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function l(e){return null!==e&&"object"==typeof e}function c(e){return Wi.call(e).slice(8,-1)}function u(e){return"[object Object]"===Wi.call(e)}function d(e){return"[object RegExp]"===Wi.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return r(e)&&"function"==typeof e.then&&"function"==typeof e["catch"]}function h(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===Wi?JSON.stringify(e,null,2):String(e)}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function m(e,t){return Yi.call(e,t)}function _(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}}function w(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function b(e,t){return e.bind(t)}function k(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function x(e,t){for(var n in t)e[n]=t[n];return e}function C(e){for(var t={},n=0;n<e.length;n++)e[n]&&x(t,e[n]);return t}function S(e,t,n){}function I(e,t){if(e===t)return!0;var n=l(e),i=l(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every(function(e,n){return I(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(n){return I(e[n],t[n])})}catch(c){return!1}}function E(e,t){for(var n=0;n<e.length;n++)if(I(e[n],t))return n;return-1}function T(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function A(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function F(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function O(e){if(!cr.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function $(e){return"function"==typeof e&&/native code/.test(e.toString())}function L(e){Nr.push(e),jr.target=e}function P(){Nr.pop(),jr.target=Nr[Nr.length-1]}function D(e){return new Br((void 0),(void 0),(void 0),String(e))}function M(e){var t=new Br(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function R(e){Kr=e}function j(e,t){e.__proto__=t}function N(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];F(e,o,t[o])}}function B(e,t){if(l(e)&&!(e instanceof Br)){var n;return m(e,"__ob__")&&e.__ob__ instanceof qr?n=e.__ob__:Kr&&!Ir()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new qr(e)),t&&n&&n.vmCount++,n}}function U(e,t,n,i,r){var o=new jr,a=Object.getOwnPropertyDescriptor(e,t);if(!a||a.configurable!==!1){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=e[t]);var c=!r&&B(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return jr.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&z(t))),t},set:function(t){var a=s?s.call(e):n;t===a||t!==t&&a!==a||(i&&i(),s&&!l||(l?l.call(e,t):n=t,c=!r&&B(t),o.notify()))}})}}function G(e,t,n){if((i(e)||s(e))&&Ar("Cannot set reactive property on undefined, null, or primitive value: "+e),Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?(Ar("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):r?(U(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function V(e,t){if((i(e)||s(e))&&Ar("Cannot delete reactive property on undefined, null, or primitive value: "+e),Array.isArray(e)&&f(t))return void e.splice(t,1);var n=e.__ob__;return e._isVue||n&&n.vmCount?void Ar("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):void(m(e,t)&&(delete e[t],n&&n.dep.notify()))}function z(e){for(var t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&z(t)}function H(e,t){if(!t)return e;for(var n,i,r,o=Tr?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(i=e[n],r=t[n],m(e,n)?i!==r&&u(i)&&u(r)&&H(i,r):G(e,n,r));return e}function W(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?H(i,r):r}:t?e?function(){return H("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function K(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?q(n):n}function q(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}function Y(e,t,n,i){var r=Object.create(e||null);return t?(te(i,t,n),x(r,t)):r}function X(e){for(var t in e.components)J(t)}function J(e){new RegExp("^[a-zA-Z][\\-\\.0-9_"+lr.source+"]*$").test(e)||Ar('Invalid component name: "'+e+'". Component names should conform to valid custom element name in html5 specification.'),(Ki(e)||sr.isReservedTag(e))&&Ar("Do not use built-in or reserved HTML elements as component id: "+e)}function Z(e,t){var n=e.props;if(n){var i,r,o,a={};if(Array.isArray(n))for(i=n.length;i--;)r=n[i],"string"==typeof r?(o=Ji(r),a[o]={type:null}):Ar("props must be strings when using array syntax.");else if(u(n))for(var s in n)r=n[s],o=Ji(s),a[o]=u(r)?r:{type:r};else Ar('Invalid value for option "props": expected an Array or an Object, but got '+c(n)+".",t);e.props=a}}function Q(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var o in n){var a=n[o];i[o]=u(a)?x({from:o},a):{from:a}}else Ar('Invalid value for option "inject": expected an Array or an Object, but got '+c(n)+".",t)}}function ee(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}function te(e,t,n){u(t)||Ar('Invalid value for option "'+e+'": expected an Object, but got '+c(t)+".",n)}function ne(e,t,n){function i(i){var r=Yr[i]||Jr;s[i]=r(e[i],t[i],n,i)}if(X(t),"function"==typeof t&&(t=t.options),Z(t,n),Q(t,n),ee(t),!t._base&&(t["extends"]&&(e=ne(e,t["extends"],n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=ne(e,t.mixins[r],n);var a,s={};for(a in e)i(a);for(a in t)m(e,a)||i(a);return s}function ie(e,t,n,i){if("string"==typeof n){var r=e[t];if(m(r,n))return r[n];var o=Ji(n);if(m(r,o))return r[o];var a=Zi(o);if(m(r,a))return r[a];var s=r[n]||r[o]||r[a];return i&&!s&&Ar("Failed to resolve "+t.slice(0,-1)+": "+n,e),s}}function re(e,t,n,i){var r=t[e],o=!m(n,e),a=n[e],s=ue(Boolean,r.type);if(s>-1)if(o&&!m(r,"default"))a=!1;else if(""===a||a===er(e)){var l=ue(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=oe(i,r,e);var c=Kr;R(!0),B(a),R(c)}return ae(r,e,a,i,o),a}function oe(e,t,n){if(m(t,"default")){var i=t["default"];return l(i)&&Ar('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',e),e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==le(t.type)?i.call(e):i}}function ae(e,t,n,i,r){if(e.required&&r)return void Ar('Missing required prop: "'+t+'"',i);if(null!=n||e.required){var o=e.type,a=!o||o===!0,s=[];if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length&&!a;l++){var c=se(n,o[l]);s.push(c.expectedType||""),a=c.valid}}if(!a)return void Ar(de(t,n,s),i);var u=e.validator;u&&(u(n)||Ar('Invalid prop: custom validator check failed for prop "'+t+'".',i))}}function se(e,t){var n,i=le(t);if(Zr.test(i)){var r=typeof e;n=r===i.toLowerCase(),n||"object"!==r||(n=e instanceof t)}else n="Object"===i?u(e):"Array"===i?Array.isArray(e):e instanceof t;return{valid:n,expectedType:i}}function le(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function ce(e,t){return le(e)===le(t)}function ue(e,t){if(!Array.isArray(t))return ce(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(ce(t[n],e))return n;return-1}function de(e,t,n){var i='Invalid prop: type check failed for prop "'+e+'". Expected '+n.map(Zi).join(", "),r=n[0],o=c(t),a=fe(t,r),s=fe(t,o);return 1===n.length&&pe(r)&&!he(r,o)&&(i+=" with value "+a),i+=", got "+o+" ",pe(o)&&(i+="with value "+s+"."),i}function fe(e,t){return"String"===t?'"'+e+'"':"Number"===t?""+Number(e):""+e}function pe(e){var t=["string","number","boolean"];return t.some(function(t){return e.toLowerCase()===t})}function he(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.some(function(e){return"boolean"===e.toLowerCase()})}function ve(e,t,n){L();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var a=r[o].call(i,e,t,n)===!1;if(a)return}catch(s){ye(s,i,"errorCaptured hook")}}ye(e,t,n)}finally{P()}}function ge(e,t,n,i,r){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&p(o)&&!o._handled&&(o["catch"](function(e){return ve(e,i,r+" (Promise/async)")}),o._handled=!0)}catch(a){ve(a,i,r)}return o}function ye(e,t,n){if(sr.errorHandler)try{return sr.errorHandler.call(null,e,t,n)}catch(i){i!==e&&me(i,null,"config.errorHandler")}me(e,t,n)}function me(e,t,n){if(Ar("Error in "+n+': "'+e.toString()+'"',t),!dr&&!fr||"undefined"==typeof console)throw e}function _e(){to=!1;var e=eo.slice(0);eo.length=0;for(var t=0;t<e.length;t++)e[t]()}function we(e,t){var n;if(eo.push(function(){if(e)try{e.call(t)}catch(i){ve(i,t,"nextTick")}else n&&n(t)}),to||(to=!0,Xr()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function be(e){ke(e,yo),yo.clear()}function ke(e,t){var n,i,r=Array.isArray(e);if(!(!r&&!l(e)||Object.isFrozen(e)||e instanceof Br)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r)for(n=e.length;n--;)ke(e[n],t);else for(i=Object.keys(e),n=i.length;n--;)ke(e[i[n]],t)}}function xe(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return ge(i,null,arguments,t,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)ge(r[o],null,e,t,"v-on handler")}return n.fns=e,n}function Ce(e,t,n,r,a,s){var l,c,u,d,f;for(l in e)c=u=e[l],d=t[l],f=_o(l),i(u)?Ar('Invalid handler for event "'+f.name+'": got '+String(u),s):i(d)?(i(u.fns)&&(u=e[l]=xe(u,s)),o(f.once)&&(u=e[l]=a(f.name,u,f.capture)),n(f.name,u,f.capture,f.passive,f.params)):u!==d&&(d.fns=u,e[l]=d);for(l in t)i(e[l])&&(f=_o(l),r(f.name,t[l],f.capture))}function Se(e,t,n){function a(){n.apply(this,arguments),y(s.fns,a)}e instanceof Br&&(e=e.data.hook||(e.data.hook={}));var s,l=e[t];i(l)?s=xe([a]):r(l.fns)&&o(l.merged)?(s=l,s.fns.push(a)):s=xe([l,a]),s.merged=!0,e[t]=s}function Ie(e,t,n){var o=t.options.props;if(!i(o)){var a={},s=e.attrs,l=e.props;if(r(s)||r(l))for(var c in o){var u=er(c),d=c.toLowerCase();c!==d&&s&&m(s,d)&&Fr('Prop "'+d+'" is passed to component '+$r(n||t)+', but the declared prop name is "'+c+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+u+'" instead of "'+c+'".'),Ee(a,l,c,u,!0)||Ee(a,s,c,u,!1)}return a}}function Ee(e,t,n,i,o){if(r(t)){if(m(t,n))return e[n]=t[n],o||delete t[n],!0;if(m(t,i))return e[n]=t[i],o||delete t[i],!0}return!1}function Te(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Ae(e){return s(e)?[D(e)]:Array.isArray(e)?Oe(e):void 0}function Fe(e){return r(e)&&r(e.text)&&a(e.isComment)}function Oe(e,t){var n,a,l,c,u=[];for(n=0;n<e.length;n++)a=e[n],i(a)||"boolean"==typeof a||(l=u.length-1,c=u[l],Array.isArray(a)?a.length>0&&(a=Oe(a,(t||"")+"_"+n),Fe(a[0])&&Fe(c)&&(u[l]=D(c.text+a[0].text),a.shift()),u.push.apply(u,a)):s(a)?Fe(c)?u[l]=D(c.text+a):""!==a&&u.push(D(a)):Fe(a)&&Fe(c)?u[l]=D(c.text+a.text):(o(e._isVList)&&r(a.tag)&&i(a.key)&&r(t)&&(a.key="__vlist"+t+"_"+n+"__"),u.push(a)));return u}function $e(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function Le(e){var t=Pe(e.$options.inject,e);t&&(R(!1),Object.keys(t).forEach(function(n){U(e,n,t[n],function(){Ar('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+n+'"',e)})}),R(!0))}function Pe(e,t){if(e){for(var n=Object.create(null),i=Tr?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var a=e[o].from,s=t;s;){if(s._provided&&m(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var l=e[o]["default"];n[o]="function"==typeof l?l.call(t):l}else Ar('Injection "'+o+'" not found',t)}}return n}}function De(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n["default"]||(n["default"]=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(Me)&&delete n[c];return n}function Me(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Re(e,t,n){var i,r=Object.keys(t).length>0,o=e?!!e.$stable:!r,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==Hi&&a===n.$key&&!r&&!n.$hasNormal)return n;i={};for(var s in e)e[s]&&"$"!==s[0]&&(i[s]=je(t,s,e[s]))}else i={};for(var l in t)l in i||(i[l]=Ne(t,l));return e&&Object.isExtensible(e)&&(e._normalized=i),F(i,"$stable",o),F(i,"$key",a),F(i,"$hasNormal",r),i}function je(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:Ae(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function Ne(e,t){return function(){return e[t]}}function Be(e,t){var n,i,o,a,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,o=e.length;i<o;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(l(e))if(Tr&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),u=c.next();!u.done;)n.push(t(u.value,n.length)),u=c.next()}else for(a=Object.keys(e),n=new Array(a.length),i=0,o=a.length;i<o;i++)s=a[i],n[i]=t(e[s],s,i);return r(n)||(n=[]),n._isVList=!0,n}function Ue(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(l(i)||Ar("slot v-bind without argument expects an Object",this),n=x(x({},i),n)),r=o(n)||t):r=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function Ge(e){return ie(this.$options,"filters",e,!0)||ir}function Ve(e,t){return Array.isArray(e)?e.indexOf(t)===-1:e!==t}function ze(e,t,n,i,r){var o=sr.keyCodes[t]||n;return r&&i&&!sr.keyCodes[t]?Ve(r,i):o?Ve(o,e):i?er(i)!==t:void 0}function He(e,t,n,i,r){if(n)if(l(n)){Array.isArray(n)&&(n=C(n));var o,a=function(a){if("class"===a||"style"===a||qi(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||sr.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=Ji(a),c=er(a);if(!(l in o||c in o)&&(o[a]=n[a],r)){var u=e.on||(e.on={});u["update:"+a]=function(e){n[a]=e}}};for(var s in n)a(s)}else Ar("v-bind without argument expects an Object or Array value",this);return e}function We(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t?i:(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),qe(i,"__static__"+e,!1),i)}function Ke(e,t,n){return qe(e,"__once__"+t+(n?"_"+n:""),!0),e}function qe(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Ye(e[i],t+"_"+i,n);else Ye(e,t,n)}function Ye(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Xe(e,t){if(t)if(u(t)){var n=e.on=e.on?x({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}else Ar("v-on without argument expects an Object value",this);return e}function Je(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?Je(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function Ze(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i?e[t[n]]=t[n+1]:""!==i&&null!==i&&Ar("Invalid value for dynamic directive argument (expected string or null): "+i,this)}return e}function Qe(e,t){return"string"==typeof e?t+e:e}function et(e){e._o=Ke,e._n=v,e._s=h,e._l=Be,e._t=Ue,e._q=I,e._i=E,e._m=We,e._f=Ge,e._k=ze,e._b=He,e._v=D,e._e=Gr,e._u=Je,e._g=Xe,e._d=Ze,e._p=Qe}function tt(e,t,n,i,r){var a,s=this,l=r.options;m(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var c=o(l._compiled),u=!c;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||Hi,this.injections=Pe(l.inject,i),this.slots=function(){return s.$slots||Re(e.scopedSlots,s.$slots=De(n,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Re(e.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Re(e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,t,n,r){var o=ut(a,e,t,n,r,u);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,i){return ut(a,e,t,n,i,u)}}function nt(e,t,n,i,o){var a=e.options,s={},l=a.props;if(r(l))for(var c in l)s[c]=re(c,l,t||Hi);else r(n.attrs)&&rt(s,n.attrs),r(n.props)&&rt(s,n.props);var u=new tt(n,s,o,i,e),d=a.render.call(null,u._c,u);if(d instanceof Br)return it(d,n,u.parent,a,u);if(Array.isArray(d)){for(var f=Ae(d)||[],p=new Array(f.length),h=0;h<f.length;h++)p[h]=it(f[h],n,u.parent,a,u);return p}}function it(e,t,n,i,r){var o=M(e);return o.fnContext=n,o.fnOptions=i,(o.devtoolsMeta=o.devtoolsMeta||{}).renderContext=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function rt(e,t){for(var n in t)e[Ji(n)]=t[n]}function ot(e,t,n,a,s){if(!i(e)){var c=n.$options._base;if(l(e)&&(e=c.extend(e)),"function"!=typeof e)return void Ar("Invalid Component definition: "+String(e),n);var u;if(i(e.cid)&&(u=e,e=mt(u,c),void 0===e))return yt(u,t,n,a,s);t=t||{},rn(e),r(t.model)&&ct(e.options,t);var d=Ie(t,e,s);if(o(e.options.functional))return nt(e,d,t,n,a);var f=t.on;if(t.on=t.nativeOn,o(e.options["abstract"])){var p=t.slot;t={},p&&(t.slot=p)}st(t);var h=e.options.name||s,v=new Br("vue-component-"+e.cid+(h?"-"+h:""),t,(void 0),(void 0),(void 0),n,{Ctor:e,propsData:d,listeners:f,tag:s,children:a},u);return v}}function at(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(n)}function st(e){for(var t=e.hook||(e.hook={}),n=0;n<ko.length;n++){var i=ko[n],r=t[i],o=bo[i];r===o||r&&r._merged||(t[i]=r?lt(o,r):o)}}function lt(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function ct(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[i],s=t.model.callback;r(a)?(Array.isArray(a)?a.indexOf(s)===-1:a!==s)&&(o[i]=[s].concat(a)):o[i]=s}function ut(e,t,n,i,r,a){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),o(a)&&(r=Co),dt(e,t,n,i,r)}function dt(e,t,n,i,o){if(r(n)&&r(n.__ob__))return Ar("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",e),Gr();if(r(n)&&r(n.is)&&(t=n.is),!t)return Gr();r(n)&&r(n.key)&&!s(n.key)&&Ar("Avoid using non-primitive value as key, use string/number value instead.",e),Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={"default":i[0]},i.length=0),o===Co?i=Ae(i):o===xo&&(i=Te(i));var a,l;if("string"==typeof t){var c;l=e.$vnode&&e.$vnode.ns||sr.getTagNamespace(t),sr.isReservedTag(t)?(r(n)&&r(n.nativeOn)&&Ar("The .native modifier for v-on is only valid on components but it was used on <"+t+">.",e),a=new Br(sr.parsePlatformTagName(t),n,i,(void 0),(void 0),e)):a=n&&n.pre||!r(c=ie(e.$options,"components",t))?new Br(t,n,i,(void 0),(void 0),e):ot(c,n,e,i,t)}else a=ot(t,n,e,i);return Array.isArray(a)?a:r(a)?(r(l)&&ft(a,l),r(n)&&pt(n),a):Gr()}function ft(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),r(e.children))for(var a=0,s=e.children.length;a<s;a++){var l=e.children[a];r(l.tag)&&(i(l.ns)||o(n)&&"svg"!==l.tag)&&ft(l,t,n)}}function pt(e){l(e.style)&&be(e.style),l(e["class"])&&be(e["class"])}function ht(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=De(t._renderChildren,i),e.$scopedSlots=Hi,e._c=function(t,n,i,r){return ut(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return ut(e,t,n,i,r,!0)};var r=n&&n.data;U(e,"$attrs",r&&r.attrs||Hi,function(){!Eo&&Ar("$attrs is readonly.",e)},!0),U(e,"$listeners",t._parentListeners||Hi,function(){!Eo&&Ar("$listeners is readonly.",e)},!0)}function vt(e){et(e.prototype),e.prototype.$nextTick=function(e){return we(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,i=t._parentVnode;i&&(e.$scopedSlots=Re(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;var r;try{So=e,r=n.call(e._renderProxy,e.$createElement)}catch(o){if(ve(o,e,"render"),e.$options.renderError)try{r=e.$options.renderError.call(e._renderProxy,e.$createElement,o)}catch(o){ve(o,e,"renderError"),r=e._vnode}else r=e._vnode}finally{So=null}return Array.isArray(r)&&1===r.length&&(r=r[0]),r instanceof Br||(Array.isArray(r)&&Ar("Multiple root nodes returned from render function. Render function should return a single root node.",e),r=Gr()),r.parent=i,r}}function gt(e,t){return(e.__esModule||Tr&&"Module"===e[Symbol.toStringTag])&&(e=e["default"]),l(e)?t.extend(e):e}function yt(e,t,n,i,r){var o=Gr();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}function mt(e,t){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var n=So;if(n&&r(e.owners)&&e.owners.indexOf(n)===-1&&e.owners.push(n),o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(n&&!r(e.owners)){var a=e.owners=[n],s=!0,c=null,u=null;n.$on("hook:destroyed",function(){return y(a,n)});var d=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},f=T(function(n){e.resolved=gt(n,t),s?a.length=0:d(!0)}),h=T(function(t){Ar("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),r(e.errorComp)&&(e.error=!0,d(!0))}),v=e(f,h);return l(v)&&(p(v)?i(e.resolved)&&v.then(f,h):p(v.component)&&(v.component.then(f,h),r(v.error)&&(e.errorComp=gt(v.error,t)),r(v.loading)&&(e.loadingComp=gt(v.loading,t),0===v.delay?e.loading=!0:c=setTimeout(function(){c=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,d(!1))},v.delay||200)),r(v.timeout)&&(u=setTimeout(function(){u=null,i(e.resolved)&&h("timeout ("+v.timeout+"ms)")},v.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function _t(e){return e.isComment&&e.asyncFactory}function wt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&(r(n.componentOptions)||_t(n)))return n}}function bt(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&St(e,t)}function kt(e,t){wo.$on(e,t)}function xt(e,t){wo.$off(e,t)}function Ct(e,t){var n=wo;return function i(){var r=t.apply(null,arguments);null!==r&&n.$off(e,i)}}function St(e,t,n){wo=e,Ce(t,n||{},kt,xt,Ct,e),wo=void 0}function It(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){function n(){i.$off(e,n),t.apply(i,arguments)}var i=this;return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o=n._events[e];if(!o)return n;if(!t)return n._events[e]=null,n;for(var a,s=o.length;s--;)if(a=o[s],a===t||a.fn===t){o.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=e.toLowerCase();n!==e&&t._events[n]&&Fr('Event "'+n+'" is emitted in component '+$r(t)+' but the handler is registered for "'+e+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+er(e)+'" instead of "'+e+'".');var i=t._events[e];if(i){i=i.length>1?k(i):i;for(var r=k(arguments,1),o='event handler for "'+e+'"',a=0,s=i.length;a<s;a++)ge(i[a],t,r,t,o)}return t}}function Et(e){var t=Io;return Io=e,function(){Io=t}}function Tt(e){var t=e.$options,n=t.parent;if(n&&!t["abstract"]){for(;n.$options["abstract"]&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function At(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=Et(n);n._vnode=e,r?n.$el=n.__patch__(r,e):n.$el=n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Dt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options["abstract"]||y(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,
e._isDestroyed=!0,e.__patch__(e._vnode,null),Dt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ft(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Gr,e.$options.template&&"#"!==e.$options.template.charAt(0)||e.$options.el||t?Ar("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",e):Ar("Failed to mount component: template or render function not defined.",e)),Dt(e,"beforeMount");var i;return i=sr.performance&&vo?function(){var t=e._name,i=e._uid,r="vue-perf-start:"+i,o="vue-perf-end:"+i;vo(r);var a=e._render();vo(o),go("vue "+t+" render",r,o),vo(r),e._update(a,n),vo(o),go("vue "+t+" patch",r,o)}:function(){e._update(e._render(),n)},new Bo(e,i,S,{before:function(){e._isMounted&&!e._isDestroyed&&Dt(e,"beforeUpdate")}},(!0)),n=!1,null==e.$vnode&&(e._isMounted=!0,Dt(e,"mounted")),e}function Ot(e,t,n,i,r){Eo=!0;var o=i.data.scopedSlots,a=e.$scopedSlots,s=!!(o&&!o.$stable||a!==Hi&&!a.$stable||o&&e.$scopedSlots.$key!==o.$key),l=!!(r||e.$options._renderChildren||s);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=r,e.$attrs=i.data.attrs||Hi,e.$listeners=n||Hi,t&&e.$options.props){R(!1);for(var c=e._props,u=e.$options._propKeys||[],d=0;d<u.length;d++){var f=u[d],p=e.$options.props;c[f]=re(f,p,t,e)}R(!0),e.$options.propsData=t}n=n||Hi;var h=e.$options._parentListeners;e.$options._parentListeners=n,St(e,n,h),l&&(e.$slots=De(r,i.context),e.$forceUpdate()),Eo=!1}function $t(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Lt(e,t){if(t){if(e._directInactive=!1,$t(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Lt(e.$children[n]);Dt(e,"activated")}}function Pt(e,t){if(!(t&&(e._directInactive=!0,$t(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Pt(e.$children[n]);Dt(e,"deactivated")}}function Dt(e,t){L();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,o=n.length;r<o;r++)ge(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),P()}function Mt(){Do=Ao.length=Fo.length=0,Oo={},$o={},Lo=Po=!1}function Rt(){Mo=Ro(),Po=!0;var e,t;for(Ao.sort(function(e,t){return e.id-t.id}),Do=0;Do<Ao.length;Do++)if(e=Ao[Do],e.before&&e.before(),t=e.id,Oo[t]=null,e.run(),null!=Oo[t]&&($o[t]=($o[t]||0)+1,$o[t]>To)){Ar("You may have an infinite update loop "+(e.user?'in watcher with expression "'+e.expression+'"':"in a component render function."),e.vm);break}var n=Fo.slice(),i=Ao.slice();Mt(),Bt(n),jt(i),Er&&sr.devtools&&Er.emit("flush")}function jt(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Dt(i,"updated")}}function Nt(e){e._inactive=!1,Fo.push(e)}function Bt(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Lt(e[t],!0)}function Ut(e){var t=e.id;if(null==Oo[t]){if(Oo[t]=!0,Po){for(var n=Ao.length-1;n>Do&&Ao[n].id>e.id;)n--;Ao.splice(n+1,0,e)}else Ao.push(e);if(!Lo){if(Lo=!0,!sr.async)return void Rt();we(Rt)}}}function Gt(e,t,n){Uo.get=function(){return this[t][n]},Uo.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Uo)}function Vt(e){e._watchers=[];var t=e.$options;t.props&&zt(e,t.props),t.methods&&Jt(e,t.methods),t.data?Ht(e):B(e._data={},!0),t.computed&&Kt(e,t.computed),t.watch&&t.watch!==wr&&Zt(e,t.watch)}function zt(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[],o=!e.$parent;o||R(!1);var a=function(a){r.push(a);var s=re(a,t,n,e),l=er(a);(qi(l)||sr.isReservedAttr(l))&&Ar('"'+l+'" is a reserved attribute and cannot be used as component prop.',e),U(i,a,s,function(){o||Eo||Ar("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+a+'"',e)}),a in e||Gt(e,"_props",a)};for(var s in t)a(s);R(!0)}function Ht(e){var t=e.$options.data;t=e._data="function"==typeof t?Wt(t,e):t||{},u(t)||(t={},Ar("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",e));for(var n=Object.keys(t),i=e.$options.props,r=e.$options.methods,o=n.length;o--;){var a=n[o];r&&m(r,a)&&Ar('Method "'+a+'" has already been defined as a data property.',e),i&&m(i,a)?Ar('The data property "'+a+'" is already declared as a prop. Use prop default value instead.',e):A(a)||Gt(e,"_data",a)}B(t,!0)}function Wt(e,t){L();try{return e.call(t,t)}catch(n){return ve(n,t,"data()"),{}}finally{P()}}function Kt(e,t){var n=e._computedWatchers=Object.create(null),i=Ir();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;null==a&&Ar('Getter is missing for computed property "'+r+'".',e),i||(n[r]=new Bo(e,a||S,S,Go)),r in e?r in e.$data?Ar('The computed property "'+r+'" is already defined in data.',e):e.$options.props&&r in e.$options.props&&Ar('The computed property "'+r+'" is already defined as a prop.',e):qt(e,r,o)}}function qt(e,t,n){var i=!Ir();"function"==typeof n?(Uo.get=i?Yt(t):Xt(n),Uo.set=S):(Uo.get=n.get?i&&n.cache!==!1?Yt(t):Xt(n.get):S,Uo.set=n.set||S),Uo.set===S&&(Uo.set=function(){Ar('Computed property "'+t+'" was assigned to but it has no setter.',this)}),Object.defineProperty(e,t,Uo)}function Yt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),jr.target&&t.depend(),t.value}}function Xt(e){return function(){return e.call(this,this)}}function Jt(e,t){var n=e.$options.props;for(var i in t)"function"!=typeof t[i]&&Ar('Method "'+i+'" has type "'+typeof t[i]+'" in the component definition. Did you reference the function correctly?',e),n&&m(n,i)&&Ar('Method "'+i+'" has already been defined as a prop.',e),i in e&&A(i)&&Ar('Method "'+i+'" conflicts with an existing Vue instance method. Avoid defining component methods that start with _ or $.'),e[i]="function"!=typeof t[i]?S:tr(t[i],e)}function Zt(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Qt(e,n,i[r]);else Qt(e,n,i)}}function Qt(e,t,n,i){return u(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function en(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},t.set=function(){Ar("Avoid replacing instance root $data. Use nested data properties instead.",this)},n.set=function(){Ar("$props is readonly.",this)},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=G,e.prototype.$delete=V,e.prototype.$watch=function(e,t,n){var i=this;if(u(t))return Qt(i,e,t,n);n=n||{},n.user=!0;var r=new Bo(i,e,t,n);if(n.immediate)try{t.call(i,r.value)}catch(o){ve(o,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}function tn(e){e.prototype._init=function(e){var t=this;t._uid=Vo++;var n,i;sr.performance&&vo&&(n="vue-perf-start:"+t._uid,i="vue-perf-end:"+t._uid,vo(n)),t._isVue=!0,e&&e._isComponent?nn(t,e):t.$options=ne(rn(t.constructor),e||{},t),ao(t),t._self=t,Tt(t),bt(t),ht(t),Dt(t,"beforeCreate"),Le(t),Vt(t),$e(t),Dt(t,"created"),sr.performance&&vo&&(t._name=$r(t,!1),vo(i),go("vue "+t._name+" init",n,i)),t.$options.el&&t.$mount(t.$options.el)}}function nn(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function rn(e){var t=e.options;if(e["super"]){var n=rn(e["super"]),i=e.superOptions;if(n!==i){e.superOptions=n;var r=on(e);r&&x(e.extendOptions,r),t=e.options=ne(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function on(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}function an(e){this instanceof an||Ar("Vue is a constructor and should be called with the `new` keyword"),this._init(e)}function sn(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=k(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}function ln(e){e.mixin=function(e){return this.options=ne(this.options,e),this}}function cn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name;o&&J(o);var a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=ne(n.options,e),a["super"]=n,a.options.props&&un(a),a.options.computed&&dn(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,or.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=x({},a.options),r[i]=a,a}}function un(e){var t=e.options.props;for(var n in t)Gt(e.prototype,"_props",n)}function dn(e){var t=e.options.computed;for(var n in t)qt(e.prototype,n,t[n])}function fn(e){or.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&J(e),"component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function pn(e){return e&&(e.Ctor.options.name||e.tag)}function hn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function vn(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var a=n[o];if(a){var s=pn(a.componentOptions);s&&!t(s)&&gn(n,o,i,r)}}}function gn(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,y(n,t)}function yn(e){var t={};t.get=function(){return sr},t.set=function(){Ar("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(e,"config",t),e.util={warn:Ar,extend:x,mergeOptions:ne,defineReactive:U},e.set=G,e["delete"]=V,e.nextTick=we,e.observable=function(e){return B(e),e},e.options=Object.create(null),or.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,x(e.options.components,Wo),sn(e),ln(e),cn(e),fn(e)}function mn(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)i=i.componentInstance._vnode,i&&i.data&&(t=_n(i.data,t));for(;r(n=n.parent);)n&&n.data&&(t=_n(t,n.data));return wn(t.staticClass,t["class"])}function _n(e,t){return{staticClass:bn(e.staticClass,t.staticClass),"class":r(e["class"])?[e["class"],t["class"]]:t["class"]}}function wn(e,t){return r(e)||r(t)?bn(e,kn(t)):""}function bn(e,t){return e?t?e+" "+t:e:t||""}function kn(e){return Array.isArray(e)?xn(e):l(e)?Cn(e):"string"==typeof e?e:""}function xn(e){for(var t,n="",i=0,o=e.length;i<o;i++)r(t=kn(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function Cn(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Sn(e){return ca(e)?"svg":"math"===e?"math":void 0}function In(e){if(!dr)return!0;if(ua(e))return!1;if(e=e.toLowerCase(),null!=da[e])return da[e];var t=document.createElement(e);return e.indexOf("-")>-1?da[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:da[e]=/HTMLUnknownElement/.test(t.toString())}function En(e){if("string"==typeof e){var t=document.querySelector(e);return t?t:(Ar("Cannot find element: "+e),document.createElement("div"))}return e}function Tn(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function An(e,t){return document.createElementNS(sa[e],t)}function Fn(e){return document.createTextNode(e)}function On(e){return document.createComment(e)}function $n(e,t,n){e.insertBefore(t,n)}function Ln(e,t){e.removeChild(t)}function Pn(e,t){e.appendChild(t)}function Dn(e){return e.parentNode}function Mn(e){return e.nextSibling}function Rn(e){return e.tagName}function jn(e,t){e.textContent=t}function Nn(e,t){e.setAttribute(t,"")}function Bn(e,t){var n=e.data.ref;if(r(n)){var i=e.context,o=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[n])?y(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}function Un(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&Gn(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function Gn(e,t){if("input"!==e.tag)return!0;var n,i=r(n=e.data)&&r(n=n.attrs)&&n.type,o=r(n=t.data)&&r(n=n.attrs)&&n.type;return i===o||fa(i)&&fa(o)}function Vn(e,t,n){var i,o,a={};for(i=t;i<=n;++i)o=e[i].key,r(o)&&(a[o]=i);return a}function zn(e){function t(e){return new Br(D.tagName(e).toLowerCase(),{},[],(void 0),e)}function n(e,t){function n(){0===--n.listeners&&a(e)}return n.listeners=t,n}function a(e){var t=D.parentNode(e);r(t)&&D.removeChild(t,e)}function l(e,t){return!t&&!e.ns&&!(sr.ignoredElements.length&&sr.ignoredElements.some(function(t){return d(t)?t.test(e.tag):t===e.tag}))&&sr.isUnknownElement(e.tag)}function c(e,t,n,i,a,s,c){if(r(e.elm)&&r(s)&&(e=s[c]=M(e)),e.isRootInsert=!a,!u(e,t,n,i)){var d=e.data,f=e.children,p=e.tag;r(p)?(d&&d.pre&&R++,l(e,R)&&Ar("Unknown custom element: <"+p+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',e.context),e.elm=e.ns?D.createElementNS(e.ns,p):D.createElement(p,e),_(e),v(e,f,t),r(d)&&m(e,t),h(n,e.elm,i),d&&d.pre&&R--):o(e.isComment)?(e.elm=D.createComment(e.text),h(n,e.elm,i)):(e.elm=D.createTextNode(e.text),h(n,e.elm,i))}}function u(e,t,n,i){var a=e.data;if(r(a)){var s=r(e.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(e,!1),r(e.componentInstance))return f(e,t),h(n,e.elm,i),o(s)&&p(e,t,n,i),!0}}function f(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,y(e)?(m(e,t),_(e)):(Bn(e),t.push(e))}function p(e,t,n,i){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<L.activate.length;++o)L.activate[o](va,a);t.push(a);break}h(n,e.elm,i)}function h(e,t,n){r(e)&&(r(n)?D.parentNode(n)===e&&D.insertBefore(e,t,n):D.appendChild(e,t))}function v(e,t,n){if(Array.isArray(t)){S(t);for(var i=0;i<t.length;++i)c(t[i],n,e.elm,null,!0,t,i)}else s(e.text)&&D.appendChild(e.elm,D.createTextNode(String(e.text)))}function y(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function m(e,t){for(var n=0;n<L.create.length;++n)L.create[n](va,e);O=e.data.hook,r(O)&&(r(O.create)&&O.create(va,e),r(O.insert)&&t.push(e))}function _(e){var t;if(r(t=e.fnScopeId))D.setStyleScope(e.elm,t);else for(var n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&D.setStyleScope(e.elm,t),n=n.parent;r(t=Io)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&D.setStyleScope(e.elm,t)}function w(e,t,n,i,r,o){for(;i<=r;++i)c(n[i],o,e,t,!1,n,i)}function b(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<L.destroy.length;++t)L.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)b(e.children[n])}function k(e,t,n){for(;t<=n;++t){var i=e[t];r(i)&&(r(i.tag)?(x(i),b(i)):a(i.elm))}}function x(e,t){if(r(t)||r(e.data)){var i,o=L.remove.length+1;for(r(t)?t.listeners+=o:t=n(e.elm,o),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&x(i,t),i=0;i<L.remove.length;++i)L.remove[i](e,t);r(i=e.data.hook)&&r(i=i.remove)?i(e,t):t()}else a(e.elm)}function C(e,t,n,o,a){var s,l,u,d,f=0,p=0,h=t.length-1,v=t[0],g=t[h],y=n.length-1,m=n[0],_=n[y],b=!a;for(S(n);f<=h&&p<=y;)i(v)?v=t[++f]:i(g)?g=t[--h]:Un(v,m)?(E(v,m,o,n,p),v=t[++f],m=n[++p]):Un(g,_)?(E(g,_,o,n,y),g=t[--h],_=n[--y]):Un(v,_)?(E(v,_,o,n,y),b&&D.insertBefore(e,v.elm,D.nextSibling(g.elm)),v=t[++f],_=n[--y]):Un(g,m)?(E(g,m,o,n,p),b&&D.insertBefore(e,g.elm,v.elm),g=t[--h],m=n[++p]):(i(s)&&(s=Vn(t,f,h)),l=r(m.key)?s[m.key]:I(m,t,f,h),i(l)?c(m,o,e,v.elm,!1,n,p):(u=t[l],Un(u,m)?(E(u,m,o,n,p),t[l]=void 0,b&&D.insertBefore(e,u.elm,v.elm)):c(m,o,e,v.elm,!1,n,p)),m=n[++p]);f>h?(d=i(n[y+1])?null:n[y+1].elm,w(e,d,n,p,y,o)):p>y&&k(t,f,h)}function S(e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=i.key;r(o)&&(t[o]?Ar("Duplicate keys detected: '"+o+"'. This may cause an update error.",i.context):t[o]=!0)}}function I(e,t,n,i){for(var o=n;o<i;o++){var a=t[o];if(r(a)&&Un(e,a))return o}}function E(e,t,n,a,s,l){if(e!==t){r(t.elm)&&r(a)&&(t=a[s]=M(t));var c=t.elm=e.elm;if(o(e.isAsyncPlaceholder))return void(r(t.asyncFactory.resolved)?A(e.elm,t,n):t.isAsyncPlaceholder=!0);if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))return void(t.componentInstance=e.componentInstance);var u,d=t.data;r(d)&&r(u=d.hook)&&r(u=u.prepatch)&&u(e,t);var f=e.children,p=t.children;if(r(d)&&y(t)){for(u=0;u<L.update.length;++u)L.update[u](e,t);r(u=d.hook)&&r(u=u.update)&&u(e,t)}i(t.text)?r(f)&&r(p)?f!==p&&C(c,f,p,n,l):r(p)?(S(p),r(e.text)&&D.setTextContent(c,""),w(c,null,p,0,p.length-1,n)):r(f)?k(f,0,f.length-1):r(e.text)&&D.setTextContent(c,""):e.text!==t.text&&D.setTextContent(c,t.text),r(d)&&r(u=d.hook)&&r(u=u.postpatch)&&u(e,t)}}function T(e,t,n){if(o(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}function A(e,t,n,i){var a,s=t.tag,l=t.data,c=t.children;if(i=i||l&&l.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(!F(e,t,i))return!1;if(r(l)&&(r(a=l.hook)&&r(a=a.init)&&a(t,!0),r(a=t.componentInstance)))return f(t,n),!0;if(r(s)){if(r(c))if(e.hasChildNodes())if(r(a=l)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==e.innerHTML)return"undefined"==typeof console||j||(j=!0),!1}else{for(var u=!0,d=e.firstChild,p=0;p<c.length;p++){if(!d||!A(d,c[p],n,i)){u=!1;break}d=d.nextSibling}if(!u||d)return"undefined"==typeof console||j||(j=!0),!1}else v(t,c,n);if(r(l)){var h=!1;for(var g in l)if(!N(g)){h=!0,m(t,n);break}!h&&l["class"]&&be(l["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}function F(e,t,n){return r(t.tag)?0===t.tag.indexOf("vue-component")||!l(t,n)&&t.tag.toLowerCase()===(e.tagName&&e.tagName.toLowerCase()):e.nodeType===(t.isComment?8:3)}var O,$,L={},P=e.modules,D=e.nodeOps;for(O=0;O<ga.length;++O)for(L[ga[O]]=[],$=0;$<P.length;++$)r(P[$][ga[O]])&&L[ga[O]].push(P[$][ga[O]]);var R=0,j=!1,N=g("attrs,class,staticClass,staticStyle,key");return function(e,n,a,s){if(i(n))return void(r(e)&&b(e));var l=!1,u=[];if(i(e))l=!0,c(n,u);else{var d=r(e.nodeType);if(!d&&Un(e,n))E(e,n,u,null,null,s);else{if(d){if(1===e.nodeType&&e.hasAttribute(rr)&&(e.removeAttribute(rr),a=!0),o(a)){if(A(e,n,u))return T(n,u,!0),e;Ar("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=t(e)}var f=e.elm,p=D.parentNode(f);if(c(n,u,f._leaveCb?null:p,D.nextSibling(f)),r(n.parent))for(var h=n.parent,v=y(n);h;){for(var g=0;g<L.destroy.length;++g)L.destroy[g](h);if(h.elm=n.elm,v){for(var m=0;m<L.create.length;++m)L.create[m](va,h);var _=h.data.hook.insert;if(_.merged)for(var w=1;w<_.fns.length;w++)_.fns[w]()}else Bn(h);h=h.parent}r(p)?k([e],0,0):r(e.tag)&&b(e)}}return T(n,u,l),n.elm}}function Hn(e,t){(e.data.directives||t.data.directives)&&Wn(e,t)}function Wn(e,t){var n,i,r,o=e===va,a=t===va,s=Kn(e.data.directives,e.context),l=Kn(t.data.directives,t.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Yn(r,"update",t,e),r.def&&r.def.componentUpdated&&u.push(r)):(Yn(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Yn(c[n],"inserted",t,e)};o?Se(t,"insert",d):d()}if(u.length&&Se(t,"postpatch",function(){for(var n=0;n<u.length;n++)Yn(u[n],"componentUpdated",t,e)}),!o)for(n in s)l[n]||Yn(s[n],"unbind",e,e,a)}function Kn(e,t){var n=Object.create(null);if(!e)return n;var i,r;for(i=0;i<e.length;i++)r=e[i],r.modifiers||(r.modifiers=ma),n[qn(r)]=r,r.def=ie(t.$options,"directives",r.name,!0);return n}function qn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Yn(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(a){ve(a,n.context,"directive "+e.name+" "+t+" hook")}}function Xn(e,t){var n=t.componentOptions;if(!(r(n)&&n.Ctor.options.inheritAttrs===!1||i(e.data.attrs)&&i(t.data.attrs))){var o,a,s,l=t.elm,c=e.data.attrs||{},u=t.data.attrs||{};r(u.__ob__)&&(u=t.data.attrs=x({},u));for(o in u)a=u[o],s=c[o],s!==a&&Jn(l,o,a);(vr||yr)&&u.value!==c.value&&Jn(l,"value",u.value);for(o in c)i(u[o])&&(ra(o)?l.removeAttributeNS(ia,oa(o)):Qo(o)||l.removeAttribute(o))}}function Jn(e,t,n){e.tagName.indexOf("-")>-1?Zn(e,t,n):na(t)?aa(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Qo(t)?e.setAttribute(t,ta(t,n)):ra(t)?aa(n)?e.removeAttributeNS(ia,oa(t)):e.setAttributeNS(ia,t,n):Zn(e,t,n)}function Zn(e,t,n){if(aa(n))e.removeAttribute(t);else{if(vr&&!gr&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}function Qn(e,t){var n=t.elm,o=t.data,a=e.data;if(!(i(o.staticClass)&&i(o["class"])&&(i(a)||i(a.staticClass)&&i(a["class"])))){var s=mn(t),l=n._transitionClasses;r(l)&&(s=bn(s,kn(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function ei(e){if(r(e[ka])){var t=vr?"change":"input";e[t]=[].concat(e[ka],e[t]||[]),delete e[ka]}r(e[xa])&&(e.change=[].concat(e[xa],e.change||[]),delete e[xa])}function ti(e,t,n){var i=Ko;return function r(){var o=t.apply(null,arguments);null!==o&&ii(e,r,n,i)}}function ni(e,t,n,i){if(Ca){var r=Mo,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Ko.addEventListener(e,t,br?{capture:n,passive:i}:n)}function ii(e,t,n,i){(i||Ko).removeEventListener(e,t._wrapper||t,n)}function ri(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Ko=t.elm,ei(n),Ce(n,r,ni,ii,ti,t.context),Ko=void 0}}function oi(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};r(l.__ob__)&&(l=t.data.domProps=x({},l));for(n in s)n in l||(a[n]="");for(n in l){if(o=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=i(o)?"":String(o);ai(a,c)&&(a.value=c)}else if("innerHTML"===n&&ca(a.tagName)&&i(a.innerHTML)){qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+o+"</svg>";for(var u=qo.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}else if(o!==s[n])try{a[n]=o}catch(d){}}}}function ai(e,t){return!e.composing&&("OPTION"===e.tagName||si(e,t)||li(e,t))}function si(e,t){var n=!0;try{n=document.activeElement!==e}catch(i){}return n&&e.value!==t}function li(e,t){var n=e.value,i=e._vModifiers;if(r(i)){if(i.number)return v(n)!==v(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}function ci(e){var t=ui(e.style);return e.staticStyle?x(e.staticStyle,t):t}function ui(e){return Array.isArray(e)?C(e):"string"==typeof e?Ea(e):e}function di(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)r=r.componentInstance._vnode,r&&r.data&&(n=ci(r.data))&&x(i,n);(n=ci(e.data))&&x(i,n);for(var o=e;o=o.parent;)o.data&&(n=ci(o.data))&&x(i,n);return i}function fi(e,t){var n=t.data,o=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,l=t.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},d=c||u,f=ui(t.data.style)||{};t.data.normalizedStyle=r(f.__ob__)?x({},f):f;var p=di(t,!0);for(s in d)i(p[s])&&Fa(l,s,"");for(s in p)a=p[s],a!==d[s]&&Fa(l,s,null==a?"":a)}}function pi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Pa).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function hi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Pa).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function vi(e){if(e){if("object"==typeof e){var t={};return e.css!==!1&&x(t,Da(e.name||"v")),x(t,e),t}return"string"==typeof e?Da(e):void 0}}function gi(e){Va(function(){Va(e)})}function yi(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),pi(e,t))}function mi(e,t){e._transitionClasses&&y(e._transitionClasses,t),hi(e,t)}function _i(e,t,n){var i=wi(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===Ra?Ba:Ga,l=0,c=function(){e.removeEventListener(s,u),n()},u=function(t){t.target===e&&++l>=a&&c()};setTimeout(function(){l<a&&c()},o+1),e.addEventListener(s,u)}function wi(e,t){var n,i=window.getComputedStyle(e),r=(i[Na+"Delay"]||"").split(", "),o=(i[Na+"Duration"]||"").split(", "),a=bi(r,o),s=(i[Ua+"Delay"]||"").split(", "),l=(i[Ua+"Duration"]||"").split(", "),c=bi(s,l),u=0,d=0;t===Ra?a>0&&(n=Ra,u=a,d=o.length):t===ja?c>0&&(n=ja,u=c,d=l.length):(u=Math.max(a,c),n=u>0?a>c?Ra:ja:null,d=n?n===Ra?o.length:l.length:0);var f=n===Ra&&za.test(i[Na+"Property"]);return{type:n,timeout:u,propCount:d,hasTransform:f}}function bi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return ki(t)+ki(e[n])}))}function ki(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function xi(e,t){var n=e.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=vi(e.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){for(var a=o.css,s=o.type,c=o.enterClass,u=o.enterToClass,d=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,h=o.appearActiveClass,g=o.beforeEnter,y=o.enter,m=o.afterEnter,_=o.enterCancelled,w=o.beforeAppear,b=o.appear,k=o.afterAppear,x=o.appearCancelled,C=o.duration,S=Io,I=Io.$vnode;I&&I.parent;)S=I.context,I=I.parent;var E=!S._isMounted||!e.isRootInsert;if(!E||b||""===b){var A=E&&f?f:c,F=E&&h?h:d,O=E&&p?p:u,$=E?w||g:g,L=E&&"function"==typeof b?b:y,P=E?k||m:m,D=E?x||_:_,M=v(l(C)?C.enter:C);null!=M&&Si(M,"enter",e);var R=a!==!1&&!gr,j=Ei(L),N=n._enterCb=T(function(){R&&(mi(n,O),mi(n,F)),N.cancelled?(R&&mi(n,A),D&&D(n)):P&&P(n),n._enterCb=null});e.data.show||Se(e,"insert",function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,N)}),$&&$(n),R&&(yi(n,A),yi(n,F),gi(function(){mi(n,A),N.cancelled||(yi(n,O),j||(Ii(M)?setTimeout(N,M):_i(n,s,N)))})),e.data.show&&(t&&t(),L&&L(n,N)),R||j||N()}}}function Ci(e,t){function n(){x.cancelled||(!e.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),p&&p(o),w&&(yi(o,u),yi(o,f),gi(function(){mi(o,u),x.cancelled||(yi(o,d),b||(Ii(k)?setTimeout(x,k):_i(o,c,x)))})),h&&h(o,x),w||b||x())}var o=e.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=vi(e.data.transition);if(i(a)||1!==o.nodeType)return t();if(!r(o._leaveCb)){var s=a.css,c=a.type,u=a.leaveClass,d=a.leaveToClass,f=a.leaveActiveClass,p=a.beforeLeave,h=a.leave,g=a.afterLeave,y=a.leaveCancelled,m=a.delayLeave,_=a.duration,w=s!==!1&&!gr,b=Ei(h),k=v(l(_)?_.leave:_);r(k)&&Si(k,"leave",e);var x=o._leaveCb=T(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),w&&(mi(o,d),mi(o,f)),x.cancelled?(w&&mi(o,u),y&&y(o)):(t(),g&&g(o)),o._leaveCb=null});m?m(n):n()}}function Si(e,t,n){"number"!=typeof e?Ar("<transition> explicit "+t+" duration is not a valid number - got "+JSON.stringify(e)+".",n.context):isNaN(e)&&Ar("<transition> explicit "+t+" duration is NaN - the duration expression might be incorrect.",n.context)}function Ii(e){return"number"==typeof e&&!isNaN(e)}function Ei(e){if(i(e))return!1;var t=e.fns;return r(t)?Ei(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Ti(e,t){t.data.show!==!0&&xi(t)}function Ai(e,t,n){Fi(e,t,n),(vr||yr)&&setTimeout(function(){Fi(e,t,n)},0)}function Fi(e,t,n){var i=t.value,r=e.multiple;if(r&&!Array.isArray(i))return void Ar('<select multiple v-model="'+t.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(i).slice(8,-1),n);for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=E(i,$i(a))>-1,a.selected!==o&&(a.selected=o);else if(I($i(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}function Oi(e,t){return t.every(function(t){return!I(t,e)})}function $i(e){return"_value"in e?e._value:e.value}function Li(e){e.target.composing=!0}function Pi(e){e.target.composing&&(e.target.composing=!1,Di(e.target,"input"))}function Di(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Mi(e){return!e.componentInstance||e.data&&e.data.transition?e:Mi(e.componentInstance._vnode)}function Ri(e){var t=e&&e.componentOptions;return t&&t.Ctor.options["abstract"]?Ri(wt(t.children)):e}function ji(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[Ji(o)]=r[o];return t}function Ni(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Bi(e){for(;e=e.parent;)if(e.data.transition)return!0}function Ui(e,t){return t.key===e.key&&t.tag===e.tag}function Gi(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Vi(e){e.data.newPos=e.elm.getBoundingClientRect()}function zi(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var Hi=Object.freeze({}),Wi=Object.prototype.toString,Ki=g("slot,component",!0),qi=g("key,ref,slot,slot-scope,is"),Yi=Object.prototype.hasOwnProperty,Xi=/-(\w)/g,Ji=_(function(e){return e.replace(Xi,function(e,t){return t?t.toUpperCase():""})}),Zi=_(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Qi=/\B([A-Z])/g,er=_(function(e){return e.replace(Qi,"-$1").toLowerCase()}),tr=Function.prototype.bind?b:w,nr=function(e,t,n){return!1},ir=function(e){return e},rr="data-server-rendered",or=["component","directive","filter"],ar=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],sr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:nr,isReservedAttr:nr,isUnknownElement:nr,getTagNamespace:S,parsePlatformTagName:ir,mustUseProp:nr,async:!0,_lifecycleHooks:ar},lr=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,cr=new RegExp("[^"+lr.source+".$_\\d]"),ur="__proto__"in{},dr="undefined"!=typeof window,fr="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,pr=fr&&WXEnvironment.platform.toLowerCase(),hr=dr&&window.navigator.userAgent.toLowerCase(),vr=hr&&/msie|trident/.test(hr),gr=hr&&hr.indexOf("msie 9.0")>0,yr=hr&&hr.indexOf("edge/")>0,mr=(hr&&hr.indexOf("android")>0||"android"===pr,hr&&/iphone|ipad|ipod|ios/.test(hr)||"ios"===pr),_r=(hr&&/chrome\/\d+/.test(hr)&&!yr,hr&&/phantomjs/.test(hr),hr&&hr.match(/firefox\/(\d+)/)),wr={}.watch,br=!1;if(dr)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){br=!0}}),window.addEventListener("test-passive",null,kr)}catch(xr){}var Cr,Sr,Ir=function(){return void 0===Cr&&(Cr=!dr&&!fr&&"undefined"!=typeof e&&(e.process&&"server"===e.process.env.VUE_ENV)),
Cr},Er=dr&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Tr="undefined"!=typeof Symbol&&$(Symbol)&&"undefined"!=typeof Reflect&&$(Reflect.ownKeys);Sr="undefined"!=typeof Set&&$(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return this.set[e]===!0},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Ar=S,Fr=S,Or=S,$r=S,Lr="undefined"!=typeof console,Pr=/(?:^|[-_])(\w)/g,Dr=function(e){return e.replace(Pr,function(e){return e.toUpperCase()}).replace(/[-_]/g,"")};Ar=function(e,t){var n=t?Or(t):"";sr.warnHandler?sr.warnHandler.call(null,e,t,n):Lr&&!sr.silent},Fr=function(e,t){Lr&&!sr.silent},$r=function(e,t){if(e.$root===e)return"<Root>";var n="function"==typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e,i=n.name||n._componentTag,r=n.__file;if(!i&&r){var o=r.match(/([^\/\\]+)\.vue$/);i=o&&o[1]}return(i?"<"+Dr(i)+">":"<Anonymous>")+(r&&t!==!1?" at "+r:"")};var Mr=function(e,t){for(var n="";t;)t%2===1&&(n+=e),t>1&&(e+=e),t>>=1;return n};Or=function(e){if(e._isVue&&e.$parent){for(var t=[],n=0;e;){if(t.length>0){var i=t[t.length-1];if(i.constructor===e.constructor){n++,e=e.$parent;continue}n>0&&(t[t.length-1]=[i,n],n=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map(function(e,t){return""+(0===t?"---> ":Mr(" ",5+2*t))+(Array.isArray(e)?$r(e[0])+"... ("+e[1]+" recursive calls)":$r(e))}).join("\n")}return"\n\n(found in "+$r(e)+")"};var Rr=0,jr=function(){this.id=Rr++,this.subs=[]};jr.prototype.addSub=function(e){this.subs.push(e)},jr.prototype.removeSub=function(e){y(this.subs,e)},jr.prototype.depend=function(){jr.target&&jr.target.addDep(this)},jr.prototype.notify=function(){var e=this.subs.slice();sr.async||e.sort(function(e,t){return e.id-t.id});for(var t=0,n=e.length;t<n;t++)e[t].update()},jr.target=null;var Nr=[],Br=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Ur={child:{configurable:!0}};Ur.child.get=function(){return this.componentInstance},Object.defineProperties(Br.prototype,Ur);var Gr=function(e){void 0===e&&(e="");var t=new Br;return t.text=e,t.isComment=!0,t},Vr=Array.prototype,zr=Object.create(Vr),Hr=["push","pop","shift","unshift","splice","sort","reverse"];Hr.forEach(function(e){var t=Vr[e];F(zr,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var Wr=Object.getOwnPropertyNames(zr),Kr=!0,qr=function(e){this.value=e,this.dep=new jr,this.vmCount=0,F(e,"__ob__",this),Array.isArray(e)?(ur?j(e,zr):N(e,zr,Wr),this.observeArray(e)):this.walk(e)};qr.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)U(e,t[n])},qr.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)B(e[t])};var Yr=sr.optionMergeStrategies;Yr.el=Yr.propsData=function(e,t,n,i){return n||Ar('option "'+i+'" can only be used during instance creation with the `new` keyword.'),Jr(e,t)},Yr.data=function(e,t,n){return n?W(e,t,n):t&&"function"!=typeof t?(Ar('The "data" option should be a function that returns a per-instance value in component definitions.',n),e):W(e,t)},ar.forEach(function(e){Yr[e]=K}),or.forEach(function(e){Yr[e+"s"]=Y}),Yr.watch=function(e,t,n,i){if(e===wr&&(e=void 0),t===wr&&(t=void 0),!t)return Object.create(e||null);if(te(i,t,n),!e)return t;var r={};x(r,e);for(var o in t){var a=r[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Yr.props=Yr.methods=Yr.inject=Yr.computed=function(e,t,n,i){if(t&&te(i,t,n),!e)return t;var r=Object.create(null);return x(r,e),t&&x(r,t),r},Yr.provide=W;var Xr,Jr=function(e,t){return void 0===t?e:t},Zr=/^(String|Number|Boolean|Function|Symbol)$/,Qr=!1,eo=[],to=!1;if("undefined"!=typeof Promise&&$(Promise)){var no=Promise.resolve();Xr=function(){no.then(_e),mr&&setTimeout(S)},Qr=!0}else if(vr||"undefined"==typeof MutationObserver||!$(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xr="undefined"!=typeof n&&$(n)?function(){n(_e)}:function(){setTimeout(_e,0)};else{var io=1,ro=new MutationObserver(_e),oo=document.createTextNode(String(io));ro.observe(oo,{characterData:!0}),Xr=function(){io=(io+1)%2,oo.data=String(io)},Qr=!0}var ao,so=g("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),lo=function(e,t){Ar('Property or method "'+t+'" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',e)},co=function(e,t){Ar('Property "'+t+'" must be accessed with "$data.'+t+'" because properties starting with "$" or "_" are not proxied in the Vue instance to prevent conflicts with Vue internals. See: https://vuejs.org/v2/api/#data',e)},uo="undefined"!=typeof Proxy&&$(Proxy);if(uo){var fo=g("stop,prevent,self,ctrl,shift,alt,meta,exact");sr.keyCodes=new Proxy(sr.keyCodes,{set:function(e,t,n){return fo(t)?(Ar("Avoid overwriting built-in modifier in config.keyCodes: ."+t),!1):(e[t]=n,!0)}})}var po={has:function os(e,t){var os=t in e,n=so(t)||"string"==typeof t&&"_"===t.charAt(0)&&!(t in e.$data);return os||n||(t in e.$data?co(e,t):lo(e,t)),os||!n}},ho={get:function(e,t){return"string"!=typeof t||t in e||(t in e.$data?co(e,t):lo(e,t)),e[t]}};ao=function(e){if(uo){var t=e.$options,n=t.render&&t.render._withStripped?ho:po;e._renderProxy=new Proxy(e,n)}else e._renderProxy=e};var vo,go,yo=new Sr,mo=dr&&window.performance;mo&&mo.mark&&mo.measure&&mo.clearMarks&&mo.clearMeasures&&(vo=function(e){return mo.mark(e)},go=function(e,t,n){mo.measure(e,t,n),mo.clearMarks(t),mo.clearMarks(n)});var _o=_(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,once:n,capture:i,passive:t}});et(tt.prototype);var wo,bo={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;bo.prepatch(n,n)}else{var i=e.componentInstance=at(e,Io);i.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,i=t.componentInstance=e.componentInstance;Ot(i,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Dt(n,"mounted")),e.data.keepAlive&&(t._isMounted?Nt(n):Lt(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Pt(t,!0):t.$destroy())}},ko=Object.keys(bo),xo=1,Co=2,So=null,Io=null,Eo=!1,To=100,Ao=[],Fo=[],Oo={},$o={},Lo=!1,Po=!1,Do=0,Mo=0,Ro=Date.now;if(dr&&!vr){var jo=window.performance;jo&&"function"==typeof jo.now&&Ro()>document.createEvent("Event").timeStamp&&(Ro=function(){return jo.now()})}var No=0,Bo=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++No,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Sr,this.newDepIds=new Sr,this.expression=t.toString(),"function"==typeof t?this.getter=t:(this.getter=O(t),this.getter||(this.getter=S,Ar('Failed watching path: "'+t+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',e))),this.value=this.lazy?void 0:this.get()};Bo.prototype.get=function(){L(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(n){if(!this.user)throw n;ve(n,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&be(e),P(),this.cleanupDeps()}return e},Bo.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Bo.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Bo.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ut(this)},Bo.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(n){ve(n,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Bo.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Bo.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Bo.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Uo={enumerable:!0,configurable:!0,get:S,set:S},Go={lazy:!0},Vo=0;tn(an),en(an),It(an),At(an),vt(an);var zo=[String,RegExp,Array],Ho={name:"keep-alive","abstract":!0,props:{include:zo,exclude:zo,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)gn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){vn(e,function(e){return hn(t,e)})}),this.$watch("exclude",function(t){vn(e,function(e){return!hn(t,e)})})},render:function(){var e=this.$slots["default"],t=wt(e),n=t&&t.componentOptions;if(n){var i=pn(n),r=this,o=r.include,a=r.exclude;if(o&&(!i||!hn(o,i))||a&&i&&hn(a,i))return t;var s=this,l=s.cache,c=s.keys,u=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;l[u]?(t.componentInstance=l[u].componentInstance,y(c,u),c.push(u)):(l[u]=t,c.push(u),this.max&&c.length>parseInt(this.max)&&gn(l,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Wo={KeepAlive:Ho};yn(an),Object.defineProperty(an.prototype,"$isServer",{get:Ir}),Object.defineProperty(an.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(an,"FunctionalRenderContext",{value:tt}),an.version="2.6.11";var Ko,qo,Yo,Xo=g("style,class"),Jo=g("input,textarea,option,select,progress"),Zo=function(e,t,n){return"value"===n&&Jo(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Qo=g("contenteditable,draggable,spellcheck"),ea=g("events,caret,typing,plaintext-only"),ta=function(e,t){return aa(t)||"false"===t?"false":"contenteditable"===e&&ea(t)?t:"true"},na=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ia="http://www.w3.org/1999/xlink",ra=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},oa=function(e){return ra(e)?e.slice(6,e.length):""},aa=function(e){return null==e||e===!1},sa={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},la=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ca=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ua=function(e){return la(e)||ca(e)},da=Object.create(null),fa=g("text,number,password,search,email,tel,url"),pa=Object.freeze({createElement:Tn,createElementNS:An,createTextNode:Fn,createComment:On,insertBefore:$n,removeChild:Ln,appendChild:Pn,parentNode:Dn,nextSibling:Mn,tagName:Rn,setTextContent:jn,setStyleScope:Nn}),ha={create:function(e,t){Bn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Bn(e,!0),Bn(t))},destroy:function(e){Bn(e,!0)}},va=new Br("",{},[]),ga=["create","activate","update","remove","destroy"],ya={create:Hn,update:Hn,destroy:function(e){Hn(e,va)}},ma=Object.create(null),_a=[ha,ya],wa={create:Xn,update:Xn},ba={create:Qn,update:Qn},ka="__r",xa="__c",Ca=Qr&&!(_r&&Number(_r[1])<=53),Sa={create:ri,update:ri},Ia={create:oi,update:oi},Ea=_(function(e){var t={},n=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),Ta=/^--/,Aa=/\s*!important$/,Fa=function(e,t,n){if(Ta.test(t))e.style.setProperty(t,n);else if(Aa.test(n))e.style.setProperty(er(t),n.replace(Aa,""),"important");else{var i=$a(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},Oa=["Webkit","Moz","ms"],$a=_(function(e){if(Yo=Yo||document.createElement("div").style,e=Ji(e),"filter"!==e&&e in Yo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Oa.length;n++){var i=Oa[n]+t;if(i in Yo)return i}}),La={create:fi,update:fi},Pa=/\s+/,Da=_(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),Ma=dr&&!gr,Ra="transition",ja="animation",Na="transition",Ba="transitionend",Ua="animation",Ga="animationend";Ma&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Na="WebkitTransition",Ba="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ua="WebkitAnimation",Ga="webkitAnimationEnd"));var Va=dr?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},za=/\b(transform|all)(,|$)/,Ha=dr?{create:Ti,activate:Ti,remove:function(e,t){e.data.show!==!0?Ci(e,t):t()}}:{},Wa=[wa,ba,Sa,Ia,La,Ha],Ka=Wa.concat(_a),qa=zn({nodeOps:pa,modules:Ka});gr&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Di(e,"input")});var Ya={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Se(n,"postpatch",function(){Ya.componentUpdated(e,t,n)}):Ai(e,t,n.context),e._vOptions=[].map.call(e.options,$i)):("textarea"===n.tag||fa(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Li),e.addEventListener("compositionend",Pi),e.addEventListener("change",Pi),gr&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ai(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,$i);if(r.some(function(e,t){return!I(e,i[t])})){var o=e.multiple?t.value.some(function(e){return Oi(e,r)}):t.value!==t.oldValue&&Oi(t.value,r);o&&Di(e,"change")}}}},Xa={bind:function(e,t,n){var i=t.value;n=Mi(n);var r=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,xi(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value,r=t.oldValue;if(!i!=!r){n=Mi(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?xi(n,function(){e.style.display=e.__vOriginalDisplay}):Ci(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}},Ja={model:Ya,show:Xa},Za={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Qa=function(e){return e.tag||_t(e)},es=function(e){return"show"===e.name},ts={name:"transition",props:Za,"abstract":!0,render:function(e){var t=this,n=this.$slots["default"];if(n&&(n=n.filter(Qa),n.length)){n.length>1&&Ar("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var i=this.mode;i&&"in-out"!==i&&"out-in"!==i&&Ar("invalid <transition> mode: "+i,this.$parent);var r=n[0];if(Bi(this.$vnode))return r;var o=Ri(r);if(!o)return r;if(this._leaving)return Ni(e,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=ji(this),c=this._vnode,u=Ri(c);if(o.data.directives&&o.data.directives.some(es)&&(o.data.show=!0),u&&u.data&&!Ui(o,u)&&!_t(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=x({},l);if("out-in"===i)return this._leaving=!0,Se(d,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Ni(e,r);if("in-out"===i){if(_t(o))return c;var f,p=function(){f()};Se(l,"afterEnter",p),Se(l,"enterCancelled",p),Se(d,"delayLeave",function(e){f=e})}}return r}}},ns=x({tag:String,moveClass:String},Za);delete ns.mode;var is={props:ns,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=Et(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots["default"]||[],o=this.children=[],a=ji(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else{var c=l.componentOptions,u=c?c.Ctor.options.name||c.tag||"":l.tag;Ar("<transition-group> children must be keyed: <"+u+">")}}if(i){for(var d=[],f=[],p=0;p<i.length;p++){var h=i[p];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?d.push(h):f.push(h)}this.kept=e(t,null,d),this.removed=f}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Gi),e.forEach(Vi),e.forEach(zi),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;yi(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Ba,n._moveCb=function r(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(Ba,r),n._moveCb=null,mi(n,t))})}}))},methods:{hasMove:function(e,t){if(!Ma)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){hi(n,e)}),pi(n,t),n.style.display="none",this.$el.appendChild(n);var i=wi(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}},rs={Transition:ts,TransitionGroup:is};an.config.mustUseProp=Zo,an.config.isReservedTag=ua,an.config.isReservedAttr=Xo,an.config.getTagNamespace=Sn,an.config.isUnknownElement=In,x(an.options.directives,Ja),x(an.options.components,rs),an.prototype.__patch__=dr?qa:S,an.prototype.$mount=function(e,t){return e=e&&dr?En(e):void 0,Ft(this,e,t)},dr&&setTimeout(function(){sr.devtools&&Er&&Er.emit("init",an),sr.productionTip!==!1&&"undefined"!=typeof console},0),t.exports=an}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:2}],5:[function(e,t,n){(function(n){"production"===n.env.NODE_ENV?t.exports=e("./vue.runtime.common.prod.js"):t.exports=e("./vue.runtime.common.dev.js")}).call(this,e("_process"))},{"./vue.runtime.common.dev.js":4,"./vue.runtime.common.prod.js":6,_process:1}],6:[function(e,t,n){(function(e,n){"use strict";function i(e){return null==e}function r(e){return null!=e}function o(e){return!0===e}function a(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Object]"===rn.call(e)}function c(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function u(e){return r(e)&&"function"==typeof e.then&&"function"==typeof e["catch"]}function d(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===rn?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function h(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function v(e,t){return an.call(e,t)}function g(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function y(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function m(e,t){for(var n in t)e[n]=t[n];return e}function _(e){for(var t={},n=0;n<e.length;n++)e[n]&&m(t,e[n]);return t}function w(e,t,n){}function b(e,t){if(e===t)return!0;var n=s(e),i=s(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every(function(e,n){return b(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var a=Object.keys(e),l=Object.keys(t);return a.length===l.length&&a.every(function(n){return b(e[n],t[n])})}catch(e){return!1}}function k(e,t){for(var n=0;n<e.length;n++)if(b(e[n],t))return n;return-1}function x(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function C(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function S(e){return"function"==typeof e&&/native code/.test(e.toString())}function I(e){Bn.push(e),Nn.target=e}function E(){Bn.pop(),Nn.target=Bn[Bn.length-1]}function T(e){return new Un((void 0),(void 0),(void 0),String(e))}function A(e){var t=new Un(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function F(e){Kn=e}function O(e,t){var n;if(s(e)&&!(e instanceof Un))return v(e,"__ob__")&&e.__ob__ instanceof qn?n=e.__ob__:Kn&&!Pn()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new qn(e)),t&&n&&n.vmCount++,n}function $(e,t,n,i,r){var o=new Nn,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=e[t]);var c=!r&&O(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return Nn.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function i(e){for(var t=void 0,n=0,r=e.length;n<r;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&i(t)}(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!=t&&i!=i||s&&!l||(l?l.call(e,t):n=t,c=!r&&O(t),o.notify())}})}}function L(e,t,n){if(Array.isArray(e)&&c(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?($(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function P(e,t){if(Array.isArray(e)&&c(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||v(e,t)&&(delete e[t],n&&n.dep.notify())}}function D(e,t){if(!t)return e;for(var n,i,r,o=Mn?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(i=e[n],r=t[n],v(e,n)?i!==r&&l(i)&&l(r)&&D(i,r):L(e,n,r));return e}function M(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?D(i,r):r}:t?e?function(){return D("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function R(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function j(e,t,n,i){var r=Object.create(e||null);return t?m(r,t):r}function N(e,t,n){function i(i){var r=Yn[i]||Jn;s[i]=r(e[i],t[i],n,i)}if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[ln(r)]={type:null});else if(l(n))for(var a in n)r=n[a],o[ln(a)]=l(r)?r:{type:r};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var o in n){var a=n[o];i[o]=l(a)?m({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t["extends"]&&(e=N(e,t["extends"],n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=N(e,t.mixins[r],n);var a,s={};for(a in e)i(a);for(a in t)v(e,a)||i(a);return s}function B(e,t,n,i){if("string"==typeof n){var r=e[t];if(v(r,n))return r[n];var o=ln(n);if(v(r,o))return r[o];var a=cn(o);return v(r,a)?r[a]:r[n]||r[o]||r[a]}}function U(e,t,n,i){var r=t[e],o=!v(n,e),a=n[e],s=z(Boolean,r.type);if(s>-1)if(o&&!v(r,"default"))a=!1;else if(""===a||a===dn(e)){var l=z(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(v(t,"default")){var i=t["default"];return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==G(t.type)?i.call(e):i}}(i,r,e);var c=Kn;F(!0),O(a),F(c)}return a}function G(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function V(e,t){return G(e)===G(t)}function z(e,t){if(!Array.isArray(t))return V(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(V(t[n],e))return n;return-1}function H(e,t,n){I();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,e,t,n))return}catch(e){K(e,i,"errorCaptured hook")}}K(e,t,n)}finally{E()}}function W(e,t,n,i,r){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&u(o)&&!o._handled&&(o["catch"](function(e){return H(e,i,r+" (Promise/async)")}),o._handled=!0)}catch(e){H(e,i,r)}return o}function K(e,t,n){if(mn.errorHandler)try{return mn.errorHandler.call(null,e,t,n)}catch(t){t!==e&&q(t,null,"config.errorHandler")}q(e,t,n)}function q(e,t,n){if(!bn&&!kn||"undefined"==typeof console)throw e}function Y(){ei=!1;var e=Qn.slice(0);Qn.length=0;for(var t=0;t<e.length;t++)e[t]()}function X(e,t){var n;if(Qn.push(function(){if(e)try{e.call(t)}catch(e){H(e,t,"nextTick")}else n&&n(t)}),ei||(ei=!0,Xn()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function J(e){!function t(e,n){var i,r,o=Array.isArray(e);if(!(!o&&!s(e)||Object.isFrozen(e)||e instanceof Un)){if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}}(e,oi),oi.clear()}function Z(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return W(i,null,arguments,t,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)W(r[o],null,e,t,"v-on handler")}return n.fns=e,n}function Q(e,t,n,r,a,s){var l,c,u,d;for(l in e)c=e[l],u=t[l],d=ai(l),i(c)||(i(u)?(i(c.fns)&&(c=e[l]=Z(c,s)),o(d.once)&&(c=e[l]=a(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,e[l]=u));for(l in t)i(e[l])&&r((d=ai(l)).name,t[l],d.capture)}function ee(e,t,n){function a(){n.apply(this,arguments),h(s.fns,a)}var s;e instanceof Un&&(e=e.data.hook||(e.data.hook={}));var l=e[t];i(l)?s=Z([a]):r(l.fns)&&o(l.merged)?(s=l).fns.push(a):s=Z([l,a]),s.merged=!0,e[t]=s}function te(e,t,n,i,o){if(r(t)){if(v(t,n))return e[n]=t[n],o||delete t[n],!0;if(v(t,i))return e[n]=t[i],o||delete t[i],!0}return!1}function ne(e){return a(e)?[T(e)]:Array.isArray(e)?function t(e,n){var s,l,c,u,d=[];for(s=0;s<e.length;s++)i(l=e[s])||"boolean"==typeof l||(c=d.length-1,u=d[c],Array.isArray(l)?l.length>0&&(ie((l=t(l,(n||"")+"_"+s))[0])&&ie(u)&&(d[c]=T(u.text+l[0].text),l.shift()),d.push.apply(d,l)):a(l)?ie(u)?d[c]=T(u.text+l):""!==l&&d.push(T(l)):ie(l)&&ie(u)?d[c]=T(u.text+l.text):(o(e._isVList)&&r(l.tag)&&i(l.key)&&r(n)&&(l.key="__vlist"+n+"_"+s+"__"),d.push(l)));return d}(e):void 0}function ie(e){return r(e)&&r(e.text)&&!1===e.isComment}function re(e,t){if(e){for(var n=Object.create(null),i=Mn?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var a=e[o].from,s=t;s;){if(s._provided&&v(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in e[o]){var l=e[o]["default"];n[o]="function"==typeof l?l.call(t):l}}}return n}}function oe(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n["default"]||(n["default"]=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(ae)&&delete n[c];return n}function ae(e){return e.isComment&&!e.asyncFactory||" "===e.text}function se(e,t,n){var i,r=Object.keys(t).length>0,o=e?!!e.$stable:!r,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==nn&&a===n.$key&&!r&&!n.$hasNormal)return n;for(var s in i={},e)e[s]&&"$"!==s[0]&&(i[s]=le(t,s,e[s]))}else i={};for(var l in t)l in i||(i[l]=ce(t,l));return e&&Object.isExtensible(e)&&(e._normalized=i),C(i,"$stable",o),C(i,"$key",a),C(i,"$hasNormal",r),i}function le(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ne(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function ce(e,t){return function(){return e[t]}}function ue(e,t){var n,i,o,a,l;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,o=e.length;i<o;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(s(e))if(Mn&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),u=c.next();!u.done;)n.push(t(u.value,n.length)),u=c.next()}else for(a=Object.keys(e),n=new Array(a.length),i=0,o=a.length;i<o;i++)l=a[i],n[i]=t(e[l],l,i);return r(n)||(n=[]),n._isVList=!0,n}function de(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(n=m(m({},i),n)),r=o(n)||t):r=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function fe(e){return B(this.$options,"filters",e)||hn}function pe(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function he(e,t,n,i,r){var o=mn.keyCodes[t]||n;return r&&i&&!mn.keyCodes[t]?pe(r,i):o?pe(o,e):i?dn(i)!==t:void 0}function ve(e,t,n,i,r){if(n&&s(n)){var o;Array.isArray(n)&&(n=_(n));var a=function(a){if("class"===a||"style"===a||on(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||mn.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=ln(a),c=dn(a);l in o||c in o||(o[a]=n[a],r&&((e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}))};for(var l in n)a(l)}return e}function ge(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t?i:(me(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i)}function ye(e,t,n){return me(e,"__once__"+t+(n?"_"+n:""),!0),e}function me(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&_e(e[i],t+"_"+i,n);else _e(e,t,n)}function _e(e,t,n){
e.isStatic=!0,e.key=t,e.isOnce=n}function we(e,t){if(t&&l(t)){var n=e.on=e.on?m({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}return e}function be(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?be(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function ke(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function xe(e,t){return"string"==typeof e?t+e:e}function Ce(e){e._o=ye,e._n=f,e._s=d,e._l=ue,e._t=de,e._q=b,e._i=k,e._m=ge,e._f=fe,e._k=he,e._b=ve,e._v=T,e._e=Vn,e._u=be,e._g=we,e._d=ke,e._p=xe}function Se(e,t,n,i,r){var a,s=this,l=r.options;v(i,"_uid")?(a=Object.create(i))._original=i:(a=i,i=i._original);var c=o(l._compiled),u=!c;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||nn,this.injections=re(l.inject,i),this.slots=function(){return s.$slots||se(e.scopedSlots,s.$slots=oe(n,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return se(e.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=se(e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,t,n,r){var o=Fe(a,e,t,n,r,u);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,i){return Fe(a,e,t,n,i,u)}}function Ie(e,t,n,i,r){var o=A(e);return o.fnContext=n,o.fnOptions=i,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Ee(e,t){for(var n in t)e[ln(n)]=t[n]}function Te(e,t,n,a,l){if(!i(e)){var c=n.$options._base;if(s(e)&&(e=c.extend(e)),"function"==typeof e){var d;if(i(e.cid)&&void 0===(e=function(e,t){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var n=fi;if(n&&r(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(n&&!r(e.owners)){var a=e.owners=[n],l=!0,c=null,d=null;n.$on("hook:destroyed",function(){return h(a,n)});var f=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==d&&(clearTimeout(d),d=null))},p=x(function(n){e.resolved=Oe(n,t),l?a.length=0:f(!0)}),v=x(function(t){r(e.errorComp)&&(e.error=!0,f(!0))}),g=e(p,v);return s(g)&&(u(g)?i(e.resolved)&&g.then(p,v):u(g.component)&&(g.component.then(p,v),r(g.error)&&(e.errorComp=Oe(g.error,t)),r(g.loading)&&(e.loadingComp=Oe(g.loading,t),0===g.delay?e.loading=!0:c=setTimeout(function(){c=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,f(!1))},g.delay||200)),r(g.timeout)&&(d=setTimeout(function(){d=null,i(e.resolved)&&v(null)},g.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(d=e,c)))return function(e,t,n,i,r){var o=Vn();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}(d,t,n,a,l);t=t||{},Ye(e),r(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[i],s=t.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[i]=[s].concat(a)):o[i]=s}(e.options,t);var f=function(e,t,n){var o=t.options.props;if(!i(o)){var a={},s=e.attrs,l=e.props;if(r(s)||r(l))for(var c in o){var u=dn(c);te(a,l,c,u,!0)||te(a,s,c,u,!1)}return a}}(t,e);if(o(e.options.functional))return function(e,t,n,i,o){var a=e.options,s={},l=a.props;if(r(l))for(var c in l)s[c]=U(c,l,t||nn);else r(n.attrs)&&Ee(s,n.attrs),r(n.props)&&Ee(s,n.props);var u=new Se(n,s,o,i,e),d=a.render.call(null,u._c,u);if(d instanceof Un)return Ie(d,n,u.parent,a);if(Array.isArray(d)){for(var f=ne(d)||[],p=new Array(f.length),h=0;h<f.length;h++)p[h]=Ie(f[h],n,u.parent,a);return p}}(e,f,t,n,a);var p=t.on;if(t.on=t.nativeOn,o(e.options["abstract"])){var v=t.slot;t={},v&&(t.slot=v)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<ci.length;n++){var i=ci[n],r=t[i],o=li[i];r===o||r&&r._merged||(t[i]=r?Ae(o,r):o)}}(t);var g=e.options.name||l;return new Un("vue-component-"+e.cid+(g?"-"+g:""),t,(void 0),(void 0),(void 0),n,{Ctor:e,propsData:f,listeners:p,tag:l,children:a},d)}}}function Ae(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function Fe(e,t,n,l,c,u){return(Array.isArray(n)||a(n))&&(c=l,l=n,n=void 0),o(u)&&(c=di),function(e,t,n,a,l){if(r(n)&&r(n.__ob__))return Vn();if(r(n)&&r(n.is)&&(t=n.is),!t)return Vn();Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={"default":a[0]},a.length=0),l===di?a=ne(a):l===ui&&(a=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(a));var c,u;if("string"==typeof t){var d;u=e.$vnode&&e.$vnode.ns||mn.getTagNamespace(t),c=mn.isReservedTag(t)?new Un(mn.parsePlatformTagName(t),n,a,(void 0),(void 0),e):n&&n.pre||!r(d=B(e.$options,"components",t))?new Un(t,n,a,(void 0),(void 0),e):Te(d,n,e,a,t)}else c=Te(t,n,e,a);return Array.isArray(c)?c:r(c)?(r(u)&&function f(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),r(e.children))for(var a=0,s=e.children.length;a<s;a++){var l=e.children[a];r(l.tag)&&(i(l.ns)||o(n)&&"svg"!==l.tag)&&f(l,t,n)}}(c,u),r(n)&&function(e){s(e.style)&&J(e.style),s(e["class"])&&J(e["class"])}(n),c):Vn()}(e,t,n,l,c)}function Oe(e,t){return(e.__esModule||Mn&&"Module"===e[Symbol.toStringTag])&&(e=e["default"]),s(e)?t.extend(e):e}function $e(e){return e.isComment&&e.asyncFactory}function Le(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&(r(n.componentOptions)||$e(n)))return n}}function Pe(e,t){si.$on(e,t)}function De(e,t){si.$off(e,t)}function Me(e,t){var n=si;return function i(){null!==t.apply(null,arguments)&&n.$off(e,i)}}function Re(e,t,n){si=e,Q(t,n||{},Pe,De,Me,e),si=void 0}function je(e){var t=pi;return pi=e,function(){pi=t}}function Ne(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Be(e,t){if(t){if(e._directInactive=!1,Ne(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Be(e.$children[n]);Ue(e,"activated")}}function Ue(e,t){I();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,o=n.length;r<o;r++)W(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),E()}function Ge(){var e,t;for(wi=bi(),mi=!0,hi.sort(function(e,t){return e.id-t.id}),_i=0;_i<hi.length;_i++)(e=hi[_i]).before&&e.before(),t=e.id,gi[t]=null,e.run();var n=vi.slice(),i=hi.slice();_i=hi.length=vi.length=0,gi={},yi=mi=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Be(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Ue(i,"updated")}}(i),Dn&&mn.devtools&&Dn.emit("flush")}function Ve(e,t,n){Si.get=function(){return this[t][n]},Si.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Si)}function ze(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[];e.$parent&&F(!1);var o=function(o){r.push(o);var a=U(o,t,n,e);$(i,o,a),o in e||Ve(e,"_props",o)};for(var a in t)o(a);F(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?w:fn(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;l(t=e._data="function"==typeof t?function(e,t){I();try{return e.call(t,t)}catch(e){return H(e,t,"data()"),{}}finally{E()}}(t,e):t||{})||(t={});for(var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);r--;){var o=n[r];i&&v(i,o)||(a=void 0,36!==(a=(o+"").charCodeAt(0))&&95!==a&&Ve(e,"_data",o))}var a;O(t,!0)}(e):O(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=Pn();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;i||(n[r]=new Ci(e,a||w,w,Ii)),r in e||He(e,r,o)}}(e,t.computed),t.watch&&t.watch!==Fn&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)qe(e,n,i[r]);else qe(e,n,i)}}(e,t.watch)}function He(e,t,n){var i=!Pn();"function"==typeof n?(Si.get=i?We(t):Ke(n),Si.set=w):(Si.get=n.get?i&&!1!==n.cache?We(t):Ke(n.get):w,Si.set=n.set||w),Object.defineProperty(e,t,Si)}function We(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Nn.target&&t.depend(),t.value}}function Ke(e){return function(){return e.call(this,this)}}function qe(e,t,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function Ye(e){var t=e.options;if(e["super"]){var n=Ye(e["super"]);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&m(e.extendOptions,i),(t=e.options=N(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Xe(e){this._init(e)}function Je(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name,a=function(e){this._init(e)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=N(n.options,e),a["super"]=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)Ve(e.prototype,"_props",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)He(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,gn.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=m({},a.options),r[i]=a,a}}function Ze(e){return e&&(e.Ctor.options.name||e.tag)}function Qe(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,"[object RegExp]"===rn.call(n)&&e.test(t));var n}function et(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var a=n[o];if(a){var s=Ze(a.componentOptions);s&&!t(s)&&tt(n,o,i,r)}}}function tt(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,h(n,t)}function nt(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=it(i.data,t));for(;r(n=n.parent);)n&&n.data&&(t=it(t,n.data));return function(e,t){return r(e)||r(t)?rt(e,ot(t)):""}(t.staticClass,t["class"])}function it(e,t){return{staticClass:rt(e.staticClass,t.staticClass),"class":r(e["class"])?[e["class"],t["class"]]:t["class"]}}function rt(e,t){return e?t?e+" "+t:e:t||""}function ot(e){return Array.isArray(e)?function(e){for(var t,n="",i=0,o=e.length;i<o;i++)r(t=ot(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):s(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}function at(e,t){var n=e.data.ref;if(r(n)){var i=e.context,o=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[n])?h(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}function st(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,i=r(n=e.data)&&r(n=n.attrs)&&n.type,o=r(n=t.data)&&r(n=n.attrs)&&n.type;return i===o||qi(i)&&qi(o)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function lt(e,t,n){var i,o,a={};for(i=t;i<=n;++i)r(o=e[i].key)&&(a[o]=i);return a}function ct(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,o=e===Ji,a=t===Ji,s=ut(e.data.directives,e.context),l=ut(t.data.directives,t.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,ft(r,"update",t,e),r.def&&r.def.componentUpdated&&u.push(r)):(ft(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)ft(c[n],"inserted",t,e)};o?ee(t,"insert",d):d()}if(u.length&&ee(t,"postpatch",function(){for(var n=0;n<u.length;n++)ft(u[n],"componentUpdated",t,e)}),!o)for(n in s)l[n]||ft(s[n],"unbind",e,e,a)}(e,t)}function ut(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=er),r[dt(i)]=i,i.def=B(t.$options,"directives",i.name);return r}function dt(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function ft(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){H(i,n.context,"directive "+e.name+" "+t+" hook")}}function pt(e,t){var n=t.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||i(e.data.attrs)&&i(t.data.attrs))){var o,a,s=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(o in r(c.__ob__)&&(c=t.data.attrs=m({},c)),c)a=c[o],l[o]!==a&&ht(s,o,a);for(o in(Sn||En)&&c.value!==l.value&&ht(s,"value",c.value),l)i(c[o])&&(Bi(o)?s.removeAttributeNS(Ni,Ui(o)):Di(o)||s.removeAttribute(o))}}function ht(e,t,n){e.tagName.indexOf("-")>-1?vt(e,t,n):ji(t)?Gi(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Di(t)?e.setAttribute(t,Ri(t,n)):Bi(t)?Gi(n)?e.removeAttributeNS(Ni,Ui(t)):e.setAttributeNS(Ni,t,n):vt(e,t,n)}function vt(e,t,n){if(Gi(n))e.removeAttribute(t);else{if(Sn&&!In&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}function gt(e,t){var n=t.elm,o=t.data,a=e.data;if(!(i(o.staticClass)&&i(o["class"])&&(i(a)||i(a.staticClass)&&i(a["class"])))){var s=nt(t),l=n._transitionClasses;r(l)&&(s=rt(s,ot(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function yt(e,t,n){var i=Fi;return function r(){null!==t.apply(null,arguments)&&_t(e,r,n,i)}}function mt(e,t,n,i){if(ar){var r=wi,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Fi.addEventListener(e,t,On?{capture:n,passive:i}:n)}function _t(e,t,n,i){(i||Fi).removeEventListener(e,t._wrapper||t,n)}function wt(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},o=e.data.on||{};Fi=t.elm,function(e){if(r(e[rr])){var t=Sn?"change":"input";e[t]=[].concat(e[rr],e[t]||[]),delete e[rr]}r(e[or])&&(e.change=[].concat(e[or],e.change||[]),delete e[or])}(n),Q(n,o,mt,_t,yt,t.context),Fi=void 0}}function bt(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};for(n in r(l.__ob__)&&(l=t.data.domProps=m({},l)),s)n in l||(a[n]="");for(n in l){if(o=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=i(o)?"":String(o);kt(a,c)&&(a.value=c)}else if("innerHTML"===n&&Hi(a.tagName)&&i(a.innerHTML)){(Oi=Oi||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var u=Oi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}else if(o!==s[n])try{a[n]=o}catch(e){}}}}function kt(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,i=e._vModifiers;if(r(i)){if(i.number)return f(n)!==f(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}function xt(e){var t=Ct(e.style);return e.staticStyle?m(e.staticStyle,t):t}function Ct(e){return Array.isArray(e)?_(e):"string"==typeof e?cr(e):e}function St(e,t){var n=t.data,o=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,l=t.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},d=c||u,f=Ct(t.data.style)||{};t.data.normalizedStyle=r(f.__ob__)?m({},f):f;var p=function(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=xt(r.data))&&m(i,n);(n=xt(e.data))&&m(i,n);for(var o=e;o=o.parent;)o.data&&(n=xt(o.data))&&m(i,n);return i}(t,!0);for(s in d)i(p[s])&&fr(l,s,"");for(s in p)(a=p[s])!==d[s]&&fr(l,s,null==a?"":a)}}function It(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(gr).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Et(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(gr).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Tt(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&m(t,yr(e.name||"v")),m(t,e),t}return"string"==typeof e?yr(e):void 0}}function At(e){Sr(function(){Sr(e)})}function Ft(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),It(e,t))}function Ot(e,t){e._transitionClasses&&h(e._transitionClasses,t),Et(e,t)}function $t(e,t,n){var i=Lt(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===_r?kr:Cr,l=0,c=function(){e.removeEventListener(s,u),n()},u=function(t){t.target===e&&++l>=a&&c()};setTimeout(function(){l<a&&c()},o+1),e.addEventListener(s,u)}function Lt(e,t){var n,i=window.getComputedStyle(e),r=(i[br+"Delay"]||"").split(", "),o=(i[br+"Duration"]||"").split(", "),a=Pt(r,o),s=(i[xr+"Delay"]||"").split(", "),l=(i[xr+"Duration"]||"").split(", "),c=Pt(s,l),u=0,d=0;return t===_r?a>0&&(n=_r,u=a,d=o.length):t===wr?c>0&&(n=wr,u=c,d=l.length):d=(n=(u=Math.max(a,c))>0?a>c?_r:wr:null)?n===_r?o.length:l.length:0,{type:n,timeout:u,propCount:d,hasTransform:n===_r&&Ir.test(i[br+"Property"])}}function Pt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Dt(t)+Dt(e[n])}))}function Dt(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Mt(e,t){var n=e.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Tt(e.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){for(var a=o.css,l=o.type,c=o.enterClass,u=o.enterToClass,d=o.enterActiveClass,p=o.appearClass,h=o.appearToClass,v=o.appearActiveClass,g=o.beforeEnter,y=o.enter,m=o.afterEnter,_=o.enterCancelled,w=o.beforeAppear,b=o.appear,k=o.afterAppear,C=o.appearCancelled,S=o.duration,I=pi,E=pi.$vnode;E&&E.parent;)I=E.context,E=E.parent;var T=!I._isMounted||!e.isRootInsert;if(!T||b||""===b){var A=T&&p?p:c,F=T&&v?v:d,O=T&&h?h:u,$=T&&w||g,L=T&&"function"==typeof b?b:y,P=T&&k||m,D=T&&C||_,M=f(s(S)?S.enter:S),R=!1!==a&&!In,j=Nt(L),N=n._enterCb=x(function(){R&&(Ot(n,O),Ot(n,F)),N.cancelled?(R&&Ot(n,A),D&&D(n)):P&&P(n),n._enterCb=null});e.data.show||ee(e,"insert",function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,N)}),$&&$(n),R&&(Ft(n,A),Ft(n,F),At(function(){Ot(n,A),N.cancelled||(Ft(n,O),j||(jt(M)?setTimeout(N,M):$t(n,l,N)))})),e.data.show&&(t&&t(),L&&L(n,N)),R||j||N()}}}function Rt(e,t){function n(){C.cancelled||(!e.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),h&&h(o),w&&(Ft(o,u),Ft(o,p),At(function(){Ot(o,u),C.cancelled||(Ft(o,d),b||(jt(k)?setTimeout(C,k):$t(o,c,C)))})),v&&v(o,C),w||b||C())}var o=e.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=Tt(e.data.transition);if(i(a)||1!==o.nodeType)return t();if(!r(o._leaveCb)){var l=a.css,c=a.type,u=a.leaveClass,d=a.leaveToClass,p=a.leaveActiveClass,h=a.beforeLeave,v=a.leave,g=a.afterLeave,y=a.leaveCancelled,m=a.delayLeave,_=a.duration,w=!1!==l&&!In,b=Nt(v),k=f(s(_)?_.leave:_),C=o._leaveCb=x(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),w&&(Ot(o,d),Ot(o,p)),C.cancelled?(w&&Ot(o,u),y&&y(o)):(t(),g&&g(o)),o._leaveCb=null});m?m(n):n()}}function jt(e){return"number"==typeof e&&!isNaN(e)}function Nt(e){if(i(e))return!1;var t=e.fns;return r(t)?Nt(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Bt(e,t){!0!==t.data.show&&Mt(t)}function Ut(e,t,n){Gt(e,t,n),(Sn||En)&&setTimeout(function(){Gt(e,t,n)},0)}function Gt(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=k(i,zt(a))>-1,a.selected!==o&&(a.selected=o);else if(b(zt(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function Vt(e,t){return t.every(function(t){return!b(t,e)})}function zt(e){return"_value"in e?e._value:e.value}function Ht(e){e.target.composing=!0}function Wt(e){e.target.composing&&(e.target.composing=!1,Kt(e.target,"input"))}function Kt(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function qt(e){return!e.componentInstance||e.data&&e.data.transition?e:qt(e.componentInstance._vnode)}function Yt(e){var t=e&&e.componentOptions;return t&&t.Ctor.options["abstract"]?Yt(Le(t.children)):e}function Xt(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[ln(o)]=r[o];return t}function Jt(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Zt(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Qt(e){e.data.newPos=e.elm.getBoundingClientRect()}function en(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var tn,nn=Object.freeze({}),rn=Object.prototype.toString,on=p("key,ref,slot,slot-scope,is"),an=Object.prototype.hasOwnProperty,sn=/-(\w)/g,ln=g(function(e){return e.replace(sn,function(e,t){return t?t.toUpperCase():""})}),cn=g(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),un=/\B([A-Z])/g,dn=g(function(e){return e.replace(un,"-$1").toLowerCase()}),fn=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n},pn=function(e,t,n){return!1},hn=function(e){return e},vn="data-server-rendered",gn=["component","directive","filter"],yn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],mn={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:pn,isReservedAttr:pn,isUnknownElement:pn,getTagNamespace:w,parsePlatformTagName:hn,mustUseProp:pn,async:!0,_lifecycleHooks:yn},_n=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]"),wn="__proto__"in{},bn="undefined"!=typeof window,kn="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,xn=kn&&WXEnvironment.platform.toLowerCase(),Cn=bn&&window.navigator.userAgent.toLowerCase(),Sn=Cn&&/msie|trident/.test(Cn),In=Cn&&Cn.indexOf("msie 9.0")>0,En=Cn&&Cn.indexOf("edge/")>0,Tn=(Cn&&Cn.indexOf("android"),Cn&&/iphone|ipad|ipod|ios/.test(Cn)||"ios"===xn),An=(Cn&&/chrome\/\d+/.test(Cn),Cn&&/phantomjs/.test(Cn),Cn&&Cn.match(/firefox\/(\d+)/)),Fn={}.watch,On=!1;if(bn)try{var $n={};Object.defineProperty($n,"passive",{get:function(){On=!0}}),window.addEventListener("test-passive",null,$n)}catch(nn){}var Ln,Pn=function(){return void 0===tn&&(tn=!bn&&!kn&&"undefined"!=typeof e&&e.process&&"server"===e.process.env.VUE_ENV),tn},Dn=bn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Mn="undefined"!=typeof Symbol&&S(Symbol)&&"undefined"!=typeof Reflect&&S(Reflect.ownKeys);Ln="undefined"!=typeof Set&&S(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Rn=w,jn=0,Nn=function(){this.id=jn++,this.subs=[]};Nn.prototype.addSub=function(e){this.subs.push(e)},Nn.prototype.removeSub=function(e){h(this.subs,e)},Nn.prototype.depend=function(){Nn.target&&Nn.target.addDep(this)},Nn.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},Nn.target=null;var Bn=[],Un=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Gn={child:{configurable:!0}};Gn.child.get=function(){return this.componentInstance},Object.defineProperties(Un.prototype,Gn);var Vn=function(e){void 0===e&&(e="");var t=new Un;return t.text=e,t.isComment=!0,t},zn=Array.prototype,Hn=Object.create(zn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=zn[e];C(Hn,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var Wn=Object.getOwnPropertyNames(Hn),Kn=!0,qn=function(e){var t;this.value=e,this.dep=new Nn,this.vmCount=0,C(e,"__ob__",this),Array.isArray(e)?(wn?(t=Hn,e.__proto__=t):function(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];C(e,o,t[o])}}(e,Hn,Wn),this.observeArray(e)):this.walk(e)};qn.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)$(e,t[n])},qn.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)O(e[t])};var Yn=mn.optionMergeStrategies;Yn.data=function(e,t,n){return n?M(e,t,n):t&&"function"!=typeof t?e:M(e,t)},yn.forEach(function(e){Yn[e]=R}),gn.forEach(function(e){Yn[e+"s"]=j}),Yn.watch=function(e,t,n,i){if(e===Fn&&(e=void 0),t===Fn&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in m(r,e),t){var a=r[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Yn.props=Yn.methods=Yn.inject=Yn.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return m(r,e),t&&m(r,t),r},Yn.provide=M;var Xn,Jn=function(e,t){return void 0===t?e:t},Zn=!1,Qn=[],ei=!1;if("undefined"!=typeof Promise&&S(Promise)){var ti=Promise.resolve();Xn=function(){ti.then(Y),Tn&&setTimeout(w)},Zn=!0}else if(Sn||"undefined"==typeof MutationObserver||!S(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xn="undefined"!=typeof n&&S(n)?function(){n(Y)}:function(){setTimeout(Y,0)};else{var ni=1,ii=new MutationObserver(Y),ri=document.createTextNode(String(ni));ii.observe(ri,{characterData:!0}),Xn=function(){ni=(ni+1)%2,ri.data=String(ni)},Zn=!0}var oi=new Ln,ai=g(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}});Ce(Se.prototype);var si,li={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;li.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(n)}(e,pi)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,i,r){var o=i.data.scopedSlots,a=e.$scopedSlots,s=!!(o&&!o.$stable||a!==nn&&!a.$stable||o&&e.$scopedSlots.$key!==o.$key),l=!!(r||e.$options._renderChildren||s);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=r,e.$attrs=i.data.attrs||nn,e.$listeners=n||nn,t&&e.$options.props){F(!1);for(var c=e._props,u=e.$options._propKeys||[],d=0;d<u.length;d++){var f=u[d],p=e.$options.props;c[f]=U(f,p,t,e)}F(!0),e.$options.propsData=t}n=n||nn;var h=e.$options._parentListeners;e.$options._parentListeners=n,Re(e,n,h),l&&(e.$slots=oe(r,i.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Ue(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,vi.push(t)):Be(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ne(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)n(e.$children[i]);Ue(e,"deactivated")}}(t,!0):t.$destroy())}},ci=Object.keys(li),ui=1,di=2,fi=null,pi=null,hi=[],vi=[],gi={},yi=!1,mi=!1,_i=0,wi=0,bi=Date.now;if(bn&&!Sn){var ki=window.performance;ki&&"function"==typeof ki.now&&bi()>document.createEvent("Event").timeStamp&&(bi=function(){return ki.now()})}var xi=0,Ci=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++xi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Ln,this.newDepIds=new Ln,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!_n.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=w)),this.value=this.lazy?void 0:this.get()};Ci.prototype.get=function(){var e;I(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;H(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&J(e),E(),this.cleanupDeps()}return e},Ci.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Ci.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Ci.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==gi[t]){if(gi[t]=!0,mi){for(var n=hi.length-1;n>_i&&hi[n].id>e.id;)n--;hi.splice(n+1,0,e)}else hi.push(e);yi||(yi=!0,X(Ge))}}(this)},Ci.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){H(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Ci.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ci.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Ci.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||h(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Si={enumerable:!0,configurable:!0,get:w,set:w},Ii={lazy:!0},Ei=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Ei++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=N(Ye(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t["abstract"]){for(;n.$options["abstract"]&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Re(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=oe(t._renderChildren,i),e.$scopedSlots=nn,e._c=function(t,n,i,r){return Fe(e,t,n,i,r,!1);
},e.$createElement=function(t,n,i,r){return Fe(e,t,n,i,r,!0)};var r=n&&n.data;$(e,"$attrs",r&&r.attrs||nn,null,!0),$(e,"$listeners",t._parentListeners||nn,null,!0)}(t),Ue(t,"beforeCreate"),function(e){var t=re(e.$options.inject,e);t&&(F(!1),Object.keys(t).forEach(function(n){$(e,n,t[n])}),F(!0))}(t),ze(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),Ue(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Xe),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=L,e.prototype.$delete=P,e.prototype.$watch=function(e,t,n){if(l(t))return qe(this,e,t,n);(n=n||{}).user=!0;var i=new Ci(this,e,t,n);if(n.immediate)try{t.call(this,i.value)}catch(e){H(e,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(Xe),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){function n(){i.$off(e,n),t.apply(i,arguments)}var i=this;return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var s=a.length;s--;)if((o=a[s])===t||o.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?y(t):t;for(var n=y(arguments,1),i='event handler for "'+e+'"',r=0,o=t.length;r<o;r++)W(t[r],this,n,this,i)}return this}}(Xe),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=je(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ue(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options["abstract"]||h(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ue(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Xe),function(e){Ce(e.prototype),e.prototype.$nextTick=function(e){return X(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&(t.$scopedSlots=se(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{fi=t,e=i.call(t._renderProxy,t.$createElement)}catch(n){H(n,t,"render"),e=t._vnode}finally{fi=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof Un||(e=Vn()),e.parent=r,e}}(Xe);var Ti=[String,RegExp,Array],Ai={KeepAlive:{name:"keep-alive","abstract":!0,props:{include:Ti,exclude:Ti,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)tt(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){et(e,function(e){return Qe(t,e)})}),this.$watch("exclude",function(t){et(e,function(e){return!Qe(t,e)})})},render:function(){var e=this.$slots["default"],t=Le(e),n=t&&t.componentOptions;if(n){var i=Ze(n),r=this.include,o=this.exclude;if(r&&(!i||!Qe(r,i))||o&&i&&Qe(o,i))return t;var a=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[l]?(t.componentInstance=a[l].componentInstance,h(s,l),s.push(l)):(a[l]=t,s.push(l),this.max&&s.length>parseInt(this.max)&&tt(a,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return mn}};Object.defineProperty(e,"config",t),e.util={warn:Rn,extend:m,mergeOptions:N,defineReactive:$},e.set=L,e["delete"]=P,e.nextTick=X,e.observable=function(e){return O(e),e},e.options=Object.create(null),gn.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,m(e.options.components,Ai),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=y(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=N(this.options,e),this}}(e),Je(e),function(e){gn.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}(e)}(Xe),Object.defineProperty(Xe.prototype,"$isServer",{get:Pn}),Object.defineProperty(Xe.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Xe,"FunctionalRenderContext",{value:Se}),Xe.version="2.6.11";var Fi,Oi,$i,Li=p("style,class"),Pi=p("input,textarea,option,select,progress"),Di=p("contenteditable,draggable,spellcheck"),Mi=p("events,caret,typing,plaintext-only"),Ri=function(e,t){return Gi(t)||"false"===t?"false":"contenteditable"===e&&Mi(t)?t:"true"},ji=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ni="http://www.w3.org/1999/xlink",Bi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ui=function(e){return Bi(e)?e.slice(6,e.length):""},Gi=function(e){return null==e||!1===e},Vi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},zi=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Hi=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wi=function(e){return zi(e)||Hi(e)},Ki=Object.create(null),qi=p("text,number,password,search,email,tel,url"),Yi=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(e,t){return document.createElementNS(Vi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Xi={create:function(e,t){at(t)},update:function(e,t){e.data.ref!==t.data.ref&&(at(e,!0),at(t))},destroy:function(e){at(e,!0)}},Ji=new Un("",{},[]),Zi=["create","activate","update","remove","destroy"],Qi={create:ct,update:ct,destroy:function(e){ct(e,Ji)}},er=Object.create(null),tr=[Xi,Qi],nr={create:pt,update:pt},ir={create:gt,update:gt},rr="__r",or="__c",ar=Zn&&!(An&&Number(An[1])<=53),sr={create:wt,update:wt},lr={create:bt,update:bt},cr=g(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}),ur=/^--/,dr=/\s*!important$/,fr=function(e,t,n){if(ur.test(t))e.style.setProperty(t,n);else if(dr.test(n))e.style.setProperty(dn(t),n.replace(dr,""),"important");else{var i=hr(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},pr=["Webkit","Moz","ms"],hr=g(function(e){if($i=$i||document.createElement("div").style,"filter"!==(e=ln(e))&&e in $i)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<pr.length;n++){var i=pr[n]+t;if(i in $i)return i}}),vr={create:St,update:St},gr=/\s+/,yr=g(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),mr=bn&&!In,_r="transition",wr="animation",br="transition",kr="transitionend",xr="animation",Cr="animationend";mr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(br="WebkitTransition",kr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(xr="WebkitAnimation",Cr="webkitAnimationEnd"));var Sr=bn?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},Ir=/\b(transform|all)(,|$)/,Er=function(e){function t(e){var t=I.parentNode(e);r(t)&&I.removeChild(t,e)}function n(e,t,n,i,a,u,p){if(r(e.elm)&&r(u)&&(e=u[p]=A(e)),e.isRootInsert=!a,!function(e,t,n,i){var a=e.data;if(r(a)){var c=r(e.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(e,!1),r(e.componentInstance))return s(e,t),l(n,e.elm,i),o(c)&&function(e,t,n,i){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<C.activate.length;++o)C.activate[o](Ji,a);t.push(a);break}l(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var h=e.data,v=e.children,g=e.tag;r(g)?(e.elm=e.ns?I.createElementNS(e.ns,g):I.createElement(g,e),f(e),c(e,v,t),r(h)&&d(e,t),l(n,e.elm,i)):o(e.isComment)?(e.elm=I.createComment(e.text),l(n,e.elm,i)):(e.elm=I.createTextNode(e.text),l(n,e.elm,i))}}function s(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,u(e)?(d(e,t),f(e)):(at(e),t.push(e))}function l(e,t,n){r(e)&&(r(n)?I.parentNode(n)===e&&I.insertBefore(e,t,n):I.appendChild(e,t))}function c(e,t,i){if(Array.isArray(t))for(var r=0;r<t.length;++r)n(t[r],i,e.elm,null,!0,t,r);else a(e.text)&&I.appendChild(e.elm,I.createTextNode(String(e.text)))}function u(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function d(e,t){for(var n=0;n<C.create.length;++n)C.create[n](Ji,e);r(k=e.data.hook)&&(r(k.create)&&k.create(Ji,e),r(k.insert)&&t.push(e))}function f(e){var t;if(r(t=e.fnScopeId))I.setStyleScope(e.elm,t);else for(var n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&I.setStyleScope(e.elm,t),n=n.parent;r(t=pi)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&I.setStyleScope(e.elm,t)}function h(e,t,i,r,o,a){for(;r<=o;++r)n(i[r],a,e,t,!1,i,r)}function v(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<C.destroy.length;++t)C.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)v(e.children[n])}function g(e,n,i){for(;n<=i;++n){var o=e[n];r(o)&&(r(o.tag)?(y(o),v(o)):t(o.elm))}}function y(e,n){if(r(n)||r(e.data)){var i,o=C.remove.length+1;for(r(n)?n.listeners+=o:n=function(e,n){function i(){0==--i.listeners&&t(e)}return i.listeners=n,i}(e.elm,o),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&y(i,n),i=0;i<C.remove.length;++i)C.remove[i](e,n);r(i=e.data.hook)&&r(i=i.remove)?i(e,n):n()}else t(e.elm)}function m(e,t,n,i){for(var o=n;o<i;o++){var a=t[o];if(r(a)&&st(e,a))return o}}function _(e,t,a,s,l,c){if(e!==t){r(t.elm)&&r(s)&&(t=s[l]=A(t));var d=t.elm=e.elm;if(o(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?b(e.elm,t,a):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,p=t.data;r(p)&&r(f=p.hook)&&r(f=f.prepatch)&&f(e,t);var v=e.children,y=t.children;if(r(p)&&u(t)){for(f=0;f<C.update.length;++f)C.update[f](e,t);r(f=p.hook)&&r(f=f.update)&&f(e,t)}i(t.text)?r(v)&&r(y)?v!==y&&function(e,t,o,a,s){for(var l,c,u,d=0,f=0,p=t.length-1,v=t[0],y=t[p],w=o.length-1,b=o[0],k=o[w],x=!s;d<=p&&f<=w;)i(v)?v=t[++d]:i(y)?y=t[--p]:st(v,b)?(_(v,b,a,o,f),v=t[++d],b=o[++f]):st(y,k)?(_(y,k,a,o,w),y=t[--p],k=o[--w]):st(v,k)?(_(v,k,a,o,w),x&&I.insertBefore(e,v.elm,I.nextSibling(y.elm)),v=t[++d],k=o[--w]):st(y,b)?(_(y,b,a,o,f),x&&I.insertBefore(e,y.elm,v.elm),y=t[--p],b=o[++f]):(i(l)&&(l=lt(t,d,p)),i(c=r(b.key)?l[b.key]:m(b,t,d,p))?n(b,a,e,v.elm,!1,o,f):st(u=t[c],b)?(_(u,b,a,o,f),t[c]=void 0,x&&I.insertBefore(e,u.elm,v.elm)):n(b,a,e,v.elm,!1,o,f),b=o[++f]);d>p?h(e,i(o[w+1])?null:o[w+1].elm,o,f,w,a):f>w&&g(t,d,p)}(d,v,y,a,c):r(y)?(r(e.text)&&I.setTextContent(d,""),h(d,null,y,0,y.length-1,a)):r(v)?g(v,0,v.length-1):r(e.text)&&I.setTextContent(d,""):e.text!==t.text&&I.setTextContent(d,t.text),r(p)&&r(f=p.hook)&&r(f=f.postpatch)&&f(e,t)}}}function w(e,t,n){if(o(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}function b(e,t,n,i){var a,l=t.tag,u=t.data,f=t.children;if(i=i||u&&u.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(u)&&(r(a=u.hook)&&r(a=a.init)&&a(t,!0),r(a=t.componentInstance)))return s(t,n),!0;if(r(l)){if(r(f))if(e.hasChildNodes())if(r(a=u)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var p=!0,h=e.firstChild,v=0;v<f.length;v++){if(!h||!b(h,f[v],n,i)){p=!1;break}h=h.nextSibling}if(!p||h)return!1}else c(t,f,n);if(r(u)){var g=!1;for(var y in u)if(!E(y)){g=!0,d(t,n);break}!g&&u["class"]&&J(u["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}var k,x,C={},S=e.modules,I=e.nodeOps;for(k=0;k<Zi.length;++k)for(C[Zi[k]]=[],x=0;x<S.length;++x)r(S[x][Zi[k]])&&C[Zi[k]].push(S[x][Zi[k]]);var E=p("attrs,class,staticClass,staticStyle,key");return function(e,t,a,s){if(!i(t)){var l,c=!1,d=[];if(i(e))c=!0,n(t,d);else{var f=r(e.nodeType);if(!f&&st(e,t))_(e,t,d,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(vn)&&(e.removeAttribute(vn),a=!0),o(a)&&b(e,t,d))return w(t,d,!0),e;l=e,e=new Un(I.tagName(l).toLowerCase(),{},[],(void 0),l)}var p=e.elm,h=I.parentNode(p);if(n(t,d,p._leaveCb?null:h,I.nextSibling(p)),r(t.parent))for(var y=t.parent,m=u(t);y;){for(var k=0;k<C.destroy.length;++k)C.destroy[k](y);if(y.elm=t.elm,m){for(var x=0;x<C.create.length;++x)C.create[x](Ji,y);var S=y.data.hook.insert;if(S.merged)for(var E=1;E<S.fns.length;E++)S.fns[E]()}else at(y);y=y.parent}r(h)?g([e],0,0):r(e.tag)&&v(e)}}return w(t,d,c),t.elm}r(e)&&v(e)}}({nodeOps:Yi,modules:[nr,ir,sr,lr,vr,bn?{create:Bt,activate:Bt,remove:function(e,t){!0!==e.data.show?Rt(e,t):t()}}:{}].concat(tr)});In&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Kt(e,"input")});var Tr={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ee(n,"postpatch",function(){Tr.componentUpdated(e,t,n)}):Ut(e,t,n.context),e._vOptions=[].map.call(e.options,zt)):("textarea"===n.tag||qi(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Ht),e.addEventListener("compositionend",Wt),e.addEventListener("change",Wt),In&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ut(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,zt);r.some(function(e,t){return!b(e,i[t])})&&(e.multiple?t.value.some(function(e){return Vt(e,r)}):t.value!==t.oldValue&&Vt(t.value,r))&&Kt(e,"change")}}},Ar={model:Tr,show:{bind:function(e,t,n){var i=t.value,r=(n=qt(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,Mt(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=qt(n)).data&&n.data.transition?(n.data.show=!0,i?Mt(n,function(){e.style.display=e.__vOriginalDisplay}):Rt(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},Fr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Or=function(e){return e.tag||$e(e)},$r=function(e){return"show"===e.name},Lr={name:"transition",props:Fr,"abstract":!0,render:function(e){var t=this,n=this.$slots["default"];if(n&&(n=n.filter(Or)).length){var i=this.mode,r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var o=Yt(r);if(!o)return r;if(this._leaving)return Jt(e,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=Xt(this),c=this._vnode,u=Yt(c);if(o.data.directives&&o.data.directives.some($r)&&(o.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,u)&&!$e(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=m({},l);if("out-in"===i)return this._leaving=!0,ee(d,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Jt(e,r);if("in-out"===i){if($e(o))return c;var f,p=function(){f()};ee(l,"afterEnter",p),ee(l,"enterCancelled",p),ee(d,"delayLeave",function(e){f=e})}}return r}}},Pr=m({tag:String,moveClass:String},Fr);delete Pr.mode;var Dr={Transition:Lr,TransitionGroup:{props:Pr,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=je(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots["default"]||[],o=this.children=[],a=Xt(this),s=0;s<r.length;s++){var l=r[s];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a)}if(i){for(var c=[],u=[],d=0;d<i.length;d++){var f=i[d];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):u.push(f)}this.kept=e(t,null,c),this.removed=u}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Zt),e.forEach(Qt),e.forEach(en),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;Ft(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(kr,n._moveCb=function r(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(kr,r),n._moveCb=null,Ot(n,t))})}}))},methods:{hasMove:function(e,t){if(!mr)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Et(n,e)}),It(n,t),n.style.display="none",this.$el.appendChild(n);var i=Lt(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Xe.config.mustUseProp=function(e,t,n){return"value"===n&&Pi(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Xe.config.isReservedTag=Wi,Xe.config.isReservedAttr=Li,Xe.config.getTagNamespace=function(e){return Hi(e)?"svg":"math"===e?"math":void 0},Xe.config.isUnknownElement=function(e){if(!bn)return!0;if(Wi(e))return!1;if(e=e.toLowerCase(),null!=Ki[e])return Ki[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ki[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ki[e]=/HTMLUnknownElement/.test(t.toString())},m(Xe.options.directives,Ar),m(Xe.options.components,Dr),Xe.prototype.__patch__=bn?Er:w,Xe.prototype.$mount=function(e,t){return function(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=Vn),Ue(e,"beforeMount"),i=function(){e._update(e._render(),n)},new Ci(e,i,w,{before:function(){e._isMounted&&!e._isDestroyed&&Ue(e,"beforeUpdate")}},(!0)),n=!1,null==e.$vnode&&(e._isMounted=!0,Ue(e,"mounted")),e}(this,e=e&&bn?function(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}(e):void 0,t)},bn&&setTimeout(function(){mn.devtools&&Dn&&Dn.emit("init",Xe)},0),t.exports=Xe}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:2}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.service;this.addFormComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.layerId,i=e.components,r=void 0===i?[]:i;t.addFormComponents({layerId:n,components:r})},this.getSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getSession(e)},this.getFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getFeature(e)},this.subscribe=function(e,n){return t.subscribe(e,n)},this.unsubscribe=function(e,n){return t.unsubscribe(e,n)}};n["default"]=i},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={it:{errors:{no_layers:"Si è verificato un errore nel caricamento dei layers in editing.",some_layers:"Si è verificato un errore nel caricamento di alcuni layers in editing"},search:"Cerca",editing_data:"Edita Dati",editing_attributes:"Edita attributi",relations:"Relazioni",edit_relation:"Edita relazione",back_to_relations:"Ritorna alle Relazioni",no_relations_found:"Non ci sono relazioni",relation_data:"Dati relativi alla relazione",relation_already_added:"Relazione già presente",list_of_relations_feature:"Elenco Relazioni della feature ",tooltip:{edit_layer:"Modifica Layer"},toolbox:{title:"Edita"},tools:{copy:"Copia features",addpart:"Aggiungi Parte",deletepart:"Cancella Parte",merge:"Dissolvi features",split:"Taglia Feature",add_feature:"Aggiungi feature",delete_feature:"Elimina feature",move_feature:"Muovi feature",update_vertex:"Aggiorna vertici feature",update_feature:"Modifica feature"},table:{edit:"Edita feature",copy:"Crea una copia","delete":"Cancella feature"},steps:{help:{select_elements:"Seleziona le features",select_element:"Seleziona la feature",copy:"Crea una copia delle feature selezionate",merge:"Dissolvi features",split:"Taglia Feature","new":"Creo una nuova feature",edit_table:"Edita le features della tabella",draw_new_feature:"Disegna sulla mappa la feature",action_confirm:"Conferma azione",double_click_delete:"Doppio click sulla feature che vuoi cancellare",edit_feature_vertex:"Modifica o aggiungi un vertice alla feature selezionata",move:"Muovi la feature selezionata",select_feature_to_relation:"Seleziona la feature che vuoi mettere in relazione",show_edit_feature_form:"Mostra il form della feature per poter editare gli attributi",pick_feature:"Clicca su una feature per poterla modificare",insert_attributes_feature:"Inserisci gli attributi della feature"}},workflow:{steps:{select:"Clicca sulla feature da selezionare",draw_part:"Disegna la nuova parte",merge:"Seleziona la feature su cui dissolvere",selectPoint:"Clicca sulla feature per selezionarla",selectSHIFT:"Seleziona le features tenedo premuto il tasto SHIFT",selectDrawBox:"Seleziona le features disegnando un rettangolo mediante la creazione dei due punti della diagonale",selectPointSHIFT:"Seleziona le features tenedo premuto il tasto SHIFT (multiselezione) oppure cliccando sulla singola feature",copyCTRL:"Copia le features selezionate con CTRL+C",selectStartVertex:"Seleziona il vertice di partenza delle feature selezionate",selectToPaste:"Seleziona il punto dove verranno incollate le features selezionate",draw_split_line:"Disegna una linea per tagliare la feature selezionata"}},messages:{splitted:"Feature(s) splittata(e)",nosplittedfeature:"La(e) feature(s) non è stata splittata",press_esc:"Premi ESC per tornare indietro",online:"Ora sei di nuovo ONLINE. Puoi slavare le modifiche in modo permanente",offline:"Sei OFFLINE. Tutte le modifiche saranno salvate temporaneamente in locale",delete_feature:"Vuoi eliminare l'elemento selezionato?",delete_feature_relations:"Cancellando una feature con relazioni associate, tale relazioni rimarranno orfane. Si consiglia di gestire tali relazioni prima di cancellare la feature",unlink_relation:"Vuoi staccare la relazione?",commit_feature:"Vuoi salvare definitivamente le modifiche",change_toolbox_relation:"Layer in relazione. Prima di passare ad altri editing è obbligatorio salvare le modifiche correnti.",saved:"I dati sono stati salvati correttamente",saved_local:"I dati sono stati salvati correttamente in locale",loading_data:"Caricamento dati",saving:"Salvataggio dati in corso. Attendere ...",constraints:{enable_editing:"Aumentare il livello di zoom per abilitare l'editing \nScala di attivazione 1:"},commit:{header:"La lista sotto riporta tutte le modifiche che verranno salvate.",header_add:"<b>Aggiunte</b> riporta il numero delle features aggiunte",header_update_delete:"<b>Modificate</b> e <b>Cancellate</b> riporta la lista degli id",add:"Aggiunte (n. features)","delete":"Cancellate(id)",update:"Modificate(id)"}},relation:{table:{info:"<div>Seleziona le relazioni per associarle alla feature in editing.</div>"}},form:{relations:{tooltips:{add_relation:"Crea ed aggiungi nuova relazione",link_relation:"Associa una relazione esistente a questa feature",open_relation_tools:"Apri strumenti relatione",unlink_relation:"Annulla relazione"}},buttons:{save:"Salva",save_and_back:"Salva e torna al padre",cancel:"Cancella"}}},en:{errors:{no_layers:"An error occurs. It's no possible to edit layers",some_layers:"An error occurs: It's no possible to edit some layers"},search:"Search",editing_data:"Editing Layers",editing_attributes:"Editing attributes",relations:"Relations",edit_relation:"Edit relation",back_to_relations:"Back to Relations",no_relations_found:"No relations found",relation_data:"Relation data",relation_already_added:"Relation already added",list_of_relations_feature:"List of relations feature ",tooltip:{edit_layer:"Edit Layer"},toolbox:{title:"Edit"},table:{edit:"Edit feature",copy:"Create a copy","delete":"Delete feature"},tools:{copy:"Copy features",addpart:"Add Part",deletepart:"Delete Part",merge:"Dissolve features",split:"Split Feature",add_feature:"Add feature",delete_feature:"Delete feature",move_feature:"Move feature",update_vertex:"Update feature vertex",update_feature:"Update feature"},steps:{help:{select_elements:"Select features",select_element:"Select feature",copy:"Create new copy of selected features",merge:"Dissolve features",split:"Split Feature","new":"Create new feature",edit_table:"Edit table features",draw_new_feature:"Draw feature on map",action_confirm:"Confirm action",double_click_delete:"Double Click on the feature to delete",edit_feature_vertex:"Modify or add a vertex on selected feature",move:"Move selected feature",select_feature_to_relation:"Select feature that you bind relation",show_edit_feature_form:"Show feature form to edit attributes",pick_feature:"Click on feature to modify",insert_attributes_feature:"Insert attributes of the feature"}},workflow:{steps:{select:"Click on feature to select",draw_part:"Draw new part",merge:"Select featurewhere dissolve",selectSHIFT:"Select features drawing a rectangle pressing SHIFT",selectDrawBox:"Select features drawing a rectangle by two point of opposite corners",selectPoint:"Click on feature to select",selectPointSHIFT:"Select features drawing a rectangle pressing SHIFT (multifeatre) or click on one feature",copyCTRL:"Copy selected features using CTRL+C",selectStartVertex:"Select starting vertex of selected features",selectToPaste:"Select the point where paste the features selected",draw_split_line:"Draw a line to split selected feature"}},messages:{splitted:"Splitted",nosplittedfeature:"Feature not spitted",press_esc:"Press ESC to back",online:"Back ONLINE. Now you can save your changes on database",offline:"You are OFFLINE. All changes are saved locally",delete_feature:"Do you want delete selected feature ?",delete_feature_relations:"If feature has bindings relations, these relations become orphans. We suggest to handle these relations before detele this feature",unlink_relation:"Do you want unlink relation?",commit_feature:"Do you want to save the changes",change_toolbox_relation:"Layer has relation/relations. Before switch editing you need to save changes done.",saved:"Data saved successfully",saved_local:"Data saved locally successfully",loading_data:"Loading data",saving:"Saving data. Please wait ...",constraints:{enable_editing:"Please Zoom In to enable editing tools \nActivation scale at 1:"},pdf:"Document preview not available. Please click here ",commit:{header:"The following list show all changes to commit.",header_add:"<b>Added</b> show the number of features added",header_update_delete:"<b>Modified</b> and <b>Deleted</b> show the list of features id",add:"Added(n. features)","delete":"Deleted(id)",update:"Modified(id)"}},relation:{table:{info:"\n                  <div>\n                    Select relations to link it to current editing feature.\n                  </div>\n                  <div>\n               \n                "}},form:{relations:{tooltips:{add_relation:"Create and link new relation",link_relation:"Join a relation to this feature",open_relation_tools:"Show relation tools",unlink_relation:"Unlink relation"}},buttons:{save:"Save",save_and_back:"Save and Back",cancel:"Cancel"}}}}},{}],9:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./i18n"),o=i(r);n["default"]={i18n:o["default"]}},{"./i18n":8}],10:[function(e,t,n){t.exports='<div style="margin-bottom: 5px;">\n  <div class="box-header with-border" style="width:100%; display: flex; justify-content: flex-end; margin-button:3px; background-color: #ffffff; ">\n    <div id="search-box" style="margin-right: auto;">\n      <input v-if="relationsLength" type="text" class="form-control" id="filterRelation" :placeholder="placeholdersearch">\n    </div>\n    <div>\n      <span class="g3w-icon add-link" align="center"\n            data-toggle="tooltip" data-placement="bottom"\n            v-t-tooltip:plugin="tooltips.link_relation" @click="enableAddLinkButtons ? linkRelation() : null"\n            :class="[{\'disabled\': !enableAddLinkButtons}, g3wtemplate.font[\'link\']]">\n      </span>\n      <span data-toggle="tooltip" data-placement="bottom"\n            v-t-tooltip:plugin="tooltips.add_relation"\n            @click="enableAddLinkButtons ? addRelationAndLink() : null"\n            class="g3w-icon add-link pull-right"\n            :class="[{\'disabled\' : !enableAddLinkButtons}, g3wtemplate.font[\'plus\']]">\n          </span>\n    </div>\n  </div>\n  <div class="box-body" style="padding:0;">\n    <template v-if="relationsLength">\n      <table class="table g3wform-relation-table table-striped" style="width:100%">\n        <thead>\n          <tr>\n            <th v-t="\'tools\'"></th>\n            <th></th>\n            <th v-for="attribute in relationAttributesSubset(relations[0])">\n              {{attribute.label}}\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n            <tr v-for="(relation, index) in relations" class="featurebox-header">\n              <td>\n                <div style="display: flex">\n                  <div class="skin-tooltip-right editbtn enabled" @click="startTool(relationtool, index)"\n                       v-for="relationtool in getRelationTools()" :key="relationtool.state.name"\n                       data-toggle="tooltip"\n                       data-placement="right" v-t-tooltip:plugin="relationtool.state.name">\n                    <img height="20px" width="20px" :src="resourcesurl + \'images/\'+ relationtool.state.icon"/>\n                  </div>\n                </div>\n              </td>\n              <td class="action-cell">\n                <div v-if="!fieldrequired" class="g3w-mini-relation-icon skin-tooltip-right g3w-icon" :class="g3wtemplate.font[\'unlink\']"\n                     @click="unlinkRelation(index)"\n                     data-toggle="tooltip" data-placement="right" v-t-tooltip:plugin="tooltips.unlink_relation"\n                     aria-hidden="true">\n                </div>\n              </td>\n              <td v-show="!showAllFieds(index)" v-for="attribute in relationAttributesSubset(relation)">\n                <template v-if="isMedia(attribute.value) && getValue(attribute.value)">\n                  <div class="preview">\n                    <a :href="getValue(attribute.value)" target="_blank">\n                      <div class="previewtype" :class="getMediaType(attribute.value.mime_type).type">\n                        <i class="fa-2x" :class="g3wtemplate.font[getMediaType(attribute.value.mime_type).type]"></i>\n                      </div>\n                    </a>\n                    <div class="filename">{{ getFileName(attribute.value) }}</div>\n                  </div>\n                </template>\n                <a v-else-if="isLink(attribute.value)" :href="getValue(attribute.value)" target="_blank">{{ getValue(attribute.value) }}</a>\n                <span v-else>{{ getValue(attribute.value) }}</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </template>\n    </div>\n</div>\n';
},{}],11:[function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=g3wsdk.core.i18n.tPlugin,o=g3wsdk.core.utils.toRawType,a=e("../../../../services/relationservice"),s=g3wsdk.gui.vue.Mixins,l=s.fieldsMixin,c=s.resizeMixin,u=s.mediaMixin,d=void 0,f=Vue.compile(e("./relation.html")),p=Vue.extend(i({mixins:[u,l,c],name:"g3w-relation"},f,{data:function(){return{showallfieldsindex:null,tooltips:{add_relation:"editing.form.relations.tooltips.add_relation",link_relation:"editing.form.relations.tooltips.link_relation",open_relation_tool:"editing.form.relations.tooltips.open_relation_tools",unlink_relation:"editing.form.relations.tooltips.unlink_relation"},value:null,placeholdersearch:r("editing.search")+" ..."}},methods:{resize:function(){d.columns.adjust()},unlinkRelation:function(e){this._service.unlinkRelation(e)},addRelationAndLink:function(){this._service.addRelation()},startTool:function(e,t){this._service.startTool(e,t).then(function(){})["catch"](function(e){})},linkRelation:function(){this._service.linkRelation()},updateExternalKeyValueRelations:function(e){this._service.updateExternalKeyValueRelations(e)},isRequired:function(){return this._service.isRequired()},relationAttributesSubset:function(e){var t=[],n=this.relationsFields(e);return n.forEach(function(e){if(!Array.isArray(e.value)){var n=e.label,i=e.value;t.push({label:n,value:i})}}),t},relationsAttributesSubsetLength:function(e){return this.relationAttributesSubset(e).length},relationsFields:function(e){var t=this._service.relationFields(e);return t},showAllRelationFields:function(e){this.showallfieldsindex=this.showallfieldsindex==e?null:e},showAllFieds:function(e){return this.showallfieldsindex==e},getRelationTools:function(){return this._service.getRelationTools()},isLink:function(e){return e=this.getValue(e),["photo","link"].indexOf(this.getFieldType(e))!==-1},getValue:function(e){return e&&"Object"===o(e)?e=e.value:"string"==typeof e&&0===e.indexOf("_new_")&&(e=null),this.value=e,e},getFileName:function(e){return this.getValue(e).split("/").pop()},_setDataTableSearch:function(){$("#filterRelation").on("keyup",function(){d.search($(this).val()).draw()})},_createDataTable:function(){d=$(".g3wform-relation-table").DataTable({scrollX:!0,order:[2,"asc"],destroy:!0,scrollResize:!0,scrollCollapse:!0,pageLength:10,columnDefs:[{orderable:!1,targets:[0,1]}]}),$(".dataTables_filter, .dataTables_length").hide(),this._setDataTableSearch()},destroyTable:function(){d&&(d=d.destroy(),d=null,$("#filterRelation").off())}},computed:{relationsLength:function(){return this.relations.length},fieldrequired:function(){return this._service.isRequired()},enableAddLinkButtons:function(){return!this.relations.length||this.relations.length&&"ONE"!==this.relation.type}},watch:{relations:function(e){0===e.length&&this.destroyTable()}},beforeCreate:function(){this.delayType="debounce"},created:function(){this._service=new a(this.layerId,{relation:this.relation,relations:this.relations}),this.formeventbus.$on("changeinput",this.updateExternalKeyValueRelations)},activated:function(){var e=this;!d&&this.relationsLength&&this.$nextTick(function(){e._createDataTable()})},deactivated:function(){this.destroyTable()},mounted:function(){this.$nextTick(function(){$('.g3w-icon[data-toggle="dropdown"]').tooltip(),$('[data-toggle="tooltip"]').tooltip()})},destroyed:function(){}}));t.exports=p},{"../../../../services/relationservice":17,"./relation.html":10}],12:[function(e,t,n){function i(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,n);var i=e("../services/editingservice"),r=n.context_inputs||null,a=n.layer,c=a.getId();if(r){var u=r.inputs.features[r.inputs.features.length-1];s.setLoadingContent(!0);var d=u.isNew()?Promise.resolve():i.getLayersDependencyFeatures(c,{feature:u,filterType:"fid"});d.then(function(){r.formEventBus=t.getService().getEventBus();var e=new l(r),n=e.buildRelationComponents(),o=i.getFormComponentsById(c);o.length&&t.addFormComponents(o),n.length&&t.addFormComponents(n),Vue.nextTick(function(){s.setLoadingContent(!1)})})}}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.gui.vue.FormComponent,s=g3wsdk.gui.GUI,l=e("./editingformservice");r(i,a),t.exports=i},{"../services/editingservice":16,"./editingformservice":13}],13:[function(e,t,n){var i=g3wsdk.gui.GUI,r=g3wsdk.core.i18n.tPlugin,o=e("./components/relation/vue/relation"),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e("../services/editingservice");this.state={relations:[]};var a=t.inputs||{},s=a.layer,l=a.features;this._formEventBus=t.formEventBus||null;var c=s.getId(),u=l[l.length-1],d=s.getRelations().getArray().filter(function(e){return"ONE"!==e.getType()});d=s.isFather()?n.getRelationsInEditing({layerId:c,relations:d,feature:u}):[],this.hasRelations=function(){return!!d.length},this.buildRelationComponents=function(){var e=this,t=[];return d.forEach(function(n){var a=Vue.extend({mixins:[o],name:"relation_"+Date.now(),methods:{getService:function(){return e._relationsService}},data:function(){return{layerId:c,relation:n.relation,relations:n.relations,resourcesurl:i.getResourcesUrl(),formeventbus:e._formEventBus}}});t.push({title:"plugins.editing.edit_relation",name:n.relation.name,id:r("editing.edit_relation")+" "+n.relation.name,component:a})}),t}};t.exports=a},{"../services/editingservice":16,"./components/relation/vue/relation":11}],14:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./config"),o=i(r),a=g3wsdk.core.utils.inherit,s=g3wsdk.core.utils.base,l=g3wsdk.core.plugin.Plugin,c=g3wsdk.gui.GUI,u=e("./services/editingservice"),d=e("./panel"),f=g3wsdk.core.i18n.addI18nPlugin,p=function(){s(this);var e={position:0,title:"EDITING"},t={some_layers:!1};this.name="editing",this.init=function(){var t=this;f({name:this.name,config:o["default"].i18n}),this.setService(u),this.config=this.getConfig(),this.service.loadPlugin()&&(this.setHookLoading({loading:!0}),this.service.once("ready",function(){t.registerPlugin(t.config.gid)&&(c.isready?t.setupGui():c.on("ready",t.setupGui.bind(t))),t.setHookLoading({loading:!1});var e=t.service.getApi();t.setApi(e),t.setReady(!0)}),this.service.init(this.config),this.addToolGroup(e))},this.setupGui=function(){return this.config.visible!==!1&&(this.config.name=this.config.name||"plugins.editing.editing_data",void this.addTools({action:this.showEditingPanel,offline:!1,icon:"pencil"},e))},this.showEditingPanel=function(){if(this.service.getLayers().length>0){var e=new d;c.showPanel(e),!t.some_layers&&this.service.getLayersInError()&&(c.showUserMessage({type:"warning",message:"plugins.editing.errors.some_layers",closable:!0}),t.some_layers=!0)}else c.showUserMessage({type:"alert",message:"plugins.editing.errors.no_layers"})},this.load=function(){this.init()},this.unload=function(){this.removeTools(),this.service.clear()}};a(p,l),function(e){e.init()}(new p)},{"./config":9,"./panel":15,"./services/editingservice":16}],15:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id="editing-panel",e.title="plugins.editing.editing_data",e.name="Editing Layer",e.toolboxes=e.toolboxes||null,r(this,e)}var r=g3wsdk.core.utils.base,o=g3wsdk.core.utils.inherit,a=(g3wsdk.core.i18n.tPlugin,e("./vue/editing"));o(i,a),t.exports=i},{"./vue/editing":35}],16:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=this;d(this),this._sessions={},this.constraints={},this._vectorUrl,this._projectType,this._unByKeys=[],this._events={layer:{start_editing:{before:{},after:{}}}},this.state={toolboxes:[],toolboxselected:null,toolboxidactivetool:null,message:null,relations:[]},this._layers_in_error=!1,this._mapService=w.getComponent("map").getService(),this._mapService.on("mapcontrol:active",function(t){var n=e.state.toolboxselected;n&&n.getActiveTool()&&n.getActiveTool().stop()}),this._formComponents={},this._subscribers={},this.init=function(e){var t=this;this._vectorUrl=e.vectorurl,this._projectType=e.project_type,this._layersstore=new y({id:"editing",queryable:!1}),g.addLayersStore(this._layersstore),this.config=e,this._editableLayers=o({},Symbol["for"]("layersarray"),[]),this._toolboxes=[],this.state.toolboxes=[];var n=this._getEditableLayersFromCatalog(),i=[],r=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;i.push(u.getLayerForEditing({vectorurl:this._vectorUrl,project_type:this._projectType}))}}catch(d){a=!0,s=d}finally{try{!r&&c["return"]&&c["return"]()}finally{if(a)throw s}}Promise.allSettled(i).then(function(e){e.forEach(function(e){var n=e.status,i=e.value;if("fulfilled"===n){var r=i,o=r.getId();t._editableLayers[o]=r,t._editableLayers[Symbol["for"]("layersarray")].push(r),t._attachLayerWidgetsEvent(t._editableLayers[o]),t._sessions[o]=null}else t._layers_in_error=!0}),Promise.resolve().then(function(){return t._ready()})})},this._ready=function(){this.setLayersColor(),this._layersstore.addLayers(this.getLayers()),this._buildToolBoxes(),this._createToolBoxDependencies(),this.setApi({api:new c["default"]({service:this})}),this.emit("ready")}}var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=e("../api"),c=i(l),u=g3wsdk.core.utils.inherit,d=g3wsdk.core.utils.base,f=g3wsdk.core.workflow.WorkflowsStack,p=g3wsdk.core.plugin.PluginService,h=g3wsdk.core.editing.SessionsRegistry,v=g3wsdk.core.catalog.CatalogLayersStoresRegistry,g=g3wsdk.core.map.MapLayersStoreRegistry,y=g3wsdk.core.layer.LayersStore,m=g3wsdk.core.layer.Layer,w=g3wsdk.gui.GUI,b=g3wsdk.core.errors.parsers.Server,k=e("../toolboxes/toolboxesfactory"),x=g3wsdk.core.i18n.tPlugin,C=e("../workflows/commitfeaturesworkflow"),S=g3wsdk.core.ApplicationService,I=g3wsdk.core.ApplicationState,E={CHANGES:"EDITING_CHANGES"};u(a,p);var T=a.prototype;T.getAppState=function(){return I},T.getFormComponentsById=function(e){return this._formComponents[e]||[]},T.getFormComponents=function(){return this._formComponents},T.addFormComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.components,i=void 0===n?[]:n;this._formComponents[t]||(this._formComponents[t]=[]);for(var r=0;r<i.length;r++){var o=i[r];this._formComponents[t].push(o)}},T.getSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=this.getToolBoxById(t);return n.getSession()},T.getFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=this.getToolBoxById(t),i=n.getActiveTool();return i.getFeature()},T.subscribe=function(e,t){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e].push(t)},T.unsubscribe=function(e,t){this._subscribers[e]=this._subscribers[e].filter(function(e){return e!==t})},T.getLayersInError=function(){return this._layers_in_error},T.getMapService=function(){return this._mapService},T._initOffLineItems=function(){for(var e in E)!this.getOfflineItem(E[e])&&S.setOfflineItem(E[e])},T._handleOfflineChangesBeforeSave=function(e){var t=S.getOfflineItem(E.CHANGES),n=function(e){var t=e.layerId,n=e.current,i=e.previous;n[t].add=[].concat(r(i[t].add),r(n[t].add)),n[t]["delete"]=[].concat(r(i[t]["delete"]),r(n[t]["delete"])),i[t].update.forEach(function(e){var i=e.id,r=n[t].update.find(function(e){return e.id===i});!r&&n[t].update.unshift(e)}),i[t].lockids.forEach(function(e){var i=e.featureid,r=n[t].lockids.find(function(e){return e.featureid===i});!r&&n[t].update.unshift(e)})};for(var i in t){var o=e[i]?e:e[Object.keys(e)[0]].relations[i]?e[Object.keys(e)[0]].relations:null;if(o)n({layerId:i,current:o,previous:t});else{var a=Object.keys(e)[0],s=Object.keys(t[i].relations);s.length?s.indexOf(a)!==-1&&(n({layerId:a,current:e,previous:t[i].relations}),t[i].relations[a]=e[a],e=t):e[i]=t[i]}}return e},T.saveOfflineItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.data;return t===E.CHANGES&&(n=this._handleOfflineChangesBeforeSave(n)),S.setOfflineItem(t,n)},T.setOfflineItem=function(e,t){S.setOfflineItem(e,t)},T.getOfflineItem=function(e){return S.getOfflineItem(e)},T.checkOfflineChanges=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.modal,i=void 0===n||n;return new Promise(function(t,n){var r=S.getOfflineItem(E.CHANGES);if(r){var o=[];for(var a in r){var s=e.getToolBoxById(a),l=r[a];o.push(e.commit({toolbox:s,commitItems:l,modal:i}))}$.when.apply(e,o).then(function(){t()}).fail(function(e){n(e)}).always(function(){e.setOfflineItem(E.CHANGES)})}})},T.registerOnLineOffLineEvent=function(){var e=this;I.online&&this.checkOfflineChanges();var t=S.onafter("offline",function(){}),n=S.onafter("online",function(){e.checkOfflineChanges({modal:!1}).then(function(){})["catch"](function(e){w.notify.error(e)})});this._unByKeys.push({owner:S,setter:"offline",key:t}),this._unByKeys.push({owner:S,setter:"online",key:n})},T.unregisterOnLineOffLineEvent=function(){this.unregisterSettersEvents(["online","offline"])},T.unregisterSettersEvents=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._unByKeys.forEach(function(e){var t=e.owner,n=e.setter,i=e.key;t.un(n,i)})},T.fireEvent=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i){t._subscribers[e]&&t._subscribers[e].forEach(function(e){return e(n)}),i()})},T.activeQueryInfo=function(){this._mapService.activeMapControl("query")},T.setLayersColor=function(){var e=["#C43C39","#d95f02","#91522D","#7F9801","#0B2637","#8D5A99","#85B66F","#8D2307","#2B83BA","#7D8B8F","#E8718D","#1E434C","#9B4F07","#1b9e77","#FF9E17","#7570b3","#204B24","#9795A3","#C94F44","#7B9F35","#373276","#882D61","#AA9039","#F38F3A","#712333","#3B3A73","#9E5165","#A51E22","#261326","#e4572e","#29335c","#f3a712","#669bbc","#eb6841","#4f372d","#cc2a36","#00a0b0","#00b159","#f37735","#ffc425"],t=!0,n=!1,i=void 0;try{for(var r,o=this.getLayers()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.getColor()?null:a.setColor(e.splice(0,1)[0])}}catch(s){n=!0,i=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw i}}},T._layerChildrenRelationInEditing=function(e){var t=this,n=e.getChildren(),i=[];return n.forEach(function(e){t.getLayerById(e)&&i.push(e)}),i},T.undoRelations=function(e){var t=this;Object.entries(e).forEach(function(e){var n=s(e,2),i=n[0],r=n[1],o=t.getToolBoxById(i),a=o.getSession();a.undo(r)})},T.rollbackRelations=function(e){var t=this;Object.entries(e).forEach(function(e){var n=s(e,2),i=n[0],r=n[1],o=t.getToolBoxById(i),a=o.getSession();a.rollback(r)})},T.redoRelations=function(e){var t=this;Object.entries(e).forEach(function(e){var n=s(e,2),i=n[0],r=n[1],o=t.getToolBoxById(i),a=o.getSession();a.redo(r)})},T.getEditingLayer=function(e){return this._editableLayers[e].getEditingLayer()},T._buildToolBoxes=function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.getLayers()[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=k.build(o);this.addToolBox(a)}}catch(s){t=!0,n=s}finally{try{!e&&r["return"]&&r["return"]()}finally{if(t)throw n}}},T.addToolBox=function(e){this._toolboxes.push(e),this._sessions[e.getId()]=e.getSession(),this.state.toolboxes.push(e.state)},T.addEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.id,i=e.fnc;this._events[t]||(this._events[t]={}),this._events[t][n]||(this._events[t][n]=[]),this._events[t][n].push(i)},T.runEventHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.id;this._events[t]&&this._events[t][n]&&this._events[t][n].forEach(function(e){e()})},T._attachLayerWidgetsEvent=function(e){for(var t=this,n=e.getEditingFields(),i=function(i){var r=n[i];if(r.input&&"select_autocomplete"===r.input.type){var o=r.input.options,a=o.key,s=o.values,l=o.value,c=o.usecompleter,u=o.layer_id,d=o.loading,f=t;c||t.addEvent({type:"start-editing",id:e.getId(),fnc:function(){d.state="loading",s.splice(0);var e=v.getLayerById(u);if(e){e.getType()===m.LayerTypes.VECTOR;e?e.getDataTable({ordering:a}).then(function(e){if(e&&e.features){var t=e.features;f.fireEvent("autocomplete",{field:r,features:t});for(var n=0;n<t.length;n++)s.push({key:t[n].properties[a],value:t[n].properties[l]});d.state="ready"}}).fail(function(e){d.state="error"}):d.state="error"}else f.fireEvent("autocomplete",{field:r,features:[]}),d.state="ready"}})}},r=0;r<n.length;r++)i(r)},T._createToolBoxDependencies=function(){var e=this;this._toolboxes.forEach(function(t){var n=t.getLayer();if(t.setFather(n.isFather()),t.state.editing.dependencies=e._getToolBoxEditingDependencies(n),n.isFather()&&t.hasDependencies()){var i=n.getRelations().getRelations();for(var r in i){var o=i[r];t.addRelation(o)}}})},T.isFieldRequired=function(e,t){return this.getLayerById(e).isFieldRequired(t)},T._getToolBoxEditingDependencies=function(e){var t=this,n=[].concat(r(e.getChildren()),r(e.getFathers()));return n.filter(function(e){return!!t.getLayerById(e)})},T._hasEditingDependencies=function(e){var t=this._getToolBoxEditingDependencies(e);return!!t.length},T.handleToolboxDependencies=function(e){var t=this,n=void 0;e.isFather()&&this.getLayersDependencyFeatures(e.getId()),e.getDependencies().forEach(function(e){n=t.getToolBoxById(e),n.setEditing(!1)})},T._getEditableLayersFromCatalog=function(){var e=v.getLayers({EDITABLE:!0});return e},T.getLayers=function(){return this._editableLayers[Symbol["for"]("layersarray")]},T.getCurrentWorkflow=function(){return f.getCurrent()},T.getCurrentWorkflowData=function(){var e=f.getCurrent();return{session:e.getSession(),inputs:e.getInputs(),context:e.getContext(),feature:e.getCurrentFeature(),layer:e.getLayer()}},T.getRelationsAttributesByFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=e.feature,r=this.getToolBoxById(t).getLayer(),o=this.getRelationsByFeature({layerId:t,relation:n,feature:i});return o.map(function(e){return{fields:r.getFieldsWithValues(e,{relation:!0}),id:e.getId()}})},T._getRelationLayerId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation;return n.getChild()===t?n.getFather():n.getChild()},T.getRelationsByFeature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=e.feature,r=(e.layerType,this._getRelationFieldsFromRelation({layerId:t,relation:n})),o=r.ownField,a=r.relationField,s=i.get(a),l=this._getFeaturesByLayerId(t);return l.filter(function(e){return e.get(o)==s})},T.registerLeavePage=function(e){S.registerLeavePage({bool:e})},T.loadPlugin=function(){return this._load=!!this._getEditableLayersFromCatalog().length},T.getLayerById=function(e){return this._editableLayers[e]},T.beforeEditingStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;this._checkLayerWidgets(t)},T.afterEditingStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.layer},T.getToolBoxById=function(e){var t=null;return this._toolboxes.forEach(function(n){if(n.getId()===e)return t=n,!1}),t},T.getToolBoxes=function(){return this._toolboxes},T.getEditableLayers=function(){return this._editableLayers},T._cancelOrSave=function(){return resolve()},T.stop=function(){var e=this;return new Promise(function(t,n){var i=[];e._toolboxes.forEach(function(t){t.getSession().getHistory().state.commit&&i.push(e.commit(t,!0))}),$.when.apply(e,i).always(function(){e._toolboxes.forEach(function(e){e.stop()}),e.clearState(),e.activeQueryInfo(),e._mapService.refreshMap(),t()})})},T.clear=function(){g.removeLayersStore(this._layersstore),h.clear()},T.clearState=function(){this.state.toolboxselected=null,this.state.toolboxidactivetool=null,this.state.message=null},T.getRelationsInEditing=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layerId,i=t.relations,r=t.feature,o=[],a=void 0;return i.forEach(function(t){var i=e._getRelationLayerId({layerId:n,relation:t});e.getLayerById(i)&&(a={relation:t.getState(),relations:e.getRelationsAttributesByFeature({layerId:i,relation:t,feature:r})},a.validate={valid:!0},o.push(a))}),o},T._filterRelationsInEditing=function(e){var t=this,n=e.layerId,i=e.relations,r=void 0===i?[]:i;return r.filter(function(e){var i=t._getRelationId({layerId:n,relation:e});return t.getLayerById(i)})},T.stopSessionChildren=function(e){var t=this,n=this.getLayerById(e),i=this._filterRelationsInEditing({relations:n.getRelations()?n.getRelations().getArray():[],layerId:e});i.forEach(function(n){var i=t._getRelationId({layerId:e,relation:n});!t.getToolBoxById(i).inEditing()&&t._sessions[i].stop()})},T.fatherInEditing=function(e){var t=this,n=!1,i=void 0,r=this.getLayerById(e).getFathers();return r.forEach(function(e){if(i=t.getToolBoxById(e),i&&i.inEditing())return n=!0,!1}),n},T._getRelationFieldsFromRelation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=n.getChild?n.getChild():n.child,r=i!==t,o=n.getFatherField?n.getFatherField():n.fatherField,a=n.getChildField?n.getChildField():n.childField,s=r?o:a,l=r?a:o;return{ownField:s,relationField:l}},T.createEditingDataOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0;if("all"===e)return{editing:!0};var i=t.feature,r=t.relation,o=t.layerId;return"bbox"===e?n={bbox:this._mapService.getMapBBOX()}:"fid"!==e||i.isNew()||"not"!==t.operator&&(n={fid:{fid:i.getId(),layer:{id:o},type:"editing",relation:r.state}}),{editing:!0,filter:n}},T._getFeaturesByLayerId=function(e){return this.getLayerById(e).readEditingFeatures()},T.getLayersDependencyFeaturesFromSource=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layerId,i=t.relation,r=t.feature,o=t.operator,a=void 0===o?"eq":o;return new Promise(function(t){var o=e._getFeaturesByLayerId(n),s=e._getRelationFieldsFromRelation({layerId:n,relation:i}),l=s.ownField,c=s.relationField,u=r.get(c),d="eq"===a&&o.find(function(e){var t=e.get(l);return t==u});t(d)})},T._getRelationId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerId,n=e.relation,i=n.getFather?n.getFather():n.father,r=n.getChild?n.getChild():n.child;return i===t?r:i},T.getLayersDependencyFeatures=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],r=this.getLayerById(e),o=n.relations?n.relations:r.getChildren().length&&r.getRelations()?this._filterRelationsInEditing({relations:r.getRelations().getArray(),layerId:e}):[],a=I.online;return o.forEach(function(r){var o=t._getRelationId({layerId:e,relation:r}),s=new Promise(function(i){var s=n.filterType||"fid";n.relation=r,n.layerId=e;var l=t.createEditingDataOptions(s,n),c=t._sessions[o],u=t.getToolBoxById(o);a&&c?(u.startLoading(),c.isStarted()?t.getLayersDependencyFeaturesFromSource({layerId:o,relation:r,feature:n.feature,operator:n.operator}).then(function(e){e?(i(o),u.stopLoading()):c.getFeatures(l).always(function(e){e.always(function(){u.stopLoading(),i(o)})})}):c.start(l).always(function(e){e.always(function(){u.stopLoading(),i(o)})})):t.getLayersDependencyFeaturesFromSource({layerId:o,relation:r,feature:n.feature,operator:n.operator}).then(function(){i(o)})});i.push(s)}),Promise.all(i)},T.commitDirtyToolBoxes=function(e){var t=this;return new Promise(function(n){var i=t.getToolBoxById(e),r=t.getLayerById(e).getChildren();i.isDirty()&&i.hasDependencies()?t.commit(i).fail(function(){i.revert().then(function(){i.getDependencies().forEach(function(e){r.indexOf(e)!==-1&&t.getToolBoxById(e).revert()})})}).always(function(){n(i)}):n(i)})},T._createCommitMessage=function(e){function t(e,t,n){var i={};i[""+x("editing.messages.commit.add")]=e.length,i[""+x("editing.messages.commit.update")]="["+t.map(function(e){return e.id}).join(",")+"]",i[""+x("editing.messages.commit.delete")]="["+n.join(",")+"]";var r="<h4>"+x("editing.messages.commit.header")+"</h4>";return r+="<h5>"+x("editing.messages.commit.header_add")+"</h5>",r+="<h5>"+x("editing.messages.commit.header_update_delete")+"</h5>",r+="<ul style='border-bottom-color: #f4f4f4;'>",Object.entries(i).forEach(function(e){var t=s(e,2),n=t[0],i=t[1];r+="<li>"+n+" : "+i+" </li>"}),r+="</ul>"}var n="";return n+=t(e.add,e.update,e["delete"]),_.isEmpty(e.relations)||(n+="<div style='height:1px; background:#f4f4f4;border-bottom:1px solid #f4f4f4;'></div>",n+="<div style='margin-left: 40%'><h4>"+x("editing.relations")+"</h4></div>",Object.entries(e.relations).forEach(function(e){var i=s(e,2),r=i[0],o=i[1];n+="<div><span style='font-weight: bold'>"+r+"</span></div>",n+=t(o.add,o.update,o["delete"])})),n},T.showCommitModalWindow=function(e){var t=this,n=e.layer,i=e.commitItems,r=e.close;return new Promise(function(e,o){var a=new C({type:"commit"});a.start({inputs:{layer:n,message:t._createCommitMessage(i),close:r}}).then(function(){var t=w.dialog.dialog({message:'<h4 class="text-center"><i style="margin-right: 5px;" class='+w.getFontClass("spinner")+"></i>"+x("editing.messages.saving")+"</h4>",closeButton:!1});e(t)}).fail(function(e){o(e)}).always(function(){a.stop()})})},T.commit=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.toolbox,i=t.commitItems,r=t.modal,a=void 0===r||r,s=t.close,l=void 0!==s&&s,c=$.Deferred();n=n||this.state.toolboxselected;var u=n.getSession(),d=n.getLayer(),f=d.getType(),p=i;i=i||u.getCommitItems();var h=a?this.showCommitModalWindow({layer:d,commitItems:i,close:l}):Promise.resolve();return h.then(function(t){I.online?u.commit({items:p||i}).then(function(i,r){if(I.online)if(r.result)t&&w.notify.success(x("editing.messages.saved")),"vector"===f&&e._mapService.refreshMap({force:!0});else{var o=new b({error:r.errors}),a=o.parse({type:"String"});w.showUserMessage({type:"alert",message:a,textMessage:!0}),c.reject()}c.resolve(n)}).fail(function(e){var t=new b({error:e}),i=t.parse();w.showUserMessage({type:"alert",message:i,textMessage:!0}),c.reject(n)}).always(function(){t&&t.modal("hide")}):e.saveOfflineItem({data:o({},u.getId(),i),id:E.CHANGES}).then(function(){w.notify.success(x("editing.messages.saved_local")),u.clearHistory()})["catch"](function(e){w.notify.error(e),c.reject()})["finally"](function(){t&&t.modal("hide")})})["catch"](function(){c.reject(n)}),c.promise()},a.EDITING_FIELDS_TYPE=["unique"],t.exports=new a},{"../api":7,"../toolboxes/toolboxesfactory":23,"../workflows/commitfeaturesworkflow":39}],17:[function(e,t,n){function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(l){return void n(l)}return a.done?void e(s):Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=g3wsdk.gui.GUI,a=g3wsdk.core.i18n.tPlugin,s=g3wsdk.core.layer.Layer,l={"default":["editattributes","deletefeature"],table:[],Point:["movefeature"],LineString:["movevertex"],Polygon:["movefeature","movevertex"]},c=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._mainLayerId=e,this.relation=n.relation,this.relations=n.relations,this._editingService,this._isExternalFieldRequired=!1,this._layerId=this.relation.child===this._mainLayerId?this.relation.father:this.relation.child;var i=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._layerId,relation:this.relation}),r=i.relationField;this._isFatherFieldEditable=this.getLayer().isEditingFieldEditable(r),this._layerType=this.getLayer().getType(),this._relationTools=[],this._parentWorkFlow=this.getCurrentWorkflow(),this._add_link_workflow=null,this._isExternalFieldRequired=this._checkIfExternalFieldRequired(),this._currentFeatureRelationFieldValue=this._isFatherFieldEditable?this.getCurrentWorkflowData().feature.get(r):this.getCurrentWorkflowData().feature.getId();var o=this._layerType===s.LayerTypes.VECTOR?this.getLayer().getGeometryType():s.LayerTypes.TABLE,a=void 0;o===s.LayerTypes.TABLE?(this._relationTools.push({state:{icon:"deleteTableRow.png",id:"deletefeature",name:"editing.tools.delete_feature"}}),this._relationTools.push({state:{icon:"editAttributes.png",id:"editattributes",name:"editing.tools.update_feature"}})):(a=this.getEditingService().getToolBoxById(this._layerId).getTools(),a.forEach(function(e){_.concat(l[o],l["default"]).indexOf(e.getId())!==-1&&t._relationTools.push(_.cloneDeep(e))})),this._setAddLinkWorkflow()},u=c.prototype;u._setAddLinkWorkflow=function(){var t,n=(t={},r(t,s.LayerTypes.VECTOR,{link:e("../workflows/linkrelationworkflow"),add:e("../workflows/addfeatureworkflow")}),r(t,s.LayerTypes.TABLE,{link:e("../workflows/edittableworkflow"),add:e("../workflows/addtablefeatureworkflow")}),t);this._add_link_workflow=n[this._layerType]},u._getLinkFeatureWorkflow=function(){return new this._add_link_workflow.link},u._getAddFeatureWorkflow=function(){return new this._add_link_workflow.add},u.getRelationTools=function(){return this._relationTools},u._highlightRelationSelect=function(e){var t=this.getLayer().getGeometryType(),n=void 0;"LineString"===t||"MultiLineString"===t?n=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgb(255,255,0)",width:4})}):"Point"===t||"MultiPoint"===t?n=new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:"rgb(255,255,0)"})})}):"MultiPolygon"!==t&&"Polygon"!==t||(n=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgb(255,255,0)",width:4}),fill:new ol.style.Fill({color:"rgba(255, 255, 0, 0.5)"})})),e.setStyle(n)},u.startTool=function(e,t){var n=this;return new Promise(function(i,r){var o=n._layerType===s.LayerTypes.VECTOR&&n.startVectorTool(e,t)||"table"===n._layerType&&n.startTableTool(e,t);o.then(function(){n.emitEventToParentWorkFlow(),i()}).fail(function(e){r(e)})})},u.startTableTool=function(t,n){var i=this,r=$.Deferred(),s=this.relations[n],l=this.getLayer().getEditingSource(),c=l.getFeatureById(s.id),u=this._createWorkflowOptions({features:[c]});if("deletefeature"===t.state.id&&o.dialog.confirm(a("editing.messages.delete_feature"),function(e){e?(i.getCurrentWorkflowData().session.pushDelete(i._layerId,c),i.relations.splice(n,1),l.removeFeature(c),r.resolve(e)):r.reject(e)}),"editattributes"===t.state.id){var d=e("../workflows/edittablefeatureworkflow"),f=new d;f.start(u).then(function(){var e=i._getRelationFieldsValue(c);e.forEach(function(e){s.fields.forEach(function(t){t.name===e.name&&(t.value=e.value)})}),r.resolve(!0)}).fail(function(e){r.reject(!1)}).always(function(){f.stop()})}return r.promise()},u.startVectorTool=function(t,n){var i=this,r=$.Deferred(),a=this.relations[n],s=this._getRelationFeature(a.id),l={ModifyGeometryVertexWorkflow:e("../workflows/modifygeometryvertexworkflow"),MoveFeatureWorkflow:e("../workflows/movefeatureworkflow"),DeleteFeatureWorkflow:e("../workflows/deletefeatureworkflow"),EditFeatureAttributesWorkflow:e("../workflows/editfeatureattributesworkflow")};o.setModal(!1);var c=this._createWorkflowOptions({features:[s]}),u=Object.values(l).find(function(e){
return t.getOperator()instanceof e}),d=new u;this._highlightRelationSelect(s);var f=(d instanceof l.DeleteFeatureWorkflow||d instanceof l.EditFeatureAttributesWorkflow)&&d.startFromLastStep(c)||d.start(c),p=d.bindEscKeyUp(function(){s.setStyle(i._originalLayerStyle)});return f.then(function(e){if("deletefeature"===t.getId()&&(s.setStyle(i._originalLayerStyle),i.getEditingLayer().getSource().removeFeature(s),i.getCurrentWorkflowData().session.pushDelete(i._layerId,s),i.relations.splice(n,1)),"editattributes"===t.getId()){var o=i._getRelationFieldsValue(s);o.forEach(function(e){a.fields.forEach(function(t){t.name===e.name&&(t.value=e.value)})})}r.resolve(e)}).fail(function(e){r.reject(e)}).always(function(){d.stop(),o.hideContent(!1,p),d.unbindEscKeyUp(),o.setModal(!0)}),r.promise()},u.getLayer=function(){return this.getEditingService().getLayerById(this._layerId)},u.getEditingLayer=function(){return this.getEditingService().getEditingLayer(this._layerId)},u.getEditingService=function(){return this._editingService=this._editingService||e("./editingservice"),this._editingService},u.updateExternalKeyValueRelations=function(e){var t=this,n=this.getEditingService().getToolBoxById(this._layerId).getSession(),i=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._layerId,relation:this.relation}),r=i.ownField,o=i.relationField;e.name===o&&(this._currentFeatureRelationFieldValue=e.value,this.relations.forEach(function(i){var o=i.fields;o.forEach(function(e){e.name===r&&(e.value=t._currentFeatureRelationFieldValue)}),i=t._getRelationFeature(i.id);var a=i.clone();i.set(r,e.value),i.isNew()||n.pushUpdate(t._layerId,i,a)}))},u._getRelationFieldsValue=function(e){var t=this.getLayer();return t.getFieldsWithValues(e,{relation:!0})},u._createRelationObj=function(e){return{fields:this._getRelationFieldsValue(e),id:e.getId()}},u.emitEventToParentWorkFlow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"set-main-component",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._parentWorkFlow.getContextService().getEventBus().$emit(e,t)},u._getRelationAsFatherStyleColor=function(e){var t=this.getEditingLayer(this._mainLayerId),n=t.getStyle(),i=void 0;switch(e){case"Point":i=n.getImage()&&n.getImage().getFill();break;case"Line":i=n.getStroke()||n.getFill();break;case"Polygon":i=n.getFill()||n.getStroke()}return i&&i.getColor()||"#000000"},u.addRelation=function(){var e=this,t=this._layerType===s.LayerTypes.VECTOR;t&&o.setModal(!1);var n=this._getAddFeatureWorkflow(),i=this._createWorkflowOptions(),r=i.context.session,a=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._layerId,relation:this.relation}),l=a.ownField,c=a.relationField,u=i.parentFeature,d=n.start(i),f=t&&n.bindEscKeyUp();d.then(function(t){var n=t.relationFeature,i=n.newFeature,o=n.originalFeature,a=function(t){i.set(l,t),u.isNew()&&o.set(l,t),e.getLayer().getEditingSource().updateFeature(i),r.pushUpdate(e._layerId,i,o)};if(a(e._currentFeatureRelationFieldValue),u.isNew()&&e._isFatherFieldEditable)var s=u.on("propertychange",function(e){if(u.isNew()){if(e.key===c){var t=e.target.get(c);a(t,!0)}}else ol.Observable.unByKey(s)});var d=e._createRelationObj(i);e.relations.push(d),e.emitEventToParentWorkFlow()}).fail(function(t){r.rollbackDependecies([e._layerId])}).always(function(){t&&(o.hideContent(!1,f),n.unbindEscKeyUp(),o.setModal(!0)),n.stop()})},u.linkRelation=function(){var e=this,t=this._layerType===s.LayerTypes.VECTOR,n=this._getLinkFeatureWorkflow(),r=this._createWorkflowOptions(),l=r.context.session,c=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._layerId,relation:this.relation}),u=c.ownField;r.context.exclude={value:this._currentFeatureRelationFieldValue,field:u},t&&(r.context.style=this.getUnlinkedStyle());var d=this.getCurrentWorkflowData().feature,f={relations:[this.relation],feature:d,operator:"not",filterType:t?"bbox":"fid"},p=function(){return e.getEditingService().getLayersDependencyFeatures(e._mainLayerId,f)},h=void 0;if(t){var v=this.getEditingService().getMapService();r.context.beforeRun=i(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.showMapSpinner(),e.next=3,new Promise(function(e){setTimeout(function(){e()})});case 3:return e.next=5,p();case 5:v.hideMapSpinner(),o.showUserMessage({type:"info",size:"small",message:a("editing.messages.press_esc"),closable:!1});case 7:case"end":return e.stop()}},g,e)})),h=new Promise(function(e){var t=n.bindEscKeyUp(),i=n.start(r);e({promise:i,percContent:t})})}else h=new Promise(function(e){o.setLoadingContent(!0),p().then(function(){e({})})["finally"](function(){o.setLoadingContent(!1)})});h.then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.promise,s=t.percContent;i=i||n.start(r),i.then(function(t){t.features.length&&t.features.forEach(function(t){var n=e.relations.find(function(e){return e.id===t.getId()});if(n)o.notify.warning(a("editing.relation_already_added"));else{var i=t.clone();t.set(u,e._currentFeatureRelationFieldValue),e.getCurrentWorkflowData().session.pushUpdate(e._layerId,t,i),e.relations.push(e._createRelationObj(t)),e.emitEventToParentWorkFlow()}})}).fail(function(){l.rollbackDependecies([e._layerId])}).always(function(){s&&(o.closeUserMessage(),o.hideContent(!1,s),n.unbindEscKeyUp()),n.stop()})})},u._checkIfExternalFieldRequired=function(){var e=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._layerId,relation:this.relation}),t=e.ownField;return this.getEditingService().isFieldRequired(this._layerId,t)},u.isRequired=function(){return this._isExternalFieldRequired},u._getRelationFeature=function(e){var t=this.getLayer();return t.getEditingSource().getFeatureById(e)},u.unlinkRelation=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=$.Deferred(),r=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._layerId,relation:this.relation}),s=r.ownField,l=function(){var n=t.relations[e],r=t.getLayer().getEditingSource().getFeatureById(n.id),o=r.clone();r.set(s,null),t.getCurrentWorkflowData().session.pushUpdate(t._layerId,r,o),t.relations.splice(e,1),i.resolve(!0)};return n?o.dialog.confirm(a("editing.messages.unlink_relation"),function(e){e?l():i.reject(!1)}):l(),i.promise()},u.getCurrentWorkflow=function(){return this.getEditingService().getCurrentWorkflow()},u.getCurrentWorkflowData=function(){return this.getEditingService().getCurrentWorkflowData()},u._createWorkflowOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getEditingService()._getRelationFieldsFromRelation({layerId:this._layerId,relation:this.relation}),n=t.ownField,i={parentFeature:this.getCurrentWorkflowData().feature,context:{session:this.getCurrentWorkflowData().session,excludeFields:[n],fatherValue:this._currentFeatureRelationFieldValue},inputs:{features:e.features||[],layer:this.getLayer()}};return i},u.getUnlinkedStyle=function(){var e=void 0,t=this.getLayer().getGeometryType();switch(t){case"Point":e=new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:this._getRelationAsFatherStyleColor("Point")}),stroke:new ol.style.Stroke({width:5,color:"yellow"})})});break;case"Line":e=new ol.style.Style({fill:new ol.style.Fill({color:this._getRelationAsFatherStyleColor("Line")}),stroke:new ol.style.Stroke({width:5,color:"yellow"})});break;case"Polygon":e=new ol.style.Style({stroke:new ol.style.Stroke({color:"yellow",width:5}),fill:new ol.style.Fill({color:this._getRelationAsFatherStyleColor("Polygon"),opacity:.5})})}return e},u.relationFields=function(e){var t=[];return e.fields.forEach(function(e){var n=e.value;t.push({label:e.label,value:n})}),t},t.exports=c},{"../workflows/addfeatureworkflow":36,"../workflows/addtablefeatureworkflow":38,"../workflows/deletefeatureworkflow":41,"../workflows/editfeatureattributesworkflow":43,"../workflows/edittablefeatureworkflow":45,"../workflows/edittableworkflow":46,"../workflows/linkrelationworkflow":47,"../workflows/modifygeometryvertexworkflow":49,"../workflows/movefeatureworkflow":50,"./editingservice":16}],18:[function(e,t,n){var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=g3wsdk.gui.GUI,o=g3wsdk.core.i18n.tPlugin,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._features=e.features||[],this._promise=e.promise,this._context=e.context,this._inputs=e.inputs,this._fatherValue=e.fatherValue,this._foreignKey=e.foreignKey,this._workflow=null,this._deleteFeaturesIndexes=[],this._isrelation=e.isrelation||!1,this.state={headers:e.headers||[],features:[],title:e.title||"Link relation",isrelation:e.push},this.init=function(){var e=this;if(this._features=this._isrelation?this._features.filter(function(t){return t.get(e._foreignKey)!==e._fatherValue}):this._features,this._features.length){var t=this._features[0],n=Object.keys(t.getProperties());this.state.headers=this.state.headers.filter(function(e){return n.indexOf(e.name)!==-1});var i=this.state.headers.map(function(e){return e.name});this.state.features=this._features.map(function(e){var t=e.getProperties(),n={};return i.forEach(function(e){n[e]=t[e]}),n.__gis3w_feature_uid=e.getUid(),n})}},this.init()},s=a.prototype;s.isMediaField=function(e){for(var t=!1,n=0;n<this.state.headers.length;n++){var i=this.state.headers[n];if(i.name===e&&"media"===i.input.type){t=!0;break}}return t},s.save=function(){this._promise.resolve()},s.cancel=function(){this._promise.reject()},s.deleteFeature=function(t){var n=this,i=e("../services/editingservice"),a=this._inputs.layer,s=a.getId(),l=a.getChildren(),c=l.length&&i._filterRelationsInEditing({layerId:s,relations:a.getRelations().getArray()}).length>0;return new Promise(function(e,i){r.dialog.confirm("<h4>"+o("editing.messages.delete_feature")+'</h4>\n                        <div style="font-size:1.2em;">'+(c?o("editing.messages.delete_feature_relations"):"")+"</div>",function(r){if(r){var o=n._features[t],a=n._context.session,s=n._inputs.layer.getId();n._inputs.layer.getEditingSource().removeFeature(o),a.pushDelete(s,o),n.state.features.splice(t,1),e()}else i()})})},s.copyFeature=function(t){var n=this;return new Promise(function(r,o){var a=n._features[t].cloneNew(),s=e("../workflows/addtablefeatureworkflow");n._workflow=new s;var l=n._inputs;l.features.push(a);var c={context:n._context,inputs:l};n._workflow.start(c).then(function(e){var t=e.features[e.features.length-1],o={};Object.entries(n.state.features[0]).forEach(function(e){var n=i(e,2),r=n[0];n[1];o[r]=t.get(r)}),o.__gis3w_feature_uid=t.getUid(),n.state.features.push(o),r(o)}).fail(function(e){o()})})},s.editFeature=function(t){var n=this,r=this._features[t],o=e("../workflows/edittablefeatureworkflow");this._workflow=new o;var a=this._inputs;a.features.push(r);var s={context:this._context,inputs:a};this._workflow.start(s).then(function(e){var r=e.features[e.features.length-1];Object.entries(n.state.features[t]).forEach(function(e){var o=i(e,2),a=o[0];o[1];n.state.features[t][a]=r.get(a)})}).fail(function(e){})},s.linkFeatures=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.map(function(t){return e._features[t]});this._promise.resolve({features:n})},s.linkFeature=function(e){var t=this._features[e];this._promise.resolve({features:[t]})},t.exports=a},{"../services/editingservice":16,"../workflows/addtablefeatureworkflow":38,"../workflows/edittablefeatureworkflow":45}],19:[function(e,t,n){t.exports='<div id="editing_table" class="g3w-editing-table">\n  <div class="editing_table_header">\n    <h3 class="editing_table_title">{{ state.title }}</h3>\n    <div class="editing_table_relation_messagge"  v-if="state.isrelation" style="font-weight: bold" v-t-plugin="\'editing.relation.table.info\'">\n    </div>\n  </div>\n  <table v-if="show" class="display" style="width:100%">\n    <thead>\n    <tr>\n      <th v-if="!state.isrelation"></th>\n      <th v-if="state.isrelation"></th>\n      <th v-for="header in state.headers">{{ header.label }}</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-for="(feature, index) in state.features" :key="feature.__gis3w_feature_uid" :id="feature.__gis3w_feature_uid">\n      <td v-if="!state.isrelation">\n        <div id="table-editing-tools" style="display:flex; justify-content: space-between;">\n          <i :class="g3wtemplate.font[\'pencil\']" class="g3w-icon skin-tooltip-right"  data-placement="right"  style="color:#30cce7;" v-t-title:plugin="\'editing.table.edit\'" aria-hidden="true" @click="editFeature(index)"></i>\n          <i :class="g3wtemplate.font[\'copy-paste\']" class="g3w-icon skin-tooltip-right"  data-placement="right"  style="color:#d98b14; padding: 5px 7px 5px 7px;" v-t-title:plugin="\'editing.table.copy\'" aria-hidden="true" @click="copyFeature(index)"></i>\n          <i :class="g3wtemplate.font[\'trash-o\']" class="g3w-icon skin-tooltip-right"  data-placement="right"  style="color:red;" v-t-title:plugin="\'editing.table.delete\'" aria-hidden="true" @click="deleteFeature(index)"></i>\n        </div>\n      </td>\n      <td v-if="state.isrelation">\n        <input :id="`relation__${index}`" @change="linkFeature(index, $event)" class="magic-checkbox" type="checkbox">\n        <label :for="`relation__${index}`"></label>\n      </td>\n      <td v-if ="showValue(key)" v-for="(value, key) in feature" :key="key">\n        <g3w-media v-if=" getValue(value) && isMediaField(key)" :state="value"></g3w-media>\n        <p v-else>{{ getValue(value) }}</p>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n  <div id="buttons"  class="table_editing_footer_buttons" style="position: absolute; bottom: 10px; width: 100%; display:flex; justify-content: center;">\n    <button v-t-plugin="state.isrelation ? \'editing.form.buttons.save_and_back\' : \'editing.form.buttons.save\'" class="btn btn-success" style="margin-right: 10px" @click="save"></button>\n    <button v-t-plugin="\'editing.form.buttons.cancel\'" class="btn btn-danger" @click="cancel"></button>\n  </div>\n</div>\n'},{}],20:[function(e,t,n){function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(l){return void n(l)}return a.done?void e(s):Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=g3wsdk.core.utils.inherit,s=g3wsdk.core.utils.base,l=g3wsdk.gui.vue.Component,c=g3wsdk.gui.vue.Mixins.resizeMixin,u=g3wsdk.gui.vue.Fields.media_field,d=e("../tableservice"),f=Vue.compile(e("./table.html")),p=Vue.extend(o({},f,{mixins:[c],components:{"g3w-media":u},data:function(){return this.dataTable=null,{state:null,show:!0}},methods:{resize:function(){var e=$(".content").height(),t=$("#editing_table  div.dataTables_scrollHeadInner").height(),n=$(".navbar-header").height()+$(".editing_table_title").height()+$(".dataTables_length").height()+$(".dataTables_filter").height()+$(".dataTables_scrollHeadInner").height()+$(".table_editing_footer_buttons").height();$("#editing_table  div.dataTables_scrollBody").height(e-t-n-20)},showValue:function(e){return!!this.state.headers.find(function(t){return t.name===e})},isMediaField:function(e){return this.$options.service.isMediaField(e)},stop:function(){this.$options.service.cancel()},save:function(){this.state.isrelation?this.$options.service.linkFeatures(this._linkFeatures):this.$options.service.save()},cancel:function(){this.$options.service.cancel()},deleteFeature:function(e){var t=this,n=this.state.features[e].__gis3w_feature_uid,i=$("#editing_table table tr#"+n);this.$options.service.deleteFeature(e).then(function(){t.dataTable.row(i).remove().draw()})["catch"](function(){})},copyFeature:function(e){var t=this;this.$options.service.copyFeature(e).then(function(){var e=i(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.show=!1,t.dataTable.destroy(),e.next=4,t.$nextTick();case 4:return t.show=!0,e.next=7,t.$nextTick();case 7:t.setDataTable();case 8:case"end":return e.stop()}},n,t)}));return function(t){return e.apply(this,arguments)}}())},editFeature:function(e){this.$options.service.editFeature(e)},linkFeature:function(e,t){t.target.checked?this._linkFeatures.push(e):this._linkFeatures=this._linkFeatures.filter(function(t){return t!==e})},_setLayout:function(){return this.$options.service._setLayout()},getValue:function(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))&&e.constructor===Object?e=e.value:"string"==typeof e&&0===e.indexOf("_new_")&&(e=null),e},setDataTable:function(){this.dataTable=$("#editing_table table").DataTable({pageLength:10,scrollX:!0,scrollCollapse:!0,scrollResize:!0,order:[1,"asc"],columnDefs:[{orderable:!1,targets:0}]}),this.resize()}},watch:{"state.features":function(e){}},beforeCreate:function(){this.delayType="debounce"},mounted:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.isrelation&&(this._linkFeatures=[]),e.next=3,this.$nextTick();case 3:this.setDataTable(),$("#table-editing-tools i").tooltip();case 5:case"end":return e.stop()}},n,this)}));return e}(),beforeDestroy:function(){this._linkFeatures&&(this._linkFeatures=null),this.dataTable.destroy()}})),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this);var t=e.service||new d(o({},e));this.setService(t);var n=new p({service:t});this.setInternalComponent(n),n.state=t.state,this.unmount=function(){return t.cancel(),s(this,"unmount")}};a(h,l),t.exports=h},{"../tableservice":18,"./table.html":19}],21:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this),this._options=null,this._session=e.session,this._layer=e.layer,this._op=new e.op({layer:e.layer}),this._once=e.once||!1,this.state={id:e.id,name:e.name,enabled:!1,active:!1,icon:e.icon,message:null,messages:this._op.getMessages()}}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.gui.GUI,s=g3wsdk.core.G3WObject;r(i,s);var l=i.prototype;l.getFeature=function(){return this._options.inputs.features[0]},l.start=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={inputs:{layer:this._layer,features:[]},context:{session:this._session}};this._options=n;var i=function r(n){e._op.once("settoolsoftool",function(t){e.emit("settoolsoftool",t)}),e._op.once("active",function(t){e.emit("active",t)}),e._op.once("deactive",function(t){e.emit("deactive",t)}),n.inputs.features=[],t&&a.hideSidebar(),e._op.start(n).then(function(){e._session.save().then(function(){})}).fail(function(){t&&a.showSidebar(),e._session.rollback().then(function(){})}).always(function(){e._once||"table"===e._layer.getType()?e.stop():r(n)})};this._op&&(this.state.active=!0,i(n))},l.stop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=$.Deferred();return this._op?this._op.stop(t).then(function(){}).fail(function(){e._session.rollback()}).always(function(){e._options=null,e.state.active=!1,e.emit("stop",{session:e._session}),n.resolve()}):(this.emit("stop",{session:this._session}),n.resolve()),n.promise()},l.getState=function(){return this.state},l.setState=function(e){this.state=e},l.getId=function(){return this.state.id},l.setId=function(e){this.state.id=e},l.getName=function(){return this.state.name},l.setActive=function(e){this.state.active="boolean"==typeof e&&e},l.isActive=function(){return this.state.active},l.getIcon=function(){return this.state.icon},l.setIcon=function(e){this.state.icon=e},l.setEnabled=function(e){this.state.enabled="boolean"==typeof e&&e},l.isEnabled=function(){return this.state.enabled},l.getOperator=function(){return this._op},l.getSession=function(){return this._session},l.setSession=function(e){this._session=e},l.clear=function(){this.state.enabled=!1,this.state.active=!1},l.getMessage=function(){var e=this.getOperator();return e.getRunningStep()?this.state.messages:null},l.setMessage=function(e){this.state.message=e},l.clearMessage=function(){this.state.message=null},t.exports=i},{}],22:[function(e,t,n){function i(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this),this._mapService=l.getComponent("map").getService(),this._start=!1,this._constraints=n.constraints||{},this._layer=n.layer,this._layerType=n.type||"vector",this._loadedExtent=null,this._tools=n.tools,this._getFeaturesOption={};var i=[];this._tools.forEach(function(e){i.push(e.getState())}),this._session=new d({id:n.id,editor:this._layer.getEditor()}),this._getFeaturesOption={};var o=this._session.getHistory().state,s=this._session.state;this.state={id:n.id,color:n.color||"blue",title:n.title||"Edit Layer",loading:!1,enabled:!1,message:null,toolmessages:{help:null},toolsoftool:[],tools:i,selected:!1,activetool:null,editing:{session:s,history:o,on:!1,dependencies:[],relations:[],father:!1,canEdit:!0},layerstate:this._layer.state},this._tools.forEach(function(e){e.setSession(t._session)}),this._session.onafter("stop",function(){if(t.inEditing()){var n=e("../services/editingservice");r.online&&n.stopSessionChildren(t.state.id),t._unregisterGetFeaturesEvent()}}),this._session.onafter("start",function(e){t._getFeaturesEvent={event:null,fnc:null},t._getFeaturesOption=e,t._registerGetFeaturesEvent(t._getFeaturesOption),e.type===u.LayerTypes.VECTOR&&l.getContentLength()&&l.once("closecontent",function(){setTimeout(function(){t._mapService.getMap().dispatchEvent(t._getFeaturesEvent.event)})})})}var r=g3wsdk.core.ApplicationState,o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=g3wsdk.core.G3WObject,l=g3wsdk.gui.GUI,c=g3wsdk.core.i18n.tPlugin,u=g3wsdk.core.layer.Layer,d=g3wsdk.core.editing.Session,f=g3wsdk.core.utils.debounce,p=g3wsdk.ol.utils.getScaleFromResolution;o(i,s);var h=i.prototype;h.getState=function(){return this.state},h.getLayer=function(){return this._layer},h.setFather=function(e){this.state.editing.father=e},h.isFather=function(){return this.state.editing.father},h.addRelations=function(e){var t=this;e.forEach(function(e){t.addRelation(e)})},h.revert=function(){return this._session.revert()},h.addRelation=function(e){this.state.editing.relations.push(e)},h.getDependencies=function(){return this.state.editing.dependencies},h.hasDependencies=function(){return!!this.state.editing.dependencies.length},h.addDependencies=function(e){var t=this;e.forEach(function(e){t.addDependency(e)})},h.addDependency=function(e){this.state.editing.dependencies.push(e)},h.start=function(){var t=this,n=e("../services/editingservice"),i="start-editing",o=$.Deferred(),a=this.getId(),s=this._layerType===u.LayerTypes.TABLE?"all":"bbox";this._getFeaturesOption=n.createEditingDataOptions(s,{layerId:this.getId()});var c=function(e){t.emit(i),n.runEventHandler({type:i,id:a}),e.then(function(e){t.state.loading=!1,t.setEditing(!0),n.runEventHandler({type:"get-features-editing",id:a,options:{features:e}})}).fail(function(e){l.notify.error(e.message),n.runEventHandler({type:"error-editing",id:a,error:e}),t.stop(),t.state.loading=!1,o.reject(e)})};return this._session&&(this._session.isStarted()?(this._start||(this.state.loading=!0,this._session.getFeatures(this._getFeaturesOption).then(c),this._start=!0),this.setEditing(!0)):r.ismobile&&this._mapService.isMapHidden()&&this._layerType===u.LayerTypes.VECTOR?(this.setEditing(!0),l.getComponent("map").getService().onceafter("setHidden",function(){setTimeout(function(){t._start=!0,t.state.loading=!0,t._getFeaturesOption=n.createEditingDataOptions(s,{layerId:t.getId()}),t._session.start(t._getFeaturesOption).then(c).fail(function(){return t.setEditing(!1)})},300)})):(this._start=!0,this._session.start(this._getFeaturesOption).then(c))),o.promise()},h.startLoading=function(){this.state.loading=!0},h.stopLoading=function(){this.state.loading=!1},h.getFeaturesOption=function(){return this._getFeaturesOption},h.stop=function(){var t=this,n="stop-editing",i=$.Deferred();if(this.disableCanEditEvent&&this.disableCanEditEvent(),this._session&&this._session.isStarted()){var o=e("../services/editingservice"),a=o.fatherInEditing(this.state.id);r.online&&!a?this._session.stop().then(function(){t._start=!1,t.state.editing.on=!1,t.state.enabled=!1,t.state.loading=!1,t._getFeaturesOption={},t.stopActiveTool(),t._setToolsEnabled(!1),t.clearToolboxMessages(),t.setSelected(!1),t.emit(n),i.resolve(!0)}).fail(function(e){i.reject(e)}).always(function(){t.setSelected(!1)}):(this.stopActiveTool(),this.state.editing.on=!1,this._setToolsEnabled(!1),this.clearToolboxMessages(),this._unregisterGetFeaturesEvent(),o.stopSessionChildren(this.state.id),this.setSelected(!1))}else this.setSelected(!1),i.resolve(!0);return i.promise()},h.save=function(){this._session.commit()},h._unregisterGetFeaturesEvent=function(){switch(this._layerType){case u.LayerTypes.VECTOR:this._mapService.getMap().un(this._getFeaturesEvent.event,this._getFeaturesEvent.fnc);break;default:return}},h._registerGetFeaturesEvent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(this._layerType){case u.LayerTypes.VECTOR:var n=function(){var n=e.state.editing.canEdit;if(e._layer.getEditingLayer().setVisible(n),r.online&&n&&0===l.getContentLength()){var i=e._mapService.getMapBBOX();t.filter.bbox=i,e.state.loading=!0,e._session.getFeatures(t).then(function(t){t.then(function(){e.state.loading=!1})})}};this._getFeaturesEvent.event="moveend",this._getFeaturesEvent.fnc=f(n,300);var i=this._mapService.getMap();i.on("moveend",this._getFeaturesEvent.fnc);break;default:return}},h._setToolsEnabled=function(e){this._tools.forEach(function(t){t.setEnabled(e),e||t.setActive(e)})},h.getEditingConstraints=function(){return this._constraints},h.getEditingConstraint=function(e){return this.getEditingConstraints()[e]},h.canEdit=function(){return this.state.editing.canEdit},h._canEdit=function(){var e=this;if(this._constraints.scale){var t=this._constraints.scale,n=(""+c("editing.messages.constraints.enable_editing")+t).toUpperCase();this.state.editing.canEdit=p(this._mapService.getMap().getView().getResolution())<=t,l.setModal(!this.state.editing.canEdit,n);var i=function(i){e.state.editing.canEdit=p(i.target.getResolution())<=t,l.setModal(!e.state.editing.canEdit,n)};this._mapService.getMap().getView().on("change:resolution",i),this.disableCanEditEvent=function(){l.setModal(!1),e._mapService.getMap().getView().un("change:resolution",i)}}},h._disableCanEdit=function(){this.state.editing.canEdit=!0,this.disableCanEditEvent&&this.disableCanEditEvent()},h.setMessage=function(e){this.state.message=e},h.getMessage=function(){return this.state.message},h.clearMessage=function(){this.setMessage(null)},h.clearToolboxMessages=function(){this.clearToolMessage(),this.clearMessage()},h.getId=function(){return this.state.id},h.setId=function(e){this.state.id=e},h.getTitle=function(){return this.state.title},h.getColor=function(){return this.state.color},h.getLayer=function(){return this._layer},h.setEditing=function(e){this.setEnable(e),this.state.editing.on=e,this.enableTools(e)},h.inEditing=function(){return this.state.editing.on},h.isEnabled=function(){return this.state.enabled},h.setEnable=function(e){return this.state.enabled=!!_.isBoolean(e)&&e,this.state.enabled},h.isLoading=function(){return this.state.loading},h.isDirty=function(){return this.state.editing.history.commit},h.isSelected=function(){return this.state.selected},h.setSelected=function(e){this.state.selected=!!_.isBoolean(e)&&e,this.state.selected?this._canEdit():this._disableCanEdit()},h.getTools=function(){return this._tools},h.getToolById=function(e){return this._tools.find(function(t){return e===t.getId()})},h.enableTools=function(e){this._tools.forEach(function(t){t.setEnabled(e)})},h.setActiveTool=function(e){var t=this;this.stopActiveTool(e).then(function(){t.clearToolsOfTool(),t.state.activetool=e,e.once("settoolsoftool",function(e){e.forEach(function(e){t.state.toolsoftool.push(e)})});var n=function(e,n){t.state.toolsoftool.forEach(function(t){e.indexOf(t.type)!==-1&&(t.options.active=n)})};e.on("active",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(e,!0)}),e.on("deactive",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(e,!1)});var i=t._mapService.isMapHidden();e.start(i);var r=t.getToolMessage();t.setToolMessage(r)})},h.clearToolsOfTool=function(){this.state.toolsoftool.splice(0)},h.getActiveTool=function(){return this.state.activetool},h.restartActiveTool=function(){var e=this.getActiveTool();this.stopActiveTool(),this.setActiveTool(e)},h.stopActiveTool=function(e){var t=this,n=$.Deferred(),i=this.getActiveTool();return i&&i!==e?(i.removeAllListeners(),i.stop(!0).then(function(){t.clearToolsOfTool(),t.clearToolMessage(),t.state.activetool=null,requestAnimationFrame(function(){n.resolve()})})):(e?e.removeAllListeners():null,n.resolve()),n.promise()},h.clearToolMessage=function(){this.state.toolmessages.help=null},h.getToolMessage=function(){var e=this.getActiveTool();return e.getMessage()},h.setToolMessage=function(e){this.state.toolmessages.help=e.help},h.getSession=function(){return this._session},h.getEditor=function(){return this._editor},h.setEditor=function(e){this._editor=e},h.hasChildren=function(){return this._layer.hasChildren()},h.hasFathers=function(){return this._layer.hasFathers()},h.hasRelations=function(){return this._layer.hasRelations()},t.exports=i},{"../services/editingservice":16}],23:[function(e,t,n){function i(){this.build=function(e){var t=e.getEditingConstrains(),n=e.getType(),i=void 0;switch(n){case r.LayerTypes.VECTOR:var s=e.getGeometryType();i=o.build({layer:e,geometryType:s,type:n});break;case r.LayerTypes.TABLE:i=o.build({layer:e,type:n});break;default:i=[]}return new a({id:e.getId(),color:e.getColor(),type:n,layer:e,tools:i,lngTitle:"editing.toolbox.title",title:" "+e.getName(),constraints:t})}}var r=g3wsdk.core.layer.Layer,o=e("./toolsfactory"),a=e("./toolbox");t.exports=new i},{"./toolbox":22,"./toolsfactory":24}],24:[function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){this.buildTool=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},this.build=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type||o.LayerTypes.VECTOR,n=e.layer,r=void 0;switch(t){case o.LayerTypes.VECTOR:var w=e.geometryType,b=a.isMultiGeometry(w);switch(w){case a.GeometryTypes.POINT:case a.GeometryTypes.MULTIPOINT:r=[new s({id:"addfeature",name:"editing.tools.add_feature",icon:"addPoint.png",layer:n,op:l}),new s({id:"editattributes",name:"editing.tools.update_feature",icon:"editAttributes.png",layer:n,op:f}),new s({id:"movefeature",name:"editing.tools.move_feature",icon:"movePoint.png",layer:n,op:u}),new s({id:"deletefeature",name:"editing.tools.delete_feature",icon:"deletePoint.png",layer:n,op:d})].concat(i(b?[new s({id:"addPartToPoint",name:"editing.tools.addpart",icon:"addPart.png",layer:n,once:!0,
op:m})]:[]),i(b?[new s({id:"deletePart",name:"editing.tools.deletepart",icon:"deletePart.png",layer:n,op:_})]:[]),[new s({id:"copyfeaturespoint",name:"editing.tools.copy",icon:"copyPoint.png",layer:n,once:!0,op:v})]);break;case a.GeometryTypes.LINESTRING:case a.GeometryTypes.MULTILINESTRING:case a.GeometryTypes.LINE:case a.GeometryTypes.MULTILINE:r=[new s({id:"addfeature",name:"editing.tools.add_feature",icon:"addLine.png",layer:n,op:l}),new s({id:"editattributes",name:"editing.tools.update_feature",icon:"editAttributes.png",layer:n,op:f}),new s({id:"movevertex",name:"editing.tools.update_vertex",icon:"moveVertex.png",layer:n,op:c})].concat(i(b?[new s({id:"addPartToPoint",name:"editing.tools.addpart",icon:"addPart.png",layer:n,once:!0,op:m})]:[]),[new s({id:"deletefeature",name:"editing.tools.delete_feature",icon:"deleteLine.png",layer:n,op:d})],i(b?[new s({id:"deletePart",name:"editing.tools.deletpart",icon:"deletePart.png",layer:n,op:_})]:[]),[new s({id:"copyfeaturespoly",name:"editing.tools.copy",icon:"copyLine.png",layer:n,once:!0,op:v}),new s({id:"mergefeaturespoly",name:"editing.tools.merge",icon:"mergeFeatures.png",layer:n,once:!0,op:y}),new s({id:"splitfeatureline",name:"editing.tools.split",icon:"splitFeatures.png",layer:n,once:!0,op:g})]);break;case a.GeometryTypes.POLYGON:case a.GeometryTypes.MULTIPOLYGON:r=[new s({id:"addfeature",name:"editing.tools.add_feature",icon:"addPolygon.png",layer:n,op:l}),new s({id:"editattributes",name:"editing.tools.update_feature",icon:"editAttributes.png",layer:n,op:f}),new s({id:"movevertex",name:"editing.tools.update_vertex",icon:"moveVertex.png",layer:n,op:c}),new s({id:"movefeature",name:"editing.tools.move_feature",icon:"movePolygon.png",layer:n,op:u}),new s({id:"deletefeature",name:"editing.tools.delete_feature",icon:"deletePolygon.png",layer:n,op:d})].concat(i(b?[new s({id:"addPartToPoint",name:"editing.tools.addpart",icon:"addPart.png",layer:n,once:!0,op:m})]:[]),i(b?[new s({id:"deletePart",name:"editing.tools.deletepart",icon:"deletePart.png",layer:n,op:_})]:[]),[new s({id:"copyfeaturespoly",name:"editing.tools.copy",icon:"copyPolygon.png",layer:n,once:!0,op:v}),new s({id:"mergefeaturespoly",name:"editing.tools.merge",icon:"mergeFeatures.png",layer:n,once:!0,op:y}),new s({id:"splitfeaturepoly",name:"editing.tools.split",icon:"splitFeatures.png",layer:n,once:!0,op:g})])}break;case o.LayerTypes.TABLE:r=[new s({id:"addfeature",name:"editing.tools.add_feature",icon:"addTableRow.png",layer:n,op:h}),new s({id:"edittable",name:"editing.tools.update_feature",icon:"editAttributes.png",layer:n,op:p})];break;default:r=[]}return r}}var o=g3wsdk.core.layer.Layer,a=g3wsdk.core.geometry.Geometry,s=e("./tool"),l=e("../workflows/addfeatureworkflow"),c=e("../workflows/modifygeometryvertexworkflow"),u=e("../workflows/movefeatureworkflow"),d=e("../workflows/deletefeatureworkflow"),f=e("../workflows/editfeatureattributesworkflow"),p=e("../workflows/edittableworkflow"),h=e("../workflows/addtablefeatureworkflow"),v=e("../workflows/copyfeaturesworkflow"),g=e("../workflows/splitfeatureworkflow"),y=e("../workflows/mergefeaturesworkflow"),m=e("../workflows/addparttomultigeometriesworkflow"),_=e("../workflows/deletepartfrommultigeometriesworkflow");t.exports=new r},{"../workflows/addfeatureworkflow":36,"../workflows/addparttomultigeometriesworkflow":37,"../workflows/addtablefeatureworkflow":38,"../workflows/copyfeaturesworkflow":40,"../workflows/deletefeatureworkflow":41,"../workflows/deletepartfrommultigeometriesworkflow":42,"../workflows/editfeatureattributesworkflow":43,"../workflows/edittableworkflow":46,"../workflows/mergefeaturesworkflow":48,"../workflows/modifygeometryvertexworkflow":49,"../workflows/movefeatureworkflow":50,"../workflows/splitfeatureworkflow":51,"./tool":21}],25:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.features,n=e.events,i=Vue.extend({data:function(){return{selected:null}},render:function(e){var i=this,o=Object.keys(t[0].getAlphanumericProperties()),a=o.map(function(t){return e("th",t)}),s=e("thead",[e("tr",a)]),l=t.map(function(t,a){var s=o.map(function(n){var i=t.get(n);return i="Object"===r(i)?i.value:i,e("td",i)});return e("tr",{on:{click:function(){i.selected=a,n.click(a)}},style:{cursor:"pointer"},"class":{"skin-background-color lighten":i.selected===a}},s)}),c=e("tbody",l),u=e("table",{"class":{"table table-responsive table-striped":!0}},[s,c]);return e("div",{style:{width:"100%",overflow:"auto"}},[u])}});return(new i).$mount().$el}var r=g3wsdk.core.utils.toRawType;t.exports=i},{}],26:[function(e,t,n){t.exports='<div @click ="state.enabled ? toggletool(): null" class="editbtn" :class="{\'enabled\' : state.enabled, \'toggled\' : state.active}">\n  <img height="25px" width="25px"\n       :alt="state.name"\n       :src="resourcesurl + \'images/\'+ state.icon" v-t-title:plugin="state.name"/>\n</div>\n'},{}],27:[function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=Vue.compile(e("./tool.html")),o=Vue.extend(i({},r,{props:["state","resourcesurl"],data:function(){return{}},methods:{toggletool:function(){this.state.active?this.$emit("stopactivetool"):this.$emit("setactivetool",this.state.id)}}}));Vue.component("tool",o),t.exports=o},{"./tool.html":26}],28:[function(e,t,n){t.exports='<div class="toolbox">\n  <div :class="{\'disableddiv\' : !isLayerReady || !canEdit }" :id="\'id_toolbox_\'+ state.id">\n    <div @click="select" class="panel" :class="{\'mobile\': isMobile(), \'toolboxselected\': state.selected }">\n      <div v-show="!isLayerReady" class="bar-loader"></div>\n      <div class="panel-heading container" style="width:100%;" :style="{ background: state.color}">\n        <div v-if="father" style="margin-right:5px; cursor:pointer;" class="pull-left enabled dropdown">\n          <span :class="g3wtemplate.font[\'relation\']"></span>\n          <div class="dropdown-content skin-background-color" style="padding: 5px; border-radius: 3px;">\n            <div v-for="dependency in state.editing.dependencies" style="font-weight: bold" >{{ dependency }}</div>\n          </div>\n        </div>\n        <div class="panel-title" :class="[father ? \'col-md-6\' : \'col-md-8\']" v-t-plugin:pre="\'editing.toolbox.title\'">{{ state.title }}\n        </div>\n        <div data-placement="left" data-toggle="tooltip"\n             @click.stop="toggleEditing"\n             class="start-editing editbtn skin-tooltip-left"\n             :class="{\'pull-right\': !isMobile(), \'enabled\' : isLayerReady,  \'g3w-icon-toggled\' : state.editing.on}" v-t-title:plugin="edit_layer_tooltip">\n          <span style="font-size: 1.1em; padding: 5px;"  :class="g3wtemplate.font[\'pencil\']"></span>\n        </div>\n      </div>\n      <bar-loader :loading="state.loading"></bar-loader>\n      <div class="panel-body">\n        <div class="tools-content" style="display: flex; flex-wrap: wrap;">\n          <tool\n            :state="toolstate"\n            :resourcesurl="resourcesurl"\n            @stopactivetool="stopActiveTool"\n            @setactivetool="setActiveTool"\n            v-for="toolstate in state.tools" :key="toolstate.id">\n          </tool>\n        </div>\n        <div class="message" style="margin-top: 5px;" :id="\'id_toolbox_messages_\'+ state.id">\n          <div v-html="state.message"></div>\n          <transition name="fade">\n            <toolsoftool v-if="showtoolsoftool" :tools="state.toolsoftool"></toolsoftool>\n          </transition>\n          <div class="toolbox_help_message">{{ toolhelpmessage | tPlugin }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],29:[function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=g3wsdk.core.ApplicationState,o=e("./tool"),a=e("./toolsoftool"),s=(g3wsdk.core.i18n.tPlugin,Vue.compile(e("./toolbox.html"))),l=Vue.extend(i({},s,{props:["state","resourcesurl"],data:function(){return{active:!1}},components:{tool:o,toolsoftool:a},methods:{select:function(){this.isLayerReady&&(this.state.selected||this.$emit("setselectedtoolbox",this.state.id))},toggleEditing:function(){this.select(),this.state.layerstate.editing.ready&&!this.state.loading&&(this.state.editing.on?this.$emit("stoptoolbox",this.state.id):this.$emit("starttoolbox",this.state.id))},saveEdits:function(){this.$emit("savetoolbox",this.state.id)},stopActiveTool:function(){this.$emit("stopactivetool",this.state.id)},setActiveTool:function(e){this.$emit("setactivetool",e,this.state.id)}},computed:{canEdit:function(){return this.state.editing.canEdit},father:function(){return this.state.editing.father&&!!this.state.editing.dependencies.length},toolhelpmessage:function(){return this.state.toolmessages.help},showtoolsoftool:function(){return!!this.state.toolsoftool.length},isLayerReady:function(){return this.state.layerstate.editing.ready}},created:function(){var e=this;this.edit_layer_tooltip="editing.tooltip.edit_layer",this.$emit("canEdit",{id:this.state.id}),this.$watch(function(){return r.lng},function(){var t=e.toolhelpmessage;e.state.toolmessages.help=null,e.state.toolmessages.help=t})},mounted:function(){this.$nextTick(function(){$('.editbtn[data-toggle="tooltip"]').tooltip()})}}));t.exports=l},{"./tool":27,"./toolbox.html":28,"./toolsoftool":31}],30:[function(e,t,n){t.exports='<div id="toolsoftoolcontainer" style="display: flex;\n    margin: 5px;\n    padding: 5px;\n    border-radius: 5px;">\n    <component v-for="tool in tools"\n      :key="tool.type"\n      :is="tool.type"\n      :options="tool.options">\n    </component>\n  </div>\n</div>\n'},{}],31:[function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=e("./toolsoftool/tools"),o=Vue.compile(e("./toolsoftool.html")),a=Vue.extend(i({},o,{props:["tools"],components:{snap:r.snap},data:function(){return{}}}));t.exports=a},{"./toolsoftool.html":30,"./toolsoftool/tools":33}],32:[function(e,t,n){!function(){Object.defineProperty(n,"__esModule",{value:!0});var t=g3wsdk.gui.GUI,i=g3wsdk.core.layer.Layer,r=void 0,o=t.getComponent("map").getService(),a=e("../../../services/editingservice");n["default"]={name:"snap",props:["options"],data:function(){return{id:"snap_"+Date.now(),idAll:"snap_"+Date.now()+"_all",checked:!1,checkedAll:!1,showSnapAll:!1}},computed:{add:function(){return(this.checked||this.checkedAll)&&this.active},active:function(){return this.options.active}},methods:{addFeatures:function(e){this.features.extend(e)},addFeature:function(e){this.addFeatures([e])},removeFeatures:function(e){var t=this;e.forEach(function(e){return t.features.remove(e)})},setShowSnapAll:function(){this.showSnapAll=this.vectorToolboxesEditingState.find(function(e){return e.on})&&!0||!1,this.checkedAll=!!this.showSnapAll&&this.checkedAll},activeSnapInteraction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source,n=e.features,i=e.snaptype;"snapall"===i?this.checked=!1:this.checkedAll=!1,r&&o.removeInteraction(r),r=null,r=new ol.interaction.Snap({source:t,features:n}),o.addInteraction(r)}},watch:{add:function(e){!e&&o.removeInteraction(r)},checked:function(e){e&&this.activeSnapInteraction({source:this.options.source,type:"snap"})},checkedAll:function(e){e&&this.activeSnapInteraction({features:this.features,type:"snapall"})}},created:function(){var e=this;this.features=new ol.Collection,this.sourcesAndEventsKeys=[],this.vectorToolboxesEditingState=[],this.unwatches=[],a.getLayers().forEach(function(t){var n=t.getId();if(t.getType()===i.LayerTypes.VECTOR){var r=a.getToolBoxById(n),o=r.getLayer().getEditingSource();e.features.extend(o.readFeatures());var s=o.onbefore("addFeatures",e.addFeatures),l=o.onbefore("addFeature",e.addFeatures),c=o.onbefore("clear",function(){var t=o.readFeatures();e.removeFeatures(t)}),u=o.getFeaturesCollection().on("add",function(t){return e.addFeature(t.element)});if(e.sourcesAndEventsKeys.push({source:o,settersAndKeys:{addFeatures:s,addFeature:l,clear:c},olKey:u}),e.options.layerId!==n){var d=r.getState().editing,f=e.$watch(function(){return d.on},e.setShowSnapAll);e.unwatches.push(f),e.vectorToolboxesEditingState.push(d)}}}),this.setShowSnapAll()},beforeDestroy:function(){r&&o.removeInteraction(r),this.sourcesAndEventsKeys.forEach(function(e){var t=e.source,n=e.settersAndKeys,i=e.olKey;Object.keys(n).forEach(function(e){var i=n[e];t.un(e,i)}),ol.Observable.unByKey(i)}),this.unwatches.forEach(function(e){return e()}),r=null,this.unwatches=null,this.vectorToolboxesEditingState=null}}}(),t.exports.__esModule&&(t.exports=t.exports["default"]);var i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"magic-checkbox snap_tools_of_tools",attrs:{type:"checkbox",id:e.id},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);i.checked?a<0&&(e.checked=n.concat([o])):a>-1&&(e.checked=n.slice(0,a).concat(n.slice(a+1)))}else e.checked=r}}}),e._v(" "),n("label",{attrs:{"for":e.id}},[e._v("Snap")]),e._v(" "),e.showSnapAll?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedAll,expression:"checkedAll"}],staticClass:"magic-checkbox snap_tools_of_tools",attrs:{type:"checkbox",id:e.idAll},domProps:{checked:Array.isArray(e.checkedAll)?e._i(e.checkedAll,null)>-1:e.checkedAll},on:{change:function(t){var n=e.checkedAll,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);i.checked?a<0&&(e.checkedAll=n.concat([o])):a>-1&&(e.checkedAll=n.slice(0,a).concat(n.slice(a+1)))}else e.checkedAll=r}}}),e._v(" "),n("label",{attrs:{"for":e.idAll}},[e._v("Snap All")])]:e._e()],2)},i.staticRenderFns=[],i._scopeId="data-v-22ba08d6",t.hot&&!function(){var n=e("vue-hot-reload-api");n.install(e("vue"),!0),n.compatible&&(t.hot.accept(),t.hot.data?n.reload("data-v-22ba08d6",i):n.createRecord("data-v-22ba08d6",i))}()},{"../../../services/editingservice":16,vue:5,"vue-hot-reload-api":3}],33:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./snap.vue"),o=i(r),a={snap:o["default"]};t.exports=a},{"./snap.vue":32}],34:[function(e,t,n){t.exports='<div class="g3w-editing-panel">\n  <div v-if="!appState.online" id="onlineofflinemessage" style="margin-bottom: 5px; padding: 5px; border-radius: 3px; background-color: orange; color:white; font-weight: bold">\n    <div v-t-plugin="\'editing.messages.offline\'"></div>\n  </div>\n  <div style="display: flex; margin-bottom: 5px">\n    <div style="margin-right: auto;" class="editing-button" @click="canCommit ? commit(): null" :class="{\'enabled\' : canCommit }">\n      <span class="editing-icon" :class="g3wtemplate.font[\'save\']"></span>\n    </div>\n    <div class="editing-button " @click="canUndo ? undo(): null" :class="{\'enabled\' : canUndo }">\n      <span class="editing-icon" :class="g3wtemplate.font[\'arrow-left\']"></span>\n    </div>\n    <div class="editing-button "  @click="canRedo ? redo(): null" :class="{\'enabled\' : canRedo }">\n      <span class="editing-icon" :class="g3wtemplate.font[\'arrow-right\']"></span>\n    </div>\n  </div>\n  <div id="toolboxes">\n    <toolbox\n      :state="toolboxstate"\n      :resourcesurl="resourcesurl"\n      @setselectedtoolbox="setSelectedToolbox"\n      @starttoolbox="startToolBox"\n      @stoptoolbox="stopToolBox"\n      @savetoolbox="saveToolBox"\n      @setactivetool="startActiveTool"\n      @stopactivetool="stopActiveTool"\n      v-for="toolboxstate in state.toolboxes" :key="toolboxstate.id">\n    </toolbox>\n  </div>\n</div>\n'},{}],35:[function(e,t,n){function i(e){var t=this;a(this,e),this.vueComponent=v,this.name=e.name||"Gestione dati",s(this,e),this._resourcesUrl=e.resourcesUrl||c.getResourcesUrl(),this._service=e.service||f;var n=Vue.extend(this.vueComponent);this.internalComponent=new n({service:this._service,data:function(){return{state:t._service.state,resourcesurl:t._resourcesUrl,editingButtonsEnabled:!0}}}),this.mount=function(e){return a(this,"mount",e,!0)},this.unmount=function(){var e=this,t=$.Deferred();return this._service.stop().then(function(){e.unmount=function(){a(this,"unmount").then(function(){t.resolve()})},e.unmount()}),t.promise()}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=g3wsdk.core.utils.merge,l=g3wsdk.core.i18n.tPlugin,c=g3wsdk.gui.GUI,u=g3wsdk.gui.vue.Component,d=g3wsdk.core.ApplicationState,f=e("../services/editingservice"),p=Vue.compile(e("./editing.html")),h=e("./components/toolbox"),v=r({},p,{data:null,components:{toolbox:h},transitions:{addremovetransition:"showhide"},methods:{undo:function(){var e=this.state.toolboxselected.getSession(),t=e.undo();this.$options.service.undoRelations(t)},redo:function(){var e=this.state.toolboxselected.getSession(),t=e.redo();this.$options.service.redoRelations(t)},commit:function(e){var t=this.$options.service.getToolBoxById(e);this.$options.service.commit({toolbox:t})},saveAll:function(){},startToolBox:function(e){var t=this._getToolBoxById(e);d.online&&t.canEdit()&&t.start()},stopToolBox:function(e){var t=this._getToolBoxById(e);t.state.editing.history.commit?this.$options.service.commit().always(function(){t.stop()}):t.stop()},saveToolBox:function(e){var t=this._getToolBoxById(e);t.save()},_setActiveToolOfToolbooxSelected:function(e,t){var n=this._getToolBoxById(t);this.state.toolboxidactivetool=t;var i=n.getToolById(e);n.setActiveTool(i)},startActiveTool:function(e,t){var n=this;this.state.toolboxidactivetool&&t!==this.state.toolboxidactivetool?this._checkDirtyToolBoxes(this.state.toolboxidactivetool).then(function(i){i&&i.stopActiveTool(),n._setActiveToolOfToolbooxSelected(e,t)}):this._setActiveToolOfToolbooxSelected(e,t)},stopActiveTool:function(e){var t=this._getToolBoxById(e);t.stopActiveTool()},setSelectedToolbox:function(e){var t=this.$options.service,n=this._getToolBoxById(e),i=t.getToolBoxes(),r=i.find(function(e){return e.isSelected()});r&&r.setSelected(!1),n.setSelected(!0),this.state.toolboxselected=n,n.getDependencies().length?this.state.message="<div>\n"+l("editing.messages.change_toolbox_relation")+"\n</div>":this.state.message=null},_checkDirtyToolBoxes:function(e){return this.$options.service.commitDirtyToolBoxes(e)},_getToolBoxById:function(e){var t=this.$options.service,n=t.getToolBoxById(e);return n},_enableEditingButtons:function(e){this.editingButtonsEnabled=!e}},computed:{message:function g(){var g="";return g},canCommit:function(){return this.state.toolboxselected&&this.state.toolboxselected.state.editing.history.commit&&this.editingButtonsEnabled},canUndo:function(){var e=this.state.toolboxselected;return e&&e.state.editing.history.undo&&this.editingButtonsEnabled},canRedo:function(){var e=this.state.toolboxselected;return e&&e.state.editing.history.redo&&this.editingButtonsEnabled}},watch:{canCommit:function(e){this.$options.service.registerLeavePage(e)}},created:function(){this.appState=d,this.$options.service.registerOnLineOffLineEvent(),c.on("opencontent",this._enableEditingButtons),c.on("closeform",this._enableEditingButtons),c.on("closecontent",this._enableEditingButtons)},beforeDestroy:function(){c.off("opencontent",this._enableEditingButtons),c.off("closeform",this._enableEditingButtons),c.off("closecontent",this._enableEditingButtons),this.$options.service.unregisterOnLineOffLineEvent()}});o(i,u),t.exports=i},{"../services/editingservice":16,"./components/toolbox":29,"./editing.html":34}],36:[function(e,t,n){function i(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new s(t),i=new l(t);n.on("run",function(t){var n=t.inputs,i=(t.context,n.layer),r={type:"snap",options:{layerId:i.getId(),source:i.getEditingLayer().getSource(),active:!0}};e.emit("settoolsoftool",[r])}),n.on("run",function(){e.emit("active",["snap"])}),n.on("stop",function(){e.emit("deactive",["snap"])}),t.steps=[n,i],o(this,t)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/addfeaturestep"),l=e("./steps/openformstep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/addfeaturestep":52,"./steps/openformstep":65}],37:[function(e,t,n){function i(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.type="single",t.help="editing.steps.help.select_element";var n=new s(t,(!0));n.getTask().setSteps({select:{description:"editing.workflow.steps.select",directive:"t-plugin",done:!1}}),t.add=!1;var i=new l(t);i.getTask().setSteps({addfeature:{description:"editing.workflow.steps.draw_part",directive:"t-plugin",done:!1}}),i.on("run",function(t){var n=t.inputs,i=(t.context,n.layer),r={type:"snap",options:{layerId:i.getId(),source:i.getEditingLayer().getSource(),active:!0}};e.emit("settoolsoftool",[r])}),i.on("run",function(){e.emit("active",["snap"])}),i.on("stop",function(){e.emit("deactive",["snap"])});var r=new c(t);t.steps=[n,i,r],this.registerEscKeyEvent(),o(this,t)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/selectelementsstep"),l=e("./steps/addfeaturestep"),c=(e("./steps/openformstep"),e("./steps/addparttomultigeometriesstep"));r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/addfeaturestep":52,"./steps/addparttomultigeometriesstep":53,"./steps/openformstep":65,"./steps/selectelementsstep":68}],38:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s,new l],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/addtablefeaturestep"),l=e("./steps/openformstep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/addtablefeaturestep":54,"./steps/openformstep":65}],39:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s(e)],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/confirmstep");r(i,a);i.prototype;t.exports=i},{"./editingworkflow":44,"./steps/confirmstep":55}],40:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer.getGeometryType().indexOf("Point")!==-1;e.type=u.ismobile?"single":"multiple",e.help="editing.steps.help.copy",e.steps=[];var n=new s(e,(!0));if(n.getTask().setSteps({select:{description:"multiple"===e.type?"editing.workflow.steps.selectPointSHIFT":"editing.workflow.steps.selectPoint",directive:"t-plugin",done:!1}}),e.steps.push(n),!t){var i=new l(e,(!0));i.getTask().setSteps({from:{description:"editing.workflow.steps.selectStartVertex",directive:"t-plugin",done:!1}}),e.steps.push(i)}var r=new c(e,(!0));r.getTask().setSteps({to:{description:"editing.workflow.steps.selectToPaste",directive:"t-plugin",done:!1}}),e.steps.push(r),this.registerEscKeyEvent(),o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/selectelementsstep"),l=e("./steps/getvertexstep"),c=e("./steps/movelementsstep"),u=g3wsdk.core.ApplicationState;r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/getvertexstep":59,"./steps/movelementsstep":64,"./steps/selectelementsstep":68}],41:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s,new l({type:"delete"})],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/deletefeaturestep"),l=e("./steps/confirmstep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/confirmstep":55,"./steps/deletefeaturestep":56}],42:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new s(e);e.steps=[t],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/deletepartfrommultigeometriesstep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/deletepartfrommultigeometriesstep":57}],43:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s,new l],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/pickfeaturestep"),l=e("./steps/openformstep");r(i,a);i.prototype;t.exports=i},{"./editingworkflow":44,"./steps/openformstep":65,"./steps/pickfeaturestep":67}],44:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this._toolsoftool=[]}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.gui.GUI,s=g3wsdk.core.workflow.Workflow;r(i,s);var l=i.prototype;l.getFeatures=function(){return this.getInputs().features},l.setToolsOfTool=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._toolsoftool=[e]},l.startFromLastStep=function(e){var t=this.getSteps();return this.setSteps([t.pop()]),this.start(e)},l.getCurrentFeature=function(){var e=this.getFeatures(),t=this.getFeatures().length;return e[t-1]},l.getLayer=function(){return this.getSession().getEditor().getLayer()},l.getSession=function(){return this.getContext().session},l.escKeyUpHandler=function(e){27===e.keyCode&&(e.data.workflow.reject(),e.data.callback())},l.unbindEscKeyUp=function(){$(document).unbind("keyup",this.escKeyUpHandler)},l.bindEscKeyUp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=a.hideContent(!0);return $(document).on("keyup",{workflow:this,callback:e},this.escKeyUpHandler),t},l.registerEscKeyEvent=function(e){var t=this;this.on("start",function(){t.bindEscKeyUp(e)}),this.on("stop",function(){t.unbindEscKeyUp()})},t.exports=i},{}],45:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/openformstep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/openformstep":65}],46:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/opentablestep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/opentablestep":66}],47:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/linkrelationstep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/linkrelationstep":60}],48:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type="bbox",e.help="editing.steps.help.merge";var t=new s(e,(!0));t.getTask().setSteps({select:{description:c.ismobile?"editing.workflow.steps.selectDrawBox":"editing.workflow.steps.selectSHIFT",directive:"t-plugin",done:!1}});var n=new l(e,(!0));n.getTask().setSteps({choose:{description:"editing.workflow.steps.merge",directive:"t-plugin",done:!1}}),e.steps=[t,n],this.registerEscKeyEvent(),o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/selectelementsstep"),l=e("./steps/mergefeaturesstep"),c=g3wsdk.core.ApplicationState;r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/mergefeaturesstep":61,"./steps/selectelementsstep":68}],49:[function(e,t,n){function i(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new s(t);n.on("run",function(t){var n=t.inputs,i=(t.context,n.layer),r={type:"snap",options:{layerId:i.getId(),source:i.getEditingLayer().getSource(),active:!1}};e.emit("settoolsoftool",[r])});var i=new l;i.on("run",function(){e.emit("active",["snap"])}),i.on("stop",function(){e.emit("deactive",["snap"])}),t.steps=[n,i],o(this,t)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/pickfeaturestep"),l=e("./steps/modifygeometryvertexstep");r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/modifygeometryvertexstep":62,"./steps/pickfeaturestep":67}],50:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps=[new s,new l],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/pickfeaturestep"),l=e("./steps/movefeaturestep");r(i,a);i.prototype;t.exports=i},{"./editingworkflow":44,"./steps/movefeaturestep":63,"./steps/pickfeaturestep":67}],51:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type=c.ismobile?"single":"multiple",e.help="editing.steps.help.split";var t=new s(e,(!0));t.getTask().setSteps({select:{description:"multiple"===e.type?"editing.workflow.steps.selectPointSHIFT":"editing.workflow.steps.selectPoint",directive:"t-plugin",done:!1}});var n=new l(e,(!0));n.getTask().setSteps({draw_line:{description:"editing.workflow.steps.draw_split_line",directive:"t-plugin",done:!1}}),e.steps=[t,n],this.registerEscKeyEvent(),o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingworkflow"),s=e("./steps/selectelementsstep"),l=e("./steps/splitfeaturestep"),c=g3wsdk.core.ApplicationState;r(i,a),t.exports=i},{"./editingworkflow":44,"./steps/selectelementsstep":68,"./steps/splitfeaturestep":69}],52:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/addfeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),e.help="editing.steps.help.draw_new_feature",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/addfeaturetask":71}],53:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/addparttomultigeometriestask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/addparttomultigeometriestask":72}],54:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.workflow.Step,a=(g3wsdk.core.i18n.tPlugin,e("./tasks/addfeaturetabletask")),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.new",r(this,e)};i(s,o),t.exports=s},{"./tasks/addfeaturetabletask":70}],55:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/confirmtask"),s=function(e){e=e||{},e.task=new a(e),r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/confirmtask":73}],56:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/deletefeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.double_click_delete",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/deletefeaturetask":74}],57:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=e("./editingstep"),a=e("./tasks/deletepartfrommultigeometriestask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/deletepartfrommultigeometriestask":75}],58:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.workflow.Step,a=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e)};i(a,o),t.exports=a},{}],59:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/getvertextask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),e.help="editing.steps.help.select",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/getvertextask":77}],60:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/linkrelationtask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.select_feature_to_relation",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/linkrelationtask":78}],61:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/mergefeaturestask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a,e.help="editing.steps.help.merge",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/mergefeaturestask":79}],62:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/modifygeometryvertextask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{snap:!0},t=new a(e);e.task=t,e.help="editing.steps.help.edit_feature_vertex",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/modifygeometryvertextask":80}],63:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/movefeaturettask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),e.help="editing.steps.help.move",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/movefeaturettask":82}],64:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/moveelementstask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments[1],new a(e));e.task=t,e.help="editing.steps.help.select_vertex_to_paste",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/moveelementstask":81}],65:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.workflow.Step,a=(g3wsdk.core.i18n.tPlugin,e("./tasks/openformtask")),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.task=new a(e),e.help="editing.steps.help.insert_attributes_feature",r(this,e)};i(s,o),t.exports=s},{"./tasks/openformtask":83}],66:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,g3wsdk.core.workflow.Step),a=e("./tasks/opentabletask"),s=function(e){e=e||{},e.task=new a,e.help="editing.steps.help.edit_table",r(this,e)};i(s,o),t.exports=s},{"./tasks/opentabletask":84}],67:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,g3wsdk.core.workflow.Step),a=e("./tasks/pickfeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new a(e);e.task=t,e.help="editing.steps.help.pick_feature",r(this,e)};i(s,o),t.exports=s},{"./tasks/pickfeaturetask":85}],68:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=g3wsdk.core.i18n.tPlugin,a=e("./editingstep"),s=e("./tasks/selectelementstask"),l=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];t.task=new s(t),t.help=t.help||"editing.steps.help.select_elements",n&&this.on("run",function(){e.emit("next-step",o("editing.steps.help.select_elements"))}),r(this,t)};i(l,a),t.exports=l},{"./editingstep":58,"./tasks/selectelementstask":86}],69:[function(e,t,n){var i=g3wsdk.core.utils.inherit,r=g3wsdk.core.utils.base,o=(g3wsdk.core.i18n.tPlugin,e("./editingstep")),a=e("./tasks/splitfeaturetask"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new a(e);e.task=t,e.help="",r(this,e)};i(s,o),t.exports=s},{"./editingstep":58,"./tasks/splitfeaturetask":87}],70:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask");r(i,a);var s=i.prototype;s.run=function(e,t){var n=$.Deferred(),i=t.session,r=e.layer,o=r.getId(),a=r.getEditingLayer(),s=e.features.length?e.features[e.features.length-1]:r.createNewFeature();return s.setTemporaryId(),a.getEditingSource().addFeature(s),i.pushAdd(o,s),e.features.push(s),n.resolve(e,t),n.promise()},s.stop=function(){},t.exports=i},{"./editingtask":76}],71:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._add=void 0===e.add||e.add,this._busy=!1,this.drawInteraction=null,this._snap=e.snap!==!1,this._snapInteraction=null,this._finishCondition=e.finishCondition||_.constant(!0),this._condition=e.condition||_.constant(!0),s(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.layer.Layer,a=g3wsdk.core.geometry.Geometry,s=g3wsdk.core.utils.base,l=e("./editingtask"),c=g3wsdk.core.layer.features.Feature;r(i,l);var u=i.prototype;u.run=function(e,t){var n=this,i=$.Deferred(),r=e.layer,s=r.getEditingLayer(),l=t.session,u=r.getId();switch(r.getType()){case o.LayerTypes.VECTOR:var d=void 0;d=r.getEditingGeometryType()===a.GeometryTypes.LINE?"LineString":r.getEditingGeometryType()===a.GeometryTypes.MULTILINE?"MultiLineString":r.getEditingGeometryType();var f=s.getSource(),p=r.getEditingFields(),h=new ol.source.Vector;this.drawInteraction=new ol.interaction.Draw({type:d,source:h,condition:this._condition,freehandCondition:ol.events.condition.never,finishCondition:this._finishCondition}),this.addInteraction(this.drawInteraction),this.drawInteraction.setActive(!0),this.drawInteraction.on("drawend",function(t){var r=void 0;n._add?(p.forEach(function(e){t.feature.set(e.name,null)}),r=new c({feature:t.feature}),r.setTemporaryId(),f.addFeature(r),l.pushAdd(u,r)):r=t.feature,e.features.push(r),i.resolve(e)})}return i.promise()},u.stop=function(){return this._snapInteraction&&(this.removeInteraction(this._snapInteraction),this._snapInteraction=null),this.removeInteraction(this.drawInteraction),this.drawInteraction=null,!0},u._removeLastPoint=function(){if(this.drawInteraction)try{this.drawInteraction.removeLastPoint()}catch(e){}},t.exports=i},{"./editingtask":76}],72:[function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e)}var o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=e("./editingtask");o(r,s);var l=r.prototype;l.run=function(e,t){var n=$.Deferred(),r=e.layer,o=e.features,a=r.getId(),s=t.session,l=o[0],c=l.getGeometry(),u=l.clone();return c.setCoordinates([].concat(i(c.getCoordinates()),i(o[1].getGeometry().getCoordinates()))),s.pushUpdate(a,l,u),e.features=[l],n.resolve(e),n.promise()},l.stop=function(){},t.exports=r},{"./editingtask":76}],73:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type||"default";this._dialog=u[t],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.gui.GUI,s=g3wsdk.core.i18n.tPlugin,l=g3wsdk.core.i18n.t,c=e("./editingtask"),u={"delete":{fnc:function(t,n){var i=$.Deferred(),r=e("../../../services/editingservice"),o=t.layer,l=o.getId(),c=o.getChildren(),u=c.length&&r._filterRelationsInEditing({layerId:l,relations:o.getRelations().getArray()}).length>0;return a.dialog.confirm("<h4>"+s("editing.messages.delete_feature")+'</h4>\n                        <div style="font-size:1.2em;">'+(u?s("editing.messages.delete_feature_relations"):"")+"</div>",function(e){e?i.resolve(t):i.reject(t)}),i.promise()}},commit:{fnc:function(e){var t=$.Deferred(),n=e.close,i={SAVE:{label:l("save"),className:"btn-success",callback:function(){t.resolve(e)}},CANCEL:{label:l(n?"exitnosave":"annul"),className:"btn-danger",callback:function(){t.reject()}}};n&&(i.CLOSEMODAL={label:l("annul"),className:"btn-primary",callback:function(){r.modal("hide")}});var r=a.dialog.dialog({message:e.message,title:s("editing.messages.commit_feature")+" "+e.layer.getName()+"?",buttons:i});return t.promise()}}};r(i,c);var d=i.prototype;d.run=function(e,t){return this._dialog.fnc(e,t)},d.stop=function(){return!0},t.exports=i},{"../../../services/editingservice":16,"./editingtask":76}],74:[function(e,t,n){function i(e){this.drawInteraction=null,this._selectInteraction=null,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.ol.interactions.DeleteFeatureInteraction,s=e("./editingtask");r(i,s);var l=i.prototype;ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};var c=[255,255,255,1],u=[255,0,0,1],d=3,f={};f[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({stroke:new ol.style.Stroke({color:"red",width:3}),fill:new ol.style.Fill({color:"rgba(255, 0, 0, 0.1)"})})],f[ol.geom.GeometryType.MULTI_POLYGON]=f[ol.geom.GeometryType.POLYGON],f[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:c,width:d+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:u,width:d})})],f[ol.geom.GeometryType.MULTI_LINE_STRING]=f[ol.geom.GeometryType.LINE_STRING],f[ol.geom.GeometryType.CIRCLE]=f[ol.geom.GeometryType.POLYGON].concat(f[ol.geom.GeometryType.LINE_STRING]),f[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:2*d,fill:new ol.style.Fill({color:u}),stroke:new ol.style.Stroke({color:c,width:d/2})}),zIndex:1/0})],f[ol.geom.GeometryType.MULTI_POINT]=f[ol.geom.GeometryType.POINT],f[ol.geom.GeometryType.GEOMETRY_COLLECTION]=f[ol.geom.GeometryType.POLYGON].concat(f[ol.geom.GeometryType.LINE_STRING],f[ol.geom.GeometryType.POINT]),f[ol.geom.GeometryType.POLYGON]=_.concat(f[ol.geom.GeometryType.POLYGON],f[ol.geom.GeometryType.LINE_STRING]),f[ol.geom.GeometryType.GEOMETRY_COLLECTION]=_.concat(f[ol.geom.GeometryType.GEOMETRY_COLLECTION],f[ol.geom.GeometryType.LINE_STRING]),l.run=function(t,n){var i=this,r=$.Deferred(),o=t.layer,s=o.getEditingLayer(),l=o.getId(),c=n.session;return this._selectInteraction=new ol.interaction.Select({layers:[s],condition:ol.events.condition.click,style:function u(e){var u=f[e.getGeometry().getType()];return u}}),this.addInteraction(this._selectInteraction),this._deleteInteraction=new a({features:this._selectInteraction.getFeatures(),layer:s}),this.addInteraction(this._deleteInteraction),this._deleteInteraction.on("deleteend",function(n){var a=n.features.getArray()[0],u=e("../../../services/editingservice"),d=e("../../../services/relationservice"),f=u._filterRelationsInEditing({layerId:l,relations:o.getRelations()?o.getRelations().getArray():[]}).filter(function(e){var t=u._getRelationId({layerId:l,relation:e}),n=u.getLayerById(t),i=u._getRelationFieldsFromRelation({layerId:t,relation:e}),r=i.ownField,o=n.getEditingFields().find(function(e){return e.name===r});return!o.validate.required}),p=f.length?u.getLayersDependencyFeatures(l,{feature:a,relations:f}):Promise.resolve();p.then(function(){var e=u.getRelationsInEditing({layerId:l,relations:f,feature:a});t.features=[a],e.forEach(function(e){for(var t=e.relation,n=e.relations,i=new d(l,{relation:t,relations:n}),r=n.length,o=0;o<r;o++)i.unlinkRelation(0,!1)}),s.getSource().removeFeature(a),i._selectInteraction.getFeatures().remove(a),c.pushDelete(l,a),r.resolve(t)})}),r.promise()},l.stop=function(){var e=this;return new Promise(function(t,n){e._selectInteraction.getFeatures().clear(),e.removeInteraction(e._selectInteraction),e._selectInteraction=null,e._deleteInteraction.clear(),e.removeInteraction(e._deleteInteraction),e._deleteInteraction=null,t(!0)})},t.exports=i},{"../../../services/editingservice":16,"../../../services/relationservice":17,"./editingtask":76}],75:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pickFeatureInteraction=null,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.ol.interactions.PickFeatureInteraction,s=g3wsdk.core.geoutils,l=s.multiGeometryToSingleGeometries,c=s.singleGeometriesToMultiGeometry,u=e("./editingtask");r(i,u);var d=i.prototype;d.run=function(e,t){var n=this,i=$.Deferred(),r=e.layer,o=e.layer.getEditingLayer(),s=r.getId(),u=t.session,d=[o];return this.pickFeatureInteraction=new a({layers:d}),this.addInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction.on("picked",function(t){var r=t.feature,a=t.coordinate;if(r){var d=r.clone(),f=r.getGeometry(),p=l(f),h=new ol.source.Vector({features:p.map(function(e){return new ol.Feature(e)})}),v=n.getMap(),g=v.getPixelFromCoordinate(a),y=new ol.layer.Vector({source:h,style:o.getStyle()});v.addLayer(y),v.once("postrender",function(){var t=!1;this.forEachFeatureAtPixel(g,function(n){if(!t){if(h.removeFeature(n),h.getFeatures().length){var a=c(h.getFeatures().map(function(e){return e.getGeometry()}));r.setGeometry(a),u.pushUpdate(s,r,d)}else o.getSource().removeFeature(r),u.pushDelete(s,r);i.resolve(e),t=!0}},{layerFilter:function(e){return e===y},hitTolerance:1}),this.removeLayer(y),y=null})}else i.resolve(e)}),i.promise()},d.stop=function(){this.removeInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction=null},t.exports=i},{"./editingtask":76}],76:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this._editingServive,this._mapService=s.getComponent("map").getService(),this.addInteraction=function(e){this._mapService.addInteraction(e)},this.removeInteraction=function(e){var t=this;setTimeout(function(){t._mapService.removeInteraction(e)})}}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.core.geoutils.createSelectedStyle,s=g3wsdk.gui.GUI,l=g3wsdk.core.workflow.Task;r(i,l);var c=i.prototype;c.setSteps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._steps=e,this.setUserMessageSteps(e)},c.getSteps=function(){return this._steps},c.getMapService=function(){return this._mapService},c.getMap=function(){return this._mapService.getMap()},c.setFeaturesSelectedStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){var t=this.getSelectedStyle(e[0]),n=t.originalStyle,i=t.selectedStyle;return e.forEach(function(e){return e.setStyle(i)}),n}},c.getSelectedStyle=function(e){var t=e.getGeometry().getType(),n=e.getStyle(),i=a({geometryType:t});return{originalStyle:n,selectedStyle:i}},c.disableSidebar=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!this._isContentChild&&s.disableSideBar(e)},c.getEditingService=function(){return this._editingServive=this._editingServive||e("../../../services/editingservice"),this._editingServive},c.fireEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getEditingService().fireEvent(e,t)},c.setNullMediaFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,n=e.feature,i=t.getEditingMediaFields({});i.forEach(function(e){n.set(e,null)})},c.run=function(e,t){},c.stop=function(){},t.exports=i},{"../../../services/editingservice":16}],77:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._drawInteraction,this._snapIteraction,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.core.geoutils.areCoordinatesEqual,s=e("./editingtask");r(i,s);var l=i.prototype;l.run=function(e){var t=this,n=$.Deferred(),i=e.features;if(i.length){var r=i[0].getGeometry().getType();return this._snapIteraction=new ol.interaction.Snap({features:new ol.Collection(i),edge:!1}),this._drawIteraction=new ol.interaction.Draw({type:"Point",condition:function(e){var t=e.coordinate;return!!i.find(function(e){var n=e.getGeometry(),i=void 0;switch(r){case"MultiLineString":return i=n.getCoordinates(),a(t,i);case"LineString":return!!n.getCoordinates().find(function(e){return a(t,e)});case"Polygon":return!!_.flatMap(polygon.getCoordinates()).find(function(e){return a(t,e)});case"MultiPolygon":return!!n.getPolygons().find(function(e){return!!_.flatMap(e.getCoordinates()).find(function(e){return a(t,e)})});case"Point":return a(t,n.getCoordinates());case"MultiPoint":return!!n.getCoordinates().find(function(e){return a(t,e)})}})}}),this._drawIteraction.on("drawend",function(i){e.coordinates=i.feature.getGeometry().getCoordinates(),t.setUserMessageStepDone("from"),n.resolve(e)}),this.addInteraction(this._drawIteraction),this.addInteraction(this._snapIteraction),n.promise()}},l.stop=function(){this.removeInteraction(this._drawIteraction),this.removeInteraction(this._snapIteraction),this._snapIteraction=null,this._drawIteraction=null},t.exports=i},{"./editingtask":76}],78:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask"),s=g3wsdk.gui.GUI,l=g3wsdk.ol.interactions.PickFeatureInteraction;r(i,a);var c=i.prototype;c.run=function(e,t){var n=this,i=$.Deferred();s.setModal(!1);var r=e.layer.getEditingLayer();this._originalLayerStyle=r.getStyle();var o=t.beforeRun,a=o&&"function"==typeof o?o():Promise.resolve(),c=t.exclude,u=c.field,d=c.value,f=t.style;return this._features=r.getSource().getFeatures(),this._features=u?this._features.filter(function(e){return e.get(u)!=d}):this._features,f&&this._features.forEach(function(e){e.setStyle(f)}),a.then(function(){n.pickFeatureInteraction=new l({layers:[r],features:n._features}),n.addInteraction(n.pickFeatureInteraction),n.pickFeatureInteraction.on("picked",function(t){var n=t.feature;e.features.push(n),s.setModal(!0),i.resolve(e)})})["catch"](function(){i.reject()}),i.promise()},c.stop=function(){var e=this;return s.setModal(!0),this.removeInteraction(this.pickFeatureInteraction),this._features.forEach(function(t){t.setStyle(e._originalLayerStyle)}),this.pickFeatureInteraction=null,this._features=null,this._originalLayerStyle=null,!0},t.exports=i},{"./editingtask":76}],79:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.core.geoutils.dissolve,s=e("./editingtask"),l=g3wsdk.gui.GUI,c=e("../../../vue/components/selectfeatures/selectfeatures");r(i,s);var u=i.prototype;u.run=function(e,t){var n=$.Deferred(),i=e.layer,r=e.features,o=i.getEditingLayer(),s=o.getSource(),u=i.getId(),d=t.session;if(r.length<2)l.showUserMessage({type:"warning",message:"Seleziona come minimo due features",autoclose:!0}),n.reject();else{var f=this.getMapService(),p=void 0,h=c({features:r,events:{click:function(e){p=e;var t=r[p];f.highlightGeometry(t.getGeometry(),{zoom:!1,color:"red"})}}});l.showModalDialog({title:"seleziona la feature",className:"modal-left",closeButton:!1,message:h,buttons:{cancel:{label:"Cancel",className:"btn-default",callback:function(){n.reject()}},ok:{label:"Ok",className:"btn-primary",callback:function(){if(void 0!==p){var t=r[p],i=t.clone(),o=a({features:r,index:p});o?(d.pushUpdate(u,o,i),r.splice(p,1),r.forEach(function(e){d.pushDelete(u,e),s.removeFeature(e)}),e.features=[t],n.resolve(e)):(l.showUserMessage({type:"warning",message:"No feature disolved",autoclose:!0}),n.reject())}else l.showUserMessage({type:"warning",message:"No feature selected",autoclose:!0}),n.reject()}}}})}return n.promise()},u.stop=function(){this.removeInteraction(this._pickInteraction)},t.exports=i},{"../../../vue/components/selectfeatures/selectfeatures":25,"./editingtask":76}],80:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.drawInteraction=null,this._originalStyle=null,this._feature=null,this._deleteCondition=e.deleteCondition||void 0,this._snap=e.snap!==!1,this._snapInteraction=null,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask");r(i,a);var s=i.prototype;s.run=function(e,t){var n=$.Deferred(),i=e.layer,r=i.getEditingLayer(),o=t.session,a=i.getId(),s=void 0,l=void 0,c=this._feature=e.features[0];this._originalStyle=r.getStyle();var u=[new ol.style.Style({stroke:new ol.style.Stroke({color:"grey",width:3})}),new ol.style.Style({image:new ol.style.Circle({radius:5,fill:new ol.style.Fill({color:"orange"})}),geometry:function(e){var t=e.getGeometry().getCoordinates()[0];return new ol.geom.MultiPoint(t)}})];c.setStyle(u);var d=new ol.Collection(e.features);return this._modifyInteraction=new ol.interaction.Modify({features:d,deleteCondition:this._deleteCondition}),this.addInteraction(this._modifyInteraction),this._modifyInteraction.on("modifystart",function(e){var t=e.features.getArray()[0];s=t.clone()}),this._modifyInteraction.on("modifyend",function(t){var i=t.features.getArray()[0];i.getGeometry().getExtent()!==s.getGeometry().getExtent()&&(l=i.clone(),o.pushUpdate(a,l,s),e.features.push(l),n.resolve(e))}),n.promise()},s.stop=function(){return this._snapInteraction&&(this.removeInteraction(this._snapInteraction),this._snapInteraction=null),this._feature.setStyle(this._originalStyle),this.removeInteraction(this._modifyInteraction),this._modifyInteraction=null,!0},s.removePoint=function(e){if(this._modifyInteraction)try{this._modifyInteraction.removePoint()}catch(t){}},s._isNew=function(e){return!_.isNil(this.editingLayer.getEditingSource().getFeatureById(e.getId()))},t.exports=i},{"./editingtask":76}],81:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e)}var r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=e("./editingtask");o(i,s);var l=i.prototype;l.getDeltaXY=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y,i=e.coordinates,r=function a(e){return Array.isArray(e[0])?a(e[0]):{x:e[0],y:e[1]}},o=r(i);return{x:t-o.x,y:n-o.y}},l.run=function(e,t){var n=this,i=$.Deferred(),o=e.layer,a=e.features,s=e.coordinates,l=o.getEditingLayer().getSource(),c=o.getId(),u=t.session;return this._snapIteraction=new ol.interaction.Snap({source:l,edge:!1}),this._drawInteraction=new ol.interaction.Draw({type:"Point",features:new ol.Collection}),this._drawInteraction.on("drawend",function(t){for(var d=t.feature.getGeometry().getCoordinates(),f=r(d,2),p=f[0],h=f[1],v=s?n.getDeltaXY({x:p,y:h,coordinates:s}):null,g=a.length,y=0;y<g;y++){var m=a[y].cloneNew();if(v)m.getGeometry().translate(v.x,v.y);else{var _=m.getGeometry().getCoordinates(),w=n.getDeltaXY({x:p,y:h,coordinates:_});m.getGeometry().translate(w.x,w.y)}n.setNullMediaFields({feature:m,layer:o}),l.addFeature(m),u.pushAdd(c,m),e.features.push(m)}n._steps.to.done=!0,i.resolve(e)}),this.addInteraction(this._drawInteraction),this.addInteraction(this._snapIteraction),i.promise()},l.stop=function(){return this.removeInteraction(this._drawInteraction),this.removeInteraction(this._snapIteraction),this._drawInteraction=null,this._snapIteraction=null,!0},t.exports=i},{"./editingtask":76}],82:[function(e,t,n){function i(e){this.drawInteraction=null,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=e("./editingtask");r(i,a);var s=i.prototype;s.run=function(e,t){var n=$.Deferred(),i=e.layer,r=t.session,o=i.getId(),a=new ol.Collection(e.features),s=null;return this._translateInteraction=new ol.interaction.Translate({features:a,hitTolerance:isMobile&&isMobile.any?10:0}),this.addInteraction(this._translateInteraction),this._translateInteraction.on("translatestart",function(e){var t=e.features.getArray()[0];s=t.clone()}),this._translateInteraction.on("translateend",function(t){var i=t.features.getArray()[0],a=i.clone();r.pushUpdate(o,a,s),n.resolve(e)}),n.promise()},s.stop=function(){this.removeInteraction(this._translateInteraction),this._translateInteraction=null},t.exports=i},{"./editingtask":76}],83:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._edit_relations=void 0===e.edit_relations||e._edit_relations,this._formIdPrefix="form_",this._isContentChild=!1,this._feature,this._originalLayer,this._editingLayer,this._layerName,this._originalFeature,this._fields,this._session,this._editorFormStructure,o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=(g3wsdk.core.i18n.tPlugin,g3wsdk.gui.GUI),s=g3wsdk.core.workflow.WorkflowsStack,l=e("./editingtask"),c=e("../../../form/editingform");r(i,l),t.exports=i;var u=i.prototype;u._getFieldUniqueValuesFromServer=function(e,t){var n=_.map(t,function(e){return e.name});e.getWidgetData({type:"unique",fields:n.join()}).then(function(e){var n=e.data;_.forEach(n,function(e,n){e.forEach(function(e){t[n].input.options.values.push(e)})})}).fail(function(e){})},u._getUniqueFieldsType=function(e){var t={};return e.forEach(function(e){e.input&&"unique"===e.input.type&&(t[e.name]=e)}),t},u._getForm=function(e,t){var n=t.excludeFields;if(this._isContentChild=!!(s.getLength()>1),this._session=t.session,this._originalLayer=e.layer,this._editingLayer=this._originalLayer.getEditingLayer(),this._layerName=this._originalLayer.getName(),this._feature=e.features[e.features.length-1],this._originalFeature=this._feature.clone(),this._fields=this._originalLayer.getFieldsWithValues(this._feature,{exclude:n}),this._originalLayer.hasFormStructure()){var i=this._originalLayer.getEditorFormStructure();this._editorFormStructure=i.length?i:null}var r=this._getUniqueFieldsType(this._fields);return!_.isEmpty(r)&&this._getFieldUniqueValuesFromServer(this._originalLayer,r),a.showContentFactory("form")},u._cancelFnc=function(e,t){return function(){a.setModal(!1),this.fireEvent("closeform",{}),e.reject(t)}},u._saveFnc=function(e,t,n){return function(i){var r=this,o=t.session,s=this._originalLayer.getId();this._originalLayer.setFieldsWithValues(this._feature,i);var l=this._feature.clone();this._isContentChild&&(n.relationFeature={newFeature:l,originalFeature:this._originalFeature}),this.fireEvent("saveform",{newFeature:l,originalFeature:this._originalFeature}).then(function(){o.pushUpdate(s,l,r._originalFeature),a.setModal(!1),e.resolve(n)})}},u.startForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inputs,n=e.context,i=e.promise,r=n.session,o=e.formComponent||c,a=this._getForm(t,n),l=this._originalLayer.getId(),u=this._originalFeature.isNew(),d=a({formComponent:o,title:"plugins.editing.editing_attributes",name:this._layerName,id:this._generateFormId(this._layerName),dataid:this._layerName,layer:this._originalLayer,isnew:u,fields:this._fields,context_inputs:this._edit_relations&&{context:n,inputs:t},formStructure:this._editorFormStructure,modal:!0,perc:this._editorFormStructure?100:null,push:this._isContentChild,showgoback:!this._isContentChild,buttons:[{title:this._isContentChild?"plugins.editing.form.buttons.save_and_back":"plugins.editing.form.buttons.save",type:"save","class":"btn-success",cbk:this._saveFnc(i,n,t).bind(this)},{title:"plugins.editing.form.buttons.cancel",type:"cancel","class":"btn-danger",cbk:this._cancelFnc(i,t).bind(this)}]});this.fireEvent("openform",{layerId:l,session:r,feature:this._originalFeature,formService:d}),s.getCurrent().setContextService(d)},u.run=function(e,t){var n=$.Deferred();return this.startForm({inputs:e,context:t,promise:n}),this.disableSidebar(!0),n.promise()},u._generateFormId=function(e){return this._formIdPrefix+e},u.stop=function(){this.disableSidebar(!1),this._isContentChild?a.popContent():a.closeForm()}},{"../../../form/editingform":12,"./editingtask":76}],84:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._formIdPrefix="form_",o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.gui.GUI,s=e("../../../table/vue/table"),l=e("./editingtask"),c=g3wsdk.core.workflow.WorkflowsStack;r(i,l);var u=i.prototype;u.run=function(e,t){var n=$.Deferred(),i=e.layer,r=i.getName(),o=i.getEditingFields();this._isContentChild=c.getLength()>1;var l=this._isContentChild?t.excludeFields[0]:null,u=this._isContentChild&&t.exclude,d=i.getEditingLayer(),f=d.readEditingFeatures();if(u&&f.length){var p=u.value;f=f.filter(function(e){var t=e.get(l);return t!=p})}var h=new s({title:""+r,features:f,promise:n,push:this._isContentChild,headers:o,context:t,inputs:e,fatherValue:t.fatherValue,foreignKey:l});return a.showContent({content:h,push:this._isContentChild,showgoback:!1,closable:!1}),this.disableSidebar(!0),n.promise()},u._generateFormId=function(e){return""+this._formIdPrefix+e},u.stop=function(){this.disableSidebar(!1),this._isContentChild?a.popContent():a.closeContent()},t.exports=i},{"../../../table/vue/table":20,"./editingtask":76}],85:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options={highlight:e.highlight||!1,multi:e.multi||!1},this.pickFeatureInteraction=null,this._busy=!1,this._tools=e.tools||[],o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.ol.interactions.PickFeatureInteraction,s=e("./editingtask");r(i,s);var l=i.prototype;l.run=function(e,t,n){var i=this,r=$.Deferred(),o=e.layer.getEditingLayer(),s=[o],l=void 0;return this.pickFeatureInteraction=new a({layers:s,features:e.features}),this.addInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction.on("picked",function(t){var o=t.feature;l=i.setFeaturesSelectedStyle([o]),0===e.features.length&&e.features.push(o),n.micro.addTask(function(){e.features.forEach(function(e){return e.setStyle(l)})}),i._steps&&i.setUserMessageStepDone("select"),r.resolve(e)}),r.promise()},l.stop=function(){return this.removeInteraction(this.pickFeatureInteraction),this.pickFeatureInteraction=null,!0},t.exports=i},{"./editingtask":76}],86:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._type=e.type||"bbox",this._selectInteractions=[],this._originalStyle,this._vectorLayer,a(this,e)}var r=g3wsdk.core.ApplicationState,o=g3wsdk.core.utils.inherit,a=g3wsdk.core.utils.base,s=e("./editingtask"),l=g3wsdk.ol.interactions.PickFeatureInteraction;o(i,s);var c=i.prototype;c.addSingleSelectInteraction=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layer,i=t.inputs,r=t.promise,o=new l({layers:[n.getEditingLayer()]});o.on("picked",function(t){var n=t.feature,o=[n];n&&(i.features=o,e._originalStyle=e.setFeaturesSelectedStyle(o),e.setUserMessageStepDone("select"),r.resolve(i))}),this._selectInteractions.push(o),this.addInteraction(o)},c.addMultipleSelectInteraction=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layer,i=t.inputs,o=t.promise,a=void 0;if(r.ismobile){var s=ol.interaction.Draw.createBox(),l=new ol.source.Vector({});this._vectorLayer=new ol.layer.Vector({source:l}),this.getMap().addLayer(this._vectorLayer),a=new ol.interaction.Draw({type:"Circle",source:l,geometryFunction:s}),a.on("drawend",function(t){var r=t.feature,a=r.getGeometry().getExtent(),s=n.getEditingLayer().getSource(),l=s.getFeaturesInExtent(a);l.length?(i.features=l,e._originalStyle=e.setFeaturesSelectedStyle(l),e.setUserMessageStepDone("select"),
setTimeout(function(){o.resolve(i)},500)):o.reject()})}else a=new ol.interaction.DragBox({condition:ol.events.condition.shiftKeyOnly}),a.on("boxend",function(){var t=a.getGeometry().getExtent(),r=n.getEditingLayer().getSource(),s=r.getFeaturesInExtent(t);s.length?(i.features=s,e._originalStyle=e.setFeaturesSelectedStyle(s),e.setUserMessageStepDone("select"),o.resolve(i)):o.reject()});this._selectInteractions.push(a),this.addInteraction(a),PIPPO=this._selectInteractions,MAP=this.getMapService().getMap()},c.run=function(e,t,n){var i=this,r=e.layer,o=$.Deferred();switch(this._type){case"single":this.addSingleSelectInteraction({layer:r,inputs:e,promise:o});break;case"multiple":this.addSingleSelectInteraction({layer:r,inputs:e,promise:o}),this.addMultipleSelectInteraction({layer:r,inputs:e,promise:o});break;case"bbox":this.addMultipleSelectInteraction({layer:r,inputs:e,promise:o})}return n.micro.addTask(function(){e.features.forEach(function(e){return e.setStyle(i._originalStyle)})}),o.promise()},c.stop=function(e,t){var n=this;this._selectInteractions.forEach(function(e){n.removeInteraction(e)}),this._vectorLayer&&this.getMap().removeLayer(this._vectorLayer),this._vectorLayer=null,this._originalStyle=null,this._selectInteractions=[]},t.exports=i},{"./editingtask":76}],87:[function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e)}var r=g3wsdk.core.utils.inherit,o=g3wsdk.core.utils.base,a=g3wsdk.core.geoutils,s=(a.splitFeature,a.splitFeatures),l=g3wsdk.core.layer.features.Feature,c=g3wsdk.gui.GUI,u=e("./editingtask");r(i,u);var d=i.prototype;d.run=function(e,t){var n=this,i=$.Deferred(),r=e.layer,o=e.features,a=r.getEditingLayer().getSource(),l=t.session;return this._snapIteraction=new ol.interaction.Snap({source:a,edge:!0}),this._drawInteraction=new ol.interaction.Draw({type:"LineString",features:new ol.Collection,freehandCondition:ol.events.condition.never}),this._drawInteraction.on("drawend",function(t){var r=t.feature,a=!1,u=s({splitfeature:r,features:o});u.forEach(function(t){var i=t.uid,r=t.geometries;if(r.length>1){a=!0;var s=o.find(function(e){return e.getUid()===i});n._handleSplitFeature({feature:s,splittedGeometries:r,inputs:e,session:l})}}),a?i.resolve(e):(c.showUserMessage({type:"warning",message:"plugins.editing.messages.nosplittedfeature",autoclose:!0}),i.reject())}),this.addInteraction(this._drawInteraction),this.addInteraction(this._snapIteraction),i.promise()},d._handleSplitFeature=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.feature,i=t.inputs,r=t.session,o=t.splittedGeometries,a=void 0===o?[]:o,s=[],u=i.layer,d=u.getEditingLayer().getSource(),f=u.getId(),p=n.clone();return i.features=a.length?[]:i.features,a.forEach(function(t,o){if(0===o)n.setGeometry(t),r.pushUpdate(f,n,p);else{var a=p.cloneNew();a.setGeometry(t),e.setNullMediaFields({layer:u,feature:a}),n=new l({feature:a}),n.setTemporaryId(),d.addFeature(n),s.push(r.pushAdd(f,n))}i.features.push(n)}),c.showUserMessage({type:"success",message:"plugins.editing.messages.splitted",autoclose:!0}),s},d.stop=function(){this.removeInteraction(this._drawInteraction),this.removeInteraction(this._snapIteraction),this._drawInteraction=null,this._snapIteraction=null},t.exports=i},{"./editingtask":76}]},{},[14]);