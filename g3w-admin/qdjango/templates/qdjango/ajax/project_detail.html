{% load i18n %}
{% load auth_extras %}
<div id="accordion" class="box-group">
    <div class="panel box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#general">
                    {% trans 'General' %}
                </a>
            </h4>
        </div>
        <div id="general" class="panel-collapse collapse in">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-6">
                        {%if user.is_superuser %}
                        <h3>{%trans 'Users' %}:</h3>
                        <ul class="list-unstyled">
                            {% if user.is_superuser %}
                                <li><strong>{%trans 'Editor level 1 user'%}</strong>: {% if object.editor %}{{object.editor|safe}}{% endif %}</li>
                            {% endif %}
                            {% if user.is_superuser or user|has_group:"Editor Maps Groups" %}
                                <li><strong>{%trans 'Editor level 2 user'%}</strong>: {% if object.editor2 %}{{object.editor2|safe}}{% endif %}</li>
                                <li><strong>{%trans 'Viewer users'%}</strong>: {{object.viewers|safeseq|join:", "}}</li>
                                <li><strong>{%trans 'Editor user groups'%}</strong>: {{object.editor_user_groups|safeseq|join:", "}}</li>
                                <li><strong>{%trans 'Viewer user groups'%}</strong>: {{object.viewer_user_groups|safeseq|join:", "}}</li>
                            {% endif %}
                        </ul>
                        {% endif %}
                        </br>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li>
                            <h4>{% trans 'Thumbnail' %}</h4>
                                {% if object.thumbnail %}
                                <a href="{{ MEDIA_URL }}{{ object.thumbnail }}"><img style="height: 120px;" src="{{ MEDIA_URL }}{{ object.thumbnail }}" /></a>
                                {% else %}
                                <img src="https://via.placeholder.com/160x120" />
                                {% endif %}
                            </li>
                            <li>
                                <h4>{% trans 'Qgis project Version:' %}</h4>
                                <span>{{ object.qgis_version }}</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% if widgets %}
    <div class="panel box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#widget">
                    {% trans 'Widgets' %}
                </a>
            </h4>
        </div>
        <div id="widget" class="panel-collapse collapse">
            <div class="box-body">
                <div>
                <p>Search widgets:</p>
                <table class="table">
                    <thead>
                        <tr>
                            <th>{% trans 'Layer name' %}</th>
                            <th>{% trans 'Search name' %}</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for w in widgets %}
                        <tr>
                            <td>{{ w.0 }}</td>
                            <td>{{ w.1 }}</td>
                        </tr>
                    {%  endfor %}
                    </tbody>
                </table>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    {% if editings %}
    <div class="panel box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#editing">
                    {% trans 'Editing properties' %}
                </a>
            </h4>
        </div>
        <div id="editing" class="panel-collapse collapse">
            <div class="box-body">
                widget
            </div>
        </div>
    </div>
    {% endif %}
    {% if geoconstraints %}
    <div class="panel box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#geoconstraint">
                    {% trans 'Geometric constraints' %}
                </a>
            </h4>
        </div>
        <div id="geoconstraint" class="panel-collapse collapse">
            <div class="box-body">
                widget
            </div>
        </div>
    </div>
    {% endif %}
    {% if expconstraints %}
    <div class="panel box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#expconstraint">
                    {% trans 'Expression constraints' %}
                </a>
            </h4>
        </div>
        <div id="expconstraint" class="panel-collapse collapse">
            <div class="box-body">

            </div>
        </div>
    </div>
    {% endif %}
    {% if hiddenlayers %}
    <div class="panel box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#hiddenlayer">
                    {% trans 'Hidden layers' %}
                </a>
            </h4>
        </div>
        <div id="hiddenlayer" class="panel-collapse collapse">
            <div class="box-body">

            </div>
        </div>
    </div>
    {% endif %}
    {% if hiddenfields %}
    <div class="panel box box-primary">
        <div class="box-header with-border">
            <h4 class="box-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#hiddenfield">
                    {% trans 'Hidden fields' %}
                </a>
            </h4>
        </div>
        <div id="hiddenfield" class="panel-collapse collapse">
            <div class="box-body">

            </div>
        </div>
    </div>
    {% endif %}
</div>
